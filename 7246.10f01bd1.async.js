"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[7246],{57246:function(ye,B,l){l.d(B,{GU:function(){return ie},mg:function(){return M.mg},hm:function(){return se},be:function(){return te}});var V=l(77117),g=l.n(V),K=l(67855),X=l.n(K),Z=l(38887),z=l.n(Z),J=l(95530),Y=l.n(J),$=l(50959),A=l(186),x=l(13448),s=l.n(x),q=l(74815),m=l.n(q),_=l(28152),O=l.n(_),S=l(34609),U=l(32836);function ee(d,r){return F.apply(this,arguments)}function F(){return F=m()(s()().mark(function d(r,v){var o;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,U.Lk)({address:r.address,chainId:v});case 2:return o=t.sent,t.abrupt("return",g()(g()({},r),{},{name:o??void 0}));case 4:case"end":return t.stop()}},d)})),F.apply(this,arguments)}function ne(d,r,v){return Q.apply(this,arguments)}function Q(){return Q=m()(s()().mark(function d(r,v,o){var a,t;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,U.a4)({address:(0,S.O_)(r),args:[v],chainId:o,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return a=n.sent,n.next=5,(0,S.Xw)(a);case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}},d)})),Q.apply(this,arguments)}var E=l(11527),ae=function(r){var v,o=r.children,a=r.assets,t=r.availableChains,f=r.availableConnectors,n=r.ens,k=r.balance,P=r.locale,I=(0,A.mA)(),C=I.address,R=I.isDisconnected,j=$.useState(),D=O()(j,2),p=D[0],N=D[1],le=(0,A.$4)(),ce=le.connectAsync,oe=(0,A.g0)(),L=oe.switchNetwork,de=(0,A.LN)(),y=de.chain,ve=(0,A.qL)(),fe=ve.disconnectAsync,he=$.useState(void 0),G=O()(he,2),w=G[0],H=G[1],me=(0,A.KQ)({address:k&&p?(0,S.O_)(p.address):void 0}),b=me.data;$.useEffect(function(){if(!C||R){N(void 0);return}var u=function(){var e=m()(s()().mark(function i(){var h;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(h={address:C},c.t0=N,!n){c.next=8;break}return c.next=5,ee(h);case 5:c.t1=c.sent,c.next=9;break;case 8:c.t1=h;case 9:c.t2=c.t1,(0,c.t0)(c.t2);case 11:case"end":return c.stop()}},i)}));return function(){return e.apply(this,arguments)}}();u()},[C,R,y,n]);var pe=$.useMemo(function(){return f.map(function(u){var e=a==null?void 0:a.find(function(i){return i.name===u.name});return e!=null&&e.create?e.create(u):(console.error("Can not find wallet factory for ".concat(u.name,", you should config it in WagmiWeb3ConfigProvider 'assets'.")),null)}).filter(function(u){return u!==null})},[f,a]),ge=$.useMemo(function(){return t.map(function(u){var e=a==null?void 0:a.find(function(i){return i.id===u.id});return e!=null&&e.id?{id:e.id,name:e.name,icon:e.icon}:(console.error("Can not find chain ".concat(u.id,", you should config it in WagmiWeb3ConfigProvider 'assets'.")),null)}).filter(function(u){return u!==null})},[t,a]);return $.useEffect(function(){var u;if(!(!y&&w)){var e=y??t[0];if(e){var i=a==null?void 0:a.find(function(h){return h.id===(e==null?void 0:e.id)});(u=i)!==null&&u!==void 0&&u.id||(i={id:e.id,name:e.name}),H(i)}}},[y,a,t,w]),(0,E.jsx)(S.BQ,{locale:P,availableChains:ge,chain:w,account:p,balance:k?{symbol:b==null?void 0:b.symbol,value:b==null?void 0:b.value,decimals:b==null?void 0:b.decimals,icon:w==null||(v=w.nativeCurrency)===null||v===void 0?void 0:v.icon}:void 0,availableWallets:pe,connect:function(){var u=m()(s()().mark(function e(i){var h;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return h=f.find(function(T){return T.name===(i==null?void 0:i.name)}),c.next=3,ce({connector:h,chainId:w==null?void 0:w.id});case 3:case"end":return c.stop()}},e)}));return function(e){return u.apply(this,arguments)}}(),disconnect:m()(s()().mark(function u(){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fe();case 2:case"end":return i.stop()}},u)})),switchChain:function(){var u=m()(s()().mark(function e(i){return s()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:y?L==null||L(i.id):H(i);case 1:case"end":return W.stop()}},e)}));return function(e){return u.apply(this,arguments)}}(),getNFTMetadata:function(){var u=m()(s()().mark(function e(i){var h,W;return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h=i.address,W=i.tokenId,T.abrupt("return",ne(h,W,y==null?void 0:y.id));case 2:case"end":return T.stop()}},e)}));return function(e){return u.apply(this,arguments)}}(),children:o})},M=l(7502),re={name:"MetaMask",create:function(){return g()(g()({},M.Zv),{},{hasWalletReady:function(){var r=m()(s()().mark(function o(){var a;return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",!!((a=window.ethereum)!==null&&a!==void 0&&a.isMetaMask));case 1:case"end":return f.stop()}},o)}));function v(){return r.apply(this,arguments)}return v}()})}},te={name:"WalletConnect",create:function(r){var v=function(){var o=m()(s()().mark(function a(){var t;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r==null?void 0:r.getProvider();case 2:return t=n.sent,n.abrupt("return",new Promise(function(k){t.on("display_uri",function(P){k({uri:P})})}));case 4:case"end":return n.stop()}},a)}));return function(){return o.apply(this,arguments)}}();return g()(g()({},M.Tl),{},{hasWalletReady:function(){var o=m()(s()().mark(function t(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",!0);case 1:case"end":return n.stop()}},t)}));function a(){return o.apply(this,arguments)}return a}(),getQrCode:(r==null?void 0:r.options.showQrModal)===!1?v:void 0})}},ie={name:"Coinbase Wallet",create:function(){return g()(g()({},M.p_),{},{hasWalletReady:function(){var r=m()(s()().mark(function o(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},o)}));function v(){return r.apply(this,arguments)}return v}()})}},ue=["children","assets","ens","locale","balance","config"];function se(d){var r=d.children,v=d.assets,o=v===void 0?[]:v,a=d.ens,t=d.locale,f=d.balance,n=d.config,k=Y()(d,ue),P=$.useMemo(function(){var I,C=[],R=z()(n.connectors),j;try{for(R.s();!(j=R.n()).done;){var D=j.value;D.chains.forEach(function(p){C.find(function(N){return N.id===p.id})||C.push(p)})}}catch(p){R.e(p)}finally{R.f()}return(I=n.publicClient.chains)===null||I===void 0||I.forEach(function(p){C.find(function(N){return N.id===p.id})||C.push(p)}),C},[n]);return(0,E.jsx)(A.eM,g()(g()({config:n},k),{},{children:(0,E.jsx)(ae,{locale:t,assets:[].concat(X()(o),[re,M.ny,M.Du]),availableChains:P,availableConnectors:n.connectors||[],ens:a,balance:f,children:r})}))}}}]);
