!(function(){var Pb=Object.defineProperty;var Rb=(B,u,x)=>u in B?Pb(B,u,{enumerable:!0,configurable:!0,writable:!0,value:x}):B[u]=x;var O=(B,u,x)=>(Rb(B,typeof u!="symbol"?u+"":u,x),x);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1842],{64230:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(f){f[f.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},61125:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var f=x(64230);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var l=x(20181);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return l.KeyPair}});var v=x(29624);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var w=x(61624);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return w.PublicKey}})},20181:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const f=x(61736),l=x(29624);class v extends f.KeyPairBase{static fromRandom(g){switch(g.toUpperCase()){case"ED25519":return l.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${g}`)}}static fromString(g){const p=g.split(":");if(p.length===1)return new l.KeyPairEd25519(p[0]);if(p.length===2)switch(p[0].toUpperCase()){case"ED25519":return new l.KeyPairEd25519(p[1]);default:throw new Error(`Unknown curve: ${p[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=v},61736:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},29624:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const l=x(48797),v=f(x(15711)),w=x(64230),g=x(61736),p=x(61624);class h extends g.KeyPairBase{constructor(E){super();const I=v.default.sign.keyPair.fromSecretKey((0,l.baseDecode)(E));this.publicKey=new p.PublicKey({keyType:w.KeyType.ED25519,data:I.publicKey}),this.secretKey=E}static fromRandom(){const E=v.default.sign.keyPair();return new h((0,l.baseEncode)(E.secretKey))}sign(E){return{signature:v.default.sign.detached(E,(0,l.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(E,I){return this.publicKey.verify(E,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},61624:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const l=x(95036),v=x(48797),w=f(x(15711)),g=x(64230);function p(E){switch(E){case g.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${E}`)}}function h(E){switch(E.toLowerCase()){case"ed25519":return g.KeyType.ED25519;default:throw new Error(`Unknown key type ${E}`)}}class S extends l.Assignable{static from(I){return typeof I=="string"?S.fromString(I):I}static fromString(I){const R=I.split(":");if(R.length===1)return new S({keyType:g.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new S({keyType:h(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${p(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,R){switch(this.keyType){case g.KeyType.ED25519:return w.default.sign.detached.verify(I,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=S},76895:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(f){f[f.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},38369:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var f=x(76895);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var l=x(89055);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return l.KeyPair}});var v=x(75713);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var w=x(21833);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return w.PublicKey}})},89055:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const f=x(34980),l=x(75713);class v extends f.KeyPairBase{static fromRandom(g){switch(g.toUpperCase()){case"ED25519":return l.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${g}`)}}static fromString(g){const p=g.split(":");if(p.length===1)return new l.KeyPairEd25519(p[0]);if(p.length===2)switch(p[0].toUpperCase()){case"ED25519":return new l.KeyPairEd25519(p[1]);default:throw new Error(`Unknown curve: ${p[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=v},34980:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},75713:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const l=x(48797),v=f(x(15711)),w=x(76895),g=x(34980),p=x(21833);class h extends g.KeyPairBase{constructor(E){super();const I=v.default.sign.keyPair.fromSecretKey((0,l.baseDecode)(E));this.publicKey=new p.PublicKey({keyType:w.KeyType.ED25519,data:I.publicKey}),this.secretKey=E}static fromRandom(){const E=v.default.sign.keyPair();return new h((0,l.baseEncode)(E.secretKey))}sign(E){return{signature:v.default.sign.detached(E,(0,l.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(E,I){return this.publicKey.verify(E,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},21833:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const l=x(85918),v=x(48797),w=f(x(15711)),g=x(76895);function p(E){switch(E){case g.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${E}`)}}function h(E){switch(E.toLowerCase()){case"ed25519":return g.KeyType.ED25519;default:throw new Error(`Unknown key type ${E}`)}}class S extends l.Assignable{static from(I){return typeof I=="string"?S.fromString(I):I}static fromString(I){const R=I.split(":");if(R.length===1)return new S({keyType:g.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new S({keyType:h(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${p(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,R){switch(this.keyType){case g.KeyType.ED25519:return w.default.sign.detached.verify(I,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=S},64091:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(p,h,S,E){function I(R){return R instanceof S?R:new S(function(P){P(R)})}return new(S||(S=Promise))(function(R,P){function y(z){try{N(E.next(z))}catch(Y){P(Y)}}function U(z){try{N(E.throw(z))}catch(Y){P(Y)}}function N(z){z.done?R(z.value):I(z.value).then(y,U)}N((E=E.apply(p,h||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.BrowserLocalStorageKeyStore=void 0;const l=x(61125),v=x(38149),w="near-api-js:keystore:";class g extends v.KeyStore{constructor(h=window.localStorage,S=w){super(),this.localStorage=h,this.prefix=S}setKey(h,S,E){return f(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(h,S),E.toString())})}getKey(h,S){return f(this,void 0,void 0,function*(){const E=this.localStorage.getItem(this.storageKeyForSecretKey(h,S));return E?l.KeyPair.fromString(E):null})}removeKey(h,S){return f(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(h,S))})}clear(){return f(this,void 0,void 0,function*(){for(const h of this.storageKeys())h.startsWith(this.prefix)&&this.localStorage.removeItem(h)})}getNetworks(){return f(this,void 0,void 0,function*(){const h=new Set;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const E=S.substring(this.prefix.length).split(":");h.add(E[1])}return Array.from(h.values())})}getAccounts(h){return f(this,void 0,void 0,function*(){const S=new Array;for(const E of this.storageKeys())if(E.startsWith(this.prefix)){const I=E.substring(this.prefix.length).split(":");I[1]===h&&S.push(I[0])}return S})}storageKeyForSecretKey(h,S){return`${this.prefix}${S}:${h}`}*storageKeys(){for(let h=0;h<this.localStorage.length;h++)yield this.localStorage.key(h)}}u.BrowserLocalStorageKeyStore=g},67265:function(B,u,x){"use strict";var f;f={value:!0},u.X=void 0;var l=x(64091);Object.defineProperty(u,"X",{enumerable:!0,get:function(){return l.BrowserLocalStorageKeyStore}})},62384:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(g,p,h,S){function E(I){return I instanceof h?I:new h(function(R){R(I)})}return new(h||(h=Promise))(function(I,R){function P(N){try{U(S.next(N))}catch(z){R(z)}}function y(N){try{U(S.throw(N))}catch(z){R(z)}}function U(N){N.done?I(N.value):E(N.value).then(P,y)}U((S=S.apply(g,p||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.InMemoryKeyStore=void 0;const l=x(61125),v=x(56363);class w extends v.KeyStore{constructor(){super(),this.keys={}}setKey(p,h,S){return f(this,void 0,void 0,function*(){this.keys[`${h}:${p}`]=S.toString()})}getKey(p,h){return f(this,void 0,void 0,function*(){const S=this.keys[`${h}:${p}`];return S?l.KeyPair.fromString(S):null})}removeKey(p,h){return f(this,void 0,void 0,function*(){delete this.keys[`${h}:${p}`]})}clear(){return f(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return f(this,void 0,void 0,function*(){const p=new Set;return Object.keys(this.keys).forEach(h=>{const S=h.split(":");p.add(S[1])}),Array.from(p.values())})}getAccounts(p){return f(this,void 0,void 0,function*(){const h=new Array;return Object.keys(this.keys).forEach(S=>{const E=S.split(":");E[E.length-1]===p&&h.push(E.slice(0,E.length-1).join(":"))}),h})}toString(){return"InMemoryKeyStore"}}u.InMemoryKeyStore=w},38149:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=u.KeyStore=u.InMemoryKeyStore=void 0;var f=x(62384);Object.defineProperty(u,"InMemoryKeyStore",{enumerable:!0,get:function(){return f.InMemoryKeyStore}});var l=x(56363);Object.defineProperty(u,"KeyStore",{enumerable:!0,get:function(){return l.KeyStore}});var v=x(73917);Object.defineProperty(u,"MergeKeyStore",{enumerable:!0,get:function(){return v.MergeKeyStore}})},56363:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyStore=void 0;class x{}u.KeyStore=x},73917:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(w,g,p,h){function S(E){return E instanceof p?E:new p(function(I){I(E)})}return new(p||(p=Promise))(function(E,I){function R(U){try{y(h.next(U))}catch(N){I(N)}}function P(U){try{y(h.throw(U))}catch(N){I(N)}}function y(U){U.done?E(U.value):S(U.value).then(R,P)}y((h=h.apply(w,g||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=void 0;const l=x(56363);class v extends l.KeyStore{constructor(g,p={writeKeyStoreIndex:0}){super(),this.options=p,this.keyStores=g}setKey(g,p,h){return f(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(g,p,h)})}getKey(g,p){return f(this,void 0,void 0,function*(){for(const h of this.keyStores){const S=yield h.getKey(g,p);if(S)return S}return null})}removeKey(g,p){return f(this,void 0,void 0,function*(){for(const h of this.keyStores)yield h.removeKey(g,p)})}clear(){return f(this,void 0,void 0,function*(){for(const g of this.keyStores)yield g.clear()})}getNetworks(){return f(this,void 0,void 0,function*(){const g=new Set;for(const p of this.keyStores)for(const h of yield p.getNetworks())g.add(h);return Array.from(g)})}getAccounts(g){return f(this,void 0,void 0,function*(){const p=new Set;for(const h of this.keyStores)for(const S of yield h.getAccounts(g))p.add(S);return Array.from(p)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}u.MergeKeyStore=v},48788:function(B,u,x){"use strict";var f=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0}),u.actionCreators=u.stringifyJsonOrBytes=void 0;const l=x(7632);function v(){return new l.AccessKey({permission:new l.AccessKeyPermission({fullAccess:new l.FullAccessPermission({})})})}function w(N,z,Y){return new l.AccessKey({permission:new l.AccessKeyPermission({functionCall:new l.FunctionCallPermission({receiverId:N,allowance:Y,methodNames:z})})})}function g(){return new l.Action({createAccount:new l.CreateAccount({})})}function p(N){return new l.Action({deployContract:new l.DeployContract({code:N})})}function h(N){return N.byteLength!==void 0&&N.byteLength===N.length?N:f.from(JSON.stringify(N))}u.stringifyJsonOrBytes=h;function S(N,z,Y,J,pe=h,W=!1){return W?new l.Action({functionCall:new l.FunctionCall({methodName:N,args:z,gas:Y,deposit:J})}):new l.Action({functionCall:new l.FunctionCall({methodName:N,args:pe(z),gas:Y,deposit:J})})}function E(N){return new l.Action({transfer:new l.Transfer({deposit:N})})}function I(N,z){return new l.Action({stake:new l.Stake({stake:N,publicKey:z})})}function R(N,z){return new l.Action({addKey:new l.AddKey({publicKey:N,accessKey:z})})}function P(N){return new l.Action({deleteKey:new l.DeleteKey({publicKey:N})})}function y(N){return new l.Action({deleteAccount:new l.DeleteAccount({beneficiaryId:N})})}function U({delegateAction:N,signature:z}){return new l.Action({signedDelegate:new l.SignedDelegate({delegateAction:N,signature:z})})}u.actionCreators={addKey:R,createAccount:g,deleteAccount:y,deleteKey:P,deployContract:p,fullAccessKey:v,functionCall:S,functionCallAccessKey:w,signedDelegate:U,stake:I,transfer:E}},7632:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Action=u.SignedDelegate=u.DeleteAccount=u.DeleteKey=u.AddKey=u.Stake=u.Transfer=u.FunctionCall=u.DeployContract=u.CreateAccount=u.IAction=u.AccessKey=u.AccessKeyPermission=u.FullAccessPermission=u.FunctionCallPermission=void 0;const f=x(85918);class l{constructor(pe){if(Object.keys(pe).length!==1)throw new Error("Enum can only take single value");Object.keys(pe).map(W=>{this[W]=pe[W],this.enum=W})}}class v extends f.Assignable{}u.FunctionCallPermission=v;class w extends f.Assignable{}u.FullAccessPermission=w;class g extends l{}u.AccessKeyPermission=g;class p extends f.Assignable{}u.AccessKey=p;class h extends f.Assignable{}u.IAction=h;class S extends h{}u.CreateAccount=S;class E extends h{}u.DeployContract=E;class I extends h{}u.FunctionCall=I;class R extends h{}u.Transfer=R;class P extends h{}u.Stake=P;class y extends h{}u.AddKey=y;class U extends h{}u.DeleteKey=U;class N extends h{}u.DeleteAccount=N;class z extends h{}u.SignedDelegate=z;class Y extends l{}u.Action=Y},51084:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createTransaction=void 0;const f=x(56855);function l(v,w,g,p,h,S){return new f.Transaction({signerId:v,publicKey:w,nonce:p,receiverId:g,actions:h,blockHash:S})}u.createTransaction=l},72864:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.buildDelegateAction=u.DelegateAction=void 0;const f=x(85918);class l extends f.Assignable{}u.DelegateAction=l;function v({actions:w,maxBlockHeight:g,nonce:p,publicKey:h,receiverId:S,senderId:E}){return new l({senderId:E,receiverId:S,actions:w,nonce:p,maxBlockHeight:g,publicKey:h})}u.buildDelegateAction=v},7782:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(v,w,g,p){p===void 0&&(p=g);var h=Object.getOwnPropertyDescriptor(w,g);(!h||("get"in h?!w.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return w[g]}}),Object.defineProperty(v,p,h)}:function(v,w,g,p){p===void 0&&(p=g),v[p]=w[g]}),l=this&&this.__exportStar||function(v,w){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(w,g)&&f(w,v,g)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(48788),u),l(x(7632),u),l(x(51084),u),l(x(72864),u),l(x(56855),u),l(x(65086),u),l(x(6409),u)},59659:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DelegateActionPrefix=void 0;const f=x(85918),l=Math.pow(2,30),v={MetaTransactions:366};class w extends f.Assignable{}class g extends w{constructor(S){super({prefix:l+S})}}class p extends g{constructor(){super(v.MetaTransactions)}}u.DelegateActionPrefix=p},56855:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SCHEMA=u.SignedTransaction=u.Transaction=u.decodeSignedTransaction=u.decodeTransaction=u.encodeTransaction=u.encodeSignedDelegate=u.encodeDelegateAction=void 0;const f=x(38369),l=x(85918),v=x(48797),w=x(7632),g=x(72864),p=x(59659),h=x(6409);function S(N){return new Uint8Array([...(0,v.serialize)(u.SCHEMA,new p.DelegateActionPrefix),...(0,v.serialize)(u.SCHEMA,N)])}u.encodeDelegateAction=S;function E(N){return(0,v.serialize)(u.SCHEMA,N)}u.encodeSignedDelegate=E;function I(N){return(0,v.serialize)(u.SCHEMA,N)}u.encodeTransaction=I;function R(N){return(0,v.deserialize)(u.SCHEMA,y,N)}u.decodeTransaction=R;function P(N){return(0,v.deserialize)(u.SCHEMA,U,N)}u.decodeSignedTransaction=P;class y extends l.Assignable{encode(){return I(this)}static decode(z){return R(z)}}u.Transaction=y;class U extends l.Assignable{encode(){return I(this)}static decode(z){return P(z)}}u.SignedTransaction=U,u.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[U,{kind:"struct",fields:[["transaction",y],["signature",h.Signature]]}],[y,{kind:"struct",fields:[["signerId","string"],["publicKey",f.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[w.Action]]]}],[f.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[w.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",w.AccessKeyPermission]]}],[w.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",w.FunctionCallPermission],["fullAccess",w.FullAccessPermission]]}],[w.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[w.FullAccessPermission,{kind:"struct",fields:[]}],[w.Action,{kind:"enum",field:"enum",values:[["createAccount",w.CreateAccount],["deployContract",w.DeployContract],["functionCall",w.FunctionCall],["transfer",w.Transfer],["stake",w.Stake],["addKey",w.AddKey],["deleteKey",w.DeleteKey],["deleteAccount",w.DeleteAccount],["signedDelegate",w.SignedDelegate]]}],[w.CreateAccount,{kind:"struct",fields:[]}],[w.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[w.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[w.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[w.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",f.PublicKey]]}],[w.AddKey,{kind:"struct",fields:[["publicKey",f.PublicKey],["accessKey",w.AccessKey]]}],[w.DeleteKey,{kind:"struct",fields:[["publicKey",f.PublicKey]]}],[w.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[g.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[w.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",f.PublicKey]]}],[p.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[w.SignedDelegate,{kind:"struct",fields:[["delegateAction",g.DelegateAction],["signature",h.Signature]]}]])},65086:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(R,P,y,U){function N(z){return z instanceof y?z:new y(function(Y){Y(z)})}return new(y||(y=Promise))(function(z,Y){function J(Q){try{W(U.next(Q))}catch(Z){Y(Z)}}function pe(Q){try{W(U.throw(Q))}catch(Z){Y(Z)}}function W(Q){Q.done?z(Q.value):N(Q.value).then(J,pe)}W((U=U.apply(R,P||[])).next())})},l=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(u,"__esModule",{value:!0}),u.signDelegateAction=u.signTransaction=void 0;const v=l(x(3541)),w=x(7632),g=x(51084),p=x(56855),h=x(6409);function S(R,P,y,U){return f(this,void 0,void 0,function*(){const N=(0,p.encodeTransaction)(R),z=new Uint8Array(v.default.sha256.array(N)),Y=yield P.signMessage(N,y,U),J=new p.SignedTransaction({transaction:R,signature:new h.Signature({keyType:R.publicKey.keyType,data:Y.signature})});return[z,J]})}function E(...R){return f(this,void 0,void 0,function*(){if(R[0].constructor===p.Transaction){const[P,y,U,N]=R;return S(P,y,U,N)}else{const[P,y,U,N,z,Y,J]=R,pe=yield z.getPublicKey(Y,J),W=(0,g.createTransaction)(Y,pe,P,y,U,N);return S(W,z,Y,J)}})}u.signTransaction=E;function I({delegateAction:R,signer:P}){return f(this,void 0,void 0,function*(){const y=(0,p.encodeDelegateAction)(R),U=yield P.sign(y),N=new w.SignedDelegate({delegateAction:R,signature:new h.Signature({keyType:R.publicKey.keyType,data:U})});return{hash:new Uint8Array(v.default.sha256.array(y)),signedDelegateAction:N}})}u.signDelegateAction=I},6409:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Signature=void 0;const f=x(85918);class l extends f.Assignable{}u.Signature=l},99491:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(l){Object.keys(l).map(v=>{this[v]=l[v]})}}u.Assignable=x},84770:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class f extends Error{constructor(g,p,h){super(`Expected ${p} for '${g}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=f;class l extends Error{constructor(g,p,h){super(g),this.type=p||"UntypedError",this.context=h}}u.TypedError=l;class v{constructor(g){this.transactionHash=g}}u.ErrorContext=v},95036:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(v,w,g,p){p===void 0&&(p=g);var h=Object.getOwnPropertyDescriptor(w,g);(!h||("get"in h?!w.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return w[g]}}),Object.defineProperty(v,p,h)}:function(v,w,g,p){p===void 0&&(p=g),v[p]=w[g]}),l=this&&this.__exportStar||function(v,w){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(w,g)&&f(w,v,g)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(99491),u),l(x(84770),u),l(x(61721),u)},61721:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var f=x(88297);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return f.IdType}});var l=x(20862);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return l.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return l.FinalExecutionStatusBasic}})},88297:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},20862:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(l){l.Unknown="Unknown",l.Pending="Pending",l.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var f;(function(l){l.NotStarted="NotStarted",l.Started="Started",l.Failure="Failure"})(f=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},94510:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(l){Object.keys(l).map(v=>{this[v]=l[v]})}}u.Assignable=x},65499:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class f extends Error{constructor(g,p,h){super(`Expected ${p} for '${g}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=f;class l extends Error{constructor(g,p,h){super(g),this.type=p||"UntypedError",this.context=h}}u.TypedError=l;class v{constructor(g){this.transactionHash=g}}u.ErrorContext=v},85918:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(v,w,g,p){p===void 0&&(p=g);var h=Object.getOwnPropertyDescriptor(w,g);(!h||("get"in h?!w.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return w[g]}}),Object.defineProperty(v,p,h)}:function(v,w,g,p){p===void 0&&(p=g),v[p]=w[g]}),l=this&&this.__exportStar||function(v,w){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(w,g)&&f(w,v,g)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(94510),u),l(x(65499),u),l(x(90835),u)},90835:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var f=x(42164);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return f.IdType}});var l=x(6595);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return l.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return l.FinalExecutionStatusBasic}})},42164:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},6595:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(l){l.Unknown="Unknown",l.Pending="Pending",l.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var f;(function(l){l.NotStarted="NotStarted",l.Started="Started",l.Failure="Failure"})(f=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},69031:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.output=u.exists=u.hash=u.bytes=u.bool=u.number=void 0;function x(h){if(!Number.isSafeInteger(h)||h<0)throw new Error(`Wrong positive integer: ${h}`)}u.number=x;function f(h){if(typeof h!="boolean")throw new Error(`Expected boolean, not ${h}`)}u.bool=f;function l(h,...S){if(!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length>0&&!S.includes(h.length))throw new TypeError(`Expected Uint8Array of length ${S}, not of length=${h.length}`)}u.bytes=l;function v(h){if(typeof h!="function"||typeof h.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x(h.outputLen),x(h.blockLen)}u.hash=v;function w(h,S=!0){if(h.destroyed)throw new Error("Hash instance has been destroyed");if(S&&h.finished)throw new Error("Hash#digest() has already been called")}u.exists=w;function g(h,S){l(h);const E=S.outputLen;if(h.length<E)throw new Error(`digestInto() expects output buffer of length at least ${E}`)}u.output=g;const p={number:x,bool:f,bytes:l,hash:v,exists:w,output:g};u.default=p},52606:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SHA2=void 0;const f=x(69031),l=x(17767);function v(g,p,h,S){if(typeof g.setBigUint64=="function")return g.setBigUint64(p,h,S);const E=BigInt(32),I=BigInt(4294967295),R=Number(h>>E&I),P=Number(h&I),y=S?4:0,U=S?0:4;g.setUint32(p+y,R,S),g.setUint32(p+U,P,S)}class w extends l.Hash{constructor(p,h,S,E){super(),this.blockLen=p,this.outputLen=h,this.padOffset=S,this.isLE=E,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(p),this.view=(0,l.createView)(this.buffer)}update(p){f.default.exists(this);const{view:h,buffer:S,blockLen:E}=this;p=(0,l.toBytes)(p);const I=p.length;for(let R=0;R<I;){const P=Math.min(E-this.pos,I-R);if(P===E){const y=(0,l.createView)(p);for(;E<=I-R;R+=E)this.process(y,R);continue}S.set(p.subarray(R,R+P),this.pos),this.pos+=P,R+=P,this.pos===E&&(this.process(h,0),this.pos=0)}return this.length+=p.length,this.roundClean(),this}digestInto(p){f.default.exists(this),f.default.output(p,this),this.finished=!0;const{buffer:h,view:S,blockLen:E,isLE:I}=this;let{pos:R}=this;h[R++]=128,this.buffer.subarray(R).fill(0),this.padOffset>E-R&&(this.process(S,0),R=0);for(let y=R;y<E;y++)h[y]=0;v(S,E-8,BigInt(this.length*8),I),this.process(S,0);const P=(0,l.createView)(p);this.get().forEach((y,U)=>P.setUint32(4*U,y,I))}digest(){const{buffer:p,outputLen:h}=this;this.digestInto(p);const S=p.slice(0,h);return this.destroy(),S}_cloneInto(p){p||(p=new this.constructor),p.set(...this.get());const{blockLen:h,buffer:S,length:E,finished:I,destroyed:R,pos:P}=this;return p.length=E,p.pos=P,p.finished=I,p.destroyed=R,E%h&&p.buffer.set(S),p}}u.SHA2=w},59561:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.add=u.toBig=u.split=u.fromBig=void 0;const x=BigInt(2**32-1),f=BigInt(32);function l(he,_e=!1){return _e?{h:Number(he&x),l:Number(he>>f&x)}:{h:Number(he>>f&x)|0,l:Number(he&x)|0}}u.fromBig=l;function v(he,_e=!1){let H=new Uint32Array(he.length),te=new Uint32Array(he.length);for(let ee=0;ee<he.length;ee++){const{h:xe,l:ke}=l(he[ee],_e);[H[ee],te[ee]]=[xe,ke]}return[H,te]}u.split=v;const w=(he,_e)=>BigInt(he>>>0)<<f|BigInt(_e>>>0);u.toBig=w;const g=(he,_e,H)=>he>>>H,p=(he,_e,H)=>he<<32-H|_e>>>H,h=(he,_e,H)=>he>>>H|_e<<32-H,S=(he,_e,H)=>he<<32-H|_e>>>H,E=(he,_e,H)=>he<<64-H|_e>>>H-32,I=(he,_e,H)=>he>>>H-32|_e<<64-H,R=(he,_e)=>_e,P=(he,_e)=>he,y=(he,_e,H)=>he<<H|_e>>>32-H,U=(he,_e,H)=>_e<<H|he>>>32-H,N=(he,_e,H)=>_e<<H-32|he>>>64-H,z=(he,_e,H)=>he<<H-32|_e>>>64-H;function Y(he,_e,H,te){const ee=(_e>>>0)+(te>>>0);return{h:he+H+(ee/2**32|0)|0,l:ee|0}}u.add=Y;const J=(he,_e,H)=>(he>>>0)+(_e>>>0)+(H>>>0),pe=(he,_e,H,te)=>_e+H+te+(he/2**32|0)|0,W=(he,_e,H,te)=>(he>>>0)+(_e>>>0)+(H>>>0)+(te>>>0),Q=(he,_e,H,te,ee)=>_e+H+te+ee+(he/2**32|0)|0,Z=(he,_e,H,te,ee)=>(he>>>0)+(_e>>>0)+(H>>>0)+(te>>>0)+(ee>>>0),fe=(he,_e,H,te,ee,xe)=>_e+H+te+ee+xe+(he/2**32|0)|0,Ce={fromBig:l,split:v,toBig:u.toBig,shrSH:g,shrSL:p,rotrSH:h,rotrSL:S,rotrBH:E,rotrBL:I,rotr32H:R,rotr32L:P,rotlSH:y,rotlSL:U,rotlBH:N,rotlBL:z,add:Y,add3L:J,add3H:pe,add4L:W,add4H:Q,add5H:fe,add5L:Z};u.default=Ce},31215:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.crypto=void 0,u.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}},18023:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.hmac=void 0;const f=x(69031),l=x(17767);class v extends l.Hash{constructor(p,h){super(),this.finished=!1,this.destroyed=!1,f.default.hash(p);const S=(0,l.toBytes)(h);if(this.iHash=p.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const E=this.blockLen,I=new Uint8Array(E);I.set(S.length>E?p.create().update(S).digest():S);for(let R=0;R<I.length;R++)I[R]^=54;this.iHash.update(I),this.oHash=p.create();for(let R=0;R<I.length;R++)I[R]^=106;this.oHash.update(I),I.fill(0)}update(p){return f.default.exists(this),this.iHash.update(p),this}digestInto(p){f.default.exists(this),f.default.bytes(p,this.outputLen),this.finished=!0,this.iHash.digestInto(p),this.oHash.update(p),this.oHash.digestInto(p),this.destroy()}digest(){const p=new Uint8Array(this.oHash.outputLen);return this.digestInto(p),p}_cloneInto(p){p||(p=Object.create(Object.getPrototypeOf(this),{}));const{oHash:h,iHash:S,finished:E,destroyed:I,blockLen:R,outputLen:P}=this;return p=p,p.finished=E,p.destroyed=I,p.blockLen=R,p.outputLen=P,p.oHash=h._cloneInto(p.oHash),p.iHash=S._cloneInto(p.iHash),p}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const w=(g,p,h)=>new v(g,p).update(h).digest();u.hmac=w,u.hmac.create=(g,p)=>new v(g,p)},53122:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pbkdf2Async=u.pbkdf2=void 0;const f=x(69031),l=x(18023),v=x(17767);function w(S,E,I,R){f.default.hash(S);const P=(0,v.checkOpts)({dkLen:32,asyncTick:10},R),{c:y,dkLen:U,asyncTick:N}=P;if(f.default.number(y),f.default.number(U),f.default.number(N),y<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const z=(0,v.toBytes)(E),Y=(0,v.toBytes)(I),J=new Uint8Array(U),pe=l.hmac.create(S,z),W=pe._cloneInto().update(Y);return{c:y,dkLen:U,asyncTick:N,DK:J,PRF:pe,PRFSalt:W}}function g(S,E,I,R,P){return S.destroy(),E.destroy(),R&&R.destroy(),P.fill(0),I}function p(S,E,I,R){const{c:P,dkLen:y,DK:U,PRF:N,PRFSalt:z}=w(S,E,I,R);let Y;const J=new Uint8Array(4),pe=(0,v.createView)(J),W=new Uint8Array(N.outputLen);for(let Q=1,Z=0;Z<y;Q++,Z+=N.outputLen){const fe=U.subarray(Z,Z+N.outputLen);pe.setInt32(0,Q,!1),(Y=z._cloneInto(Y)).update(J).digestInto(W),fe.set(W.subarray(0,fe.length));for(let Ce=1;Ce<P;Ce++){N._cloneInto(Y).update(W).digestInto(W);for(let he=0;he<fe.length;he++)fe[he]^=W[he]}}return g(N,z,U,Y,W)}u.pbkdf2=p;async function h(S,E,I,R){const{c:P,dkLen:y,asyncTick:U,DK:N,PRF:z,PRFSalt:Y}=w(S,E,I,R);let J;const pe=new Uint8Array(4),W=(0,v.createView)(pe),Q=new Uint8Array(z.outputLen);for(let Z=1,fe=0;fe<y;Z++,fe+=z.outputLen){const Ce=N.subarray(fe,fe+z.outputLen);W.setInt32(0,Z,!1),(J=Y._cloneInto(J)).update(pe).digestInto(Q),Ce.set(Q.subarray(0,Ce.length)),await(0,v.asyncLoop)(P-1,U,he=>{z._cloneInto(J).update(Q).digestInto(Q);for(let _e=0;_e<Ce.length;_e++)Ce[_e]^=Q[_e]})}return g(z,Y,N,J,Q)}u.pbkdf2Async=h},34357:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha256=void 0;const f=x(52606),l=x(17767),v=(E,I,R)=>E&I^~E&R,w=(E,I,R)=>E&I^E&R^I&R,g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),p=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class S extends f.SHA2{constructor(){super(64,32,8,!1),this.A=p[0]|0,this.B=p[1]|0,this.C=p[2]|0,this.D=p[3]|0,this.E=p[4]|0,this.F=p[5]|0,this.G=p[6]|0,this.H=p[7]|0}get(){const{A:I,B:R,C:P,D:y,E:U,F:N,G:z,H:Y}=this;return[I,R,P,y,U,N,z,Y]}set(I,R,P,y,U,N,z,Y){this.A=I|0,this.B=R|0,this.C=P|0,this.D=y|0,this.E=U|0,this.F=N|0,this.G=z|0,this.H=Y|0}process(I,R){for(let W=0;W<16;W++,R+=4)h[W]=I.getUint32(R,!1);for(let W=16;W<64;W++){const Q=h[W-15],Z=h[W-2],fe=(0,l.rotr)(Q,7)^(0,l.rotr)(Q,18)^Q>>>3,Ce=(0,l.rotr)(Z,17)^(0,l.rotr)(Z,19)^Z>>>10;h[W]=Ce+h[W-7]+fe+h[W-16]|0}let{A:P,B:y,C:U,D:N,E:z,F:Y,G:J,H:pe}=this;for(let W=0;W<64;W++){const Q=(0,l.rotr)(z,6)^(0,l.rotr)(z,11)^(0,l.rotr)(z,25),Z=pe+Q+v(z,Y,J)+g[W]+h[W]|0,Ce=((0,l.rotr)(P,2)^(0,l.rotr)(P,13)^(0,l.rotr)(P,22))+w(P,y,U)|0;pe=J,J=Y,Y=z,z=N+Z|0,N=U,U=y,y=P,P=Z+Ce|0}P=P+this.A|0,y=y+this.B|0,U=U+this.C|0,N=N+this.D|0,z=z+this.E|0,Y=Y+this.F|0,J=J+this.G|0,pe=pe+this.H|0,this.set(P,y,U,N,z,Y,J,pe)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}u.sha256=(0,l.wrapConstructor)(()=>new S)},54878:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha384=u.sha512_256=u.sha512=u.SHA512=void 0;const f=x(52606),l=x(59561),v=x(17767),[w,g]=l.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(R=>BigInt(R))),p=new Uint32Array(80),h=new Uint32Array(80);class S extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:P,Al:y,Bh:U,Bl:N,Ch:z,Cl:Y,Dh:J,Dl:pe,Eh:W,El:Q,Fh:Z,Fl:fe,Gh:Ce,Gl:he,Hh:_e,Hl:H}=this;return[P,y,U,N,z,Y,J,pe,W,Q,Z,fe,Ce,he,_e,H]}set(P,y,U,N,z,Y,J,pe,W,Q,Z,fe,Ce,he,_e,H){this.Ah=P|0,this.Al=y|0,this.Bh=U|0,this.Bl=N|0,this.Ch=z|0,this.Cl=Y|0,this.Dh=J|0,this.Dl=pe|0,this.Eh=W|0,this.El=Q|0,this.Fh=Z|0,this.Fl=fe|0,this.Gh=Ce|0,this.Gl=he|0,this.Hh=_e|0,this.Hl=H|0}process(P,y){for(let xe=0;xe<16;xe++,y+=4)p[xe]=P.getUint32(y),h[xe]=P.getUint32(y+=4);for(let xe=16;xe<80;xe++){const ke=p[xe-15]|0,Ae=h[xe-15]|0,j=l.default.rotrSH(ke,Ae,1)^l.default.rotrSH(ke,Ae,8)^l.default.shrSH(ke,Ae,7),D=l.default.rotrSL(ke,Ae,1)^l.default.rotrSL(ke,Ae,8)^l.default.shrSL(ke,Ae,7),$=p[xe-2]|0,ae=h[xe-2]|0,F=l.default.rotrSH($,ae,19)^l.default.rotrBH($,ae,61)^l.default.shrSH($,ae,6),G=l.default.rotrSL($,ae,19)^l.default.rotrBL($,ae,61)^l.default.shrSL($,ae,6),Ee=l.default.add4L(D,G,h[xe-7],h[xe-16]),ve=l.default.add4H(Ee,j,F,p[xe-7],p[xe-16]);p[xe]=ve|0,h[xe]=Ee|0}let{Ah:U,Al:N,Bh:z,Bl:Y,Ch:J,Cl:pe,Dh:W,Dl:Q,Eh:Z,El:fe,Fh:Ce,Fl:he,Gh:_e,Gl:H,Hh:te,Hl:ee}=this;for(let xe=0;xe<80;xe++){const ke=l.default.rotrSH(Z,fe,14)^l.default.rotrSH(Z,fe,18)^l.default.rotrBH(Z,fe,41),Ae=l.default.rotrSL(Z,fe,14)^l.default.rotrSL(Z,fe,18)^l.default.rotrBL(Z,fe,41),j=Z&Ce^~Z&_e,D=fe&he^~fe&H,$=l.default.add5L(ee,Ae,D,g[xe],h[xe]),ae=l.default.add5H($,te,ke,j,w[xe],p[xe]),F=$|0,G=l.default.rotrSH(U,N,28)^l.default.rotrBH(U,N,34)^l.default.rotrBH(U,N,39),Ee=l.default.rotrSL(U,N,28)^l.default.rotrBL(U,N,34)^l.default.rotrBL(U,N,39),ve=U&z^U&J^z&J,Re=N&Y^N&pe^Y&pe;te=_e|0,ee=H|0,_e=Ce|0,H=he|0,Ce=Z|0,he=fe|0,{h:Z,l:fe}=l.default.add(W|0,Q|0,ae|0,F|0),W=J|0,Q=pe|0,J=z|0,pe=Y|0,z=U|0,Y=N|0;const Fe=l.default.add3L(F,Ee,Re);U=l.default.add3H(Fe,ae,G,ve),N=Fe|0}({h:U,l:N}=l.default.add(this.Ah|0,this.Al|0,U|0,N|0)),{h:z,l:Y}=l.default.add(this.Bh|0,this.Bl|0,z|0,Y|0),{h:J,l:pe}=l.default.add(this.Ch|0,this.Cl|0,J|0,pe|0),{h:W,l:Q}=l.default.add(this.Dh|0,this.Dl|0,W|0,Q|0),{h:Z,l:fe}=l.default.add(this.Eh|0,this.El|0,Z|0,fe|0),{h:Ce,l:he}=l.default.add(this.Fh|0,this.Fl|0,Ce|0,he|0),{h:_e,l:H}=l.default.add(this.Gh|0,this.Gl|0,_e|0,H|0),{h:te,l:ee}=l.default.add(this.Hh|0,this.Hl|0,te|0,ee|0),this.set(U,N,z,Y,J,pe,W,Q,Z,fe,Ce,he,_e,H,te,ee)}roundClean(){p.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}u.SHA512=S;class E extends S{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends S{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}u.sha512=(0,v.wrapConstructor)(()=>new S),u.sha512_256=(0,v.wrapConstructor)(()=>new E),u.sha384=(0,v.wrapConstructor)(()=>new I)},17767:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.randomBytes=u.wrapConstructorWithOpts=u.wrapConstructor=u.checkOpts=u.Hash=u.concatBytes=u.toBytes=u.utf8ToBytes=u.asyncLoop=u.nextTick=u.hexToBytes=u.bytesToHex=u.isLE=u.rotr=u.createView=u.u32=u.u8=void 0;const f=x(31215),l=W=>new Uint8Array(W.buffer,W.byteOffset,W.byteLength);u.u8=l;const v=W=>new Uint32Array(W.buffer,W.byteOffset,Math.floor(W.byteLength/4));u.u32=v;const w=W=>new DataView(W.buffer,W.byteOffset,W.byteLength);u.createView=w;const g=(W,Q)=>W<<32-Q|W>>>Q;if(u.rotr=g,u.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!u.isLE)throw new Error("Non little-endian hardware is not supported");const p=Array.from({length:256},(W,Q)=>Q.toString(16).padStart(2,"0"));function h(W){if(!(W instanceof Uint8Array))throw new Error("Uint8Array expected");let Q="";for(let Z=0;Z<W.length;Z++)Q+=p[W[Z]];return Q}u.bytesToHex=h;function S(W){if(typeof W!="string")throw new TypeError("hexToBytes: expected string, got "+typeof W);if(W.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const Q=new Uint8Array(W.length/2);for(let Z=0;Z<Q.length;Z++){const fe=Z*2,Ce=W.slice(fe,fe+2),he=Number.parseInt(Ce,16);if(Number.isNaN(he)||he<0)throw new Error("Invalid byte sequence");Q[Z]=he}return Q}u.hexToBytes=S;const E=async()=>{};u.nextTick=E;async function I(W,Q,Z){let fe=Date.now();for(let Ce=0;Ce<W;Ce++){Z(Ce);const he=Date.now()-fe;he>=0&&he<Q||(await(0,u.nextTick)(),fe+=he)}}u.asyncLoop=I;function R(W){if(typeof W!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof W}`);return new TextEncoder().encode(W)}u.utf8ToBytes=R;function P(W){if(typeof W=="string"&&(W=R(W)),!(W instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof W})`);return W}u.toBytes=P;function y(...W){if(!W.every(fe=>fe instanceof Uint8Array))throw new Error("Uint8Array list expected");if(W.length===1)return W[0];const Q=W.reduce((fe,Ce)=>fe+Ce.length,0),Z=new Uint8Array(Q);for(let fe=0,Ce=0;fe<W.length;fe++){const he=W[fe];Z.set(he,Ce),Ce+=he.length}return Z}u.concatBytes=y;class U{clone(){return this._cloneInto()}}u.Hash=U;const N=W=>Object.prototype.toString.call(W)==="[object Object]"&&W.constructor===Object;function z(W,Q){if(Q!==void 0&&(typeof Q!="object"||!N(Q)))throw new TypeError("Options should be object or undefined");return Object.assign(W,Q)}u.checkOpts=z;function Y(W){const Q=fe=>W().update(P(fe)).digest(),Z=W();return Q.outputLen=Z.outputLen,Q.blockLen=Z.blockLen,Q.create=()=>W(),Q}u.wrapConstructor=Y;function J(W){const Q=(fe,Ce)=>W(Ce).update(P(fe)).digest(),Z=W({});return Q.outputLen=Z.outputLen,Q.blockLen=Z.blockLen,Q.create=fe=>W(fe),Q}u.wrapConstructorWithOpts=J;function pe(W=32){if(f.crypto.web)return f.crypto.web.getRandomValues(new Uint8Array(W));if(f.crypto.node)return new Uint8Array(f.crypto.node.randomBytes(W).buffer);throw new Error("The environment doesn't have randomBytes function")}u.randomBytes=pe},40214:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bytes=u.stringToBytes=u.str=u.bytesToString=u.hex=u.utf8=u.bech32m=u.bech32=u.base58check=u.createBase58check=u.base58xmr=u.base58xrp=u.base58flickr=u.base58=u.base64urlnopad=u.base64url=u.base64=u.base32crockford=u.base32hex=u.base32=u.base16=u.utils=u.assertNumber=void 0;function x(H){if(!Number.isSafeInteger(H))throw new Error(`Wrong integer: ${H}`)}u.assertNumber=x;function f(H){return H instanceof Uint8Array||H!=null&&typeof H=="object"&&H.constructor.name==="Uint8Array"}function l(...H){const te=Ae=>Ae,ee=(Ae,j)=>D=>Ae(j(D)),xe=H.map(Ae=>Ae.encode).reduceRight(ee,te),ke=H.map(Ae=>Ae.decode).reduce(ee,te);return{encode:xe,decode:ke}}function v(H){return{encode:te=>{if(!Array.isArray(te)||te.length&&typeof te[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return te.map(ee=>{if(x(ee),ee<0||ee>=H.length)throw new Error(`Digit index outside alphabet: ${ee} (alphabet: ${H.length})`);return H[ee]})},decode:te=>{if(!Array.isArray(te)||te.length&&typeof te[0]!="string")throw new Error("alphabet.decode input should be array of strings");return te.map(ee=>{if(typeof ee!="string")throw new Error(`alphabet.decode: not string element=${ee}`);const xe=H.indexOf(ee);if(xe===-1)throw new Error(`Unknown letter: "${ee}". Allowed: ${H}`);return xe})}}}function w(H=""){if(typeof H!="string")throw new Error("join separator should be string");return{encode:te=>{if(!Array.isArray(te)||te.length&&typeof te[0]!="string")throw new Error("join.encode input should be array of strings");for(let ee of te)if(typeof ee!="string")throw new Error(`join.encode: non-string input=${ee}`);return te.join(H)},decode:te=>{if(typeof te!="string")throw new Error("join.decode input should be string");return te.split(H)}}}function g(H,te="="){if(x(H),typeof te!="string")throw new Error("padding chr should be string");return{encode(ee){if(!Array.isArray(ee)||ee.length&&typeof ee[0]!="string")throw new Error("padding.encode input should be array of strings");for(let xe of ee)if(typeof xe!="string")throw new Error(`padding.encode: non-string input=${xe}`);for(;ee.length*H%8;)ee.push(te);return ee},decode(ee){if(!Array.isArray(ee)||ee.length&&typeof ee[0]!="string")throw new Error("padding.encode input should be array of strings");for(let ke of ee)if(typeof ke!="string")throw new Error(`padding.decode: non-string input=${ke}`);let xe=ee.length;if(xe*H%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;xe>0&&ee[xe-1]===te;xe--)if(!((xe-1)*H%8))throw new Error("Invalid padding: string has too much padding");return ee.slice(0,xe)}}}function p(H){if(typeof H!="function")throw new Error("normalize fn should be function");return{encode:te=>te,decode:te=>H(te)}}function h(H,te,ee){if(te<2)throw new Error(`convertRadix: wrong from=${te}, base cannot be less than 2`);if(ee<2)throw new Error(`convertRadix: wrong to=${ee}, base cannot be less than 2`);if(!Array.isArray(H))throw new Error("convertRadix: data should be array");if(!H.length)return[];let xe=0;const ke=[],Ae=Array.from(H);for(Ae.forEach(j=>{if(x(j),j<0||j>=te)throw new Error(`Wrong integer: ${j}`)});;){let j=0,D=!0;for(let $=xe;$<Ae.length;$++){const ae=Ae[$],F=te*j+ae;if(!Number.isSafeInteger(F)||te*j/te!==j||F-ae!==te*j)throw new Error("convertRadix: carry overflow");j=F%ee;const G=Math.floor(F/ee);if(Ae[$]=G,!Number.isSafeInteger(G)||G*ee+j!==F)throw new Error("convertRadix: carry overflow");if(D)G?D=!1:xe=$;else continue}if(ke.push(j),D)break}for(let j=0;j<H.length-1&&H[j]===0;j++)ke.push(0);return ke.reverse()}const S=(H,te)=>te?S(te,H%te):H,E=(H,te)=>H+(te-S(H,te));function I(H,te,ee,xe){if(!Array.isArray(H))throw new Error("convertRadix2: data should be array");if(te<=0||te>32)throw new Error(`convertRadix2: wrong from=${te}`);if(ee<=0||ee>32)throw new Error(`convertRadix2: wrong to=${ee}`);if(E(te,ee)>32)throw new Error(`convertRadix2: carry overflow from=${te} to=${ee} carryBits=${E(te,ee)}`);let ke=0,Ae=0;const j=2**ee-1,D=[];for(const $ of H){if(x($),$>=2**te)throw new Error(`convertRadix2: invalid data word=${$} from=${te}`);if(ke=ke<<te|$,Ae+te>32)throw new Error(`convertRadix2: carry overflow pos=${Ae} from=${te}`);for(Ae+=te;Ae>=ee;Ae-=ee)D.push((ke>>Ae-ee&j)>>>0);ke&=2**Ae-1}if(ke=ke<<ee-Ae&j,!xe&&Ae>=te)throw new Error("Excess padding");if(!xe&&ke)throw new Error(`Non-zero padding: ${ke}`);return xe&&Ae>0&&D.push(ke>>>0),D}function R(H){return x(H),{encode:te=>{if(!f(te))throw new Error("radix.encode input should be Uint8Array");return h(Array.from(te),2**8,H)},decode:te=>{if(!Array.isArray(te)||te.length&&typeof te[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(h(te,H,2**8))}}}function P(H,te=!1){if(x(H),H<=0||H>32)throw new Error("radix2: bits should be in (0..32]");if(E(8,H)>32||E(H,8)>32)throw new Error("radix2: carry overflow");return{encode:ee=>{if(!f(ee))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(ee),8,H,!te)},decode:ee=>{if(!Array.isArray(ee)||ee.length&&typeof ee[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(I(ee,H,8,te))}}}function y(H){if(typeof H!="function")throw new Error("unsafeWrapper fn should be function");return function(...te){try{return H.apply(null,te)}catch{}}}function U(H,te){if(x(H),typeof te!="function")throw new Error("checksum fn should be function");return{encode(ee){if(!f(ee))throw new Error("checksum.encode: input should be Uint8Array");const xe=te(ee).slice(0,H),ke=new Uint8Array(ee.length+H);return ke.set(ee),ke.set(xe,ee.length),ke},decode(ee){if(!f(ee))throw new Error("checksum.decode: input should be Uint8Array");const xe=ee.slice(0,-H),ke=te(xe).slice(0,H),Ae=ee.slice(-H);for(let j=0;j<H;j++)if(ke[j]!==Ae[j])throw new Error("Invalid checksum");return xe}}}u.utils={alphabet:v,chain:l,checksum:U,convertRadix:h,convertRadix2:I,radix:R,radix2:P,join:w,padding:g},u.base16=l(P(4),v("0123456789ABCDEF"),w("")),u.base32=l(P(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),w("")),u.base32hex=l(P(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),w("")),u.base32crockford=l(P(5),v("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),w(""),p(H=>H.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),u.base64=l(P(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),w("")),u.base64url=l(P(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),w("")),u.base64urlnopad=l(P(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),w(""));const N=H=>l(R(58),v(H),w(""));u.base58=N("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),u.base58flickr=N("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),u.base58xrp=N("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const z=[0,2,3,5,6,7,9,10,11];u.base58xmr={encode(H){let te="";for(let ee=0;ee<H.length;ee+=8){const xe=H.subarray(ee,ee+8);te+=u.base58.encode(xe).padStart(z[xe.length],"1")}return te},decode(H){let te=[];for(let ee=0;ee<H.length;ee+=11){const xe=H.slice(ee,ee+11),ke=z.indexOf(xe.length),Ae=u.base58.decode(xe);for(let j=0;j<Ae.length-ke;j++)if(Ae[j]!==0)throw new Error("base58xmr: wrong padding");te=te.concat(Array.from(Ae.slice(Ae.length-ke)))}return Uint8Array.from(te)}};const Y=H=>l(U(4,te=>H(H(te))),u.base58);u.createBase58check=Y,u.base58check=u.createBase58check;const J=l(v("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),w("")),pe=[996825010,642813549,513874426,1027748829,705979059];function W(H){const te=H>>25;let ee=(H&33554431)<<5;for(let xe=0;xe<pe.length;xe++)(te>>xe&1)===1&&(ee^=pe[xe]);return ee}function Q(H,te,ee=1){const xe=H.length;let ke=1;for(let Ae=0;Ae<xe;Ae++){const j=H.charCodeAt(Ae);if(j<33||j>126)throw new Error(`Invalid prefix (${H})`);ke=W(ke)^j>>5}ke=W(ke);for(let Ae=0;Ae<xe;Ae++)ke=W(ke)^H.charCodeAt(Ae)&31;for(let Ae of te)ke=W(ke)^Ae;for(let Ae=0;Ae<6;Ae++)ke=W(ke);return ke^=ee,J.encode(I([ke%2**30],30,5,!1))}function Z(H){const te=H==="bech32"?1:734539939,ee=P(5),xe=ee.decode,ke=ee.encode,Ae=y(xe);function j(F,G,Ee=90){if(typeof F!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof F}`);if(!Array.isArray(G)||G.length&&typeof G[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof G}`);const ve=F.length+7+G.length;if(Ee!==!1&&ve>Ee)throw new TypeError(`Length ${ve} exceeds limit ${Ee}`);const Re=F.toLowerCase(),Fe=Q(Re,G,te);return`${Re}1${J.encode(G)}${Fe}`}function D(F,G=90){if(typeof F!="string")throw new Error(`bech32.decode input should be string, not ${typeof F}`);if(F.length<8||G!==!1&&F.length>G)throw new TypeError(`Wrong string length: ${F.length} (${F}). Expected (8..${G})`);const Ee=F.toLowerCase();if(F!==Ee&&F!==F.toUpperCase())throw new Error("String must be lowercase or uppercase");F=Ee;const ve=F.lastIndexOf("1");if(ve===0||ve===-1)throw new Error('Letter "1" must be present between prefix and data only');const Re=F.slice(0,ve),Fe=F.slice(ve+1);if(Fe.length<6)throw new Error("Data must be at least 6 characters long");const At=J.decode(Fe).slice(0,-6),vt=Q(Re,At,te);if(!Fe.endsWith(vt))throw new Error(`Invalid checksum in ${F}: expected "${vt}"`);return{prefix:Re,words:At}}const $=y(D);function ae(F){const{prefix:G,words:Ee}=D(F,!1);return{prefix:G,words:Ee,bytes:xe(Ee)}}return{encode:j,decode:D,decodeToBytes:ae,decodeUnsafe:$,fromWords:xe,fromWordsUnsafe:Ae,toWords:ke}}u.bech32=Z("bech32"),u.bech32m=Z("bech32m"),u.utf8={encode:H=>new TextDecoder().decode(H),decode:H=>new TextEncoder().encode(H)},u.hex=l(P(4),v("0123456789abcdef"),w(""),p(H=>{if(typeof H!="string"||H.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof H} with length ${H.length}`);return H.toLowerCase()}));const fe={utf8:u.utf8,hex:u.hex,base16:u.base16,base32:u.base32,base64:u.base64,base64url:u.base64url,base58:u.base58,base58xmr:u.base58xmr},Ce="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",he=(H,te)=>{if(typeof H!="string"||!fe.hasOwnProperty(H))throw new TypeError(Ce);if(!f(te))throw new TypeError("bytesToString() expects Uint8Array");return fe[H].encode(te)};u.bytesToString=he,u.str=u.bytesToString;const _e=(H,te)=>{if(!fe.hasOwnProperty(H))throw new TypeError(Ce);if(typeof te!="string")throw new TypeError("stringToBytes() expects string");return fe[H].decode(te)};u.stringToBytes=_e,u.bytes=u.stringToBytes},98316:function(B,u,x){"use strict";var f;f={value:!0},u.Z1=f=f=f=f=f=void 0;const l=x(69031),v=x(53122),w=x(34357),g=x(54878),p=x(17767),h=x(40214),S=Q=>Q[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function E(Q){if(typeof Q!="string")throw new TypeError(`Invalid mnemonic type: ${typeof Q}`);return Q.normalize("NFKD")}function I(Q){const Z=E(Q),fe=Z.split(" ");if(![12,15,18,21,24].includes(fe.length))throw new Error("Invalid mnemonic");return{nfkd:Z,words:fe}}function R(Q){l.default.bytes(Q,16,20,24,28,32)}function P(Q,Z=128){if(l.default.number(Z),Z%32!==0||Z>256)throw new TypeError("Invalid entropy");return z((0,p.randomBytes)(Z/8),Q)}f=P;const y=Q=>{const Z=8-Q.length/4;return new Uint8Array([(0,w.sha256)(Q)[0]>>Z<<Z])};function U(Q){if(!Array.isArray(Q)||Q.length!==2**11||typeof Q[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return Q.forEach(Z=>{if(typeof Z!="string")throw new Error(`Wordlist: non-string element: ${Z}`)}),h.utils.chain(h.utils.checksum(1,y),h.utils.radix2(11,!0),h.utils.alphabet(Q))}function N(Q,Z){const{words:fe}=I(Q),Ce=U(Z).decode(fe);return R(Ce),Ce}f=N;function z(Q,Z){return R(Q),U(Z).encode(Q).join(S(Z)?"\u3000":" ")}f=z;function Y(Q,Z){try{N(Q,Z)}catch{return!1}return!0}f=Y;const J=Q=>E(`mnemonic${Q}`);function pe(Q,Z=""){return(0,v.pbkdf2Async)(g.sha512,I(Q).nfkd,J(Z),{c:2048,dkLen:64})}f=pe;function W(Q,Z=""){return(0,v.pbkdf2)(g.sha512,I(Q).nfkd,J(Z),{c:2048,dkLen:64})}u.Z1=W},33649:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},14676:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(w,g,p,h){h===void 0&&(h=p);var S=Object.getOwnPropertyDescriptor(g,p);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[p]}}),Object.defineProperty(w,h,S)}:function(w,g,p,h){h===void 0&&(h=p),w[h]=g[p]}),l=this&&this.__exportStar||function(w,g){for(var p in w)p!=="default"&&!Object.prototype.hasOwnProperty.call(g,p)&&f(g,w,p)};Object.defineProperty(u,"__esModule",{value:!0});const v=x(67301);u.default=v.PromisePool,l(x(33649),u),l(x(67301),u),l(x(17090),u),l(x(58059),u),l(x(23457),u),l(x(12559),u)},17090:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolError=void 0;class x extends Error{constructor(l,v){super(),this.raw=l,this.item=v,this.name=this.constructor.name,this.message=this.messageFrom(l),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(l,v){return new this(l,v)}messageFrom(l){return l instanceof Error||typeof l=="object"?l.message:typeof l=="string"||typeof l=="number"?l.toString():""}}u.PromisePoolError=x},26610:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolExecutor=void 0;const f=x(67301),l=x(17090),v=x(23457),w=x(12559);class g{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(h){if(!this.isValidConcurrency(h))throw w.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${h}" (${typeof h})`);return this.meta.concurrency=h,this}isValidConcurrency(h){return typeof h=="number"&&h>=1}withTaskTimeout(h){return this.meta.taskTimeout=h,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(h){return this.meta.shouldResultsCorrespond=h,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(h){return this.meta.items=h,this}items(){return this.meta.items}itemsCount(){const h=this.items();return Array.isArray(h)?h.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(h){return this.handler=h,this}hasErrorHandler(){return!!this.errorHandler}handleError(h){return this.errorHandler=h,this}onTaskStarted(h){return this.onTaskStartedHandlers=h,this}onTaskFinished(h){return this.onTaskFinishedHandlers=h,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new v.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw w.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const h=this.taskTimeout();if(!(h==null||typeof h=="number"&&h>=0))throw w.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(h)}" (${typeof h})`);if(!this.areItemsValid())throw w.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw w.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(S=>{if(S&&typeof S!="function")throw w.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof S}"`)}),this.onTaskFinishedHandlers.forEach(S=>{if(S&&typeof S!="function")throw w.ValidationError.createFrom(`The error handler must be a function. Received "${typeof S}"`)}),this}areItemsValid(){const h=this.items();return!!(Array.isArray(h)||typeof h[Symbol.iterator]=="function"||typeof h[Symbol.asyncIterator]=="function")}prepareResultsArray(){const h=this.items();return Array.isArray(h)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(h.length).fill(f.PromisePool.notRun),this):this:this}async process(){let h=0;for await(const S of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[h]=f.PromisePool.notRun),this.startProcessing(S,h),h+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(h,S){const E=this.createTaskFor(h,S).then(I=>{this.save(I,S).removeActive(E)}).catch(async I=>{await this.handleErrorFor(I,h,S),this.removeActive(E)}).finally(()=>{this.processedItems().push(h),this.runOnTaskFinishedHandlers(h)});this.tasks().push(E),this.runOnTaskStartedHandlers(h)}async createTaskFor(h,S){if(this.taskTimeout()===void 0)return this.handler(h,S,this);const[E,I]=this.createTaskTimeout(h);return Promise.race([this.handler(h,S,this),E()]).finally(I)}createTaskTimeout(h){let S;return[async()=>new Promise((R,P)=>{S=setTimeout(()=>{P(new l.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,h))},this.taskTimeout())}),()=>clearTimeout(S)]}save(h,S){return this.shouldUseCorrespondingResults()?this.results()[S]=h:this.results().push(h),this}removeActive(h){return this.tasks().splice(this.tasks().indexOf(h),1),this}async handleErrorFor(h,S,E){if(this.shouldUseCorrespondingResults()&&(this.results()[E]=f.PromisePool.failed),!this.isStoppingThePoolError(h)){if(this.isValidationError(h))throw this.markAsStopped(),h;this.hasErrorHandler()?await this.runErrorHandlerFor(h,S):this.saveErrorFor(h,S)}}isStoppingThePoolError(h){return h instanceof v.StopThePromisePoolError}isValidationError(h){return h instanceof w.ValidationError}async runErrorHandlerFor(h,S){var E;try{await((E=this.errorHandler)==null?void 0:E.call(this,h,S,this))}catch(I){this.rethrowIfNotStoppingThePool(I)}}runOnTaskStartedHandlers(h){this.onTaskStartedHandlers.forEach(S=>{S(h,this)})}runOnTaskFinishedHandlers(h){this.onTaskFinishedHandlers.forEach(S=>{S(h,this)})}rethrowIfNotStoppingThePool(h){if(!this.isStoppingThePoolError(h))throw h}saveErrorFor(h,S){this.errors().push(l.PromisePoolError.createFrom(h,S))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}u.PromisePoolExecutor=g},67301:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePool=void 0;const f=x(26610);class l{constructor(w){this.timeout=void 0,this.concurrency=10,this.items=w??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(w){return this.concurrency=w,this}static withConcurrency(w){return new this().withConcurrency(w)}withTaskTimeout(w){return this.timeout=w,this}static withTaskTimeout(w){return new this().withTaskTimeout(w)}for(w){const g=new l(w).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&g.handleError(this.errorHandler),typeof this.timeout=="number"?g.withTaskTimeout(this.timeout):g}static for(w){return new this().for(w)}handleError(w){return this.errorHandler=w,this}onTaskStarted(w){return this.onTaskStartedHandlers.push(w),this}onTaskFinished(w){return this.onTaskFinishedHandlers.push(w),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(w){return new f.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(w).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}u.PromisePool=l,l.notRun=Symbol("notRun"),l.failed=Symbol("failed")},58059:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},23457:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StopThePromisePoolError=void 0;class x extends Error{}u.StopThePromisePoolError=x},12559:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationError=void 0;class x extends Error{constructor(l){super(l),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(l){return new this(l)}}u.ValidationError=x},39556:function(B){"use strict";(function(u){function x(D){return parseInt(D)===D}function f(D){if(!x(D.length))return!1;for(var $=0;$<D.length;$++)if(!x(D[$])||D[$]<0||D[$]>255)return!1;return!0}function l(D,$){if(D.buffer&&ArrayBuffer.isView(D)&&D.name==="Uint8Array")return $&&(D.slice?D=D.slice():D=Array.prototype.slice.call(D)),D;if(Array.isArray(D)){if(!f(D))throw new Error("Array contains invalid value: "+D);return new Uint8Array(D)}if(x(D.length)&&f(D))return new Uint8Array(D);throw new Error("unsupported array-like object")}function v(D){return new Uint8Array(D)}function w(D,$,ae,F,G){(F!=null||G!=null)&&(D.slice?D=D.slice(F,G):D=Array.prototype.slice.call(D,F,G)),$.set(D,ae)}var g=function(){function D(ae){var F=[],G=0;for(ae=encodeURI(ae);G<ae.length;){var Ee=ae.charCodeAt(G++);Ee===37?(F.push(parseInt(ae.substr(G,2),16)),G+=2):F.push(Ee)}return l(F)}function $(ae){for(var F=[],G=0;G<ae.length;){var Ee=ae[G];Ee<128?(F.push(String.fromCharCode(Ee)),G++):Ee>191&&Ee<224?(F.push(String.fromCharCode((Ee&31)<<6|ae[G+1]&63)),G+=2):(F.push(String.fromCharCode((Ee&15)<<12|(ae[G+1]&63)<<6|ae[G+2]&63)),G+=3)}return F.join("")}return{toBytes:D,fromBytes:$}}(),p=function(){function D(F){for(var G=[],Ee=0;Ee<F.length;Ee+=2)G.push(parseInt(F.substr(Ee,2),16));return G}var $="0123456789abcdef";function ae(F){for(var G=[],Ee=0;Ee<F.length;Ee++){var ve=F[Ee];G.push($[(ve&240)>>4]+$[ve&15])}return G.join("")}return{toBytes:D,fromBytes:ae}}(),h={16:10,24:12,32:14},S=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],E=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],I=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],R=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],P=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],N=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],z=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Y=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],J=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],pe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],W=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Q=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Z=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function fe(D){for(var $=[],ae=0;ae<D.length;ae+=4)$.push(D[ae]<<24|D[ae+1]<<16|D[ae+2]<<8|D[ae+3]);return $}var Ce=function(D){if(!(this instanceof Ce))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:l(D,!0)}),this._prepare()};Ce.prototype._prepare=function(){var D=h[this.key.length];if(D==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var $=0;$<=D;$++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var ae=(D+1)*4,F=this.key.length/4,G=fe(this.key),Ee,$=0;$<F;$++)Ee=$>>2,this._Ke[Ee][$%4]=G[$],this._Kd[D-Ee][$%4]=G[$];for(var ve=0,Re=F,Fe;Re<ae;){if(Fe=G[F-1],G[0]^=E[Fe>>16&255]<<24^E[Fe>>8&255]<<16^E[Fe&255]<<8^E[Fe>>24&255]^S[ve]<<24,ve+=1,F!=8)for(var $=1;$<F;$++)G[$]^=G[$-1];else{for(var $=1;$<F/2;$++)G[$]^=G[$-1];Fe=G[F/2-1],G[F/2]^=E[Fe&255]^E[Fe>>8&255]<<8^E[Fe>>16&255]<<16^E[Fe>>24&255]<<24;for(var $=F/2+1;$<F;$++)G[$]^=G[$-1]}for(var $=0,At,vt;$<F&&Re<ae;)At=Re>>2,vt=Re%4,this._Ke[At][vt]=G[$],this._Kd[D-At][vt]=G[$++],Re++}for(var At=1;At<D;At++)for(var vt=0;vt<4;vt++)Fe=this._Kd[At][vt],this._Kd[At][vt]=pe[Fe>>24&255]^W[Fe>>16&255]^Q[Fe>>8&255]^Z[Fe&255]},Ce.prototype.encrypt=function(D){if(D.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var $=this._Ke.length-1,ae=[0,0,0,0],F=fe(D),G=0;G<4;G++)F[G]^=this._Ke[0][G];for(var Ee=1;Ee<$;Ee++){for(var G=0;G<4;G++)ae[G]=R[F[G]>>24&255]^P[F[(G+1)%4]>>16&255]^y[F[(G+2)%4]>>8&255]^U[F[(G+3)%4]&255]^this._Ke[Ee][G];F=ae.slice()}for(var ve=v(16),Re,G=0;G<4;G++)Re=this._Ke[$][G],ve[4*G]=(E[F[G]>>24&255]^Re>>24)&255,ve[4*G+1]=(E[F[(G+1)%4]>>16&255]^Re>>16)&255,ve[4*G+2]=(E[F[(G+2)%4]>>8&255]^Re>>8)&255,ve[4*G+3]=(E[F[(G+3)%4]&255]^Re)&255;return ve},Ce.prototype.decrypt=function(D){if(D.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var $=this._Kd.length-1,ae=[0,0,0,0],F=fe(D),G=0;G<4;G++)F[G]^=this._Kd[0][G];for(var Ee=1;Ee<$;Ee++){for(var G=0;G<4;G++)ae[G]=N[F[G]>>24&255]^z[F[(G+3)%4]>>16&255]^Y[F[(G+2)%4]>>8&255]^J[F[(G+1)%4]&255]^this._Kd[Ee][G];F=ae.slice()}for(var ve=v(16),Re,G=0;G<4;G++)Re=this._Kd[$][G],ve[4*G]=(I[F[G]>>24&255]^Re>>24)&255,ve[4*G+1]=(I[F[(G+3)%4]>>16&255]^Re>>16)&255,ve[4*G+2]=(I[F[(G+2)%4]>>8&255]^Re>>8)&255,ve[4*G+3]=(I[F[(G+1)%4]&255]^Re)&255;return ve};var he=function(D){if(!(this instanceof he))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Ce(D)};he.prototype.encrypt=function(D){if(D=l(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var $=v(D.length),ae=v(16),F=0;F<D.length;F+=16)w(D,ae,0,F,F+16),ae=this._aes.encrypt(ae),w(ae,$,F);return $},he.prototype.decrypt=function(D){if(D=l(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var $=v(D.length),ae=v(16),F=0;F<D.length;F+=16)w(D,ae,0,F,F+16),ae=this._aes.decrypt(ae),w(ae,$,F);return $};var _e=function(D,$){if(!(this instanceof _e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=l($,!0),this._aes=new Ce(D)};_e.prototype.encrypt=function(D){if(D=l(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var $=v(D.length),ae=v(16),F=0;F<D.length;F+=16){w(D,ae,0,F,F+16);for(var G=0;G<16;G++)ae[G]^=this._lastCipherblock[G];this._lastCipherblock=this._aes.encrypt(ae),w(this._lastCipherblock,$,F)}return $},_e.prototype.decrypt=function(D){if(D=l(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var $=v(D.length),ae=v(16),F=0;F<D.length;F+=16){w(D,ae,0,F,F+16),ae=this._aes.decrypt(ae);for(var G=0;G<16;G++)$[F+G]=ae[G]^this._lastCipherblock[G];w(D,this._lastCipherblock,0,F,F+16)}return $};var H=function(D,$,ae){if(!(this instanceof H))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");ae||(ae=1),this.segmentSize=ae,this._shiftRegister=l($,!0),this._aes=new Ce(D)};H.prototype.encrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var $=l(D,!0),ae,F=0;F<$.length;F+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var G=0;G<this.segmentSize;G++)$[F+G]^=ae[G];w(this._shiftRegister,this._shiftRegister,0,this.segmentSize),w($,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return $},H.prototype.decrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var $=l(D,!0),ae,F=0;F<$.length;F+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var G=0;G<this.segmentSize;G++)$[F+G]^=ae[G];w(this._shiftRegister,this._shiftRegister,0,this.segmentSize),w(D,this._shiftRegister,16-this.segmentSize,F,F+this.segmentSize)}return $};var te=function(D,$){if(!(this instanceof te))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=l($,!0),this._lastPrecipherIndex=16,this._aes=new Ce(D)};te.prototype.encrypt=function(D){for(var $=l(D,!0),ae=0;ae<$.length;ae++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),$[ae]^=this._lastPrecipher[this._lastPrecipherIndex++];return $},te.prototype.decrypt=te.prototype.encrypt;var ee=function(D){if(!(this instanceof ee))throw Error("Counter must be instanitated with `new`");D!==0&&!D&&(D=1),typeof D=="number"?(this._counter=v(16),this.setValue(D)):this.setBytes(D)};ee.prototype.setValue=function(D){if(typeof D!="number"||parseInt(D)!=D)throw new Error("invalid counter value (must be an integer)");for(var $=15;$>=0;--$)this._counter[$]=D%256,D=D>>8},ee.prototype.setBytes=function(D){if(D=l(D,!0),D.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=D},ee.prototype.increment=function(){for(var D=15;D>=0;D--)if(this._counter[D]===255)this._counter[D]=0;else{this._counter[D]++;break}};var xe=function(D,$){if(!(this instanceof xe))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",$ instanceof ee||($=new ee($)),this._counter=$,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Ce(D)};xe.prototype.encrypt=function(D){for(var $=l(D,!0),ae=0;ae<$.length;ae++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),$[ae]^=this._remainingCounter[this._remainingCounterIndex++];return $},xe.prototype.decrypt=xe.prototype.encrypt;function ke(D){D=l(D,!0);var $=16-D.length%16,ae=v(D.length+$);w(D,ae);for(var F=D.length;F<ae.length;F++)ae[F]=$;return ae}function Ae(D){if(D=l(D,!0),D.length<16)throw new Error("PKCS#7 invalid length");var $=D[D.length-1];if($>16)throw new Error("PKCS#7 padding byte out of range");for(var ae=D.length-$,F=0;F<$;F++)if(D[ae+F]!==$)throw new Error("PKCS#7 invalid padding byte");var G=v(ae);return w(D,G,0,0,ae),G}var j={AES:Ce,Counter:ee,ModeOfOperation:{ecb:he,cbc:_e,cfb:H,ofb:te,ctr:xe},utils:{hex:p,utf8:g},padding:{pkcs7:{pad:ke,strip:Ae}},_arrayTest:{coerceArray:l,createArray:v,copyArray:w}};B.exports=j})(this)},29938:function(B,u,x){var f=x(38032);function l(v,w){function g(p,h){var S=w||{},E;"randomize"in S||(S.randomize=!0),E=f.operation(S);function I(y){h(y||new Error("Aborted"))}function R(y,U){if(y.bail){I(y);return}E.retry(y)?S.onRetry&&S.onRetry(y,U):h(E.mainError())}function P(y){var U;try{U=v(I,y)}catch(N){R(N,y);return}Promise.resolve(U).then(p).catch(function(z){R(z,y)})}E.attempt(P)}return new Promise(g)}B.exports=l},37833:function(B,u,x){B.exports=x(24180)},52799:function(B,u,x){"use strict";var f=x(15013),l=x(10898),v=x(60823),w=x(90575),g=x(45456),p=x(76630),h=x(39736),S=x(1184),E=x(15763),I=x(34477),R=x(40480);B.exports=function(y){return new Promise(function(N,z){var Y=y.data,J=y.headers,pe=y.responseType,W;function Q(){y.cancelToken&&y.cancelToken.unsubscribe(W),y.signal&&y.signal.removeEventListener("abort",W)}f.isFormData(Y)&&f.isStandardBrowserEnv()&&delete J["Content-Type"];var Z=new XMLHttpRequest;if(y.auth){var fe=y.auth.username||"",Ce=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";J.Authorization="Basic "+btoa(fe+":"+Ce)}var he=g(y.baseURL,y.url);Z.open(y.method.toUpperCase(),w(he,y.params,y.paramsSerializer),!0),Z.timeout=y.timeout;function _e(){if(Z){var ee="getAllResponseHeaders"in Z?p(Z.getAllResponseHeaders()):null,xe=!pe||pe==="text"||pe==="json"?Z.responseText:Z.response,ke={data:xe,status:Z.status,statusText:Z.statusText,headers:ee,config:y,request:Z};l(function(j){N(j),Q()},function(j){z(j),Q()},ke),Z=null}}if("onloadend"in Z?Z.onloadend=_e:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(_e)},Z.onabort=function(){Z&&(z(new E("Request aborted",E.ECONNABORTED,y,Z)),Z=null)},Z.onerror=function(){z(new E("Network Error",E.ERR_NETWORK,y,Z,Z)),Z=null},Z.ontimeout=function(){var xe=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded",ke=y.transitional||S;y.timeoutErrorMessage&&(xe=y.timeoutErrorMessage),z(new E(xe,ke.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,y,Z)),Z=null},f.isStandardBrowserEnv()){var H=(y.withCredentials||h(he))&&y.xsrfCookieName?v.read(y.xsrfCookieName):void 0;H&&(J[y.xsrfHeaderName]=H)}"setRequestHeader"in Z&&f.forEach(J,function(xe,ke){typeof Y>"u"&&ke.toLowerCase()==="content-type"?delete J[ke]:Z.setRequestHeader(ke,xe)}),f.isUndefined(y.withCredentials)||(Z.withCredentials=!!y.withCredentials),pe&&pe!=="json"&&(Z.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&Z.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&Z.upload&&Z.upload.addEventListener("progress",y.onUploadProgress),(y.cancelToken||y.signal)&&(W=function(ee){Z&&(z(!ee||ee&&ee.type?new I:ee),Z.abort(),Z=null)},y.cancelToken&&y.cancelToken.subscribe(W),y.signal&&(y.signal.aborted?W():y.signal.addEventListener("abort",W))),Y||(Y=null);var te=R(he);if(te&&["http","https","file"].indexOf(te)===-1){z(new E("Unsupported protocol "+te+":",E.ERR_BAD_REQUEST,y));return}Z.send(Y)})}},24180:function(B,u,x){"use strict";var f=x(15013),l=x(40239),v=x(88800),w=x(8772),g=x(41639);function p(S){var E=new v(S),I=l(v.prototype.request,E);return f.extend(I,v.prototype,E),f.extend(I,E),I.create=function(P){return p(w(S,P))},I}var h=p(g);h.Axios=v,h.CanceledError=x(34477),h.CancelToken=x(86291),h.isCancel=x(70338),h.VERSION=x(98114).version,h.toFormData=x(60218),h.AxiosError=x(15763),h.Cancel=h.CanceledError,h.all=function(E){return Promise.all(E)},h.spread=x(60850),h.isAxiosError=x(1200),B.exports=h,B.exports.default=h},86291:function(B,u,x){"use strict";var f=x(34477);function l(v){if(typeof v!="function")throw new TypeError("executor must be a function.");var w;this.promise=new Promise(function(h){w=h});var g=this;this.promise.then(function(p){if(g._listeners){var h,S=g._listeners.length;for(h=0;h<S;h++)g._listeners[h](p);g._listeners=null}}),this.promise.then=function(p){var h,S=new Promise(function(E){g.subscribe(E),h=E}).then(p);return S.cancel=function(){g.unsubscribe(h)},S},v(function(h){g.reason||(g.reason=new f(h),w(g.reason))})}l.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},l.prototype.subscribe=function(w){if(this.reason){w(this.reason);return}this._listeners?this._listeners.push(w):this._listeners=[w]},l.prototype.unsubscribe=function(w){if(this._listeners){var g=this._listeners.indexOf(w);g!==-1&&this._listeners.splice(g,1)}},l.source=function(){var w,g=new l(function(h){w=h});return{token:g,cancel:w}},B.exports=l},34477:function(B,u,x){"use strict";var f=x(15763),l=x(15013);function v(w){f.call(this,w??"canceled",f.ERR_CANCELED),this.name="CanceledError"}l.inherits(v,f,{__CANCEL__:!0}),B.exports=v},70338:function(B){"use strict";B.exports=function(x){return!!(x&&x.__CANCEL__)}},88800:function(B,u,x){"use strict";var f=x(15013),l=x(90575),v=x(26037),w=x(11269),g=x(8772),p=x(45456),h=x(28942),S=h.validators;function E(I){this.defaults=I,this.interceptors={request:new v,response:new v}}E.prototype.request=function(R,P){typeof R=="string"?(P=P||{},P.url=R):P=R||{},P=g(this.defaults,P),P.method?P.method=P.method.toLowerCase():this.defaults.method?P.method=this.defaults.method.toLowerCase():P.method="get";var y=P.transitional;y!==void 0&&h.assertOptions(y,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1);var U=[],N=!0;this.interceptors.request.forEach(function(fe){typeof fe.runWhen=="function"&&fe.runWhen(P)===!1||(N=N&&fe.synchronous,U.unshift(fe.fulfilled,fe.rejected))});var z=[];this.interceptors.response.forEach(function(fe){z.push(fe.fulfilled,fe.rejected)});var Y;if(!N){var J=[w,void 0];for(Array.prototype.unshift.apply(J,U),J=J.concat(z),Y=Promise.resolve(P);J.length;)Y=Y.then(J.shift(),J.shift());return Y}for(var pe=P;U.length;){var W=U.shift(),Q=U.shift();try{pe=W(pe)}catch(Z){Q(Z);break}}try{Y=w(pe)}catch(Z){return Promise.reject(Z)}for(;z.length;)Y=Y.then(z.shift(),z.shift());return Y},E.prototype.getUri=function(R){R=g(this.defaults,R);var P=p(R.baseURL,R.url);return l(P,R.params,R.paramsSerializer)},f.forEach(["delete","get","head","options"],function(R){E.prototype[R]=function(P,y){return this.request(g(y||{},{method:R,url:P,data:(y||{}).data}))}}),f.forEach(["post","put","patch"],function(R){function P(y){return function(N,z,Y){return this.request(g(Y||{},{method:R,headers:y?{"Content-Type":"multipart/form-data"}:{},url:N,data:z}))}}E.prototype[R]=P(),E.prototype[R+"Form"]=P(!0)}),B.exports=E},15763:function(B,u,x){"use strict";var f=x(15013);function l(g,p,h,S,E){Error.call(this),this.message=g,this.name="AxiosError",p&&(this.code=p),h&&(this.config=h),S&&(this.request=S),E&&(this.response=E)}f.inherits(l,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var v=l.prototype,w={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(g){w[g]={value:g}}),Object.defineProperties(l,w),Object.defineProperty(v,"isAxiosError",{value:!0}),l.from=function(g,p,h,S,E,I){var R=Object.create(v);return f.toFlatObject(g,R,function(y){return y!==Error.prototype}),l.call(R,g.message,p,h,S,E),R.name=g.name,I&&Object.assign(R,I),R},B.exports=l},26037:function(B,u,x){"use strict";var f=x(15013);function l(){this.handlers=[]}l.prototype.use=function(w,g,p){return this.handlers.push({fulfilled:w,rejected:g,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1},l.prototype.eject=function(w){this.handlers[w]&&(this.handlers[w]=null)},l.prototype.forEach=function(w){f.forEach(this.handlers,function(p){p!==null&&w(p)})},B.exports=l},45456:function(B,u,x){"use strict";var f=x(93378),l=x(10402);B.exports=function(w,g){return w&&!f(g)?l(w,g):g}},11269:function(B,u,x){"use strict";var f=x(15013),l=x(82349),v=x(70338),w=x(41639),g=x(34477);function p(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new g}B.exports=function(S){p(S),S.headers=S.headers||{},S.data=l.call(S,S.data,S.headers,S.transformRequest),S.headers=f.merge(S.headers.common||{},S.headers[S.method]||{},S.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(R){delete S.headers[R]});var E=S.adapter||w.adapter;return E(S).then(function(R){return p(S),R.data=l.call(S,R.data,R.headers,S.transformResponse),R},function(R){return v(R)||(p(S),R&&R.response&&(R.response.data=l.call(S,R.response.data,R.response.headers,S.transformResponse))),Promise.reject(R)})}},8772:function(B,u,x){"use strict";var f=x(15013);B.exports=function(v,w){w=w||{};var g={};function p(P,y){return f.isPlainObject(P)&&f.isPlainObject(y)?f.merge(P,y):f.isPlainObject(y)?f.merge({},y):f.isArray(y)?y.slice():y}function h(P){if(f.isUndefined(w[P])){if(!f.isUndefined(v[P]))return p(void 0,v[P])}else return p(v[P],w[P])}function S(P){if(!f.isUndefined(w[P]))return p(void 0,w[P])}function E(P){if(f.isUndefined(w[P])){if(!f.isUndefined(v[P]))return p(void 0,v[P])}else return p(void 0,w[P])}function I(P){if(P in w)return p(v[P],w[P]);if(P in v)return p(void 0,v[P])}var R={url:S,method:S,data:S,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,beforeRedirect:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:I};return f.forEach(Object.keys(v).concat(Object.keys(w)),function(y){var U=R[y]||h,N=U(y);f.isUndefined(N)&&U!==I||(g[y]=N)}),g}},10898:function(B,u,x){"use strict";var f=x(15763);B.exports=function(v,w,g){var p=g.config.validateStatus;!g.status||!p||p(g.status)?v(g):w(new f("Request failed with status code "+g.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(g.status/100)-4],g.config,g.request,g))}},82349:function(B,u,x){"use strict";var f=x(15013),l=x(41639);B.exports=function(w,g,p){var h=this||l;return f.forEach(p,function(E){w=E.call(h,w,g)}),w}},41639:function(B,u,x){"use strict";var f=x(14224),l=x(15013),v=x(19513),w=x(15763),g=x(1184),p=x(60218),h={"Content-Type":"application/x-www-form-urlencoded"};function S(P,y){!l.isUndefined(P)&&l.isUndefined(P["Content-Type"])&&(P["Content-Type"]=y)}function E(){var P;return(typeof XMLHttpRequest<"u"||typeof f<"u"&&Object.prototype.toString.call(f)==="[object process]")&&(P=x(52799)),P}function I(P,y,U){if(l.isString(P))try{return(y||JSON.parse)(P),l.trim(P)}catch(N){if(N.name!=="SyntaxError")throw N}return(U||JSON.stringify)(P)}var R={transitional:g,adapter:E(),transformRequest:[function(y,U){if(v(U,"Accept"),v(U,"Content-Type"),l.isFormData(y)||l.isArrayBuffer(y)||l.isBuffer(y)||l.isStream(y)||l.isFile(y)||l.isBlob(y))return y;if(l.isArrayBufferView(y))return y.buffer;if(l.isURLSearchParams(y))return S(U,"application/x-www-form-urlencoded;charset=utf-8"),y.toString();var N=l.isObject(y),z=U&&U["Content-Type"],Y;if((Y=l.isFileList(y))||N&&z==="multipart/form-data"){var J=this.env&&this.env.FormData;return p(Y?{"files[]":y}:y,J&&new J)}else if(N||z==="application/json")return S(U,"application/json"),I(y);return y}],transformResponse:[function(y){var U=this.transitional||R.transitional,N=U&&U.silentJSONParsing,z=U&&U.forcedJSONParsing,Y=!N&&this.responseType==="json";if(Y||z&&l.isString(y)&&y.length)try{return JSON.parse(y)}catch(J){if(Y)throw J.name==="SyntaxError"?w.from(J,w.ERR_BAD_RESPONSE,this,null,this.response):J}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:x(45965)},validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(y){R.headers[y]={}}),l.forEach(["post","put","patch"],function(y){R.headers[y]=l.merge(h)}),B.exports=R},1184:function(B){"use strict";B.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},98114:function(B){B.exports={version:"0.27.2"}},40239:function(B){"use strict";B.exports=function(x,f){return function(){for(var v=new Array(arguments.length),w=0;w<v.length;w++)v[w]=arguments[w];return x.apply(f,v)}}},90575:function(B,u,x){"use strict";var f=x(15013);function l(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}B.exports=function(w,g,p){if(!g)return w;var h;if(p)h=p(g);else if(f.isURLSearchParams(g))h=g.toString();else{var S=[];f.forEach(g,function(R,P){R===null||typeof R>"u"||(f.isArray(R)?P=P+"[]":R=[R],f.forEach(R,function(U){f.isDate(U)?U=U.toISOString():f.isObject(U)&&(U=JSON.stringify(U)),S.push(l(P)+"="+l(U))}))}),h=S.join("&")}if(h){var E=w.indexOf("#");E!==-1&&(w=w.slice(0,E)),w+=(w.indexOf("?")===-1?"?":"&")+h}return w}},10402:function(B){"use strict";B.exports=function(x,f){return f?x.replace(/\/+$/,"")+"/"+f.replace(/^\/+/,""):x}},60823:function(B,u,x){"use strict";var f=x(15013);B.exports=f.isStandardBrowserEnv()?function(){return{write:function(w,g,p,h,S,E){var I=[];I.push(w+"="+encodeURIComponent(g)),f.isNumber(p)&&I.push("expires="+new Date(p).toGMTString()),f.isString(h)&&I.push("path="+h),f.isString(S)&&I.push("domain="+S),E===!0&&I.push("secure"),document.cookie=I.join("; ")},read:function(w){var g=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(w){this.write(w,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},93378:function(B){"use strict";B.exports=function(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}},1200:function(B,u,x){"use strict";var f=x(15013);B.exports=function(v){return f.isObject(v)&&v.isAxiosError===!0}},39736:function(B,u,x){"use strict";var f=x(15013);B.exports=f.isStandardBrowserEnv()?function(){var v=/(msie|trident)/i.test(navigator.userAgent),w=document.createElement("a"),g;function p(h){var S=h;return v&&(w.setAttribute("href",S),S=w.href),w.setAttribute("href",S),{href:w.href,protocol:w.protocol?w.protocol.replace(/:$/,""):"",host:w.host,search:w.search?w.search.replace(/^\?/,""):"",hash:w.hash?w.hash.replace(/^#/,""):"",hostname:w.hostname,port:w.port,pathname:w.pathname.charAt(0)==="/"?w.pathname:"/"+w.pathname}}return g=p(window.location.href),function(S){var E=f.isString(S)?p(S):S;return E.protocol===g.protocol&&E.host===g.host}}():function(){return function(){return!0}}()},19513:function(B,u,x){"use strict";var f=x(15013);B.exports=function(v,w){f.forEach(v,function(p,h){h!==w&&h.toUpperCase()===w.toUpperCase()&&(v[w]=p,delete v[h])})}},45965:function(B){B.exports=null},76630:function(B,u,x){"use strict";var f=x(15013),l=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];B.exports=function(w){var g={},p,h,S;return w&&f.forEach(w.split(`
`),function(I){if(S=I.indexOf(":"),p=f.trim(I.substr(0,S)).toLowerCase(),h=f.trim(I.substr(S+1)),p){if(g[p]&&l.indexOf(p)>=0)return;p==="set-cookie"?g[p]=(g[p]?g[p]:[]).concat([h]):g[p]=g[p]?g[p]+", "+h:h}}),g}},40480:function(B){"use strict";B.exports=function(x){var f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return f&&f[1]||""}},60850:function(B){"use strict";B.exports=function(x){return function(l){return x.apply(null,l)}}},60218:function(B,u,x){"use strict";var f=x(55872).Buffer,l=x(15013);function v(w,g){g=g||new FormData;var p=[];function h(E){return E===null?"":l.isDate(E)?E.toISOString():l.isArrayBuffer(E)||l.isTypedArray(E)?typeof Blob=="function"?new Blob([E]):f.from(E):E}function S(E,I){if(l.isPlainObject(E)||l.isArray(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+I);p.push(E),l.forEach(E,function(P,y){if(!l.isUndefined(P)){var U=I?I+"."+y:y,N;if(P&&!I&&typeof P=="object"){if(l.endsWith(y,"{}"))P=JSON.stringify(P);else if(l.endsWith(y,"[]")&&(N=l.toArray(P))){N.forEach(function(z){!l.isUndefined(z)&&g.append(U,h(z))});return}}S(P,U)}}),p.pop()}else g.append(I,h(E))}return S(w),g}B.exports=v},28942:function(B,u,x){"use strict";var f=x(98114).version,l=x(15763),v={};["object","boolean","number","function","string","symbol"].forEach(function(p,h){v[p]=function(E){return typeof E===p||"a"+(h<1?"n ":" ")+p}});var w={};v.transitional=function(h,S,E){function I(R,P){return"[Axios v"+f+"] Transitional option '"+R+"'"+P+(E?". "+E:"")}return function(R,P,y){if(h===!1)throw new l(I(P," has been removed"+(S?" in "+S:"")),l.ERR_DEPRECATED);return S&&!w[P]&&(w[P]=!0,console.warn(I(P," has been deprecated since v"+S+" and will be removed in the near future"))),h?h(R,P,y):!0}};function g(p,h,S){if(typeof p!="object")throw new l("options must be an object",l.ERR_BAD_OPTION_VALUE);for(var E=Object.keys(p),I=E.length;I-- >0;){var R=E[I],P=h[R];if(P){var y=p[R],U=y===void 0||P(y,R,p);if(U!==!0)throw new l("option "+R+" must be "+U,l.ERR_BAD_OPTION_VALUE);continue}if(S!==!0)throw new l("Unknown option "+R,l.ERR_BAD_OPTION)}}B.exports={assertOptions:g,validators:v}},15013:function(B,u,x){"use strict";var f=x(40239),l=Object.prototype.toString,v=function(j){return function(D){var $=l.call(D);return j[$]||(j[$]=$.slice(8,-1).toLowerCase())}}(Object.create(null));function w(j){return j=j.toLowerCase(),function($){return v($)===j}}function g(j){return Array.isArray(j)}function p(j){return typeof j>"u"}function h(j){return j!==null&&!p(j)&&j.constructor!==null&&!p(j.constructor)&&typeof j.constructor.isBuffer=="function"&&j.constructor.isBuffer(j)}var S=w("ArrayBuffer");function E(j){var D;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?D=ArrayBuffer.isView(j):D=j&&j.buffer&&S(j.buffer),D}function I(j){return typeof j=="string"}function R(j){return typeof j=="number"}function P(j){return j!==null&&typeof j=="object"}function y(j){if(v(j)!=="object")return!1;var D=Object.getPrototypeOf(j);return D===null||D===Object.prototype}var U=w("Date"),N=w("File"),z=w("Blob"),Y=w("FileList");function J(j){return l.call(j)==="[object Function]"}function pe(j){return P(j)&&J(j.pipe)}function W(j){var D="[object FormData]";return j&&(typeof FormData=="function"&&j instanceof FormData||l.call(j)===D||J(j.toString)&&j.toString()===D)}var Q=w("URLSearchParams");function Z(j){return j.trim?j.trim():j.replace(/^\s+|\s+$/g,"")}function fe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ce(j,D){if(!(j===null||typeof j>"u"))if(typeof j!="object"&&(j=[j]),g(j))for(var $=0,ae=j.length;$<ae;$++)D.call(null,j[$],$,j);else for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&D.call(null,j[F],F,j)}function he(){var j={};function D(F,G){y(j[G])&&y(F)?j[G]=he(j[G],F):y(F)?j[G]=he({},F):g(F)?j[G]=F.slice():j[G]=F}for(var $=0,ae=arguments.length;$<ae;$++)Ce(arguments[$],D);return j}function _e(j,D,$){return Ce(D,function(F,G){$&&typeof F=="function"?j[G]=f(F,$):j[G]=F}),j}function H(j){return j.charCodeAt(0)===65279&&(j=j.slice(1)),j}function te(j,D,$,ae){j.prototype=Object.create(D.prototype,ae),j.prototype.constructor=j,$&&Object.assign(j.prototype,$)}function ee(j,D,$){var ae,F,G,Ee={};D=D||{};do{for(ae=Object.getOwnPropertyNames(j),F=ae.length;F-- >0;)G=ae[F],Ee[G]||(D[G]=j[G],Ee[G]=!0);j=Object.getPrototypeOf(j)}while(j&&(!$||$(j,D))&&j!==Object.prototype);return D}function xe(j,D,$){j=String(j),($===void 0||$>j.length)&&($=j.length),$-=D.length;var ae=j.indexOf(D,$);return ae!==-1&&ae===$}function ke(j){if(!j)return null;var D=j.length;if(p(D))return null;for(var $=new Array(D);D-- >0;)$[D]=j[D];return $}var Ae=function(j){return function(D){return j&&D instanceof j}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));B.exports={isArray:g,isArrayBuffer:S,isBuffer:h,isFormData:W,isArrayBufferView:E,isString:I,isNumber:R,isObject:P,isPlainObject:y,isUndefined:p,isDate:U,isFile:N,isBlob:z,isFunction:J,isStream:pe,isURLSearchParams:Q,isStandardBrowserEnv:fe,forEach:Ce,merge:he,extend:_e,trim:Z,stripBOM:H,inherits:te,toFlatObject:ee,kindOf:v,kindOfTest:w,endsWith:xe,toArray:ke,isTypedArray:Ae,isFileList:Y}},71504:function(B,u,x){"use strict";var f,l=x(55872).Buffer;f={value:!0};var v=x(50521);function w(I,R){return R===void 0&&(R="utf8"),l.isBuffer(I)?h(I.toString("base64")):h(l.from(I,R).toString("base64"))}function g(I,R){return R===void 0&&(R="utf8"),l.from(p(I),"base64").toString(R)}function p(I){return I=I.toString(),v.default(I).replace(/\-/g,"+").replace(/_/g,"/")}function h(I){return I.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(I){return l.from(p(I),"base64")}var E=w;E.encode=w,E.decode=g,E.toBase64=p,E.fromBase64=h,E.toBuffer=S,u.default=E},50521:function(B,u,x){"use strict";var f=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0});function l(v){var w=4,g=v.length,p=g%w;if(!p)return v;var h=g,S=w-p,E=g+S,I=f.alloc(E);for(I.write(v);S--;)I.write("=",h++);return I.toString()}u.default=l},27220:function(B,u,x){B.exports=x(71504).default,B.exports.default=B.exports},36243:function(B){B.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var createOutputMethod=function(B,u){return function(x){return new Sha256(u,!0).update(x)[B]()}},createMethod=function(B){var u=createOutputMethod("hex",B);NODE_JS&&(u=nodeWrap(u,B)),u.create=function(){return new Sha256(B)},u.update=function(l){return u.create().update(l)};for(var x=0;x<OUTPUT_TYPES.length;++x){var f=OUTPUT_TYPES[x];u[f]=createOutputMethod(f,B)}return u},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(B){if(typeof B=="string")return crypto.createHash(algorithm).update(B,"utf8").digest("hex");if(B==null)throw new Error(ERROR);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),Array.isArray(B)||ArrayBuffer.isView(B)||B.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(B)).digest("hex"):method(B)};return nodeMethod},createHmacOutputMethod=function(B,u){return function(x,f){return new HmacSha256(x,u,!0).update(f)[B]()}},createHmacMethod=function(B){var u=createHmacOutputMethod("hex",B);u.create=function(l){return new HmacSha256(l,B)},u.update=function(l,v){return u.create(l).update(v)};for(var x=0;x<OUTPUT_TYPES.length;++x){var f=OUTPUT_TYPES[x];u[f]=createHmacOutputMethod(f,B)}return u};function Sha256(B,u){u?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}Sha256.prototype.update=function(B){if(!this.finalized){var u,x=typeof B;if(x!=="string"){if(x==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);u=!0}for(var f,l=0,v,w=B.length,g=this.blocks;l<w;){if(this.hashed&&(this.hashed=!1,g[0]=this.block,g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0),u)for(v=this.start;l<w&&v<64;++l)g[v>>2]|=B[l]<<SHIFT[v++&3];else for(v=this.start;l<w&&v<64;++l)f=B.charCodeAt(l),f<128?g[v>>2]|=f<<SHIFT[v++&3]:f<2048?(g[v>>2]|=(192|f>>6)<<SHIFT[v++&3],g[v>>2]|=(128|f&63)<<SHIFT[v++&3]):f<55296||f>=57344?(g[v>>2]|=(224|f>>12)<<SHIFT[v++&3],g[v>>2]|=(128|f>>6&63)<<SHIFT[v++&3],g[v>>2]|=(128|f&63)<<SHIFT[v++&3]):(f=65536+((f&1023)<<10|B.charCodeAt(++l)&1023),g[v>>2]|=(240|f>>18)<<SHIFT[v++&3],g[v>>2]|=(128|f>>12&63)<<SHIFT[v++&3],g[v>>2]|=(128|f>>6&63)<<SHIFT[v++&3],g[v>>2]|=(128|f&63)<<SHIFT[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=g[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,u=this.lastByteIndex;B[16]=this.block,B[u>>2]|=EXTRA[u&3],this.block=B[16],u>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,v=this.h5,w=this.h6,g=this.h7,p=this.blocks,h,S,E,I,R,P,y,U,N,z,Y;for(h=16;h<64;++h)R=p[h-15],S=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,R=p[h-2],E=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,p[h]=p[h-16]+S+p[h-7]+E<<0;for(Y=u&x,h=0;h<64;h+=4)this.first?(this.is224?(U=300032,R=p[0]-1413257819,g=R-150054599<<0,f=R+24177077<<0):(U=704751109,R=p[0]-210244248,g=R-1521486534<<0,f=R+143694565<<0),this.first=!1):(S=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),E=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),U=B&u,I=U^B&x^Y,y=l&v^~l&w,R=g+E+y+K[h]+p[h],P=S+I,g=f+R<<0,f=R+P<<0),S=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),E=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),N=f&B,I=N^f&u^U,y=g&l^~g&v,R=w+E+y+K[h+1]+p[h+1],P=S+I,w=x+R<<0,x=R+P<<0,S=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),E=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),z=x&f,I=z^x&B^N,y=w&g^~w&l,R=v+E+y+K[h+2]+p[h+2],P=S+I,v=u+R<<0,u=R+P<<0,S=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),E=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),Y=u&x,I=Y^u&f^z,y=v&w^~v&g,R=l+E+y+K[h+3]+p[h+3],P=S+I,l=B+R<<0,B=R+P<<0;this.h0=this.h0+B<<0,this.h1=this.h1+u<<0,this.h2=this.h2+x<<0,this.h3=this.h3+f<<0,this.h4=this.h4+l<<0,this.h5=this.h5+v<<0,this.h6=this.h6+w<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,v=this.h5,w=this.h6,g=this.h7,p=HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[x&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[v&15]+HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>4&15]+HEX_CHARS[w&15];return this.is224||(p+=HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15]),p},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,v=this.h5,w=this.h6,g=this.h7,p=[B>>24&255,B>>16&255,B>>8&255,B&255,u>>24&255,u>>16&255,u>>8&255,u&255,x>>24&255,x>>16&255,x>>8&255,x&255,f>>24&255,f>>16&255,f>>8&255,f&255,l>>24&255,l>>16&255,l>>8&255,l&255,v>>24&255,v>>16&255,v>>8&255,v&255,w>>24&255,w>>16&255,w>>8&255,w&255];return this.is224||p.push(g>>24&255,g>>16&255,g>>8&255,g&255),p},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),u=new DataView(B);return u.setUint32(0,this.h0),u.setUint32(4,this.h1),u.setUint32(8,this.h2),u.setUint32(12,this.h3),u.setUint32(16,this.h4),u.setUint32(20,this.h5),u.setUint32(24,this.h6),this.is224||u.setUint32(28,this.h7),B};function HmacSha256(B,u,x){var f,l=typeof B;if(l==="string"){var v=[],w=B.length,g=0,p;for(f=0;f<w;++f)p=B.charCodeAt(f),p<128?v[g++]=p:p<2048?(v[g++]=192|p>>6,v[g++]=128|p&63):p<55296||p>=57344?(v[g++]=224|p>>12,v[g++]=128|p>>6&63,v[g++]=128|p&63):(p=65536+((p&1023)<<10|B.charCodeAt(++f)&1023),v[g++]=240|p>>18,v[g++]=128|p>>12&63,v[g++]=128|p>>6&63,v[g++]=128|p&63);B=v}else if(l==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);B.length>64&&(B=new Sha256(u,!0).update(B).array());var h=[],S=[];for(f=0;f<64;++f){var E=B[f]||0;h[f]=92^E,S[f]=54^E}Sha256.call(this,u,x),this.update(S),this.oKeyPad=h,this.inner=!0,this.sharedMemory=x}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},41389:function(B,u,x){B.exports=x(69136)(x(91e3))},69136:function(B,u,x){const f=x(40704),l=x(70702);B.exports=function(v){const w=f(v),g=l(v);return function(p,h){switch(typeof p=="string"?p.toLowerCase():p){case"keccak224":return new w(1152,448,null,224,h);case"keccak256":return new w(1088,512,null,256,h);case"keccak384":return new w(832,768,null,384,h);case"keccak512":return new w(576,1024,null,512,h);case"sha3-224":return new w(1152,448,6,224,h);case"sha3-256":return new w(1088,512,6,256,h);case"sha3-384":return new w(832,768,6,384,h);case"sha3-512":return new w(576,1024,6,512,h);case"shake128":return new g(1344,256,31,h);case"shake256":return new g(1088,512,31,h);default:throw new Error("Invald algorithm: "+p)}}}},40704:function(B,u,x){var f=x(55872).Buffer;const{Transform:l}=x(62981);B.exports=v=>class p0 extends l{constructor(g,p,h,S,E){super(E),this._rate=g,this._capacity=p,this._delimitedSuffix=h,this._hashBitLength=S,this._options=E,this._state=new v,this._state.initialize(g,p),this._finalized=!1}_transform(g,p,h){let S=null;try{this.update(g,p)}catch(E){S=E}h(S)}_flush(g){let p=null;try{this.push(this.digest())}catch(h){p=h}g(p)}update(g,p){if(!f.isBuffer(g)&&typeof g!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return f.isBuffer(g)||(g=f.from(g,p)),this._state.absorb(g),this}digest(g){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let p=this._state.squeeze(this._hashBitLength/8);return g!==void 0&&(p=p.toString(g)),this._resetState(),p}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const g=new p0(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(g._state),g._finalized=this._finalized,g}}},70702:function(B,u,x){var f=x(55872).Buffer;const{Transform:l}=x(62981);B.exports=v=>class y0 extends l{constructor(g,p,h,S){super(S),this._rate=g,this._capacity=p,this._delimitedSuffix=h,this._options=S,this._state=new v,this._state.initialize(g,p),this._finalized=!1}_transform(g,p,h){let S=null;try{this.update(g,p)}catch(E){S=E}h(S)}_flush(){}_read(g){this.push(this.squeeze(g))}update(g,p){if(!f.isBuffer(g)&&typeof g!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return f.isBuffer(g)||(g=f.from(g,p)),this._state.absorb(g),this}squeeze(g,p){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let h=this._state.squeeze(g);return p!==void 0&&(h=h.toString(p)),h}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const g=new y0(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(g._state),g._finalized=this._finalized,g}}},26921:function(B,u){const x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];u.p1600=function(f){for(let l=0;l<24;++l){const v=f[0]^f[10]^f[20]^f[30]^f[40],w=f[1]^f[11]^f[21]^f[31]^f[41],g=f[2]^f[12]^f[22]^f[32]^f[42],p=f[3]^f[13]^f[23]^f[33]^f[43],h=f[4]^f[14]^f[24]^f[34]^f[44],S=f[5]^f[15]^f[25]^f[35]^f[45],E=f[6]^f[16]^f[26]^f[36]^f[46],I=f[7]^f[17]^f[27]^f[37]^f[47],R=f[8]^f[18]^f[28]^f[38]^f[48],P=f[9]^f[19]^f[29]^f[39]^f[49];let y=R^(g<<1|p>>>31),U=P^(p<<1|g>>>31);const N=f[0]^y,z=f[1]^U,Y=f[10]^y,J=f[11]^U,pe=f[20]^y,W=f[21]^U,Q=f[30]^y,Z=f[31]^U,fe=f[40]^y,Ce=f[41]^U;y=v^(h<<1|S>>>31),U=w^(S<<1|h>>>31);const he=f[2]^y,_e=f[3]^U,H=f[12]^y,te=f[13]^U,ee=f[22]^y,xe=f[23]^U,ke=f[32]^y,Ae=f[33]^U,j=f[42]^y,D=f[43]^U;y=g^(E<<1|I>>>31),U=p^(I<<1|E>>>31);const $=f[4]^y,ae=f[5]^U,F=f[14]^y,G=f[15]^U,Ee=f[24]^y,ve=f[25]^U,Re=f[34]^y,Fe=f[35]^U,At=f[44]^y,vt=f[45]^U;y=h^(R<<1|P>>>31),U=S^(P<<1|R>>>31);const hr=f[6]^y,qr=f[7]^U,Fn=f[16]^y,Zr=f[17]^U,dn=f[26]^y,sr=f[27]^U,Kn=f[36]^y,we=f[37]^U,zn=f[46]^y,Et=f[47]^U;y=E^(v<<1|w>>>31),U=I^(w<<1|v>>>31);const Sr=f[8]^y,mr=f[9]^U,ln=f[18]^y,hn=f[19]^U,jr=f[28]^y,Se=f[29]^U,Ft=f[38]^y,tr=f[39]^U,vn=f[48]^y,St=f[49]^U,Yr=N,Oe=z,Qr=J<<4|Y>>>28,xr=Y<<4|J>>>28,ar=pe<<3|W>>>29,en=W<<3|pe>>>29,Ur=Z<<9|Q>>>23,kt=Q<<9|Z>>>23,pr=fe<<18|Ce>>>14,Or=Ce<<18|fe>>>14,Gr=he<<1|_e>>>31,_r=_e<<1|he>>>31,or=te<<12|H>>>20,xn=H<<12|te>>>20,En=ee<<10|xe>>>22,wr=xe<<10|ee>>>22,vr=Ae<<13|ke>>>19,ze=ke<<13|Ae>>>19,Ar=j<<2|D>>>30,Ht=D<<2|j>>>30,nt=ae<<30|$>>>2,Wt=$<<30|ae>>>2,$t=F<<6|G>>>26,$n=G<<6|F>>>26,b=ve<<11|Ee>>>21,_=Ee<<11|ve>>>21,A=Re<<15|Fe>>>17,c=Fe<<15|Re>>>17,k=vt<<29|At>>>3,q=At<<29|vt>>>3,X=hr<<28|qr>>>4,se=qr<<28|hr>>>4,me=Zr<<23|Fn>>>9,Ne=Fn<<23|Zr>>>9,le=dn<<25|sr>>>7,st=sr<<25|dn>>>7,Te=Kn<<21|we>>>11,qe=we<<21|Kn>>>11,Ke=Et<<24|zn>>>8,Xe=zn<<24|Et>>>8,Je=Sr<<27|mr>>>5,Ge=mr<<27|Sr>>>5,Ve=ln<<20|hn>>>12,$e=hn<<20|ln>>>12,Ie=Se<<7|jr>>>25,Le=jr<<7|Se>>>25,Be=Ft<<8|tr>>>24,Me=tr<<8|Ft>>>24,Ue=vn<<14|St>>>18,Pe=St<<14|vn>>>18;f[0]=Yr^~or&b,f[1]=Oe^~xn&_,f[10]=X^~Ve&ar,f[11]=se^~$e&en,f[20]=Gr^~$t&le,f[21]=_r^~$n&st,f[30]=Je^~Qr&En,f[31]=Ge^~xr&wr,f[40]=nt^~me&Ie,f[41]=Wt^~Ne&Le,f[2]=or^~b&Te,f[3]=xn^~_&qe,f[12]=Ve^~ar&vr,f[13]=$e^~en&ze,f[22]=$t^~le&Be,f[23]=$n^~st&Me,f[32]=Qr^~En&A,f[33]=xr^~wr&c,f[42]=me^~Ie&Ur,f[43]=Ne^~Le&kt,f[4]=b^~Te&Ue,f[5]=_^~qe&Pe,f[14]=ar^~vr&k,f[15]=en^~ze&q,f[24]=le^~Be&pr,f[25]=st^~Me&Or,f[34]=En^~A&Ke,f[35]=wr^~c&Xe,f[44]=Ie^~Ur&Ar,f[45]=Le^~kt&Ht,f[6]=Te^~Ue&Yr,f[7]=qe^~Pe&Oe,f[16]=vr^~k&X,f[17]=ze^~q&se,f[26]=Be^~pr&Gr,f[27]=Me^~Or&_r,f[36]=A^~Ke&Je,f[37]=c^~Xe&Ge,f[46]=Ur^~Ar&nt,f[47]=kt^~Ht&Wt,f[8]=Ue^~Yr&or,f[9]=Pe^~Oe&xn,f[18]=k^~X&Ve,f[19]=q^~se&$e,f[28]=pr^~Gr&$t,f[29]=Or^~_r&$n,f[38]=Ke^~Je&Qr,f[39]=Xe^~Ge&xr,f[48]=Ar^~nt&me,f[49]=Ht^~Wt&Ne,f[0]^=x[l*2],f[1]^=x[l*2+1]}}},91e3:function(B,u,x){var f=x(55872).Buffer;const l=x(26921);function v(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}v.prototype.initialize=function(w,g){for(let p=0;p<50;++p)this.state[p]=0;this.blockSize=w/8,this.count=0,this.squeezing=!1},v.prototype.absorb=function(w){for(let g=0;g<w.length;++g)this.state[~~(this.count/4)]^=w[g]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(l.p1600(this.state),this.count=0)},v.prototype.absorbLastFewBits=function(w){this.state[~~(this.count/4)]^=w<<8*(this.count%4),w&128&&this.count===this.blockSize-1&&l.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),l.p1600(this.state),this.count=0,this.squeezing=!0},v.prototype.squeeze=function(w){this.squeezing||this.absorbLastFewBits(1);const g=f.alloc(w);for(let p=0;p<w;++p)g[p]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(l.p1600(this.state),this.count=0);return g},v.prototype.copy=function(w){for(let g=0;g<50;++g)w.state[g]=this.state[g];w.blockSize=this.blockSize,w.count=this.count,w.squeezing=this.squeezing},B.exports=v},38032:function(B,u,x){B.exports=x(54215)},54215:function(B,u,x){var f=x(55310);u.operation=function(l){var v=u.timeouts(l);return new f(v,{forever:l&&(l.forever||l.retries===1/0),unref:l&&l.unref,maxRetryTime:l&&l.maxRetryTime})},u.timeouts=function(l){if(l instanceof Array)return[].concat(l);var v={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var w in l)v[w]=l[w];if(v.minTimeout>v.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var g=[],p=0;p<v.retries;p++)g.push(this.createTimeout(p,v));return l&&l.forever&&!g.length&&g.push(this.createTimeout(p,v)),g.sort(function(h,S){return h-S}),g},u.createTimeout=function(l,v){var w=v.randomize?Math.random()+1:1,g=Math.round(w*Math.max(v.minTimeout,1)*Math.pow(v.factor,l));return g=Math.min(g,v.maxTimeout),g},u.wrap=function(l,v,w){if(v instanceof Array&&(w=v,v=null),!w){w=[];for(var g in l)typeof l[g]=="function"&&w.push(g)}for(var p=0;p<w.length;p++){var h=w[p],S=l[h];l[h]=function(I){var R=u.operation(v),P=Array.prototype.slice.call(arguments,1),y=P.pop();P.push(function(U){R.retry(U)||(U&&(arguments[0]=R.mainError()),y.apply(this,arguments))}),R.attempt(function(){I.apply(l,P)})}.bind(l,S),l[h].options=v}}},55310:function(B){function u(x,f){typeof f=="boolean"&&(f={forever:f}),this._originalTimeouts=JSON.parse(JSON.stringify(x)),this._timeouts=x,this._options=f||{},this._maxRetryTime=f&&f.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=u,u.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},u.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},u.prototype.retry=function(x){if(this._timeout&&clearTimeout(this._timeout),!x)return!1;var f=new Date().getTime();if(x&&f-this._operationStart>=this._maxRetryTime)return this._errors.push(x),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(x);var l=this._timeouts.shift();if(l===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),l=this._cachedTimeouts.slice(-1);else return!1;var v=this;return this._timer=setTimeout(function(){v._attempts++,v._operationTimeoutCb&&(v._timeout=setTimeout(function(){v._operationTimeoutCb(v._attempts)},v._operationTimeout),v._options.unref&&v._timeout.unref()),v._fn(v._attempts)},l),this._options.unref&&this._timer.unref(),!0},u.prototype.attempt=function(x,f){this._fn=x,f&&(f.timeout&&(this._operationTimeout=f.timeout),f.cb&&(this._operationTimeoutCb=f.cb));var l=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){l._operationTimeoutCb()},l._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},u.prototype.try=function(x){console.log("Using RetryOperation.try() is deprecated"),this.attempt(x)},u.prototype.start=function(x){console.log("Using RetryOperation.start() is deprecated"),this.attempt(x)},u.prototype.start=u.prototype.try,u.prototype.errors=function(){return this._errors},u.prototype.attempts=function(){return this._attempts},u.prototype.mainError=function(){if(this._errors.length===0)return null;for(var x={},f=null,l=0,v=0;v<this._errors.length;v++){var w=this._errors[v],g=w.message,p=(x[g]||0)+1;x[g]=p,p>=l&&(f=w,l=p)}return f}},9495:function(B){"use strict";(function(u){function f(P){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,N=3144134277,z=1013904242,Y=2773480762,J=1359893119,pe=2600822924,W=528734635,Q=1541459225;const Z=new Uint32Array(64);function fe(xe){let ke=0,Ae=xe.length;for(;Ae>=64;){let j=U,D=N,$=z,ae=Y,F=J,G=pe,Ee=W,ve=Q,Re,Fe,At,vt,hr;for(Fe=0;Fe<16;Fe++)At=ke+Fe*4,Z[Fe]=(xe[At]&255)<<24|(xe[At+1]&255)<<16|(xe[At+2]&255)<<8|xe[At+3]&255;for(Fe=16;Fe<64;Fe++)Re=Z[Fe-2],vt=(Re>>>17|Re<<32-17)^(Re>>>19|Re<<32-19)^Re>>>10,Re=Z[Fe-15],hr=(Re>>>7|Re<<32-7)^(Re>>>18|Re<<32-18)^Re>>>3,Z[Fe]=(vt+Z[Fe-7]|0)+(hr+Z[Fe-16]|0)|0;for(Fe=0;Fe<64;Fe++)vt=(((F>>>6|F<<32-6)^(F>>>11|F<<32-11)^(F>>>25|F<<32-25))+(F&G^~F&Ee)|0)+(ve+(y[Fe]+Z[Fe]|0)|0)|0,hr=((j>>>2|j<<32-2)^(j>>>13|j<<32-13)^(j>>>22|j<<32-22))+(j&D^j&$^D&$)|0,ve=Ee,Ee=G,G=F,F=ae+vt|0,ae=$,$=D,D=j,j=vt+hr|0;U=U+j|0,N=N+D|0,z=z+$|0,Y=Y+ae|0,J=J+F|0,pe=pe+G|0,W=W+Ee|0,Q=Q+ve|0,ke+=64,Ae-=64}}fe(P);let Ce,he=P.length%64,_e=P.length/536870912|0,H=P.length<<3,te=he<56?56:120,ee=P.slice(P.length-he,P.length);for(ee.push(128),Ce=he+1;Ce<te;Ce++)ee.push(0);return ee.push(_e>>>24&255),ee.push(_e>>>16&255),ee.push(_e>>>8&255),ee.push(_e>>>0&255),ee.push(H>>>24&255),ee.push(H>>>16&255),ee.push(H>>>8&255),ee.push(H>>>0&255),fe(ee),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255,J>>>24&255,J>>>16&255,J>>>8&255,J>>>0&255,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q>>>0&255]}function l(P,y,U){P=P.length<=64?P:f(P);const N=64+y.length+4,z=new Array(N),Y=new Array(64);let J,pe=[];for(J=0;J<64;J++)z[J]=54;for(J=0;J<P.length;J++)z[J]^=P[J];for(J=0;J<y.length;J++)z[64+J]=y[J];for(J=N-4;J<N;J++)z[J]=0;for(J=0;J<64;J++)Y[J]=92;for(J=0;J<P.length;J++)Y[J]^=P[J];function W(){for(let Q=N-1;Q>=N-4;Q--){if(z[Q]++,z[Q]<=255)return;z[Q]=0}}for(;U>=32;)W(),pe=pe.concat(f(Y.concat(f(z)))),U-=32;return U>0&&(W(),pe=pe.concat(f(Y.concat(f(z))).slice(0,U))),pe}function v(P,y,U,N,z){let Y;for(h(P,(2*U-1)*16,z,0,16),Y=0;Y<2*U;Y++)p(P,Y*16,z,16),g(z,N),h(z,0,P,y+Y*16,16);for(Y=0;Y<U;Y++)h(P,y+Y*2*16,P,Y*16,16);for(Y=0;Y<U;Y++)h(P,y+(Y*2+1)*16,P,(Y+U)*16,16)}function w(P,y){return P<<y|P>>>32-y}function g(P,y){h(P,0,y,0,16);for(let U=8;U>0;U-=2)y[4]^=w(y[0]+y[12],7),y[8]^=w(y[4]+y[0],9),y[12]^=w(y[8]+y[4],13),y[0]^=w(y[12]+y[8],18),y[9]^=w(y[5]+y[1],7),y[13]^=w(y[9]+y[5],9),y[1]^=w(y[13]+y[9],13),y[5]^=w(y[1]+y[13],18),y[14]^=w(y[10]+y[6],7),y[2]^=w(y[14]+y[10],9),y[6]^=w(y[2]+y[14],13),y[10]^=w(y[6]+y[2],18),y[3]^=w(y[15]+y[11],7),y[7]^=w(y[3]+y[15],9),y[11]^=w(y[7]+y[3],13),y[15]^=w(y[11]+y[7],18),y[1]^=w(y[0]+y[3],7),y[2]^=w(y[1]+y[0],9),y[3]^=w(y[2]+y[1],13),y[0]^=w(y[3]+y[2],18),y[6]^=w(y[5]+y[4],7),y[7]^=w(y[6]+y[5],9),y[4]^=w(y[7]+y[6],13),y[5]^=w(y[4]+y[7],18),y[11]^=w(y[10]+y[9],7),y[8]^=w(y[11]+y[10],9),y[9]^=w(y[8]+y[11],13),y[10]^=w(y[9]+y[8],18),y[12]^=w(y[15]+y[14],7),y[13]^=w(y[12]+y[15],9),y[14]^=w(y[13]+y[12],13),y[15]^=w(y[14]+y[13],18);for(let U=0;U<16;++U)P[U]+=y[U]}function p(P,y,U,N){for(let z=0;z<N;z++)U[z]^=P[y+z]}function h(P,y,U,N,z){for(;z--;)U[N++]=P[y++]}function S(P){if(!P||typeof P.length!="number")return!1;for(let y=0;y<P.length;y++){const U=P[y];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function E(P,y){if(typeof P!="number"||P%1)throw new Error("invalid "+y);return P}function I(P,y,U,N,z,Y,J){if(U=E(U,"N"),N=E(N,"r"),z=E(z,"p"),Y=E(Y,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/N)throw new Error("N too large");if(N>2147483647/128/z)throw new Error("r too large");if(!S(P))throw new Error("password must be an array or buffer");if(P=Array.prototype.slice.call(P),!S(y))throw new Error("salt must be an array or buffer");y=Array.prototype.slice.call(y);let pe=l(P,y,z*128*N);const W=new Uint32Array(z*32*N);for(let F=0;F<W.length;F++){const G=F*4;W[F]=(pe[G+3]&255)<<24|(pe[G+2]&255)<<16|(pe[G+1]&255)<<8|(pe[G+0]&255)<<0}const Q=new Uint32Array(64*N),Z=new Uint32Array(32*N*U),fe=32*N,Ce=new Uint32Array(16),he=new Uint32Array(16),_e=z*U*2;let H=0,te=null,ee=!1,xe=0,ke=0,Ae,j;const D=J?parseInt(1e3/N):4294967295,$=typeof setImmediate<"u"?setImmediate:setTimeout,ae=function(){if(ee)return J(new Error("cancelled"),H/_e);let F;switch(xe){case 0:j=ke*32*N,h(W,j,Q,0,fe),xe=1,Ae=0;case 1:F=U-Ae,F>D&&(F=D);for(let Ee=0;Ee<F;Ee++)h(Q,0,Z,(Ae+Ee)*fe,fe),v(Q,fe,N,Ce,he);if(Ae+=F,H+=F,J){const Ee=parseInt(1e3*H/_e);if(Ee!==te){if(ee=J(null,H/_e),ee)break;te=Ee}}if(Ae<U)break;Ae=0,xe=2;case 2:F=U-Ae,F>D&&(F=D);for(let Ee=0;Ee<F;Ee++){const ve=(2*N-1)*16,Re=Q[ve]&U-1;p(Z,Re*fe,Q,fe),v(Q,fe,N,Ce,he)}if(Ae+=F,H+=F,J){const Ee=parseInt(1e3*H/_e);if(Ee!==te){if(ee=J(null,H/_e),ee)break;te=Ee}}if(Ae<U)break;if(h(Q,0,W,j,fe),ke++,ke<z){xe=0;break}pe=[];for(let Ee=0;Ee<W.length;Ee++)pe.push(W[Ee]>>0&255),pe.push(W[Ee]>>8&255),pe.push(W[Ee]>>16&255),pe.push(W[Ee]>>24&255);const G=l(P,pe,Y);return J&&J(null,1,G),G}J&&$(ae)};if(!J)for(;;){const F=ae();if(F!=null)return F}ae()}const R={scrypt:function(P,y,U,N,z,Y,J){return new Promise(function(pe,W){let Q=0;J&&J(0),I(P,y,U,N,z,Y,function(Z,fe,Ce){if(Z)W(Z);else if(Ce)J&&Q!==1&&J(1),pe(new Uint8Array(Ce));else if(J&&fe!==Q)return Q=fe,J(fe)})})},syncScrypt:function(P,y,U,N,z,Y){return new Uint8Array(I(P,y,U,N,z,Y))}};B.exports=R})(this)},85323:function(B,u,x){B.exports=x(85830)(x(94235))},94235:function(B,u,x){const f=x(86677).ec,l=new f("secp256k1"),v=l.curve,w=v.n.constructor;function g(E,I){let R=new w(I);if(R.cmp(v.p)>=0)return null;R=R.toRed(v.red);let P=R.redSqr().redIMul(R).redIAdd(v.b).redSqrt();return E===3!==P.isOdd()&&(P=P.redNeg()),l.keyPair({pub:{x:R,y:P}})}function p(E,I,R){let P=new w(I),y=new w(R);if(P.cmp(v.p)>=0||y.cmp(v.p)>=0||(P=P.toRed(v.red),y=y.toRed(v.red),(E===6||E===7)&&y.isOdd()!==(E===7)))return null;const U=P.redSqr().redIMul(P);return y.redSqr().redISub(U.redIAdd(v.b)).isZero()?l.keyPair({pub:{x:P,y}}):null}function h(E){const I=E[0];switch(I){case 2:case 3:return E.length!==33?null:g(I,E.subarray(1,33));case 4:case 6:case 7:return E.length!==65?null:p(I,E.subarray(1,33),E.subarray(33,65));default:return null}}function S(E,I){const R=I.encode(null,E.length===33);for(let P=0;P<E.length;++P)E[P]=R[P]}B.exports={contextRandomize(){return 0},privateKeyVerify(E){const I=new w(E);return I.cmp(v.n)<0&&!I.isZero()?0:1},privateKeyNegate(E){const I=new w(E),R=v.n.sub(I).umod(v.n).toArrayLike(Uint8Array,"be",32);return E.set(R),0},privateKeyTweakAdd(E,I){const R=new w(I);if(R.cmp(v.n)>=0||(R.iadd(new w(E)),R.cmp(v.n)>=0&&R.isub(v.n),R.isZero()))return 1;const P=R.toArrayLike(Uint8Array,"be",32);return E.set(P),0},privateKeyTweakMul(E,I){let R=new w(I);if(R.cmp(v.n)>=0||R.isZero())return 1;R.imul(new w(E)),R.cmp(v.n)>=0&&(R=R.umod(v.n));const P=R.toArrayLike(Uint8Array,"be",32);return E.set(P),0},publicKeyVerify(E){return h(E)===null?1:0},publicKeyCreate(E,I){const R=new w(I);if(R.cmp(v.n)>=0||R.isZero())return 1;const P=l.keyFromPrivate(I).getPublic();return S(E,P),0},publicKeyConvert(E,I){const R=h(I);if(R===null)return 1;const P=R.getPublic();return S(E,P),0},publicKeyNegate(E,I){const R=h(I);if(R===null)return 1;const P=R.getPublic();return P.y=P.y.redNeg(),S(E,P),0},publicKeyCombine(E,I){const R=new Array(I.length);for(let y=0;y<I.length;++y)if(R[y]=h(I[y]),R[y]===null)return 1;let P=R[0].getPublic();for(let y=1;y<R.length;++y)P=P.add(R[y].pub);return P.isInfinity()?2:(S(E,P),0)},publicKeyTweakAdd(E,I,R){const P=h(I);if(P===null)return 1;if(R=new w(R),R.cmp(v.n)>=0)return 2;const y=P.getPublic().add(v.g.mul(R));return y.isInfinity()?2:(S(E,y),0)},publicKeyTweakMul(E,I,R){const P=h(I);if(P===null)return 1;if(R=new w(R),R.cmp(v.n)>=0||R.isZero())return 2;const y=P.getPublic().mul(R);return S(E,y),0},signatureNormalize(E){const I=new w(E.subarray(0,32)),R=new w(E.subarray(32,64));return I.cmp(v.n)>=0||R.cmp(v.n)>=0?1:(R.cmp(l.nh)===1&&E.set(v.n.sub(R).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(E,I){const R=I.subarray(0,32),P=I.subarray(32,64);if(new w(R).cmp(v.n)>=0||new w(P).cmp(v.n)>=0)return 1;const{output:y}=E;let U=y.subarray(4,4+33);U[0]=0,U.set(R,1);let N=33,z=0;for(;N>1&&U[z]===0&&!(U[z+1]&128);--N,++z);if(U=U.subarray(z),U[0]&128||N>1&&U[0]===0&&!(U[1]&128))return 1;let Y=y.subarray(6+33,6+33+33);Y[0]=0,Y.set(P,1);let J=33,pe=0;for(;J>1&&Y[pe]===0&&!(Y[pe+1]&128);--J,++pe);return Y=Y.subarray(pe),Y[0]&128||J>1&&Y[0]===0&&!(Y[1]&128)?1:(E.outputlen=6+N+J,y[0]=48,y[1]=E.outputlen-2,y[2]=2,y[3]=U.length,y.set(U,4),y[4+N]=2,y[5+N]=Y.length,y.set(Y,6+N),0)},signatureImport(E,I){if(I.length<8||I.length>72||I[0]!==48||I[1]!==I.length-2||I[2]!==2)return 1;const R=I[3];if(R===0||5+R>=I.length||I[4+R]!==2)return 1;const P=I[5+R];if(P===0||6+R+P!==I.length||I[4]&128||R>1&&I[4]===0&&!(I[5]&128)||I[R+6]&128||P>1&&I[R+6]===0&&!(I[R+7]&128))return 1;let y=I.subarray(4,4+R);if(y.length===33&&y[0]===0&&(y=y.subarray(1)),y.length>32)return 1;let U=I.subarray(6+R);if(U.length===33&&U[0]===0&&(U=U.slice(1)),U.length>32)throw new Error("S length is too long");let N=new w(y);N.cmp(v.n)>=0&&(N=new w(0));let z=new w(I.subarray(6+R));return z.cmp(v.n)>=0&&(z=new w(0)),E.set(N.toArrayLike(Uint8Array,"be",32),0),E.set(z.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(E,I,R,P,y){if(y){const z=y;y=Y=>{const J=z(I,R,null,P,Y);if(!(J instanceof Uint8Array&&J.length===32))throw new Error("This is the way");return new w(J)}}const U=new w(R);if(U.cmp(v.n)>=0||U.isZero())return 1;let N;try{N=l.sign(I,R,{canonical:!0,k:y,pers:P})}catch{return 1}return E.signature.set(N.r.toArrayLike(Uint8Array,"be",32),0),E.signature.set(N.s.toArrayLike(Uint8Array,"be",32),32),E.recid=N.recoveryParam,0},ecdsaVerify(E,I,R){const P={r:E.subarray(0,32),s:E.subarray(32,64)},y=new w(P.r),U=new w(P.s);if(y.cmp(v.n)>=0||U.cmp(v.n)>=0)return 1;if(U.cmp(l.nh)===1||y.isZero()||U.isZero())return 3;const N=h(R);if(N===null)return 2;const z=N.getPublic();return l.verify(I,P,z)?0:3},ecdsaRecover(E,I,R,P){const y={r:I.slice(0,32),s:I.slice(32,64)},U=new w(y.r),N=new w(y.s);if(U.cmp(v.n)>=0||N.cmp(v.n)>=0)return 1;if(U.isZero()||N.isZero())return 2;let z;try{z=l.recoverPubKey(P,y,R)}catch{return 2}return S(E,z),0},ecdh(E,I,R,P,y,U,N){const z=h(I);if(z===null)return 1;const Y=new w(R);if(Y.cmp(v.n)>=0||Y.isZero())return 2;const J=z.getPublic().mul(Y);if(y===void 0){const pe=J.encode(null,!0),W=l.hash().update(pe).digest();for(let Q=0;Q<32;++Q)E[Q]=W[Q]}else{U||(U=new Uint8Array(32));const pe=J.getX().toArray("be",32);for(let fe=0;fe<32;++fe)U[fe]=pe[fe];N||(N=new Uint8Array(32));const W=J.getY().toArray("be",32);for(let fe=0;fe<32;++fe)N[fe]=W[fe];const Q=y(U,N,P);if(!(Q instanceof Uint8Array&&Q.length===E.length))return 2;E.set(Q)}return 0}}},85830:function(B){const u={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function x(g,p){if(!g)throw new Error(p)}function f(g,p,h){if(x(p instanceof Uint8Array,`Expected ${g} to be an Uint8Array`),h!==void 0)if(Array.isArray(h)){const S=h.join(", "),E=`Expected ${g} to be an Uint8Array with length [${S}]`;x(h.includes(p.length),E)}else{const S=`Expected ${g} to be an Uint8Array with length ${h}`;x(p.length===h,S)}}function l(g){x(w(g)==="Boolean","Expected compressed to be a Boolean")}function v(g=h=>new Uint8Array(h),p){return typeof g=="function"&&(g=g(p)),f("output",g,p),g}function w(g){return Object.prototype.toString.call(g).slice(8,-1)}B.exports=g=>({contextRandomize(p){switch(x(p===null||p instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),p!==null&&f("seed",p,32),g.contextRandomize(p)){case 1:throw new Error(u.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(p){return f("private key",p,32),g.privateKeyVerify(p)===0},privateKeyNegate(p){switch(f("private key",p,32),g.privateKeyNegate(p)){case 0:return p;case 1:throw new Error(u.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(p,h){switch(f("private key",p,32),f("tweak",h,32),g.privateKeyTweakAdd(p,h)){case 0:return p;case 1:throw new Error(u.TWEAK_ADD)}},privateKeyTweakMul(p,h){switch(f("private key",p,32),f("tweak",h,32),g.privateKeyTweakMul(p,h)){case 0:return p;case 1:throw new Error(u.TWEAK_MUL)}},publicKeyVerify(p){return f("public key",p,[33,65]),g.publicKeyVerify(p)===0},publicKeyCreate(p,h=!0,S){switch(f("private key",p,32),l(h),S=v(S,h?33:65),g.publicKeyCreate(S,p)){case 0:return S;case 1:throw new Error(u.SECKEY_INVALID);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyConvert(p,h=!0,S){switch(f("public key",p,[33,65]),l(h),S=v(S,h?33:65),g.publicKeyConvert(S,p)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyNegate(p,h=!0,S){switch(f("public key",p,[33,65]),l(h),S=v(S,h?33:65),g.publicKeyNegate(S,p)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyCombine(p,h=!0,S){x(Array.isArray(p),"Expected public keys to be an Array"),x(p.length>0,"Expected public keys array will have more than zero items");for(const E of p)f("public key",E,[33,65]);switch(l(h),S=v(S,h?33:65),g.publicKeyCombine(S,p)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_COMBINE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(p,h,S=!0,E){switch(f("public key",p,[33,65]),f("tweak",h,32),l(S),E=v(E,S?33:65),g.publicKeyTweakAdd(E,p,h)){case 0:return E;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_ADD)}},publicKeyTweakMul(p,h,S=!0,E){switch(f("public key",p,[33,65]),f("tweak",h,32),l(S),E=v(E,S?33:65),g.publicKeyTweakMul(E,p,h)){case 0:return E;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_MUL)}},signatureNormalize(p){switch(f("signature",p,64),g.signatureNormalize(p)){case 0:return p;case 1:throw new Error(u.SIG_PARSE)}},signatureExport(p,h){f("signature",p,64),h=v(h,72);const S={output:h,outputlen:72};switch(g.signatureExport(S,p)){case 0:return h.slice(0,S.outputlen);case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},signatureImport(p,h){switch(f("signature",p),h=v(h,64),g.signatureImport(h,p)){case 0:return h;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaSign(p,h,S={},E){f("message",p,32),f("private key",h,32),x(w(S)==="Object","Expected options to be an Object"),S.data!==void 0&&f("options.data",S.data),S.noncefn!==void 0&&x(w(S.noncefn)==="Function","Expected options.noncefn to be a Function"),E=v(E,64);const I={signature:E,recid:null};switch(g.ecdsaSign(I,p,h,S.data,S.noncefn)){case 0:return I;case 1:throw new Error(u.SIGN);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaVerify(p,h,S){switch(f("signature",p,64),f("message",h,32),f("public key",S,[33,65]),g.ecdsaVerify(p,h,S)){case 0:return!0;case 3:return!1;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.PUBKEY_PARSE)}},ecdsaRecover(p,h,S,E=!0,I){switch(f("signature",p,64),x(w(h)==="Number"&&h>=0&&h<=3,"Expected recovery id to be a Number within interval [0, 3]"),f("message",S,32),l(E),I=v(I,E?33:65),g.ecdsaRecover(I,p,h,S)){case 0:return I;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.RECOVER);case 3:throw new Error(u.IMPOSSIBLE_CASE)}},ecdh(p,h,S={},E){switch(f("public key",p,[33,65]),f("private key",h,32),x(w(S)==="Object","Expected options to be an Object"),S.data!==void 0&&f("options.data",S.data),S.hashfn!==void 0?(x(w(S.hashfn)==="Function","Expected options.hashfn to be a Function"),S.xbuf!==void 0&&f("options.xbuf",S.xbuf,32),S.ybuf!==void 0&&f("options.ybuf",S.ybuf,32),f("output",E)):E=v(E,32),g.ecdh(E,p,h,S.data,S.hashfn,S.xbuf,S.ybuf)){case 0:return E;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.ECDH)}}})},15711:function(B,u,x){(function(f){"use strict";var l=function(b){var _,A=new Float64Array(16);if(b)for(_=0;_<b.length;_++)A[_]=b[_];return A},v=function(){throw new Error("no PRNG")},w=new Uint8Array(16),g=new Uint8Array(32);g[0]=9;var p=l(),h=l([1]),S=l([56129,1]),E=l([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),I=l([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),R=l([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),P=l([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=l([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(b,_,A,c){b[_]=A>>24&255,b[_+1]=A>>16&255,b[_+2]=A>>8&255,b[_+3]=A&255,b[_+4]=c>>24&255,b[_+5]=c>>16&255,b[_+6]=c>>8&255,b[_+7]=c&255}function N(b,_,A,c,k){var q,X=0;for(q=0;q<k;q++)X|=b[_+q]^A[c+q];return(1&X-1>>>8)-1}function z(b,_,A,c){return N(b,_,A,c,16)}function Y(b,_,A,c){return N(b,_,A,c,32)}function J(b,_,A,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,X=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,se=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,me=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ne=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,le=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,st=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,Te=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,qe=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Ke=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Xe=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,Je=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,Ge=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Ve=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$e=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ie=k,Le=q,Be=X,Me=se,Ue=me,Pe=Ne,re=le,ne=st,de=Te,ue=qe,oe=Ke,ye=Xe,je=Je,Qe=Ge,Ye=Ve,et=$e,M,at=0;at<20;at+=2)M=Ie+je|0,Ue^=M<<7|M>>>32-7,M=Ue+Ie|0,de^=M<<9|M>>>32-9,M=de+Ue|0,je^=M<<13|M>>>32-13,M=je+de|0,Ie^=M<<18|M>>>32-18,M=Pe+Le|0,ue^=M<<7|M>>>32-7,M=ue+Pe|0,Qe^=M<<9|M>>>32-9,M=Qe+ue|0,Le^=M<<13|M>>>32-13,M=Le+Qe|0,Pe^=M<<18|M>>>32-18,M=oe+re|0,Ye^=M<<7|M>>>32-7,M=Ye+oe|0,Be^=M<<9|M>>>32-9,M=Be+Ye|0,re^=M<<13|M>>>32-13,M=re+Be|0,oe^=M<<18|M>>>32-18,M=et+ye|0,Me^=M<<7|M>>>32-7,M=Me+et|0,ne^=M<<9|M>>>32-9,M=ne+Me|0,ye^=M<<13|M>>>32-13,M=ye+ne|0,et^=M<<18|M>>>32-18,M=Ie+Me|0,Le^=M<<7|M>>>32-7,M=Le+Ie|0,Be^=M<<9|M>>>32-9,M=Be+Le|0,Me^=M<<13|M>>>32-13,M=Me+Be|0,Ie^=M<<18|M>>>32-18,M=Pe+Ue|0,re^=M<<7|M>>>32-7,M=re+Pe|0,ne^=M<<9|M>>>32-9,M=ne+re|0,Ue^=M<<13|M>>>32-13,M=Ue+ne|0,Pe^=M<<18|M>>>32-18,M=oe+ue|0,ye^=M<<7|M>>>32-7,M=ye+oe|0,de^=M<<9|M>>>32-9,M=de+ye|0,ue^=M<<13|M>>>32-13,M=ue+de|0,oe^=M<<18|M>>>32-18,M=et+Ye|0,je^=M<<7|M>>>32-7,M=je+et|0,Qe^=M<<9|M>>>32-9,M=Qe+je|0,Ye^=M<<13|M>>>32-13,M=Ye+Qe|0,et^=M<<18|M>>>32-18;Ie=Ie+k|0,Le=Le+q|0,Be=Be+X|0,Me=Me+se|0,Ue=Ue+me|0,Pe=Pe+Ne|0,re=re+le|0,ne=ne+st|0,de=de+Te|0,ue=ue+qe|0,oe=oe+Ke|0,ye=ye+Xe|0,je=je+Je|0,Qe=Qe+Ge|0,Ye=Ye+Ve|0,et=et+$e|0,b[0]=Ie>>>0&255,b[1]=Ie>>>8&255,b[2]=Ie>>>16&255,b[3]=Ie>>>24&255,b[4]=Le>>>0&255,b[5]=Le>>>8&255,b[6]=Le>>>16&255,b[7]=Le>>>24&255,b[8]=Be>>>0&255,b[9]=Be>>>8&255,b[10]=Be>>>16&255,b[11]=Be>>>24&255,b[12]=Me>>>0&255,b[13]=Me>>>8&255,b[14]=Me>>>16&255,b[15]=Me>>>24&255,b[16]=Ue>>>0&255,b[17]=Ue>>>8&255,b[18]=Ue>>>16&255,b[19]=Ue>>>24&255,b[20]=Pe>>>0&255,b[21]=Pe>>>8&255,b[22]=Pe>>>16&255,b[23]=Pe>>>24&255,b[24]=re>>>0&255,b[25]=re>>>8&255,b[26]=re>>>16&255,b[27]=re>>>24&255,b[28]=ne>>>0&255,b[29]=ne>>>8&255,b[30]=ne>>>16&255,b[31]=ne>>>24&255,b[32]=de>>>0&255,b[33]=de>>>8&255,b[34]=de>>>16&255,b[35]=de>>>24&255,b[36]=ue>>>0&255,b[37]=ue>>>8&255,b[38]=ue>>>16&255,b[39]=ue>>>24&255,b[40]=oe>>>0&255,b[41]=oe>>>8&255,b[42]=oe>>>16&255,b[43]=oe>>>24&255,b[44]=ye>>>0&255,b[45]=ye>>>8&255,b[46]=ye>>>16&255,b[47]=ye>>>24&255,b[48]=je>>>0&255,b[49]=je>>>8&255,b[50]=je>>>16&255,b[51]=je>>>24&255,b[52]=Qe>>>0&255,b[53]=Qe>>>8&255,b[54]=Qe>>>16&255,b[55]=Qe>>>24&255,b[56]=Ye>>>0&255,b[57]=Ye>>>8&255,b[58]=Ye>>>16&255,b[59]=Ye>>>24&255,b[60]=et>>>0&255,b[61]=et>>>8&255,b[62]=et>>>16&255,b[63]=et>>>24&255}function pe(b,_,A,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,X=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,se=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,me=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ne=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,le=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,st=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,Te=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,qe=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Ke=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Xe=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,Je=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,Ge=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Ve=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$e=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ie=k,Le=q,Be=X,Me=se,Ue=me,Pe=Ne,re=le,ne=st,de=Te,ue=qe,oe=Ke,ye=Xe,je=Je,Qe=Ge,Ye=Ve,et=$e,M,at=0;at<20;at+=2)M=Ie+je|0,Ue^=M<<7|M>>>32-7,M=Ue+Ie|0,de^=M<<9|M>>>32-9,M=de+Ue|0,je^=M<<13|M>>>32-13,M=je+de|0,Ie^=M<<18|M>>>32-18,M=Pe+Le|0,ue^=M<<7|M>>>32-7,M=ue+Pe|0,Qe^=M<<9|M>>>32-9,M=Qe+ue|0,Le^=M<<13|M>>>32-13,M=Le+Qe|0,Pe^=M<<18|M>>>32-18,M=oe+re|0,Ye^=M<<7|M>>>32-7,M=Ye+oe|0,Be^=M<<9|M>>>32-9,M=Be+Ye|0,re^=M<<13|M>>>32-13,M=re+Be|0,oe^=M<<18|M>>>32-18,M=et+ye|0,Me^=M<<7|M>>>32-7,M=Me+et|0,ne^=M<<9|M>>>32-9,M=ne+Me|0,ye^=M<<13|M>>>32-13,M=ye+ne|0,et^=M<<18|M>>>32-18,M=Ie+Me|0,Le^=M<<7|M>>>32-7,M=Le+Ie|0,Be^=M<<9|M>>>32-9,M=Be+Le|0,Me^=M<<13|M>>>32-13,M=Me+Be|0,Ie^=M<<18|M>>>32-18,M=Pe+Ue|0,re^=M<<7|M>>>32-7,M=re+Pe|0,ne^=M<<9|M>>>32-9,M=ne+re|0,Ue^=M<<13|M>>>32-13,M=Ue+ne|0,Pe^=M<<18|M>>>32-18,M=oe+ue|0,ye^=M<<7|M>>>32-7,M=ye+oe|0,de^=M<<9|M>>>32-9,M=de+ye|0,ue^=M<<13|M>>>32-13,M=ue+de|0,oe^=M<<18|M>>>32-18,M=et+Ye|0,je^=M<<7|M>>>32-7,M=je+et|0,Qe^=M<<9|M>>>32-9,M=Qe+je|0,Ye^=M<<13|M>>>32-13,M=Ye+Qe|0,et^=M<<18|M>>>32-18;b[0]=Ie>>>0&255,b[1]=Ie>>>8&255,b[2]=Ie>>>16&255,b[3]=Ie>>>24&255,b[4]=Pe>>>0&255,b[5]=Pe>>>8&255,b[6]=Pe>>>16&255,b[7]=Pe>>>24&255,b[8]=oe>>>0&255,b[9]=oe>>>8&255,b[10]=oe>>>16&255,b[11]=oe>>>24&255,b[12]=et>>>0&255,b[13]=et>>>8&255,b[14]=et>>>16&255,b[15]=et>>>24&255,b[16]=re>>>0&255,b[17]=re>>>8&255,b[18]=re>>>16&255,b[19]=re>>>24&255,b[20]=ne>>>0&255,b[21]=ne>>>8&255,b[22]=ne>>>16&255,b[23]=ne>>>24&255,b[24]=de>>>0&255,b[25]=de>>>8&255,b[26]=de>>>16&255,b[27]=de>>>24&255,b[28]=ue>>>0&255,b[29]=ue>>>8&255,b[30]=ue>>>16&255,b[31]=ue>>>24&255}function W(b,_,A,c){J(b,_,A,c)}function Q(b,_,A,c){pe(b,_,A,c)}var Z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function fe(b,_,A,c,k,q,X){var se=new Uint8Array(16),me=new Uint8Array(64),Ne,le;for(le=0;le<16;le++)se[le]=0;for(le=0;le<8;le++)se[le]=q[le];for(;k>=64;){for(W(me,se,X,Z),le=0;le<64;le++)b[_+le]=A[c+le]^me[le];for(Ne=1,le=8;le<16;le++)Ne=Ne+(se[le]&255)|0,se[le]=Ne&255,Ne>>>=8;k-=64,_+=64,c+=64}if(k>0)for(W(me,se,X,Z),le=0;le<k;le++)b[_+le]=A[c+le]^me[le];return 0}function Ce(b,_,A,c,k){var q=new Uint8Array(16),X=new Uint8Array(64),se,me;for(me=0;me<16;me++)q[me]=0;for(me=0;me<8;me++)q[me]=c[me];for(;A>=64;){for(W(X,q,k,Z),me=0;me<64;me++)b[_+me]=X[me];for(se=1,me=8;me<16;me++)se=se+(q[me]&255)|0,q[me]=se&255,se>>>=8;A-=64,_+=64}if(A>0)for(W(X,q,k,Z),me=0;me<A;me++)b[_+me]=X[me];return 0}function he(b,_,A,c,k){var q=new Uint8Array(32);Q(q,c,k,Z);for(var X=new Uint8Array(8),se=0;se<8;se++)X[se]=c[se+16];return Ce(b,_,A,X,q)}function _e(b,_,A,c,k,q,X){var se=new Uint8Array(32);Q(se,q,X,Z);for(var me=new Uint8Array(8),Ne=0;Ne<8;Ne++)me[Ne]=q[Ne+16];return fe(b,_,A,c,k,me,se)}var H=function(b){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var _,A,c,k,q,X,se,me;_=b[0]&255|(b[1]&255)<<8,this.r[0]=_&8191,A=b[2]&255|(b[3]&255)<<8,this.r[1]=(_>>>13|A<<3)&8191,c=b[4]&255|(b[5]&255)<<8,this.r[2]=(A>>>10|c<<6)&7939,k=b[6]&255|(b[7]&255)<<8,this.r[3]=(c>>>7|k<<9)&8191,q=b[8]&255|(b[9]&255)<<8,this.r[4]=(k>>>4|q<<12)&255,this.r[5]=q>>>1&8190,X=b[10]&255|(b[11]&255)<<8,this.r[6]=(q>>>14|X<<2)&8191,se=b[12]&255|(b[13]&255)<<8,this.r[7]=(X>>>11|se<<5)&8065,me=b[14]&255|(b[15]&255)<<8,this.r[8]=(se>>>8|me<<8)&8191,this.r[9]=me>>>5&127,this.pad[0]=b[16]&255|(b[17]&255)<<8,this.pad[1]=b[18]&255|(b[19]&255)<<8,this.pad[2]=b[20]&255|(b[21]&255)<<8,this.pad[3]=b[22]&255|(b[23]&255)<<8,this.pad[4]=b[24]&255|(b[25]&255)<<8,this.pad[5]=b[26]&255|(b[27]&255)<<8,this.pad[6]=b[28]&255|(b[29]&255)<<8,this.pad[7]=b[30]&255|(b[31]&255)<<8};H.prototype.blocks=function(b,_,A){for(var c=this.fin?0:2048,k,q,X,se,me,Ne,le,st,Te,qe,Ke,Xe,Je,Ge,Ve,$e,Ie,Le,Be,Me=this.h[0],Ue=this.h[1],Pe=this.h[2],re=this.h[3],ne=this.h[4],de=this.h[5],ue=this.h[6],oe=this.h[7],ye=this.h[8],je=this.h[9],Qe=this.r[0],Ye=this.r[1],et=this.r[2],M=this.r[3],at=this.r[4],ft=this.r[5],dt=this.r[6],it=this.r[7],ct=this.r[8],ut=this.r[9];A>=16;)k=b[_+0]&255|(b[_+1]&255)<<8,Me+=k&8191,q=b[_+2]&255|(b[_+3]&255)<<8,Ue+=(k>>>13|q<<3)&8191,X=b[_+4]&255|(b[_+5]&255)<<8,Pe+=(q>>>10|X<<6)&8191,se=b[_+6]&255|(b[_+7]&255)<<8,re+=(X>>>7|se<<9)&8191,me=b[_+8]&255|(b[_+9]&255)<<8,ne+=(se>>>4|me<<12)&8191,de+=me>>>1&8191,Ne=b[_+10]&255|(b[_+11]&255)<<8,ue+=(me>>>14|Ne<<2)&8191,le=b[_+12]&255|(b[_+13]&255)<<8,oe+=(Ne>>>11|le<<5)&8191,st=b[_+14]&255|(b[_+15]&255)<<8,ye+=(le>>>8|st<<8)&8191,je+=st>>>5|c,Te=0,qe=Te,qe+=Me*Qe,qe+=Ue*(5*ut),qe+=Pe*(5*ct),qe+=re*(5*it),qe+=ne*(5*dt),Te=qe>>>13,qe&=8191,qe+=de*(5*ft),qe+=ue*(5*at),qe+=oe*(5*M),qe+=ye*(5*et),qe+=je*(5*Ye),Te+=qe>>>13,qe&=8191,Ke=Te,Ke+=Me*Ye,Ke+=Ue*Qe,Ke+=Pe*(5*ut),Ke+=re*(5*ct),Ke+=ne*(5*it),Te=Ke>>>13,Ke&=8191,Ke+=de*(5*dt),Ke+=ue*(5*ft),Ke+=oe*(5*at),Ke+=ye*(5*M),Ke+=je*(5*et),Te+=Ke>>>13,Ke&=8191,Xe=Te,Xe+=Me*et,Xe+=Ue*Ye,Xe+=Pe*Qe,Xe+=re*(5*ut),Xe+=ne*(5*ct),Te=Xe>>>13,Xe&=8191,Xe+=de*(5*it),Xe+=ue*(5*dt),Xe+=oe*(5*ft),Xe+=ye*(5*at),Xe+=je*(5*M),Te+=Xe>>>13,Xe&=8191,Je=Te,Je+=Me*M,Je+=Ue*et,Je+=Pe*Ye,Je+=re*Qe,Je+=ne*(5*ut),Te=Je>>>13,Je&=8191,Je+=de*(5*ct),Je+=ue*(5*it),Je+=oe*(5*dt),Je+=ye*(5*ft),Je+=je*(5*at),Te+=Je>>>13,Je&=8191,Ge=Te,Ge+=Me*at,Ge+=Ue*M,Ge+=Pe*et,Ge+=re*Ye,Ge+=ne*Qe,Te=Ge>>>13,Ge&=8191,Ge+=de*(5*ut),Ge+=ue*(5*ct),Ge+=oe*(5*it),Ge+=ye*(5*dt),Ge+=je*(5*ft),Te+=Ge>>>13,Ge&=8191,Ve=Te,Ve+=Me*ft,Ve+=Ue*at,Ve+=Pe*M,Ve+=re*et,Ve+=ne*Ye,Te=Ve>>>13,Ve&=8191,Ve+=de*Qe,Ve+=ue*(5*ut),Ve+=oe*(5*ct),Ve+=ye*(5*it),Ve+=je*(5*dt),Te+=Ve>>>13,Ve&=8191,$e=Te,$e+=Me*dt,$e+=Ue*ft,$e+=Pe*at,$e+=re*M,$e+=ne*et,Te=$e>>>13,$e&=8191,$e+=de*Ye,$e+=ue*Qe,$e+=oe*(5*ut),$e+=ye*(5*ct),$e+=je*(5*it),Te+=$e>>>13,$e&=8191,Ie=Te,Ie+=Me*it,Ie+=Ue*dt,Ie+=Pe*ft,Ie+=re*at,Ie+=ne*M,Te=Ie>>>13,Ie&=8191,Ie+=de*et,Ie+=ue*Ye,Ie+=oe*Qe,Ie+=ye*(5*ut),Ie+=je*(5*ct),Te+=Ie>>>13,Ie&=8191,Le=Te,Le+=Me*ct,Le+=Ue*it,Le+=Pe*dt,Le+=re*ft,Le+=ne*at,Te=Le>>>13,Le&=8191,Le+=de*M,Le+=ue*et,Le+=oe*Ye,Le+=ye*Qe,Le+=je*(5*ut),Te+=Le>>>13,Le&=8191,Be=Te,Be+=Me*ut,Be+=Ue*ct,Be+=Pe*it,Be+=re*dt,Be+=ne*ft,Te=Be>>>13,Be&=8191,Be+=de*at,Be+=ue*M,Be+=oe*et,Be+=ye*Ye,Be+=je*Qe,Te+=Be>>>13,Be&=8191,Te=(Te<<2)+Te|0,Te=Te+qe|0,qe=Te&8191,Te=Te>>>13,Ke+=Te,Me=qe,Ue=Ke,Pe=Xe,re=Je,ne=Ge,de=Ve,ue=$e,oe=Ie,ye=Le,je=Be,_+=16,A-=16;this.h[0]=Me,this.h[1]=Ue,this.h[2]=Pe,this.h[3]=re,this.h[4]=ne,this.h[5]=de,this.h[6]=ue,this.h[7]=oe,this.h[8]=ye,this.h[9]=je},H.prototype.finish=function(b,_){var A=new Uint16Array(10),c,k,q,X;if(this.leftover){for(X=this.leftover,this.buffer[X++]=1;X<16;X++)this.buffer[X]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,X=2;X<10;X++)this.h[X]+=c,c=this.h[X]>>>13,this.h[X]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,A[0]=this.h[0]+5,c=A[0]>>>13,A[0]&=8191,X=1;X<10;X++)A[X]=this.h[X]+c,c=A[X]>>>13,A[X]&=8191;for(A[9]-=8192,k=(c^1)-1,X=0;X<10;X++)A[X]&=k;for(k=~k,X=0;X<10;X++)this.h[X]=this.h[X]&k|A[X];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,q=this.h[0]+this.pad[0],this.h[0]=q&65535,X=1;X<8;X++)q=(this.h[X]+this.pad[X]|0)+(q>>>16)|0,this.h[X]=q&65535;b[_+0]=this.h[0]>>>0&255,b[_+1]=this.h[0]>>>8&255,b[_+2]=this.h[1]>>>0&255,b[_+3]=this.h[1]>>>8&255,b[_+4]=this.h[2]>>>0&255,b[_+5]=this.h[2]>>>8&255,b[_+6]=this.h[3]>>>0&255,b[_+7]=this.h[3]>>>8&255,b[_+8]=this.h[4]>>>0&255,b[_+9]=this.h[4]>>>8&255,b[_+10]=this.h[5]>>>0&255,b[_+11]=this.h[5]>>>8&255,b[_+12]=this.h[6]>>>0&255,b[_+13]=this.h[6]>>>8&255,b[_+14]=this.h[7]>>>0&255,b[_+15]=this.h[7]>>>8&255},H.prototype.update=function(b,_,A){var c,k;if(this.leftover){for(k=16-this.leftover,k>A&&(k=A),c=0;c<k;c++)this.buffer[this.leftover+c]=b[_+c];if(A-=k,_+=k,this.leftover+=k,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(k=A-A%16,this.blocks(b,_,k),_+=k,A-=k),A){for(c=0;c<A;c++)this.buffer[this.leftover+c]=b[_+c];this.leftover+=A}};function te(b,_,A,c,k,q){var X=new H(q);return X.update(A,c,k),X.finish(b,_),0}function ee(b,_,A,c,k,q){var X=new Uint8Array(16);return te(X,0,A,c,k,q),z(b,_,X,0)}function xe(b,_,A,c,k){var q;if(A<32)return-1;for(_e(b,0,_,0,A,c,k),te(b,16,b,32,A-32,b),q=0;q<16;q++)b[q]=0;return 0}function ke(b,_,A,c,k){var q,X=new Uint8Array(32);if(A<32||(he(X,0,32,c,k),ee(_,16,_,32,A-32,X)!==0))return-1;for(_e(b,0,_,0,A,c,k),q=0;q<32;q++)b[q]=0;return 0}function Ae(b,_){var A;for(A=0;A<16;A++)b[A]=_[A]|0}function j(b){var _,A,c=1;for(_=0;_<16;_++)A=b[_]+c+65535,c=Math.floor(A/65536),b[_]=A-c*65536;b[0]+=c-1+37*(c-1)}function D(b,_,A){for(var c,k=~(A-1),q=0;q<16;q++)c=k&(b[q]^_[q]),b[q]^=c,_[q]^=c}function $(b,_){var A,c,k,q=l(),X=l();for(A=0;A<16;A++)X[A]=_[A];for(j(X),j(X),j(X),c=0;c<2;c++){for(q[0]=X[0]-65517,A=1;A<15;A++)q[A]=X[A]-65535-(q[A-1]>>16&1),q[A-1]&=65535;q[15]=X[15]-32767-(q[14]>>16&1),k=q[15]>>16&1,q[14]&=65535,D(X,q,1-k)}for(A=0;A<16;A++)b[2*A]=X[A]&255,b[2*A+1]=X[A]>>8}function ae(b,_){var A=new Uint8Array(32),c=new Uint8Array(32);return $(A,b),$(c,_),Y(A,0,c,0)}function F(b){var _=new Uint8Array(32);return $(_,b),_[0]&1}function G(b,_){var A;for(A=0;A<16;A++)b[A]=_[2*A]+(_[2*A+1]<<8);b[15]&=32767}function Ee(b,_,A){for(var c=0;c<16;c++)b[c]=_[c]+A[c]}function ve(b,_,A){for(var c=0;c<16;c++)b[c]=_[c]-A[c]}function Re(b,_,A){var c,k,q=0,X=0,se=0,me=0,Ne=0,le=0,st=0,Te=0,qe=0,Ke=0,Xe=0,Je=0,Ge=0,Ve=0,$e=0,Ie=0,Le=0,Be=0,Me=0,Ue=0,Pe=0,re=0,ne=0,de=0,ue=0,oe=0,ye=0,je=0,Qe=0,Ye=0,et=0,M=A[0],at=A[1],ft=A[2],dt=A[3],it=A[4],ct=A[5],ut=A[6],Bt=A[7],bt=A[8],Ct=A[9],Tt=A[10],It=A[11],xt=A[12],Vt=A[13],qt=A[14],Jt=A[15];c=_[0],q+=c*M,X+=c*at,se+=c*ft,me+=c*dt,Ne+=c*it,le+=c*ct,st+=c*ut,Te+=c*Bt,qe+=c*bt,Ke+=c*Ct,Xe+=c*Tt,Je+=c*It,Ge+=c*xt,Ve+=c*Vt,$e+=c*qt,Ie+=c*Jt,c=_[1],X+=c*M,se+=c*at,me+=c*ft,Ne+=c*dt,le+=c*it,st+=c*ct,Te+=c*ut,qe+=c*Bt,Ke+=c*bt,Xe+=c*Ct,Je+=c*Tt,Ge+=c*It,Ve+=c*xt,$e+=c*Vt,Ie+=c*qt,Le+=c*Jt,c=_[2],se+=c*M,me+=c*at,Ne+=c*ft,le+=c*dt,st+=c*it,Te+=c*ct,qe+=c*ut,Ke+=c*Bt,Xe+=c*bt,Je+=c*Ct,Ge+=c*Tt,Ve+=c*It,$e+=c*xt,Ie+=c*Vt,Le+=c*qt,Be+=c*Jt,c=_[3],me+=c*M,Ne+=c*at,le+=c*ft,st+=c*dt,Te+=c*it,qe+=c*ct,Ke+=c*ut,Xe+=c*Bt,Je+=c*bt,Ge+=c*Ct,Ve+=c*Tt,$e+=c*It,Ie+=c*xt,Le+=c*Vt,Be+=c*qt,Me+=c*Jt,c=_[4],Ne+=c*M,le+=c*at,st+=c*ft,Te+=c*dt,qe+=c*it,Ke+=c*ct,Xe+=c*ut,Je+=c*Bt,Ge+=c*bt,Ve+=c*Ct,$e+=c*Tt,Ie+=c*It,Le+=c*xt,Be+=c*Vt,Me+=c*qt,Ue+=c*Jt,c=_[5],le+=c*M,st+=c*at,Te+=c*ft,qe+=c*dt,Ke+=c*it,Xe+=c*ct,Je+=c*ut,Ge+=c*Bt,Ve+=c*bt,$e+=c*Ct,Ie+=c*Tt,Le+=c*It,Be+=c*xt,Me+=c*Vt,Ue+=c*qt,Pe+=c*Jt,c=_[6],st+=c*M,Te+=c*at,qe+=c*ft,Ke+=c*dt,Xe+=c*it,Je+=c*ct,Ge+=c*ut,Ve+=c*Bt,$e+=c*bt,Ie+=c*Ct,Le+=c*Tt,Be+=c*It,Me+=c*xt,Ue+=c*Vt,Pe+=c*qt,re+=c*Jt,c=_[7],Te+=c*M,qe+=c*at,Ke+=c*ft,Xe+=c*dt,Je+=c*it,Ge+=c*ct,Ve+=c*ut,$e+=c*Bt,Ie+=c*bt,Le+=c*Ct,Be+=c*Tt,Me+=c*It,Ue+=c*xt,Pe+=c*Vt,re+=c*qt,ne+=c*Jt,c=_[8],qe+=c*M,Ke+=c*at,Xe+=c*ft,Je+=c*dt,Ge+=c*it,Ve+=c*ct,$e+=c*ut,Ie+=c*Bt,Le+=c*bt,Be+=c*Ct,Me+=c*Tt,Ue+=c*It,Pe+=c*xt,re+=c*Vt,ne+=c*qt,de+=c*Jt,c=_[9],Ke+=c*M,Xe+=c*at,Je+=c*ft,Ge+=c*dt,Ve+=c*it,$e+=c*ct,Ie+=c*ut,Le+=c*Bt,Be+=c*bt,Me+=c*Ct,Ue+=c*Tt,Pe+=c*It,re+=c*xt,ne+=c*Vt,de+=c*qt,ue+=c*Jt,c=_[10],Xe+=c*M,Je+=c*at,Ge+=c*ft,Ve+=c*dt,$e+=c*it,Ie+=c*ct,Le+=c*ut,Be+=c*Bt,Me+=c*bt,Ue+=c*Ct,Pe+=c*Tt,re+=c*It,ne+=c*xt,de+=c*Vt,ue+=c*qt,oe+=c*Jt,c=_[11],Je+=c*M,Ge+=c*at,Ve+=c*ft,$e+=c*dt,Ie+=c*it,Le+=c*ct,Be+=c*ut,Me+=c*Bt,Ue+=c*bt,Pe+=c*Ct,re+=c*Tt,ne+=c*It,de+=c*xt,ue+=c*Vt,oe+=c*qt,ye+=c*Jt,c=_[12],Ge+=c*M,Ve+=c*at,$e+=c*ft,Ie+=c*dt,Le+=c*it,Be+=c*ct,Me+=c*ut,Ue+=c*Bt,Pe+=c*bt,re+=c*Ct,ne+=c*Tt,de+=c*It,ue+=c*xt,oe+=c*Vt,ye+=c*qt,je+=c*Jt,c=_[13],Ve+=c*M,$e+=c*at,Ie+=c*ft,Le+=c*dt,Be+=c*it,Me+=c*ct,Ue+=c*ut,Pe+=c*Bt,re+=c*bt,ne+=c*Ct,de+=c*Tt,ue+=c*It,oe+=c*xt,ye+=c*Vt,je+=c*qt,Qe+=c*Jt,c=_[14],$e+=c*M,Ie+=c*at,Le+=c*ft,Be+=c*dt,Me+=c*it,Ue+=c*ct,Pe+=c*ut,re+=c*Bt,ne+=c*bt,de+=c*Ct,ue+=c*Tt,oe+=c*It,ye+=c*xt,je+=c*Vt,Qe+=c*qt,Ye+=c*Jt,c=_[15],Ie+=c*M,Le+=c*at,Be+=c*ft,Me+=c*dt,Ue+=c*it,Pe+=c*ct,re+=c*ut,ne+=c*Bt,de+=c*bt,ue+=c*Ct,oe+=c*Tt,ye+=c*It,je+=c*xt,Qe+=c*Vt,Ye+=c*qt,et+=c*Jt,q+=38*Le,X+=38*Be,se+=38*Me,me+=38*Ue,Ne+=38*Pe,le+=38*re,st+=38*ne,Te+=38*de,qe+=38*ue,Ke+=38*oe,Xe+=38*ye,Je+=38*je,Ge+=38*Qe,Ve+=38*Ye,$e+=38*et,k=1,c=q+k+65535,k=Math.floor(c/65536),q=c-k*65536,c=X+k+65535,k=Math.floor(c/65536),X=c-k*65536,c=se+k+65535,k=Math.floor(c/65536),se=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Ne+k+65535,k=Math.floor(c/65536),Ne=c-k*65536,c=le+k+65535,k=Math.floor(c/65536),le=c-k*65536,c=st+k+65535,k=Math.floor(c/65536),st=c-k*65536,c=Te+k+65535,k=Math.floor(c/65536),Te=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Ke+k+65535,k=Math.floor(c/65536),Ke=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=Ge+k+65535,k=Math.floor(c/65536),Ge=c-k*65536,c=Ve+k+65535,k=Math.floor(c/65536),Ve=c-k*65536,c=$e+k+65535,k=Math.floor(c/65536),$e=c-k*65536,c=Ie+k+65535,k=Math.floor(c/65536),Ie=c-k*65536,q+=k-1+37*(k-1),k=1,c=q+k+65535,k=Math.floor(c/65536),q=c-k*65536,c=X+k+65535,k=Math.floor(c/65536),X=c-k*65536,c=se+k+65535,k=Math.floor(c/65536),se=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Ne+k+65535,k=Math.floor(c/65536),Ne=c-k*65536,c=le+k+65535,k=Math.floor(c/65536),le=c-k*65536,c=st+k+65535,k=Math.floor(c/65536),st=c-k*65536,c=Te+k+65535,k=Math.floor(c/65536),Te=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Ke+k+65535,k=Math.floor(c/65536),Ke=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=Ge+k+65535,k=Math.floor(c/65536),Ge=c-k*65536,c=Ve+k+65535,k=Math.floor(c/65536),Ve=c-k*65536,c=$e+k+65535,k=Math.floor(c/65536),$e=c-k*65536,c=Ie+k+65535,k=Math.floor(c/65536),Ie=c-k*65536,q+=k-1+37*(k-1),b[0]=q,b[1]=X,b[2]=se,b[3]=me,b[4]=Ne,b[5]=le,b[6]=st,b[7]=Te,b[8]=qe,b[9]=Ke,b[10]=Xe,b[11]=Je,b[12]=Ge,b[13]=Ve,b[14]=$e,b[15]=Ie}function Fe(b,_){Re(b,_,_)}function At(b,_){var A=l(),c;for(c=0;c<16;c++)A[c]=_[c];for(c=253;c>=0;c--)Fe(A,A),c!==2&&c!==4&&Re(A,A,_);for(c=0;c<16;c++)b[c]=A[c]}function vt(b,_){var A=l(),c;for(c=0;c<16;c++)A[c]=_[c];for(c=250;c>=0;c--)Fe(A,A),c!==1&&Re(A,A,_);for(c=0;c<16;c++)b[c]=A[c]}function hr(b,_,A){var c=new Uint8Array(32),k=new Float64Array(80),q,X,se=l(),me=l(),Ne=l(),le=l(),st=l(),Te=l();for(X=0;X<31;X++)c[X]=_[X];for(c[31]=_[31]&127|64,c[0]&=248,G(k,A),X=0;X<16;X++)me[X]=k[X],le[X]=se[X]=Ne[X]=0;for(se[0]=le[0]=1,X=254;X>=0;--X)q=c[X>>>3]>>>(X&7)&1,D(se,me,q),D(Ne,le,q),Ee(st,se,Ne),ve(se,se,Ne),Ee(Ne,me,le),ve(me,me,le),Fe(le,st),Fe(Te,se),Re(se,Ne,se),Re(Ne,me,st),Ee(st,se,Ne),ve(se,se,Ne),Fe(me,se),ve(Ne,le,Te),Re(se,Ne,S),Ee(se,se,le),Re(Ne,Ne,se),Re(se,le,Te),Re(le,me,k),Fe(me,st),D(se,me,q),D(Ne,le,q);for(X=0;X<16;X++)k[X+16]=se[X],k[X+32]=Ne[X],k[X+48]=me[X],k[X+64]=le[X];var qe=k.subarray(32),Ke=k.subarray(16);return At(qe,qe),Re(Ke,Ke,qe),$(b,Ke),0}function qr(b,_){return hr(b,_,g)}function Fn(b,_){return v(_,32),qr(b,_)}function Zr(b,_,A){var c=new Uint8Array(32);return hr(c,A,_),Q(b,w,c,Z)}var dn=xe,sr=ke;function Kn(b,_,A,c,k,q){var X=new Uint8Array(32);return Zr(X,k,q),dn(b,_,A,c,X)}function we(b,_,A,c,k,q){var X=new Uint8Array(32);return Zr(X,k,q),sr(b,_,A,c,X)}var zn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Et(b,_,A,c){for(var k=new Int32Array(16),q=new Int32Array(16),X,se,me,Ne,le,st,Te,qe,Ke,Xe,Je,Ge,Ve,$e,Ie,Le,Be,Me,Ue,Pe,re,ne,de,ue,oe,ye,je=b[0],Qe=b[1],Ye=b[2],et=b[3],M=b[4],at=b[5],ft=b[6],dt=b[7],it=_[0],ct=_[1],ut=_[2],Bt=_[3],bt=_[4],Ct=_[5],Tt=_[6],It=_[7],xt=0;c>=128;){for(Ue=0;Ue<16;Ue++)Pe=8*Ue+xt,k[Ue]=A[Pe+0]<<24|A[Pe+1]<<16|A[Pe+2]<<8|A[Pe+3],q[Ue]=A[Pe+4]<<24|A[Pe+5]<<16|A[Pe+6]<<8|A[Pe+7];for(Ue=0;Ue<80;Ue++)if(X=je,se=Qe,me=Ye,Ne=et,le=M,st=at,Te=ft,qe=dt,Ke=it,Xe=ct,Je=ut,Ge=Bt,Ve=bt,$e=Ct,Ie=Tt,Le=It,re=dt,ne=It,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=(M>>>14|bt<<32-14)^(M>>>18|bt<<32-18)^(bt>>>41-32|M<<32-(41-32)),ne=(bt>>>14|M<<32-14)^(bt>>>18|M<<32-18)^(M>>>41-32|bt<<32-(41-32)),de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,re=M&at^~M&ft,ne=bt&Ct^~bt&Tt,de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,re=zn[Ue*2],ne=zn[Ue*2+1],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,re=k[Ue%16],ne=q[Ue%16],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,Be=oe&65535|ye<<16,Me=de&65535|ue<<16,re=Be,ne=Me,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=(je>>>28|it<<32-28)^(it>>>34-32|je<<32-(34-32))^(it>>>39-32|je<<32-(39-32)),ne=(it>>>28|je<<32-28)^(je>>>34-32|it<<32-(34-32))^(je>>>39-32|it<<32-(39-32)),de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,re=je&Qe^je&Ye^Qe&Ye,ne=it&ct^it&ut^ct&ut,de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,qe=oe&65535|ye<<16,Le=de&65535|ue<<16,re=Ne,ne=Ge,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=Be,ne=Me,de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,Ne=oe&65535|ye<<16,Ge=de&65535|ue<<16,Qe=X,Ye=se,et=me,M=Ne,at=le,ft=st,dt=Te,je=qe,ct=Ke,ut=Xe,Bt=Je,bt=Ge,Ct=Ve,Tt=$e,It=Ie,it=Le,Ue%16===15)for(Pe=0;Pe<16;Pe++)re=k[Pe],ne=q[Pe],de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=k[(Pe+9)%16],ne=q[(Pe+9)%16],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,Be=k[(Pe+1)%16],Me=q[(Pe+1)%16],re=(Be>>>1|Me<<32-1)^(Be>>>8|Me<<32-8)^Be>>>7,ne=(Me>>>1|Be<<32-1)^(Me>>>8|Be<<32-8)^(Me>>>7|Be<<32-7),de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,Be=k[(Pe+14)%16],Me=q[(Pe+14)%16],re=(Be>>>19|Me<<32-19)^(Me>>>61-32|Be<<32-(61-32))^Be>>>6,ne=(Me>>>19|Be<<32-19)^(Be>>>61-32|Me<<32-(61-32))^(Me>>>6|Be<<32-6),de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,k[Pe]=oe&65535|ye<<16,q[Pe]=de&65535|ue<<16;re=je,ne=it,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[0],ne=_[0],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[0]=je=oe&65535|ye<<16,_[0]=it=de&65535|ue<<16,re=Qe,ne=ct,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[1],ne=_[1],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[1]=Qe=oe&65535|ye<<16,_[1]=ct=de&65535|ue<<16,re=Ye,ne=ut,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[2],ne=_[2],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[2]=Ye=oe&65535|ye<<16,_[2]=ut=de&65535|ue<<16,re=et,ne=Bt,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[3],ne=_[3],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[3]=et=oe&65535|ye<<16,_[3]=Bt=de&65535|ue<<16,re=M,ne=bt,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[4],ne=_[4],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[4]=M=oe&65535|ye<<16,_[4]=bt=de&65535|ue<<16,re=at,ne=Ct,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[5],ne=_[5],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[5]=at=oe&65535|ye<<16,_[5]=Ct=de&65535|ue<<16,re=ft,ne=Tt,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[6],ne=_[6],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[6]=ft=oe&65535|ye<<16,_[6]=Tt=de&65535|ue<<16,re=dt,ne=It,de=ne&65535,ue=ne>>>16,oe=re&65535,ye=re>>>16,re=b[7],ne=_[7],de+=ne&65535,ue+=ne>>>16,oe+=re&65535,ye+=re>>>16,ue+=de>>>16,oe+=ue>>>16,ye+=oe>>>16,b[7]=dt=oe&65535|ye<<16,_[7]=It=de&65535|ue<<16,xt+=128,c-=128}return c}function Sr(b,_,A){var c=new Int32Array(8),k=new Int32Array(8),q=new Uint8Array(256),X,se=A;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,k[0]=4089235720,k[1]=2227873595,k[2]=4271175723,k[3]=1595750129,k[4]=2917565137,k[5]=725511199,k[6]=4215389547,k[7]=327033209,Et(c,k,_,A),A%=128,X=0;X<A;X++)q[X]=_[se-A+X];for(q[A]=128,A=256-128*(A<112?1:0),q[A-9]=0,U(q,A-8,se/536870912|0,se<<3),Et(c,k,q,A),X=0;X<8;X++)U(b,8*X,c[X],k[X]);return 0}function mr(b,_){var A=l(),c=l(),k=l(),q=l(),X=l(),se=l(),me=l(),Ne=l(),le=l();ve(A,b[1],b[0]),ve(le,_[1],_[0]),Re(A,A,le),Ee(c,b[0],b[1]),Ee(le,_[0],_[1]),Re(c,c,le),Re(k,b[3],_[3]),Re(k,k,I),Re(q,b[2],_[2]),Ee(q,q,q),ve(X,c,A),ve(se,q,k),Ee(me,q,k),Ee(Ne,c,A),Re(b[0],X,se),Re(b[1],Ne,me),Re(b[2],me,se),Re(b[3],X,Ne)}function ln(b,_,A){var c;for(c=0;c<4;c++)D(b[c],_[c],A)}function hn(b,_){var A=l(),c=l(),k=l();At(k,_[2]),Re(A,_[0],k),Re(c,_[1],k),$(b,c),b[31]^=F(A)<<7}function jr(b,_,A){var c,k;for(Ae(b[0],p),Ae(b[1],h),Ae(b[2],h),Ae(b[3],p),k=255;k>=0;--k)c=A[k/8|0]>>(k&7)&1,ln(b,_,c),mr(_,b),mr(b,b),ln(b,_,c)}function Se(b,_){var A=[l(),l(),l(),l()];Ae(A[0],R),Ae(A[1],P),Ae(A[2],h),Re(A[3],R,P),jr(b,A,_)}function Ft(b,_,A){var c=new Uint8Array(64),k=[l(),l(),l(),l()],q;for(A||v(_,32),Sr(c,_,32),c[0]&=248,c[31]&=127,c[31]|=64,Se(k,c),hn(b,k),q=0;q<32;q++)_[q+32]=b[q];return 0}var tr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function vn(b,_){var A,c,k,q;for(c=63;c>=32;--c){for(A=0,k=c-32,q=c-12;k<q;++k)_[k]+=A-16*_[c]*tr[k-(c-32)],A=Math.floor((_[k]+128)/256),_[k]-=A*256;_[k]+=A,_[c]=0}for(A=0,k=0;k<32;k++)_[k]+=A-(_[31]>>4)*tr[k],A=_[k]>>8,_[k]&=255;for(k=0;k<32;k++)_[k]-=A*tr[k];for(c=0;c<32;c++)_[c+1]+=_[c]>>8,b[c]=_[c]&255}function St(b){var _=new Float64Array(64),A;for(A=0;A<64;A++)_[A]=b[A];for(A=0;A<64;A++)b[A]=0;vn(b,_)}function Yr(b,_,A,c){var k=new Uint8Array(64),q=new Uint8Array(64),X=new Uint8Array(64),se,me,Ne=new Float64Array(64),le=[l(),l(),l(),l()];Sr(k,c,32),k[0]&=248,k[31]&=127,k[31]|=64;var st=A+64;for(se=0;se<A;se++)b[64+se]=_[se];for(se=0;se<32;se++)b[32+se]=k[32+se];for(Sr(X,b.subarray(32),A+32),St(X),Se(le,X),hn(b,le),se=32;se<64;se++)b[se]=c[se];for(Sr(q,b,A+64),St(q),se=0;se<64;se++)Ne[se]=0;for(se=0;se<32;se++)Ne[se]=X[se];for(se=0;se<32;se++)for(me=0;me<32;me++)Ne[se+me]+=q[se]*k[me];return vn(b.subarray(32),Ne),st}function Oe(b,_){var A=l(),c=l(),k=l(),q=l(),X=l(),se=l(),me=l();return Ae(b[2],h),G(b[1],_),Fe(k,b[1]),Re(q,k,E),ve(k,k,b[2]),Ee(q,b[2],q),Fe(X,q),Fe(se,X),Re(me,se,X),Re(A,me,k),Re(A,A,q),vt(A,A),Re(A,A,k),Re(A,A,q),Re(A,A,q),Re(b[0],A,q),Fe(c,b[0]),Re(c,c,q),ae(c,k)&&Re(b[0],b[0],y),Fe(c,b[0]),Re(c,c,q),ae(c,k)?-1:(F(b[0])===_[31]>>7&&ve(b[0],p,b[0]),Re(b[3],b[0],b[1]),0)}function Qr(b,_,A,c){var k,q=new Uint8Array(32),X=new Uint8Array(64),se=[l(),l(),l(),l()],me=[l(),l(),l(),l()];if(A<64||Oe(me,c))return-1;for(k=0;k<A;k++)b[k]=_[k];for(k=0;k<32;k++)b[k+32]=c[k];if(Sr(X,b,A),St(X),jr(se,me,X),Se(me,_.subarray(32)),mr(se,me),hn(q,se),A-=64,Y(_,0,q,0)){for(k=0;k<A;k++)b[k]=0;return-1}for(k=0;k<A;k++)b[k]=_[k+64];return A}var xr=32,ar=24,en=32,Ur=16,kt=32,pr=32,Or=32,Gr=32,_r=32,or=ar,xn=en,En=Ur,wr=64,vr=32,ze=64,Ar=32,Ht=64;f.lowlevel={crypto_core_hsalsa20:Q,crypto_stream_xor:_e,crypto_stream:he,crypto_stream_salsa20_xor:fe,crypto_stream_salsa20:Ce,crypto_onetimeauth:te,crypto_onetimeauth_verify:ee,crypto_verify_16:z,crypto_verify_32:Y,crypto_secretbox:xe,crypto_secretbox_open:ke,crypto_scalarmult:hr,crypto_scalarmult_base:qr,crypto_box_beforenm:Zr,crypto_box_afternm:dn,crypto_box:Kn,crypto_box_open:we,crypto_box_keypair:Fn,crypto_hash:Sr,crypto_sign:Yr,crypto_sign_keypair:Ft,crypto_sign_open:Qr,crypto_secretbox_KEYBYTES:xr,crypto_secretbox_NONCEBYTES:ar,crypto_secretbox_ZEROBYTES:en,crypto_secretbox_BOXZEROBYTES:Ur,crypto_scalarmult_BYTES:kt,crypto_scalarmult_SCALARBYTES:pr,crypto_box_PUBLICKEYBYTES:Or,crypto_box_SECRETKEYBYTES:Gr,crypto_box_BEFORENMBYTES:_r,crypto_box_NONCEBYTES:or,crypto_box_ZEROBYTES:xn,crypto_box_BOXZEROBYTES:En,crypto_sign_BYTES:wr,crypto_sign_PUBLICKEYBYTES:vr,crypto_sign_SECRETKEYBYTES:ze,crypto_sign_SEEDBYTES:Ar,crypto_hash_BYTES:Ht,gf:l,D:E,L:tr,pack25519:$,unpack25519:G,M:Re,A:Ee,S:Fe,Z:ve,pow2523:vt,add:mr,set25519:Ae,modL:vn,scalarmult:jr,scalarbase:Se};function nt(b,_){if(b.length!==xr)throw new Error("bad key size");if(_.length!==ar)throw new Error("bad nonce size")}function Wt(b,_){if(b.length!==Or)throw new Error("bad public key size");if(_.length!==Gr)throw new Error("bad secret key size")}function $t(){for(var b=0;b<arguments.length;b++)if(!(arguments[b]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function $n(b){for(var _=0;_<b.length;_++)b[_]=0}f.randomBytes=function(b){var _=new Uint8Array(b);return v(_,b),_},f.secretbox=function(b,_,A){$t(b,_,A),nt(A,_);for(var c=new Uint8Array(en+b.length),k=new Uint8Array(c.length),q=0;q<b.length;q++)c[q+en]=b[q];return xe(k,c,c.length,_,A),k.subarray(Ur)},f.secretbox.open=function(b,_,A){$t(b,_,A),nt(A,_);for(var c=new Uint8Array(Ur+b.length),k=new Uint8Array(c.length),q=0;q<b.length;q++)c[q+Ur]=b[q];return c.length<32||ke(k,c,c.length,_,A)!==0?null:k.subarray(en)},f.secretbox.keyLength=xr,f.secretbox.nonceLength=ar,f.secretbox.overheadLength=Ur,f.scalarMult=function(b,_){if($t(b,_),b.length!==pr)throw new Error("bad n size");if(_.length!==kt)throw new Error("bad p size");var A=new Uint8Array(kt);return hr(A,b,_),A},f.scalarMult.base=function(b){if($t(b),b.length!==pr)throw new Error("bad n size");var _=new Uint8Array(kt);return qr(_,b),_},f.scalarMult.scalarLength=pr,f.scalarMult.groupElementLength=kt,f.box=function(b,_,A,c){var k=f.box.before(A,c);return f.secretbox(b,_,k)},f.box.before=function(b,_){$t(b,_),Wt(b,_);var A=new Uint8Array(_r);return Zr(A,b,_),A},f.box.after=f.secretbox,f.box.open=function(b,_,A,c){var k=f.box.before(A,c);return f.secretbox.open(b,_,k)},f.box.open.after=f.secretbox.open,f.box.keyPair=function(){var b=new Uint8Array(Or),_=new Uint8Array(Gr);return Fn(b,_),{publicKey:b,secretKey:_}},f.box.keyPair.fromSecretKey=function(b){if($t(b),b.length!==Gr)throw new Error("bad secret key size");var _=new Uint8Array(Or);return qr(_,b),{publicKey:_,secretKey:new Uint8Array(b)}},f.box.publicKeyLength=Or,f.box.secretKeyLength=Gr,f.box.sharedKeyLength=_r,f.box.nonceLength=or,f.box.overheadLength=f.secretbox.overheadLength,f.sign=function(b,_){if($t(b,_),_.length!==ze)throw new Error("bad secret key size");var A=new Uint8Array(wr+b.length);return Yr(A,b,b.length,_),A},f.sign.open=function(b,_){if($t(b,_),_.length!==vr)throw new Error("bad public key size");var A=new Uint8Array(b.length),c=Qr(A,b,b.length,_);if(c<0)return null;for(var k=new Uint8Array(c),q=0;q<k.length;q++)k[q]=A[q];return k},f.sign.detached=function(b,_){for(var A=f.sign(b,_),c=new Uint8Array(wr),k=0;k<c.length;k++)c[k]=A[k];return c},f.sign.detached.verify=function(b,_,A){if($t(b,_,A),_.length!==wr)throw new Error("bad signature size");if(A.length!==vr)throw new Error("bad public key size");var c=new Uint8Array(wr+b.length),k=new Uint8Array(wr+b.length),q;for(q=0;q<wr;q++)c[q]=_[q];for(q=0;q<b.length;q++)c[q+wr]=b[q];return Qr(k,c,c.length,A)>=0},f.sign.keyPair=function(){var b=new Uint8Array(vr),_=new Uint8Array(ze);return Ft(b,_),{publicKey:b,secretKey:_}},f.sign.keyPair.fromSecretKey=function(b){if($t(b),b.length!==ze)throw new Error("bad secret key size");for(var _=new Uint8Array(vr),A=0;A<_.length;A++)_[A]=b[32+A];return{publicKey:_,secretKey:new Uint8Array(b)}},f.sign.keyPair.fromSeed=function(b){if($t(b),b.length!==Ar)throw new Error("bad seed size");for(var _=new Uint8Array(vr),A=new Uint8Array(ze),c=0;c<32;c++)A[c]=b[c];return Ft(_,A,!0),{publicKey:_,secretKey:A}},f.sign.publicKeyLength=vr,f.sign.secretKeyLength=ze,f.sign.seedLength=Ar,f.sign.signatureLength=wr,f.hash=function(b){$t(b);var _=new Uint8Array(Ht);return Sr(_,b,b.length),_},f.hash.hashLength=Ht,f.verify=function(b,_){return $t(b,_),b.length===0||_.length===0||b.length!==_.length?!1:N(b,0,_,0,b.length)===0},f.setPRNG=function(b){v=b},function(){var b=typeof self<"u"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var _=65536;f.setPRNG(function(A,c){var k,q=new Uint8Array(c);for(k=0;k<c;k+=_)b.getRandomValues(q.subarray(k,k+Math.min(c-k,_)));for(k=0;k<c;k++)A[k]=q[k];$n(q)})}else b=x(39201),b&&b.randomBytes&&f.setPRNG(function(A,c){var k,q=b.randomBytes(c);for(k=0;k<c;k++)A[k]=q[k];$n(q)})}()})(B.exports?B.exports:self.nacl=self.nacl||{})},1842:function(B,u,x){var c0,u0,f0,d0,l0,h0;"use strict";x.r(u),x.d(u,{WebIrys:function(){return o0},default:function(){return o0}});var f={};x.r(f),x.d(f,{arToWinston:function(){return Ve},b64UrlDecode:function(){return Je},b64UrlEncode:function(){return Xe},b64UrlToBuffer:function(){return Te},b64UrlToString:function(){return me},bufferToString:function(){return Ne},bufferTob64:function(){return qe},bufferTob64Url:function(){return Ke},concatBuffers:function(){return se},stringToB64Url:function(){return st},stringToBuffer:function(){return le},winstonToAr:function(){return Ge}});var l={};x.r(l),x.d(l,{AVSCTap:function(){return Po},AlgorandSigner:function(){return ll},AptosSigner:function(){return xl},ArconnectSigner:function(){return pl},Arweave:function(){return Fa},ArweaveSigner:function(){return ws},Bundle:function(){return Cu},BundleItem:function(){return wl},CryptoDriver:function(){return lc},Curve25519:function(){return q},DataItem:function(){return xi},EthereumSigner:function(){return Ls},HexInjectedSolanaSigner:function(){return Fs},HexSolanaSigner:function(){return hl},InjectedAptosSigner:function(){return zs},InjectedEthereumSigner:function(){return cl},InjectedSolanaSigner:function(){return vc},InjectedTypedEthereumSigner:function(){return Eo},MAX_TAG_BYTES:function(){return ko},MIN_BINARY_SIZE:function(){return Ro},MultiSignatureAptosSigner:function(){return _u},NearSigner:function(){return vo},PolygonSigner:function(){return dl},Rsa4096:function(){return hc},SIG_CONFIG:function(){return A},SignatureConfig:function(){return _},Signer:function(){return b},SolanaSigner:function(){return bo},TypedEthereumSigner:function(){return Tu},bundleAndSignData:function(){return Bu},byteArrayToLong:function(){return jt},concatBuffers:function(){return se},createData:function(){return Io},deepHash:function(){return Ie},deserializeTags:function(){return Ws},exportForTesting:function(){return fl},getCryptoDriver:function(){return rr},getSignatureAndId:function(){return Uu},indexToType:function(){return So},keccak256:function(){return go},longTo16ByteArray:function(){return bl},longTo32ByteArray:function(){return To},longTo8ByteArray:function(){return Ao},longToNByteArray:function(){return Ji},secp256k1:function(){return vu},serializeTags:function(){return ku},shortTo2ByteArray:function(){return Ru},sign:function(){return Co},stringToBuffer:function(){return le},unbundleData:function(){return ml}});var v={};x.r(v),x.d(v,{default:function(){return El},processStream:function(){return Ou},streamExportForTesting:function(){return Sl},streamSigner:function(){return vl}});var w={};x.r(w),x.d(w,{DataItem:function(){return xi},bundleAndSignData:function(){return Bu},createData:function(){return Io},deepHash:function(){return Ie},getCryptoDriver:function(){return rr},stringToBuffer:function(){return le}});const g=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(c0=globalThis.crypto).subtle??(c0.subtle={}),(u0=globalThis.crypto.subtle).generateKey??(u0.generateKey=g),(f0=globalThis.crypto.subtle).importKey??(f0.importKey=g),(d0=globalThis.crypto.subtle).exportKey??(d0.exportKey=g),(l0=globalThis.crypto.subtle).digest??(l0.digest=g),(h0=globalThis.crypto.subtle).sign??(h0.sign=g);var p=null,h=x(59599),S=x(29938),E=x(35906),I=x(55872).Buffer;function R(r){class e extends r.arbundles.DataItem{constructor(i,s,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?I.from(i):s.arbundles.createData(i,s.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??E.randomBytes(32).toString("base64").slice(0,32)}).getRaw());O(this,"Irys");O(this,"signer");this.Irys=s,this.signer=s.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(i){return(await this.Irys.uploader.uploadTransaction(this,{...i,getReceiptSignature:!0})).data}async upload(i){return(await this.Irys.uploader.uploadTransaction(this,i)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return r.arbundles.DataItem.verify(this.getRaw())}}return e}var P=x(27220),y=x(1562);y.Z.set({DECIMAL_PLACES:50});const U=r=>new Promise(e=>setTimeout(e,r));class N{constructor(e,t,n){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"arbundles");this.api=e,this.token=t,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,t,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${t}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return N.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return N.checkAndThrow(t,"Getting balance"),new y.Z(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");N.checkAndThrow(t,"Getting Bundler address");const n=t.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,t){const n=await this.api.get(`/price/${e}/${t}`);return N.checkAndThrow(n,"Getting storage cost"),new y.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const t=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,i=(await this.getPrice(this.tokenConfig.name,t)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(i).decimalPlaces(0)}toAtomic(e){return new y.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new y.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,t=30){if(this.tokenConfig.isSlow)return;t<0&&(t=0);let n,i;const s=async()=>{for(;!i;){if(await this.tokenConfig.getTx(e).then(m=>m==null?void 0:m.confirmed).catch(m=>(n=m,!1)))return!0;await U(1e3)}return!1},a=async()=>(await U(t*1e3),i=!0,"RACE"),o=await Promise.race([a(),s()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${t} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new y.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return N.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,t){const{id:n,deadlineHeight:i,timestamp:s,public:a,signature:o,version:d}=t,m=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(d),e.stringToBuffer(n),e.stringToBuffer(i.toString()),e.stringToBuffer(s.toString())]);return await e.getCryptoDriver().verify(a,m,P.toBuffer(o))}async getReceipt(e){var o,d,m,T,C,L;const t=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await S(async()=>await this.api.post("/graphql",{query:t},{headers:{"content-type":"application/json"},validateStatus:V=>V===200})),i=(L=(C=(T=(m=(d=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:d.transactions)==null?void 0:m.edges)==null?void 0:T.at(0))==null?void 0:C.node)==null?void 0:L.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:i.version,id:e,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var z=x(55872).Buffer;async function Y(r,e,t){const n=r.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:r.token,amount:new y.Z(t).toString(),nonce:await r.getNonce(),signature:"",sigType:n.getSigner().signatureType},d=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);z.isBuffer(o.publicKey)||(o.publicKey=z.from(o.publicKey));const m=await n.sign(d),T=await n.verify(o.publicKey,d,m);o.publicKey=P.encode(o.publicKey),o.signature=P.encode(z.from(m));const C=P.toBuffer(o.publicKey),L=P.toBuffer(o.signature),V=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),ie=await n.verify(C,V,L),ce=n.ownerToAddress(n.name=="arweave"?P.decode(o.publicKey):P.toBuffer(o.publicKey))===n.address;if(!(T||ie||ce))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const be=await e.post("/account/withdraw",o);if(be.status===202){const De=be.data.tx_id,rt=await r.confirmationPoll(De);if(rt!==!0)throw new Error(`Unable to confirm withdrawal tx ${De} ${rt?rt==null?void 0:rt.toString():""}`)}else N.checkAndThrow(be,"Withdrawing balance");return be.data}var J=x(26748);class pe{constructor({url:e,retryConfig:t,query:n,queryName:i,opts:s}){O(this,"queryVars",{});O(this,"queryFields");O(this,"queryInfo");O(this,"_query");O(this,"url");O(this,"config");O(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...t}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(s!=null&&s.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var d,m;if(this.config.userProvided)return this;const e=T=>JSON.stringify(T,(C,L)=>{if(L instanceof Array)return L[0];if(typeof L=="object")return L;if(L!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),t=e(this.queryFields),n=e({pageInfo:{[((d=this.queryInfo.paging)==null?void 0:d.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,s={...this.queryInfo.vars,...this.queryVars};for(const[T,C]of Object.entries(this.queryInfo.remapVars??{}))if((s==null?void 0:s[T])!==void 0){if(typeof C=="function"){const L=C(T,s[T],s);if(!L)continue;const[V,ie]=L;if(s[V]=ie,V===T)continue}else s[C]=s[T];s[T]=void 0}const a=JSON.stringify(s,function(T,C){return C===void 0||C instanceof Array||typeof C=="object"||typeof C=="number"||i!=null&&i.includes(T)?C:`'${C}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((m=this==null?void 0:this.queryInfo)!=null&&m.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${t}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${t}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await S(async i=>{const s=await(0,h.Z)(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(s.data.errors)throw s;return s},this.config.retryOpts)}catch(i){throw new Error(`Error running query
 ${this._query} - ${i.message?i.message+" -":""} (${JSON.stringify(((n=i==null?void 0:i.data)==null?void 0:n.errors.map(s=>s.message))??(i==null?void 0:i.errors)??i)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const t=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const i=t.pageInfo[this.queryInfo.paging.hasNextPage]?t.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=i,this.trimmer(t.edges.map(s=>s.node))}return this.trimmer([t].flat(20))}trimmer(e){var i,s;const t=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(t>=((i=this==null?void 0:this.config)==null?void 0:i.numPages)&&(this.resultTracker.done=!0),n>=((s=this==null?void 0:this.config)==null?void 0:s.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const t=await this.getPage();if(!t)break;e.push(...t)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const t of e)yield t}while(this.queryVars.after)}stream(){return J.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,t=!1){const n=(i,s,a)=>{for(const o of Object.keys(a)){let d=s[o];Array.isArray(d)&&(d=d[0]);const m=a[o];if(d===void 0)throw new Error(`Illegal field ${i}${o}`);typeof m=="object"&&n(i+o+".",d,m)}};return t||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,t){return this.all().then(e,t)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const W={id:"",timestamp:0,height:"",previous:""},Z={name:"block",query:W,vars:{id:void 0}},Ce={name:"blocks",query:W,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.height={...t.height,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.height={...t.height,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},he={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},H={name:"transaction",query:he,vars:{id:void 0}},j={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,from:new Date(e).getTime()},t.fromTimestamp=void 0},toTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,to:new Date(e).getTime()},t.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:he,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.block={...t.block,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.block={...t.block,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":Ce};class D{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){O(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,t){const n=(t==null?void 0:t.query)??j[e];return new pe({...this.opts,query:n,queryName:e})}}var $=null;class ae{constructor({url:e,arbundles:t}){O(this,"api");O(this,"utils");O(this,"uploader");O(this,"funder");O(this,"address");O(this,"token");O(this,"tokenConfig");O(this,"provenance");O(this,"transactions");O(this,"_readyPromise");O(this,"url");O(this,"arbundles");O(this,"IrysTransaction");this.url=e,this.arbundles=t,this.IrysTransaction=R(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new D({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new D(e??{url:this.url})}async withdrawBalance(e){return Y(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return N.verifyReceipt(this.arbundles,e)}createTransaction(e,t){return new this.IrysTransaction(e,this,t)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,t){return this.uploader.uploadData(e,t)}async uploadWithReceipt(e,t){return this.uploader.uploadData(e,{...t,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(t){return new e.IrysTransaction(t,e,{dataIsRawTransaction:!0})}}}}O(ae,"VERSION","0.0.2");class F{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":ae.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=h.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return S(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}class G{constructor(e){O(this,"utils");this.utils=e}async fund(e,t=1){const n=new y.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let a;if(i.needsFee){const C=await i.getFee(i.base[0]==="winston"?0:n,s);a=y.Z.isBigNumber(C)?C.multipliedBy(t).integerValue(y.Z.ROUND_CEIL):C}const o=await i.createTx(n,s,a);let d;try{d=await i.sendTx(o.tx)}catch(C){throw C}if(o.txId??(o.txId=d),!o.txId)throw new Error("Undefined transaction ID");N.checkAndThrow(d,`Sending transaction to the ${this.utils.token} network`);let m=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(C=>{m=C}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${m?` - ${(m==null?void 0:m.message)??m}`:""}`);return{reward:y.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:s,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await S(async()=>{const t=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return N.checkAndThrow(t,`Posting transaction ${e} information to the bundler`,[202]),t},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var Ee=x(39098),ve=x.n(Ee);const Re="logger/5.7.0";let Fe=!1,At=!1;const vt={debug:1,default:2,info:2,warning:3,error:4,off:5};let hr=vt.default,qr=null;function Fn(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Zr=Fn();var dn;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(dn||(dn={}));var sr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(sr||(sr={}));const Kn="0123456789abcdef";class we{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();vt[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(hr>vt[n])&&console.log.apply(console,t)}debug(...e){this._log(we.levels.DEBUG,e)}info(...e){this._log(we.levels.INFO,e)}warn(...e){this._log(we.levels.WARNING,e)}makeError(e,t,n){if(At)return this.makeError("censored error",t,{});t||(t=we.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(d=>{const m=n[d];try{if(m instanceof Uint8Array){let T="";for(let C=0;C<m.length;C++)T+=Kn[m[C]>>4],T+=Kn[m[C]&15];i.push(d+"=Uint8Array(0x"+T+")")}else i.push(d+"="+JSON.stringify(m))}catch{i.push(d+"="+JSON.stringify(n[d].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let a="";switch(t){case sr.NUMERIC_FAULT:{a="NUMERIC_FAULT";const d=e;switch(d){case"overflow":case"underflow":case"division-by-zero":a+="-"+d;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case sr.CALL_EXCEPTION:case sr.INSUFFICIENT_FUNDS:case sr.MISSING_NEW:case sr.NONCE_EXPIRED:case sr.REPLACEMENT_UNDERPRICED:case sr.TRANSACTION_REPLACED:case sr.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=t,Object.keys(n).forEach(function(d){o[d]=n[d]}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,we.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Zr&&this.throwError("platform missing String.prototype.normalize",we.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Zr})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,we.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,we.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",we.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return qr||(qr=new we(Re)),qr}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Fe){if(!e)return;this.globalLogger().throwError("error censorship permanent",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}At=!!e,Fe=!!t}static setLogLevel(e){const t=vt[e.toLowerCase()];if(t==null){we.globalLogger().warn("invalid log level - "+e);return}hr=t}static from(e){return new we(e)}}we.errors=sr,we.levels=dn;const zn="bytes/5.7.0",Et=new we(zn);function Sr(r){return!!r.toHexString}function mr(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return mr(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function ln(r){return St(r)&&!(r.length%2)||jr(r)}function hn(r){return typeof r=="number"&&r==r&&r%1===0}function jr(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!hn(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!hn(t)||t<0||t>=256)return!1}return!0}function Se(r,e){if(e||(e={}),typeof r=="number"){Et.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),mr(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Sr(r)&&(r=r.toHexString()),St(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Et.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return mr(new Uint8Array(n))}return jr(r)?mr(new Uint8Array(r)):Et.throwArgumentError("invalid arrayify value","value",r)}function Ft(r){const e=r.map(i=>Se(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),mr(n)}function tr(r){let e=Se(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function vn(r,e){r=Se(r),r.length>e&&Et.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),mr(t)}function St(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Yr="0123456789abcdef";function Oe(r,e){if(e||(e={}),typeof r=="number"){Et.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Yr[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Sr(r))return r.toHexString();if(St(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Et.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(jr(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=Yr[(i&240)>>4]+Yr[i&15]}return t}return Et.throwArgumentError("invalid hexlify value","value",r)}function Qr(r){if(typeof r!="string")r=Oe(r);else if(!St(r)||r.length%2)return null;return(r.length-2)/2}function xr(r,e,t){return typeof r!="string"?r=Oe(r):(!St(r)||r.length%2)&&Et.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function ar(r){let e="0x";return r.forEach(t=>{e+=Oe(t).substring(2)}),e}function en(r){const e=Ur(Oe(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function Ur(r){typeof r!="string"&&(r=Oe(r)),St(r)||Et.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function kt(r,e){for(typeof r!="string"?r=Oe(r):St(r)||Et.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Et.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function pr(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ln(r)){let t=Se(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Oe(t.slice(0,32)),e.s=Oe(t.slice(32,64))):t.length===65?(e.r=Oe(t.slice(0,32)),e.s=Oe(t.slice(32,64)),e.v=t[64]):Et.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Et.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Oe(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=vn(Se(e._vs),32);e._vs=Oe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Et.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const a=Oe(i);e.s==null?e.s=a:e.s!==a&&Et.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Et.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Et.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!St(e.r)?Et.throwArgumentError("signature missing or invalid r","signature",r):e.r=kt(e.r,32),e.s==null||!St(e.s)?Et.throwArgumentError("signature missing or invalid s","signature",r):e.s=kt(e.s,32);const t=Se(e.s);t[0]>=128&&Et.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=Oe(t);e._vs&&(St(e._vs)||Et.throwArgumentError("signature invalid _vs","signature",r),e._vs=kt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Et.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Or(r){return r=pr(r),Oe(Ft([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const Gr="bignumber/5.7.0";var _r=ve().BN;const or=new we(Gr),xn={},En=9007199254740991;function wr(r){return r!=null&&(ze.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||isHexString(r)||typeof r=="bigint"||isBytes(r))}let vr=!1;class ze{constructor(e,t){e!==xn&&or.throwError("cannot call constructor directly; use BigNumber.from",we.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ht(nt(this).fromTwos(e))}toTwos(e){return Ht(nt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ze.from(this._hex.substring(1)):this}add(e){return Ht(nt(this).add(nt(e)))}sub(e){return Ht(nt(this).sub(nt(e)))}div(e){return ze.from(e).isZero()&&Wt("division-by-zero","div"),Ht(nt(this).div(nt(e)))}mul(e){return Ht(nt(this).mul(nt(e)))}mod(e){const t=nt(e);return t.isNeg()&&Wt("division-by-zero","mod"),Ht(nt(this).umod(t))}pow(e){const t=nt(e);return t.isNeg()&&Wt("negative-power","pow"),Ht(nt(this).pow(t))}and(e){const t=nt(e);return(this.isNegative()||t.isNeg())&&Wt("unbound-bitwise-result","and"),Ht(nt(this).and(t))}or(e){const t=nt(e);return(this.isNegative()||t.isNeg())&&Wt("unbound-bitwise-result","or"),Ht(nt(this).or(t))}xor(e){const t=nt(e);return(this.isNegative()||t.isNeg())&&Wt("unbound-bitwise-result","xor"),Ht(nt(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Wt("negative-width","mask"),Ht(nt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Wt("negative-width","shl"),Ht(nt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Wt("negative-width","shr"),Ht(nt(this).shrn(e))}eq(e){return nt(this).eq(nt(e))}lt(e){return nt(this).lt(nt(e))}lte(e){return nt(this).lte(nt(e))}gt(e){return nt(this).gt(nt(e))}gte(e){return nt(this).gte(nt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return nt(this).isZero()}toNumber(){try{return nt(this).toNumber()}catch{Wt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return or.throwError("this platform does not support BigInt",we.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?vr||(vr=!0,or.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?or.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",we.errors.UNEXPECTED_ARGUMENT,{}):or.throwError("BigNumber.toString does not accept parameters",we.errors.UNEXPECTED_ARGUMENT,{})),nt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ze)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ze(xn,Ar(e)):e.match(/^-?[0-9]+$/)?new ze(xn,Ar(new _r(e))):or.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wt("underflow","BigNumber.from",e),(e>=En||e<=-En)&&Wt("overflow","BigNumber.from",e),ze.from(String(e));const t=e;if(typeof t=="bigint")return ze.from(t.toString());if(jr(t))return ze.from(Oe(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return ze.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(St(n)||n[0]==="-"&&St(n.substring(1))))return ze.from(n)}return or.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Ar(r){if(typeof r!="string")return Ar(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&or.throwArgumentError("invalid hex","value",r),r=Ar(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Ht(r){return ze.from(Ar(r))}function nt(r){const e=ze.from(r).toHexString();return e[0]==="-"?new _r("-"+e.substring(3),16):new _r(e.substring(2),16)}function Wt(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),or.throwError(r,we.errors.NUMERIC_FAULT,n)}function $t(r){return new _r(r,36).toString(16)}function $n(r){return new _r(r,16).toString(36)}class b{constructor(){O(this,"publicKey");O(this,"signatureType");O(this,"signatureLength");O(this,"ownerLength");O(this,"pem")}static verify(e,t,n,i){throw new Error("You must implement verify method on child")}}var _;(function(r){r[r.ARWEAVE=1]="ARWEAVE",r[r.ED25519=2]="ED25519",r[r.ETHEREUM=3]="ETHEREUM",r[r.SOLANA=4]="SOLANA",r[r.INJECTEDAPTOS=5]="INJECTEDAPTOS",r[r.MULTIAPTOS=6]="MULTIAPTOS",r[r.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(_||(_={}));const A={[_.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[_.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[_.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[_.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[_.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[_.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[_.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var c=x(4909),k=x(55872).Buffer;class q{constructor(e,t){O(this,"_key");O(this,"pk");O(this,"ownerLength",A[2].pubLength);O(this,"signatureLength",A[2].sigLength);O(this,"_publicKey");O(this,"signatureType",2);this._key=e,this.pk=t}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,c.Xx)(k.from(e),k.from(this.key))}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=P.toBuffer(e)),(0,c.T)(k.from(n),k.from(t),k.from(i))}}var X=x(65415);function se(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;t.set(new Uint8Array(r[0]),n),n+=r[0].byteLength;for(let i=1;i<r.length;i++)t.set(new Uint8Array(r[i]),n),n+=r[i].byteLength;return t}function me(r){const e=Te(r);return Ne(e)}function Ne(r){return new TextDecoder("utf-8",{fatal:!0}).decode(r)}function le(r){return new TextEncoder().encode(r)}function st(r){return Ke(le(r))}function Te(r){return new Uint8Array((0,X.toByteArray)(Je(r)))}function qe(r){return(0,X.fromByteArray)(new Uint8Array(r))}function Ke(r){return Xe(qe(r))}function Xe(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Je(r){r=r.replace(/\-/g,"+").replace(/\_/g,"/");let e;return r.length%4==0?e=0:e=4-r.length%4,r.concat("=".repeat(e))}function Ge(r){return new y.Z(r).shiftedBy(-12)}function Ve(r){return new y.Z(r).shiftedBy(12)}class $e{constructor(){O(this,"keyLength",4096);O(this,"publicExponent",65537);O(this,"hashAlgorithm","sha256");O(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t,{saltLength:n}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),t);return new Uint8Array(i)}async hash(e,t="SHA-256"){const n=await this.driver.digest(t,e);return new Uint8Array(n)}async verify(e,t,n){const i={kty:"RSA",e:"AQAB",n:e},s=await this.jwkToPublicCryptoKey(i),a=await this.driver.digest("SHA-256",t),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,t),d=await this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,t),m=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((s.algorithm.modulusLength-1)/8)-a.byteLength-2},s,n,t);return o||d||m}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?le(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:le(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},s,e);return se([a,o])}async decrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?le(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:le(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},s,e.slice(16));return se([o])}}async function Ie(r){if(typeof r[Symbol.asyncIterator]=="function"){const i=r,s=(0,E.createHash)("sha384");let a=0;for await(const m of i)a+=m.byteLength,s.update(m);const o=se([le("blob"),le(a.toString())]),d=se([await rr().hash(o,"SHA-384"),s.digest()]);return await rr().hash(d,"SHA-384")}else if(Array.isArray(r)){const i=se([le("list"),le(r.length.toString())]);return await Le(r,await rr().hash(i,"SHA-384"))}const e=r,t=se([le("blob"),le(e.byteLength.toString())]),n=se([await rr().hash(t,"SHA-384"),await rr().hash(e,"SHA-384")]);return await rr().hash(n,"SHA-384")}async function Le(r,e){if(r.length<1)return e;const t=se([e,await Ie(r[0])]),n=await rr().hash(t,"SHA-384");return await Le(r.slice(1),n)}async function Be(r){const e=createHash("sha384");for await(const t of r)e.update(t);return e.digest()}var Me=null;class Ue extends Error{constructor(t,n={}){var e=(...L2)=>{super(...L2);O(this,"type");O(this,"response")};n.message?e(n.message):e(),this.type=t,this.response=n.response}getType(){return this.type}}function Pe(r){let e=r.data;if(typeof r.data=="string")try{e=JSON.parse(r.data)}catch{}if(r.data instanceof ArrayBuffer||r.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:r.statusText||"unknown"}class re{constructor(e,t){O(this,"api");O(this,"network");this.api=e,this.network=t}async getByHash(e){const t=await this.api.get(`block/hash/${e}`);if(t.status===200)return t.data;throw t.status===404?new Ue("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getByHeight(e){const t=await this.api.get(`block/height/${e}`);if(t.status===200)return t.data;throw t.status===404?new Ue("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var ne=x(55872).Buffer;const de=256*1024,ue=32*1024,oe=32,ye=32;class je{constructor(e){O(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const t=[];let n=e,i=0;for(;n.byteLength>=de;){let s=de;const a=n.byteLength-de;a>0&&a<ue&&(s=Math.ceil(n.byteLength/2));const o=n.slice(0,s),d=await this.crypto.hash(o);i+=o.byteLength,t.push({dataHash:d,minByteRange:i-o.byteLength,maxByteRange:i}),n=n.slice(s)}return t.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),t}async generateLeaves(e){return Promise.all(e.map(async({dataHash:t,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(Ye(i))])),dataHash:t,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const t=await this.chunkData(e),n=await this.generateLeaves(t),i=await this.buildLayers(n),s=await this.generateProofs(i),a=t.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(t.splice(t.length-1,1),s.splice(s.length-1,1)),{data_root:i.id,chunks:t,proofs:s}}async buildLayers(e,t=0){if(e.length<2)return e[0];const n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,t+1)}generateProofs(e){const t=this.resolveBranchProofs(e);return Array.isArray(t)?Qe(t):[t]}resolveBranchProofs(e,t=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:se([t,e.dataHash,Ye(e.maxByteRange)])};if(e.type=="branch"){const i=se([t,e.leftChild.id,e.rightChild.id,Ye(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,t,n,i,s){if(i<=0)return!1;if(t>=i)return this.validatePath(e,0,i-1,i,s);if(t<0)return this.validatePath(e,0,0,i,s);if(s.length==ye+oe){const L=s.slice(0,ye),V=s.slice(L.length,L.length+oe),ie=await this.hash([await this.hash(L),await this.hash(V)]);return M(e,ie)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}const a=s.slice(0,ye),o=s.slice(a.length,a.length+ye),d=s.slice(a.length+o.length,a.length+o.length+oe),m=et(d),T=s.slice(a.length+o.length+d.length),C=await this.hash([await this.hash(a),await this.hash(o),await this.hash(d)]);return M(e,C)?t<m?await this.validatePath(a,t,n,Math.min(i,m),T):await this.validatePath(o,t,Math.max(n,m),i,T):!1}async hashBranch(e,t){return t?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(t.id),await this.hash(Ye(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}:e}async hash(e){return Array.isArray(e)&&(e=dc.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,t=""){if(e.byteLength<1)return t;const n=e.slice(0,ye),i=e.slice(n.length,n.length+ye),s=e.slice(n.length+i.length,n.length+i.length+oe),a=et(s),o=e.slice(n.length+i.length+s.length),d=await this.hash([await this.hash(n),await this.hash(i),await this.hash(s)]),m=`${t}
${JSON.stringify(ne.from(n))},${JSON.stringify(ne.from(i))},${a} => ${JSON.stringify(d)}`;return this.debug(o,m)}}function Qe(r){const e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...Qe(t)):e.push(t)}),e}function Ye(r){const e=new Uint8Array(oe);for(let t=e.length-1;t>=0;t--){const n=r%256;e[t]=n,r=(r-n)/256}return e}function et(r){let e=0;for(let t=0;t<r.length;t++)e*=256,e+=r[t];return e}const M=(r,e)=>r.every((t,n)=>e[n]===t);var at=je;class ft{constructor(e){O(this,"api");this.api=e}async getTransactionMetadata(e){const t=await this.api.get(`tx/${e}/offset`);if(t.status===200)return t.data;throw new Error(`Unable to get transaction offset: ${Pe(t)}`)}async getChunk(e){const t=await this.api.get(`chunk/${e}`);if(t.status===200)return t.data;throw new Error(`Unable to get chunk: ${Pe(t)}`)}async getChunkData(e){const t=await this.getChunk(e);return Te(t.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,t){const n=await this.getTransactionMetadata(e),i=parseInt(n.size),s=new Uint8Array(i);let a=0;for await(const o of this.concurrentChunkDownloader(e,t))s.set(o,a),a+=o.length;return s}async*concurrentChunkDownloader(e,t){const n={concurrency:10,...t},i=await this.getTransactionMetadata(e),s=new y.Z(i.offset),a=new y.Z(i.size),o=s.minus(a).plus(1);let d=0;const m=Math.ceil(a.dividedBy(de).toNumber()),T=ce=>this.getChunkData(ce.toString()).then(be=>(d+=be.length,be)),C=[],L=m-2,V=Math.min(L,n.concurrency);let ie=0;for(let ce=0;ce<V;ce++)C.push(T(o.plus(de*ie++)));for(;ie<L;)C.push(T(o.plus(de*ie++))),yield C.shift();for(;C.length>0;)yield C.shift();if(yield T(o.plus(de*ie++)),a.isGreaterThan(d)&&(yield T(o.plus(de*ie++))),!a.isEqualTo(d))throw new Error(`got ${d}B, expected ${a.toString()}B`)}}function dt(r,e){const t=r;return t.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:le,concatBuffers:se},crypto:r}}),t}class it{constructor({deps:e}){O(this,"crypto");O(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}const t=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(t,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,t){if(e.length<1)return t;const n=this.utils.concatBuffers([t,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}}class ct{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":dc.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=h.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return S(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}const ut=r=>typeof r!="string"&&"url"in r,Bt={maxAttempts:15,randomlySelect:!0};class bt{constructor({gateways:e,miners:t,opts:n}){O(this,"minerInstances",[]);O(this,"globalConfig");O(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},t&&this.addMiners(t),e&&this.addGateways(e)}async addPeersFrom(e,t){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,t==null?void 0:t.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(t=>this.minerInstances.push(new ct(ut(t)?t:{url:new URL(t),...this.globalConfig})))}addGateways(e){e.forEach(t=>this.gatewayInstances.push(new ct(ut(t)?t:{url:new URL(t),...this.globalConfig})))}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{data:t,...n,method:"POST"})}async request(e,t){const n={...Bt,...t==null?void 0:t.fallback};let i=0;const s=[],a=t!=null&&t.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),d=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const m=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):i-1);if(m)try{return await m.request(e,{...t})}catch(T){if(d==null||d(T,m),s.push(T),i>=o)throw T}}throw new Error("unreachable")}}var Ct=bt;class Tt{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?Ne(this[e]):t&&t.decode&&!t.string?this[e]:Ke(this[e]);if(this[e]instanceof Array){if((t==null?void 0:t.decode)!==void 0||(t==null?void 0:t.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return t&&t.decode==!0?t&&t.string?me(this[e]):Te(this[e]):this[e]}}class It extends Tt{constructor(t,n){super();O(this,"name");O(this,"value");this.name=t,this.value=n}}class xt extends Tt{constructor({attributes:t,deps:n}){super();O(this,"format",2);O(this,"id","");O(this,"last_tx","");O(this,"owner","");O(this,"tags",[]);O(this,"target","");O(this,"quantity","0");O(this,"data_size","0");O(this,"data",new Uint8Array);O(this,"data_root","");O(this,"reward","0");O(this,"signature","");O(this,"merkle");O(this,"deepHash");O(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,t),typeof this.data=="string"&&(this.data=Te(this.data)),t.tags&&(this.tags=t.tags)}addTag(t,n){this.tags.push({name:st(t),value:st(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Ke(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:n,reward:i,tags:s,signature:a}){this.id=t,this.owner=n,i&&(this.reward=i),s&&(this.tags=s),this.signature=a}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(t),this.data_root=Ke(this.chunks.data_root)),!this.chunks&&t.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const i=this.chunks.proofs[t],s=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:Ke(i.proof),offset:i.offset.toString(),chunk:Ke(n.slice(s.minByteRange,s.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const t=this.tags.reduce((i,s)=>se([i,Te(s.name),Te(s.value)]),new Uint8Array);return se([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),le(this.quantity),le(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(i=>[Te(i.name),Te(i.value)]);return await this.deepHash.deepHash([le(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),le(this.quantity),le(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,le(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Vt{constructor(e){O(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const qt=1,Jt=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],fc=1e3*40;class Ni{constructor({deps:e,transaction:t}){O(this,"chunkIndex",0);O(this,"txPosted",!1);O(this,"transaction");O(this,"lastRequestTimeEnd",0);O(this,"totalErrors",0);O(this,"data");O(this,"lastResponseStatus",0);O(this,"lastResponseError","");O(this,"crypto");O(this,"api");O(this,"merkle");O(this,"deepHash");if(!t.id)throw new Error("Transaction is not signed");if(!t.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=t.data,this.transaction=new xt({attributes:Object.assign({},t,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+fc-Date.now(),fc);if(t>0&&(t=t-t*Math.random()*.3,await new Promise(a=>setTimeout(a,t))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),Te(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=Pe(s),Jt.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:t,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const i=new xt(e.transaction);i.chunks||await i.prepareChunks(t);const s=new Ni({deps:n,transaction:i});if(s.chunkIndex=e.chunkIndex,s.lastRequestTimeEnd=e.lastRequestTimeEnd,s.lastResponseError=e.lastResponseError,s.lastResponseStatus=e.lastResponseStatus,s.txPosted=e.txPosted,s.data=t,s.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,t){const n=await e.get(`tx/${t}`);if(n.status!==200)throw new Error(`Tx ${t} not found: ${n.status}`);const i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=qt){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=qt;return}throw this.lastResponseError=Pe(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=Pe(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}class b0{constructor({deps:e}){O(this,"api");O(this,"crypto");O(this,"chunks");O(this,"merkle");O(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,t){const n=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){const t=await this.api.get(`tx/${e}`);if(t.status==200){const n=parseInt(t.data.data_size);if(t.data.format>=2&&n>0&&n<=1024*1024*12){const i=await this.getData(e);return new xt({attributes:{...t.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new xt({attributes:{...t.data,format:t.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw t.status===404?new Ue("TX_NOT_FOUND"):t.status===410?new Ue("TX_FAILED"):new Ue("TX_INVALID")}fromRaw(e){return new xt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(t=>t.status===200?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(e){let t;try{t=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async getDataStream(e){let t;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;t=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async sign(e,t,n){const s=typeof t=="object"&&(o=>{let d=!0;return["n","e","d","p","q","dp","dq","qi"].map(m=>!(m in o)&&(d=!1)),d})(t),a=typeof arweaveWallet=="object";if(!s&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(d=>new It(d.name,d.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(s){e.setOwner(t.n);const o=await e.getSignatureData(),d=await this.crypto.sign(t,o,n),m=await this.crypto.hash(d);e.setSignature({id:Ke(m),owner:t.n,signature:Ke(d)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const t=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=Ke(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,n)}async post(e){if(typeof e=="string"?e=new xt({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new xt({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof xt)&&(e=new xt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof xt))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(n){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let n;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof xt){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),n=new Ni({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=t)}else{if(typeof e=="string"&&(e=await Ni.fromTransactionId(this.api,e)),!t||!(t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await Ni.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:t})}return n}async*upload(e,t){const n=await this.getUploader(e,t);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class g0{constructor(e,t){O(this,"api");O(this,"crypto");this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(t){return t}]}).then(t=>t.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return Ke(await this.crypto.hash(Te(e)))}}const cc=class{constructor(e){O(this,"config");O(this,"api");O(this,"wallets");O(this,"transactions");O(this,"network");O(this,"blocks");O(this,"chunks");O(this,"crypto");O(this,"deepHash");O(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=dt(e.crypto,{deepHash:it}),this.deepHash=this.crypto.deepHash;const t=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new Ct({gateways:t,miners:e.miners}),this.wallets=new g0(this.api,this.crypto),this.chunks=new ft(this.api),this.network=new Vt(this.api),this.blocks=new re(this.api,this.network),this.merkle=new at({deps:{crypto:this.crypto}}),this.transactions=new b0({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return cc.utils}getConfig(){return this.config}async createTransaction(e,t){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&t&&t!=="use_wallet"&&(n.owner=t.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=le(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const i=new xt({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}};let qn=cc;O(qn,"init"),O(qn,"utils",f),O(qn,"VERSION","0.0.1");var dc=qn;class Fa extends qn{constructor(e,t){super({crypto:(t==null?void 0:t.crypto)??new $e,...t,gateways:e??"https://arweave.net"})}static init(e){return new Fa(e)}}const kb=null;var Cb=null;const m0=$e.default?$e.default:$e;class lc extends m0{getPublicKey(e){throw new Error("Unimplemented")}}let w0;function rr(){return w0??(w0=new lc)}var v0=x(55872).Buffer;class hc{constructor(e,t){O(this,"_key");O(this,"pk");O(this,"signatureType",1);O(this,"ownerLength",A[1].pubLength);O(this,"signatureLength",A[1].sigLength);O(this,"_publicKey");this._key=e,this.pk=t,t||(this.pk=rr().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,E.createSign)("sha256").update(e).sign({key:this._key,padding:E.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,t,n){return await rr().verify(v0.isBuffer(e)?P.encode(e):e,t,n)}}var E0=x(16632),ms=x(55872).Buffer;const jn=E0.define;function S0(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ka(r){return S0(ms.from(r,"hex").toString("base64"))}const xc=jn("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),pc=jn("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),_0=jn("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(pc),this.key("publicKey").bitstr())}),yc=jn("Version",function(){this.int({0:"two-prime",1:"multi"})}),A0=jn("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),bc=jn("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(yc),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(A0))}),T0=jn("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(yc),this.key("algorithm").use(pc),this.key("privateKey").bitstr())}),Ib="1.2.840.113549.1.1.1";function gc(r,e){return e=e||{},Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function za(r){return r.length%2===1?"0"+r:r}function mc(r,e){const t=xc.decode(r,"der"),n=za(t.e.toString(16)),i={kty:"RSA",n:Sn(t.n),e:Ka(n)};return gc(i,e)}function wc(r,e){const t=bc.decode(r,"der"),n=za(t.e.toString(16)),i={kty:"RSA",n:Sn(t.n),e:Ka(n),d:Sn(t.d),p:Sn(t.p),q:Sn(t.q),dp:Sn(t.dp),dq:Sn(t.dq),qi:Sn(t.qi)};return gc(i,e)}function P0(r,e){const t=_0.decode(r,"der");return mc(t.publicKey.data,e)}function R0(r,e){const t=T0.decode(r,"der");return wc(t.privateKey.data,e)}function k0(r){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(r);if(!e)return null;const t=!!e[1];return e[2]==="PRIVATE"?t?wc:R0:t?mc:P0}function C0(r){return{n:_n(r.n),e:_n(r.e),d:r.d&&_n(r.d),p:r.p&&_n(r.p),q:r.q&&_n(r.q),dp:r.dp&&_n(r.dp),dq:r.dq&&_n(r.dq),qi:r.qi&&_n(r.qi)}}function Sn(r){return Ka(za(r.toString(16)))}function I0(r){return new Ee(ms.from(r,"base64"))}function _n(r){return/^[0-9]+$/.test(r)?new Ee(r,10):I0(r)}function Bb(r,e){let t=r.toString().split(/(\r\n|\r|\n)+/g);t=t.filter(function(i){return i.trim().length!==0});const n=k0(t[0]);return t=t.slice(1,-1).join(""),n(ms.from(t.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function B0(r){const e=C0(r),t=!!e.d,n=t?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`;let a=ms.alloc(0);t?(e.version="two-prime",a=bc.encode(e,"der")):a=xc.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}class ws extends hc{constructor(t){super(B0(t),t.n);O(this,"jwk");this.jwk=t}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return P.toBuffer(this.pk)}sign(t){return rr().sign(this.jwk,t)}static async verify(t,n,i){return await rr().verify(t,n,i)}}var $a=x(55872).Buffer;class vc{constructor(e){O(this,"_publicKey");O(this,"ownerLength",A[2].pubLength);O(this,"signatureLength",A[2].sigLength);O(this,"signatureType",2);O(this,"pem");O(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=P.toBuffer(e)),(0,c.T)($a.from(n),$a.from(t),$a.from(i))}}var Ec=x(40954),U0=x.n(Ec);function Xt(r){return"0x"+U0().keccak_256(Se(r))}const O0="strings/5.7.0",Sc=new we(O0);var An;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(An||(An={}));var Tr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Tr||(Tr={}));function N0(r,e,t,n,i){return Sc.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function _c(r,e,t,n,i){if(r===Tr.BAD_PREFIX||r===Tr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===Tr.OVERRUN?t.length-e-1:0}function M0(r,e,t,n,i){return r===Tr.OVERLONG?(n.push(i),0):(n.push(65533),_c(r,e,t,n,i))}const D0=Object.freeze({error:N0,ignore:_c,replace:M0});function qa(r,e){e==null&&(e=D0.error),r=Se(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Tr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Tr.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Tr.OVERRUN,n-1,r,t);continue}let o=i&(1<<8-s-1)-1;for(let d=0;d<s;d++){let m=r[n];if((m&192)!=128){n+=e(Tr.MISSING_CONTINUE,n,r,t),o=null;break}o=o<<6|m&63,n++}if(o!==null){if(o>1114111){n+=e(Tr.OUT_OF_RANGE,n-1-s,r,t,o);continue}if(o>=55296&&o<=57343){n+=e(Tr.UTF16_SURROGATE,n-1-s,r,t,o);continue}if(o<=a){n+=e(Tr.OVERLONG,n-1-s,r,t,o);continue}t.push(o)}}return t}function Wr(r,e=An.current){e!=An.current&&(Sc.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Se(t)}function ja(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Ub(r,e){return'"'+qa(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?ja(t):(t-=65536,ja((t>>10&1023)+55296)+ja((t&1023)+56320))}).join("")+'"'}function L0(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function H0(r,e){return L0(qa(r,e))}function Ob(r,e=An.current){return qa(Wr(r,e))}const F0=`Ethereum Signed Message:
`;function vs(r){return typeof r=="string"&&(r=Wr(r)),Xt(Ft([Wr(F0),Wr(String(r.length)),r]))}var K0=x(14751),Pr=x.n(K0),Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof x.g<"u"?x.g:typeof self<"u"?self:{};function Mb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ai(r,e,t){return t={path:e,exports:{},require:function(n,i){return z0(n,i??t.path)}},r(t,t.exports),t.exports}function Db(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Lb(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}function Hb(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function z0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ga=Ac;function Ac(r,e){if(!r)throw new Error(e||"Assertion failed")}Ac.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Vr=ai(function(r,e){"use strict";var t=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var d=[];if(typeof a!="string"){for(var m=0;m<a.length;m++)d[m]=a[m]|0;return d}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var m=0;m<a.length;m+=2)d.push(parseInt(a[m]+a[m+1],16))}else for(var m=0;m<a.length;m++){var T=a.charCodeAt(m),C=T>>8,L=T&255;C?d.push(C,L):d.push(L)}return d}t.toArray=n;function i(a){return a.length===1?"0"+a:a}t.zero2=i;function s(a){for(var o="",d=0;d<a.length;d++)o+=i(a[d].toString(16));return o}t.toHex=s,t.encode=function(o,d){return d==="hex"?s(o):o}}),Rr=ai(function(r,e){"use strict";var t=e;t.assert=Ga,t.toArray=Vr.toArray,t.zero2=Vr.zero2,t.toHex=Vr.toHex,t.encode=Vr.encode;function n(d,m,T){var C=new Array(Math.max(d.bitLength(),T)+1);C.fill(0);for(var L=1<<m+1,V=d.clone(),ie=0;ie<C.length;ie++){var ce,be=V.andln(L-1);V.isOdd()?(be>(L>>1)-1?ce=(L>>1)-be:ce=be,V.isubn(ce)):ce=0,C[ie]=ce,V.iushrn(1)}return C}t.getNAF=n;function i(d,m){var T=[[],[]];d=d.clone(),m=m.clone();for(var C=0,L=0,V;d.cmpn(-C)>0||m.cmpn(-L)>0;){var ie=d.andln(3)+C&3,ce=m.andln(3)+L&3;ie===3&&(ie=-1),ce===3&&(ce=-1);var be;ie&1?(V=d.andln(7)+C&7,(V===3||V===5)&&ce===2?be=-ie:be=ie):be=0,T[0].push(be);var De;ce&1?(V=m.andln(7)+L&7,(V===3||V===5)&&ie===2?De=-ce:De=ce):De=0,T[1].push(De),2*C===be+1&&(C=1-C),2*L===De+1&&(L=1-L),d.iushrn(1),m.iushrn(1)}return T}t.getJSF=i;function s(d,m,T){var C="_"+m;d.prototype[m]=function(){return this[C]!==void 0?this[C]:this[C]=T.call(this)}}t.cachedProperty=s;function a(d){return typeof d=="string"?t.toArray(d,"hex"):d}t.parseBytes=a;function o(d){return new(ve())(d,"hex","le")}t.intFromLE=o}),Es=Rr.getNAF,$0=Rr.getJSF,Ss=Rr.assert;function Tn(r,e){this.type=r,this.p=new(ve())(e.p,16),this.red=e.prime?ve().red(e.prime):ve().mont(this.p),this.zero=new(ve())(0).toRed(this.red),this.one=new(ve())(1).toRed(this.red),this.two=new(ve())(2).toRed(this.red),this.n=e.n&&new(ve())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Gn=Tn;Tn.prototype.point=function(){throw new Error("Not implemented")},Tn.prototype.validate=function(){throw new Error("Not implemented")},Tn.prototype._fixedNafMul=function(e,t){Ss(e.precomputed);var n=e._getDoubles(),i=Es(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,d;for(o=0;o<i.length;o+=n.step){d=0;for(var m=o+n.step-1;m>=o;m--)d=(d<<1)+i[m];a.push(d)}for(var T=this.jpoint(null,null,null),C=this.jpoint(null,null,null),L=s;L>0;L--){for(o=0;o<a.length;o++)d=a[o],d===L?C=C.mixedAdd(n.points[o]):d===-L&&(C=C.mixedAdd(n.points[o].neg()));T=T.add(C)}return T.toP()},Tn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=Es(t,n,this._bitLength),o=this.jpoint(null,null,null),d=a.length-1;d>=0;d--){for(var m=0;d>=0&&a[d]===0;d--)m++;if(d>=0&&m++,o=o.dblp(m),d<0)break;var T=a[d];Ss(T!==0),e.type==="affine"?T>0?o=o.mixedAdd(s[T-1>>1]):o=o.mixedAdd(s[-T-1>>1].neg()):T>0?o=o.add(s[T-1>>1]):o=o.add(s[-T-1>>1].neg())}return e.type==="affine"?o.toP():o},Tn.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,o=this._wnafT2,d=this._wnafT3,m=0,T,C,L;for(T=0;T<i;T++){L=t[T];var V=L._getNAFPoints(e);a[T]=V.wnd,o[T]=V.points}for(T=i-1;T>=1;T-=2){var ie=T-1,ce=T;if(a[ie]!==1||a[ce]!==1){d[ie]=Es(n[ie],a[ie],this._bitLength),d[ce]=Es(n[ce],a[ce],this._bitLength),m=Math.max(d[ie].length,m),m=Math.max(d[ce].length,m);continue}var be=[t[ie],null,null,t[ce]];t[ie].y.cmp(t[ce].y)===0?(be[1]=t[ie].add(t[ce]),be[2]=t[ie].toJ().mixedAdd(t[ce].neg())):t[ie].y.cmp(t[ce].y.redNeg())===0?(be[1]=t[ie].toJ().mixedAdd(t[ce]),be[2]=t[ie].add(t[ce].neg())):(be[1]=t[ie].toJ().mixedAdd(t[ce]),be[2]=t[ie].toJ().mixedAdd(t[ce].neg()));var De=[-3,-1,-5,-7,0,7,5,1,3],rt=$0(n[ie],n[ce]);for(m=Math.max(rt[0].length,m),d[ie]=new Array(m),d[ce]=new Array(m),C=0;C<m;C++){var We=rt[0][C]|0,wt=rt[1][C]|0;d[ie][C]=De[(We+1)*3+(wt+1)],d[ce][C]=0,o[ie]=be}}var ht=this.jpoint(null,null,null),Gt=this._wnafT4;for(T=m;T>=0;T--){for(var er=0;T>=0;){var yt=!0;for(C=0;C<i;C++)Gt[C]=d[C][T]|0,Gt[C]!==0&&(yt=!1);if(!yt)break;er++,T--}if(T>=0&&er++,ht=ht.dblp(er),T<0)break;for(C=0;C<i;C++){var Lt=Gt[C];Lt!==0&&(Lt>0?L=o[C][Lt-1>>1]:Lt<0&&(L=o[C][-Lt-1>>1].neg()),L.type==="affine"?ht=ht.mixedAdd(L):ht=ht.add(L))}}for(T=0;T<i;T++)o[T]=null;return s?ht:ht.toP()};function Nr(r,e){this.curve=r,this.type=e,this.precomputed=null}Tn.BasePoint=Nr,Nr.prototype.eq=function(){throw new Error("Not implemented")},Nr.prototype.validate=function(){return this.curve.validate(this)},Tn.prototype.decodePoint=function(e,t){e=Rr.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ss(e[e.length-1]%2===0):e[0]===7&&Ss(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},Nr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Nr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},Nr.prototype.encode=function(e,t){return Rr.encode(this._encode(t),e)},Nr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Nr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Nr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},Nr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},Nr.prototype._getBeta=function(){return null},Nr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Wa=ai(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),q0=Rr.assert;function Mr(r){Gn.call(this,"short",r),this.a=new(ve())(r.a,16).toRed(this.red),this.b=new(ve())(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Wa(Mr,Gn);var j0=Mr;Mr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new(ve())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new(ve())(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],q0(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(ve())(o.a,16),b:new(ve())(o.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}},Mr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ve().mont(e),n=new(ve())(2).toRed(t).redInvm(),i=n.redNeg(),s=new(ve())(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},Mr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new(ve())(1),a=new(ve())(0),o=new(ve())(0),d=new(ve())(1),m,T,C,L,V,ie,ce,be=0,De,rt;n.cmpn(0)!==0;){var We=i.div(n);De=i.sub(We.mul(n)),rt=o.sub(We.mul(s));var wt=d.sub(We.mul(a));if(!C&&De.cmp(t)<0)m=ce.neg(),T=s,C=De.neg(),L=rt;else if(C&&++be===2)break;ce=De,i=n,n=De,o=s,s=rt,d=a,a=wt}V=De.neg(),ie=rt;var ht=C.sqr().add(L.sqr()),Gt=V.sqr().add(ie.sqr());return Gt.cmp(ht)>=0&&(V=m,ie=T),C.negative&&(C=C.neg(),L=L.neg()),V.negative&&(V=V.neg(),ie=ie.neg()),[{a:C,b:L},{a:V,b:ie}]},Mr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),d=a.mul(i.a),m=s.mul(n.b),T=a.mul(i.b),C=e.sub(o).sub(d),L=m.add(T).neg();return{k1:C,k2:L}},Mr.prototype.pointFromX=function(e,t){e=new(ve())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},Mr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},Mr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),d=e[a],m=d._getBeta();o.k1.negative&&(o.k1.ineg(),d=d.neg(!0)),o.k2.negative&&(o.k2.ineg(),m=m.neg(!0)),i[a*2]=d,i[a*2+1]=m,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var T=this._wnafMulAdd(1,i,s,a*2,n),C=0;C<a*2;C++)i[C]=null,s[C]=null;return T};function Zt(r,e,t,n){Gn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ve())(e,16),this.y=new(ve())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Wa(Zt,Gn.BasePoint),Mr.prototype.point=function(e,t,n){return new Zt(this,e,t,n)},Mr.prototype.pointFromJSON=function(e,t){return Zt.fromJSON(this,e,t)},Zt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Zt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Zt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},Zt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Zt.prototype.isInfinity=function(){return this.inf},Zt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},Zt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Zt.prototype.getX=function(){return this.x.fromRed()},Zt.prototype.getY=function(){return this.y.fromRed()},Zt.prototype.mul=function(e){return e=new(ve())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Zt.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},Zt.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},Zt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Zt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},Zt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function nr(r,e,t,n){Gn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ve())(0)):(this.x=new(ve())(e,16),this.y=new(ve())(t,16),this.z=new(ve())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Wa(nr,Gn.BasePoint),Mr.prototype.jpoint=function(e,t,n){return new nr(this,e,t,n)},nr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},nr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},nr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),d=i.redSub(s),m=a.redSub(o);if(d.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=d.redSqr(),C=T.redMul(d),L=i.redMul(T),V=m.redSqr().redIAdd(C).redISub(L).redISub(L),ie=m.redMul(L.redISub(V)).redISub(a.redMul(C)),ce=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(V,ie,ce)},nr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(i),d=s.redSub(a);if(o.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=o.redSqr(),T=m.redMul(o),C=n.redMul(m),L=d.redSqr().redIAdd(T).redISub(C).redISub(C),V=d.redMul(C.redISub(L)).redISub(s.redMul(T)),ie=this.z.redMul(o);return this.curve.jpoint(L,V,ie)},nr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,d=this.z,m=d.redSqr().redSqr(),T=o.redAdd(o);for(t=0;t<e;t++){var C=a.redSqr(),L=T.redSqr(),V=L.redSqr(),ie=C.redAdd(C).redIAdd(C).redIAdd(i.redMul(m)),ce=a.redMul(L),be=ie.redSqr().redISub(ce.redAdd(ce)),De=ce.redISub(be),rt=ie.redMul(De);rt=rt.redIAdd(rt).redISub(V);var We=T.redMul(d);t+1<e&&(m=m.redMul(V)),a=be,d=We,T=rt}return this.curve.jpoint(a,T.redMul(s),d)},nr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},nr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i),m=d.redSqr().redISub(o).redISub(o),T=a.redIAdd(a);T=T.redIAdd(T),T=T.redIAdd(T),e=m,t=d.redMul(o.redISub(m)).redISub(T),n=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),L=this.y.redSqr(),V=L.redSqr(),ie=this.x.redAdd(L).redSqr().redISub(C).redISub(V);ie=ie.redIAdd(ie);var ce=C.redAdd(C).redIAdd(C),be=ce.redSqr(),De=V.redIAdd(V);De=De.redIAdd(De),De=De.redIAdd(De),e=be.redISub(ie).redISub(ie),t=ce.redMul(ie.redISub(e)).redISub(De),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},nr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),m=d.redSqr().redISub(o).redISub(o);e=m;var T=a.redIAdd(a);T=T.redIAdd(T),T=T.redIAdd(T),t=d.redMul(o.redISub(m)).redISub(T),n=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),L=this.y.redSqr(),V=this.x.redMul(L),ie=this.x.redSub(C).redMul(this.x.redAdd(C));ie=ie.redAdd(ie).redIAdd(ie);var ce=V.redIAdd(V);ce=ce.redIAdd(ce);var be=ce.redAdd(ce);e=ie.redSqr().redISub(be),n=this.y.redAdd(this.z).redSqr().redISub(L).redISub(C);var De=L.redSqr();De=De.redIAdd(De),De=De.redIAdd(De),De=De.redIAdd(De),t=ie.redMul(ce.redISub(e)).redISub(De)}return this.curve.jpoint(e,t,n)},nr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),d=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),m=t.redAdd(t);m=m.redIAdd(m);var T=m.redMul(o),C=d.redSqr().redISub(T.redAdd(T)),L=T.redISub(C),V=o.redSqr();V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=d.redMul(L).redISub(V),ce=n.redAdd(n).redMul(i);return this.curve.jpoint(C,ie,ce)},nr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var d=o.redSqr(),m=i.redIAdd(i);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var T=s.redIAdd(o).redSqr().redISub(a).redISub(d).redISub(m),C=t.redMul(T);C=C.redIAdd(C),C=C.redIAdd(C);var L=this.x.redMul(d).redISub(C);L=L.redIAdd(L),L=L.redIAdd(L);var V=this.y.redMul(T.redMul(m.redISub(T)).redISub(o.redMul(d)));V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=this.z.redAdd(o).redSqr().redISub(n).redISub(d);return this.curve.jpoint(L,V,ie)},nr.prototype.mul=function(e,t){return e=new(ve())(e,t),this.curve._wnafMul(this,e)},nr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},nr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},nr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},nr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var _s=ai(function(r,e){"use strict";var t=e;t.base=Gn,t.short=j0,t.mont=null,t.edwards=null}),As=ai(function(r,e){"use strict";var t=e,n=Rr.assert;function i(o){o.type==="short"?this.curve=new _s.short(o):o.type==="edwards"?this.curve=new _s.edwards(o):this.curve=new _s.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(o,d){Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){var m=new i(d);return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:m}),m}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Pr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Pr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Pr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Pr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Pr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pr().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Pr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Pn(r){if(!(this instanceof Pn))return new Pn(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vr.toArray(r.entropy,r.entropyEnc||"hex"),t=Vr.toArray(r.nonce,r.nonceEnc||"hex"),n=Vr.toArray(r.pers,r.persEnc||"hex");Ga(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var Tc=Pn;Pn.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Pn.prototype._hmac=function(){return new(Pr()).hmac(this.hash,this.K)},Pn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Pn.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Vr.toArray(e,t),n=Vr.toArray(n,i),Ga(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Pn.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Vr.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Vr.encode(a,t)};var Va=Rr.assert;function cr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ja=cr;cr.fromPublic=function(e,t,n){return t instanceof cr?t:new cr(e,{pub:t,pubEnc:n})},cr.fromPrivate=function(e,t,n){return t instanceof cr?t:new cr(e,{priv:t,privEnc:n})},cr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},cr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},cr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},cr.prototype._importPrivate=function(e,t){this.priv=new(ve())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},cr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Va(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Va(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},cr.prototype.derive=function(e){return e.validate()||Va(e.validate(),"public point not validated"),e.mul(this.priv).getX()},cr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},cr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var G0=Rr.assert;function Ts(r,e){if(r instanceof Ts)return r;this._importDER(r,e)||(G0(r.r&&r.s,"Signature without r or s"),this.r=new(ve())(r.r,16),this.s=new(ve())(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Ps=Ts;function W0(){this.place=0}function Xa(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function Pc(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Ts.prototype._importDER=function(e,t){e=Rr.toArray(e,t);var n=new W0;if(e[n.place++]!==48)return!1;var i=Xa(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Xa(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=Xa(e,n);if(o===!1||e.length!==o+n.place)return!1;var d=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new(ve())(a),this.s=new(ve())(d),this.recoveryParam=null,!0};function Za(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Ts.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=Pc(t),n=Pc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Za(i,t.length),i=i.concat(t),i.push(2),Za(i,n.length);var s=i.concat(n),a=[48];return Za(a,s.length),a=a.concat(s),Rr.encode(a,e)};var V0=function(){throw new Error("unsupported")},Rc=Rr.assert;function Dr(r){if(!(this instanceof Dr))return new Dr(r);typeof r=="string"&&(Rc(Object.prototype.hasOwnProperty.call(As,r),"Unknown curve "+r),r=As[r]),r instanceof As.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var J0=Dr;Dr.prototype.keyPair=function(e){return new Ja(this,e)},Dr.prototype.keyFromPrivate=function(e,t){return Ja.fromPrivate(this,e,t)},Dr.prototype.keyFromPublic=function(e,t){return Ja.fromPublic(this,e,t)},Dr.prototype.genKeyPair=function(e){e||(e={});for(var t=new Tc({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||V0(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new(ve())(2));;){var s=new(ve())(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},Dr.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Dr.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(ve())(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),o=e.toArray("be",s),d=new Tc({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),m=this.n.sub(new(ve())(1)),T=0;;T++){var C=i.k?i.k(T):new(ve())(d.generate(this.n.byteLength()));if(C=this._truncateToN(C,!0),!(C.cmpn(1)<=0||C.cmp(m)>=0)){var L=this.g.mul(C);if(!L.isInfinity()){var V=L.getX(),ie=V.umod(this.n);if(ie.cmpn(0)!==0){var ce=C.invm(this.n).mul(ie.mul(t.getPrivate()).iadd(e));if(ce=ce.umod(this.n),ce.cmpn(0)!==0){var be=(L.getY().isOdd()?1:0)|(V.cmp(ie)!==0?2:0);return i.canonical&&ce.cmp(this.nh)>0&&(ce=this.n.sub(ce),be^=1),new Ps({r:ie,s:ce,recoveryParam:be})}}}}}},Dr.prototype.verify=function(e,t,n,i){e=this._truncateToN(new(ve())(e,16)),n=this.keyFromPublic(n,i),t=new Ps(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),d=o.mul(e).umod(this.n),m=o.mul(s).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(d,n.getPublic(),m),T.isInfinity()?!1:T.eqXToP(s)):(T=this.g.mulAdd(d,n.getPublic(),m),T.isInfinity()?!1:T.getX().umod(this.n).cmp(s)===0)},Dr.prototype.recoverPubKey=function(r,e,t,n){Rc((3&t)===t,"The recovery param is more than two bits"),e=new Ps(e,n);var i=this.n,s=new(ve())(r),a=e.r,o=e.s,d=t&1,m=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?a=this.curve.pointFromX(a.add(this.curve.n),d):a=this.curve.pointFromX(a,d);var T=e.r.invm(i),C=i.sub(s).mul(T).umod(i),L=o.mul(T).umod(i);return this.g.mulAdd(C,a,L)},Dr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Ps(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var X0=ai(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=Rr,t.rand=function(){throw new Error("unsupported")},t.curve=_s,t.curves=As,t.ec=J0,t.eddsa=null}),Z0=X0.ec;const Y0="properties/5.7.0";var Q0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const Rs=new we(Y0);function ge(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Mi(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function pn(r){return Q0(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ed(r,e){(!r||typeof r!="object")&&Rs.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Rs.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Rn(r){const e={};for(const t in r)e[t]=r[t];return e}const td={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function kc(r){if(r==null||td[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!kc(n))return!1}return!0}return Rs.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function rd(r){if(kc(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>oi(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ge(e,t,oi(n))}return e}return Rs.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function oi(r){return rd(r)}class ci{constructor(e){for(const t in e)this[t]=oi(e[t])}}const nd="signing-key/5.7.0",Ya=new we(nd);let Qa=null;function tn(){return Qa||(Qa=new Z0("secp256k1")),Qa}class ui{constructor(e){ge(this,"curve","secp256k1"),ge(this,"privateKey",Oe(e)),Qr(this.privateKey)!==32&&Ya.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=tn().keyFromPrivate(Se(this.privateKey));ge(this,"publicKey","0x"+t.getPublic(!1,"hex")),ge(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ge(this,"_isSigningKey",!0)}_addPoint(e){const t=tn().keyFromPublic(Se(this.publicKey)),n=tn().keyFromPublic(Se(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=tn().keyFromPrivate(Se(this.privateKey)),n=Se(e);n.length!==32&&Ya.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return pr({recoveryParam:i.recoveryParam,r:kt("0x"+i.r.toString(16),32),s:kt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=tn().keyFromPrivate(Se(this.privateKey)),n=tn().keyFromPublic(Se(Ic(e)));return kt("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Cc(r,e){const t=pr(e),n={r:Se(t.r),s:Se(t.s)};return"0x"+tn().recoverPubKey(Se(r),n,t.recoveryParam).encode("hex",!1)}function Ic(r,e){const t=Se(r);if(t.length===32){const n=new ui(t);return e?"0x"+tn().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?Oe(t):"0x"+tn().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+tn().keyFromPublic(t).getPublic(!0,"hex"):Oe(t)}return Ya.throwArgumentError("invalid public or private key","key","[REDACTED]")}const id="rlp/5.7.0",rn=new we(id);function Bc(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Uc(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Oc(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(Oc(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Bc(n.length);return i.unshift(247+i.length),i.concat(n)}ln(r)||rn.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(Se(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Bc(e.length);return t.unshift(183+t.length),t.concat(e)}function Di(r){return Oe(Oc(r))}function Nc(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Mc(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&rn.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Mc(r,e){if(r.length===0&&rn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&rn.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=Uc(r,e+1,t);return e+1+t+n>r.length&&rn.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),Nc(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&rn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),Nc(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&rn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=Uc(r,e+1,t);e+1+t+n>r.length&&rn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const i=hexlify(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&rn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:hexlify(r[e])}}function Fb(r){const e=arrayify(r),t=Mc(e,0);return t.consumed!==e.length&&rn.throwArgumentError("invalid rlp data","data",r),t.result}const sd="address/5.7.0",kn=new we(sd);function Dc(r){St(r,20)||kn.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=Se(Xt(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const ad=9007199254740991;function od(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const eo={};for(let r=0;r<10;r++)eo[String(r)]=String(r);for(let r=0;r<26;r++)eo[String.fromCharCode(65+r)]=String(10+r);const Lc=Math.floor(od(ad));function Hc(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>eo[n]).join("");for(;e.length>=Lc;){let n=e.substring(0,Lc);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Ut(r){let e=null;if(typeof r!="string"&&kn.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Dc(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&kn.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Hc(r)&&kn.throwArgumentError("bad icap checksum","address",r),e=$t(r.substring(4));e.length<40;)e="0"+e;e=Dc("0x"+e)}else kn.throwArgumentError("invalid address","address",r);return e}function Kb(r){try{return Ut(r),!0}catch{}return!1}function zb(r){let e=_base16To36(Ut(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Hc("XE00"+e)+e}function cd(r){let e=null;try{e=Ut(r.from)}catch{kn.throwArgumentError("missing from address","transaction",r)}const t=tr(Se(ze.from(r.nonce).toHexString()));return Ut(xr(Xt(Di([e,t])),12))}function $b(r,e,t){return hexDataLength(e)!==32&&kn.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(t)!==32&&kn.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Ut(hexDataSlice(keccak256(concat(["0xff",Ut(r),e,t])),12))}const ud="transactions/5.7.0",ur=new we(ud);var Fc;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Fc||(Fc={}));function to(r){return r==="0x"?null:getAddress(r)}function fr(r){return r==="0x"?Zero:BigNumber.from(r)}const fd=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],dd={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Cn(r){const e=Ic(r);return Ut(xr(Xt(xr(e,1)),12))}function ks(r,e){return Cn(Cc(Se(r),e))}function kr(r,e){const t=tr(ze.from(r).toHexString());return t.length>32&&ur.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function ro(r,e){return{address:Ut(r),storageKeys:(e||[]).map((t,n)=>(Qr(t)!==32&&ur.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Cs(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&ur.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),ro(t[0],t[1])):ro(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return ro(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function Kc(r){return Cs(r).map(e=>[e.address,e.storageKeys])}function zc(r,e){if(r.gasPrice!=null){const n=ze.from(r.gasPrice),i=ze.from(r.maxFeePerGas||0);n.eq(i)||ur.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[kr(r.chainId||0,"chainId"),kr(r.nonce||0,"nonce"),kr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kr(r.maxFeePerGas||0,"maxFeePerGas"),kr(r.gasLimit||0,"gasLimit"),r.to!=null?Ut(r.to):"0x",kr(r.value||0,"value"),r.data||"0x",Kc(r.accessList||[])];if(e){const n=pr(e);t.push(kr(n.recoveryParam,"recoveryParam")),t.push(tr(n.r)),t.push(tr(n.s))}return ar(["0x02",Di(t)])}function $c(r,e){const t=[kr(r.chainId||0,"chainId"),kr(r.nonce||0,"nonce"),kr(r.gasPrice||0,"gasPrice"),kr(r.gasLimit||0,"gasLimit"),r.to!=null?Ut(r.to):"0x",kr(r.value||0,"value"),r.data||"0x",Kc(r.accessList||[])];if(e){const n=pr(e);t.push(kr(n.recoveryParam,"recoveryParam")),t.push(tr(n.r)),t.push(tr(n.s))}return ar(["0x01",Di(t)])}function ld(r,e){ed(r,dd);const t=[];fd.forEach(function(a){let o=r[a.name]||[];const d={};a.numeric&&(d.hexPad="left"),o=Se(Oe(o,d)),a.length&&o.length!==a.length&&o.length>0&&ur.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=tr(o),o.length>a.maxLength&&ur.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),t.push(Oe(o))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&ur.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!ln(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(Oe(n)),t.push("0x"),t.push("0x")),!e)return Di(t);const i=pr(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&ur.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ur.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Oe(s)),t.push(tr(Se(i.r))),t.push(tr(Se(i.s))),Di(t)}function qc(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&ur.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),ld(r,e);switch(r.type){case 1:return $c(r,e);case 2:return zc(r,e);default:break}return ur.throwError(`unsupported transaction type: ${r.type}`,we.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function jc(r,e,t){try{const n=fr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{ur.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=hexZeroPad(e[1],32),r.s=hexZeroPad(e[2],32);try{const n=keccak256(t(r));r.from=ks(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function hd(r){const e=RLP.decode(r.slice(1));e.length!==9&&e.length!==12&&ur.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(r));const t=fr(e[2]),n=fr(e[3]),i={type:2,chainId:fr(e[0]).toNumber(),nonce:fr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:fr(e[4]),to:to(e[5]),value:fr(e[6]),data:e[7],accessList:Cs(e[8])};return e.length===9||(i.hash=keccak256(r),jc(i,e.slice(9),zc)),i}function xd(r){const e=RLP.decode(r.slice(1));e.length!==8&&e.length!==11&&ur.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(r));const t={type:1,chainId:fr(e[0]).toNumber(),nonce:fr(e[1]).toNumber(),gasPrice:fr(e[2]),gasLimit:fr(e[3]),to:to(e[4]),value:fr(e[5]),data:e[6],accessList:Cs(e[7])};return e.length===8||(t.hash=keccak256(r),jc(t,e.slice(8),$c)),t}function pd(r){const e=RLP.decode(r);e.length!==9&&e.length!==6&&ur.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:fr(e[0]).toNumber(),gasPrice:fr(e[1]),gasLimit:fr(e[2]),to:to(e[3]),value:fr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=BigNumber.from(e[6]).toNumber()}catch{return t}if(t.r=hexZeroPad(e[7],32),t.s=hexZeroPad(e[8],32),BigNumber.from(t.r).isZero()&&BigNumber.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(hexlify(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=keccak256(RLP.encode(i));try{t.from=ks(s,{r:hexlify(t.r),s:hexlify(t.s),recoveryParam:n})}catch{}t.hash=keccak256(r)}return t.type=null,t}function qb(r){const e=arrayify(r);if(e[0]>127)return pd(e);switch(e[0]){case 1:return xd(e);case 2:return hd(e);default:break}return ur.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const yd="abstract-provider/5.7.0";var bd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const Li=new we(yd);class jb extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Gb extends null{constructor(e,t){isHexString(e,32)||Li.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:t||0,blockHash:e})}}class Wb extends null{constructor(e,t){isHexString(e,32)||Li.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:t||0,hash:e})}}class Vb extends null{constructor(e,t,n){isHexString(e,32)||Li.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(t,32)||Li.throwArgumentError("invalid transaction hash","afterHash",t),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:t})}}class Is{constructor(){Li.checkAbstract(new.target,Is),ge(this,"_isProvider",!0)}getFeeData(){return bd(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield pn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ze.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const gd="abstract-signer/5.7.0";var Jr=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const Lr=new we(gd),md=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],wd=[we.errors.INSUFFICIENT_FUNDS,we.errors.NONCE_EXPIRED,we.errors.REPLACEMENT_UNDERPRICED];class Hi{constructor(){Lr.checkAbstract(new.target,Hi),ge(this,"_isSigner",!0)}getBalance(e){return Jr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Jr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Jr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield pn(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Jr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield pn(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Jr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Jr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Jr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Jr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Jr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)md.indexOf(n)===-1&&Lr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Rn(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Lr.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Jr(this,void 0,void 0,function*(){const t=yield pn(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>Jr(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Lr.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?Lr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&Lr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Lr.throwError("network does not support EIP-1559",we.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Lr.throwError("failed to get consistent fee data",we.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(wd.indexOf(i.code)>=0)throw i;return Lr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",we.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Lr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield pn(t)})}_checkProvider(e){this.provider||Lr.throwError("missing provider",we.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class no extends Hi{constructor(e,t){super(),ge(this,"address",e),ge(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Lr.throwError(e,we.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new no(this.address,e)}}const vd="hash/5.7.0";function Wn(r){return Xt(Wr(r))}var Ed=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const Ot=new we(vd),Gc=new Uint8Array(32);Gc.fill(0);const Sd=ze.from(-1),Wc=ze.from(0),Vc=ze.from(1),_d=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ad(r){const e=Se(r),t=e.length%32;return t?ar([e,Gc.slice(t)]):Oe(e)}const Td=kt(Vc.toHexString(),32),Pd=kt(Wc.toHexString(),32),Jc={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},io=["name","version","chainId","verifyingContract","salt"];function Xc(r){return function(e){return typeof e!="string"&&Ot.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Rd={name:Xc("name"),version:Xc("version"),chainId:function(r){try{return ze.from(r).toString()}catch{}return Ot.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Ut(r).toLowerCase()}catch{}return Ot.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=Se(r);if(e.length!==32)throw new Error("bad length");return Oe(e)}catch{}return Ot.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function so(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ot.throwArgumentError("invalid numeric width","type",r);const i=_d.mask(t?n-1:n),s=t?i.add(Vc).mul(Sd):Wc;return function(a){const o=ze.from(a);return(o.lt(s)||o.gt(i))&&Ot.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),kt(o.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Ot.throwArgumentError("invalid bytes width","type",r),function(n){return Se(n).length!==t&&Ot.throwArgumentError(`invalid length for ${r}`,"value",n),Ad(n)}}}switch(r){case"address":return function(e){return kt(Ut(e),32)};case"bool":return function(e){return e?Td:Pd};case"bytes":return function(e){return Xt(e)};case"string":return function(e){return Wn(e)}}return null}function Zc(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Er{constructor(e){ge(this,"types",Object.freeze(oi(e))),ge(this,"_encoderCache",{}),ge(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(o=>{t[o]={},n[o]=[],i[o]={}});for(const o in e){const d={};e[o].forEach(m=>{d[m.name]&&Ot.throwArgumentError(`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(o)}`,"types",e),d[m.name]=!0;const T=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];T===o&&Ot.throwArgumentError(`circular type reference to ${JSON.stringify(T)}`,"types",e),!so(T)&&(n[T]||Ot.throwArgumentError(`unknown type ${JSON.stringify(T)}`,"types",e),n[T].push(o),t[o][T]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?Ot.throwArgumentError("missing primary type","types",e):s.length>1&&Ot.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ge(this,"primaryType",s[0]);function a(o,d){d[o]&&Ot.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),d[o]=!0,Object.keys(t[o]).forEach(m=>{n[m]&&(a(m,d),Object.keys(d).forEach(T=>{i[T][m]=!0}))}),delete d[o]}a(this.primaryType,{});for(const o in i){const d=Object.keys(i[o]);d.sort(),this._types[o]=Zc(o,e[o])+d.map(m=>Zc(m,e[m])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=so(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),a=parseInt(t[3]);return o=>{a>=0&&o.length!==a&&Ot.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let d=o.map(s);return this._types[i]&&(d=d.map(Xt)),Xt(ar(d))}}const n=this.types[e];if(n){const i=Wn(this._types[e]);return s=>{const a=n.map(({name:o,type:d})=>{const m=this.getEncoder(d)(s[o]);return this._types[d]?Xt(m):m});return a.unshift(i),ar(a)}}return Ot.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Ot.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Xt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(so(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Ot.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(d=>this._visit(a,d,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:d})=>(a[o]=this._visit(d,t[o],n),a),{}):Ot.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Er(e)}static getPrimaryType(e){return Er.from(e).primaryType}static hashStruct(e,t,n){return Er.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Jc[n];i||Ot.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>io.indexOf(n.name)-io.indexOf(i.name)),Er.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return ar(["0x1901",Er.hashDomain(e),Er.from(t).hash(n)])}static hash(e,t,n){return Xt(Er.encode(e,t,n))}static resolveNames(e,t,n,i){return Ed(this,void 0,void 0,function*(){e=Rn(e);const s={};e.verifyingContract&&!St(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Er.from(t);a.visit(n,(o,d)=>(o==="address"&&!St(d,20)&&(s[d]="0x"),d));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,d)=>o==="address"&&s[d]?s[d]:d),{domain:e,value:n}})}static getPayload(e,t,n){Er.hashDomain(e);const i={},s=[];io.forEach(d=>{const m=e[d];m!=null&&(i[d]=Rd[d](m),s.push({name:d,type:Jc[d]}))});const a=Er.from(t),o=Rn(t);return o.EIP712Domain?Ot.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(d,m)=>{if(d.match(/^bytes(\d*)/))return Oe(Se(m));if(d.match(/^u?int/))return ze.from(m).toString();switch(d){case"address":return m.toLowerCase();case"bool":return!!m;case"string":return typeof m!="string"&&Ot.throwArgumentError("invalid string","value",m),m}return Ot.throwArgumentError("unsupported type","type",d)})}}}class Yc{constructor(e){ge(this,"alphabet",e),ge(this,"base",e.length),ge(this,"_alphabetMap",{}),ge(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Se(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let a=t[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<t.length;++a)s+=t[a]*this.base,t[a]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Se(new Uint8Array(t.reverse()))}}const Jb=new Yc("abcdefghijklmnopqrstuvwxyz234567"),Qc=new Yc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Fi;(function(r){r.sha256="sha256",r.sha512="sha512"})(Fi||(Fi={}));const kd="sha2/5.7.0",Cd=new we(kd);function Id(r){return"0x"+Pr().ripemd160().update(Se(r)).digest("hex")}function Ki(r){return"0x"+Pr().sha256().update(Se(r)).digest("hex")}function Xb(r){return"0x"+hash.sha512().update(arrayify(r)).digest("hex")}function Bs(r,e,t){return Fi[r]||Cd.throwError("unsupported algorithm "+r,we.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Pr().hmac(Pr()[r],Se(e)).update(Se(t)).digest("hex")}function ao(r,e,t,n,i){r=Se(r),e=Se(e);let s,a=1;const o=new Uint8Array(n),d=new Uint8Array(e.length+4);d.set(e);let m,T;for(let C=1;C<=a;C++){d[e.length]=C>>24&255,d[e.length+1]=C>>16&255,d[e.length+2]=C>>8&255,d[e.length+3]=C&255;let L=Se(Bs(i,r,d));s||(s=L.length,T=new Uint8Array(s),a=Math.ceil(n/s),m=n-(a-1)*s),T.set(L);for(let ce=1;ce<t;ce++){L=Se(Bs(i,r,L));for(let be=0;be<s;be++)T[be]^=L[be]}const V=(C-1)*s,ie=C===a?m:s;o.set(Se(T).slice(0,ie),V)}return Oe(o)}const Bd="wordlists/5.7.0",Ud=!1,Od=new we(Bd);class zi{constructor(e){Od.checkAbstract(new.target,zi),ge(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return Wn(t.join(`
`)+`
`)}static register(e,t){if(t||(t=e.locale),Ud)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[t]||ge(n._ethers.wordlists,t,e))}catch{}}}const Nd="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let $i=null;function eu(r){if($i==null&&($i=Nd.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),zi.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw $i=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Md extends zi{constructor(){super("en")}getWord(e){return eu(this),$i[e]}getWordIndex(e){return eu(this),$i.indexOf(e)}}const tu=new Md;zi.register(tu);const ru={en:tu},Dd="hdnode/5.7.0",qi=new we(Dd),Ld=ze.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hd=Wr("Bitcoin seed"),fi=2147483648;function nu(r){return(1<<r)-1<<8-r}function Fd(r){return(1<<r)-1}function Us(r){return kt(Oe(r),32)}function iu(r){return Qc.encode(Ft([r,xr(Ki(Ki(r)),0,4)]))}function oo(r){if(r==null)return ru.en;if(typeof r=="string"){const e=ru[r];return e==null&&qi.throwArgumentError("unknown locale","wordlist",r),e}return r}const di={},ji="m/44'/60'/0'/0/0";class Hr{constructor(e,t,n,i,s,a,o,d){if(e!==di)throw new Error("HDNode constructor cannot be called directly");if(t){const m=new ui(t);ge(this,"privateKey",m.privateKey),ge(this,"publicKey",m.compressedPublicKey)}else ge(this,"privateKey",null),ge(this,"publicKey",Oe(n));ge(this,"parentFingerprint",i),ge(this,"fingerprint",xr(Id(Ki(this.publicKey)),0,4)),ge(this,"address",Cn(this.publicKey)),ge(this,"chainCode",s),ge(this,"index",a),ge(this,"depth",o),d==null?(ge(this,"mnemonic",null),ge(this,"path",null)):typeof d=="string"?(ge(this,"mnemonic",null),ge(this,"path",d)):(ge(this,"mnemonic",d),ge(this,"path",d.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return iu(Ft([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Oe(this.depth),this.parentFingerprint,kt(Oe(this.index),4),this.chainCode,this.privateKey!=null?Ft(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Hr(di,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~fi));const n=new Uint8Array(37);if(e&fi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Se(this.privateKey),1),t&&(t+="'")}else n.set(Se(this.publicKey));for(let C=24;C>=0;C-=8)n[33+(C>>3)]=e>>24-C&255;const i=Se(Bs(Fi.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,d=null;this.privateKey?o=Us(ze.from(s).add(this.privateKey).mod(Ld)):d=new ui(Oe(s))._addPoint(this.publicKey);let m=t;const T=this.mnemonic;return T&&(m=Object.freeze({phrase:T.phrase,path:t,locale:T.locale||"en"})),new Hr(di,o,d,this.fingerprint,Us(a),e,this.depth+1,m)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=fi)throw new Error("invalid path index - "+s);n=n._derive(fi+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=fi)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=Se(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Se(Bs(Fi.sha512,Hd,n));return new Hr(di,Us(i.slice(0,32)),null,"0x00000000",Us(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=oo(n),e=uo(co(e,n),n),Hr._fromSeed(Kd(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Hr._fromSeed(e,null)}static fromExtendedKey(e){const t=Qc.decode(e);(t.length!==82||iu(t.slice(0,78))!==e)&&qi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=Oe(t.slice(5,9)),s=parseInt(Oe(t.slice(9,13)).substring(2),16),a=Oe(t.slice(13,45)),o=t.slice(45,78);switch(Oe(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Hr(di,null,Oe(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Hr(di,Oe(o.slice(1)),null,i,a,s,n,null)}return qi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Kd(r,e){e||(e="");const t=Wr("mnemonic"+e,An.NFKD);return ao(Wr(r,An.NFKD),t,2048,64,"sha512")}function co(r,e){e=oo(e),qi.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=Se(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let m=0;m<t.length;m++){let T=e.getWordIndex(t[m].normalize("NFKD"));if(T===-1)throw new Error("invalid mnemonic");for(let C=0;C<11;C++)T&1<<10-C&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,a=t.length/3,o=nu(a);if((Se(Ki(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return Oe(n.slice(0,s/8))}function uo(r,e){if(e=oo(e),r=Se(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&Fd(8-n)),n+=3);const i=r.length/4,s=Se(Ki(r))[0]&nu(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(a=>e.getWord(a)))}function Zb(r,e){try{return co(r,e),!0}catch{}return!1}function Yb(r){return(typeof r!="number"||r<0||r>=fi||r%1)&&qi.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const zd="random/5.7.0",fo=new we(zd);function $d(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof x.g<"u")return x.g;throw new Error("unable to locate global object")}const su=$d();let Os=su.crypto||su.msCrypto;(!Os||!Os.getRandomValues)&&(fo.warn("WARNING: Missing strong random number source"),Os={getRandomValues:function(r){return fo.throwError("no secure random source avaialble",we.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Gi(r){(r<=0||r>1024||r%1||r!=r)&&fo.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Os.getRandomValues(e),Se(e)}var qd=x(39556),nn=x.n(qd),jd=x(9495),lo=x.n(jd);function Vn(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Se(r)}function Wi(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function ho(r){return typeof r=="string"?Wr(r,An.NFKC):Se(r)}function Kt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in t)if(a.toLowerCase()===n[i]){s=t[a];break}if(s===null)return null;t=s}return t}function Gd(r){const e=Se(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Oe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const au="json-wallets/5.7.0";var Wd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const xo=new we(au);function ou(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class Vd extends ci{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Jd(r,e,t){if(Kt(r,"crypto/cipher")==="aes-128-ctr"){const i=Vn(Kt(r,"crypto/cipherparams/iv")),s=new(nn()).Counter(i),a=new(nn()).ModeOfOperation.ctr(e,s);return Se(a.decrypt(t))}return null}function cu(r,e){const t=Vn(Kt(r,"crypto/ciphertext"));if(Oe(Xt(Ft([e.slice(16,32),t]))).substring(2)!==Kt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Jd(r,e.slice(0,16),t);i||xo.throwError("unsupported cipher",we.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=Cn(i);if(r.address){let d=r.address.toLowerCase();if(d.substring(0,2)!=="0x"&&(d="0x"+d),Ut(d)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:Oe(i)};if(Kt(r,"x-ethers/version")==="0.1"){const d=Vn(Kt(r,"x-ethers/mnemonicCiphertext")),m=Vn(Kt(r,"x-ethers/mnemonicCounter")),T=new(nn()).Counter(m),C=new(nn()).ModeOfOperation.ctr(s,T),L=Kt(r,"x-ethers/path")||ji,V=Kt(r,"x-ethers/locale")||"en",ie=Se(C.decrypt(d));try{const ce=uo(ie,V),be=Hr.fromMnemonic(ce,null,V).derivePath(L);if(be.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=be.mnemonic}catch(ce){if(ce.code!==we.errors.INVALID_ARGUMENT||ce.argument!=="wordlist")throw ce}}return new Vd(o)}function uu(r,e,t,n,i){return Se(ao(r,e,t,n,i))}function Xd(r,e,t,n,i){return Promise.resolve(uu(r,e,t,n,i))}function fu(r,e,t,n,i){const s=ho(e),a=Kt(r,"crypto/kdf");if(a&&typeof a=="string"){const o=function(d,m){return xo.throwArgumentError("invalid key-derivation function parameters",d,m)};if(a.toLowerCase()==="scrypt"){const d=Vn(Kt(r,"crypto/kdfparams/salt")),m=parseInt(Kt(r,"crypto/kdfparams/n")),T=parseInt(Kt(r,"crypto/kdfparams/r")),C=parseInt(Kt(r,"crypto/kdfparams/p"));(!m||!T||!C)&&o("kdf",a),m&m-1&&o("N",m);const L=parseInt(Kt(r,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),n(s,d,m,T,C,64,i)}else if(a.toLowerCase()==="pbkdf2"){const d=Vn(Kt(r,"crypto/kdfparams/salt"));let m=null;const T=Kt(r,"crypto/kdfparams/prf");T==="hmac-sha256"?m="sha256":T==="hmac-sha512"?m="sha512":o("prf",T);const C=parseInt(Kt(r,"crypto/kdfparams/c")),L=parseInt(Kt(r,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),t(s,d,C,L,m)}}return xo.throwArgumentError("unsupported key-derivation function","kdf",a)}function Zd(r,e){const t=JSON.parse(r),n=fu(t,e,uu,lo().syncScrypt);return cu(t,n)}function Yd(r,e,t){return Wd(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield fu(n,e,Xd,lo().scrypt,t);return cu(n,i)})}function Qd(r,e,t,n){try{if(Ut(r.address)!==Cn(r.privateKey))throw new Error("address/privateKey mismatch");if(ou(r)){const be=r.mnemonic;if(Hr.fromMnemonic(be.phrase,null,be.locale).derivePath(be.path||ji).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(be){return Promise.reject(be)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=Se(r.privateKey),s=ho(e);let a=null,o=null,d=null;if(ou(r)){const be=r.mnemonic;a=Se(co(be.phrase,be.locale||"en")),o=be.path||ji,d=be.locale||"en"}let m=t.client;m||(m="ethers.js");let T=null;t.salt?T=Se(t.salt):T=Gi(32);let C=null;if(t.iv){if(C=Se(t.iv),C.length!==16)throw new Error("invalid iv")}else C=Gi(16);let L=null;if(t.uuid){if(L=Se(t.uuid),L.length!==16)throw new Error("invalid uuid")}else L=Gi(16);let V=1<<17,ie=8,ce=1;return t.scrypt&&(t.scrypt.N&&(V=t.scrypt.N),t.scrypt.r&&(ie=t.scrypt.r),t.scrypt.p&&(ce=t.scrypt.p)),lo().scrypt(s,T,V,ie,ce,64,n).then(be=>{be=Se(be);const De=be.slice(0,16),rt=be.slice(16,32),We=be.slice(32,64),wt=new(nn()).Counter(C),ht=new(nn()).ModeOfOperation.ctr(De,wt),Gt=Se(ht.encrypt(i)),er=Xt(Ft([rt,Gt])),yt={address:r.address.substring(2).toLowerCase(),id:Gd(L),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Oe(C).substring(2)},ciphertext:Oe(Gt).substring(2),kdf:"scrypt",kdfparams:{salt:Oe(T).substring(2),n:V,dklen:32,p:ce,r:ie},mac:er.substring(2)}};if(a){const Lt=Gi(16),gr=new(nn()).Counter(Lt),Pt=new(nn()).ModeOfOperation.ctr(We,gr),fn=Se(Pt.encrypt(a)),Ze=new Date,Rt=Ze.getUTCFullYear()+"-"+Wi(Ze.getUTCMonth()+1,2)+"-"+Wi(Ze.getUTCDate(),2)+"T"+Wi(Ze.getUTCHours(),2)+"-"+Wi(Ze.getUTCMinutes(),2)+"-"+Wi(Ze.getUTCSeconds(),2)+".0Z";yt["x-ethers"]={client:m,gethFilename:"UTC--"+Rt+"--"+yt.address,mnemonicCounter:Oe(Lt).substring(2),mnemonicCiphertext:Oe(fn).substring(2),path:o,locale:d,version:"0.1"}}return JSON.stringify(yt)})}const el=new we(au);class tl extends ci{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function du(r,e){const t=JSON.parse(r);e=ho(e);const n=Ut(Kt(t,"ethaddr")),i=Vn(Kt(t,"encseed"));(!i||i.length%16!==0)&&el.throwArgumentError("invalid encseed","json",r);const s=Se(ao(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),d=new(nn()).ModeOfOperation.cbc(s,a),m=nn().padding.pkcs7.strip(Se(d.decrypt(o)));let T="";for(let V=0;V<m.length;V++)T+=String.fromCharCode(m[V]);const C=Wr(T),L=Xt(C);return new tl({_isCrowdsaleAccount:!0,address:n,privateKey:L})}function po(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function yo(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Qb(r){if(po(r))try{return getAddress(JSON.parse(r).ethaddr)}catch{return null}if(yo(r))try{return getAddress(JSON.parse(r).address)}catch{return null}return null}function rl(r,e,t){if(po(r)){t&&t(0);const n=du(r,e);return t&&t(1),Promise.resolve(n)}return yo(r)?Yd(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function nl(r,e){if(po(r))return du(r,e);if(yo(r))return Zd(r,e);throw new Error("invalid JSON wallet")}const il="wallet/5.7.0";var lu=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const li=new we(il);function sl(r){return r!=null&&St(r.privateKey,32)&&r.address!=null}function al(r){const e=r.mnemonic;return e&&e.phrase}class In extends Hi{constructor(e,t){if(super(),sl(e)){const n=new ui(e.privateKey);if(ge(this,"_signingKey",()=>n),ge(this,"address",Cn(this.publicKey)),this.address!==Ut(e.address)&&li.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),al(e)){const i=e.mnemonic;ge(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ji,locale:i.locale||"en"}));const s=this.mnemonic,a=Hr.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Cn(a.privateKey)!==this.address&&li.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ge(this,"_mnemonic",()=>null)}else{if(ui.isSigningKey(e))e.curve!=="secp256k1"&&li.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ge(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ui(e);ge(this,"_signingKey",()=>n)}ge(this,"_mnemonic",()=>null),ge(this,"address",Cn(this.publicKey))}t&&!Is.isProvider(t)&&li.throwArgumentError("invalid provider","provider",t),ge(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new In(this,e)}signTransaction(e){return pn(e).then(t=>{t.from!=null&&(Ut(t.from)!==this.address&&li.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Xt(qc(t)));return qc(t,n)})}signMessage(e){return lu(this,void 0,void 0,function*(){return Or(this._signingKey().signDigest(vs(e)))})}_signTypedData(e,t,n){return lu(this,void 0,void 0,function*(){const i=yield Er.resolveNames(e,t,n,s=>(this.provider==null&&li.throwError("cannot resolve ENS names without a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Or(this._signingKey().signDigest(Er.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),Qd(this,e,t,n)}static createRandom(e){let t=Gi(16);e||(e={}),e.extraEntropy&&(t=Se(xr(Xt(Ft([t,e.extraEntropy])),0,16)));const n=uo(t,e.locale);return In.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return rl(e,t,n).then(i=>new In(i))}static fromEncryptedJsonSync(e,t){return new In(nl(e,t))}static fromMnemonic(e,t,n){return t||(t=ji),new In(Hr.fromMnemonic(e,null,n).derivePath(t))}}function ol(r,e){return ks(vs(r),e)}function hu(r,e,t,n){return ks(Er.hash(r,e,t),n)}var xu=x(55872).Buffer;class cl{constructor(e){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",A[_.ETHEREUM].pubLength);O(this,"signatureLength",A[_.ETHEREUM].sigLength);O(this,"signatureType",_.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",t=await this.signer.signMessage(e),n=await vs(e),i=Cc(Se(n),t);this.publicKey=xu.from(Se(i))}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signMessage(e);return xu.from(t.slice(2),"hex")}static verify(e,t,n){const i=Cn(e);return ol(t,n)===i}}var eg=null,Vi=x(31511);class bo extends q{get publicKey(){return Vi.decode(this.pk)}get key(){return Vi.decode(this._key)}constructor(e){const t=Vi.decode(e);super(Vi.encode(t.subarray(0,32)),Vi.encode(t.subarray(32,64)))}}var Ns=x(85323),Cr=x(55872),ul=x(41389);function go(r){return r=pu(r),ul("keccak256").update(r).digest()}function pu(r){if(!Cr.Buffer.isBuffer(r))if(Array.isArray(r))r=Cr.Buffer.from(r);else if(typeof r=="string")yu(r)?r=Cr.Buffer.from(mo(bu(r)),"hex"):r=Cr.Buffer.from(r);else if(typeof r=="number")r=mu(r);else if(r==null)r=Cr.Buffer.allocUnsafe(0);else if(Ee.isBN(r))r=r.toArrayLike(Cr.Buffer);else if(r.toArray)r=Cr.Buffer.from(r.toArray());else throw new Error("invalid type");return r}function yu(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}function mo(r){if(typeof r!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof r}, while padToEven.`);return r.length%2&&(r=`0${r}`),r}function bu(r){return typeof r!="string"?r:gu(r)?r.slice(2):r}function gu(r){if(typeof r!="string")throw new Error("value must be type 'string', is currently type "+typeof r+", while checking isHexPrefixed.");return r.startsWith("0x")}function mu(r){const e=wu(r);return Cr.Buffer.from(mo(e.slice(2)),"hex")}function wu(r){return`0x${r.toString(16)}`}typeof window<"u"&&(window.keccak256=go);var wo=go;const fl={intToBuffer:mu,intToHex:wu,isHexPrefixed:gu,stripHexPrefix:bu,padToEven:mo,isHexString:yu,toBuffer:pu};var Ms=x(55872).Buffer;class vu{constructor(e,t){O(this,"_key");O(this,"ownerLength",A[_.ETHEREUM].pubLength);O(this,"signatureLength",A[_.ETHEREUM].sigLength);O(this,"signatureType",_.ETHEREUM);O(this,"pk");this._key=e,this.pk=t.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Ms.from(this._key,"hex")}static async verify(e,t,n){let i=e;typeof e=="string"&&(i=P.toBuffer(e));let s=!1;try{s=Ns.ecdsaVerify(n,wo(Ms.from(t)),i)}catch{}return s}async sign(e){return Ns.ecdsaSign(wo(Ms.from(e)),Ms.from(this.key)).signature}}var Ds=x(55872).Buffer;class Ls extends vu{get publicKey(){return Ds.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const t=Ds.from(e,"hex"),n=Ns.publicKeyCreate(t,!1);super(e,Ds.from(n))}async sign(e){return new In(this._key).signMessage(e).then(n=>Ds.from(n.slice(2),"hex"))}static async verify(e,t,n){return Ns.ecdsaVerify(n.length===65?n.slice(0,-1):n,Se(vs(t)),typeof e=="string"?P.toBuffer(e):e)}}class dl extends Ls{}class vo extends bo{constructor(e){super(e.replace("ed25519:",""))}}var Eu=x(55872).Buffer;class ll extends q{get publicKey(){return Eu.from(this.pk)}get key(){return Eu.from(this._key)}constructor(e,t){super(e.subarray(0,32),t)}}var Hs=x(55872).Buffer;class Fs extends vc{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Hs.from(Hs.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Hs.from(Hs.from(n).toString("hex")),i)}}var Ks=x(55872).Buffer;class hl extends bo{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Ks.from(Ks.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Ks.from(Ks.from(n).toString("hex")),i)}}var Su=x(55872).Buffer;class xl extends q{constructor(e,t){super(e,t)}get publicKey(){return Su.from(this.pk.slice(2),"hex")}get key(){return Su.from(this._key.slice(2),"hex")}}var hi=x(55872).Buffer;class zs{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",A[_.INJECTEDAPTOS].pubLength);O(this,"signatureLength",A[_.INJECTEDAPTOS].sigLength);O(this,"signatureType",_.INJECTEDAPTOS);O(this,"pem");O(this,"provider");this.provider=e,this._publicKey=t}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const t=await this.provider.signMessage({message:hi.from(e).toString("hex"),nonce:"bundlr"});return hi.from(t.signature,"hex")}static async verify(e,t,n){const i=e;return(0,c.T)(hi.from(n),hi.from(`APTOS
message: ${hi.from(t).toString("hex")}
nonce: bundlr`),hi.from(i))}}var $s=x(55872).Buffer;class _u{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",A[_.MULTIAPTOS].pubLength);O(this,"signatureLength",A[_.MULTIAPTOS].sigLength);O(this,"signatureType",_.MULTIAPTOS);O(this,"collectSignatures");O(this,"provider");this._publicKey=e,this.collectSignatures=t}get publicKey(){return this._publicKey}async sign(e){const{signatures:t,bitmap:n}=await this.collectSignatures(e),i=128,s=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(m=>{if(m>=32)throw new Error(`Invalid bit value ${m}.`);if(a.has(m))throw new Error("Duplicated bits detected.");a.add(m);const T=Math.floor(m/8);let C=s[T];C|=i>>m%8,s[T]=C});const o=$s.alloc(this.signatureLength);let d=0;for(let m=0;m<32;m++)n.includes(m)&&o.set(t[d++],m*64);return o.set(s,this.signatureLength-4),o}static async verify(e,t,n){const s=A[_.MULTIAPTOS].sigLength-4,a=n.slice(0,s),o=n.slice(s);let d=!1;for(let m=0;m<32;m++){const T=Math.floor(m/8),C=m-T*8;if((o[T]&128>>C)!==0){const V=a.slice(m*64,(m+1)*64),ie=e.slice(m*32,(m+1)*32);await(0,c.T)($s.from(V),$s.from(t),$s.from(ie))||(d=!0)}}return!d}}var Au=x(55872).Buffer;class Tu extends Ls{constructor(t){super(t);O(this,"ownerLength",A[_.TYPEDETHEREUM].pubLength);O(this,"signatureLength",A[_.TYPEDETHEREUM].sigLength);O(this,"signatureType",_.TYPEDETHEREUM);O(this,"address");O(this,"signer");this.address="0x"+wo(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new In(t)}get publicKey(){return Au.from(this.address)}async sign(t){const n=await this.signer._signTypedData(qs,js,{address:this.address,"Transaction hash":t});return Au.from(n.slice(2),"hex")}static async verify(t,n,i){const s=t.toString(),a=hu(qs,js,{address:s,"Transaction hash":n},i);return s.toLowerCase()===a.toLowerCase()}}const qs={name:"Bundlr",version:"1"},js={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},tg="Bundlr(bytes Transaction hash, address address)",rg="EIP712Domain(string name,string version)";var Pu=x(55872).Buffer;class Eo{constructor(e){O(this,"ownerLength",A[_.TYPEDETHEREUM].pubLength);O(this,"signatureLength",A[_.TYPEDETHEREUM].sigLength);O(this,"signatureType",_.TYPEDETHEREUM);O(this,"address");O(this,"signer");O(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=Pu.from(this.address)}async sign(e){const t=await this.signer._signTypedData(qs,js,{address:this.address,"Transaction hash":e});return Pu.from(t.slice(2),"hex")}static verify(e,t,n){const i=e.toString(),s=hu(qs,js,{address:i,"Transaction hash":t},n);return i.toLowerCase()===s.toLowerCase()}}var ng=null;class pl{constructor(e,t){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",A[_.ARWEAVE].pubLength);O(this,"signatureLength",A[_.ARWEAVE].sigLength);O(this,"signatureType",_.ARWEAVE);O(this,"arweave");this.signer=e,this.arweave=t}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=P.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const t={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,t);return new Uint8Array(Object.values(n).map(s=>+s))}static async verify(e,t,n){return await rr().verify(e,t,n)}}const So={1:ws,2:q,3:Ls,4:Fs,5:zs,6:_u,7:Tu};async function yl(r){return Ie([le("dataitem"),le("1"),le(r.signatureType.toString()),r.rawOwner,r.rawTarget,r.rawAnchor,r.rawTags,r.rawData])}var _o=yl;function Ji(r,e){const t=new Uint8Array(r);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(r*8)-1)throw new Error(`Number ${e} is too large for an array of ${r} bytes`);for(let n=0;n<t.length;n++){const i=e&255;t[n]=i,e=(e-i)/256}return t}function Ao(r){return Ji(8,r)}function Ru(r){return Ji(2,r)}function bl(r){return Ji(16,r)}function To(r){return Ji(32,r)}function jt(r){let e=0;for(let t=r.length-1;t>=0;t--)e=e*256+r[t];return e}var Gs=x(55872).Buffer;class Po{constructor(e=Gs.alloc(ko),t=0){O(this,"buf");O(this,"pos");this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const t=e.length;let n;if(t)for(this.writeLong(t),n=0;n<t;n++){const i=e[n];if(typeof(i==null?void 0:i.name)!="string"||typeof(i==null?void 0:i.value)!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){const e=Gs.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const t=this.buf;let n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do t[this.pos]=i&127,i>>=7;while(i&&(t[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do t[this.pos]=n&127,n/=128;while(n>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){const t=Gs.byteLength(e),n=this.buf;this.writeLong(t);let i=this.pos;if(this.pos+=t,!(this.pos>n.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let s,a,o,d;for(s=0,a=t;s<a;s++)o=e.charCodeAt(s),o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=o&63|128):(o&64512)===55296&&((d=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(d&1023),s++,n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=o&63|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=o&63|128)}this.buf=n}}readLong(){let e=0,t=0;const n=this.buf;let i,s,a,o;do i=n[this.pos++],s=i&128,e|=(i&127)<<t,t+=7;while(s&&t<28);if(s){a=e,o=268435456;do i=n[this.pos++],a+=(i&127)*o,o*=128;while(i&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){const n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){const e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(t,t+e).toString()}}function ku(r){if((r==null?void 0:r.length)===0)return Gs.allocUnsafe(0);const e=new Po;return e.writeTags(r),e.toBuffer()}function Ws(r){return new Po(r).readTags()}const Ro=80,ko=4096;class xi{constructor(e){O(this,"binary");O(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=jt(this.binary.subarray(0,2));if((_==null?void 0:_[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return xi.verify(this.binary)}get id(){return P.encode(this.rawId)}set id(e){this._id=P.toBuffer(e)}get rawId(){return(0,E.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return P.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return A[this.signatureType].sigLength}get owner(){return P.encode(this.rawOwner)}get ownerLength(){return A[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Cr.Buffer.alloc(0)}get target(){return P.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Cr.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),t=jt(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){const e=this.getTagsStart();if(jt(this.binary.subarray(e,e+8))==0)return[];const n=jt(this.binary.subarray(e+8,e+16));return Ws(Cr.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(t=>({name:P.encode(t.name),value:P.encode(t.value)}))}getStartOfData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=jt(t);return e+16+n}get rawData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=jt(t),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return P.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Co(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Cr.Buffer.from(await rr().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:P.encode(e.name),value:P.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<Ro)return!1;const t=new xi(e),n=t.signatureType,i=t.getTagsStart(),s=jt(e.subarray(i,i+8)),a=e.subarray(i+8,i+16),o=jt(a);if(o>ko)return!1;if(s>0)try{if(Ws(Cr.Buffer.from(e.subarray(i+16,i+16+o))).length!==s)return!1}catch{return!1}const d=So[n],m=await _o(t);return await d.verify(t.rawOwner,m,t.rawSignature)}async getSignatureData(){return _o(this)}getTagsStart(){const e=this.getTargetStart(),t=this.binary[e]==1;let n=e+(t?33:1);const i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const t=this.binary[this.getTargetStart()]==1;return e+=t?32:0,e}}var Vs=xi,gl=x(55872).Buffer;const sn=32;class Cu{constructor(e){O(this,"length");O(this,"items");O(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let t=sn;t<sn+64*this.length;t+=64)e.push(jt(this.binary.subarray(t,t+32)));return e}getIds(){const e=[];for(let t=sn;t<sn+64*this.length;t+=64){const n=this.binary.subarray(t+32,t+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(P.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const t=64+64*e;return P.encode(this.binary.subarray(t,t+32))}async toTransaction(e,t,n){const i=await t.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const e of this.items){const t=await e.isValid(),n=P((0,E.createHash)("sha256").update(e.rawSignature).digest());if(!(t&&e.id===n))return!1}return!0}getOffset(e){let t=0;for(let n=sn;n<sn+64*this.length;n+=64){const i=jt(this.binary.subarray(n,n+32));t+=i;const s=this.binary.subarray(n+32,n+64);if(gl.compare(s,e)===0)return{startOffset:t,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let t=0;const n=this.getBundleStart();let i=0,s,a;for(let T=sn;T<sn+64*this.length;T+=64){if(s=jt(this.binary.subarray(T,T+32)),i++===e){a=this.binary.subarray(T+32,T+64);break}t+=s}const o=n+t,d=this.binary.subarray(o,o+s),m=new Vs(d);return m.rawId=a,m}getById(e){const t=P.toBuffer(e),n=this.getOffset(t);if(n.startOffset===-1)throw new Error("Transaction not found");const s=this.getBundleStart()+n.startOffset;return new Vs(this.binary.subarray(s,s+n.size))}getDataItemCount(){return jt(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let t=0;const n=this.getBundleStart();let i=0;for(let s=sn;s<sn+64*this.length;s+=64){const a=jt(this.binary.subarray(s,s+32)),o=this.binary.subarray(s+32,s+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const d=n+t,m=this.binary.subarray(d,d+a);t+=a;const T=new Vs(m);T.rawId=o,e[i]=T,i++}return e}}var Iu=Cu,pi=x(55872).Buffer;function ml(r){return new Iu(r)}async function Bu(r,e){const t=new Uint8Array(64*r.length),n=await Promise.all(r.map(async(s,a)=>{const o=s.isSigned()?s.rawId:await Co(s,e),d=new Uint8Array(64);return d.set(To(s.getRaw().byteLength),0),d.set(o,32),t.set(d,64*a),s.getRaw()})).then(s=>pi.concat(s)),i=pi.concat([pi.from(To(r.length)),pi.from(t),n]);return new Iu(i)}async function Uu(r,e){const t=await _o(r),n=await e.sign(t),i=await rr().hash(n);return{signature:pi.from(n),id:pi.from(i)}}async function Co(r,e){const{signature:t,id:n}=await Uu(r,e);return r.getRaw().set(t,2),n}var Js=x(55872).Buffer;function Io(r,e,t){var We,wt;const n=e.publicKey,i=t!=null&&t.target?P.toBuffer(t.target):null,s=1+((i==null?void 0:i.byteLength)??0),a=t!=null&&t.anchor?Js.from(t.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),d=(((We=t==null?void 0:t.tags)==null?void 0:We.length)??0)>0?ku(t==null?void 0:t.tags):null,m=16+(d?d.byteLength:0),T=Js.from(r),C=T.byteLength,L=2+e.signatureLength+e.ownerLength+s+o+m+C,V=Js.alloc(L);if(V.set(Ru(e.signatureType),0),V.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);V.set(n,2+e.signatureLength);const ie=2+e.signatureLength+e.ownerLength;if(V[ie]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);V.set(i,ie+1)}const ce=ie+s;let be=ce+1;if(V[ce]=a?1:0,a){if(be+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");V.set(a,ce+1)}V.set(Ao(((wt=t==null?void 0:t.tags)==null?void 0:wt.length)??0),be);const De=Ao((d==null?void 0:d.byteLength)??0);V.set(De,be+8),d&&V.set(d,be+16);const rt=be+m;return V.set(T,rt),new Vs(V)}class wl{constructor(){O(this,"signatureType");O(this,"rawSignature");O(this,"signature");O(this,"signatureLength");O(this,"rawOwner");O(this,"owner");O(this,"ownerLength");O(this,"rawTarget");O(this,"target");O(this,"rawAnchor");O(this,"anchor");O(this,"rawTags");O(this,"tags");O(this,"rawData");O(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var Fr=x(55872).Buffer;async function Ou(r){const e=Nu(r);let t=(await e.next()).value;t=await yr(e,t,32);const n=jt(t.subarray(0,32));t=t.subarray(32);const i=64*n;t=await yr(e,t,i);const s=new Array(n);for(let d=0;d<i;d+=64)s[d/64]=[jt(t.subarray(d,d+32)),P(Fr.from(t.subarray(d+32,d+64)))];t=t.subarray(i);let a=32+i;const o=[];for(const[d,m]of s){t=await yr(e,t,Ro),t=await yr(e,t,2);const T=jt(t.subarray(0,2));t=t.subarray(2);const{sigLength:C,pubLength:L,sigName:V}=A[T];t=await yr(e,t,C);const ie=t.subarray(0,C);t=t.subarray(C),t=await yr(e,t,L);const ce=t.subarray(0,L);t=t.subarray(L),t=await yr(e,t,1);const be=t[0]===1;be&&(t=await yr(e,t,33));const De=be?t.subarray(1,33):Fr.allocUnsafe(0);t=t.subarray(be?33:1),t=await yr(e,t,1);const rt=t[0]===1;rt&&(t=await yr(e,t,33));const We=rt?t.subarray(1,33):Fr.allocUnsafe(0);t=t.subarray(rt?33:1),t=await yr(e,t,8);const wt=jt(t.subarray(0,8));t=t.subarray(8),t=await yr(e,t,8);const ht=jt(t.subarray(0,8));t=t.subarray(8),t=await yr(e,t,ht);const Gt=t.subarray(0,ht),er=wt!==0&&ht!==0?Ws(Fr.from(Gt)):[];if(er.length!==wt)throw new Error("Tags lengths don't match");t=t.subarray(ht);const yt=new J.Transform;yt._transform=function(Ze,Rt,lr){this.push(Ze),lr()};const Lt=Ie([le("dataitem"),le("1"),le(T.toString()),ce,De,We,Gt,yt]),gr=2+C+L+(be?33:1)+(rt?33:1)+16+ht,Pt=d-gr;if(t.byteLength>Pt)yt.write(t.subarray(0,Pt)),t=t.subarray(Pt);else{let Ze=t.byteLength;for(yt.write(t);Pt>Ze;){if(t=(await e.next()).value,!t)throw new Error(`Not enough data bytes  expected: ${Pt} received: ${Ze}`);Ze+=t.byteLength,Ze>Pt?yt.write(t.subarray(0,t.byteLength-(Ze-Pt))):yt.write(t)}t=t.subarray(t.byteLength-(Ze-Pt))}if(yt.end(),m!==P((0,E.createHash)("sha256").update(ie).digest()))throw new Error("ID doesn't match signature");if(!await So[T].verify(ce,await Lt,ie))throw new Error("Invalid signature");o.push({id:m,sigName:V,signature:P(Fr.from(ie)),target:P(Fr.from(De)),anchor:P(Fr.from(We)),owner:P(Fr.from(ce)),tags:er,dataOffset:a+gr,dataSize:Pt}),a+=gr+Pt}return o}async function vl(r,e,t,n){const i=Io("",t,n),s=new J.PassThrough,a=[le("dataitem"),le("1"),le(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,r],o=await Ie(a),d=Fr.from(await t.sign(o));return i.setSignature(d),s.write(i.getRaw()),e.pipe(s)}async function yr(r,e,t){if(e.byteLength>=t)return e;const{done:n,value:i}=await r.next();if(n&&!i)throw new Error("Invalid buffer");return yr(r,Fr.concat([Fr.from(e),Fr.from(i)]),t)}async function*Nu(r){for await(const e of r)yield e}var El=Ou;const Sl={readBytes:yr,getReader:Nu},_l={...l,stream:v};globalThis.arbundles??(globalThis.arbundles=_l);var ig=null;const sg=null;var Al=x(55872).Buffer;class Xs{constructor(e){O(this,"base");O(this,"wallet");O(this,"_address");O(this,"providerUrl");O(this,"providerInstance");O(this,"ticker");O(this,"name");O(this,"irys");O(this,"minConfirm",5);O(this,"isSlow",!1);O(this,"needsFee",!0);O(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return P.encode(Al.from(await rr().hash(await e.rawSignature())))}async price(){return Mu(this.ticker)}}async function Mu(r){const e=await h.Z.get(`https://api.redstone.finance/prices?symbol=${r}&provider=redstone&limit=1`);return await N.checkAndThrow(e,"Getting price data"),e.data[0].value}const Tl=Eo;class Zs extends Xs{constructor(t){super(t);O(this,"signer");O(this,"w3signer");O(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(t){const i=await this.providerInstance.getTransaction(t);if(!i)throw new Error("Tx doesn't exist");if(!i.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:i.from,to:i.to,blockHeight:i.blockNumber?new y.Z(i.blockNumber):void 0,amount:new y.Z(i.value.toHexString(),16),pending:!i.blockNumber,confirmed:i.confirmations>=this.minConfirm}}ownerToAddress(t){return t.toString().toLowerCase()}async sign(t){return(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Eo(this.wallet)),this.signer}async verify(t,n,i){return Tl.verify(t,n,i)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new y.Z(n,16)}async getFee(t,n){const i=this.providerInstance,s={to:n,from:this.address,value:"0x"+new y.Z(t).toString(16)},a=await i.estimateGas(s),o=await i.getGasPrice();return new y.Z(a.mul(o).toString())}async sendTx(t){const i=await this.w3signer.sendTransaction(t);return i?i.hash:void 0}async createTx(t,n,i){const s=ze.from(new y.Z(t).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:s.toHexString()});let d=await a.getGasPrice();return this.name==="matic"&&(d=ze.from(new y.Z(d.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:s.toHexString(),gasPrice:d,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var t,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(t=this.providerInstance)==null?void 0:t._ready)==null?void 0:n.call(t))}}var Pl=x(61125),Rl=x(67265),Xi=x(7782),Zi=x(11565),kl=x(48797),Cl=x(3541),Bo=x(55872).Buffer;class Il extends Xs{constructor(t){super(t);O(this,"keyPair");O(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const t=new Rl.X,n=this.wallet.account();if(this.keyPair=await t.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=Pl.KeyPair.fromRandom("ed25519");const i=this.keyPair.getPublicKey().toString();await t.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(i)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(t){const n=await this.providerInstance,[i,s]=t.split(":"),a=await n.txStatusReceipts(Zi.decode(s),i),o=await n.block(a.transaction_outcome.block_hash),d=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const m=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:i,to:a.transaction.receiver_id,amount:new y.Z(m),blockHeight:new y.Z(o.header.height),pending:!1,confirmed:d-o.header.height>=this.minConfirm}}ownerToAddress(t){const n=typeof t=="string"?t:Zi.encode(t);return Bo.from(Zi.decode(n.replace("ed25519:",""))).toString("hex")}async sign(t){return this.getSigner().sign(t)}getSigner(){return new vo(this.keyPair.secretKey)}async verify(t,n,i){return vo.verify(t,n,i)}async getCurrentHeight(){const t=await this.providerInstance.status();return new y.Z(t.sync_info.latest_block_height)}async getFee(t,n){const i=(await this.providerInstance.block({finality:"final"})).header.height,s=await this.providerInstance.gasPrice(i);return new y.Z(s.gas_price).multipliedBy(45e10)}async sendTx(t){const n=await this.providerInstance.sendTransaction(t);return`${this.address}:${n.transaction.hash}`}async createTx(t,n,i){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const s=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++s.nonce,o=Bo.from(Zi.decode(s.block_hash)),d=[Xi.actionCreators.transfer(new Ee(new y.Z(t).toString()))],m=(0,Xi.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,d,o),T=(0,kl.serialize)(Xi.SCHEMA,m),C=new Uint8Array(Cl.sha256.array(T)),L=this.keyPair.sign(C);return{tx:new Xi.SignedTransaction({transaction:m,signature:new Xi.Signature({keyType:m.publicKey.keyType,data:L.signature})}),txId:void 0}}async getPublicKey(){return Bo.from(this.keyPair.getPublicKey().data)}}var Yi=x(36520),Bl=x(55872).Buffer;class Ul extends Xs{constructor(t){super(t);O(this,"signer");O(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Yi.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(t){const n=await this.getProvider(),i=await n.getTransaction(t,{commitment:"confirmed"});if(!i)throw new Error("Confirmed tx not found");const s=await n.getSlot("confirmed");if(!i.meta)throw new Error(`Unable to resolve transaction ${t}`);const a=new y.Z(i.meta.postBalances[1]).minus(new y.Z(i.meta.preBalances[1]));return{from:i.transaction.message.accountKeys[0].toBase58(),to:i.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new y.Z(i.slot),pending:!1,confirmed:s-i.slot>=1}}ownerToAddress(t){return typeof t=="string"&&(t=Bl.from(t)),Zi.encode(t)}async sign(t){return await(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Fs(this.wallet)),this.signer}verify(t,n,i){return Fs.verify(t,n,i)}async getCurrentHeight(){return new y.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(t,n){return new y.Z(5e3)}async sendTx(t){return await this.wallet.sendTransaction(t,await this.getProvider(),{skipPreflight:!0})}async createTx(t,n,i){const s=new Yi.PublicKey(await this.getPublicKey()),a=await S(async d=>{var m;try{return await(await this.getProvider()).getRecentBlockhash()}catch(T){throw(m=T.message)!=null&&m.includes("blockhash")?T:(d(T),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new Yi.Transaction({recentBlockhash:a.blockhash,feePayer:s});return o.add(Yi.SystemProgram.transfer({fromPubkey:s,toPubkey:new Yi.PublicKey(n),lamports:+new y.Z(t).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const Qi="abi/5.7.0",Uo=new we(Qi);function Ol(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{t(a,i[s])}catch(o){e.push({path:a,error:o})}}};return t([],r),e}class yn{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Uo.throwArgumentError(e,this.localName,t)}}class Oo{constructor(e){ge(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ar(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Ft(e._data))}writeBytes(e){let t=Se(e);const n=t.length%this.wordSize;return n&&(t=Ft([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=Se(ze.from(e));return t.length>this.wordSize&&Uo.throwError("value out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Ft([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Ys{constructor(e,t,n,i){ge(this,"_data",Se(e)),ge(this,"wordSize",t||32),ge(this,"_coerceFunc",n),ge(this,"allowLoose",i),this._offset=0}get data(){return Oe(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Ys.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Uo.throwError("data out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ys(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return ze.from(this.readBytes(this.wordSize))}}class Nl extends yn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Ut(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Ut(kt(e.readValue().toHexString(),20))}}class Ml extends yn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const yi=new we(Qi);function Du(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let d={};n=e.map(m=>{const T=m.localName;return T||yi.throwError("cannot encode object for signature with missing names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:m,value:t}),d[T]&&yi.throwError("cannot encode object for signature with duplicate names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:m,value:t}),d[T]=!0,t[T]})}else yi.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&yi.throwArgumentError("types/value length mismatch","tuple",t);let i=new Oo(r.wordSize),s=new Oo(r.wordSize),a=[];e.forEach((d,m)=>{let T=n[m];if(d.dynamic){let C=s.length;d.encode(s,T);let L=i.writeUpdatableValue();a.push(V=>{L(V+C)})}else d.encode(i,T)}),a.forEach(d=>{d(i.length)});let o=r.appendWriter(i);return o+=r.appendWriter(s),o}function Lu(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=r.readValue(),d=n.subReader(o.toNumber());try{a=s.decode(d)}catch(m){if(m.code===we.errors.BUFFER_OVERRUN)throw m;a=m,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(o){if(o.code===we.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),t[o]!=null))return;const d=t[a];d instanceof Error?Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw d}}):t[o]=d});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class Dl extends yn{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),yi.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return Du(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&yi.throwError("insufficient data length",we.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new Ml(this.coder));return e.coerce(this.name,Lu(e,n))}}class Ll extends yn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Hu extends yn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Se(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Hl extends Hu{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Oe(super.decode(e)))}}class Fl extends yn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=Se(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Oe(e.readBytes(this.size)))}}class Kl extends yn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const zl=ze.from(-1),$l=ze.from(0),ql=ze.from(1),ag=null,og=null,jl=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cg=null,ug=null;class Gl extends yn{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=ze.from(t),i=jl.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(ql).mul(zl)))&&this._throwError("value out-of-bounds",t)}else(n.lt($l)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}class Wl extends Hu{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Wr(t))}decode(e){return H0(super.decode(e))}}class Qs extends yn{constructor(e,t){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return Du(e,this.coders,t)}decode(e){return e.coerce(this.name,Lu(e,this.coders))}}const lt=new we(Qi),Jn={};let Fu={calldata:!0,memory:!0,storage:!0},Vl={calldata:!0,memory:!0};function ea(r,e){if(r==="bytes"||r==="string"){if(Fu[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&Vl[e])return!0;return(Fu[e]||e==="payable")&&lt.throwArgumentError("invalid modifier","name",e),!1}function Jl(r,e){let t=r;function n(o){lt.throwArgumentError(`unexpected character at position ${o}`,"param",r)}r=r.replace(/\s/g," ");function i(o){let d={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(d.indexed=!1),d}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<r.length;o++){let d=r[o];switch(d){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=bi(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),ea(a.type,a.name)&&(a.name=""),a.type=bi(a.type);let m=a;a=a.parent,a||n(o),delete m.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),ea(a.type,a.name)&&(a.name=""),a.type=bi(a.type);let T=i(a.parent);a.parent.components.push(T),delete a.parent,a=T;break;case" ":a.state.allowType&&a.type!==""&&(a.type=bi(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):ea(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=d,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=d,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=d,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=d,delete a.state.allowArray):a.state.readArray?a.type+=d:n(o)}}return a.parent&&lt.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):ea(a.type,a.name)&&(a.name=""),s.type=bi(s.type),s}function ta(r,e){for(let t in e)ge(r,t,e[t])}const pt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Xl=new RegExp(/^(.*)\[([0-9]*)\]$/);class Yt{constructor(e,t){e!==Jn&&lt.throwError("use fromString",we.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ta(this,t);let n=this.type.match(Xl);n?ta(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Yt.fromObject({type:n[1],components:this.components}),baseType:"array"}):ta(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=pt.sighash),pt[e]||lt.throwArgumentError("invalid format type","format",e),e===pt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==pt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===pt.full?", ":",")+")"):t+=this.type,e!==pt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===pt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Yt.fromString(e,t):Yt.fromObject(e)}static fromObject(e){return Yt.isParamType(e)?e:new Yt(Jn,{name:e.name||null,type:bi(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Yt.fromObject):null})}static fromString(e,t){function n(i){return Yt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Jl(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function es(r,e){return Yl(r).map(t=>Yt.fromString(t,e))}class bn{constructor(e,t){e!==Jn&&lt.throwError("use a static from method",we.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ta(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return bn.isFragment(e)?e:typeof e=="string"?bn.fromString(e):bn.fromObject(e)}static fromObject(e){if(bn.isFragment(e))return e;switch(e.type){case"function":return on.fromObject(e);case"event":return gn.fromObject(e);case"constructor":return an.fromObject(e);case"error":return Bn.fromObject(e);case"fallback":case"receive":return null}return lt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?gn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?on.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?an.fromString(e.trim()):e.split(" ")[0]==="error"?Bn.fromString(e.substring(5).trim()):lt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class gn extends bn{format(e){if(e||(e=pt.sighash),pt[e]||lt.throwArgumentError("invalid format type","format",e),e===pt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==pt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pt.full?", ":",")+") ",e!==pt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?gn.fromString(e):gn.fromObject(e)}static fromObject(e){if(gn.isEventFragment(e))return e;e.type!=="event"&&lt.throwArgumentError("invalid event object","value",e);const t={name:ts(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],type:"event"};return new gn(Jn,t)}static fromString(e){let t=e.match(rs);t||lt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:lt.warn("unknown modifier: "+i)}}),gn.fromObject({name:t[1].trim(),anonymous:n,inputs:es(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Ku(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&lt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||lt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=ze.from(t[1]),t[0]):r}function zu(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function $u(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&lt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&lt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&lt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&lt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&lt.throwArgumentError("unable to determine stateMutability","value",r),e}class an extends bn{format(e){if(e||(e=pt.sighash),pt[e]||lt.throwArgumentError("invalid format type","format",e),e===pt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===pt.sighash&&lt.throwError("cannot format a constructor for sighash",we.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===pt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?an.fromString(e):an.fromObject(e)}static fromObject(e){if(an.isConstructorFragment(e))return e;e.type!=="constructor"&&lt.throwArgumentError("invalid constructor object","value",e);let t=$u(e);t.constant&&lt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ze.from(e.gas):null};return new an(Jn,n)}static fromString(e){let t={type:"constructor"};e=Ku(e,t);let n=e.match(rs);return(!n||n[1].trim()!=="constructor")&&lt.throwArgumentError("invalid constructor string","value",e),t.inputs=es(n[2].trim(),!1),zu(n[3].trim(),t),an.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class on extends an{format(e){if(e||(e=pt.sighash),pt[e]||lt.throwArgumentError("invalid format type","format",e),e===pt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==pt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pt.full?", ":",")+") ",e!==pt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?on.fromString(e):on.fromObject(e)}static fromObject(e){if(on.isFunctionFragment(e))return e;e.type!=="function"&&lt.throwArgumentError("invalid function object","value",e);let t=$u(e);const n={type:e.type,name:ts(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Yt.fromObject):[],outputs:e.outputs?e.outputs.map(Yt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ze.from(e.gas):null};return new on(Jn,n)}static fromString(e){let t={type:"function"};e=Ku(e,t);let n=e.split(" returns ");n.length>2&&lt.throwArgumentError("invalid function string","value",e);let i=n[0].match(rs);if(i||lt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&ts(t.name),t.inputs=es(i[2],!1),zu(i[3].trim(),t),n.length>1){let s=n[1].match(rs);(s[1].trim()!=""||s[3].trim()!="")&&lt.throwArgumentError("unexpected tokens","value",e),t.outputs=es(s[2],!1)}else t.outputs=[];return on.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function qu(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&lt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Bn extends bn{format(e){if(e||(e=pt.sighash),pt[e]||lt.throwArgumentError("invalid format type","format",e),e===pt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==pt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Bn.fromString(e):Bn.fromObject(e)}static fromObject(e){if(Bn.isErrorFragment(e))return e;e.type!=="error"&&lt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:ts(e.name),inputs:e.inputs?e.inputs.map(Yt.fromObject):[]};return qu(new Bn(Jn,t))}static fromString(e){let t={type:"error"},n=e.match(rs);return n||lt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&ts(t.name),t.inputs=es(n[2],!1),qu(Bn.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function bi(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const Zl=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ts(r){return(!r||!r.match(Zl))&&lt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const rs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Yl(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&lt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const ra=new we(Qi),Ql=new RegExp(/^bytes([0-9]*)$/),eh=new RegExp(/^(u?int)([0-9]*)$/);class th{constructor(e){ge(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Nl(e.name);case"bool":return new Ll(e.name);case"string":return new Wl(e.name);case"bytes":return new Hl(e.name);case"array":return new Dl(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Qs((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Kl(e.name)}let t=e.type.match(eh);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&ra.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Gl(n/8,t[1]==="int",e.name)}if(t=e.type.match(Ql),t){let n=parseInt(t[1]);return(n===0||n>32)&&ra.throwArgumentError("invalid bytes length","param",e),new Fl(n,e.name)}return ra.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Ys(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Oo(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Yt.from(i)));return new Qs(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ra.throwError("types/values length mismatch",we.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(Yt.from(a))),i=new Qs(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>this._getCoder(Yt.from(a)));return new Qs(i,"_").decode(this._getReader(Se(t),n))}}const rh=new th,Nt=new we(Qi);class nh extends ci{}class ih extends ci{}class sh extends ci{}class No extends ci{static isIndexed(e){return!!(e&&e._isIndexed)}}const ah={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ju(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Gu{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ge(this,"fragments",t.map(n=>bn.from(n)).filter(n=>n!=null)),ge(this,"_abiCoder",Mi(new.target,"getAbiCoder")()),ge(this,"functions",{}),ge(this,"errors",{}),ge(this,"events",{}),ge(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Nt.warn("duplicate definition - constructor");return}ge(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Nt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ge(this,"deploy",an.from({payable:!1,type:"constructor"})),ge(this,"_isInterface",!0)}format(e){e||(e=pt.full),e===pt.sighash&&Nt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===pt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return rh}static getAddress(e){return Ut(e)}static getSighash(e){return xr(Wn(e.format()),0,4)}static getEventTopic(e){return Wn(e.format())}getFunction(e){if(St(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Nt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Nt.throwArgumentError("no matching function","name",n):i.length>1&&Nt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[on.fromString(e).format()];return t||Nt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(St(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Nt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Nt.throwArgumentError("no matching event","name",n):i.length>1&&Nt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[gn.fromString(e).format()];return t||Nt.throwArgumentError("no matching event","signature",e),t}getError(e){if(St(e)){const n=Mi(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Nt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Nt.throwArgumentError("no matching error","name",n):i.length>1&&Nt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[on.fromString(e).format()];return t||Nt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Mi(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Mi(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=Se(t);return Oe(n.slice(0,4))!==this.getSighash(e)&&Nt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Oe(Ft([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=Se(t);return Oe(n.slice(0,4))!==this.getSighash(e)&&Nt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Oe(Ft([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=Se(t),i=null,s="",a=null,o=null,d=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const m=Oe(n.slice(0,4)),T=ah[m];if(T)a=this._abiCoder.decode(T.inputs,n.slice(4)),o=T.name,d=T.signature,T.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const C=this.getError(m);a=this._abiCoder.decode(C.inputs,n.slice(4)),o=C.name,d=C.format()}catch{}break}}return Nt.throwError("call revert exception"+s,we.errors.CALL_EXCEPTION,{method:e.format(),data:Oe(t),errorArgs:a,errorName:o,errorSignature:d,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Oe(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Nt.throwError("too many arguments for "+e.format(),we.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?Wn(a):s.type==="bytes"?Xt(Oe(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=ze.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),kt(Oe(a),32));for(t.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&Nt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Nt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(d=>i(o,d))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Nt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const d=t[o];if(a.indexed)if(a.type==="string")n.push(Wn(d));else if(a.type==="bytes")n.push(Xt(d));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[d]))}else i.push(a),s.push(d)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let L=this.getEventTopic(e);(!St(n[0],32)||n[0].toLowerCase()!==L)&&Nt.throwError("fragment/topic mismatch",we.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:L,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((L,V)=>{L.indexed?L.type==="string"||L.type==="bytes"||L.baseType==="tuple"||L.baseType==="array"?(i.push(Yt.fromObject({type:"bytes32",name:L.name})),a.push(!0)):(i.push(L),a.push(!1)):(s.push(L),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,Ft(n)):null,d=this._abiCoder.decode(s,t,!0),m=[],T=0,C=0;e.inputs.forEach((L,V)=>{if(L.indexed)if(o==null)m[V]=new No({_isIndexed:!0,hash:null});else if(a[V])m[V]=new No({_isIndexed:!0,hash:o[C++]});else try{m[V]=o[C++]}catch(ie){m[V]=ie}else try{m[V]=d[T++]}catch(ie){m[V]=ie}if(L.name&&m[L.name]==null){const ie=m[V];ie instanceof Error?Object.defineProperty(m,L.name,{enumerable:!0,get:()=>{throw ju(`property ${JSON.stringify(L.name)}`,ie)}}):m[L.name]=ie}});for(let L=0;L<m.length;L++){const V=m[L];V instanceof Error&&Object.defineProperty(m,L,{enumerable:!0,get:()=>{throw ju(`index ${L}`,V)}})}return Object.freeze(m)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ih({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:ze.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new nh({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Oe(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new sh({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const oh="contracts/5.7.0";var Un=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{m(n.next(T))}catch(C){a(C)}}function d(T){try{m(n.throw(T))}catch(C){a(C)}}function m(T){T.done?s(T.value):i(T.value).then(o,d)}m((n=n.apply(r,e||[])).next())})};const _t=new we(oh),ch={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function na(r,e){return Un(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&_t.throwArgumentError("invalid address or ENS name","name",t);try{return Ut(t)}catch{}r||_t.throwError("a provider or signer is needed to resolve ENS names",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&_t.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function ns(r,e,t){return Un(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>ns(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield na(r,e):t.type==="tuple"?yield ns(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>ns(r,n,t.arrayChildren))):Promise.reject(_t.makeError("invalid value for array",we.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function ia(r,e,t){return Un(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Rn(t.pop())),_t.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=pn({override:na(r.signer,n.from),signer:r.signer.getAddress()}).then(m=>Un(this,void 0,void 0,function*(){return Ut(m.signer)!==m.override&&_t.throwError("Contract with a Signer cannot override from",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),m.override})):n.from=r.signer.getAddress():n.from&&(n.from=na(r.provider,n.from));const i=yield pn({args:ns(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:pn(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=ze.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=ze.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=ze.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=ze.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=ze.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Cs(o.accessList)),a.gasLimit==null&&e.gas!=null){let m=21e3;const T=Se(s);for(let C=0;C<T.length;C++)m+=4,T[C]&&(m+=64);a.gasLimit=ze.from(e.gas).add(m)}if(o.value){const m=ze.from(o.value);!m.isZero()&&!e.payable&&_t.throwError("non-payable method cannot override value",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=m}o.customData&&(a.customData=Rn(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const d=Object.keys(n).filter(m=>n[m]!=null);return d.length&&_t.throwError(`cannot override ${d.map(m=>JSON.stringify(m)).join(",")}`,we.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),a})}function uh(r,e){return function(...t){return ia(r,e,t)}}function fh(r,e){const t=r.signer||r.provider;return function(...n){return Un(this,void 0,void 0,function*(){t||_t.throwError("estimate require a provider or signer",we.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ia(r,e,n);return yield t.estimateGas(i)})}}function Wu(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let a=oi(s),o=null;try{o=r.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(d,m)=>r.interface.decodeEventLog(o.eventFragment,d,m),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(i.blockHash),a.getTransaction=()=>r.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function Vu(r,e,t){const n=r.signer||r.provider;return function(...i){return Un(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const d=Rn(i.pop());d.blockTag!=null&&(s=yield d.blockTag),delete d.blockTag,i.push(d)}r.deployTransaction!=null&&(yield r._deployed(s));const a=yield ia(r,e,i),o=yield n.call(a,s);try{let d=r.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(d=d[0]),d}catch(d){throw d.code===we.errors.CALL_EXCEPTION&&(d.address=r.address,d.args=i,d.transaction=a),d}})}}function dh(r,e){return function(...t){return Un(this,void 0,void 0,function*(){r.signer||_t.throwError("sending a transaction requires a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield ia(r,e,t),i=yield r.signer.sendTransaction(n);return Wu(r,i),i})}}function Ju(r,e,t){return e.constant?Vu(r,e,t):dh(r,e)}function Xu(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class is{constructor(e,t){ge(this,"tag",e),ge(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class lh extends is{constructor(){super("error",null)}}class Zu extends is{constructor(e,t,n,i){const s={address:e};let a=t.getEventTopic(n);i?(a!==i[0]&&_t.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(Xu(s),s),ge(this,"address",e),ge(this,"interface",t),ge(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Ol(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Yu extends is{constructor(e,t){super("*",{address:e}),ge(this,"address",e),ge(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class hh{constructor(e,t,n){ge(this,"interface",Mi(new.target,"getInterface")(t)),n==null?(ge(this,"provider",null),ge(this,"signer",null)):Hi.isSigner(n)?(ge(this,"provider",n.provider||null),ge(this,"signer",n)):Is.isProvider(n)?(ge(this,"provider",n),ge(this,"signer",null)):_t.throwArgumentError("invalid signer or provider","signerOrProvider",n),ge(this,"callStatic",{}),ge(this,"estimateGas",{}),ge(this,"functions",{}),ge(this,"populateTransaction",{}),ge(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const d=this.interface.events[o];ge(this.filters,o,(...m)=>({address:this.address,topics:this.interface.encodeFilterTopics(d,m)})),a[d.name]||(a[d.name]=[]),a[d.name].push(o)}),Object.keys(a).forEach(o=>{const d=a[o];d.length===1?ge(this.filters,o,this.filters[d[0]]):_t.warn(`Duplicate definition of ${o} (${d.join(", ")})`)})}if(ge(this,"_runningEvents",{}),ge(this,"_wrappedEmits",{}),e==null&&_t.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ge(this,"address",e),this.provider)ge(this,"resolvedAddress",na(this.provider,e));else try{ge(this,"resolvedAddress",Promise.resolve(Ut(e)))}catch{_t.throwError("provider is required to use ENS name as contract address",we.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){_t.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const d=o.name;i[`%${d}`]||(i[`%${d}`]=[]),i[`%${d}`].push(a)}this[a]==null&&ge(this,a,Ju(this,o,!0)),this.functions[a]==null&&ge(this.functions,a,Ju(this,o,!1)),this.callStatic[a]==null&&ge(this.callStatic,a,Vu(this,o,!0)),this.populateTransaction[a]==null&&ge(this.populateTransaction,a,uh(this,o)),this.estimateGas[a]==null&&ge(this.estimateGas,a,fh(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const d=o[0];try{this[a]==null&&ge(this,a,this[d])}catch{}this.functions[a]==null&&ge(this.functions,a,this.functions[d]),this.callStatic[a]==null&&ge(this.callStatic,a,this.callStatic[d]),this.populateTransaction[a]==null&&ge(this.populateTransaction,a,this.populateTransaction[d]),this.estimateGas[a]==null&&ge(this.estimateGas,a,this.estimateGas[d])})}static getContractAddress(e){return cd(e)}static getInterface(e){return Gu.isInterface(e)?e:new Gu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&_t.throwError("contract not deployed",we.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||_t.throwError("sending a transactions require a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Rn(e||{});return["from","to"].forEach(function(n){t[n]!=null&&_t.throwError("cannot override "+n,we.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new no(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ge(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return No.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new lh);if(e==="event")return this._normalizeRunningEvent(new is("event",null));if(e==="*")return this._normalizeRunningEvent(new Yu(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Zu(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Zu(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new is(Xu(t),t))}return this._normalizeRunningEvent(new Yu(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=oi(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||_t.throwError("events require a provider or a signer with a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,t);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Rn(i.filter);return typeof t=="string"&&St(t,32)?(n!=null&&_t.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Mo extends hh{}class fg{constructor(e,t,n){let i=null;typeof t=="string"?i=t:isBytes(t)?i=hexlify(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!isHexString(i)||i.length%2)&&_t.throwArgumentError("invalid bytecode","bytecode",t),n&&!Signer.isSigner(n)&&_t.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=shallowCopy(e.pop());for(const n in t)if(!ch[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&_t.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!BigNumber.from(t.value).isZero()&&!this.interface.deploy.payable&&_t.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),_t.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Un(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),_t.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield ns(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=getStatic(this.constructor,"getContractAddress")(s),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Wu(o,s),defineReadOnly(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&_t.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return Mo.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,t,n){return new Mo(e,t,n)}}class xh extends Zs{constructor(t){super(t);O(this,"contractInstance");O(this,"contractAddress");this.contractAddress=t.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Mo(this.contractAddress,ph,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(t){const n=await this.providerInstance.getTransaction(t);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const i=`0x${n.data.slice(34,74)}`,s=new y.Z(n.data.slice(74),16);return{from:n.from,to:i,blockHeight:n.blockNumber?new y.Z(n.blockNumber):void 0,amount:s,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(t,n){const i="0x"+new y.Z(t).toString(16),s=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await s.estimateGas.transfer(n,i),d=new y.Z(a.mul(o).toString()),[m]=await this.getGas(),T=m.multipliedBy(d),C=new y.Z(await this.price());return new y.Z(T).dividedToIntegerBy(C)}async createTx(t,n,i){const s=await this.getContract(),a="0x"+new y.Z(t).toString(16),o=await s.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await s.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new y.Z(await Mu("ETH")),1e18]}}const ph=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var sa=x(15711),yh=x(98316);const dg={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const lg=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength),bh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Do=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),hg=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const gh=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Qu(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=gh[r[t]];return e}function ef(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}const mh=async()=>{};async function pg(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);const s=Date.now()-n;s>=0&&s<e||(await mh(),n+=s)}}function wh(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function ss(r){if(typeof r=="string"&&(r=wh(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}function yg(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}class Lo{clone(){return this._cloneInto()}}const vh=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function bg(r,e){if(e!==void 0&&(typeof e!="object"||!vh(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}function aa(r){const e=n=>r().update(ss(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Eh(r){const e=(n,i)=>r(i).update(ss(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function gg(r=32){if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(r));if(crypto.node)return new Uint8Array(crypto.node.randomBytes(r).buffer);throw new Error("The environment doesn't have randomBytes function")}function Ho(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Sh(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function tf(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function _h(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ho(r.outputLen),Ho(r.blockLen)}function Ah(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Th(r,e){tf(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var Ir={number:Ho,bool:Sh,bytes:tf,hash:_h,exists:Ah,output:Th};const oa=BigInt(2**32-1),Fo=BigInt(32);function rf(r,e=!1){return e?{h:Number(r&oa),l:Number(r>>Fo&oa)}:{h:Number(r>>Fo&oa)|0,l:Number(r&oa)|0}}function Ph(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=rf(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const Rh=(r,e)=>BigInt(r>>>0)<<Fo|BigInt(e>>>0),kh=(r,e,t)=>r>>>t,Ch=(r,e,t)=>r<<32-t|e>>>t,Ih=(r,e,t)=>r>>>t|e<<32-t,Bh=(r,e,t)=>r<<32-t|e>>>t,Uh=(r,e,t)=>r<<64-t|e>>>t-32,Oh=(r,e,t)=>r>>>t-32|e<<64-t,Nh=(r,e)=>e,Mh=(r,e)=>r,Dh=(r,e,t)=>r<<t|e>>>32-t,Lh=(r,e,t)=>e<<t|r>>>32-t,Hh=(r,e,t)=>e<<t-32|r>>>64-t,Fh=(r,e,t)=>r<<t-32|e>>>64-t;function Kh(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}var tt={fromBig:rf,split:Ph,toBig:Rh,shrSH:kh,shrSL:Ch,rotrSH:Ih,rotrSL:Bh,rotrBH:Uh,rotrBL:Oh,rotr32H:Nh,rotr32L:Mh,rotlSH:Dh,rotlSL:Lh,rotlBH:Hh,rotlBL:Fh,add:Kh,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,add5H:(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,add5L:(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0)};const[nf,sf,af]=[[],[],[]],zh=BigInt(0),as=BigInt(1),$h=BigInt(2),qh=BigInt(7),jh=BigInt(256),Gh=BigInt(113);for(let r=0,e=as,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],nf.push(2*(5*n+t)),sf.push((r+1)*(r+2)/2%64);let i=zh;for(let s=0;s<7;s++)e=(e<<as^(e>>qh)*Gh)%jh,e&$h&&(i^=as<<(as<<BigInt(s))-as);af.push(i)}const[Wh,Vh]=tt.split(af,!0),of=(r,e,t)=>t>32?tt.rotlBH(r,e,t):tt.rotlSH(r,e,t),cf=(r,e,t)=>t>32?tt.rotlBL(r,e,t):tt.rotlSL(r,e,t);function Jh(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,d=(a+2)%10,m=t[d],T=t[d+1],C=of(m,T,1)^t[o],L=cf(m,T,1)^t[o+1];for(let V=0;V<50;V+=10)r[a+V]^=C,r[a+V+1]^=L}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=sf[a],d=of(i,s,o),m=cf(i,s,o),T=nf[a];i=r[T],s=r[T+1],r[T]=d,r[T+1]=m}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=Wh[n],r[1]^=Vh[n]}t.fill(0)}class ca extends Lo{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ir.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bh(this.state)}keccak(){Jh(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ir.exists(this);const{blockLen:t,state:n}=this;e=ss(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ir.exists(this,!1),Ir.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ir.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ir.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new ca(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const On=(r,e,t)=>aa(()=>new ca(e,r,t)),Pg=On(6,144,224/8),gi=On(6,136,256/8),Rg=On(6,104,384/8),kg=On(6,72,512/8),Cg=On(1,144,224/8),Ig=On(1,136,256/8),Bg=On(1,104,384/8),Ug=On(1,72,512/8),uf=(r,e,t)=>Eh((n={})=>new ca(e,r,n.dkLen===void 0?t:n.dkLen,!0)),Og=uf(31,168,128/8),Ng=uf(31,136,256/8);class ff extends Lo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ir.hash(e);const n=ss(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ir.exists(this),this.iHash.update(e),this}digestInto(e){Ir.exists(this),Ir.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ko=(r,e,t)=>new ff(r,e).update(t).digest();Ko.create=(r,e)=>new ff(r,e);function Xh(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s),d=n?4:0,m=n?0:4;r.setUint32(e+d,a,n),r.setUint32(e+m,o,n)}class Zh extends Lo{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Do(this.buffer)}update(e){Ir.exists(this);const{view:t,buffer:n,blockLen:i}=this;e=ss(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const d=Do(e);for(;i<=s-a;a+=i)this.process(d,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ir.exists(this),Ir.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)t[d]=0;Xh(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=Do(e);this.get().forEach((d,m)=>o.setUint32(4*m,d,s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(n),e}}const[Yh,Qh]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Nn=new Uint32Array(80),Mn=new Uint32Array(80);class zo extends Zh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:d,Eh:m,El:T,Fh:C,Fl:L,Gh:V,Gl:ie,Hh:ce,Hl:be}=this;return[e,t,n,i,s,a,o,d,m,T,C,L,V,ie,ce,be]}set(e,t,n,i,s,a,o,d,m,T,C,L,V,ie,ce,be){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=d|0,this.Eh=m|0,this.El=T|0,this.Fh=C|0,this.Fl=L|0,this.Gh=V|0,this.Gl=ie|0,this.Hh=ce|0,this.Hl=be|0}process(e,t){for(let We=0;We<16;We++,t+=4)Nn[We]=e.getUint32(t),Mn[We]=e.getUint32(t+=4);for(let We=16;We<80;We++){const wt=Nn[We-15]|0,ht=Mn[We-15]|0,Gt=tt.rotrSH(wt,ht,1)^tt.rotrSH(wt,ht,8)^tt.shrSH(wt,ht,7),er=tt.rotrSL(wt,ht,1)^tt.rotrSL(wt,ht,8)^tt.shrSL(wt,ht,7),yt=Nn[We-2]|0,Lt=Mn[We-2]|0,gr=tt.rotrSH(yt,Lt,19)^tt.rotrBH(yt,Lt,61)^tt.shrSH(yt,Lt,6),Pt=tt.rotrSL(yt,Lt,19)^tt.rotrBL(yt,Lt,61)^tt.shrSL(yt,Lt,6),fn=tt.add4L(er,Pt,Mn[We-7],Mn[We-16]),Ze=tt.add4H(fn,Gt,gr,Nn[We-7],Nn[We-16]);Nn[We]=Ze|0,Mn[We]=fn|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:d,Dh:m,Dl:T,Eh:C,El:L,Fh:V,Fl:ie,Gh:ce,Gl:be,Hh:De,Hl:rt}=this;for(let We=0;We<80;We++){const wt=tt.rotrSH(C,L,14)^tt.rotrSH(C,L,18)^tt.rotrBH(C,L,41),ht=tt.rotrSL(C,L,14)^tt.rotrSL(C,L,18)^tt.rotrBL(C,L,41),Gt=C&V^~C&ce,er=L&ie^~L&be,yt=tt.add5L(rt,ht,er,Qh[We],Mn[We]),Lt=tt.add5H(yt,De,wt,Gt,Yh[We],Nn[We]),gr=yt|0,Pt=tt.rotrSH(n,i,28)^tt.rotrBH(n,i,34)^tt.rotrBH(n,i,39),fn=tt.rotrSL(n,i,28)^tt.rotrBL(n,i,34)^tt.rotrBL(n,i,39),Ze=n&s^n&o^s&o,Rt=i&a^i&d^a&d;De=ce|0,rt=be|0,ce=V|0,be=ie|0,V=C|0,ie=L|0,{h:C,l:L}=tt.add(m|0,T|0,Lt|0,gr|0),m=o|0,T=d|0,o=s|0,d=a|0,s=n|0,a=i|0;const lr=tt.add3L(gr,fn,Rt);n=tt.add3H(lr,Lt,Pt,Ze),i=lr|0}({h:n,l:i}=tt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=tt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:d}=tt.add(this.Ch|0,this.Cl|0,o|0,d|0),{h:m,l:T}=tt.add(this.Dh|0,this.Dl|0,m|0,T|0),{h:C,l:L}=tt.add(this.Eh|0,this.El|0,C|0,L|0),{h:V,l:ie}=tt.add(this.Fh|0,this.Fl|0,V|0,ie|0),{h:ce,l:be}=tt.add(this.Gh|0,this.Gl|0,ce|0,be|0),{h:De,l:rt}=tt.add(this.Hh|0,this.Hl|0,De|0,rt|0),this.set(n,i,s,a,o,d,m,T,C,L,V,ie,ce,be,De,rt)}roundClean(){Nn.fill(0),Mn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ex extends zo{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class tx extends zo{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const df=aa(()=>new zo),Mg=aa(()=>new ex),Dg=aa(()=>new tx);var os=x(37833),lf=x(36243),hf=Object.defineProperty,rx=Object.getOwnPropertyDescriptor,ua=(r,e)=>{for(var t in e)hf(r,t,{get:e[t],enumerable:!0})},gt=(r,e,t,n)=>{for(var i=n>1?void 0:n?rx(e,t):e,s=r.length-1,a;s>=0;s--)(a=r[s])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&hf(e,t,i),i},nx=/^m(\/[0-9]+')+$/,xf=r=>r.replace("'",""),ix="ed25519 seed",sx=2147483648,ax=r=>{const t=Ko.create(df,ix).update(ef(r)).digest(),n=t.slice(0,32),i=t.slice(32);return{key:n,chainCode:i}},ox=({key:r,chainCode:e},t)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t);const i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...r,...i]),o=Ko.create(df,e).update(a).digest(),d=o.slice(0,32),m=o.slice(32);return{key:d,chainCode:m}},cx=r=>nx.test(r)?!r.split("/").slice(1).map(xf).some(Number.isNaN):!1,ux=(r,e,t=sx)=>{if(!cx(r))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=ax(e);return r.split("/").slice(1).map(xf).map(a=>parseInt(a,10)).reduce((a,o)=>ox(a,o+t),{key:n,chainCode:i})};async function fx(r){return new Promise(e=>{setTimeout(e,r)})}var pf="/v1";function dx(r){let e=`${r}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(pf)||(e=`${e}${pf}`),e}var yf=2e5,bf=20,gf=20,$o="0x1::aptos_coin::AptosCoin";function fa(r){let e,t,n;return typeof r=="object"?(e=r.hashFunction,t=r.ttlMs,n=r.tags):e=r,(i,s,a)=>{if(a.value!=null)a.value=mf(a.value,e,t,n);else if(a.get!=null)a.get=mf(a.get,e,t,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function lx(r,e){return fa({ttlMs:r,hashFunction:e})}var da=new Map;function hx(r){const e=new Set;for(const t of r){const n=da.get(t);if(n)for(const i of n)e.has(i)||(i.clear(),e.add(i))}return e.size}function mf(r,e,t=0,n){const i=Symbol("__memoized_map__");return function(...s){let a;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const d=o[i];if(Array.isArray(n))for(const m of n)da.has(m)?da.get(m).push(d):da.set(m,[d]);if(e||s.length>0||t>0){let m;e===!0?m=s.map(L=>L.toString()).join("!"):e?m=e.apply(o,s):m=s[0];const T=`${m}__timestamp`;let C=!1;if(t>0)if(!d.has(T))C=!0;else{const L=d.get(T);C=Date.now()-L>t}d.has(m)&&!C?a=d.get(m):(a=r.apply(o,s),d.set(m,a),t>0&&d.set(T,Date.now()))}else{const m=o;d.has(m)?a=d.get(m):(a=r.apply(o,s),d.set(m,a))}return a}}var He=class{static fromBuffer(r){return He.fromUint8Array(r)}static fromUint8Array(r){return new He(Qu(r))}static ensure(r){return typeof r=="string"?new He(r):r}constructor(r){r.startsWith("0x")?this.hexString=r:this.hexString=`0x${r}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(ef(this.noPrefix()))}};async function wf(r,e,t,n){var i;const s=[];let a;for(;;){const o=await r(He.ensure(e).hex(),(i=n==null?void 0:n.ledgerVersion)==null?void 0:i.toString(),a,t);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,s.push(...o),a==null)break}return s}var xx={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},px={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},yx=(r=>(r.MAINNET="mainnet",r.TESTNET="testnet",r.DEVNET="devnet",r))(yx||{}),mt={};ua(mt,{AccountAddress:()=>Dt,AccountAuthenticator:()=>ls,AccountAuthenticatorEd25519:()=>Vo,AccountAuthenticatorMultiEd25519:()=>Jo,ArgumentABI:()=>ys,AuthenticationKey:()=>ii,ChainId:()=>va,ChangeSet:()=>Bx,Ed25519PublicKey:()=>$r,Ed25519Signature:()=>cn,EntryFunction:()=>ri,EntryFunctionABI:()=>Pi,Identifier:()=>br,Module:()=>Tf,ModuleId:()=>ni,MultiAgentRawTransaction:()=>ga,MultiEd25519PublicKey:()=>us,MultiEd25519Signature:()=>xa,MultiSig:()=>Yo,MultiSigTransactionPayload:()=>Zo,RawTransaction:()=>Ti,RawTransactionWithData:()=>Pf,RotationProofChallenge:()=>Ox,Script:()=>ba,ScriptABI:()=>Ia,SignedTransaction:()=>hs,StructTag:()=>ti,Transaction:()=>Rf,TransactionArgument:()=>Xr,TransactionArgumentAddress:()=>Ra,TransactionArgumentBool:()=>Ca,TransactionArgumentU128:()=>Ta,TransactionArgumentU16:()=>Sa,TransactionArgumentU256:()=>Pa,TransactionArgumentU32:()=>_a,TransactionArgumentU64:()=>Aa,TransactionArgumentU8:()=>Ea,TransactionArgumentU8Vector:()=>ka,TransactionAuthenticator:()=>ds,TransactionAuthenticatorEd25519:()=>pa,TransactionAuthenticatorMultiAgent:()=>Wo,TransactionAuthenticatorMultiEd25519:()=>ya,TransactionPayload:()=>xs,TransactionPayloadEntryFunction:()=>wa,TransactionPayloadMultisig:()=>Qo,TransactionPayloadScript:()=>ma,TransactionScriptABI:()=>Ba,TypeArgumentABI:()=>ps,TypeTag:()=>ir,TypeTagAddress:()=>Dn,TypeTagBool:()=>Zn,TypeTagParser:()=>Ai,TypeTagParserError:()=>Af,TypeTagSigner:()=>Xo,TypeTagStruct:()=>ei,TypeTagU128:()=>Qn,TypeTagU16:()=>vi,TypeTagU256:()=>Si,TypeTagU32:()=>Ei,TypeTagU64:()=>Yn,TypeTagU8:()=>wn,TypeTagVector:()=>_i,UserTransaction:()=>ec,WriteSet:()=>Ux,stringStructTag:()=>Ef});var bx={};ua(bx,{Deserializer:()=>qo,Serializer:()=>Mt,bcsSerializeBool:()=>Tx,bcsSerializeBytes:()=>wi,bcsSerializeFixedBytes:()=>Rx,bcsSerializeStr:()=>Px,bcsSerializeU128:()=>Ax,bcsSerializeU16:()=>Sx,bcsSerializeU32:()=>_x,bcsSerializeU8:()=>jo,bcsSerializeUint64:()=>Ex,bcsToBytes:()=>mn,deserializeVector:()=>Kr,serializeVector:()=>Br,serializeVectorWithFunc:()=>vx});var gx=2**8-1,mx=2**16-1,cs=2**32-1,mi=BigInt(2**64)-BigInt(1),vf=BigInt(2**128)-BigInt(1),wx=BigInt(2**256)-BigInt(1),Mt=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(r){for(;this.buffer.byteLength<this.offset+r;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(r){this.ensureBufferWillHandleSize(r.length),new Uint8Array(this.buffer,this.offset).set(r),this.offset+=r.length}serializeWithFunction(r,e,t){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);r.apply(n,[0,t,!0]),this.offset+=e}serializeStr(r){const e=new TextEncoder;this.serializeBytes(e.encode(r))}serializeBytes(r){this.serializeU32AsUleb128(r.length),this.serialize(r)}serializeFixedBytes(r){this.serialize(r)}serializeBool(r){if(typeof r!="boolean")throw new Error("Value needs to be a boolean");const e=r?1:0;this.serialize(new Uint8Array([e]))}serializeU8(r){this.serialize(new Uint8Array([r]))}serializeU16(r){this.serializeWithFunction(DataView.prototype.setUint16,2,r)}serializeU32(r){this.serializeWithFunction(DataView.prototype.setUint32,4,r)}serializeU64(r){const e=BigInt(r.toString())&BigInt(cs),t=BigInt(r.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(t))}serializeU128(r){const e=BigInt(r.toString())&mi,t=BigInt(r.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(t)}serializeU256(r){const e=BigInt(r.toString())&vf,t=BigInt(r.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(t)}serializeU32AsUleb128(r){let e=r;const t=[];for(;e>>>7;)t.push(e&127|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};gt([Xn(0,gx)],Mt.prototype,"serializeU8",1),gt([Xn(0,mx)],Mt.prototype,"serializeU16",1),gt([Xn(0,cs)],Mt.prototype,"serializeU32",1),gt([Xn(BigInt(0),mi)],Mt.prototype,"serializeU64",1),gt([Xn(BigInt(0),vf)],Mt.prototype,"serializeU128",1),gt([Xn(BigInt(0),wx)],Mt.prototype,"serializeU256",1),gt([Xn(0,cs)],Mt.prototype,"serializeU32AsUleb128",1);function Xn(r,e,t){return(n,i,s)=>{const a=s.value;return s.value=function(d){const m=BigInt(d.toString());if(m>BigInt(e.toString())||m<BigInt(r.toString()))throw new Error(t||"Value is out of range");a.apply(this,[d])},s}}var qo=class{constructor(r){this.buffer=new ArrayBuffer(r.length),new Uint8Array(this.buffer).set(r,0),this.offset=0}read(r){if(this.offset+r>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+r);return this.offset+=r,e}deserializeStr(){const r=this.deserializeBytes();return new TextDecoder().decode(r)}deserializeBytes(){const r=this.deserializeUleb128AsU32();return new Uint8Array(this.read(r))}deserializeFixedBytes(r){return new Uint8Array(this.read(r))}deserializeBool(){const r=new Uint8Array(this.read(1))[0];if(r!==1&&r!==0)throw new Error("Invalid boolean value");return r===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const r=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(r))}deserializeU128(){const r=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|r)}deserializeU256(){const r=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|r)}deserializeUleb128AsU32(){let r=BigInt(0),e=0;for(;r<cs;){const t=this.deserializeU8();if(r|=BigInt(t&127)<<BigInt(e),!(t&128))break;e+=7}if(r>cs)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(r)}};function Br(r,e){e.serializeU32AsUleb128(r.length),r.forEach(t=>{t.serialize(e)})}function vx(r,e){const t=new Mt;t.serializeU32AsUleb128(r.length);const n=t[e];return r.forEach(i=>{n.call(t,i)}),t.getBytes()}function Kr(r,e){const t=r.deserializeUleb128AsU32(),n=[];for(let i=0;i<t;i+=1)n.push(e.deserialize(r));return n}function mn(r){const e=new Mt;return r.serialize(e),e.getBytes()}function Ex(r){const e=new Mt;return e.serializeU64(r),e.getBytes()}function jo(r){const e=new Mt;return e.serializeU8(r),e.getBytes()}function Sx(r){const e=new Mt;return e.serializeU16(r),e.getBytes()}function _x(r){const e=new Mt;return e.serializeU32(r),e.getBytes()}function Ax(r){const e=new Mt;return e.serializeU128(r),e.getBytes()}function Tx(r){const e=new Mt;return e.serializeBool(r),e.getBytes()}function Px(r){const e=new Mt;return e.serializeStr(r),e.getBytes()}function wi(r){const e=new Mt;return e.serializeBytes(r),e.getBytes()}function Rx(r){const e=new Mt;return e.serializeFixedBytes(r),e.getBytes()}var zr=class{constructor(r){if(r.length!==zr.LENGTH)throw new Error("Expected address of length 32");this.address=r}static fromHex(r){let e=He.ensure(r);e.noPrefix().length%2!==0&&(e=new He(`0${e.noPrefix()}`));const t=e.toUint8Array();if(t.length>zr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(t.length===zr.LENGTH)return new zr(t);const n=new Uint8Array(zr.LENGTH);return n.set(t,zr.LENGTH-t.length),new zr(n)}static isValid(r){if(r==="")return!1;let e=He.ensure(r);return e.noPrefix().length%2!==0&&(e=new He(`0${e.noPrefix()}`)),e.toUint8Array().length<=zr.LENGTH}toHexString(){return He.fromUint8Array(this.address).hex()}serialize(r){r.serializeFixedBytes(this.address)}static deserialize(r){return new zr(r.deserializeFixedBytes(zr.LENGTH))}},Dt=zr;Dt.LENGTH=32,Dt.CORE_CODE_ADDRESS=zr.fromHex("0x1");var la=class{constructor(r){if(r.length!==la.LENGTH)throw new Error(`Ed25519PublicKey length should be ${la.LENGTH}`);this.value=r}toBytes(){return this.value}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new la(e)}},$r=la;$r.LENGTH=32;var ha=class{constructor(r){if(this.value=r,r.length!==ha.LENGTH)throw new Error(`Ed25519Signature length should be ${ha.LENGTH}`)}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new ha(e)}},cn=ha;cn.LENGTH=64;var Go=32,us=class{constructor(r,e){if(this.public_keys=r,this.threshold=e,e>Go)throw new Error(`"threshold" cannot be larger than ${Go}`)}toBytes(){const r=new Uint8Array(this.public_keys.length*$r.LENGTH+1);return this.public_keys.forEach((e,t)=>{r.set(e.value,t*$r.LENGTH)}),r[this.public_keys.length*$r.LENGTH]=this.threshold,r}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e[e.length-1],n=[];for(let i=0;i<e.length-1;i+=$r.LENGTH){const s=i;n.push(new $r(e.subarray(s,s+$r.LENGTH)))}return new us(n,t)}},fs=class{constructor(r,e){if(this.signatures=r,this.bitmap=e,e.length!==fs.BITMAP_LEN)throw new Error(`"bitmap" length should be ${fs.BITMAP_LEN}`)}toBytes(){const r=new Uint8Array(this.signatures.length*cn.LENGTH+fs.BITMAP_LEN);return this.signatures.forEach((e,t)=>{r.set(e.value,t*cn.LENGTH)}),r.set(this.bitmap,this.signatures.length*cn.LENGTH),r}static createBitmap(r){const t=new Uint8Array([0,0,0,0]),n=new Set;return r.forEach(i=>{if(i>=Go)throw new Error(`Invalid bit value ${i}.`);if(n.has(i))throw new Error("Duplicated bits detected.");n.add(i);const s=Math.floor(i/8);let a=t[s];a|=128>>i%8,t[s]=a}),t}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e.subarray(e.length-4),n=[];for(let i=0;i<e.length-t.length;i+=cn.LENGTH){const s=i;n.push(new cn(e.subarray(s,s+cn.LENGTH)))}return new fs(n,t)}},xa=fs;xa.BITMAP_LEN=4;var ds=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return pa.load(r);case 1:return ya.load(r);case 2:return Wo.load(r);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},pa=class extends ds{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=$r.deserialize(r),t=cn.deserialize(r);return new pa(e,t)}},ya=class extends ds{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=us.deserialize(r),t=xa.deserialize(r);return new ya(e,t)}},Wo=class extends ds{constructor(r,e,t){super(),this.sender=r,this.secondary_signer_addresses=e,this.secondary_signers=t}serialize(r){r.serializeU32AsUleb128(2),this.sender.serialize(r),Br(this.secondary_signer_addresses,r),Br(this.secondary_signers,r)}static load(r){const e=ls.deserialize(r),t=Kr(r,Dt),n=Kr(r,ls);return new Wo(e,t,n)}},ls=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Vo.load(r);case 1:return Jo.load(r);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Vo=class extends ls{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=$r.deserialize(r),t=cn.deserialize(r);return new Vo(e,t)}},Jo=class extends ls{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=us.deserialize(r),t=xa.deserialize(r);return new Jo(e,t)}},br=class{constructor(r){this.value=r}serialize(r){r.serializeStr(this.value)}static deserialize(r){const e=r.deserializeStr();return new br(e)}},ir=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Zn.load(r);case 1:return wn.load(r);case 2:return Yn.load(r);case 3:return Qn.load(r);case 4:return Dn.load(r);case 5:return Xo.load(r);case 6:return _i.load(r);case 7:return ei.load(r);case 8:return vi.load(r);case 9:return Ei.load(r);case 10:return Si.load(r);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Zn=class extends ir{serialize(r){r.serializeU32AsUleb128(0)}static load(r){return new Zn}},wn=class extends ir{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new wn}},vi=class extends ir{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new vi}},Ei=class extends ir{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new Ei}},Yn=class extends ir{serialize(r){r.serializeU32AsUleb128(2)}static load(r){return new Yn}},Qn=class extends ir{serialize(r){r.serializeU32AsUleb128(3)}static load(r){return new Qn}},Si=class extends ir{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new Si}},Dn=class extends ir{serialize(r){r.serializeU32AsUleb128(4)}static load(r){return new Dn}},Xo=class extends ir{serialize(r){r.serializeU32AsUleb128(5)}static load(r){return new Xo}},_i=class extends ir{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),this.value.serialize(r)}static load(r){const e=ir.deserialize(r);return new _i(e)}},ei=class extends ir{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),this.value.serialize(r)}static load(r){const e=ti.deserialize(r);return new ei(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Dt.fromHex("0x1").toHexString()}},ti=class{constructor(r,e,t,n){this.address=r,this.module_name=e,this.name=t,this.type_args=n}static fromString(r){const e=new Ai(r).parseTypeTag();return new ti(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(r){this.address.serialize(r),this.module_name.serialize(r),this.name.serialize(r),Br(this.type_args,r)}static deserialize(r){const e=Dt.deserialize(r),t=br.deserialize(r),n=br.deserialize(r),i=Kr(r,ir);return new ti(e,t,n,i)}},Ef=new ti(Dt.fromHex("0x1"),new br("string"),new br("String"),[]);function Ln(r){throw new Af(r)}function Sf(r){return!!r.match(/\s/)}function _f(r){return!!r.match(/[_A-Za-z0-9]/g)}function kx(r){return!!r.match(/T\d+/g)}function Cx(r,e){const t=r[e];if(t===":"){if(r.slice(e,e+2)==="::")return[["COLON","::"],2];Ln("Unrecognized token.")}else{if(t==="<")return[["LT","<"],1];if(t===">")return[["GT",">"],1];if(t===",")return[["COMMA",","],1];if(Sf(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(Sf(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(_f(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(_f(s))n=`${n}${s}`;else break}return kx(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function Ix(r){let e=0;const t=[];for(;e<r.length;){const[n,i]=Cx(r,e);n[0]!=="SPACE"&&t.push(n),e+=i}return t}var Ai=class{constructor(r,e){this.typeTags=[],this.tokens=Ix(r),this.typeTags=e||[]}consume(r){const e=this.tokens.shift();(!e||e[1]!==r)&&Ln("Invalid type tag.")}parseCommaList(r,e){const t=[];for(this.tokens.length<=0&&Ln("Invalid type tag.");this.tokens[0][1]!==r&&(t.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===r||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===r&&e)));)this.tokens.length<=0&&Ln("Invalid type tag.");return t}parseTypeTag(){this.tokens.length===0&&Ln("Invalid type tag.");const[r,e]=this.tokens.shift();if(e==="u8")return new wn;if(e==="u16")return new vi;if(e==="u32")return new Ei;if(e==="u64")return new Yn;if(e==="u128")return new Qn;if(e==="u256")return new Si;if(e==="bool")return new Zn;if(e==="address")return new Dn;if(e==="vector"){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new _i(t)}if(e==="string")return new ti(Dt.fromHex("0x1"),new br("string"),new br("String"),[]);if(r==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const t=e;this.consume("::");const[n,i]=this.tokens.shift();n!=="IDENT"&&Ln("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&Ln("Invalid type tag."),i==="object"&&a==="Object")return this.tokens.splice(0,3),new Dn;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const d=new ti(Dt.fromHex(t),new br(i),new br(a),o);return new ei(d)}if(r==="GENERIC"){this.typeTags.length===0&&Ln("Can't convert generic type since no typeTags were specified.");const t=parseInt(e.substring(1),10);return new Ai(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},Af=class extends Error{constructor(r){super(r),this.name="TypeTagParserError"}},Ti=class{constructor(r,e,t,n,i,s,a){this.sender=r,this.sequence_number=e,this.payload=t,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(r){this.sender.serialize(r),r.serializeU64(this.sequence_number),this.payload.serialize(r),r.serializeU64(this.max_gas_amount),r.serializeU64(this.gas_unit_price),r.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(r)}static deserialize(r){const e=Dt.deserialize(r),t=r.deserializeU64(),n=xs.deserialize(r),i=r.deserializeU64(),s=r.deserializeU64(),a=r.deserializeU64(),o=va.deserialize(r);return new Ti(e,t,n,i,s,a,o)}},ba=class{constructor(r,e,t){this.code=r,this.ty_args=e,this.args=t}serialize(r){r.serializeBytes(this.code),Br(this.ty_args,r),Br(this.args,r)}static deserialize(r){const e=r.deserializeBytes(),t=Kr(r,ir),n=Kr(r,Xr);return new ba(e,t,n)}},ri=class{constructor(r,e,t,n){this.module_name=r,this.function_name=e,this.ty_args=t,this.args=n}static natural(r,e,t,n){return new ri(ni.fromStr(r),new br(e),t,n)}static natual(r,e,t,n){return ri.natural(r,e,t,n)}serialize(r){this.module_name.serialize(r),this.function_name.serialize(r),Br(this.ty_args,r),r.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{r.serializeBytes(e)})}static deserialize(r){const e=ni.deserialize(r),t=br.deserialize(r),n=Kr(r,ir),i=r.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(r.deserializeBytes());const a=s;return new ri(e,t,n,a)}},Zo=class{constructor(r){this.transaction_payload=r}serialize(r){r.serializeU32AsUleb128(0),this.transaction_payload.serialize(r)}static deserialize(r){return r.deserializeUleb128AsU32(),new Zo(ri.deserialize(r))}},Yo=class{constructor(r,e){this.multisig_address=r,this.transaction_payload=e}serialize(r){this.multisig_address.serialize(r),this.transaction_payload===void 0?r.serializeBool(!1):(r.serializeBool(!0),this.transaction_payload.serialize(r))}static deserialize(r){const e=Dt.deserialize(r),t=r.deserializeBool();let n;return t&&(n=Zo.deserialize(r)),new Yo(e,n)}},Tf=class{constructor(r){this.code=r}serialize(r){r.serializeBytes(this.code)}static deserialize(r){const e=r.deserializeBytes();return new Tf(e)}},ni=class{constructor(r,e){this.address=r,this.name=e}static fromStr(r){const e=r.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new ni(Dt.fromHex(new He(e[0])),new br(e[1]))}serialize(r){this.address.serialize(r),this.name.serialize(r)}static deserialize(r){const e=Dt.deserialize(r),t=br.deserialize(r);return new ni(e,t)}},Bx=class{serialize(r){throw new Error("Not implemented.")}static deserialize(r){throw new Error("Not implemented.")}},Ux=class{serialize(r){throw new Error("Not implmented.")}static deserialize(r){throw new Error("Not implmented.")}},hs=class{constructor(r,e){this.raw_txn=r,this.authenticator=e}serialize(r){this.raw_txn.serialize(r),this.authenticator.serialize(r)}static deserialize(r){const e=Ti.deserialize(r),t=ds.deserialize(r);return new hs(e,t)}},Pf=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return ga.load(r);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},ga=class extends Pf{constructor(r,e){super(),this.raw_txn=r,this.secondary_signer_addresses=e}serialize(r){r.serializeU32AsUleb128(0),this.raw_txn.serialize(r),Br(this.secondary_signer_addresses,r)}static load(r){const e=Ti.deserialize(r),t=Kr(r,Dt);return new ga(e,t)}},xs=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return ma.load(r);case 2:return wa.load(r);case 3:return Qo.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},ma=class extends xs{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){const e=ba.deserialize(r);return new ma(e)}},wa=class extends xs{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),this.value.serialize(r)}static load(r){const e=ri.deserialize(r);return new wa(e)}},Qo=class extends xs{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=Yo.deserialize(r);return new Qo(e)}},va=class{constructor(r){this.value=r}serialize(r){r.serializeU8(this.value)}static deserialize(r){const e=r.deserializeU8();return new va(e)}},Xr=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Ea.load(r);case 1:return Aa.load(r);case 2:return Ta.load(r);case 3:return Ra.load(r);case 4:return ka.load(r);case 5:return Ca.load(r);case 6:return Sa.load(r);case 7:return _a.load(r);case 8:return Pa.load(r);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},Ea=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),r.serializeU8(this.value)}static load(r){const e=r.deserializeU8();return new Ea(e)}},Sa=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),r.serializeU16(this.value)}static load(r){const e=r.deserializeU16();return new Sa(e)}},_a=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),r.serializeU32(this.value)}static load(r){const e=r.deserializeU32();return new _a(e)}},Aa=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(1),r.serializeU64(this.value)}static load(r){const e=r.deserializeU64();return new Aa(e)}},Ta=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),r.serializeU128(this.value)}static load(r){const e=r.deserializeU128();return new Ta(e)}},Pa=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(8),r.serializeU256(this.value)}static load(r){const e=r.deserializeU256();return new Pa(e)}},Ra=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=Dt.deserialize(r);return new Ra(e)}},ka=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(4),r.serializeBytes(this.value)}static load(r){const e=r.deserializeBytes();return new ka(e)}},Ca=class extends Xr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(5),r.serializeBool(this.value)}static load(r){const e=r.deserializeBool();return new Ca(e)}},Rf=class{getHashSalt(){const r=gi.create();return r.update("APTOS::Transaction"),r.digest()}static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return ec.load(r);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},ec=class extends Rf{constructor(r){super(),this.value=r}hash(){const r=gi.create();return r.update(this.getHashSalt()),r.update(mn(this)),r.digest()}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){return new ec(hs.deserialize(r))}},ps=class{constructor(r){this.name=r}serialize(r){r.serializeStr(this.name)}static deserialize(r){const e=r.deserializeStr();return new ps(e)}},ys=class{constructor(r,e){this.name=r,this.type_tag=e}serialize(r){r.serializeStr(this.name),this.type_tag.serialize(r)}static deserialize(r){const e=r.deserializeStr(),t=ir.deserialize(r);return new ys(e,t)}},Ia=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Ba.load(r);case 1:return Pi.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Ba=class extends Ia{constructor(r,e,t,n,i){super(),this.name=r,this.doc=e,this.code=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(0),r.serializeStr(this.name),r.serializeStr(this.doc),r.serializeBytes(this.code),Br(this.ty_args,r),Br(this.args,r)}static load(r){const e=r.deserializeStr(),t=r.deserializeStr(),n=r.deserializeBytes(),i=Kr(r,ps),s=Kr(r,ys);return new Ba(e,t,n,i,s)}},Pi=class extends Ia{constructor(r,e,t,n,i){super(),this.name=r,this.module_name=e,this.doc=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(1),r.serializeStr(this.name),this.module_name.serialize(r),r.serializeStr(this.doc),Br(this.ty_args,r),Br(this.args,r)}static load(r){const e=r.deserializeStr(),t=ni.deserialize(r),n=r.deserializeStr(),i=Kr(r,ps),s=Kr(r,ys);return new Pi(e,t,n,i,s)}},Ri=class{constructor(r){if(r.length!==Ri.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=r}static fromMultiEd25519PublicKey(r){const e=r.toBytes(),t=new Uint8Array(e.length+1);t.set(e),t.set([Ri.MULTI_ED25519_SCHEME],e.length);const n=gi.create();return n.update(t),new Ri(n.digest())}static fromEd25519PublicKey(r){const e=r.value,t=new Uint8Array(e.length+1);t.set(e),t.set([Ri.ED25519_SCHEME],e.length);const n=gi.create();return n.update(t),new Ri(n.digest())}derivedAddress(){return He.fromUint8Array(this.bytes)}},ii=Ri;ii.LENGTH=32,ii.MULTI_ED25519_SCHEME=1,ii.ED25519_SCHEME=0,ii.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Ox=class{constructor(r,e,t,n,i,s,a){this.accountAddress=r,this.moduleName=e,this.structName=t,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(r){this.accountAddress.serialize(r),r.serializeStr(this.moduleName),r.serializeStr(this.structName),r.serializeU64(this.sequenceNumber),this.originator.serialize(r),this.currentAuthKey.serialize(r),r.serializeBytes(this.newPublicKey)}},Ua=class{static fromAptosAccountObject(r){return new Ua(He.ensure(r.privateKeyHex).toUint8Array(),r.address)}static isValidPath(r){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(r)}static fromDerivePath(r,e){if(!Ua.isValidPath(r))throw new Error("Invalid derivation path");const t=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:n}=ux(r,Qu(yh.Z1(t)));return new Ua(n)}constructor(r,e){r?this.signingKey=sa.sign.keyPair.fromSeed(r.slice(0,32)):this.signingKey=sa.sign.keyPair(),this.accountAddress=He.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const r=new $r(this.signingKey.publicKey);return ii.fromEd25519PublicKey(r).derivedAddress()}static getResourceAccountAddress(r,e){const t=mn(Dt.fromHex(r)),n=new Uint8Array([...t,...e,ii.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=gi.create();return i.update(n),He.fromUint8Array(i.digest())}pubKey(){return He.fromUint8Array(this.signingKey.publicKey)}signBuffer(r){const e=sa.sign.detached(r,this.signingKey.secretKey);return He.fromUint8Array(e)}signHexString(r){const e=He.ensure(r).toUint8Array();return this.signBuffer(e)}verifySignature(r,e){const t=He.ensure(r).toUint8Array(),n=He.ensure(e).toUint8Array();return sa.sign.detached.verify(t,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:He.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Oa=Ua;gt([fa()],Oa.prototype,"authKey",1);function kf(r){return r instanceof Oa?r.address():He.ensure(r)}var Nx=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,Mx=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,Dx=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,Lx=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${Nx}
${Mx}`,Hx=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Fx=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,Kx=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,zx=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,$x=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,qx=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,jx=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,Gx=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,Wx=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,Vx=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,Jx=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,Xx=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,un=class{constructor(r){this.endpoint=r}static validateAddress(r){if(r.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(r){const{data:e}=await os.post(this.endpoint,r);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const r={query:qx};return this.queryIndexer(r)}async getAccountNFTs(r,e){const t=He.ensure(r).hex();un.validateAddress(t);const n={query:Lx,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(r,e){const t={query:jx,variables:{idHash:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getAccountCoinsData(r,e){const t=He.ensure(r).hex();un.validateAddress(t);const n={query:Dx,variables:{owner_address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(r){const e=He.ensure(r).hex();un.validateAddress(e);const t={query:Hx,variables:{owner_address:e}};return this.queryIndexer(t)}async getAccountTransactionsCount(r){const e=He.ensure(r).hex();un.validateAddress(e);const t={query:Fx,variables:{address:e}};return this.queryIndexer(t)}async getAccountTransactionsData(r,e){const t=He.ensure(r).hex();un.validateAddress(t);const n={query:Kx,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(r,e){const t=He.ensure(r).hex(),n=He.ensure(e).hex();un.validateAddress(t),un.validateAddress(n);const i={query:$x,variables:{delegatorAddress:t,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(r){const e={query:Gx,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenData(r){const e={query:Wx,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenOwnersData(r,e){const t={query:Vx,variables:{token_id:r,property_version:e}};return this.queryIndexer(t)}async getTopUserTransactions(r){const e={query:Jx,variables:{limit:r}};return this.queryIndexer(e)}async getUserTransactions(r,e){const t={query:Xx,variables:{start_version:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getCurrentDelegatorBalancesCount(r){const e=He.ensure(r).hex();un.validateAddress(e);const t={query:zx,variables:{poolAddress:e}};return this.queryIndexer(t)}},Zx={};ua(Zx,{$AccountData:()=>lp,$AccountSignature:()=>hp,$AccountSignature_Ed25519Signature:()=>xp,$AccountSignature_MultiEd25519Signature:()=>pp,$Address:()=>yp,$AptosError:()=>bp,$AptosErrorCode:()=>gp,$Block:()=>mp,$BlockMetadataTransaction:()=>wp,$DecodedTableData:()=>vp,$DeleteModule:()=>Sp,$DeleteResource:()=>_p,$DeleteTableItem:()=>Ap,$DeletedTableData:()=>Ep,$DirectWriteSet:()=>Tp,$Ed25519Signature:()=>Pp,$EncodeSubmissionRequest:()=>Rp,$EntryFunctionId:()=>kp,$EntryFunctionPayload:()=>Cp,$Event:()=>Ip,$EventGuid:()=>Bp,$GasEstimation:()=>Up,$GenesisPayload:()=>Op,$GenesisPayload_WriteSetPayload:()=>Np,$GenesisTransaction:()=>Mp,$HashValue:()=>Dp,$HealthCheckSuccess:()=>Lp,$HexEncodedBytes:()=>Hp,$IdentifierWrapper:()=>Fp,$IndexResponse:()=>Kp,$ModuleBundlePayload:()=>zp,$MoveAbility:()=>$p,$MoveFunction:()=>qp,$MoveFunctionGenericTypeParam:()=>jp,$MoveFunctionVisibility:()=>Gp,$MoveModule:()=>Wp,$MoveModuleBytecode:()=>Vp,$MoveModuleId:()=>Jp,$MoveResource:()=>Xp,$MoveScriptBytecode:()=>Zp,$MoveStruct:()=>Yp,$MoveStructField:()=>Qp,$MoveStructGenericTypeParam:()=>ey,$MoveStructTag:()=>ty,$MoveStructValue:()=>ry,$MoveType:()=>ny,$MoveValue:()=>iy,$MultiAgentSignature:()=>sy,$MultiEd25519Signature:()=>ay,$MultisigPayload:()=>oy,$MultisigTransactionPayload:()=>cy,$PendingTransaction:()=>uy,$RawTableItemRequest:()=>fy,$RoleType:()=>dy,$ScriptPayload:()=>ly,$ScriptWriteSet:()=>hy,$StateCheckpointTransaction:()=>xy,$StateKeyWrapper:()=>py,$SubmitTransactionRequest:()=>yy,$TableItemRequest:()=>by,$Transaction:()=>gy,$TransactionPayload:()=>_y,$TransactionPayload_EntryFunctionPayload:()=>Ay,$TransactionPayload_ModuleBundlePayload:()=>Ty,$TransactionPayload_MultisigPayload:()=>Py,$TransactionPayload_ScriptPayload:()=>Ry,$TransactionSignature:()=>Iy,$TransactionSignature_Ed25519Signature:()=>By,$TransactionSignature_MultiAgentSignature:()=>Uy,$TransactionSignature_MultiEd25519Signature:()=>Oy,$Transaction_BlockMetadataTransaction:()=>my,$Transaction_GenesisTransaction:()=>wy,$Transaction_PendingTransaction:()=>vy,$Transaction_StateCheckpointTransaction:()=>Ey,$Transaction_UserTransaction:()=>Sy,$TransactionsBatchSingleSubmissionFailure:()=>ky,$TransactionsBatchSubmissionResult:()=>Cy,$U128:()=>Ny,$U256:()=>My,$U64:()=>Dy,$UserTransaction:()=>Ly,$VersionedEvent:()=>Hy,$ViewRequest:()=>Fy,$WriteModule:()=>Ky,$WriteResource:()=>zy,$WriteSet:()=>$y,$WriteSetChange:()=>Gy,$WriteSetChange_DeleteModule:()=>Wy,$WriteSetChange_DeleteResource:()=>Vy,$WriteSetChange_DeleteTableItem:()=>Jy,$WriteSetChange_WriteModule:()=>Xy,$WriteSetChange_WriteResource:()=>Zy,$WriteSetChange_WriteTableItem:()=>Yy,$WriteSetPayload:()=>Qy,$WriteSet_DirectWriteSet:()=>qy,$WriteSet_ScriptWriteSet:()=>jy,$WriteTableItem:()=>eb,AccountsService:()=>Df,ApiError:()=>bs,AptosErrorCode:()=>jf,AptosGeneratedClient:()=>qf,BaseHttpRequest:()=>Cf,BlocksService:()=>Lf,CancelError:()=>If,CancelablePromise:()=>Bf,EventsService:()=>Hf,GeneralService:()=>Ff,MoveFunctionVisibility:()=>Gf,OpenAPI:()=>dp,RoleType:()=>Wf,TablesService:()=>Kf,TransactionsService:()=>zf,ViewService:()=>$f});var Cf=class{constructor(r){this.config=r}},bs=class extends Error{constructor(r,e,t){super(t),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=r}},If=class extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}},Bf=class{constructor(r){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},i=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},s=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),r(n,i,s)})}then(r,e){return this._promise.then(r,e)}catch(r){return this._promise.catch(r)}finally(r){return this._promise.finally(r)}cancel(){var r;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(r=this._reject)==null||r.call(this,new If("Request aborted"))}}get isCancelled(){return this._isCancelled}},Uf=class{constructor(r=new Map){this.jar=r}setCookie(r,e){var t;const n=r.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=Uf.parse(e);this.jar.set(n,[...((t=this.jar.get(n))==null?void 0:t.filter(s=>s.name!==i.name))||[],i])}getCookies(r){var e;const t=r.origin.toLowerCase();return this.jar.get(t)?((e=this.jar.get(t))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(r){if(typeof r!="string")throw new Error("argument str must be a string");const e=r.split(";").map(n=>n.trim());let t;if(e.length>0){const[n,i]=e[0].split("=");if(!n||!i)throw new Error("Invalid cookie");t={name:n,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[i,s]=n.split("=");if(!i.trim())throw new Error("Invalid cookie");const a=i.toLowerCase(),o=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(a==="expires"&&(t.expires=new Date(o)),a==="path"&&(t.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");t.sameSite=o}a==="secure"&&(t.secure=!0)}),t}},Of=new Uf;os.interceptors.response.use(r=>(Array.isArray(r.headers["set-cookie"])&&r.headers["set-cookie"].forEach(e=>{Of.setCookie(new URL(r.config.url),e)}),r)),os.interceptors.request.use(function(r){const e=Of.getCookies(new URL(r.url));return(e==null?void 0:e.length)>0&&r.headers&&(r.headers.cookie=e.map(t=>`${t.name}=${t.value}`).join("; ")),r});var tc=r=>r!=null,Na=r=>typeof r=="string",rc=r=>Na(r)&&r!=="",Nf=r=>typeof r=="object"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.arrayBuffer=="function"&&typeof r.constructor=="function"&&typeof r.constructor.name=="string"&&/^(Blob|File)$/.test(r.constructor.name)&&/^(Blob|File)$/.test(r[Symbol.toStringTag]),Yx=r=>r instanceof lf,Qx=r=>r>=200&&r<300,ep=r=>btoa(r),tp=r=>{const e=[],t=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{tc(s)&&(Array.isArray(s)?s.forEach(a=>{n(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,o])=>{n(`${i}[${a}]`,o)}):t(i,s))};return Object.entries(r).forEach(([i,s])=>{n(i,s)}),e.length>0?`?${e.join("&")}`:""},rp=(r,e)=>{const t=r.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",r.VERSION).replace(/{(.*?)}/g,(s,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?t(String(e.path[a])):s}),i=`${r.BASE}${n}`;return e.query?`${i}${tp(e.query)}`:i},np=r=>{if(r.formData){const e=new lf,t=(n,i)=>{Na(i)||Nf(i)?e.append(n,i):e.append(n,JSON.stringify(i))};return Object.entries(r.formData).filter(([n,i])=>tc(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>t(n,s)):t(n,i)}),e}},Ma=async(r,e)=>typeof e=="function"?e(r):e,ip=async(r,e,t)=>{const n=await Ma(e,r.TOKEN),i=await Ma(e,r.USERNAME),s=await Ma(e,r.PASSWORD),a=await Ma(e,r.HEADERS),o=typeof(t==null?void 0:t.getHeaders)=="function"&&(t==null?void 0:t.getHeaders())||{},d=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([m,T])=>tc(T)).reduce((m,[T,C])=>({...m,[T]:String(C)}),{});if(rc(n)&&(d.Authorization=`Bearer ${n}`),rc(i)&&rc(s)){const m=ep(`${i}:${s}`);d.Authorization=`Basic ${m}`}return e.body&&(e.mediaType?d["Content-Type"]=e.mediaType:Nf(e.body)?d["Content-Type"]=e.body.type||"application/octet-stream":Na(e.body)?d["Content-Type"]="text/plain":Yx(e.body)||(d["Content-Type"]="application/json")),d},sp=r=>{if(r.body)return r.body},ap=async(r,e,t,n,i,s,a)=>{const o=os.CancelToken.source(),d={url:t,headers:s,data:n??i,method:e.method,withCredentials:r.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(r.HEADERS||{}).filter(T=>T.toLowerCase()==="accept").map(T=>r.HEADERS[T]).includes("application/x-bcs")&&(d.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await os.request(d)}catch(T){const C=T;if(C.response)return C.response;throw T}},op=(r,e)=>{if(e){const t=r.headers[e];if(Na(t))return t}},cp=r=>{if(r.status!==204)return r.data},up=(r,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...r.errors}[e.status];if(n)throw new bs(r,e,n);if(!e.ok)throw new bs(r,e,"Generic Error")},fp=(r,e)=>new Bf(async(t,n,i)=>{try{const s=rp(r,e),a=np(e),o=sp(e),d=await ip(r,e,a);if(!i.isCancelled){const m=await ap(r,e,s,o,a,d,i),T=cp(m),C=op(m,e.responseHeader),L={url:s,ok:Qx(m.status),status:m.status,statusText:m.statusText,body:C??T};up(e,L);const V=L.body;try{V.__headers=m.headers}catch{}t(V)}}catch(s){n(s)}}),Mf=class extends Cf{constructor(r){super(r)}request(r){return fp(this.config,r)}},Df=class{constructor(r){this.httpRequest=r}getAccount(r,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:r},query:{ledger_version:e}})}getAccountResources(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountModules(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountResource(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:r,resource_type:e},query:{ledger_version:t}})}getAccountModule(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:r,module_name:e},query:{ledger_version:t}})}},Lf=class{constructor(r){this.httpRequest=r}getBlockByHeight(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:r},query:{with_transactions:e}})}getBlockByVersion(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:r},query:{with_transactions:e}})}},Hf=class{constructor(r){this.httpRequest=r}getEventsByCreationNumber(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:r,creation_number:e},query:{start:t,limit:n}})}getEventsByEventHandle(r,e,t,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:r,event_handle:e,field_name:t},query:{start:n,limit:i}})}},Ff=class{constructor(r){this.httpRequest=r}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(r){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:r}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},Kf=class{constructor(r){this.httpRequest=r}getTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}getRawTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}},zf=class{constructor(r){this.httpRequest=r}getTransactions(r,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:r,limit:e}})}submitTransaction(r){return this.httpRequest.request({method:"POST",url:"/transactions",body:r,mediaType:"application/json"})}getTransactionByHash(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:r}})}getTransactionByVersion(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:r}})}getAccountTransactions(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:r},query:{start:e,limit:t}})}submitBatchTransactions(r){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:r,mediaType:"application/json"})}simulateTransaction(r,e,t,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:t,estimate_prioritized_gas_unit_price:n},body:r,mediaType:"application/json"})}encodeSubmission(r){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:r,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},$f=class{constructor(r){this.httpRequest=r}view(r,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:r,mediaType:"application/json"})}},qf=class{constructor(r,e=Mf){var t,n,i,s;this.request=new e({BASE:(t=r==null?void 0:r.BASE)!=null?t:"/v1",VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(i=r==null?void 0:r.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=r==null?void 0:r.CREDENTIALS)!=null?s:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH}),this.accounts=new Df(this.request),this.blocks=new Lf(this.request),this.events=new Hf(this.request),this.general=new Ff(this.request),this.tables=new Kf(this.request),this.transactions=new zf(this.request),this.view=new $f(this.request)}},dp={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},jf=(r=>(r.ACCOUNT_NOT_FOUND="account_not_found",r.RESOURCE_NOT_FOUND="resource_not_found",r.MODULE_NOT_FOUND="module_not_found",r.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",r.VERSION_NOT_FOUND="version_not_found",r.TRANSACTION_NOT_FOUND="transaction_not_found",r.TABLE_ITEM_NOT_FOUND="table_item_not_found",r.BLOCK_NOT_FOUND="block_not_found",r.VERSION_PRUNED="version_pruned",r.BLOCK_PRUNED="block_pruned",r.INVALID_INPUT="invalid_input",r.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",r.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",r.VM_ERROR="vm_error",r.HEALTH_CHECK_FAILED="health_check_failed",r.MEMPOOL_IS_FULL="mempool_is_full",r.INTERNAL_ERROR="internal_error",r.WEB_FRAMEWORK_ERROR="web_framework_error",r.BCS_NOT_SUPPORTED="bcs_not_supported",r.API_DISABLED="api_disabled",r))(jf||{}),Gf=(r=>(r.PRIVATE="private",r.PUBLIC="public",r.FRIEND="friend",r))(Gf||{}),Wf=(r=>(r.VALIDATOR="validator",r.FULL_NODE="full_node",r))(Wf||{}),lp={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},hp={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},xp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},pp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},yp={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},bp={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},gp={type:"Enum"},mp={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},wp={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},vp={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Ep={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Sp={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},_p={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Ap={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Tp={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Pp={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Rp={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},kp={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},Cp={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Ip={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Bp={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},Up={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},Op={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},Np={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},Mp={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Dp={type:"string"},Lp={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Hp={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Fp={type:"string"},Kp={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},zp={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},$p={type:"string"},qp={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},jp={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Gp={type:"Enum"},Wp={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},Vp={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},Jp={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},Xp={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},Zp={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Yp={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Qp={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},ey={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},ty={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},ry={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},ny={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},iy={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},sy={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},ay={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},oy={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},cy={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},uy={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},fy={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},dy={type:"Enum"},ly={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},hy={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},xy={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},py={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},yy={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},by={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},gy={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},my={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},wy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},vy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},Ey={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Sy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},_y={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Ay={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Ty={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Py={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Ry={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},ky={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Cy={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Iy={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},By={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Uy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Oy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Ny={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},My={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},Dy={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},Ly={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Hy={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Fy={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Ky={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},zy={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},$y={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},qy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},jy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},Gy={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},Wy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},Vy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},Jy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},Xy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},Zy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},Yy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},Qy={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},eb={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function Da(r,e,t){if(!(e!=null&&e.includes(typeof r)))throw new Error(t||`Invalid arg: ${r} type should be ${e instanceof Array?e.join(" or "):e}`)}function Vf(r){if(Da(r,["boolean","string"]),typeof r=="boolean")return r;if(r==="true")return!0;if(r==="false")return!1;throw new Error("Invalid boolean string.")}function ki(r){if(Da(r,["number","string"]),typeof r=="number")return r;const e=Number.parseInt(r,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Ci(r){return Da(r,["number","bigint","string"]),BigInt(r)}function La(r,e,t){if(e instanceof Zn){t.serializeBool(Vf(r));return}if(e instanceof wn){t.serializeU8(ki(r));return}if(e instanceof vi){t.serializeU16(ki(r));return}if(e instanceof Ei){t.serializeU32(ki(r));return}if(e instanceof Yn){t.serializeU64(Ci(r));return}if(e instanceof Qn){t.serializeU128(Ci(r));return}if(e instanceof Si){t.serializeU256(Ci(r));return}if(e instanceof Dn){let n;if(typeof r=="string"||r instanceof He)n=Dt.fromHex(r);else if(r instanceof Dt)n=r;else throw new Error("Invalid account address.");n.serialize(t);return}if(e instanceof _i){if(e.value instanceof wn){if(r instanceof Uint8Array){t.serializeBytes(r);return}if(typeof r=="string"){t.serializeStr(r);return}}if(!Array.isArray(r))throw new Error("Invalid vector args.");t.serializeU32AsUleb128(r.length),r.forEach(n=>La(n,e.value,t));return}if(e instanceof ei){const{address:n,module_name:i,name:s}=e.value;if(`${He.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Da(r,["string"]),t.serializeStr(r);return}throw new Error("Unsupported arg type.")}function tb(r,e){if(e instanceof Zn)return new Ca(Vf(r));if(e instanceof wn)return new Ea(ki(r));if(e instanceof vi)return new Sa(ki(r));if(e instanceof Ei)return new _a(ki(r));if(e instanceof Yn)return new Aa(Ci(r));if(e instanceof Qn)return new Ta(Ci(r));if(e instanceof Si)return new Pa(Ci(r));if(e instanceof Dn){let t;if(typeof r=="string"||r instanceof He)t=Dt.fromHex(r);else if(r instanceof Dt)t=r;else throw new Error("Invalid account address.");return new Ra(t)}if(e instanceof _i&&e.value instanceof wn){if(!(r instanceof Uint8Array))throw new Error(`${r} should be an instance of Uint8Array`);return new ka(r)}throw new Error("Unknown type for TransactionArgument.")}var rb="APTOS::RawTransaction",nb="APTOS::RawTransactionWithData",Ii=class{constructor(r,e){this.rawTxnBuilder=e,this.signingFunction=r}build(r,e,t){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(r,e,t)}static getSigningMessage(r){const e=gi.create();if(r instanceof Ti)e.update(rb);else if(r instanceof ga)e.update(nb);else throw new Error("Unknown transaction type.");const t=e.digest(),n=mn(r),i=new Uint8Array(t.length+n.length);return i.set(t),i.set(n,t.length),i}},Ha=class extends Ii{constructor(r,e,t){super(r,t),this.publicKey=e}rawToSigned(r){const e=Ii.getSigningMessage(r),t=this.signingFunction(e),n=new pa(new $r(this.publicKey),t);return new hs(r,n)}sign(r){return mn(this.rawToSigned(r))}},ib=class extends Ii{constructor(r,e){super(r),this.publicKey=e}rawToSigned(r){const e=Ii.getSigningMessage(r),t=this.signingFunction(e),n=new ya(this.publicKey,t);return new hs(r,n)}sign(r){return mn(this.rawToSigned(r))}},nc=class{constructor(r,e){this.abiMap=new Map,r.forEach(t=>{const n=new qo(t),i=Ia.deserialize(n);let s;if(i instanceof Pi){const a=i,{address:o,name:d}=a.module_name;s=`${He.fromUint8Array(o.address).toShortString()}::${d.value}::${a.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(yf),expSecFromNow:bf,...e}}static toBCSArgs(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>{const i=new Mt;return La(t,r[n].type_tag,i),i.getBytes()})}static toTransactionArguments(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>tb(t,r[n].type_tag))}setSequenceNumber(r){this.builderConfig.sequenceNumber=BigInt(r)}buildTransactionPayload(r,e,t){const n=e.map(a=>new Ai(a).parseTypeTag());let i;if(!this.abiMap.has(r))throw new Error(`Cannot find function: ${r}`);const s=this.abiMap.get(r);if(s instanceof Pi){const a=s,o=nc.toBCSArgs(a.args,t);i=new wa(new ri(a.module_name,new br(a.name),n,o))}else if(s instanceof Ba){const a=s,o=nc.toTransactionArguments(a.args,t);i=new ma(new ba(a.code,n,o))}else throw new Error("Unknown ABI format.");return i}build(r,e,t){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:d}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const m=n instanceof Dt?n:Dt.fromHex(n),T=BigInt(Math.floor(Date.now()/1e3)+Number(o)),C=this.buildTransactionPayload(r,e,t);if(C)return new Ti(m,BigInt(i),C,BigInt(a),BigInt(s),T,new va(Number(d)));throw new Error("Invalid ABI.")}},Qt=class{constructor(r,e){this.aptosClient=r,this.builderConfig=e}async fetchABI(r){const t=(await this.aptosClient.getAccountModules(r)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return t.forEach(i=>{n.set(i.fullName,i)}),n}async build(r,e,t){if(r=(We=>We.replace(/^0[xX]0*/g,"0x"))(r),r.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,a]=r.split("::"),o=await this.fetchABI(s);if(!o.has(r))throw new Error(`${r} doesn't exist.`);const d=o.get(r),T=d.params.filter(We=>We!=="signer"&&We!=="&signer").map((We,wt)=>new ys(`var${wt}`,new Ai(We,e).parseTypeTag())),C=new Pi(d.name,ni.fromStr(`${s}::${a}`),"",d.generic_type_params.map((We,wt)=>new ps(`${wt}`)),T),{sender:L,...V}=this.builderConfig,ie=L instanceof Dt?He.fromUint8Array(L.address):L,[{sequence_number:ce},be,{gas_estimate:De}]=await Promise.all([V!=null&&V.sequenceNumber?Promise.resolve({sequence_number:V==null?void 0:V.sequenceNumber}):this.aptosClient.getAccount(ie),V!=null&&V.chainId?Promise.resolve(V==null?void 0:V.chainId):this.aptosClient.getChainId(),V!=null&&V.gasUnitPrice?Promise.resolve({gas_estimate:V==null?void 0:V.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new nc([mn(C)],{sender:L,sequenceNumber:ce,chainId:be,gasUnitPrice:BigInt(De),...V}).build(r,e,t)}};gt([lx(10*60*1e3)],Qt.prototype,"fetchABI",1);var gs=class{constructor(r,e,t=!1){if(!r)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};t?this.nodeUrl=r:this.nodeUrl=dx(r),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new qf(n)}async getAccount(r){return this.client.accounts.getAccount(He.ensure(r).hex())}async getAccountTransactions(r,e){var t;return this.client.transactions.getAccountTransactions(He.ensure(r).hex(),(t=e==null?void 0:e.start)==null?void 0:t.toString(),e==null?void 0:e.limit)}async getAccountModules(r,e){const t=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await wf(t,r,1e3,e)}async getAccountModule(r,e,t){var n;return this.client.accounts.getAccountModule(He.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(r,e){const t=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await wf(t,r,9999,e)}async getAccountResource(r,e,t){var n;return this.client.accounts.getAccountResource(He.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(r,e){return new Ha(n=>{const i=r.signBuffer(n);return new mt.Ed25519Signature(i.toUint8Array())},r.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(r,e){return new Ha(n=>{const i=new Uint8Array(64);return new mt.Ed25519Signature(i)},r.pubKey().toUint8Array()).sign(e)}async generateTransaction(r,e,t){const n={sender:r};if(t!=null&&t.sequence_number&&(n.sequenceNumber=t.sequence_number),t!=null&&t.gas_unit_price&&(n.gasUnitPrice=t.gas_unit_price),t!=null&&t.max_gas_amount&&(n.maxGasAmount=t.max_gas_amount),t!=null&&t.expiration_timestamp_secs){const s=Number.parseInt(t.expiration_timestamp_secs,10);n.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new Qt(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(r,e){return Promise.resolve(gs.generateBCSTransaction(r,e))}async getEventsByCreationNumber(r,e,t){var n;return this.client.events.getEventsByCreationNumber(He.ensure(r).hex(),e.toString(),(n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getEventsByEventHandle(r,e,t,n){var i;return this.client.events.getEventsByEventHandle(He.ensure(r).hex(),e,t,(i=n==null?void 0:n.start)==null?void 0:i.toString(),n==null?void 0:n.limit)}async submitTransaction(r){return this.submitSignedBCSTransaction(r)}async simulateTransaction(r,e,t){let n;return r instanceof Oa?n=gs.generateBCSSimulation(r,e):r instanceof us?n=new ib(()=>{const{threshold:s}=r,a=[],o=[];for(let m=0;m<s;m+=1)a.push(m),o.push(new mt.Ed25519Signature(new Uint8Array(64)));const d=mt.MultiEd25519Signature.createBitmap(a);return new mt.MultiEd25519Signature(o,d)},r).sign(e):n=new Ha(()=>{const s=new Uint8Array(64);return new mt.Ed25519Signature(s)},r.toBytes()).sign(e),this.submitBCSSimulation(n,t)}async submitSignedBCSTransaction(r){return this.client.request.request({url:"/transactions",method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(r,e){var t,n,i;const s={estimate_gas_unit_price:(t=e==null?void 0:e.estimateGasUnitPrice)!=null?t:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(r){var e;return this.client.transactions.getTransactions((e=r==null?void 0:r.start)==null?void 0:e.toString(),r==null?void 0:r.limit)}async getTransactionByHash(r){return this.client.transactions.getTransactionByHash(r)}async getTransactionByVersion(r){return this.client.transactions.getTransactionByVersion(r.toString())}async transactionPending(r){try{return(await this.client.transactions.getTransactionByHash(r)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(r,e){var t,n;const i=(t=e==null?void 0:e.timeoutSecs)!=null?t:gf,s=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,d;for(;a&&!(o>=i);){try{if(d=await this.client.transactions.getTransactionByHash(r),a=d.type==="pending_transaction",!a)break}catch(m){const T=m instanceof bs,C=T&&m.status!==404&&m.status>=400&&m.status<500;if(!T||C)throw m}await fx(1e3),o+=1}if(d===void 0)throw new Error(`Waiting for transaction ${r} failed`);if(a)throw new ab(`Waiting for transaction ${r} timed out after ${i} seconds`,d);if(!s)return d;if(!(d!=null&&d.success))throw new ob(`Transaction ${r} committed to the blockchain but execution failed`,d);return d}async waitForTransaction(r,e){await this.waitForTransactionWithResult(r,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(r,e,t){var n;return await this.client.tables.getTableItem(r,e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(r,e,t){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(r),this.getChainId(),t!=null&&t.gasUnitPrice?Promise.resolve({gas_estimate:t.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:d}={maxGasAmount:BigInt(yf),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+bf),...t};return new mt.RawTransaction(mt.AccountAddress.fromHex(r),BigInt(n),e,a,o,d,new mt.ChainId(i))}async generateSignSubmitTransaction(r,e,t){const n=await this.generateRawTransaction(r.address(),e,t),i=gs.generateBCSTransaction(r,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(r,e,t,n){const i=new Mt;Br(t,i);const s=new mt.TransactionPayloadEntryFunction(mt.EntryFunction.natural("0x1::code","publish_package_txn",[],[wi(e),i.getBytes()]));return this.generateSignSubmitTransaction(r,s,n)}async generateSignSubmitWaitForTransaction(r,e,t){const n=await this.generateSignSubmitTransaction(r,e,t);return this.waitForTransactionWithResult(n,t)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(r){const e=`0x1::coin::CoinStore<${$o}>`,[{gas_estimate:t},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(r)]),i=n.find(a=>a.type===e);return BigInt(i.data.coin.value)/BigInt(t)}async rotateAuthKeyEd25519(r,e,t){const{sequence_number:n,authentication_key:i}=await this.getAccount(r.address()),s=new Oa(e),a=new mt.RotationProofChallenge(mt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),mt.AccountAddress.fromHex(r.address()),new mt.AccountAddress(new He(i).toUint8Array()),s.pubKey().toUint8Array()),o=He.fromUint8Array(mn(a)),d=r.signHexString(o),m=s.signHexString(o),T=new mt.TransactionPayloadEntryFunction(mt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[jo(0),wi(r.pubKey().toUint8Array()),jo(0),wi(s.pubKey().toUint8Array()),wi(d.toUint8Array()),wi(m.toUint8Array())])),C=await this.generateRawTransaction(r.address(),T,t),L=gs.generateBCSTransaction(r,C);return this.submitSignedBCSTransaction(L)}async lookupOriginalAddress(r){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:t}}=e.data,n=await this.getTableItem(t,{key_type:"address",value_type:"address",key:He.ensure(r).hex()});return new He(n)}async getBlockByHeight(r,e){return this.client.blocks.getBlockByHeight(r,e)}async getBlockByVersion(r,e){return this.client.blocks.getBlockByVersion(r,e)}async view(r,e){return this.client.view.view(r,e)}clearCache(r){hx(r)}},ot=gs;gt([zt],ot.prototype,"getAccount",1),gt([zt],ot.prototype,"getAccountTransactions",1),gt([zt],ot.prototype,"getAccountModules",1),gt([zt],ot.prototype,"getAccountModule",1),gt([zt],ot.prototype,"getAccountResources",1),gt([zt],ot.prototype,"getAccountResource",1),gt([zt],ot.prototype,"getEventsByCreationNumber",1),gt([zt],ot.prototype,"getEventsByEventHandle",1),gt([zt],ot.prototype,"submitSignedBCSTransaction",1),gt([zt],ot.prototype,"submitBCSSimulation",1),gt([zt],ot.prototype,"getTransactions",1),gt([zt],ot.prototype,"getTransactionByHash",1),gt([zt],ot.prototype,"getTransactionByVersion",1),gt([zt],ot.prototype,"getLedgerInfo",1),gt([fa()],ot.prototype,"getChainId",1),gt([zt],ot.prototype,"getTableItem",1),gt([zt,fa({ttlMs:5*60*1e3,tags:["gas_estimates"]})],ot.prototype,"estimateGasPrice",1),gt([zt],ot.prototype,"estimateMaxGasAmount",1),gt([zt],ot.prototype,"getBlockByHeight",1),gt([zt],ot.prototype,"getBlockByVersion",1),gt([zt],ot.prototype,"view",1);var sb=class extends Error{constructor(r,e,t,n){super(e),this.status=r,this.message=e,this.errorCode=t,this.vmErrorCode=n}},ab=class extends Error{constructor(r,e){super(r),this.lastSubmittedTransaction=e}},ob=class extends Error{constructor(r,e){super(r),this.transaction=e}};function zt(r,e,t){const n=t.value;return t.value=async function(...s){var a,o;try{return await n.apply(this,[...s])}catch(d){throw d instanceof bs?new sb(d.status,JSON.stringify({message:d.message,...d.body}),(a=d.body)==null?void 0:a.error_code,(o=d.body)==null?void 0:o.vm_error_code):d}},t}var Jf=class{constructor(r,e,t=!1){let n=null,i=null;if(typeof r=="object"&&cb(r)?(n=r.fullnodeUrl,i=r.indexerUrl,this.network="CUSTOM"):(n=px[r],i=xx[r],this.network=r),!n||!i)throw new Error("network is not provided");this.aptosClient=new ot(n,e,t),this.indexerClient=new un(i)}};function Xf(r,e,t){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...s){return this[t][n](...s)},Object.defineProperty(r.prototype,n,i))})}Xf(Jf,ot,"aptosClient"),Xf(Jf,un,"indexerClient");function cb(r){return r.fullnodeUrl!==void 0&&typeof r.fullnodeUrl=="string"&&r.indexerUrl!==void 0&&typeof r.indexerUrl=="string"}var Zf=class{constructor(r,e){this.type=r,this.value=e}},ic=class{constructor(){this.data={}}setProperty(r,e){this.data[r]=e}};function sc(r){let e;return r==="string"||r==="String"?e=new ei(Ef):e=new Ai(r).parseTypeTag(),e}function ac(r,e){if(r.length!==e.length)throw new Error("Length of property values and types not match");const t=new Array;return e.forEach((n,i)=>{try{const s=sc(n),a=new Mt;La(r[i],s,a),t.push(a.getBytes())}catch{t.push(new TextEncoder().encode(r[i]))}}),t}function Yf(r,e){if(!r||!e)throw new Error("value or type can not be empty");try{const t=sc(e),n=new Mt;return La(r,t,n),n.getBytes()}catch{return new TextEncoder().encode(r)}}function Qf(r){const e=r.map.data,t=new ic;return e.forEach(n=>{const{key:i}=n,s=n.value.value,a=n.value.type,o=sc(a),d=ub(o,s),m=new Zf(a,d);t.setProperty(i,m)}),t}function ub(r,e){const t=new qo(new He(e).toUint8Array());let n="";return r instanceof wn?n=t.deserializeU8().toString():r instanceof Yn?n=t.deserializeU64().toString():r instanceof Qn?n=t.deserializeU128().toString():r instanceof Zn?n=t.deserializeBool()?"true":"false":r instanceof Dn?n=He.fromUint8Array(t.deserializeFixedBytes(32)).hex():r instanceof ei&&r.isStringTypeTag()?n=t.deserializeStr():n=e,n}var fb={};ua(fb,{PropertyMap:()=>ic,PropertyValue:()=>Zf,Token:()=>t0,TokenData:()=>e0});var e0=class{constructor(r,e,t,n,i,s,a,o){this.collection=r,this.description=e,this.name=t,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=Qf(a),this.mutability_config=o}},t0=class{constructor(r,e,t){this.id=r,this.amount=e,this.token_properties=Qf(t)}},Lg=class{constructor(r){this.aptosClient=r}async createCollection(r,e,t,n,i=mi,s){const o=await new Qt(this.aptosClient,{sender:r.address(),...s}).build("0x3::token::create_collection_script",[],[e,t,n,i,[!1,!1,!1]]),d=ot.generateBCSTransaction(r,o);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async createToken(r,e,t,n,i,s,a=mi,o=r.address(),d=0,m=0,T=[],C=[],L=[],V){const ce=await new Qt(this.aptosClient,{sender:r.address(),...V}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,d,m,[!1,!1,!1,!1,!1],T,ac(C,L),L]),be=ot.generateBCSTransaction(r,ce);return(await this.aptosClient.submitSignedBCSTransaction(be)).hash}async createTokenWithMutabilityConfig(r,e,t,n,i,s,a=mi,o=r.address(),d=0,m=0,T=[],C=[],L=[],V=[!1,!1,!1,!1,!1],ie){const be=await new Qt(this.aptosClient,{sender:r.address(),...ie}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,d,m,V,T,C,L]),De=ot.generateBCSTransaction(r,be);return(await this.aptosClient.submitSignedBCSTransaction(De)).hash}async offerToken(r,e,t,n,i,s,a=0,o){const m=await new Qt(this.aptosClient,{sender:r.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,t,n,i,a,s]),T=ot.generateBCSTransaction(r,m);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async claimToken(r,e,t,n,i,s=0,a){const d=await new Qt(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,t,n,i,s]),m=ot.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async cancelTokenOffer(r,e,t,n,i,s=0,a){const d=await new Qt(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,t,n,i,s]),m=ot.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async directTransferToken(r,e,t,n,i,s,a=0,o){const m=await new Qt(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::direct_transfer_script",[],[t,n,i,a,s]),T=new mt.MultiAgentRawTransaction(m,[mt.AccountAddress.fromHex(e.address())]),C=new mt.Ed25519Signature(r.signBuffer(Ii.getSigningMessage(T)).toUint8Array()),L=new mt.AccountAuthenticatorEd25519(new mt.Ed25519PublicKey(r.signingKey.publicKey),C),V=new mt.Ed25519Signature(e.signBuffer(Ii.getSigningMessage(T)).toUint8Array()),ie=new mt.AccountAuthenticatorEd25519(new mt.Ed25519PublicKey(e.signingKey.publicKey),V),ce=new mt.TransactionAuthenticatorMultiAgent(L,[mt.AccountAddress.fromHex(e.address())],[ie]),be=mn(new mt.SignedTransaction(m,ce));return(await this.aptosClient.submitSignedBCSTransaction(be)).hash}async optInTokenTransfer(r,e,t){const i=await new Qt(this.aptosClient,{sender:r.address(),...t}).build("0x3::token::opt_in_direct_transfer",[],[e]),s=ot.generateBCSTransaction(r,i);return(await this.aptosClient.submitSignedBCSTransaction(s)).hash}async transferWithOptIn(r,e,t,n,i,s,a,o){const m=await new Qt(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,t,n,i,s,a]),T=ot.generateBCSTransaction(r,m);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async burnByCreator(r,e,t,n,i,s,a){const d=await new Qt(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn_by_creator",[],[e,t,n,i,s]),m=ot.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async burnByOwner(r,e,t,n,i,s,a){const d=await new Qt(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn",[],[e,t,n,i,s]),m=ot.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async mutateTokenProperties(r,e,t,n,i,s,a,o,d,m,T){const L=await new Qt(this.aptosClient,{sender:r.address(),...T}).build("0x3::token::mutate_token_properties",[],[e,t,n,i,s,a,o,d,m]),V=ot.generateBCSTransaction(r,L);return(await this.aptosClient.submitSignedBCSTransaction(V)).hash}async getCollectionData(r,e){const n=(await this.aptosClient.getAccountResources(r)).find(o=>o.type==="0x3::token::Collections"),{handle:i}=n.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(r,e,t){const n=r instanceof He?r.hex():r,i=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:s}=i.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:t}},d=await this.aptosClient.getTableItem(s,o);return new e0(d.collection,d.description,d.name,d.maximum,d.supply,d.uri,d.default_properties,d.mutability_config)}async getToken(r,e,t,n="0"){const i={creator:r instanceof He?r.hex():r,collection:e,name:t};return this.getTokenForAccount(r,{token_data_id:i,property_version:n})}async getTokenForAccount(r,e){const t=await this.aptosClient.getAccountResource(r instanceof He?r.hex():r,"0x3::token::TokenStore"),{handle:n}=t.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(n,i);return new t0(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new ic}:s}}},Bi={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},Hg=class{constructor(r){this.tokenType="0x4::token::Token",this.provider=r}async submitTransaction(r,e,t,n,i){const a=await new Qt(this.provider,{sender:r.address(),...i}).build(`0x4::aptos_token::${e}`,t,n),o=ot.generateBCSTransaction(r,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(r,e,t,n,i=mi,s,a){var o,d,m,T,C,L,V,ie,ce,be,De;return this.submitTransaction(r,"create_collection",[],[e,i,t,n,(o=s==null?void 0:s.mutableDescription)!=null?o:!0,(d=s==null?void 0:s.mutableRoyalty)!=null?d:!0,(m=s==null?void 0:s.mutableURI)!=null?m:!0,(T=s==null?void 0:s.mutableTokenDescription)!=null?T:!0,(C=s==null?void 0:s.mutableTokenName)!=null?C:!0,(L=s==null?void 0:s.mutableTokenProperties)!=null?L:!0,(V=s==null?void 0:s.mutableTokenURI)!=null?V:!0,(ie=s==null?void 0:s.tokensBurnableByCreator)!=null?ie:!0,(ce=s==null?void 0:s.tokensFreezableByCreator)!=null?ce:!0,(be=s==null?void 0:s.royaltyNumerator)!=null?be:0,(De=s==null?void 0:s.royaltyDenominator)!=null?De:0],a)}async mint(r,e,t,n,i,s=[],a=[],o=[],d){return this.submitTransaction(r,"mint",[],[e,t,n,i,s,a,ac(o,a)],d)}async mintSoulBound(r,e,t,n,i,s,a=[],o=[],d=[],m){return this.submitTransaction(r,"mint_soul_bound",[],[e,t,n,i,a,o,ac(d,o),s.address().hex()],m)}async burnToken(r,e,t,n){return this.submitTransaction(r,"burn",[t||this.tokenType],[He.ensure(e).hex()],n)}async freezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"freeze_transfer",[t||this.tokenType],[He.ensure(e).hex()],n)}async unfreezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"unfreeze_transfer",[t||this.tokenType],[He.ensure(e).hex()],n)}async setTokenDescription(r,e,t,n,i){return this.submitTransaction(r,"set_description",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async setTokenName(r,e,t,n,i){return this.submitTransaction(r,"set_name",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async setTokenURI(r,e,t,n,i){return this.submitTransaction(r,"set_uri",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async addTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_property",[s||this.tokenType],[He.ensure(e).hex(),t,Bi[n],Yf(i,Bi[n])],a)}async removeTokenProperty(r,e,t,n,i){return this.submitTransaction(r,"remove_property",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async updateTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_property",[s||this.tokenType],[He.ensure(e).hex(),t,Bi[n],Yf(i,Bi[n])],a)}async addTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_typed_property",[s||this.tokenType,Bi[n]],[He.ensure(e).hex(),t,i],a)}async updateTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_typed_property",[s||this.tokenType,Bi[n]],[He.ensure(e).hex(),t,i],a)}async transferTokenOwnership(r,e,t,n,i){const a=await new Qt(this.provider.aptosClient,{sender:r.address(),...i}).build("0x1::object::transfer",[n||this.tokenType],[He.ensure(e).hex(),He.ensure(t).hex()]),o=ot.generateBCSTransaction(r,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},Fg=class{constructor(r){this.aptosClient=r}async transfer(r,e,t,n){var i;const s=(i=n==null?void 0:n.coinType)!=null?i:$o,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=kf(e),m=await new Qt(this.aptosClient,{sender:r.address(),...n}).build(a,[s],[o,t]),T=ot.generateBCSTransaction(r,m);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async checkBalance(r,e){var t;const i=`0x1::coin::CoinStore<${(t=e==null?void 0:e.coinType)!=null?t:$o}>`,s=kf(r),a=await this.aptosClient.getAccountResource(s,i);return BigInt(a.data.coin.value)}},Kg=class extends null{constructor(r,e,t){var n,i,s;if(super(r,t),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new Mf({BASE:e,VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH})}async fundAccount(r,e,t=gf){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:He.ensure(r).noPrefix(),amount:e}}),i=[];for(let s=0;s<n.length;s+=1){const a=n[s];i.push(this.waitForTransaction(a,{timeoutSecs:t}))}return await Promise.all(i),n}},r0=x(55872).Buffer;class db extends Xs{constructor(t){super(t);O(this,"signerInstance");O(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new ot(this.providerUrl))}async getTx(t){const i=await(await this.getProvider()).waitForTransactionWithResult(t,{timeoutSecs:1,checkSuccess:!0}),s=i==null?void 0:i.payload;if(!i.success)throw new Error((i==null?void 0:i.vm_status)??"Unknown Aptos error");if(!((s==null?void 0:s.function)==="0x1::coin::transfer"&&(s==null?void 0:s.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(i==null?void 0:i.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${t} failed validation`);const a=i.type==="pending_transaction";return{to:s.arguments[0],from:i.sender,amount:new y.Z(s.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(t){const n=Ec.sha3_256.create();return n.update(r0.from(t)),n.update("\0"),`0x${n.hex()}`}async sign(t){return await this.getSigner().sign(t)}getSigner(){return this.signerInstance??(this.signerInstance=new zs(this.wallet,this._publicKey))}async verify(t,n,i){return await zs.verify(t,n,i)}async getCurrentHeight(){return new y.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(t,n){const i=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new Qt(i,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new y.Z(t).toNumber()]),d=new Ha(C=>{const L=new Uint8Array(64);return new mt.Ed25519Signature(L)},await this.getPublicKey()).sign(a),m={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},T=await i.client.request.request({url:"/transactions/simulate",query:m,method:"POST",body:d,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+T[0].gas_unit_price,maxGasAmount:+T[0].max_gas_amount}}async sendTx(t){return(await this.wallet.signAndSubmitTransaction(t)).hash}async createTx(t,n,i){return{txId:void 0,tx:{arguments:[n,new y.Z(t).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=r0.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const t=await this.getProvider();this._address=await t.lookupOriginalAddress(this.address??"").then(i=>i.toString()).catch(i=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class lb extends Zs{}class hb extends Zs{async createTx(e,t,n){const i=this.w3signer,s={to:t,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(s);return s.gasLimit=a,{tx:await i.populateTransaction(s),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new y.Z(n.blockNumber):void 0,amount:new y.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const t=await e.getSigner();t._signTypedData=async(n,i,s)=>t.signTypedData(n,i,s),e.getSigner=()=>t,this.wallet=e,await super.ready()}}function xb(r){switch(r.token){case"ethereum":return Ui("ethereum",r.providerName,{irys:r.irys,name:"ethereum",ticker:"ETH",providerUrl:r.providerUrl??"https://cloudflare-eth.com/",wallet:r.wallet});case"matic":return Ui("ethereum",r.providerName,{irys:r.irys,name:"matic",ticker:"MATIC",providerUrl:r.providerUrl??"https://polygon-rpc.com",wallet:r.wallet,minConfirm:1});case"arbitrum":return Ui("ethereum",r.providerName,{irys:r.irys,name:"arbitrum",ticker:"ETH",providerUrl:r.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:r.wallet});case"bnb":return Ui("ethereum",r.providerName,{irys:r.irys,name:"bnb",ticker:"BNB",providerUrl:r.providerUrl??"https://bsc-dataseed.binance.org",wallet:r.wallet});case"avalanche":return Ui("ethereum",r.providerName,{irys:r.irys,name:"avalanche",ticker:"AVAX",providerUrl:r.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:r.wallet});case"boba-eth":return Ui("ethereum",r.providerName,{irys:r.irys,name:"boba-eth",ticker:"ETH",providerUrl:r.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:r.wallet});case"boba":{const e=new xh({irys:r.irys,name:"boba",ticker:"BOBA",providerUrl:r.providerUrl??"https://mainnet.boba.network/",contractAddress:r.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:r.wallet});return e.price=async()=>{var n;const t=await h.Z.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await N.checkAndThrow(t,"Getting price data"),!((n=t==null?void 0:t.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+t.data.rate},e}case"solana":return new Ul({irys:r.irys,name:"solana",ticker:"SOL",providerUrl:r.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:r.wallet});case"near":return new Il({irys:r.irys,name:"near",ticker:"NEAR",providerUrl:r.providerUrl??"https://rpc.mainnet.near.org",wallet:r.wallet});case"aptos":return new db({irys:r.irys,name:"aptos",ticker:"APTOS",providerUrl:r.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:r.wallet});default:throw new Error(`Unknown/Unsupported token ${r.token}`)}}function Ui(r,e,t){switch(r){case"ethereum":switch(e){case"ethersv5":return new lb(t);case"ethersv6":return new hb(t);default:return new Zs(t)}}}class pb{constructor(e){O(this,"irys");this.irys=e}async upload(e,t){return this.irys.uploadWithReceipt(e,t)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([t,n])=>({name:n0[t],value:n}))})}async getAllProofs(e,t){var o,d;const n=Object.entries(e).map(([m,T])=>({name:n0[m],values:[T]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const i=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,s=[];let a=null;do{const m=await this.irys.api.post("/graphql",{query:i,variables:{tags:n,limit:(t==null?void 0:t.limit)??null,after:a}},void 0);a=(d=(o=m.data.data.transactions)==null?void 0:o.pageInfo)!=null&&d.hasNextPage?m.data.data.transactions.pageInfo.endCursor:null,s.push(...m.data.data.transactions.edges.map(T=>T.node))}while(a);return s}async getProof(e){const t=(await this.getAllProofs(e,{limit:1})).at(0);if(!t)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return t}}const n0={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class yb{constructor(e){O(this,"irys");this.irys=e}async getById(e){const t=(await this.query({ids:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with id ${e}`);return t}async getByOwner(e){const t=(await this.query({owners:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with owner ${e}`);return t}async getByTag(e,t){const n=(await this.query({tags:[{name:e,values:[t]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${t}`);return n}async query(e){var s,a;const t=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let i=null;do{const o=await this.irys.api.post("/graphql",{query:t,variables:{...e,after:i??e.after}},void 0);i=(a=(s=o.data.data.transactions)==null?void 0:s.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(d=>d.node))}while(i);return n}}var bb=x(14676),gb=x(67250);const mb=Symbol("not readable"),wb=Symbol("readable"),vb=Symbol("ended"),Eb=Symbol("errored"),dr={notReadable:mb,readable:wb,ended:vb,errored:Eb};class Sb{constructor(e,{size:t}={}){O(this,"_stream");O(this,"_error");O(this,"_state",dr.notReadable);O(this,"_size");O(this,"_rejections",new Set);this._stream=e,this._size=t;const n=["_handleStreamEnd","_handleStreamError"];for(const i of n)Object.defineProperty(this,i,{configurable:!0,writable:!0,value:this[i].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=dr.readable})}get closed(){return this._state===dr.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case dr.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{e!=null&&e.close(),t!=null&&t.close()}return this.next()}case dr.ended:return this.close(),{done:!0,value:void 0};case dr.errored:throw this.close(),this._error;case dr.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=dr.notReadable,await new Promise(t=>setTimeout(n=>n(!0),0,t)),this.next())}}}_untilReadable(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=dr.readable,this._rejections.delete(s),i()},this._state,dr.readable,this._stream.once("readable",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:t}}_untilEnd(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=dr.ended,this._rejections.delete(s),i()},this._stream.once("end",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:t}}return(){return this._state=dr.ended,this.next()}throw(e){return this._error=e,this._state=dr.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=dr.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=dr.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=dr.ended}get state(){return this._state}}var Oi=x(55872).Buffer;class _b extends gb.EventEmitter{constructor(t,n){super({captureRejections:!0});O(this,"tokenConfig");O(this,"api");O(this,"uploadID");O(this,"token");O(this,"chunkSize");O(this,"batchSize");O(this,"paused",!1);O(this,"isResume",!1);O(this,"uploadOptions");O(this,"arbundles");this.tokenConfig=t,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(t){return t&&(this.uploadID=t,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(t){if(t<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=t,this}setBatchSize(t){if(t<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=t,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(t,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(t)?this.runUpload(t.getRaw()):this.runUpload(t)}async uploadData(t,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(t,{...n})}async runUpload(t,n){var fn;let i=this.uploadID;const s=n===void 0,a={"x-chunking-version":"2"};let o;if(!i)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),N.checkAndThrow(o,"Getting upload token"),this.uploadID=i=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${i}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(N.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:d,min:m}=o.data;if(this.chunkSize<+m||this.chunkSize>+d)throw new Error(`Chunk size out of allowed range: ${m} - ${d}`);let T=0;const C=(Ze,Rt,lr)=>new Promise(si=>{S(async uc=>{await this.api.post(`/chunks/${this.token}/${i}/${Rt}`,Ze,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(Hn=>{if((Hn==null?void 0:Hn.status)>=300){const x0={res:Hn,id:lr,offset:Rt,size:Ze.length};throw this.emit("chunkError",x0),(Hn==null?void 0:Hn.status)===402&&uc(new Error("Not enough funds to send data")),x0}this.emit("chunkUpload",{id:lr,offset:Rt,size:Ze.length,totalUploaded:T+=Ze.length}),si({o:Rt,d:Hn})})})}),L=o.data.chunks??[],V=new J.PassThrough;let ie=Oi.alloc(0),ce=!1,be=!0;V.on("end",()=>ce=!0),V.on("error",Ze=>{throw new Error(`Error processing readable: ${Ze}`)});const De=async Ze=>{for(;!ce;){if(ie.length>=Ze)return Rt=Oi.from(ie.slice(0,Ze)),ie=ie.slice(Ze),Rt;var Rt=V.read(Ze);if(Rt===null){await new Promise(lr=>setTimeout(si=>si(!0),0,lr));continue}if(Rt.length===Ze)return Rt;ie=Oi.concat([ie,Rt])}for(;ie.length>=Ze;)return Rt=Oi.from(ie.slice(0,Ze)),ie=ie.slice(Ze),Rt;return be=!1,ie};let rt,We;if(!s){rt=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??E.randomBytes(32).toString("base64").slice(0,32)});const Ze=rt.getRaw();We=Ze.length,V.write(Ze),T-=Ze.length}if(Oi.isBuffer(t))V.write(t),V.end();else if("pipe"in t)t.pipe(V);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let wt=0;const ht=new Set;let Gt=0,er,yt,Lt;if(!s){yt=new J.PassThrough;const Ze=rt.getRaw().length;if(this.chunkSize<We)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${We})`);er=await De(this.chunkSize),Gt++,wt+=er.length,yt.write(er.slice(Ze));const Rt=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(rt.signatureType.toString()),rt.rawOwner,rt.rawTarget,rt.rawAnchor,rt.rawTags,new Sb(yt)];Lt=this.arbundles.deepHash(Rt)}let gr=L.pop();for(;be;){if(this.paused&&await new Promise(lr=>this.on("resume",()=>lr(void 0))),gr&&+gr[0]-wt<=this.chunkSize){const si=gr[1],uc=await De(si);s||yt.write(uc),wt+=si,gr=L.pop(),Gt++,T+=si;continue}const Ze=await De(this.chunkSize);for(s||yt.write(Ze);ht.size>=this.batchSize;){const[lr]=await Promise.race(ht);ht.delete(lr)}const Rt=(async()=>await C(Ze,wt,++Gt))().then(lr=>[Rt,lr]);ht.add(Rt),wt+=Ze.length}if(yt&&yt.end(),await Promise.all(ht),!s){const Ze=await Lt,Rt=Oi.from(await this.tokenConfig.getSigner().sign(Ze));er.set(Rt,2),await C(er,0,0)}const Pt=await this.api.post(`/chunks/${this.token}/${i}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((fn=this.api.config)==null?void 0:fn.timeout)??4e4*10});if(Pt.status===402)throw new Error("Not enough funds to send data");if(N.checkAndThrow(Pt,"Finalising upload",[201]),Pt.status===201)throw new Error(Pt.data);return Pt.data.verify=N.verifyReceipt.bind({},this.arbundles,Pt.data.data),this.emit("done",Pt),Pt}get completionPromise(){return new Promise(t=>this.on("done",t))}}var oc=x(55872).Buffer;const zg=r=>new Promise(e=>setTimeout(e,r)),i0=5e7;class Ab{constructor(e,t,n,i,s){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"utils");O(this,"contentTypeOverride");O(this,"forceUseChunking");O(this,"arbundles");O(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=t,this.irysTransaction=s}async uploadTransaction(e,t){let n;const i=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||i&&e.getRaw().length>=i0||!i)n=await this.chunkedUploader.uploadTransaction(i?e.getRaw():e,t);else{const{url:s,timeout:a,headers:o}=this.api.getConfig(),d={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,s).toString(),e.getRaw(),{headers:d,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,t){if(typeof e=="string"&&(e=oc.from(e)),oc.isBuffer(e)&&e.length<=i0){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...t,anchor:(t==null?void 0:t.anchor)??(0,E.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...t==null?void 0:t.upload})).data}return(await this.chunkedUploader.uploadData(e,t)).data}async concurrentUploader(e,t){const n=[],i=t!=null&&t.logFunction?t==null?void 0:t.logFunction:async o=>{},s=(t==null?void 0:t.concurrency)??5,a=await bb.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError(async(o,d)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,d,m)=>{await S(async T=>{try{const C=await this.processItem(o,t==null?void 0:t.itemOptions);return d%s==0&&await i(`Processed ${d} Items`),t!=null&&t.resultProcessor?await t.resultProcessor({item:o,res:C,i:d}):{item:o,res:C,i:d}}catch(C){throw(C==null?void 0:C.message)==="Not enough funds to send data"&&T(C),C}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,t){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...t==null?void 0:t.upload}):this.uploadData(e,t)}async generateManifest(e){const{items:t,indexFile:n}=e,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!t.has(n))throw new Error(`Unable to access item: ${n}`);i.index={path:n}}for(const[s,a]of t.entries())i.paths[s]={id:a};return i}get chunkedUploader(){return new _b(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,t){const n=(t==null?void 0:t.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),i=new ws(n),s=e.map(T=>this.arbundles.DataItem.isDataItem(T)?T:this.arbundles.createData(T,i)),a=await this.arbundles.bundleAndSignData(s,i),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const d=await this.uploadTransaction(o,t),m=P(oc.from(await this.arbundles.getCryptoDriver().hash(P.toBuffer(P(i.publicKey)))));return{...d,txs:s,throwawayKey:n,throwawayKeyAddress:m}}}var s0=x(55872).Buffer;class a0 extends Ab{constructor(t){super(t.api,t.utils,t.token,t.tokenConfig,t.IrysTransaction);O(this,"irys");this.irys=t}async uploadFile(t,n){const s=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:t.type}];return this.uploadData(s0.from(await t.arrayBuffer()),{tags:s,...n})}async uploadFolder(t,n){const i=[],s=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new ws(a);for(const C of t){const L=C.webkitRelativePath?C.webkitRelativePath:C.name,ie=(C.tags?C.tags.some(({name:be})=>be.toLowerCase()==="content-type"):!1)?C.tags:[...C.tags??[],{name:"Content-Type",value:C.type}],ce=this.irys.arbundles.createData(s0.from(await C.arrayBuffer()),o,{tags:ie});await ce.sign(o),i.push(ce),s.set(L,ce.id)}const d=await this.generateManifest({items:s,indexFile:n==null?void 0:n.indexFileRelPath}),m=this.irys.arbundles.createData(JSON.stringify(d),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await m.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(m,{...n})):(await m.sign(o),i.push(m));const T=await this.uploadBundle(i,{...n});return{...T.data,manifestId:m.id,manifest:d,throwawayKey:T.throwawayKey,throwawayKeyAddress:T.throwawayKeyAddress,txs:T.txs}}}class Tb extends ae{constructor({url:t,token:n,wallet:i,config:s}){switch(t){case void 0:case"node1":t="https://node1.irys.xyz";break;case"node2":t="https://node2.irys.xyz";break;case"devnet":t="https://devnet.irys.xyz";break}const a=new URL(t);super({url:a,arbundles:w});O(this,"tokenConfig");O(this,"uploader");O(this,"uploadFolder");O(this,"uploadFile");if(this.api=new F({url:a,timeout:(s==null?void 0:s.timeout)??1e5,headers:s==null?void 0:s.headers}),this.tokenConfig=xb({irys:this,token:n.toLowerCase(),wallet:i==null?void 0:i.provider,providerUrl:(s==null?void 0:s.providerUrl)??(i==null?void 0:i.rpcUrl),contractAddress:s==null?void 0:s.contractAddress,providerName:i==null?void 0:i.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((s==null?void 0:s.providerUrl)??((i==null?void 0:i.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new N(this.api,this.token,this.tokenConfig),this.uploader=new a0(this),this.funder=new G(this.utils),this.uploader=new a0(this),this.provenance=new pb(this),this.transactions=new yb(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var o0=Tb}}]);
}());