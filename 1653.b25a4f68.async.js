(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1653],{19159:function(pe,s,f){"use strict";f.d(s,{Z:function(){return o}});var a=f(56920),M=f(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},C=v,l=f(38782),p=function(b,_){return M.createElement(l.Z,(0,a.Z)({},b,{ref:_,icon:C}))},o=M.forwardRef(p)},857:function(pe,s,f){"use strict";f.d(s,{Z:function(){return o}});var a=f(56920),M=f(50959),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 464H528V448h320v128zm-268-64a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"filled"},C=v,l=f(38782),p=function(b,_){return M.createElement(l.Z,(0,a.Z)({},b,{ref:_,icon:C}))},o=M.forwardRef(p)},64085:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CoinbaseWalletSDK=void 0;const a=f(31452),M=f(75526),v=f(56572),C=f(99533),l=f(13073),p=f(86161),o=f(43882),y=f(52565),b=f(92323),_=f(34233),P=f(83832);class m{constructor(S){var O,z,j;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const G=S.linkAPIUrl||M.LINK_API_URL;typeof S.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=S.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(O=S.overrideIsCoinbaseWallet)!==null&&O!==void 0?O:!0,this._overrideIsCoinbaseBrowser=(z=S.overrideIsCoinbaseBrowser)!==null&&z!==void 0?z:!1,this._diagnosticLogger=S.diagnosticLogger,this._reloadOnDisconnect=(j=S.reloadOnDisconnect)!==null&&j!==void 0?j:!0;const B=new URL(G),K=`${B.protocol}//${B.host}`;if(this._storage=new C.ScopedLocalStorage(`-walletlink:${K}`),this._storage.setItem("version",m.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new y.RelayEventManager;const F=(0,v.isMobileWeb)(),re=S.uiConstructor||(A=>F?new o.MobileRelayUI(A):new b.WalletLinkRelayUI(A)),V={linkAPIUrl:G,version:P.LIB_VERSION,darkMode:!!S.darkMode,uiConstructor:re,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:S.enableMobileWalletLink};this._relay=F?new p.MobileRelay(V):new _.WalletLinkRelay(V),this.setAppInfo(S.appName,S.appLogoUrl),!S.headlessMode&&this._relay.attachUI()}makeWeb3Provider(S="",O=1){const z=this.walletExtension;if(z)return this.isCipherProvider(z)||z.setProviderInfo(S,O),this._reloadOnDisconnect===!1&&typeof z.disableReloadOnDisconnect=="function"&&z.disableReloadOnDisconnect(),z;const j=this.coinbaseBrowser;if(j)return j;const G=this._relay;if(!G||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return S||G.setConnectDisabled(!0),new l.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(G),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:S,chainId:O,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(S,O){var z;this._appName=S||"DApp",this._appLogoUrl=O||(0,v.getFavicon)();const j=this.walletExtension;j?this.isCipherProvider(j)||j.setAppInfo(this._appName,this._appLogoUrl):(z=this._relay)===null||z===void 0||z.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var S;const O=this===null||this===void 0?void 0:this.walletExtension;O?O.close():(S=this._relay)===null||S===void 0||S.resetAndReload()}getQrUrl(){var S,O;return(O=(S=this._relay)===null||S===void 0?void 0:S.getQRCodeUrl())!==null&&O!==void 0?O:null}getCoinbaseWalletLogo(S,O=240){return(0,a.walletLogo)(S,O)}get walletExtension(){var S;return(S=window.coinbaseWalletExtension)!==null&&S!==void 0?S:window.walletLinkExtension}get coinbaseBrowser(){var S,O;try{const z=(S=window.ethereum)!==null&&S!==void 0?S:(O=window.top)===null||O===void 0?void 0:O.ethereum;return z&&"isCoinbaseBrowser"in z&&z.isCoinbaseBrowser?z:void 0}catch{return}}isCipherProvider(S){return typeof S.isCipher=="boolean"&&S.isCipher}}s.CoinbaseWalletSDK=m,m.VERSION=P.LIB_VERSION},31452:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.walletLogo=void 0;const f=(a,M)=>{let v;switch(a){case"standard":return v=M,`data:image/svg+xml,%3Csvg width='${M}' height='${v}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return v=M,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${M}' height='${v}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return v=(.1*M).toFixed(2),`data:image/svg+xml,%3Csvg width='${M}' height='${v}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return v=(.25*M).toFixed(2),`data:image/svg+xml,%3Csvg width='${M}' height='${v}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return v=(.1*M).toFixed(2),`data:image/svg+xml,%3Csvg width='${M}' height='${v}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return v=(.25*M).toFixed(2),`data:image/svg+xml,%3Csvg width='${M}' height='${v}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return v=M,`data:image/svg+xml,%3Csvg width='${M}' height='${v}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};s.walletLogo=f},75526:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.LINK_API_URL=void 0,s.LINK_API_URL="https://www.walletlink.org"},62968:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.errorValues=s.standardErrorCodes=void 0,s.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},s.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}},6113:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.standardErrors=void 0;const a=f(62968),M=f(284);s.standardErrors={rpc:{parse:b=>v(a.standardErrorCodes.rpc.parse,b),invalidRequest:b=>v(a.standardErrorCodes.rpc.invalidRequest,b),invalidParams:b=>v(a.standardErrorCodes.rpc.invalidParams,b),methodNotFound:b=>v(a.standardErrorCodes.rpc.methodNotFound,b),internal:b=>v(a.standardErrorCodes.rpc.internal,b),server:b=>{if(!b||typeof b!="object"||Array.isArray(b))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:_}=b;if(!Number.isInteger(_)||_>-32005||_<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return v(_,b)},invalidInput:b=>v(a.standardErrorCodes.rpc.invalidInput,b),resourceNotFound:b=>v(a.standardErrorCodes.rpc.resourceNotFound,b),resourceUnavailable:b=>v(a.standardErrorCodes.rpc.resourceUnavailable,b),transactionRejected:b=>v(a.standardErrorCodes.rpc.transactionRejected,b),methodNotSupported:b=>v(a.standardErrorCodes.rpc.methodNotSupported,b),limitExceeded:b=>v(a.standardErrorCodes.rpc.limitExceeded,b)},provider:{userRejectedRequest:b=>C(a.standardErrorCodes.provider.userRejectedRequest,b),unauthorized:b=>C(a.standardErrorCodes.provider.unauthorized,b),unsupportedMethod:b=>C(a.standardErrorCodes.provider.unsupportedMethod,b),disconnected:b=>C(a.standardErrorCodes.provider.disconnected,b),chainDisconnected:b=>C(a.standardErrorCodes.provider.chainDisconnected,b),unsupportedChain:b=>C(a.standardErrorCodes.provider.unsupportedChain,b),custom:b=>{if(!b||typeof b!="object"||Array.isArray(b))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:_,message:P,data:m}=b;if(!P||typeof P!="string")throw new Error('"message" must be a nonempty string');return new o(_,P,m)}}};function v(b,_){const[P,m]=l(_);return new p(b,P||(0,M.getMessageFromCode)(b),m)}function C(b,_){const[P,m]=l(_);return new o(b,P||(0,M.getMessageFromCode)(b),m)}function l(b){if(b){if(typeof b=="string")return[b];if(typeof b=="object"&&!Array.isArray(b)){const{message:_,data:P}=b;if(_&&typeof _!="string")throw new Error("Must specify string message.");return[_||void 0,P]}}return[]}class p extends Error{constructor(_,P,m){if(!Number.isInteger(_))throw new Error('"code" must be an integer.');if(!P||typeof P!="string")throw new Error('"message" must be a nonempty string.');super(P),this.code=_,m!==void 0&&(this.data=m)}}class o extends p{constructor(_,P,m){if(!y(_))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(_,P,m)}}function y(b){return Number.isInteger(b)&&b>=1e3&&b<=4999}},55979:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.standardErrors=s.standardErrorCodes=s.serializeError=s.getMessageFromCode=s.getErrorCode=void 0;const a=f(62968);Object.defineProperty(s,"standardErrorCodes",{enumerable:!0,get:function(){return a.standardErrorCodes}});const M=f(6113);Object.defineProperty(s,"standardErrors",{enumerable:!0,get:function(){return M.standardErrors}});const v=f(88749);Object.defineProperty(s,"serializeError",{enumerable:!0,get:function(){return v.serializeError}});const C=f(284);Object.defineProperty(s,"getErrorCode",{enumerable:!0,get:function(){return C.getErrorCode}}),Object.defineProperty(s,"getMessageFromCode",{enumerable:!0,get:function(){return C.getMessageFromCode}})},88749:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.serializeError=void 0;const a=f(20183),M=f(83832),v=f(62968),C=f(284);function l(y,b){const _=(0,C.serialize)(p(y),{shouldIncludeStack:!0}),P=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");P.searchParams.set("version",M.LIB_VERSION),P.searchParams.set("code",_.code.toString());const m=o(_.data,b);return m&&P.searchParams.set("method",m),P.searchParams.set("message",_.message),Object.assign(Object.assign({},_),{docUrl:P.href})}s.serializeError=l;function p(y){return typeof y=="string"?{message:y,code:v.standardErrorCodes.rpc.internal}:(0,a.isErrorResponse)(y)?Object.assign(Object.assign({},y),{message:y.errorMessage,code:y.errorCode,data:{method:y.method}}):y}function o(y,b){const _=y==null?void 0:y.method;if(_)return _;if(b!==void 0){if(typeof b=="string")return b;if(Array.isArray(b)){if(b.length>0)return b[0].method}else return b.method}}},284:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.serialize=s.getErrorCode=s.isValidCode=s.getMessageFromCode=s.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const a=f(62968),M="Unspecified error message.";s.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function v(m,d=M){if(m&&Number.isInteger(m)){const S=m.toString();if(_(a.errorValues,S))return a.errorValues[S].message;if(y(m))return s.JSON_RPC_SERVER_ERROR_MESSAGE}return d}s.getMessageFromCode=v;function C(m){if(!Number.isInteger(m))return!1;const d=m.toString();return!!(a.errorValues[d]||y(m))}s.isValidCode=C;function l(m){var d;if(typeof m=="number")return m;if(p(m))return(d=m.code)!==null&&d!==void 0?d:m.errorCode}s.getErrorCode=l;function p(m){return typeof m=="object"&&m!==null&&(typeof m.code=="number"||typeof m.errorCode=="number")}function o(m,{shouldIncludeStack:d=!1}={}){const S={};if(m&&typeof m=="object"&&!Array.isArray(m)&&_(m,"code")&&C(m.code)){const O=m;S.code=O.code,O.message&&typeof O.message=="string"?(S.message=O.message,_(O,"data")&&(S.data=O.data)):(S.message=v(S.code),S.data={originalError:b(m)})}else S.code=a.standardErrorCodes.rpc.internal,S.message=P(m,"message")?m.message:M,S.data={originalError:b(m)};return d&&(S.stack=P(m,"stack")?m.stack:void 0),S}s.serialize=o;function y(m){return m>=-32099&&m<=-32e3}function b(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function _(m,d){return Object.prototype.hasOwnProperty.call(m,d)}function P(m,d){return typeof m=="object"&&m!==null&&d in m&&typeof m[d]=="string"}},21370:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ProviderType=s.RegExpString=s.IntNumber=s.BigIntString=s.AddressString=s.HexString=s.OpaqueType=void 0;function f(){return v=>v}s.OpaqueType=f,s.HexString=f(),s.AddressString=f(),s.BigIntString=f();function a(v){return Math.floor(v)}s.IntNumber=a,s.RegExpString=f();var M;(function(v){v.CoinbaseWallet="CoinbaseWallet",v.MetaMask="MetaMask",v.Unselected=""})(M||(s.ProviderType=M={}))},56572:function(pe,s,f){"use strict";var a=f(55872).Buffer,M=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(s,"__esModule",{value:!0}),s.isMobileWeb=s.getLocation=s.isInIFrame=s.createQrUrl=s.getFavicon=s.range=s.isBigNumber=s.ensureParsedJSONObject=s.ensureBN=s.ensureRegExpString=s.ensureIntNumber=s.ensureBuffer=s.ensureAddressString=s.ensureEvenLengthHexString=s.ensureHexString=s.isHexString=s.prepend0x=s.strip0x=s.has0xPrefix=s.hexStringFromIntNumber=s.intNumberFromHexString=s.bigIntStringFromBN=s.hexStringFromBuffer=s.hexStringToUint8Array=s.uint8ArrayToHex=s.randomBytesHex=void 0;const v=M(f(39098)),C=f(55979),l=f(21370),p=/^[0-9]*$/,o=/^[a-f0-9]*$/;function y(I){return b(crypto.getRandomValues(new Uint8Array(I)))}s.randomBytesHex=y;function b(I){return[...I].map(N=>N.toString(16).padStart(2,"0")).join("")}s.uint8ArrayToHex=b;function _(I){return new Uint8Array(I.match(/.{1,2}/g).map(N=>parseInt(N,16)))}s.hexStringToUint8Array=_;function P(I,N=!1){const W=I.toString("hex");return(0,l.HexString)(N?`0x${W}`:W)}s.hexStringFromBuffer=P;function m(I){return(0,l.BigIntString)(I.toString(10))}s.bigIntStringFromBN=m;function d(I){return(0,l.IntNumber)(new v.default(K(I,!1),16).toNumber())}s.intNumberFromHexString=d;function S(I){return(0,l.HexString)(`0x${new v.default(I).toString(16)}`)}s.hexStringFromIntNumber=S;function O(I){return I.startsWith("0x")||I.startsWith("0X")}s.has0xPrefix=O;function z(I){return O(I)?I.slice(2):I}s.strip0x=z;function j(I){return O(I)?`0x${I.slice(2)}`:`0x${I}`}s.prepend0x=j;function G(I){if(typeof I!="string")return!1;const N=z(I).toLowerCase();return o.test(N)}s.isHexString=G;function B(I,N=!1){if(typeof I=="string"){const W=z(I).toLowerCase();if(o.test(W))return(0,l.HexString)(N?`0x${W}`:W)}throw C.standardErrors.rpc.invalidParams(`"${String(I)}" is not a hexadecimal string`)}s.ensureHexString=B;function K(I,N=!1){let W=B(I,!1);return W.length%2===1&&(W=(0,l.HexString)(`0${W}`)),N?(0,l.HexString)(`0x${W}`):W}s.ensureEvenLengthHexString=K;function F(I){if(typeof I=="string"){const N=z(I).toLowerCase();if(G(N)&&N.length===40)return(0,l.AddressString)(j(N))}throw C.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(I)}`)}s.ensureAddressString=F;function re(I){if(a.isBuffer(I))return I;if(typeof I=="string"){if(G(I)){const N=K(I,!1);return a.from(N,"hex")}return a.from(I,"utf8")}throw C.standardErrors.rpc.invalidParams(`Not binary data: ${String(I)}`)}s.ensureBuffer=re;function V(I){if(typeof I=="number"&&Number.isInteger(I))return(0,l.IntNumber)(I);if(typeof I=="string"){if(p.test(I))return(0,l.IntNumber)(Number(I));if(G(I))return(0,l.IntNumber)(new v.default(K(I,!1),16).toNumber())}throw C.standardErrors.rpc.invalidParams(`Not an integer: ${String(I)}`)}s.ensureIntNumber=V;function A(I){if(I instanceof RegExp)return(0,l.RegExpString)(I.toString());throw C.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(I)}`)}s.ensureRegExpString=A;function Z(I){if(I!==null&&(v.default.isBN(I)||le(I)))return new v.default(I.toString(10),10);if(typeof I=="number")return new v.default(V(I));if(typeof I=="string"){if(p.test(I))return new v.default(I,10);if(G(I))return new v.default(K(I,!1),16)}throw C.standardErrors.rpc.invalidParams(`Not an integer: ${String(I)}`)}s.ensureBN=Z;function ve(I){if(typeof I=="string")return JSON.parse(I);if(typeof I=="object")return I;throw C.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(I)}`)}s.ensureParsedJSONObject=ve;function le(I){if(I==null||typeof I.constructor!="function")return!1;const{constructor:N}=I;return typeof N.config=="function"&&typeof N.EUCLID=="number"}s.isBigNumber=le;function we(I,N){return Array.from({length:N-I},(W,Y)=>I+Y)}s.range=we;function fe(){const I=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:N,host:W}=document.location,Y=I?I.getAttribute("href"):null;return!Y||Y.startsWith("javascript:")||Y.startsWith("vbscript:")?null:Y.startsWith("http://")||Y.startsWith("https://")||Y.startsWith("data:")?Y:Y.startsWith("//")?N+Y:`${N}//${W}${Y}`}s.getFavicon=fe;function H(I,N,W,Y,te,T){const ie=Y?"parent-id":"id",Pe=new URLSearchParams({[ie]:I,secret:N,server:W,v:te,chainId:T.toString()}).toString();return`${W}/#/link?${Pe}`}s.createQrUrl=H;function g(){try{return window.frameElement!==null}catch{return!1}}s.isInIFrame=g;function x(){try{return g()&&window.top?window.top.location:window.location}catch{return window.location}}s.getLocation=x;function L(){var I;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((I=window==null?void 0:window.navigator)===null||I===void 0?void 0:I.userAgent)}s.isMobileWeb=L},4325:function(pe,s,f){"use strict";var a;a={value:!0},a=s.jp=void 0;const M=f(64085),v=f(13073);var C=f(64085);Object.defineProperty(s,"jp",{enumerable:!0,get:function(){return C.CoinbaseWalletSDK}});var l=f(13073);a={enumerable:!0,get:function(){return l.CoinbaseWalletProvider}},a=M.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=M.CoinbaseWalletSDK,window.CoinbaseWalletProvider=v.CoinbaseWalletProvider,window.WalletLink=M.CoinbaseWalletSDK,window.WalletLinkProvider=v.CoinbaseWalletProvider)},15842:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Cipher=void 0;const a=f(56572);class M{constructor(C){this.secret=C}async encrypt(C){const l=this.secret;if(l.length!==64)throw Error("secret must be 256 bits");const p=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.importKey("raw",(0,a.hexStringToUint8Array)(l),{name:"aes-gcm"},!1,["encrypt","decrypt"]),y=new TextEncoder,b=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:p},o,y.encode(C)),_=16,P=b.slice(b.byteLength-_),m=b.slice(0,b.byteLength-_),d=new Uint8Array(P),S=new Uint8Array(m),O=new Uint8Array([...p,...d,...S]);return(0,a.uint8ArrayToHex)(O)}async decrypt(C){const l=this.secret;if(l.length!==64)throw Error("secret must be 256 bits");return new Promise((p,o)=>{(async function(){const y=await crypto.subtle.importKey("raw",(0,a.hexStringToUint8Array)(l),{name:"aes-gcm"},!1,["encrypt","decrypt"]),b=(0,a.hexStringToUint8Array)(C),_=b.slice(0,12),P=b.slice(12,28),m=b.slice(28),d=new Uint8Array([...m,...P]),S={name:"AES-GCM",iv:new Uint8Array(_)};try{const O=await window.crypto.subtle.decrypt(S,y,d),z=new TextDecoder;p(z.decode(O))}catch(O){o(O)}})()})}}s.Cipher=M},99533:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ScopedLocalStorage=void 0;class f{constructor(M){this.scope=M}setItem(M,v){localStorage.setItem(this.scopedKey(M),v)}getItem(M){return localStorage.getItem(this.scopedKey(M))}removeItem(M){localStorage.removeItem(this.scopedKey(M))}clear(){const M=this.scopedKey(""),v=[];for(let C=0;C<localStorage.length;C++){const l=localStorage.key(C);typeof l=="string"&&l.startsWith(M)&&v.push(l)}v.forEach(C=>localStorage.removeItem(C))}scopedKey(M){return`${this.scope}:${M}`}}s.ScopedLocalStorage=f},6534:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')()},99004:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0}),s.injectCssReset=void 0;const M=a(f(6534));function v(){const C=document.createElement("style");C.type="text/css",C.appendChild(document.createTextNode(M.default)),document.documentElement.appendChild(C)}s.injectCssReset=v},13073:function(pe,s,f){"use strict";var a=f(55872).Buffer,M=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoinbaseWalletProvider=void 0;const v=M(f(39098)),C=f(2337),l=f(55979),p=f(56572),o=f(86161),y=f(5057),b=f(73804),_=f(20183),P=M(f(90285)),m=f(28029),d=f(71872),S=f(95580),O="DefaultChainId",z="DefaultJsonRpcUrl";class j extends C.EventEmitter{constructor(B){var K,F;super(),this._filterPolyfill=new d.FilterPolyfill(this),this._subscriptionManager=new S.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=B.chainId,this._jsonRpcUrlFromOpts=B.jsonRpcUrl,this._overrideIsMetaMask=B.overrideIsMetaMask,this._relayProvider=B.relayProvider,this._storage=B.storage,this._relayEventManager=B.relayEventManager,this.diagnostic=B.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(K=B.overrideIsCoinbaseWallet)!==null&&K!==void 0?K:!0,this.isCoinbaseBrowser=(F=B.overrideIsCoinbaseBrowser)!==null&&F!==void 0?F:!1,this.qrUrl=B.qrUrl;const re=this.getChainId(),V=(0,p.prepend0x)(re.toString(16));this.emit("connect",{chainIdStr:V});const A=this._storage.getItem(y.LOCAL_STORAGE_ADDRESSES_KEY);if(A){const Z=A.split(" ");Z[0]!==""&&(this._addresses=Z.map(ve=>(0,p.ensureAddressString)(ve)),this.emit("accountsChanged",Z))}this._subscriptionManager.events.on("notification",Z=>{this.emit("message",{type:Z.method,data:Z.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",Z=>{var ve;if(!(Z.origin!==location.origin||Z.source!==window)&&Z.data.type==="walletLinkMessage"&&Z.data.data.action==="dappChainSwitched"){const le=Z.data.data.chainId,we=(ve=Z.data.data.jsonRpcUrl)!==null&&ve!==void 0?ve:this.jsonRpcUrl;this.updateProviderInfo(we,Number(le))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,p.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var B;return(B=this._storage.getItem(z))!==null&&B!==void 0?B:this._jsonRpcUrlFromOpts}set jsonRpcUrl(B){this._storage.setItem(z,B)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(B,K){this.isCoinbaseBrowser||(this._chainIdFromOpts=K,this._jsonRpcUrlFromOpts=B),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(B,K){this.jsonRpcUrl=B;const F=this.getChainId();this._storage.setItem(O,K.toString(10)),((0,p.ensureIntNumber)(K)!==F||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(B,K,F,re,V,A){const ve=await(await this.initializeRelay()).watchAsset(B,K,F,re,V,A==null?void 0:A.toString()).promise;return(0,_.isErrorResponse)(ve)?!1:!!ve.result}async addEthereumChain(B,K,F,re,V,A){var Z,ve;if((0,p.ensureIntNumber)(B)===this.getChainId())return!1;const le=await this.initializeRelay(),we=le.inlineAddEthereumChain(B.toString());!this._isAuthorized()&&!we&&await le.requestEthereumAccounts().promise;const fe=await le.addEthereumChain(B.toString(),K,V,F,re,A).promise;return(0,_.isErrorResponse)(fe)?!1:(((Z=fe.result)===null||Z===void 0?void 0:Z.isApproved)===!0&&this.updateProviderInfo(K[0],B),((ve=fe.result)===null||ve===void 0?void 0:ve.isApproved)===!0)}async switchEthereumChain(B){const F=await(await this.initializeRelay()).switchEthereumChain(B.toString(10),this.selectedAddress||void 0).promise;if((0,_.isErrorResponse)(F)){if(!F.errorCode)return;throw F.errorCode===l.standardErrorCodes.provider.unsupportedChain?l.standardErrors.provider.unsupportedChain():l.standardErrors.provider.custom({message:F.errorMessage,code:F.errorCode})}const re=F.result;re.isApproved&&re.rpcUrl.length>0&&this.updateProviderInfo(re.rpcUrl,B)}setAppInfo(B,K){this.initializeRelay().then(F=>F.setAppInfo(B,K))}async enable(){var B;return(B=this.diagnostic)===null||B===void 0||B.log(m.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(B,K){try{const F=this._send(B,K);if(F instanceof Promise)return F.catch(re=>{throw(0,l.serializeError)(re,B)})}catch(F){throw(0,l.serializeError)(F,B)}}_send(B,K){if(typeof B=="string"){const re=B,V=Array.isArray(K)?K:K!==void 0?[K]:[],A={jsonrpc:"2.0",id:0,method:re,params:V};return this._sendRequestAsync(A).then(Z=>Z.result)}if(typeof K=="function"){const re=B,V=K;return this._sendAsync(re,V)}if(Array.isArray(B))return B.map(V=>this._sendRequest(V));const F=B;return this._sendRequest(F)}async sendAsync(B,K){try{return this._sendAsync(B,K).catch(F=>{throw(0,l.serializeError)(F,B)})}catch(F){return Promise.reject((0,l.serializeError)(F,B))}}async _sendAsync(B,K){if(typeof K!="function")throw new Error("callback is required");if(Array.isArray(B)){const re=K;this._sendMultipleRequestsAsync(B).then(V=>re(null,V)).catch(V=>re(V,null));return}const F=K;return this._sendRequestAsync(B).then(re=>F(null,re)).catch(re=>F(re,null))}async request(B){try{return this._request(B).catch(K=>{throw(0,l.serializeError)(K,B.method)})}catch(K){return Promise.reject((0,l.serializeError)(K,B.method))}}async _request(B){if(!B||typeof B!="object"||Array.isArray(B))throw l.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:B});const{method:K,params:F}=B;if(typeof K!="string"||K.length===0)throw l.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:B});if(F!==void 0&&!Array.isArray(F)&&(typeof F!="object"||F===null))throw l.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:B});const re=F===void 0?[]:F,V=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:K,params:re,jsonrpc:"2.0",id:V})).result}async scanQRCode(B){const F=await(await this.initializeRelay()).scanQRCode((0,p.ensureRegExpString)(B)).promise;if((0,_.isErrorResponse)(F))throw(0,l.serializeError)(F.errorMessage,"scanQRCode");if(typeof F.result!="string")throw(0,l.serializeError)("result was not a string","scanQRCode");return F.result}async genericRequest(B,K){const re=await(await this.initializeRelay()).genericRequest(B,K).promise;if((0,_.isErrorResponse)(re))throw(0,l.serializeError)(re.errorMessage,"generic");if(typeof re.result!="string")throw(0,l.serializeError)("result was not a string","generic");return re.result}async connectAndSignIn(B){var K;(K=this.diagnostic)===null||K===void 0||K.log(m.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0});let F;try{const V=await this.initializeRelay();if(!(V instanceof o.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(F=await V.connectAndSignIn(B).promise,(0,_.isErrorResponse)(F))throw new Error(F.errorMessage)}catch(V){throw typeof V.message=="string"&&V.message.match(/(denied|rejected)/i)?l.standardErrors.provider.userRejectedRequest("User denied account authorization"):V}if(!F.result)throw new Error("accounts received is empty");const{accounts:re}=F.result;return this._setAddresses(re),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),F.result}async selectProvider(B){const F=await(await this.initializeRelay()).selectProvider(B).promise;if((0,_.isErrorResponse)(F))throw(0,l.serializeError)(F.errorMessage,"selectProvider");if(typeof F.result!="string")throw(0,l.serializeError)("result was not a string","selectProvider");return F.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(B){const K={jsonrpc:"2.0",id:B.id},{method:F}=B;if(K.result=this._handleSynchronousMethods(B),K.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${F} synchronously without a callback. Please provide a callback parameter to call ${F} asynchronously.`);return K}_setAddresses(B,K){if(!Array.isArray(B))throw new Error("addresses is not an array");const F=B.map(re=>(0,p.ensureAddressString)(re));JSON.stringify(F)!==JSON.stringify(this._addresses)&&(this._addresses=F,this.emit("accountsChanged",this._addresses),this._storage.setItem(y.LOCAL_STORAGE_ADDRESSES_KEY,F.join(" ")))}_sendRequestAsync(B){return new Promise((K,F)=>{try{const re=this._handleSynchronousMethods(B);if(re!==void 0)return K({jsonrpc:"2.0",id:B.id,result:re});const V=this._handleAsynchronousFilterMethods(B);if(V!==void 0){V.then(Z=>K(Object.assign(Object.assign({},Z),{id:B.id}))).catch(Z=>F(Z));return}const A=this._handleSubscriptionMethods(B);if(A!==void 0){A.then(Z=>K({jsonrpc:"2.0",id:B.id,result:Z.result})).catch(Z=>F(Z));return}}catch(re){return F(re)}this._handleAsynchronousMethods(B).then(re=>re&&K(Object.assign(Object.assign({},re),{id:B.id}))).catch(re=>F(re))})}_sendMultipleRequestsAsync(B){return Promise.all(B.map(K=>this._sendRequestAsync(K)))}_handleSynchronousMethods(B){const{method:K}=B,F=B.params||[];switch(K){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(F);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(B){const{method:K}=B,F=B.params||[];switch(K){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(F);case"eth_ecRecover":return this._eth_ecRecover(F);case"personal_sign":return this._personal_sign(F);case"personal_ecRecover":return this._personal_ecRecover(F);case"eth_signTransaction":return this._eth_signTransaction(F);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(F);case"eth_sendTransaction":return this._eth_sendTransaction(F);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(F);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(F);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(F);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(F);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(F);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(F);case"wallet_watchAsset":return this._wallet_watchAsset(F)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(B,this.jsonRpcUrl).catch(V=>{var A;throw(V.code===l.standardErrorCodes.rpc.methodNotFound||V.code===l.standardErrorCodes.rpc.methodNotSupported)&&((A=this.diagnostic)===null||A===void 0||A.log(m.EVENTS.METHOD_NOT_IMPLEMENTED,{method:B.method,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0})),V})}_handleAsynchronousFilterMethods(B){const{method:K}=B,F=B.params||[];switch(K){case"eth_newFilter":return this._eth_newFilter(F);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(F);case"eth_getFilterLogs":return this._eth_getFilterLogs(F)}}_handleSubscriptionMethods(B){switch(B.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(B)}}_isKnownAddress(B){try{const K=(0,p.ensureAddressString)(B);return this._addresses.map(re=>(0,p.ensureAddressString)(re)).includes(K)}catch{}return!1}_ensureKnownAddress(B){var K;if(!this._isKnownAddress(B))throw(K=this.diagnostic)===null||K===void 0||K.log(m.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(B){const K=B.from?(0,p.ensureAddressString)(B.from):this.selectedAddress;if(!K)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(K);const F=B.to?(0,p.ensureAddressString)(B.to):null,re=B.value!=null?(0,p.ensureBN)(B.value):new v.default(0),V=B.data?(0,p.ensureBuffer)(B.data):a.alloc(0),A=B.nonce!=null?(0,p.ensureIntNumber)(B.nonce):null,Z=B.gasPrice!=null?(0,p.ensureBN)(B.gasPrice):null,ve=B.maxFeePerGas!=null?(0,p.ensureBN)(B.maxFeePerGas):null,le=B.maxPriorityFeePerGas!=null?(0,p.ensureBN)(B.maxPriorityFeePerGas):null,we=B.gas!=null?(0,p.ensureBN)(B.gas):null,fe=B.chainId?(0,p.ensureIntNumber)(B.chainId):this.getChainId();return{fromAddress:K,toAddress:F,weiValue:re,data:V,nonce:A,gasPriceInWei:Z,maxFeePerGas:ve,maxPriorityFeePerGas:le,gasLimit:we,chainId:fe}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw l.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw l.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(B,K,F,re){this._ensureKnownAddress(K);try{const A=await(await this.initializeRelay()).signEthereumMessage(B,K,F,re).promise;if((0,_.isErrorResponse)(A))throw new Error(A.errorMessage);return{jsonrpc:"2.0",id:0,result:A.result}}catch(V){throw typeof V.message=="string"&&V.message.match(/(denied|rejected)/i)?l.standardErrors.provider.userRejectedRequest("User denied message signature"):V}}async _ethereumAddressFromSignedMessage(B,K,F){const V=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(B,K,F).promise;if((0,_.isErrorResponse)(V))throw new Error(V.errorMessage);return{jsonrpc:"2.0",id:0,result:V.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,p.hexStringFromIntNumber)(this.getChainId())}getChainId(){const B=this._storage.getItem(O);if(!B)return(0,p.ensureIntNumber)(this._chainIdFromOpts);const K=parseInt(B,10);return(0,p.ensureIntNumber)(K)}async _eth_requestAccounts(){var B;if((B=this.diagnostic)===null||B===void 0||B.log(m.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let K;try{if(K=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,_.isErrorResponse)(K))throw new Error(K.errorMessage)}catch(F){throw typeof F.message=="string"&&F.message.match(/(denied|rejected)/i)?l.standardErrors.provider.userRejectedRequest("User denied account authorization"):F}if(!K.result)throw new Error("accounts received is empty");return this._setAddresses(K.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(B){this._requireAuthorization();const K=(0,p.ensureAddressString)(B[0]),F=(0,p.ensureBuffer)(B[1]);return this._signEthereumMessage(F,K,!1)}_eth_ecRecover(B){const K=(0,p.ensureBuffer)(B[0]),F=(0,p.ensureBuffer)(B[1]);return this._ethereumAddressFromSignedMessage(K,F,!1)}_personal_sign(B){this._requireAuthorization();const K=(0,p.ensureBuffer)(B[0]),F=(0,p.ensureAddressString)(B[1]);return this._signEthereumMessage(K,F,!0)}_personal_ecRecover(B){const K=(0,p.ensureBuffer)(B[0]),F=(0,p.ensureBuffer)(B[1]);return this._ethereumAddressFromSignedMessage(K,F,!0)}async _eth_signTransaction(B){this._requireAuthorization();const K=this._prepareTransactionParams(B[0]||{});try{const re=await(await this.initializeRelay()).signEthereumTransaction(K).promise;if((0,_.isErrorResponse)(re))throw new Error(re.errorMessage);return{jsonrpc:"2.0",id:0,result:re.result}}catch(F){throw typeof F.message=="string"&&F.message.match(/(denied|rejected)/i)?l.standardErrors.provider.userRejectedRequest("User denied transaction signature"):F}}async _eth_sendRawTransaction(B){const K=(0,p.ensureBuffer)(B[0]),re=await(await this.initializeRelay()).submitEthereumTransaction(K,this.getChainId()).promise;if((0,_.isErrorResponse)(re))throw new Error(re.errorMessage);return{jsonrpc:"2.0",id:0,result:re.result}}async _eth_sendTransaction(B){this._requireAuthorization();const K=this._prepareTransactionParams(B[0]||{});try{const re=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(K).promise;if((0,_.isErrorResponse)(re))throw new Error(re.errorMessage);return{jsonrpc:"2.0",id:0,result:re.result}}catch(F){throw typeof F.message=="string"&&F.message.match(/(denied|rejected)/i)?l.standardErrors.provider.userRejectedRequest("User denied transaction signature"):F}}async _eth_signTypedData_v1(B){this._requireAuthorization();const K=(0,p.ensureParsedJSONObject)(B[0]),F=(0,p.ensureAddressString)(B[1]);this._ensureKnownAddress(F);const re=P.default.hashForSignTypedDataLegacy({data:K}),V=JSON.stringify(K,null,2);return this._signEthereumMessage(re,F,!1,V)}async _eth_signTypedData_v3(B){this._requireAuthorization();const K=(0,p.ensureAddressString)(B[0]),F=(0,p.ensureParsedJSONObject)(B[1]);this._ensureKnownAddress(K);const re=P.default.hashForSignTypedData_v3({data:F}),V=JSON.stringify(F,null,2);return this._signEthereumMessage(re,K,!1,V)}async _eth_signTypedData_v4(B){this._requireAuthorization();const K=(0,p.ensureAddressString)(B[0]),F=(0,p.ensureParsedJSONObject)(B[1]);this._ensureKnownAddress(K);const re=P.default.hashForSignTypedData_v4({data:F}),V=JSON.stringify(F,null,2);return this._signEthereumMessage(re,K,!1,V)}async _cbwallet_arbitrary(B){const K=B[0],F=B[1];if(typeof F!="string")throw new Error("parameter must be a string");if(typeof K!="object"||K===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(K,F)}}async _wallet_addEthereumChain(B){var K,F,re,V;const A=B[0];if(((K=A.rpcUrls)===null||K===void 0?void 0:K.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!A.chainName||A.chainName.trim()==="")throw l.standardErrors.rpc.invalidParams("chainName is a required field");if(!A.nativeCurrency)throw l.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const Z=parseInt(A.chainId,16);return await this.addEthereumChain(Z,(F=A.rpcUrls)!==null&&F!==void 0?F:[],(re=A.blockExplorerUrls)!==null&&re!==void 0?re:[],A.chainName,(V=A.iconUrls)!==null&&V!==void 0?V:[],A.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(B){const K=B[0];return await this.switchEthereumChain(parseInt(K.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(B){const K=Array.isArray(B)?B[0]:B;if(!K.type)throw l.standardErrors.rpc.invalidParams("Type is required");if((K==null?void 0:K.type)!=="ERC20")throw l.standardErrors.rpc.invalidParams(`Asset of type '${K.type}' is not supported`);if(!(K!=null&&K.options))throw l.standardErrors.rpc.invalidParams("Options are required");if(!(K!=null&&K.options.address))throw l.standardErrors.rpc.invalidParams("Address is required");const F=this.getChainId(),{address:re,symbol:V,image:A,decimals:Z}=K.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(K.type,re,V,Z,A,F)}}_eth_uninstallFilter(B){const K=(0,p.ensureHexString)(B[0]);return this._filterPolyfill.uninstallFilter(K)}async _eth_newFilter(B){const K=B[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(K)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(B){const K=(0,p.ensureHexString)(B[0]);return this._filterPolyfill.getFilterChanges(K)}_eth_getFilterLogs(B){const K=(0,p.ensureHexString)(B[0]);return this._filterPolyfill.getFilterLogs(K)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(B=>(B.setAccountsCallback((K,F)=>this._setAddresses(K,F)),B.setChainCallback((K,F)=>{this.updateProviderInfo(F,parseInt(K,10))}),B.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=B,B))}}s.CoinbaseWalletProvider=j},28029:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.EVENTS=void 0,s.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},71872:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.filterFromParam=s.FilterPolyfill=void 0;const a=f(21370),M=f(56572),v=5*60*1e3,C={jsonrpc:"2.0",id:0};class l{constructor(d){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,a.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=d}async newFilter(d){const S=p(d),O=this.makeFilterId(),z=await this.setInitialCursorPosition(O,S.fromBlock);return console.info(`Installing new log filter(${O}):`,S,"initial cursor position:",z),this.logFilters.set(O,S),this.setFilterTimeout(O),(0,M.hexStringFromIntNumber)(O)}async newBlockFilter(){const d=this.makeFilterId(),S=await this.setInitialCursorPosition(d,"latest");return console.info(`Installing new block filter (${d}) with initial cursor position:`,S),this.blockFilters.add(d),this.setFilterTimeout(d),(0,M.hexStringFromIntNumber)(d)}async newPendingTransactionFilter(){const d=this.makeFilterId(),S=await this.setInitialCursorPosition(d,"latest");return console.info(`Installing new block filter (${d}) with initial cursor position:`,S),this.pendingTransactionFilters.add(d),this.setFilterTimeout(d),(0,M.hexStringFromIntNumber)(d)}uninstallFilter(d){const S=(0,M.intNumberFromHexString)(d);return console.info(`Uninstalling filter (${S})`),this.deleteFilter(S),!0}getFilterChanges(d){const S=(0,M.intNumberFromHexString)(d);return this.timeouts.has(S)&&this.setFilterTimeout(S),this.logFilters.has(S)?this.getLogFilterChanges(S):this.blockFilters.has(S)?this.getBlockFilterChanges(S):this.pendingTransactionFilters.has(S)?this.getPendingTransactionFilterChanges(S):Promise.resolve(_())}async getFilterLogs(d){const S=(0,M.intNumberFromHexString)(d),O=this.logFilters.get(S);return O?this.sendAsyncPromise(Object.assign(Object.assign({},C),{method:"eth_getLogs",params:[o(O)]})):_()}makeFilterId(){return(0,a.IntNumber)(++this.nextFilterId)}sendAsyncPromise(d){return new Promise((S,O)=>{this.provider.sendAsync(d,(z,j)=>{if(z)return O(z);if(Array.isArray(j)||j==null)return O(new Error(`unexpected response received: ${JSON.stringify(j)}`));S(j)})})}deleteFilter(d){console.info(`Deleting filter (${d})`),this.logFilters.delete(d),this.blockFilters.delete(d),this.pendingTransactionFilters.delete(d),this.cursors.delete(d),this.timeouts.delete(d)}async getLogFilterChanges(d){const S=this.logFilters.get(d),O=this.cursors.get(d);if(!O||!S)return _();const z=await this.getCurrentBlockHeight(),j=S.toBlock==="latest"?z:S.toBlock;if(O>z||O>Number(S.toBlock))return P();console.info(`Fetching logs from ${O} to ${j} for filter ${d}`);const G=await this.sendAsyncPromise(Object.assign(Object.assign({},C),{method:"eth_getLogs",params:[o(Object.assign(Object.assign({},S),{fromBlock:O,toBlock:j}))]}));if(Array.isArray(G.result)){const B=G.result.map(F=>(0,M.intNumberFromHexString)(F.blockNumber||"0x0")),K=Math.max(...B);if(K&&K>O){const F=(0,a.IntNumber)(K+1);console.info(`Moving cursor position for filter (${d}) from ${O} to ${F}`),this.cursors.set(d,F)}}return G}async getBlockFilterChanges(d){const S=this.cursors.get(d);if(!S)return _();const O=await this.getCurrentBlockHeight();if(S>O)return P();console.info(`Fetching blocks from ${S} to ${O} for filter (${d})`);const z=(await Promise.all((0,M.range)(S,O+1).map(G=>this.getBlockHashByNumber((0,a.IntNumber)(G))))).filter(G=>!!G),j=(0,a.IntNumber)(S+z.length);return console.info(`Moving cursor position for filter (${d}) from ${S} to ${j}`),this.cursors.set(d,j),Object.assign(Object.assign({},C),{result:z})}async getPendingTransactionFilterChanges(d){return Promise.resolve(P())}async setInitialCursorPosition(d,S){const O=await this.getCurrentBlockHeight(),z=typeof S=="number"&&S>O?S:O;return this.cursors.set(d,z),z}setFilterTimeout(d){const S=this.timeouts.get(d);S&&window.clearTimeout(S);const O=window.setTimeout(()=>{console.info(`Filter (${d}) timed out`),this.deleteFilter(d)},v);this.timeouts.set(d,O)}async getCurrentBlockHeight(){const d=new Date;if(d.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=d;const S=await this._getCurrentBlockHeight();this.currentBlockHeight=S,this.resolvers.forEach(O=>O(S)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(S=>this.resolvers.push(S))}async _getCurrentBlockHeight(){const{result:d}=await this.sendAsyncPromise(Object.assign(Object.assign({},C),{method:"eth_blockNumber",params:[]}));return(0,M.intNumberFromHexString)((0,M.ensureHexString)(d))}async getBlockHashByNumber(d){const S=await this.sendAsyncPromise(Object.assign(Object.assign({},C),{method:"eth_getBlockByNumber",params:[(0,M.hexStringFromIntNumber)(d),!1]}));return S.result&&typeof S.result.hash=="string"?(0,M.ensureHexString)(S.result.hash):null}}s.FilterPolyfill=l;function p(m){return{fromBlock:y(m.fromBlock),toBlock:y(m.toBlock),addresses:m.address===void 0?null:Array.isArray(m.address)?m.address:[m.address],topics:m.topics||[]}}s.filterFromParam=p;function o(m){const d={fromBlock:b(m.fromBlock),toBlock:b(m.toBlock),topics:m.topics};return m.addresses!==null&&(d.address=m.addresses),d}function y(m){if(m===void 0||m==="latest"||m==="pending")return"latest";if(m==="earliest")return(0,a.IntNumber)(0);if((0,M.isHexString)(m))return(0,M.intNumberFromHexString)(m);throw new Error(`Invalid block option: ${String(m)}`)}function b(m){return m==="latest"?m:(0,M.hexStringFromIntNumber)(m)}function _(){return Object.assign(Object.assign({},C),{error:{code:-32e3,message:"filter not found"}})}function P(){return Object.assign(Object.assign({},C),{result:[]})}},95580:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SubscriptionManager=void 0;const a=f(39447),M=f(33403),v=()=>{};class C{constructor(p){const o=new a.PollingBlockTracker({provider:p,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:y,middleware:b}=M({blockTracker:o,provider:p});this.events=y,this.subscriptionMiddleware=b}async handleRequest(p){const o={};return await this.subscriptionMiddleware(p,o,v,v),o}destroy(){this.subscriptionMiddleware.destroy()}}s.SubscriptionManager=C},5057:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.RelayAbstract=s.APP_VERSION_KEY=s.LOCAL_STORAGE_ADDRESSES_KEY=s.WALLET_USER_NAME_KEY=void 0;const a=f(55979);s.WALLET_USER_NAME_KEY="walletUsername",s.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",s.APP_VERSION_KEY="AppVersion";class M{async makeEthereumJSONRPCRequest(C,l){if(!l)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(l,{method:"POST",body:JSON.stringify(C),mode:"cors",headers:{"Content-Type":"application/json"}}).then(p=>p.json()).then(p=>{if(!p)throw a.standardErrors.rpc.parse({});const o=p,{error:y}=o;if(y)throw(0,a.serializeError)(y,C.method);return o})}}s.RelayAbstract=M},52565:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.RelayEventManager=void 0;const a=f(56572);class M{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const C=this._nextRequestId,l=(0,a.prepend0x)(C.toString(16));return this.callbacks.get(l)&&this.callbacks.delete(l),C}}s.RelayEventManager=M},73804:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Session=void 0;const a=f(31337),M=f(56572),v="session:id",C="session:secret",l="session:linked";class p{constructor(y,b,_,P){this._storage=y,this._id=b||(0,M.randomBytesHex)(16),this._secret=_||(0,M.randomBytesHex)(32),this._key=new a.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!P}static load(y){const b=y.getItem(v),_=y.getItem(l),P=y.getItem(C);return b&&P?new p(y,b,P,_==="1"):null}static hash(y){return new a.sha256().update(y).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(y){this._linked=y,this.persistLinked()}save(){return this._storage.setItem(v,this._id),this._storage.setItem(C,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(l,this._linked?"1":"0")}}s.Session=p},86161:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.MobileRelay=void 0;const a=f(56572),M=f(34233),v=f(43882);class C extends M.WalletLinkRelay{constructor(p){var o;super(p),this._enableMobileWalletLink=(o=p.enableMobileWalletLink)!==null&&o!==void 0?o:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const p=(0,a.getLocation)();p.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(p.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(p,o){if(super.publishWeb3RequestEvent(p,o),!(this._enableMobileWalletLink&&this.ui instanceof v.MobileRelayUI))return;let y=!1;switch(o.method){case"requestEthereumAccounts":case"connectAndSignIn":y=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:y=!0,this.ui.openCoinbaseWalletDeeplink();break}y&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(p){super.handleWeb3ResponseMessage(p),this._enableMobileWalletLink&&this.ui instanceof v.MobileRelayUI&&this.ui.closeOpenedWindow()}connectAndSignIn(p){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:p.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:p.statement,resources:p.resources}})}}s.MobileRelay=C},43882:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.MobileRelayUI=void 0;const a=f(61368);class M{constructor(C){this.attached=!1,this.darkMode=!1,this.openedWindow=null,this.redirectDialog=new a.RedirectDialog,this.darkMode=C.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(C){}closeOpenedWindow(){var C;(C=this.openedWindow)===null||C===void 0||C.close(),this.openedWindow=null}redirectToCoinbaseWallet(C){const l=new URL("https://go.cb-w.com/walletlink");l.searchParams.append("redirect_url",window.location.href),C&&l.searchParams.append("wl_url",C),this.openedWindow=window.open(l.href,"cbw-opener"),this.openedWindow&&setTimeout(()=>this.closeOpenedWindow(),5e3)}openCoinbaseWalletDeeplink(C){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(C)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(C)},99)}showConnecting(C){return()=>{this.closeOpenedWindow(),this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.closeOpenedWindow(),this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}s.MobileRelayUI=M},34233:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WalletLinkRelay=void 0;const a=f(55979),M=f(21370),v=f(56572),C=f(28029),l=f(5057),p=f(73804),o=f(39515),y=f(20183),b=f(92323);class _ extends l.RelayAbstract{constructor(m){var d;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=j=>{var G;this.isLinked=j;const B=this.storage.getItem(l.LOCAL_STORAGE_ADDRESSES_KEY);if(j&&(this.session.linked=j),this.isUnlinkedErrorState=!1,B){const K=B.split(" "),F=this.storage.getItem("IsStandaloneSigning")==="true";if(K[0]!==""&&!j&&this.session.linked&&!F){this.isUnlinkedErrorState=!0;const re=this.getSessionIdHash();(G=this.diagnostic)===null||G===void 0||G.log(C.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:re})}}},this.metadataUpdated=(j,G)=>{this.storage.setItem(j,G)},this.chainUpdated=(j,G)=>{this.chainCallbackParams.chainId===j&&this.chainCallbackParams.jsonRpcUrl===G||(this.chainCallbackParams={chainId:j,jsonRpcUrl:G},this.chainCallback&&this.chainCallback(j,G))},this.accountUpdated=j=>{this.accountsCallback&&this.accountsCallback([j]),_.accountRequestCallbackIds.size>0&&(Array.from(_.accountRequestCallbackIds.values()).forEach(G=>{const B={type:"WEB3_RESPONSE",id:G,response:{method:"requestEthereumAccounts",result:[j]}};this.invokeCallback(Object.assign(Object.assign({},B),{id:G}))}),_.accountRequestCallbackIds.clear())},this.connectedUpdated=j=>{this.ui.setConnected(j)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=m.linkAPIUrl,this.storage=m.storage,this.options=m;const{session:S,ui:O,connection:z}=this.subscribe();this._session=S,this.connection=z,this.relayEventManager=m.relayEventManager,this.diagnostic=m.diagnosticLogger,this._reloadOnDisconnect=(d=m.reloadOnDisconnect)!==null&&d!==void 0?d:!0,this.ui=O}subscribe(){const m=p.Session.load(this.storage)||new p.Session(this.storage).save(),{linkAPIUrl:d,diagnostic:S}=this,O=new o.WalletLinkConnection({session:m,linkAPIUrl:d,diagnostic:S,listener:this}),{version:z,darkMode:j}=this.options,G=this.options.uiConstructor({linkAPIUrl:d,version:z,darkMode:j,session:m});return O.connect(),{session:m,ui:G,connection:O}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(m=>setTimeout(()=>m(null),1e3))]).then(()=>{var m,d;const S=this.ui.isStandalone();(m=this.diagnostic)===null||m===void 0||m.log(C.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const O=p.Session.load(this.storage);if((O==null?void 0:O.id)===this._session.id?this.storage.clear():O&&((d=this.diagnostic)===null||d===void 0||d.log(C.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:p.Session.hash(O.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:z,ui:j,connection:G}=this.subscribe();this._session=z,this.connection=G,this.ui=j,S&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()}).catch(m=>{var d;(d=this.diagnostic)===null||d===void 0||d.log(C.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${m}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(m,d){this.appName=m,this.appLogoUrl=d}getStorageItem(m){return this.storage.getItem(m)}get session(){return this._session}setStorageItem(m,d){this.storage.setItem(m,d)}signEthereumMessage(m,d,S,O){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,v.hexStringFromBuffer)(m,!0),address:d,addPrefix:S,typedDataJson:O||null}})}ethereumAddressFromSignedMessage(m,d,S){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,v.hexStringFromBuffer)(m,!0),signature:(0,v.hexStringFromBuffer)(d,!0),addPrefix:S}})}signEthereumTransaction(m){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:m.fromAddress,toAddress:m.toAddress,weiValue:(0,v.bigIntStringFromBN)(m.weiValue),data:(0,v.hexStringFromBuffer)(m.data,!0),nonce:m.nonce,gasPriceInWei:m.gasPriceInWei?(0,v.bigIntStringFromBN)(m.gasPriceInWei):null,maxFeePerGas:m.gasPriceInWei?(0,v.bigIntStringFromBN)(m.gasPriceInWei):null,maxPriorityFeePerGas:m.gasPriceInWei?(0,v.bigIntStringFromBN)(m.gasPriceInWei):null,gasLimit:m.gasLimit?(0,v.bigIntStringFromBN)(m.gasLimit):null,chainId:m.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(m){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:m.fromAddress,toAddress:m.toAddress,weiValue:(0,v.bigIntStringFromBN)(m.weiValue),data:(0,v.hexStringFromBuffer)(m.data,!0),nonce:m.nonce,gasPriceInWei:m.gasPriceInWei?(0,v.bigIntStringFromBN)(m.gasPriceInWei):null,maxFeePerGas:m.maxFeePerGas?(0,v.bigIntStringFromBN)(m.maxFeePerGas):null,maxPriorityFeePerGas:m.maxPriorityFeePerGas?(0,v.bigIntStringFromBN)(m.maxPriorityFeePerGas):null,gasLimit:m.gasLimit?(0,v.bigIntStringFromBN)(m.gasLimit):null,chainId:m.chainId,shouldSubmit:!0}})}submitEthereumTransaction(m,d){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,v.hexStringFromBuffer)(m,!0),chainId:d}})}scanQRCode(m){return this.sendRequest({method:"scanQRCode",params:{regExp:m}})}getQRCodeUrl(){return(0,v.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(m,d){return this.sendRequest({method:"generic",params:{action:d,data:m}})}sendGenericMessage(m){return this.sendRequest(m)}sendRequest(m){let d=null;const S=(0,v.randomBytesHex)(8),O=j=>{this.publishWeb3RequestCanceledEvent(S),this.handleErrorResponse(S,m.method,j),d==null||d()};return{promise:new Promise((j,G)=>{this.ui.isStandalone()||(d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:O,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(S,B=>{if(d==null||d(),(0,y.isErrorResponse)(B))return G(new Error(B.errorMessage));j(B)}),this.ui.isStandalone()?this.sendRequestStandalone(S,m):this.publishWeb3RequestEvent(S,m)}),cancel:O}}setConnectDisabled(m){this.ui.setConnectDisabled(m)}setAccountsCallback(m){this.accountsCallback=m}setChainCallback(m){this.chainCallback=m}setDappDefaultChainCallback(m){this.dappDefaultChain=m,this.ui instanceof b.WalletLinkRelayUI&&this.ui.setChainId(m)}publishWeb3RequestEvent(m,d){var S;const O={type:"WEB3_REQUEST",id:m,request:d},z=p.Session.load(this.storage);(S=this.diagnostic)===null||S===void 0||S.log(C.EVENTS.WEB3_REQUEST,{eventId:O.id,method:`relay::${d.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:z?p.Session.hash(z.id):"",isSessionMismatched:((z==null?void 0:z.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",O,!0).then(j=>{var G;(G=this.diagnostic)===null||G===void 0||G.log(C.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:O.id,method:`relay::${d.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:z?p.Session.hash(z.id):"",isSessionMismatched:((z==null?void 0:z.id)!==this._session.id).toString()})}).catch(j=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:O.id,response:{method:d.method,errorMessage:j.message}})})}publishWeb3RequestCanceledEvent(m){const d={type:"WEB3_REQUEST_CANCELED",id:m};this.publishEvent("Web3RequestCanceled",d,!1).then()}publishEvent(m,d,S){return this.connection.publishEvent(m,d,S)}handleWeb3ResponseMessage(m){var d;const{response:S}=m;if((d=this.diagnostic)===null||d===void 0||d.log(C.EVENTS.WEB3_RESPONSE,{eventId:m.id,method:`relay::${S.method}`,sessionIdHash:this.getSessionIdHash()}),S.method==="requestEthereumAccounts"){_.accountRequestCallbackIds.forEach(O=>this.invokeCallback(Object.assign(Object.assign({},m),{id:O}))),_.accountRequestCallbackIds.clear();return}this.invokeCallback(m)}handleErrorResponse(m,d,S,O){var z;const j=(z=S==null?void 0:S.message)!==null&&z!==void 0?z:(0,a.getMessageFromCode)(O);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:m,response:{method:d,errorMessage:j,errorCode:O}})}invokeCallback(m){const d=this.relayEventManager.callbacks.get(m.id);d&&(d(m.response),this.relayEventManager.callbacks.delete(m.id))}requestEthereumAccounts(){const m={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},d=null,S=(0,v.randomBytesHex)(8),O=j=>{this.publishWeb3RequestCanceledEvent(S),this.handleErrorResponse(S,m.method,j),d==null||d()};return{promise:new Promise((j,G)=>{if(this.relayEventManager.callbacks.set(S,B=>{if(this.ui.hideRequestEthereumAccounts(),d==null||d(),(0,y.isErrorResponse)(B))return G(new Error(B.errorMessage));j(B)}),this.ui.inlineAccountsResponse()){const B=K=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:S,response:{method:"requestEthereumAccounts",result:K}})};this.ui.requestEthereumAccounts({onCancel:O,onAccounts:B})}else{const B=a.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>O(B)})}_.accountRequestCallbackIds.add(S),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(S,m)}),cancel:O}}selectProvider(m){const d={method:"selectProvider",params:{providerOptions:m}},S=(0,v.randomBytesHex)(8),O=j=>{this.publishWeb3RequestCanceledEvent(S),this.handleErrorResponse(S,d.method,j)},z=new Promise((j,G)=>{this.relayEventManager.callbacks.set(S,F=>{if((0,y.isErrorResponse)(F))return G(new Error(F.errorMessage));j(F)});const B=F=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:S,response:{method:"selectProvider",result:M.ProviderType.Unselected}})},K=F=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:S,response:{method:"selectProvider",result:F}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:K,onCancel:B,providerOptions:m})});return{cancel:O,promise:z}}watchAsset(m,d,S,O,z,j){const G={method:"watchAsset",params:{type:m,options:{address:d,symbol:S,decimals:O,image:z},chainId:j}};let B=null;const K=(0,v.randomBytesHex)(8),F=V=>{this.publishWeb3RequestCanceledEvent(K),this.handleErrorResponse(K,G.method,V),B==null||B()};this.ui.inlineWatchAsset()||(B=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:F,onResetConnection:this.resetAndReload}));const re=new Promise((V,A)=>{this.relayEventManager.callbacks.set(K,le=>{if(B==null||B(),(0,y.isErrorResponse)(le))return A(new Error(le.errorMessage));V(le)});const Z=le=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:K,response:{method:"watchAsset",result:!1}})},ve=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:K,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:ve,onCancel:Z,type:m,address:d,symbol:S,decimals:O,image:z,chainId:j}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(K,G)});return{cancel:F,promise:re}}addEthereumChain(m,d,S,O,z,j){const G={method:"addEthereumChain",params:{chainId:m,rpcUrls:d,blockExplorerUrls:O,chainName:z,iconUrls:S,nativeCurrency:j}};let B=null;const K=(0,v.randomBytesHex)(8),F=V=>{this.publishWeb3RequestCanceledEvent(K),this.handleErrorResponse(K,G.method,V),B==null||B()};return this.ui.inlineAddEthereumChain(m)||(B=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:F,onResetConnection:this.resetAndReload})),{promise:new Promise((V,A)=>{this.relayEventManager.callbacks.set(K,le=>{if(B==null||B(),(0,y.isErrorResponse)(le))return A(new Error(le.errorMessage));V(le)});const Z=le=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:K,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},ve=le=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:K,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:le}}})};this.ui.inlineAddEthereumChain(m)&&this.ui.addEthereumChain({onCancel:Z,onApprove:ve,chainId:G.params.chainId,rpcUrls:G.params.rpcUrls,blockExplorerUrls:G.params.blockExplorerUrls,chainName:G.params.chainName,iconUrls:G.params.iconUrls,nativeCurrency:G.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(m)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(K,G)}),cancel:F}}switchEthereumChain(m,d){const S={method:"switchEthereumChain",params:Object.assign({chainId:m},{address:d})},O=(0,v.randomBytesHex)(8),z=G=>{this.publishWeb3RequestCanceledEvent(O),this.handleErrorResponse(O,S.method,G)};return{promise:new Promise((G,B)=>{this.relayEventManager.callbacks.set(O,re=>{if((0,y.isErrorResponse)(re)&&re.errorCode)return B(a.standardErrors.provider.custom({code:re.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,y.isErrorResponse)(re))return B(new Error(re.errorMessage));G(re)});const K=re=>{var V;if(re){const A=(V=(0,a.getErrorCode)(re))!==null&&V!==void 0?V:a.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(O,"switchEthereumChain",re instanceof Error?re:a.standardErrors.provider.unsupportedChain(m),A)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:O,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},F=re=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:O,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:re}}})};this.ui.switchEthereumChain({onCancel:K,onApprove:F,chainId:S.params.chainId,address:S.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(O,S)}),cancel:z}}inlineAddEthereumChain(m){return this.ui.inlineAddEthereumChain(m)}getSessionIdHash(){return p.Session.hash(this._session.id)}sendRequestStandalone(m,d){const S=z=>{this.handleErrorResponse(m,d.method,z)},O=z=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:m,response:z})};switch(d.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:d,onSuccess:O,onCancel:S});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:d,onSuccess:O,onCancel:S});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:d,onSuccess:O,onCancel:S});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:d,onSuccess:O});break;default:S();break}}}s.WalletLinkRelay=_,_.accountRequestCallbackIds=new Set},39515:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WalletLinkConnection=void 0;const a=f(21370),M=f(15842),v=f(28029),C=f(5057),l=f(73804),p=f(2534),o=f(66648),y=1e4,b=6e4;class _{constructor({session:m,linkAPIUrl:d,listener:S,diagnostic:O,WebSocketClass:z=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,a.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=G=>{if(!G)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",K=>G.JsonRpcUrl&&this.handleChainUpdated(K,G.JsonRpcUrl)]]).forEach((K,F)=>{const re=G[F];re!==void 0&&K(re)})},this.handleDestroyed=G=>{var B,K;G==="1"&&((B=this.listener)===null||B===void 0||B.resetAndReload(),(K=this.diagnostic)===null||K===void 0||K.log(v.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:l.Session.hash(this.session.id)}))},this.handleAccountUpdated=async G=>{var B,K;try{const F=await this.cipher.decrypt(G);(B=this.listener)===null||B===void 0||B.accountUpdated(F)}catch{(K=this.diagnostic)===null||K===void 0||K.log(v.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(G,B)=>{var K,F;try{const re=await this.cipher.decrypt(B);(K=this.listener)===null||K===void 0||K.metadataUpdated(G,re)}catch{(F=this.diagnostic)===null||F===void 0||F.log(v.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:G})}},this.handleWalletUsernameUpdated=async G=>{this.handleMetadataUpdated(C.WALLET_USER_NAME_KEY,G)},this.handleAppVersionUpdated=async G=>{this.handleMetadataUpdated(C.APP_VERSION_KEY,G)},this.handleChainUpdated=async(G,B)=>{var K,F;try{const re=await this.cipher.decrypt(G),V=await this.cipher.decrypt(B);(K=this.listener)===null||K===void 0||K.chainUpdated(re,V)}catch{(F=this.diagnostic)===null||F===void 0||F.log(v.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=m,this.cipher=new M.Cipher(m.secret),this.diagnostic=O,this.listener=S;const j=new o.WalletLinkWebSocket(`${d}/rpc`,z);j.setConnectionStateListener(async G=>{var B;(B=this.diagnostic)===null||B===void 0||B.log(v.EVENTS.CONNECTED_STATE_CHANGE,{state:G,sessionIdHash:l.Session.hash(m.id)});let K=!1;switch(G){case o.ConnectionState.DISCONNECTED:if(!this.destroyed){const F=async()=>{await new Promise(re=>setTimeout(re,5e3)),this.destroyed||j.connect().catch(()=>{F()})};F()}break;case o.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),K=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},y),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case o.ConnectionState.CONNECTING:break}this.connected!==K&&(this.connected=K)}),j.setIncomingDataListener(G=>{var B,K,F;switch(G.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const re=G.type==="IsLinkedOK"?G.linked:void 0;(B=this.diagnostic)===null||B===void 0||B.log(v.EVENTS.LINKED,{sessionIdHash:l.Session.hash(m.id),linked:re,type:G.type,onlineGuests:G.onlineGuests}),this.linked=re||G.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(K=this.diagnostic)===null||K===void 0||K.log(v.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:l.Session.hash(m.id),metadata_keys:G&&G.metadata?Object.keys(G.metadata):void 0}),this.handleSessionMetadataUpdated(G.metadata);break}case"Event":{this.handleIncomingEvent(G);break}}G.id!==void 0&&((F=this.requestResolutions.get(G.id))===null||F===void 0||F(G))}),this.ws=j,this.http=new p.WalletLinkHTTP(d,m.id,m.key)}connect(){var m;if(this.destroyed)throw new Error("instance is destroyed");(m=this.diagnostic)===null||m===void 0||m.log(v.EVENTS.STARTED_CONNECTING,{sessionIdHash:l.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var m;this.destroyed=!0,this.ws.disconnect(),(m=this.diagnostic)===null||m===void 0||m.log(v.EVENTS.DISCONNECTED,{sessionIdHash:l.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(m){var d,S;this._connected=m,m&&((d=this.onceConnected)===null||d===void 0||d.call(this)),(S=this.listener)===null||S===void 0||S.connectedUpdated(m)}setOnceConnected(m){return new Promise(d=>{this.connected?m().then(d):this.onceConnected=()=>{m().then(d),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(m){var d,S;this._linked=m,m&&((d=this.onceLinked)===null||d===void 0||d.call(this)),(S=this.listener)===null||S===void 0||S.linkedUpdated(m)}setOnceLinked(m){return new Promise(d=>{this.linked?m().then(d):this.onceLinked=()=>{m().then(d),this.onceLinked=void 0}})}async handleIncomingEvent(m){var d,S;if(!(m.type!=="Event"||m.event!=="Web3Response"))try{const O=await this.cipher.decrypt(m.data),z=JSON.parse(O);if(z.type!=="WEB3_RESPONSE")return;(d=this.listener)===null||d===void 0||d.handleWeb3ResponseMessage(z)}catch{(S=this.diagnostic)===null||S===void 0||S.log(v.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(m=>setTimeout(m,250));try{await this.fetchUnseenEventsAPI()}catch(m){console.error("Unable to check for unseen events",m)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(d=>this.handleIncomingEvent(d))}async setSessionMetadata(m,d){const S={type:"SetSessionConfig",id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[m]:d}};return this.setOnceConnected(async()=>{const O=await this.makeRequest(S);if(O.type==="Fail")throw new Error(O.error||"failed to set session metadata")})}async publishEvent(m,d,S=!1){const O=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},d),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),z={type:"PublishEvent",id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:m,data:O,callWebhook:S};return this.setOnceLinked(async()=>{const j=await this.makeRequest(z);if(j.type==="Fail")throw new Error(j.error||"failed to publish event");return j.eventId})}sendData(m){this.ws.sendData(JSON.stringify(m))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>y*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(m,d=b){const S=m.id;this.sendData(m);let O;return Promise.race([new Promise((z,j)=>{O=window.setTimeout(()=>{j(new Error(`request ${S} timed out`))},d)}),new Promise(z=>{this.requestResolutions.set(S,j=>{clearTimeout(O),z(j),this.requestResolutions.delete(S)})})])}async authenticate(){const m={type:"HostSession",id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},d=await this.makeRequest(m);if(d.type==="Fail")throw new Error(d.error||"failed to authentcate")}sendIsLinked(){const m={type:"IsLinked",id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(m)}sendGetSessionConfig(){const m={type:"GetSessionConfig",id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(m)}}s.WalletLinkConnection=_},2534:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WalletLinkHTTP=void 0;class f{constructor(M,v,C){this.linkAPIUrl=M,this.sessionId=v;const l=`${v}:${C}`;this.auth=`Basic ${btoa(l)}`}async markUnseenEventsAsSeen(M){return Promise.all(M.map(v=>fetch(`${this.linkAPIUrl}/events/${v.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(v=>console.error("Unabled to mark event as failed:",v))}async fetchUnseenEvents(){var M;const v=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(v.ok){const{events:C,error:l}=await v.json();if(l)throw new Error(`Check unseen events failed: ${l}`);const p=(M=C==null?void 0:C.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&M!==void 0?M:[];return this.markUnseenEventsAsSeen(p),p}throw new Error(`Check unseen events failed: ${v.status}`)}}s.WalletLinkHTTP=f},66648:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WalletLinkWebSocket=s.ConnectionState=void 0;var f;(function(M){M[M.DISCONNECTED=0]="DISCONNECTED",M[M.CONNECTING=1]="CONNECTING",M[M.CONNECTED=2]="CONNECTED"})(f||(s.ConnectionState=f={}));class a{setConnectionStateListener(v){this.connectionStateListener=v}setIncomingDataListener(v){this.incomingDataListener=v}constructor(v,C=WebSocket){this.WebSocketClass=C,this.webSocket=null,this.pendingData=[],this.url=v.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((v,C)=>{var l;let p;try{this.webSocket=p=new this.WebSocketClass(this.url)}catch(o){C(o);return}(l=this.connectionStateListener)===null||l===void 0||l.call(this,f.CONNECTING),p.onclose=o=>{var y;this.clearWebSocket(),C(new Error(`websocket error ${o.code}: ${o.reason}`)),(y=this.connectionStateListener)===null||y===void 0||y.call(this,f.DISCONNECTED)},p.onopen=o=>{var y;v(),(y=this.connectionStateListener)===null||y===void 0||y.call(this,f.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(_=>this.sendData(_)),this.pendingData=[])},p.onmessage=o=>{var y,b;if(o.data==="h")(y=this.incomingDataListener)===null||y===void 0||y.call(this,{type:"Heartbeat"});else try{const _=JSON.parse(o.data);(b=this.incomingDataListener)===null||b===void 0||b.call(this,_)}catch{}}})}disconnect(){var v;const{webSocket:C}=this;if(C){this.clearWebSocket(),(v=this.connectionStateListener)===null||v===void 0||v.call(this,f.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{C.close()}catch{}}}sendData(v){const{webSocket:C}=this;if(!C){this.pendingData.push(v),this.connect();return}C.send(v)}clearWebSocket(){const{webSocket:v}=this;v&&(this.webSocket=null,v.onclose=null,v.onerror=null,v.onmessage=null,v.onopen=null)}}s.WalletLinkWebSocket=a},20183:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.isErrorResponse=void 0;function f(a){return a.errorMessage!==void 0}s.isErrorResponse=f},92323:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WalletLinkRelayUI=void 0;const a=f(99004),M=f(69675),v=f(31666);class C{constructor(p){this.standalone=null,this.attached=!1,this.snackbar=new v.Snackbar({darkMode:p.darkMode}),this.linkFlow=new M.LinkFlow({darkMode:p.darkMode,version:p.version,sessionId:p.session.id,sessionSecret:p.session.secret,linkAPIUrl:p.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const p=document.documentElement,o=document.createElement("div");o.className="-cbwsdk-css-reset",p.appendChild(o),this.linkFlow.attach(o),this.snackbar.attach(o),this.attached=!0,(0,a.injectCssReset)()}setConnected(p){this.linkFlow.setConnected(p)}setChainId(p){this.linkFlow.setChainId(p)}setConnectDisabled(p){this.linkFlow.setConnectDisabled(p)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(p){this.linkFlow.open({onCancel:p.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(p){let o;return p.isUnlinkedErrorState?o={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:p.onResetConnection}]}:o={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:p.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:p.onResetConnection}]},this.snackbar.presentItem(o)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(p){this.standalone=p}isStandalone(){var p;return(p=this.standalone)!==null&&p!==void 0?p:!1}}s.WalletLinkRelayUI=C},40059:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}")()},17910:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoinbaseWalletSteps=s.ConnectContent=void 0;const M=a(f(45924)),v=f(25038),C=f(56572),l=f(83832),p=f(15917),o=f(77007),y=f(76402),b=f(20282),_=f(73990),P=a(f(40059)),m={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:z},d=j=>j==="light"?"#FFFFFF":"#0A0B0D";function S(j){const{theme:G}=j,B=(0,C.createQrUrl)(j.sessionId,j.sessionSecret,j.linkAPIUrl,j.isParentConnection,j.version,j.chainId),K=m.steps;return(0,v.h)("div",{"data-testid":"connect-content",className:(0,M.default)("-cbwsdk-connect-content",G)},(0,v.h)("style",null,P.default),(0,v.h)("div",{className:"-cbwsdk-connect-content-header"},(0,v.h)("h2",{className:(0,M.default)("-cbwsdk-connect-content-heading",G)},"Scan to connect with our mobile app"),j.onCancel&&(0,v.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:j.onCancel},(0,v.h)(p.CloseIcon,{fill:G==="light"?"#0A0B0D":"#FFFFFF"}))),(0,v.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,v.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,v.h)(O,{title:m.title,description:m.description,theme:G})),(0,v.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,v.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,v.h)(b.QRCode,{content:B,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,v.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:l.LIB_VERSION}),(0,v.h)("input",{type:"hidden",value:B})),(0,v.h)(K,{theme:G}),!j.isConnected&&(0,v.h)("div",{"data-testid":"connecting-spinner",className:(0,M.default)("-cbwsdk-connect-content-qr-connecting",G)},(0,v.h)(_.Spinner,{size:36,color:G==="dark"?"#FFF":"#000"}),(0,v.h)("p",null,"Connecting...")))))}s.ConnectContent=S;function O({title:j,description:G,theme:B}){return(0,v.h)("div",{className:(0,M.default)("-cbwsdk-connect-item",B)},(0,v.h)("div",null,(0,v.h)(o.CoinbaseWalletRound,null)),(0,v.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,v.h)("h3",{className:"-cbwsdk-connect-item-title"},j),(0,v.h)("p",{className:"-cbwsdk-connect-item-description"},G)))}function z({theme:j}){return(0,v.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,v.h)("li",{className:(0,M.default)("-cbwsdk-wallet-steps-item",j)},(0,v.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,v.h)("li",{className:(0,M.default)("-cbwsdk-wallet-steps-item",j)},(0,v.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,v.h)("span",null,"Tap ",(0,v.h)("strong",null,"Scan")," "),(0,v.h)("span",{className:(0,M.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",j)},(0,v.h)(y.QRCodeIcon,{fill:d(j)})))))}s.CoinbaseWalletSteps=z},71891:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}")()},37414:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(s,"__esModule",{value:!0}),s.ConnectDialog=void 0;const M=a(f(45924)),v=f(25038),C=f(17601),l=f(17910),p=f(24044),o=a(f(71891)),y=b=>{const{isOpen:_,darkMode:P}=b,[m,d]=(0,C.useState)(!_),[S,O]=(0,C.useState)(!_);(0,C.useEffect)(()=>{const j=[window.setTimeout(()=>{O(!_)},10)];return _?d(!1):j.push(window.setTimeout(()=>{d(!0)},360)),()=>{j.forEach(window.clearTimeout)}},[_]);const z=P?"dark":"light";return(0,v.h)("div",{class:(0,M.default)("-cbwsdk-connect-dialog-container",m&&"-cbwsdk-connect-dialog-container-hidden")},(0,v.h)("style",null,o.default),(0,v.h)("div",{class:(0,M.default)("-cbwsdk-connect-dialog-backdrop",z,S&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,v.h)("div",{class:"-cbwsdk-connect-dialog"},(0,v.h)("div",{class:(0,M.default)("-cbwsdk-connect-dialog-box",S&&"-cbwsdk-connect-dialog-box-hidden")},b.connectDisabled?null:(0,v.h)(l.ConnectContent,{theme:z,version:b.version,sessionId:b.sessionId,sessionSecret:b.sessionSecret,linkAPIUrl:b.linkAPIUrl,isConnected:b.isConnected,isParentConnection:b.isParentConnection,chainId:b.chainId,onCancel:b.onCancel}),(0,v.h)(p.TryExtensionContent,{theme:z}))))};s.ConnectDialog=y},69675:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.LinkFlow=void 0;const a=f(25038),M=f(37414);class v{constructor(l){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=l.darkMode,this.version=l.version,this.sessionId=l.sessionId,this.sessionSecret=l.sessionSecret,this.linkAPIUrl=l.linkAPIUrl,this.isParentConnection=l.isParentConnection}attach(l){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",l.appendChild(this.root),this.render()}setConnected(l){this.connected!==l&&(this.connected=l,this.render())}setChainId(l){this.chainId!==l&&(this.chainId=l,this.render())}detach(){var l;this.root&&((0,a.render)(null,this.root),(l=this.root.parentElement)===null||l===void 0||l.removeChild(this.root))}setConnectDisabled(l){this.connectDisabled=l}open(l){this.isOpen=!0,this.onCancel=l.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,a.render)((0,a.h)(M.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}s.LinkFlow=v},20282:function(pe,s,f){"use strict";var a=f(55872).Buffer,M=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.QRCode=void 0;const v=f(25038),C=f(17601),l=M(f(97443)),p=o=>{const[y,b]=(0,C.useState)("");return(0,C.useEffect)(()=>{var _,P;const m=new l.default({content:o.content,background:o.bgColor||"#ffffff",color:o.fgColor||"#000000",container:"svg",ecl:"M",width:(_=o.width)!==null&&_!==void 0?_:256,height:(P=o.height)!==null&&P!==void 0?P:256,padding:0,image:o.image}),d=a.from(m.svg(),"utf8").toString("base64");b(`data:image/svg+xml;base64,${d}`)},[o.bgColor,o.content,o.fgColor,o.height,o.image,o.width]),y?(0,v.h)("img",{src:y,alt:"QR Code"}):null};s.QRCode=p},44213:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")()},61368:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(s,"__esModule",{value:!0}),s.RedirectDialog=void 0;const M=a(f(45924)),v=f(25038),C=f(99004),l=f(53374),p=a(f(44213));class o{constructor(){this.root=null}attach(){const _=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",_.appendChild(this.root),(0,C.injectCssReset)()}present(_){this.render(_)}clear(){this.render(null)}render(_){this.root&&((0,v.render)(null,this.root),_&&(0,v.render)((0,v.h)(y,Object.assign({},_,{onDismiss:()=>{this.clear()}})),this.root))}}s.RedirectDialog=o;const y=({title:b,buttonText:_,darkMode:P,onButtonClick:m,onDismiss:d})=>{const S=P?"dark":"light";return(0,v.h)(l.SnackbarContainer,{darkMode:P},(0,v.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,v.h)("style",null,p.default),(0,v.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:d}),(0,v.h)("div",{class:(0,M.default)("-cbwsdk-redirect-dialog-box",S)},(0,v.h)("p",null,b),(0,v.h)("button",{onClick:m},_))))}},34087:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")()},31666:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(s,"__esModule",{value:!0}),s.SnackbarInstance=s.SnackbarContainer=s.Snackbar=void 0;const M=a(f(45924)),v=f(25038),C=f(17601),l=a(f(34087)),p="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class y{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const d=this.nextItemKey++;return this.items.set(d,m),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,v.render)((0,v.h)("div",null,(0,v.h)(s.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,d])=>(0,v.h)(s.SnackbarInstance,Object.assign({},d,{key:m}))))),this.root)}}s.Snackbar=y;const b=P=>(0,v.h)("div",{class:(0,M.default)("-cbwsdk-snackbar-container")},(0,v.h)("style",null,l.default),(0,v.h)("div",{class:"-cbwsdk-snackbar"},P.children));s.SnackbarContainer=b;const _=({autoExpand:P,message:m,menuItems:d})=>{const[S,O]=(0,C.useState)(!0),[z,j]=(0,C.useState)(P??!1);(0,C.useEffect)(()=>{const B=[window.setTimeout(()=>{O(!1)},1),window.setTimeout(()=>{j(!0)},1e4)];return()=>{B.forEach(window.clearTimeout)}});const G=()=>{j(!z)};return(0,v.h)("div",{class:(0,M.default)("-cbwsdk-snackbar-instance",S&&"-cbwsdk-snackbar-instance-hidden",z&&"-cbwsdk-snackbar-instance-expanded")},(0,v.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:G},(0,v.h)("img",{src:p,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,v.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,v.h)("div",{class:"-gear-container"},!z&&(0,v.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,v.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,v.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,v.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((B,K)=>(0,v.h)("div",{class:(0,M.default)("-cbwsdk-snackbar-instance-menu-item",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:B.onClick,key:K},(0,v.h)("svg",{width:B.svgWidth,height:B.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,v.h)("path",{"fill-rule":B.defaultFillRule,"clip-rule":B.defaultClipRule,d:B.path,fill:"#AAAAAA"})),(0,v.h)("span",{class:(0,M.default)("-cbwsdk-snackbar-instance-menu-item-info",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},B.info)))))};s.SnackbarInstance=_},53374:function(pe,s,f){"use strict";var a=this&&this.__createBinding||(Object.create?function(v,C,l,p){p===void 0&&(p=l);var o=Object.getOwnPropertyDescriptor(C,l);(!o||("get"in o?!C.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return C[l]}}),Object.defineProperty(v,p,o)}:function(v,C,l,p){p===void 0&&(p=l),v[p]=C[l]}),M=this&&this.__exportStar||function(v,C){for(var l in v)l!=="default"&&!Object.prototype.hasOwnProperty.call(C,l)&&a(C,v,l)};Object.defineProperty(s,"__esModule",{value:!0}),M(f(31666),s)},35729:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}")()},73990:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.Spinner=void 0;const M=f(25038),v=a(f(35729)),C=l=>{var p;const o=(p=l.size)!==null&&p!==void 0?p:64,y=l.color||"#000";return(0,M.h)("div",{class:"-cbwsdk-spinner"},(0,M.h)("style",null,v.default),(0,M.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:o,height:o}},(0,M.h)("circle",{style:{cx:50,cy:50,r:45,stroke:y}})))};s.Spinner=C},53960:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=(()=>".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}")()},24044:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(s,"__esModule",{value:!0}),s.TryExtensionContent=void 0;const M=a(f(45924)),v=f(25038),C=f(17601),l=f(38954),p=f(61525),o=f(67783),y=a(f(53960));function b({theme:_}){const[P,m]=(0,C.useState)(!1),d=(0,C.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),S=(0,C.useCallback)(()=>{P?window.location.reload():(d(),m(!0))},[d,P]);return(0,v.h)("div",{class:(0,M.default)("-cbwsdk-try-extension",_)},(0,v.h)("style",null,y.default),(0,v.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,v.h)("h3",{class:(0,M.default)("-cbwsdk-try-extension-heading",_)},"Or try the Coinbase Wallet browser extension"),(0,v.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,v.h)("button",{class:(0,M.default)("-cbwsdk-try-extension-cta",_),onClick:S},P?"Refresh":"Install"),(0,v.h)("div",null,!P&&(0,v.h)(l.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:_==="light"?"#0052FF":"#588AF5"})))),(0,v.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,v.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,v.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,v.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,v.h)("span",{class:(0,M.default)("-cbwsdk-try-extension-list-item-icon",_)},(0,v.h)(p.LaptopIcon,{fill:_==="light"?"#0A0B0D":"#FFFFFF"}))),(0,v.h)("div",{class:(0,M.default)("-cbwsdk-try-extension-list-item-copy",_)},"Connect with dapps with just one click on your desktop browser")),(0,v.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,v.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,v.h)("span",{class:(0,M.default)("-cbwsdk-try-extension-list-item-icon",_)},(0,v.h)(o.SafeIcon,{fill:_==="light"?"#0A0B0D":"#FFFFFF"}))),(0,v.h)("div",{class:(0,M.default)("-cbwsdk-try-extension-list-item-copy",_)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}s.TryExtensionContent=b},38954:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ArrowLeftIcon=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}s.ArrowLeftIcon=M},15917:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CloseIcon=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}s.CloseIcon=M},77007:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CoinbaseWalletRound=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,a.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,a.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}s.CoinbaseWalletRound=M},61525:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.LaptopIcon=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,a.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}s.LaptopIcon=M},76402:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.QRCodeIcon=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,a.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,a.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,a.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}s.QRCodeIcon=M},67783:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SafeIcon=void 0;const a=f(25038);function M(v){return(0,a.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},v),(0,a.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}s.SafeIcon=M},42056:function(pe,s,f){var a=f(55872).Buffer;const M=f(82002),v=f(39098);function C(O){return O.startsWith("int[")?"int256"+O.slice(3):O==="int"?"int256":O.startsWith("uint[")?"uint256"+O.slice(4):O==="uint"?"uint256":O.startsWith("fixed[")?"fixed128x128"+O.slice(5):O==="fixed"?"fixed128x128":O.startsWith("ufixed[")?"ufixed128x128"+O.slice(6):O==="ufixed"?"ufixed128x128":O}function l(O){return parseInt(/^\D+(\d+)$/.exec(O)[1],10)}function p(O){var z=/^\D+(\d+)x(\d+)$/.exec(O);return[parseInt(z[1],10),parseInt(z[2],10)]}function o(O){var z=O.match(/(.*)\[(.*?)\]$/);return z?z[2]===""?"dynamic":parseInt(z[2],10):null}function y(O){var z=typeof O;if(z==="string")return M.isHexString(O)?new v(M.stripHexPrefix(O),16):new v(O,10);if(z==="number")return new v(O);if(O.toArray)return O;throw new Error("Argument is not a number")}function b(O,z){var j,G,B,K;if(O==="address")return b("uint160",y(z));if(O==="bool")return b("uint8",z?1:0);if(O==="string")return b("bytes",new a(z,"utf8"));if(P(O)){if(typeof z.length>"u")throw new Error("Not an array?");if(j=o(O),j!=="dynamic"&&j!==0&&z.length>j)throw new Error("Elements exceed array size: "+j);B=[],O=O.slice(0,O.lastIndexOf("[")),typeof z=="string"&&(z=JSON.parse(z));for(K in z)B.push(b(O,z[K]));if(j==="dynamic"){var F=b("uint256",z.length);B.unshift(F)}return a.concat(B)}else{if(O==="bytes")return z=new a(z),B=a.concat([b("uint256",z.length),z]),z.length%32!==0&&(B=a.concat([B,M.zeros(32-z.length%32)])),B;if(O.startsWith("bytes")){if(j=l(O),j<1||j>32)throw new Error("Invalid bytes<N> width: "+j);return M.setLengthRight(z,32)}else if(O.startsWith("uint")){if(j=l(O),j%8||j<8||j>256)throw new Error("Invalid uint<N> width: "+j);if(G=y(z),G.bitLength()>j)throw new Error("Supplied uint exceeds width: "+j+" vs "+G.bitLength());if(G<0)throw new Error("Supplied uint is negative");return G.toArrayLike(a,"be",32)}else if(O.startsWith("int")){if(j=l(O),j%8||j<8||j>256)throw new Error("Invalid int<N> width: "+j);if(G=y(z),G.bitLength()>j)throw new Error("Supplied int exceeds width: "+j+" vs "+G.bitLength());return G.toTwos(256).toArrayLike(a,"be",32)}else if(O.startsWith("ufixed")){if(j=p(O),G=y(z),G<0)throw new Error("Supplied ufixed is negative");return b("uint256",G.mul(new v(2).pow(new v(j[1]))))}else if(O.startsWith("fixed"))return j=p(O),b("int256",y(z).mul(new v(2).pow(new v(j[1]))))}throw new Error("Unsupported or invalid type: "+O)}function _(O){return O==="string"||O==="bytes"||o(O)==="dynamic"}function P(O){return O.lastIndexOf("]")===O.length-1}function m(O,z){var j=[],G=[],B=32*O.length;for(var K in O){var F=C(O[K]),re=z[K],V=b(F,re);_(F)?(j.push(b("uint256",B)),G.push(V),B+=V.length):j.push(V)}return a.concat(j.concat(G))}function d(O,z){if(O.length!==z.length)throw new Error("Number of types are not matching the values");for(var j,G,B=[],K=0;K<O.length;K++){var F=C(O[K]),re=z[K];if(F==="bytes")B.push(re);else if(F==="string")B.push(new a(re,"utf8"));else if(F==="bool")B.push(new a(re?"01":"00","hex"));else if(F==="address")B.push(M.setLength(re,20));else if(F.startsWith("bytes")){if(j=l(F),j<1||j>32)throw new Error("Invalid bytes<N> width: "+j);B.push(M.setLengthRight(re,j))}else if(F.startsWith("uint")){if(j=l(F),j%8||j<8||j>256)throw new Error("Invalid uint<N> width: "+j);if(G=y(re),G.bitLength()>j)throw new Error("Supplied uint exceeds width: "+j+" vs "+G.bitLength());B.push(G.toArrayLike(a,"be",j/8))}else if(F.startsWith("int")){if(j=l(F),j%8||j<8||j>256)throw new Error("Invalid int<N> width: "+j);if(G=y(re),G.bitLength()>j)throw new Error("Supplied int exceeds width: "+j+" vs "+G.bitLength());B.push(G.toTwos(j).toArrayLike(a,"be",j/8))}else throw new Error("Unsupported or invalid type: "+F)}return a.concat(B)}function S(O,z){return M.keccak(d(O,z))}pe.exports={rawEncode:m,solidityPack:d,soliditySHA3:S}},90285:function(pe,s,f){var a=f(55872).Buffer;const M=f(82002),v=f(42056),C={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},l={encodeData(o,y,b,_=!0){const P=["bytes32"],m=[this.hashType(o,b)];if(_){const d=(S,O,z)=>{if(b[O]!==void 0)return["bytes32",z==null?"0x0000000000000000000000000000000000000000000000000000000000000000":M.keccak(this.encodeData(O,z,b,_))];if(z===void 0)throw new Error(`missing value for field ${S} of type ${O}`);if(O==="bytes")return["bytes32",M.keccak(z)];if(O==="string")return typeof z=="string"&&(z=a.from(z,"utf8")),["bytes32",M.keccak(z)];if(O.lastIndexOf("]")===O.length-1){const j=O.slice(0,O.lastIndexOf("[")),G=z.map(B=>d(S,j,B));return["bytes32",M.keccak(v.rawEncode(G.map(([B])=>B),G.map(([,B])=>B)))]}return[O,z]};for(const S of b[o]){const[O,z]=d(S.name,S.type,y[S.name]);P.push(O),m.push(z)}}else for(const d of b[o]){let S=y[d.name];if(S!==void 0)if(d.type==="bytes")P.push("bytes32"),S=M.keccak(S),m.push(S);else if(d.type==="string")P.push("bytes32"),typeof S=="string"&&(S=a.from(S,"utf8")),S=M.keccak(S),m.push(S);else if(b[d.type]!==void 0)P.push("bytes32"),S=M.keccak(this.encodeData(d.type,S,b,_)),m.push(S);else{if(d.type.lastIndexOf("]")===d.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");P.push(d.type),m.push(S)}}return v.rawEncode(P,m)},encodeType(o,y){let b="",_=this.findTypeDependencies(o,y).filter(P=>P!==o);_=[o].concat(_.sort());for(const P of _){if(!y[P])throw new Error("No type definition specified: "+P);b+=P+"("+y[P].map(({name:d,type:S})=>S+" "+d).join(",")+")"}return b},findTypeDependencies(o,y,b=[]){if(o=o.match(/^\w*/)[0],b.includes(o)||y[o]===void 0)return b;b.push(o);for(const _ of y[o])for(const P of this.findTypeDependencies(_.type,y,b))!b.includes(P)&&b.push(P);return b},hashStruct(o,y,b,_=!0){return M.keccak(this.encodeData(o,y,b,_))},hashType(o,y){return M.keccak(this.encodeType(o,y))},sanitizeData(o){const y={};for(const b in C.properties)o[b]&&(y[b]=o[b]);return y.types&&(y.types=Object.assign({EIP712Domain:[]},y.types)),y},hash(o,y=!0){const b=this.sanitizeData(o),_=[a.from("1901","hex")];return _.push(this.hashStruct("EIP712Domain",b.domain,b.types,y)),b.primaryType!=="EIP712Domain"&&_.push(this.hashStruct(b.primaryType,b.message,b.types,y)),M.keccak(a.concat(_))}};pe.exports={TYPED_MESSAGE_SCHEMA:C,TypedDataUtils:l,hashForSignTypedDataLegacy:function(o){return p(o.data)},hashForSignTypedData_v3:function(o){return l.hash(o.data,!1)},hashForSignTypedData_v4:function(o){return l.hash(o.data)}};function p(o){const y=new Error("Expect argument to be non-empty array");if(typeof o!="object"||!o.length)throw y;const b=o.map(function(m){return m.type==="bytes"?M.toBuffer(m.value):m.value}),_=o.map(function(m){return m.type}),P=o.map(function(m){if(!m.name)throw y;return m.type+" "+m.name});return v.soliditySHA3(["bytes32","bytes32"],[v.soliditySHA3(new Array(o.length).fill("string"),P),v.soliditySHA3(_,b)])}},82002:function(pe,s,f){var a=f(55872).Buffer;const M=f(41389),v=f(39098);function C(d){return a.allocUnsafe(d).fill(0)}function l(d,S,O){const z=C(S);return d=o(d),O?d.length<S?(d.copy(z),z):d.slice(0,S):d.length<S?(d.copy(z,S-d.length),z):d.slice(-S)}function p(d,S){return l(d,S,!0)}function o(d){if(!a.isBuffer(d))if(Array.isArray(d))d=a.from(d);else if(typeof d=="string")P(d)?d=a.from(_(m(d)),"hex"):d=a.from(d);else if(typeof d=="number")d=intToBuffer(d);else if(d==null)d=a.allocUnsafe(0);else if(v.isBN(d))d=d.toArrayLike(a);else if(d.toArray)d=a.from(d.toArray());else throw new Error("invalid type");return d}function y(d){return d=o(d),"0x"+d.toString("hex")}function b(d,S){return d=o(d),S||(S=256),M("keccak"+S).update(d).digest()}function _(d){return d.length%2?"0"+d:d}function P(d){return typeof d=="string"&&d.match(/^0x[0-9A-Fa-f]*$/)}function m(d){return typeof d=="string"&&d.startsWith("0x")?d.slice(2):d}pe.exports={zeros:C,setLength:l,setLengthRight:p,isHexString:P,stripHexPrefix:m,toBuffer:o,bufferToHex:y,keccak:b}},97443:function(pe){function s(m){this.mode=a.MODE_8BIT_BYTE,this.data=m,this.parsedData=[];for(var d=0,S=this.data.length;d<S;d++){var O=[],z=this.data.charCodeAt(d);z>65536?(O[0]=240|(z&1835008)>>>18,O[1]=128|(z&258048)>>>12,O[2]=128|(z&4032)>>>6,O[3]=128|z&63):z>2048?(O[0]=224|(z&61440)>>>12,O[1]=128|(z&4032)>>>6,O[2]=128|z&63):z>128?(O[0]=192|(z&1984)>>>6,O[1]=128|z&63):O[0]=z,this.parsedData.push(O)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}s.prototype={getLength:function(m){return this.parsedData.length},write:function(m){for(var d=0,S=this.parsedData.length;d<S;d++)m.put(this.parsedData[d],8)}};function f(m,d){this.typeNumber=m,this.errorCorrectLevel=d,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}f.prototype={addData:function(m){var d=new s(m);this.dataList.push(d),this.dataCache=null},isDark:function(m,d){if(m<0||this.moduleCount<=m||d<0||this.moduleCount<=d)throw new Error(m+","+d);return this.modules[m][d]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(m,d){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var S=0;S<this.moduleCount;S++){this.modules[S]=new Array(this.moduleCount);for(var O=0;O<this.moduleCount;O++)this.modules[S][O]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(m,d),this.typeNumber>=7&&this.setupTypeNumber(m),this.dataCache==null&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,d)},setupPositionProbePattern:function(m,d){for(var S=-1;S<=7;S++)if(!(m+S<=-1||this.moduleCount<=m+S))for(var O=-1;O<=7;O++)d+O<=-1||this.moduleCount<=d+O||(0<=S&&S<=6&&(O==0||O==6)||0<=O&&O<=6&&(S==0||S==6)||2<=S&&S<=4&&2<=O&&O<=4?this.modules[m+S][d+O]=!0:this.modules[m+S][d+O]=!1)},getBestMaskPattern:function(){for(var m=0,d=0,S=0;S<8;S++){this.makeImpl(!0,S);var O=C.getLostPoint(this);(S==0||m>O)&&(m=O,d=S)}return d},createMovieClip:function(m,d,S){var O=m.createEmptyMovieClip(d,S),z=1;this.make();for(var j=0;j<this.modules.length;j++)for(var G=j*z,B=0;B<this.modules[j].length;B++){var K=B*z,F=this.modules[j][B];F&&(O.beginFill(0,100),O.moveTo(K,G),O.lineTo(K+z,G),O.lineTo(K+z,G+z),O.lineTo(K,G+z),O.endFill())}return O},setupTimingPattern:function(){for(var m=8;m<this.moduleCount-8;m++)this.modules[m][6]==null&&(this.modules[m][6]=m%2==0);for(var d=8;d<this.moduleCount-8;d++)this.modules[6][d]==null&&(this.modules[6][d]=d%2==0)},setupPositionAdjustPattern:function(){for(var m=C.getPatternPosition(this.typeNumber),d=0;d<m.length;d++)for(var S=0;S<m.length;S++){var O=m[d],z=m[S];if(this.modules[O][z]==null)for(var j=-2;j<=2;j++)for(var G=-2;G<=2;G++)j==-2||j==2||G==-2||G==2||j==0&&G==0?this.modules[O+j][z+G]=!0:this.modules[O+j][z+G]=!1}},setupTypeNumber:function(m){for(var d=C.getBCHTypeNumber(this.typeNumber),S=0;S<18;S++){var O=!m&&(d>>S&1)==1;this.modules[Math.floor(S/3)][S%3+this.moduleCount-8-3]=O}for(var S=0;S<18;S++){var O=!m&&(d>>S&1)==1;this.modules[S%3+this.moduleCount-8-3][Math.floor(S/3)]=O}},setupTypeInfo:function(m,d){for(var S=this.errorCorrectLevel<<3|d,O=C.getBCHTypeInfo(S),z=0;z<15;z++){var j=!m&&(O>>z&1)==1;z<6?this.modules[z][8]=j:z<8?this.modules[z+1][8]=j:this.modules[this.moduleCount-15+z][8]=j}for(var z=0;z<15;z++){var j=!m&&(O>>z&1)==1;z<8?this.modules[8][this.moduleCount-z-1]=j:z<9?this.modules[8][15-z-1+1]=j:this.modules[8][15-z-1]=j}this.modules[this.moduleCount-8][8]=!m},mapData:function(m,d){for(var S=-1,O=this.moduleCount-1,z=7,j=0,G=this.moduleCount-1;G>0;G-=2)for(G==6&&G--;;){for(var B=0;B<2;B++)if(this.modules[O][G-B]==null){var K=!1;j<m.length&&(K=(m[j]>>>z&1)==1);var F=C.getMask(d,O,G-B);F&&(K=!K),this.modules[O][G-B]=K,z--,z==-1&&(j++,z=7)}if(O+=S,O<0||this.moduleCount<=O){O-=S,S=-S;break}}}},f.PAD0=236,f.PAD1=17,f.createData=function(m,d,S){for(var O=y.getRSBlocks(m,d),z=new b,j=0;j<S.length;j++){var G=S[j];z.put(G.mode,4),z.put(G.getLength(),C.getLengthInBits(G.mode,m)),G.write(z)}for(var B=0,j=0;j<O.length;j++)B+=O[j].dataCount;if(z.getLengthInBits()>B*8)throw new Error("code length overflow. ("+z.getLengthInBits()+">"+B*8+")");for(z.getLengthInBits()+4<=B*8&&z.put(0,4);z.getLengthInBits()%8!=0;)z.putBit(!1);for(;!(z.getLengthInBits()>=B*8||(z.put(f.PAD0,8),z.getLengthInBits()>=B*8));)z.put(f.PAD1,8);return f.createBytes(z,O)},f.createBytes=function(m,d){for(var S=0,O=0,z=0,j=new Array(d.length),G=new Array(d.length),B=0;B<d.length;B++){var K=d[B].dataCount,F=d[B].totalCount-K;O=Math.max(O,K),z=Math.max(z,F),j[B]=new Array(K);for(var re=0;re<j[B].length;re++)j[B][re]=255&m.buffer[re+S];S+=K;var V=C.getErrorCorrectPolynomial(F),A=new o(j[B],V.getLength()-1),Z=A.mod(V);G[B]=new Array(V.getLength()-1);for(var re=0;re<G[B].length;re++){var ve=re+Z.getLength()-G[B].length;G[B][re]=ve>=0?Z.get(ve):0}}for(var le=0,re=0;re<d.length;re++)le+=d[re].totalCount;for(var we=new Array(le),fe=0,re=0;re<O;re++)for(var B=0;B<d.length;B++)re<j[B].length&&(we[fe++]=j[B][re]);for(var re=0;re<z;re++)for(var B=0;B<d.length;B++)re<G[B].length&&(we[fe++]=G[B][re]);return we};for(var a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},M={L:1,M:0,Q:3,H:2},v={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},C={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(m){for(var d=m<<10;C.getBCHDigit(d)-C.getBCHDigit(C.G15)>=0;)d^=C.G15<<C.getBCHDigit(d)-C.getBCHDigit(C.G15);return(m<<10|d)^C.G15_MASK},getBCHTypeNumber:function(m){for(var d=m<<12;C.getBCHDigit(d)-C.getBCHDigit(C.G18)>=0;)d^=C.G18<<C.getBCHDigit(d)-C.getBCHDigit(C.G18);return m<<12|d},getBCHDigit:function(m){for(var d=0;m!=0;)d++,m>>>=1;return d},getPatternPosition:function(m){return C.PATTERN_POSITION_TABLE[m-1]},getMask:function(m,d,S){switch(m){case v.PATTERN000:return(d+S)%2==0;case v.PATTERN001:return d%2==0;case v.PATTERN010:return S%3==0;case v.PATTERN011:return(d+S)%3==0;case v.PATTERN100:return(Math.floor(d/2)+Math.floor(S/3))%2==0;case v.PATTERN101:return d*S%2+d*S%3==0;case v.PATTERN110:return(d*S%2+d*S%3)%2==0;case v.PATTERN111:return(d*S%3+(d+S)%2)%2==0;default:throw new Error("bad maskPattern:"+m)}},getErrorCorrectPolynomial:function(m){for(var d=new o([1],0),S=0;S<m;S++)d=d.multiply(new o([1,l.gexp(S)],0));return d},getLengthInBits:function(m,d){if(1<=d&&d<10)switch(m){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:return 8;case a.MODE_KANJI:return 8;default:throw new Error("mode:"+m)}else if(d<27)switch(m){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+m)}else if(d<41)switch(m){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+m)}else throw new Error("type:"+d)},getLostPoint:function(m){for(var d=m.getModuleCount(),S=0,O=0;O<d;O++)for(var z=0;z<d;z++){for(var j=0,G=m.isDark(O,z),B=-1;B<=1;B++)if(!(O+B<0||d<=O+B))for(var K=-1;K<=1;K++)z+K<0||d<=z+K||B==0&&K==0||G==m.isDark(O+B,z+K)&&j++;j>5&&(S+=3+j-5)}for(var O=0;O<d-1;O++)for(var z=0;z<d-1;z++){var F=0;m.isDark(O,z)&&F++,m.isDark(O+1,z)&&F++,m.isDark(O,z+1)&&F++,m.isDark(O+1,z+1)&&F++,(F==0||F==4)&&(S+=3)}for(var O=0;O<d;O++)for(var z=0;z<d-6;z++)m.isDark(O,z)&&!m.isDark(O,z+1)&&m.isDark(O,z+2)&&m.isDark(O,z+3)&&m.isDark(O,z+4)&&!m.isDark(O,z+5)&&m.isDark(O,z+6)&&(S+=40);for(var z=0;z<d;z++)for(var O=0;O<d-6;O++)m.isDark(O,z)&&!m.isDark(O+1,z)&&m.isDark(O+2,z)&&m.isDark(O+3,z)&&m.isDark(O+4,z)&&!m.isDark(O+5,z)&&m.isDark(O+6,z)&&(S+=40);for(var re=0,z=0;z<d;z++)for(var O=0;O<d;O++)m.isDark(O,z)&&re++;var V=Math.abs(100*re/d/d-50)/5;return S+=V*10,S}},l={glog:function(m){if(m<1)throw new Error("glog("+m+")");return l.LOG_TABLE[m]},gexp:function(m){for(;m<0;)m+=255;for(;m>=256;)m-=255;return l.EXP_TABLE[m]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;p<8;p++)l.EXP_TABLE[p]=1<<p;for(var p=8;p<256;p++)l.EXP_TABLE[p]=l.EXP_TABLE[p-4]^l.EXP_TABLE[p-5]^l.EXP_TABLE[p-6]^l.EXP_TABLE[p-8];for(var p=0;p<255;p++)l.LOG_TABLE[l.EXP_TABLE[p]]=p;function o(m,d){if(m.length==null)throw new Error(m.length+"/"+d);for(var S=0;S<m.length&&m[S]==0;)S++;this.num=new Array(m.length-S+d);for(var O=0;O<m.length-S;O++)this.num[O]=m[O+S]}o.prototype={get:function(m){return this.num[m]},getLength:function(){return this.num.length},multiply:function(m){for(var d=new Array(this.getLength()+m.getLength()-1),S=0;S<this.getLength();S++)for(var O=0;O<m.getLength();O++)d[S+O]^=l.gexp(l.glog(this.get(S))+l.glog(m.get(O)));return new o(d,0)},mod:function(m){if(this.getLength()-m.getLength()<0)return this;for(var d=l.glog(this.get(0))-l.glog(m.get(0)),S=new Array(this.getLength()),O=0;O<this.getLength();O++)S[O]=this.get(O);for(var O=0;O<m.getLength();O++)S[O]^=l.gexp(l.glog(m.get(O))+d);return new o(S,0).mod(m)}};function y(m,d){this.totalCount=m,this.dataCount=d}y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y.getRSBlocks=function(m,d){var S=y.getRsBlockTable(m,d);if(S==null)throw new Error("bad rs block @ typeNumber:"+m+"/errorCorrectLevel:"+d);for(var O=S.length/3,z=[],j=0;j<O;j++)for(var G=S[j*3+0],B=S[j*3+1],K=S[j*3+2],F=0;F<G;F++)z.push(new y(B,K));return z},y.getRsBlockTable=function(m,d){switch(d){case M.L:return y.RS_BLOCK_TABLE[(m-1)*4+0];case M.M:return y.RS_BLOCK_TABLE[(m-1)*4+1];case M.Q:return y.RS_BLOCK_TABLE[(m-1)*4+2];case M.H:return y.RS_BLOCK_TABLE[(m-1)*4+3];default:return}};function b(){this.buffer=[],this.length=0}b.prototype={get:function(m){var d=Math.floor(m/8);return(this.buffer[d]>>>7-m%8&1)==1},put:function(m,d){for(var S=0;S<d;S++)this.putBit((m>>>d-S-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(m){var d=Math.floor(this.length/8);this.buffer.length<=d&&this.buffer.push(0),m&&(this.buffer[d]|=128>>>this.length%8),this.length++}};var _=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function P(m){var d=this;if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof m=="string"&&(m={content:m}),m)for(var S in m)this.options[S]=m[S];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function O(F){switch(F){case"L":return M.L;case"M":return M.M;case"Q":return M.Q;case"H":return M.H;default:throw new Error("Unknwon error correction level: "+F)}}function z(F,re){for(var V=j(F),A=1,Z=0,ve=0,le=_.length;ve<=le;ve++){var we=_[ve];if(!we)throw new Error("Content too long: expected "+Z+" but got "+V);switch(re){case"L":Z=we[0];break;case"M":Z=we[1];break;case"Q":Z=we[2];break;case"H":Z=we[3];break;default:throw new Error("Unknwon error correction level: "+re)}if(V<=Z)break;A++}if(A>_.length)throw new Error("Content too long");return A}function j(F){var re=encodeURI(F).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return re.length+(re.length!=F?3:0)}var G=this.options.content,B=z(G,this.options.ecl),K=O(this.options.ecl);this.qrcode=new f(B,K),this.qrcode.addData(G),this.qrcode.make()}P.prototype.svg=function(m){var d=this.options||{},S=this.qrcode.modules;typeof m>"u"&&(m={container:d.container||"svg"});for(var O=typeof d.pretty<"u"?!!d.pretty:!0,z=O?"  ":"",j=O?`\r
`:"",G=d.width,B=d.height,K=S.length,F=G/(K+2*d.padding),re=B/(K+2*d.padding),V=typeof d.join<"u"?!!d.join:!1,A=typeof d.swap<"u"?!!d.swap:!1,Z=typeof d.xmlDeclaration<"u"?!!d.xmlDeclaration:!0,ve=typeof d.predefined<"u"?!!d.predefined:!1,le=ve?z+'<defs><path id="qrmodule" d="M0 0 h'+re+" v"+F+' H0 z" style="fill:'+d.color+';shape-rendering:crispEdges;" /></defs>'+j:"",we=z+'<rect x="0" y="0" width="'+G+'" height="'+B+'" style="fill:'+d.background+';shape-rendering:crispEdges;"/>'+j,fe="",H="",g=0;g<K;g++)for(var x=0;x<K;x++){var L=S[x][g];if(L){var I=x*F+d.padding*F,N=g*re+d.padding*re;if(A){var W=I;I=N,N=W}if(V){var Y=F+I,te=re+N;I=Number.isInteger(I)?Number(I):I.toFixed(2),N=Number.isInteger(N)?Number(N):N.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),H+="M"+I+","+N+" V"+te+" H"+Y+" V"+N+" H"+I+" Z "}else ve?fe+=z+'<use x="'+I.toString()+'" y="'+N.toString()+'" href="#qrmodule" />'+j:fe+=z+'<rect x="'+I.toString()+'" y="'+N.toString()+'" width="'+F+'" height="'+re+'" style="fill:'+d.color+';shape-rendering:crispEdges;"/>'+j}}V&&(fe=z+'<path x="0" y="0" style="fill:'+d.color+';shape-rendering:crispEdges;" d="'+H+'" />');let T="";if(this.options.image!==void 0&&this.options.image.svg){const Pe=G*this.options.image.width/100,Fe=B*this.options.image.height/100,$e=G/2-Pe/2,ce=B/2-Fe/2;T+=`<svg x="${$e}" y="${ce}" width="${Pe}" height="${Fe}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,T+=this.options.image.svg+j,T+="</svg>"}var ie="";switch(m.container){case"svg":Z&&(ie+='<?xml version="1.0" standalone="yes"?>'+j),ie+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+G+'" height="'+B+'">'+j,ie+=le+we+fe,ie+=T,ie+="</svg>";break;case"svg-viewbox":Z&&(ie+='<?xml version="1.0" standalone="yes"?>'+j),ie+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+G+" "+B+'">'+j,ie+=le+we+fe,ie+=T,ie+="</svg>";break;case"g":ie+='<g width="'+G+'" height="'+B+'">'+j,ie+=le+we+fe,ie+=T,ie+="</g>";break;default:ie+=(le+we+fe+T).replace(/^\s+/,"");break}return ie},pe.exports=P},83832:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.LIB_VERSION=void 0,s.LIB_VERSION="3.9.1"},34780:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(72100);function M(l,p,o){try{Reflect.apply(l,p,o)}catch(y){setTimeout(()=>{throw y})}}function v(l){const p=l.length,o=new Array(p);for(let y=0;y<p;y+=1)o[y]=l[y];return o}class C extends a.EventEmitter{emit(p,...o){let y=p==="error";const b=this._events;if(b!==void 0)y=y&&b.error===void 0;else if(!y)return!1;if(y){let P;if(o.length>0&&([P]=o),P instanceof Error)throw P;const m=new Error(`Unhandled error.${P?` (${P.message})`:""}`);throw m.context=P,m}const _=b[p];if(_===void 0)return!1;if(typeof _=="function")M(_,this,o);else{const P=_.length,m=v(_);for(let d=0;d<P;d+=1)M(m[d],this,o)}return!0}}s.default=C},62681:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(72100);function M(l,p,o){try{Reflect.apply(l,p,o)}catch(y){setTimeout(()=>{throw y})}}function v(l){const p=l.length,o=new Array(p);for(let y=0;y<p;y+=1)o[y]=l[y];return o}class C extends a.EventEmitter{emit(p,...o){let y=p==="error";const b=this._events;if(b!==void 0)y=y&&b.error===void 0;else if(!y)return!1;if(y){let P;if(o.length>0&&([P]=o),P instanceof Error)throw P;const m=new Error(`Unhandled error.${P?` (${P.message})`:""}`);throw m.context=P,m}const _=b[p];if(_===void 0)return!1;if(typeof _=="function")M(_,this,o);else{const P=_.length,m=v(_);for(let d=0;d<P;d+=1)M(m[d],this,o)}return!0}}s.default=C},99285:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.assertExhaustive=s.assertStruct=s.assert=s.AssertionError=void 0;const a=f(61059);function M(_){return typeof _=="object"&&_!==null&&"message"in _}function v(_){var P,m;return typeof((m=(P=_==null?void 0:_.prototype)===null||P===void 0?void 0:P.constructor)===null||m===void 0?void 0:m.name)=="string"}function C(_){const P=M(_)?_.message:String(_);return P.endsWith(".")?P.slice(0,-1):P}function l(_,P){return v(_)?new _({message:P}):_({message:P})}class p extends Error{constructor(P){super(P.message),this.code="ERR_ASSERTION"}}s.AssertionError=p;function o(_,P="Assertion failed.",m=p){if(!_)throw P instanceof Error?P:l(m,P)}s.assert=o;function y(_,P,m="Assertion failed",d=p){try{(0,a.assert)(_,P)}catch(S){throw l(d,`${m}: ${C(S)}.`)}}s.assertStruct=y;function b(_){throw new Error("Invalid branch reached. Should be detected during compilation.")}s.assertExhaustive=b},39975:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.base64=void 0;const a=f(61059),M=f(99285),v=(C,l={})=>{var p,o;const y=(p=l.paddingRequired)!==null&&p!==void 0?p:!1,b=(o=l.characterSet)!==null&&o!==void 0?o:"base64";let _;b==="base64"?_=String.raw`[A-Za-z0-9+\/]`:((0,M.assert)(b==="base64url"),_=String.raw`[-_A-Za-z0-9]`);let P;return y?P=new RegExp(`^(?:${_}{4})*(?:${_}{3}=|${_}{2}==)?$`,"u"):P=new RegExp(`^(?:${_}{4})*(?:${_}{2,3}|${_}{3}=|${_}{2}==)?$`,"u"),(0,a.pattern)(C,P)};s.base64=v},72073:function(pe,s,f){"use strict";var a=f(55872).Buffer;Object.defineProperty(s,"__esModule",{value:!0}),s.createDataView=s.concatBytes=s.valueToBytes=s.stringToBytes=s.numberToBytes=s.signedBigIntToBytes=s.bigIntToBytes=s.hexToBytes=s.bytesToString=s.bytesToNumber=s.bytesToSignedBigInt=s.bytesToBigInt=s.bytesToHex=s.assertIsBytes=s.isBytes=void 0;const M=f(99285),v=f(92947),C=48,l=58,p=87;function o(){const Z=[];return()=>{if(Z.length===0)for(let ve=0;ve<256;ve++)Z.push(ve.toString(16).padStart(2,"0"));return Z}}const y=o();function b(Z){return Z instanceof Uint8Array}s.isBytes=b;function _(Z){(0,M.assert)(b(Z),"Value must be a Uint8Array.")}s.assertIsBytes=_;function P(Z){if(_(Z),Z.length===0)return"0x";const ve=y(),le=new Array(Z.length);for(let we=0;we<Z.length;we++)le[we]=ve[Z[we]];return(0,v.add0x)(le.join(""))}s.bytesToHex=P;function m(Z){_(Z);const ve=P(Z);return BigInt(ve)}s.bytesToBigInt=m;function d(Z){_(Z);let ve=BigInt(0);for(const le of Z)ve=(ve<<BigInt(8))+BigInt(le);return BigInt.asIntN(Z.length*8,ve)}s.bytesToSignedBigInt=d;function S(Z){_(Z);const ve=m(Z);return(0,M.assert)(ve<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(ve)}s.bytesToNumber=S;function O(Z){return _(Z),new TextDecoder().decode(Z)}s.bytesToString=O;function z(Z){var ve;if(((ve=Z==null?void 0:Z.toLowerCase)===null||ve===void 0?void 0:ve.call(Z))==="0x")return new Uint8Array;(0,v.assertIsHexString)(Z);const le=(0,v.remove0x)(Z).toLowerCase(),we=le.length%2===0?le:`0${le}`,fe=new Uint8Array(we.length/2);for(let H=0;H<fe.length;H++){const g=we.charCodeAt(H*2),x=we.charCodeAt(H*2+1),L=g-(g<l?C:p),I=x-(x<l?C:p);fe[H]=L*16+I}return fe}s.hexToBytes=z;function j(Z){(0,M.assert)(typeof Z=="bigint","Value must be a bigint."),(0,M.assert)(Z>=BigInt(0),"Value must be a non-negative bigint.");const ve=Z.toString(16);return z(ve)}s.bigIntToBytes=j;function G(Z,ve){(0,M.assert)(ve>0);const le=Z>>BigInt(31);return!((~Z&le)+(Z&~le)>>BigInt(ve*8+-1))}function B(Z,ve){(0,M.assert)(typeof Z=="bigint","Value must be a bigint."),(0,M.assert)(typeof ve=="number","Byte length must be a number."),(0,M.assert)(ve>0,"Byte length must be greater than 0."),(0,M.assert)(G(Z,ve),"Byte length is too small to represent the given value.");let le=Z;const we=new Uint8Array(ve);for(let fe=0;fe<we.length;fe++)we[fe]=Number(BigInt.asUintN(8,le)),le>>=BigInt(8);return we.reverse()}s.signedBigIntToBytes=B;function K(Z){(0,M.assert)(typeof Z=="number","Value must be a number."),(0,M.assert)(Z>=0,"Value must be a non-negative number."),(0,M.assert)(Number.isSafeInteger(Z),"Value is not a safe integer. Use `bigIntToBytes` instead.");const ve=Z.toString(16);return z(ve)}s.numberToBytes=K;function F(Z){return(0,M.assert)(typeof Z=="string","Value must be a string."),new TextEncoder().encode(Z)}s.stringToBytes=F;function re(Z){if(typeof Z=="bigint")return j(Z);if(typeof Z=="number")return K(Z);if(typeof Z=="string")return Z.startsWith("0x")?z(Z):F(Z);if(b(Z))return Z;throw new TypeError(`Unsupported value type: "${typeof Z}".`)}s.valueToBytes=re;function V(Z){const ve=new Array(Z.length);let le=0;for(let fe=0;fe<Z.length;fe++){const H=re(Z[fe]);ve[fe]=H,le+=H.length}const we=new Uint8Array(le);for(let fe=0,H=0;fe<ve.length;fe++)we.set(ve[fe],H),H+=ve[fe].length;return we}s.concatBytes=V;function A(Z){if(typeof a<"u"&&Z instanceof a){const ve=Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.byteLength);return new DataView(ve)}return new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}s.createDataView=A},16179:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ChecksumStruct=void 0;const a=f(61059),M=f(39975);s.ChecksumStruct=(0,a.size)((0,M.base64)((0,a.string)(),{paddingRequired:!0}),44,44)},59012:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createHex=s.createBytes=s.createBigInt=s.createNumber=void 0;const a=f(61059),M=f(99285),v=f(72073),C=f(92947),l=(0,a.union)([(0,a.number)(),(0,a.bigint)(),(0,a.string)(),C.StrictHexStruct]),p=(0,a.coerce)((0,a.number)(),l,Number),o=(0,a.coerce)((0,a.bigint)(),l,BigInt),y=(0,a.union)([C.StrictHexStruct,(0,a.instance)(Uint8Array)]),b=(0,a.coerce)((0,a.instance)(Uint8Array),(0,a.union)([C.StrictHexStruct]),v.hexToBytes),_=(0,a.coerce)(C.StrictHexStruct,(0,a.instance)(Uint8Array),v.bytesToHex);function P(O){try{const z=(0,a.create)(O,p);return(0,M.assert)(Number.isFinite(z),`Expected a number-like value, got "${O}".`),z}catch(z){throw z instanceof a.StructError?new Error(`Expected a number-like value, got "${O}".`):z}}s.createNumber=P;function m(O){try{return(0,a.create)(O,o)}catch(z){throw z instanceof a.StructError?new Error(`Expected a number-like value, got "${String(z.value)}".`):z}}s.createBigInt=m;function d(O){if(typeof O=="string"&&O.toLowerCase()==="0x")return new Uint8Array;try{return(0,a.create)(O,b)}catch(z){throw z instanceof a.StructError?new Error(`Expected a bytes-like value, got "${String(z.value)}".`):z}}s.createBytes=d;function S(O){if(O instanceof Uint8Array&&O.length===0||typeof O=="string"&&O.toLowerCase()==="0x")return"0x";try{return(0,a.create)(O,_)}catch(z){throw z instanceof a.StructError?new Error(`Expected a bytes-like value, got "${String(z.value)}".`):z}}s.createHex=S},52153:function(pe,s){"use strict";var f=this&&this.__classPrivateFieldSet||function(p,o,y,b,_){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?p!==o||!_:!o.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?_.call(p,y):_?_.value=y:o.set(p,y),y},a=this&&this.__classPrivateFieldGet||function(p,o,y,b){if(y==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?p!==o||!b:!o.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?b:y==="a"?b.call(p):b?b.value:o.get(p)},M,v;Object.defineProperty(s,"__esModule",{value:!0}),s.FrozenSet=s.FrozenMap=void 0;class C{constructor(o){M.set(this,void 0),f(this,M,new Map(o),"f"),Object.freeze(this)}get size(){return a(this,M,"f").size}[(M=new WeakMap,Symbol.iterator)](){return a(this,M,"f")[Symbol.iterator]()}entries(){return a(this,M,"f").entries()}forEach(o,y){return a(this,M,"f").forEach((b,_,P)=>o.call(y,b,_,this))}get(o){return a(this,M,"f").get(o)}has(o){return a(this,M,"f").has(o)}keys(){return a(this,M,"f").keys()}values(){return a(this,M,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([o,y])=>`${String(o)} => ${String(y)}`).join(", ")} `:""}}`}}s.FrozenMap=C;class l{constructor(o){v.set(this,void 0),f(this,v,new Set(o),"f"),Object.freeze(this)}get size(){return a(this,v,"f").size}[(v=new WeakMap,Symbol.iterator)](){return a(this,v,"f")[Symbol.iterator]()}entries(){return a(this,v,"f").entries()}forEach(o,y){return a(this,v,"f").forEach((b,_,P)=>o.call(y,b,_,this))}has(o){return a(this,v,"f").has(o)}keys(){return a(this,v,"f").keys()}values(){return a(this,v,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(o=>String(o)).join(", ")} `:""}}`}}s.FrozenSet=l,Object.freeze(C),Object.freeze(C.prototype),Object.freeze(l),Object.freeze(l.prototype)},63648:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0})},92947:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.remove0x=s.add0x=s.assertIsStrictHexString=s.assertIsHexString=s.isStrictHexString=s.isHexString=s.StrictHexStruct=s.HexStruct=void 0;const a=f(61059),M=f(99285);s.HexStruct=(0,a.pattern)((0,a.string)(),/^(?:0x)?[0-9a-f]+$/iu),s.StrictHexStruct=(0,a.pattern)((0,a.string)(),/^0x[0-9a-f]+$/iu);function v(b){return(0,a.is)(b,s.HexStruct)}s.isHexString=v;function C(b){return(0,a.is)(b,s.StrictHexStruct)}s.isStrictHexString=C;function l(b){(0,M.assert)(v(b),"Value must be a hexadecimal string.")}s.assertIsHexString=l;function p(b){(0,M.assert)(C(b),'Value must be a hexadecimal string, starting with "0x".')}s.assertIsStrictHexString=p;function o(b){return b.startsWith("0x")?b:b.startsWith("0X")?`0x${b.substring(2)}`:`0x${b}`}s.add0x=o;function y(b){return b.startsWith("0x")||b.startsWith("0X")?b.substring(2):b}s.remove0x=y},70184:function(pe,s,f){"use strict";var a=this&&this.__createBinding||(Object.create?function(v,C,l,p){p===void 0&&(p=l);var o=Object.getOwnPropertyDescriptor(C,l);(!o||("get"in o?!C.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return C[l]}}),Object.defineProperty(v,p,o)}:function(v,C,l,p){p===void 0&&(p=l),v[p]=C[l]}),M=this&&this.__exportStar||function(v,C){for(var l in v)l!=="default"&&!Object.prototype.hasOwnProperty.call(C,l)&&a(C,v,l)};Object.defineProperty(s,"__esModule",{value:!0}),M(f(99285),s),M(f(39975),s),M(f(72073),s),M(f(16179),s),M(f(59012),s),M(f(52153),s),M(f(63648),s),M(f(92947),s),M(f(78119),s),M(f(22519),s),M(f(600),s),M(f(53233),s),M(f(43457),s),M(f(67050),s),M(f(61948),s),M(f(25936),s),M(f(28521),s)},78119:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getJsonRpcIdValidator=s.assertIsJsonRpcError=s.isJsonRpcError=s.assertIsJsonRpcFailure=s.isJsonRpcFailure=s.assertIsJsonRpcSuccess=s.isJsonRpcSuccess=s.assertIsJsonRpcResponse=s.isJsonRpcResponse=s.assertIsPendingJsonRpcResponse=s.isPendingJsonRpcResponse=s.JsonRpcResponseStruct=s.JsonRpcFailureStruct=s.JsonRpcSuccessStruct=s.PendingJsonRpcResponseStruct=s.assertIsJsonRpcRequest=s.isJsonRpcRequest=s.assertIsJsonRpcNotification=s.isJsonRpcNotification=s.JsonRpcNotificationStruct=s.JsonRpcRequestStruct=s.JsonRpcParamsStruct=s.JsonRpcErrorStruct=s.JsonRpcIdStruct=s.JsonRpcVersionStruct=s.jsonrpc2=s.getJsonSize=s.isValidJson=s.JsonStruct=s.UnsafeJsonStruct=void 0;const a=f(61059),M=f(99285),v=()=>(0,a.define)("finite number",F=>(0,a.is)(F,(0,a.number)())&&Number.isFinite(F));s.UnsafeJsonStruct=(0,a.union)([(0,a.literal)(null),(0,a.boolean)(),v(),(0,a.string)(),(0,a.array)((0,a.lazy)(()=>s.UnsafeJsonStruct)),(0,a.record)((0,a.string)(),(0,a.lazy)(()=>s.UnsafeJsonStruct))]),s.JsonStruct=(0,a.define)("Json",(F,re)=>{function V(A,Z){const le=[...Z.validator(A,re)];return le.length>0?le:!0}try{const A=V(F,s.UnsafeJsonStruct);return A!==!0?A:V(JSON.parse(JSON.stringify(F)),s.UnsafeJsonStruct)}catch(A){return A instanceof RangeError?"Circular reference detected":!1}});function C(F){return(0,a.is)(F,s.JsonStruct)}s.isValidJson=C;function l(F){(0,M.assertStruct)(F,s.JsonStruct,"Invalid JSON value");const re=JSON.stringify(F);return new TextEncoder().encode(re).byteLength}s.getJsonSize=l,s.jsonrpc2="2.0",s.JsonRpcVersionStruct=(0,a.literal)(s.jsonrpc2),s.JsonRpcIdStruct=(0,a.nullable)((0,a.union)([(0,a.number)(),(0,a.string)()])),s.JsonRpcErrorStruct=(0,a.object)({code:(0,a.integer)(),message:(0,a.string)(),data:(0,a.optional)(s.JsonStruct),stack:(0,a.optional)((0,a.string)())}),s.JsonRpcParamsStruct=(0,a.optional)((0,a.union)([(0,a.record)((0,a.string)(),s.JsonStruct),(0,a.array)(s.JsonStruct)])),s.JsonRpcRequestStruct=(0,a.object)({id:s.JsonRpcIdStruct,jsonrpc:s.JsonRpcVersionStruct,method:(0,a.string)(),params:s.JsonRpcParamsStruct}),s.JsonRpcNotificationStruct=(0,a.omit)(s.JsonRpcRequestStruct,["id"]);function p(F){return(0,a.is)(F,s.JsonRpcNotificationStruct)}s.isJsonRpcNotification=p;function o(F,re){(0,M.assertStruct)(F,s.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",re)}s.assertIsJsonRpcNotification=o;function y(F){return(0,a.is)(F,s.JsonRpcRequestStruct)}s.isJsonRpcRequest=y;function b(F,re){(0,M.assertStruct)(F,s.JsonRpcRequestStruct,"Invalid JSON-RPC request",re)}s.assertIsJsonRpcRequest=b,s.PendingJsonRpcResponseStruct=(0,a.object)({id:s.JsonRpcIdStruct,jsonrpc:s.JsonRpcVersionStruct,result:(0,a.optional)((0,a.unknown)()),error:(0,a.optional)(s.JsonRpcErrorStruct)}),s.JsonRpcSuccessStruct=(0,a.object)({id:s.JsonRpcIdStruct,jsonrpc:s.JsonRpcVersionStruct,result:s.JsonStruct}),s.JsonRpcFailureStruct=(0,a.object)({id:s.JsonRpcIdStruct,jsonrpc:s.JsonRpcVersionStruct,error:s.JsonRpcErrorStruct}),s.JsonRpcResponseStruct=(0,a.union)([s.JsonRpcSuccessStruct,s.JsonRpcFailureStruct]);function _(F){return(0,a.is)(F,s.PendingJsonRpcResponseStruct)}s.isPendingJsonRpcResponse=_;function P(F,re){(0,M.assertStruct)(F,s.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",re)}s.assertIsPendingJsonRpcResponse=P;function m(F){return(0,a.is)(F,s.JsonRpcResponseStruct)}s.isJsonRpcResponse=m;function d(F,re){(0,M.assertStruct)(F,s.JsonRpcResponseStruct,"Invalid JSON-RPC response",re)}s.assertIsJsonRpcResponse=d;function S(F){return(0,a.is)(F,s.JsonRpcSuccessStruct)}s.isJsonRpcSuccess=S;function O(F,re){(0,M.assertStruct)(F,s.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",re)}s.assertIsJsonRpcSuccess=O;function z(F){return(0,a.is)(F,s.JsonRpcFailureStruct)}s.isJsonRpcFailure=z;function j(F,re){(0,M.assertStruct)(F,s.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",re)}s.assertIsJsonRpcFailure=j;function G(F){return(0,a.is)(F,s.JsonRpcErrorStruct)}s.isJsonRpcError=G;function B(F,re){(0,M.assertStruct)(F,s.JsonRpcErrorStruct,"Invalid JSON-RPC error",re)}s.assertIsJsonRpcError=B;function K(F){const{permitEmptyString:re,permitFractions:V,permitNull:A}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},F);return ve=>!!(typeof ve=="number"&&(V||Number.isInteger(ve))||typeof ve=="string"&&(re||ve.length>0)||A&&ve===null)}s.getJsonRpcIdValidator=K},22519:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0})},600:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.createModuleLogger=s.createProjectLogger=void 0;const v=(0,a(f(91287)).default)("metamask");function C(p){return v.extend(p)}s.createProjectLogger=C;function l(p,o){return p.extend(o)}s.createModuleLogger=l},53233:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.calculateNumberSize=s.calculateStringSize=s.isASCII=s.isPlainObject=s.ESCAPE_CHARACTERS_REGEXP=s.JsonSize=s.hasProperty=s.isObject=s.isNullOrUndefined=s.isNonEmptyArray=void 0;function f(b){return Array.isArray(b)&&b.length>0}s.isNonEmptyArray=f;function a(b){return b==null}s.isNullOrUndefined=a;function M(b){return!!b&&typeof b=="object"&&!Array.isArray(b)}s.isObject=M;const v=(b,_)=>Object.hasOwnProperty.call(b,_);s.hasProperty=v;var C;(function(b){b[b.Null=4]="Null",b[b.Comma=1]="Comma",b[b.Wrapper=1]="Wrapper",b[b.True=4]="True",b[b.False=5]="False",b[b.Quote=1]="Quote",b[b.Colon=1]="Colon",b[b.Date=24]="Date"})(C=s.JsonSize||(s.JsonSize={})),s.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function l(b){if(typeof b!="object"||b===null)return!1;try{let _=b;for(;Object.getPrototypeOf(_)!==null;)_=Object.getPrototypeOf(_);return Object.getPrototypeOf(b)===_}catch{return!1}}s.isPlainObject=l;function p(b){return b.charCodeAt(0)<=127}s.isASCII=p;function o(b){var _;return b.split("").reduce((m,d)=>p(d)?m+1:m+2,0)+((_=b.match(s.ESCAPE_CHARACTERS_REGEXP))!==null&&_!==void 0?_:[]).length}s.calculateStringSize=o;function y(b){return b.toString().length}s.calculateNumberSize=y},43457:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.hexToBigInt=s.hexToNumber=s.bigIntToHex=s.numberToHex=void 0;const a=f(99285),M=f(92947),v=o=>((0,a.assert)(typeof o=="number","Value must be a number."),(0,a.assert)(o>=0,"Value must be a non-negative number."),(0,a.assert)(Number.isSafeInteger(o),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,M.add0x)(o.toString(16)));s.numberToHex=v;const C=o=>((0,a.assert)(typeof o=="bigint","Value must be a bigint."),(0,a.assert)(o>=0,"Value must be a non-negative bigint."),(0,M.add0x)(o.toString(16)));s.bigIntToHex=C;const l=o=>{(0,M.assertIsHexString)(o);const y=parseInt(o,16);return(0,a.assert)(Number.isSafeInteger(y),"Value is not a safe integer. Use `hexToBigInt` instead."),y};s.hexToNumber=l;const p=o=>((0,M.assertIsHexString)(o),BigInt((0,M.add0x)(o)));s.hexToBigInt=p},67050:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0})},61948:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.timeSince=s.inMilliseconds=s.Duration=void 0;var f;(function(l){l[l.Millisecond=1]="Millisecond",l[l.Second=1e3]="Second",l[l.Minute=6e4]="Minute",l[l.Hour=36e5]="Hour",l[l.Day=864e5]="Day",l[l.Week=6048e5]="Week",l[l.Year=31536e6]="Year"})(f=s.Duration||(s.Duration={}));const a=l=>Number.isInteger(l)&&l>=0,M=(l,p)=>{if(!a(l))throw new Error(`"${p}" must be a non-negative integer. Received: "${l}".`)};function v(l,p){return M(l,"count"),l*p}s.inMilliseconds=v;function C(l){return M(l,"timestamp"),Date.now()-l}s.timeSince=C},25936:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0})},28521:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.satisfiesVersionRange=s.gtRange=s.gtVersion=s.assertIsSemVerRange=s.assertIsSemVerVersion=s.isValidSemVerRange=s.isValidSemVerVersion=s.VersionRangeStruct=s.VersionStruct=void 0;const a=f(31559),M=f(61059),v=f(99285);s.VersionStruct=(0,M.refine)((0,M.string)(),"Version",P=>(0,a.valid)(P)===null?`Expected SemVer version, got "${P}"`:!0),s.VersionRangeStruct=(0,M.refine)((0,M.string)(),"Version range",P=>(0,a.validRange)(P)===null?`Expected SemVer range, got "${P}"`:!0);function C(P){return(0,M.is)(P,s.VersionStruct)}s.isValidSemVerVersion=C;function l(P){return(0,M.is)(P,s.VersionRangeStruct)}s.isValidSemVerRange=l;function p(P){(0,v.assertStruct)(P,s.VersionStruct)}s.assertIsSemVerVersion=p;function o(P){(0,v.assertStruct)(P,s.VersionRangeStruct)}s.assertIsSemVerRange=o;function y(P,m){return(0,a.gt)(P,m)}s.gtVersion=y;function b(P,m){return(0,a.gtr)(P,m)}s.gtRange=b;function _(P,m){return(0,a.satisfies)(P,m,{includePrerelease:!0})}s.satisfiesVersionRange=_},6050:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(5554);function M(x,L){return L===void 0&&(L=0),(x[L+0]<<8|x[L+1])<<16>>16}s.readInt16BE=M;function v(x,L){return L===void 0&&(L=0),(x[L+0]<<8|x[L+1])>>>0}s.readUint16BE=v;function C(x,L){return L===void 0&&(L=0),(x[L+1]<<8|x[L])<<16>>16}s.readInt16LE=C;function l(x,L){return L===void 0&&(L=0),(x[L+1]<<8|x[L])>>>0}s.readUint16LE=l;function p(x,L,I){return L===void 0&&(L=new Uint8Array(2)),I===void 0&&(I=0),L[I+0]=x>>>8,L[I+1]=x>>>0,L}s.writeUint16BE=p,s.writeInt16BE=p;function o(x,L,I){return L===void 0&&(L=new Uint8Array(2)),I===void 0&&(I=0),L[I+0]=x>>>0,L[I+1]=x>>>8,L}s.writeUint16LE=o,s.writeInt16LE=o;function y(x,L){return L===void 0&&(L=0),x[L]<<24|x[L+1]<<16|x[L+2]<<8|x[L+3]}s.readInt32BE=y;function b(x,L){return L===void 0&&(L=0),(x[L]<<24|x[L+1]<<16|x[L+2]<<8|x[L+3])>>>0}s.readUint32BE=b;function _(x,L){return L===void 0&&(L=0),x[L+3]<<24|x[L+2]<<16|x[L+1]<<8|x[L]}s.readInt32LE=_;function P(x,L){return L===void 0&&(L=0),(x[L+3]<<24|x[L+2]<<16|x[L+1]<<8|x[L])>>>0}s.readUint32LE=P;function m(x,L,I){return L===void 0&&(L=new Uint8Array(4)),I===void 0&&(I=0),L[I+0]=x>>>24,L[I+1]=x>>>16,L[I+2]=x>>>8,L[I+3]=x>>>0,L}s.writeUint32BE=m,s.writeInt32BE=m;function d(x,L,I){return L===void 0&&(L=new Uint8Array(4)),I===void 0&&(I=0),L[I+0]=x>>>0,L[I+1]=x>>>8,L[I+2]=x>>>16,L[I+3]=x>>>24,L}s.writeUint32LE=d,s.writeInt32LE=d;function S(x,L){L===void 0&&(L=0);var I=y(x,L),N=y(x,L+4);return I*4294967296+N-(N>>31)*4294967296}s.readInt64BE=S;function O(x,L){L===void 0&&(L=0);var I=b(x,L),N=b(x,L+4);return I*4294967296+N}s.readUint64BE=O;function z(x,L){L===void 0&&(L=0);var I=_(x,L),N=_(x,L+4);return N*4294967296+I-(I>>31)*4294967296}s.readInt64LE=z;function j(x,L){L===void 0&&(L=0);var I=P(x,L),N=P(x,L+4);return N*4294967296+I}s.readUint64LE=j;function G(x,L,I){return L===void 0&&(L=new Uint8Array(8)),I===void 0&&(I=0),m(x/4294967296>>>0,L,I),m(x>>>0,L,I+4),L}s.writeUint64BE=G,s.writeInt64BE=G;function B(x,L,I){return L===void 0&&(L=new Uint8Array(8)),I===void 0&&(I=0),d(x>>>0,L,I),d(x/4294967296>>>0,L,I+4),L}s.writeUint64LE=B,s.writeInt64LE=B;function K(x,L,I){if(I===void 0&&(I=0),x%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(x/8>L.length-I)throw new Error("readUintBE: array is too short for the given bitLength");for(var N=0,W=1,Y=x/8+I-1;Y>=I;Y--)N+=L[Y]*W,W*=256;return N}s.readUintBE=K;function F(x,L,I){if(I===void 0&&(I=0),x%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(x/8>L.length-I)throw new Error("readUintLE: array is too short for the given bitLength");for(var N=0,W=1,Y=I;Y<I+x/8;Y++)N+=L[Y]*W,W*=256;return N}s.readUintLE=F;function re(x,L,I,N){if(I===void 0&&(I=new Uint8Array(x/8)),N===void 0&&(N=0),x%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!a.isSafeInteger(L))throw new Error("writeUintBE value must be an integer");for(var W=1,Y=x/8+N-1;Y>=N;Y--)I[Y]=L/W&255,W*=256;return I}s.writeUintBE=re;function V(x,L,I,N){if(I===void 0&&(I=new Uint8Array(x/8)),N===void 0&&(N=0),x%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!a.isSafeInteger(L))throw new Error("writeUintLE value must be an integer");for(var W=1,Y=N;Y<N+x/8;Y++)I[Y]=L/W&255,W*=256;return I}s.writeUintLE=V;function A(x,L){L===void 0&&(L=0);var I=new DataView(x.buffer,x.byteOffset,x.byteLength);return I.getFloat32(L)}s.readFloat32BE=A;function Z(x,L){L===void 0&&(L=0);var I=new DataView(x.buffer,x.byteOffset,x.byteLength);return I.getFloat32(L,!0)}s.readFloat32LE=Z;function ve(x,L){L===void 0&&(L=0);var I=new DataView(x.buffer,x.byteOffset,x.byteLength);return I.getFloat64(L)}s.readFloat64BE=ve;function le(x,L){L===void 0&&(L=0);var I=new DataView(x.buffer,x.byteOffset,x.byteLength);return I.getFloat64(L,!0)}s.readFloat64LE=le;function we(x,L,I){L===void 0&&(L=new Uint8Array(4)),I===void 0&&(I=0);var N=new DataView(L.buffer,L.byteOffset,L.byteLength);return N.setFloat32(I,x),L}s.writeFloat32BE=we;function fe(x,L,I){L===void 0&&(L=new Uint8Array(4)),I===void 0&&(I=0);var N=new DataView(L.buffer,L.byteOffset,L.byteLength);return N.setFloat32(I,x,!0),L}s.writeFloat32LE=fe;function H(x,L,I){L===void 0&&(L=new Uint8Array(8)),I===void 0&&(I=0);var N=new DataView(L.buffer,L.byteOffset,L.byteLength);return N.setFloat64(I,x),L}s.writeFloat64BE=H;function g(x,L,I){L===void 0&&(L=new Uint8Array(8)),I===void 0&&(I=0);var N=new DataView(L.buffer,L.byteOffset,L.byteLength);return N.setFloat64(I,x,!0),L}s.writeFloat64LE=g},11541:function(pe,s,f){"use strict";var a;a={value:!0};var M=f(26090),v=f(53482),C=f(49644),l=f(6050),p=f(59872);s.Cv=32,s.WH=12,s.pg=16;var o=new Uint8Array(16),y=function(){function b(_){if(this.nonceLength=s.WH,this.tagLength=s.pg,_.length!==s.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(_)}return b.prototype.seal=function(_,P,m,d){if(_.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var S=new Uint8Array(16);S.set(_,S.length-_.length);var O=new Uint8Array(32);M.stream(this._key,S,O,4);var z=P.length+this.tagLength,j;if(d){if(d.length!==z)throw new Error("ChaCha20Poly1305: incorrect destination length");j=d}else j=new Uint8Array(z);return M.streamXOR(this._key,S,P,j,4),this._authenticate(j.subarray(j.length-this.tagLength,j.length),O,j.subarray(0,j.length-this.tagLength),m),C.wipe(S),j},b.prototype.open=function(_,P,m,d){if(_.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(P.length<this.tagLength)return null;var S=new Uint8Array(16);S.set(_,S.length-_.length);var O=new Uint8Array(32);M.stream(this._key,S,O,4);var z=new Uint8Array(this.tagLength);if(this._authenticate(z,O,P.subarray(0,P.length-this.tagLength),m),!p.equal(z,P.subarray(P.length-this.tagLength,P.length)))return null;var j=P.length-this.tagLength,G;if(d){if(d.length!==j)throw new Error("ChaCha20Poly1305: incorrect destination length");G=d}else G=new Uint8Array(j);return M.streamXOR(this._key,S,P.subarray(0,P.length-this.tagLength),G,4),C.wipe(S),G},b.prototype.clean=function(){return C.wipe(this._key),this},b.prototype._authenticate=function(_,P,m,d){var S=new v.Poly1305(P);d&&(S.update(d),d.length%16>0&&S.update(o.subarray(d.length%16))),S.update(m),m.length%16>0&&S.update(o.subarray(m.length%16));var O=new Uint8Array(8);d&&l.writeUint64LE(d.length,O),S.update(O),l.writeUint64LE(m.length,O),S.update(O);for(var z=S.digest(),j=0;j<z.length;j++)_[j]=z[j];S.clean(),C.wipe(z),C.wipe(O)},b}();s.OK=y},26090:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(6050),M=f(49644),v=20;function C(y,b,_){for(var P=1634760805,m=857760878,d=2036477234,S=1797285236,O=_[3]<<24|_[2]<<16|_[1]<<8|_[0],z=_[7]<<24|_[6]<<16|_[5]<<8|_[4],j=_[11]<<24|_[10]<<16|_[9]<<8|_[8],G=_[15]<<24|_[14]<<16|_[13]<<8|_[12],B=_[19]<<24|_[18]<<16|_[17]<<8|_[16],K=_[23]<<24|_[22]<<16|_[21]<<8|_[20],F=_[27]<<24|_[26]<<16|_[25]<<8|_[24],re=_[31]<<24|_[30]<<16|_[29]<<8|_[28],V=b[3]<<24|b[2]<<16|b[1]<<8|b[0],A=b[7]<<24|b[6]<<16|b[5]<<8|b[4],Z=b[11]<<24|b[10]<<16|b[9]<<8|b[8],ve=b[15]<<24|b[14]<<16|b[13]<<8|b[12],le=P,we=m,fe=d,H=S,g=O,x=z,L=j,I=G,N=B,W=K,Y=F,te=re,T=V,ie=A,Pe=Z,Fe=ve,$e=0;$e<v;$e+=2)le=le+g|0,T^=le,T=T>>>32-16|T<<16,N=N+T|0,g^=N,g=g>>>32-12|g<<12,we=we+x|0,ie^=we,ie=ie>>>32-16|ie<<16,W=W+ie|0,x^=W,x=x>>>32-12|x<<12,fe=fe+L|0,Pe^=fe,Pe=Pe>>>32-16|Pe<<16,Y=Y+Pe|0,L^=Y,L=L>>>32-12|L<<12,H=H+I|0,Fe^=H,Fe=Fe>>>32-16|Fe<<16,te=te+Fe|0,I^=te,I=I>>>32-12|I<<12,fe=fe+L|0,Pe^=fe,Pe=Pe>>>32-8|Pe<<8,Y=Y+Pe|0,L^=Y,L=L>>>32-7|L<<7,H=H+I|0,Fe^=H,Fe=Fe>>>32-8|Fe<<8,te=te+Fe|0,I^=te,I=I>>>32-7|I<<7,we=we+x|0,ie^=we,ie=ie>>>32-8|ie<<8,W=W+ie|0,x^=W,x=x>>>32-7|x<<7,le=le+g|0,T^=le,T=T>>>32-8|T<<8,N=N+T|0,g^=N,g=g>>>32-7|g<<7,le=le+x|0,Fe^=le,Fe=Fe>>>32-16|Fe<<16,Y=Y+Fe|0,x^=Y,x=x>>>32-12|x<<12,we=we+L|0,T^=we,T=T>>>32-16|T<<16,te=te+T|0,L^=te,L=L>>>32-12|L<<12,fe=fe+I|0,ie^=fe,ie=ie>>>32-16|ie<<16,N=N+ie|0,I^=N,I=I>>>32-12|I<<12,H=H+g|0,Pe^=H,Pe=Pe>>>32-16|Pe<<16,W=W+Pe|0,g^=W,g=g>>>32-12|g<<12,fe=fe+I|0,ie^=fe,ie=ie>>>32-8|ie<<8,N=N+ie|0,I^=N,I=I>>>32-7|I<<7,H=H+g|0,Pe^=H,Pe=Pe>>>32-8|Pe<<8,W=W+Pe|0,g^=W,g=g>>>32-7|g<<7,we=we+L|0,T^=we,T=T>>>32-8|T<<8,te=te+T|0,L^=te,L=L>>>32-7|L<<7,le=le+x|0,Fe^=le,Fe=Fe>>>32-8|Fe<<8,Y=Y+Fe|0,x^=Y,x=x>>>32-7|x<<7;a.writeUint32LE(le+P|0,y,0),a.writeUint32LE(we+m|0,y,4),a.writeUint32LE(fe+d|0,y,8),a.writeUint32LE(H+S|0,y,12),a.writeUint32LE(g+O|0,y,16),a.writeUint32LE(x+z|0,y,20),a.writeUint32LE(L+j|0,y,24),a.writeUint32LE(I+G|0,y,28),a.writeUint32LE(N+B|0,y,32),a.writeUint32LE(W+K|0,y,36),a.writeUint32LE(Y+F|0,y,40),a.writeUint32LE(te+re|0,y,44),a.writeUint32LE(T+V|0,y,48),a.writeUint32LE(ie+A|0,y,52),a.writeUint32LE(Pe+Z|0,y,56),a.writeUint32LE(Fe+ve|0,y,60)}function l(y,b,_,P,m){if(m===void 0&&(m=0),y.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(P.length<_.length)throw new Error("ChaCha: destination is shorter than source");var d,S;if(m===0){if(b.length!==8&&b.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");d=new Uint8Array(16),S=d.length-b.length,d.set(b,S)}else{if(b.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");d=b,S=m}for(var O=new Uint8Array(64),z=0;z<_.length;z+=64){C(O,d,y);for(var j=z;j<z+64&&j<_.length;j++)P[j]=_[j]^O[j-z];o(d,0,S)}return M.wipe(O),m===0&&M.wipe(d),P}s.streamXOR=l;function p(y,b,_,P){return P===void 0&&(P=0),M.wipe(_),l(y,b,_,_,P)}s.stream=p;function o(y,b,_){for(var P=1;_--;)P=P+(y[b]&255)|0,y[b]=P&255,P>>>=8,b++;if(P>0)throw new Error("ChaCha: counter overflow")}},59872:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});function f(C,l,p){return~(C-1)&l|C-1&p}s.select=f;function a(C,l){return(C|0)-(l|0)-1>>>31&1}s.lessOrEqual=a;function M(C,l){if(C.length!==l.length)return 0;for(var p=0,o=0;o<C.length;o++)p|=C[o]^l[o];return 1&p-1>>>8}s.compare=M;function v(C,l){return C.length===0||l.length===0?!1:M(C,l)!==0}s.equal=v},61326:function(pe,s,f){"use strict";var a;a={value:!0},a=a=a=s.Xx=a=a=s._w=s.aP=s.KS=a=s.jQ=void 0;const M=f(4883),v=f(21318),C=f(49644);s.jQ=64,a=32,s.KS=64,s.aP=32;function l(ce){const q=new Float64Array(16);if(ce)for(let ee=0;ee<ce.length;ee++)q[ee]=ce[ee];return q}const p=new Uint8Array(32);p[0]=9;const o=l(),y=l([1]),b=l([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),_=l([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),P=l([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=l([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=l([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(ce,q){for(let ee=0;ee<16;ee++)ce[ee]=q[ee]|0}function O(ce){let q=1;for(let ee=0;ee<16;ee++){let D=ce[ee]+q+65535;q=Math.floor(D/65536),ce[ee]=D-q*65536}ce[0]+=q-1+37*(q-1)}function z(ce,q,ee){const D=~(ee-1);for(let ne=0;ne<16;ne++){const Ee=D&(ce[ne]^q[ne]);ce[ne]^=Ee,q[ne]^=Ee}}function j(ce,q){const ee=l(),D=l();for(let ne=0;ne<16;ne++)D[ne]=q[ne];O(D),O(D),O(D);for(let ne=0;ne<2;ne++){ee[0]=D[0]-65517;for(let oe=1;oe<15;oe++)ee[oe]=D[oe]-65535-(ee[oe-1]>>16&1),ee[oe-1]&=65535;ee[15]=D[15]-32767-(ee[14]>>16&1);const Ee=ee[15]>>16&1;ee[14]&=65535,z(D,ee,1-Ee)}for(let ne=0;ne<16;ne++)ce[2*ne]=D[ne]&255,ce[2*ne+1]=D[ne]>>8}function G(ce,q){let ee=0;for(let D=0;D<32;D++)ee|=ce[D]^q[D];return(1&ee-1>>>8)-1}function B(ce,q){const ee=new Uint8Array(32),D=new Uint8Array(32);return j(ee,ce),j(D,q),G(ee,D)}function K(ce){const q=new Uint8Array(32);return j(q,ce),q[0]&1}function F(ce,q){for(let ee=0;ee<16;ee++)ce[ee]=q[2*ee]+(q[2*ee+1]<<8);ce[15]&=32767}function re(ce,q,ee){for(let D=0;D<16;D++)ce[D]=q[D]+ee[D]}function V(ce,q,ee){for(let D=0;D<16;D++)ce[D]=q[D]-ee[D]}function A(ce,q,ee){let D,ne,Ee=0,oe=0,se=0,Oe=0,ke=0,Ke=0,Te=0,ot=0,Ve=0,Je=0,Ae=0,Me=0,de=0,ye=0,$=0,R=0,k=0,ae=0,me=0,Re=0,Se=0,We=0,qe=0,et=0,st=0,at=0,wt=0,Ct=0,At=0,mt=0,Mt=0,Vt=ee[0],vt=ee[1],gt=ee[2],Gt=ee[3],Pt=ee[4],Ot=ee[5],sr=ee[6],Tt=ee[7],Nt=ee[8],nr=ee[9],Rt=ee[10],Et=ee[11],ur=ee[12],Lt=ee[13],Bt=ee[14],lr=ee[15];D=q[0],Ee+=D*Vt,oe+=D*vt,se+=D*gt,Oe+=D*Gt,ke+=D*Pt,Ke+=D*Ot,Te+=D*sr,ot+=D*Tt,Ve+=D*Nt,Je+=D*nr,Ae+=D*Rt,Me+=D*Et,de+=D*ur,ye+=D*Lt,$+=D*Bt,R+=D*lr,D=q[1],oe+=D*Vt,se+=D*vt,Oe+=D*gt,ke+=D*Gt,Ke+=D*Pt,Te+=D*Ot,ot+=D*sr,Ve+=D*Tt,Je+=D*Nt,Ae+=D*nr,Me+=D*Rt,de+=D*Et,ye+=D*ur,$+=D*Lt,R+=D*Bt,k+=D*lr,D=q[2],se+=D*Vt,Oe+=D*vt,ke+=D*gt,Ke+=D*Gt,Te+=D*Pt,ot+=D*Ot,Ve+=D*sr,Je+=D*Tt,Ae+=D*Nt,Me+=D*nr,de+=D*Rt,ye+=D*Et,$+=D*ur,R+=D*Lt,k+=D*Bt,ae+=D*lr,D=q[3],Oe+=D*Vt,ke+=D*vt,Ke+=D*gt,Te+=D*Gt,ot+=D*Pt,Ve+=D*Ot,Je+=D*sr,Ae+=D*Tt,Me+=D*Nt,de+=D*nr,ye+=D*Rt,$+=D*Et,R+=D*ur,k+=D*Lt,ae+=D*Bt,me+=D*lr,D=q[4],ke+=D*Vt,Ke+=D*vt,Te+=D*gt,ot+=D*Gt,Ve+=D*Pt,Je+=D*Ot,Ae+=D*sr,Me+=D*Tt,de+=D*Nt,ye+=D*nr,$+=D*Rt,R+=D*Et,k+=D*ur,ae+=D*Lt,me+=D*Bt,Re+=D*lr,D=q[5],Ke+=D*Vt,Te+=D*vt,ot+=D*gt,Ve+=D*Gt,Je+=D*Pt,Ae+=D*Ot,Me+=D*sr,de+=D*Tt,ye+=D*Nt,$+=D*nr,R+=D*Rt,k+=D*Et,ae+=D*ur,me+=D*Lt,Re+=D*Bt,Se+=D*lr,D=q[6],Te+=D*Vt,ot+=D*vt,Ve+=D*gt,Je+=D*Gt,Ae+=D*Pt,Me+=D*Ot,de+=D*sr,ye+=D*Tt,$+=D*Nt,R+=D*nr,k+=D*Rt,ae+=D*Et,me+=D*ur,Re+=D*Lt,Se+=D*Bt,We+=D*lr,D=q[7],ot+=D*Vt,Ve+=D*vt,Je+=D*gt,Ae+=D*Gt,Me+=D*Pt,de+=D*Ot,ye+=D*sr,$+=D*Tt,R+=D*Nt,k+=D*nr,ae+=D*Rt,me+=D*Et,Re+=D*ur,Se+=D*Lt,We+=D*Bt,qe+=D*lr,D=q[8],Ve+=D*Vt,Je+=D*vt,Ae+=D*gt,Me+=D*Gt,de+=D*Pt,ye+=D*Ot,$+=D*sr,R+=D*Tt,k+=D*Nt,ae+=D*nr,me+=D*Rt,Re+=D*Et,Se+=D*ur,We+=D*Lt,qe+=D*Bt,et+=D*lr,D=q[9],Je+=D*Vt,Ae+=D*vt,Me+=D*gt,de+=D*Gt,ye+=D*Pt,$+=D*Ot,R+=D*sr,k+=D*Tt,ae+=D*Nt,me+=D*nr,Re+=D*Rt,Se+=D*Et,We+=D*ur,qe+=D*Lt,et+=D*Bt,st+=D*lr,D=q[10],Ae+=D*Vt,Me+=D*vt,de+=D*gt,ye+=D*Gt,$+=D*Pt,R+=D*Ot,k+=D*sr,ae+=D*Tt,me+=D*Nt,Re+=D*nr,Se+=D*Rt,We+=D*Et,qe+=D*ur,et+=D*Lt,st+=D*Bt,at+=D*lr,D=q[11],Me+=D*Vt,de+=D*vt,ye+=D*gt,$+=D*Gt,R+=D*Pt,k+=D*Ot,ae+=D*sr,me+=D*Tt,Re+=D*Nt,Se+=D*nr,We+=D*Rt,qe+=D*Et,et+=D*ur,st+=D*Lt,at+=D*Bt,wt+=D*lr,D=q[12],de+=D*Vt,ye+=D*vt,$+=D*gt,R+=D*Gt,k+=D*Pt,ae+=D*Ot,me+=D*sr,Re+=D*Tt,Se+=D*Nt,We+=D*nr,qe+=D*Rt,et+=D*Et,st+=D*ur,at+=D*Lt,wt+=D*Bt,Ct+=D*lr,D=q[13],ye+=D*Vt,$+=D*vt,R+=D*gt,k+=D*Gt,ae+=D*Pt,me+=D*Ot,Re+=D*sr,Se+=D*Tt,We+=D*Nt,qe+=D*nr,et+=D*Rt,st+=D*Et,at+=D*ur,wt+=D*Lt,Ct+=D*Bt,At+=D*lr,D=q[14],$+=D*Vt,R+=D*vt,k+=D*gt,ae+=D*Gt,me+=D*Pt,Re+=D*Ot,Se+=D*sr,We+=D*Tt,qe+=D*Nt,et+=D*nr,st+=D*Rt,at+=D*Et,wt+=D*ur,Ct+=D*Lt,At+=D*Bt,mt+=D*lr,D=q[15],R+=D*Vt,k+=D*vt,ae+=D*gt,me+=D*Gt,Re+=D*Pt,Se+=D*Ot,We+=D*sr,qe+=D*Tt,et+=D*Nt,st+=D*nr,at+=D*Rt,wt+=D*Et,Ct+=D*ur,At+=D*Lt,mt+=D*Bt,Mt+=D*lr,Ee+=38*k,oe+=38*ae,se+=38*me,Oe+=38*Re,ke+=38*Se,Ke+=38*We,Te+=38*qe,ot+=38*et,Ve+=38*st,Je+=38*at,Ae+=38*wt,Me+=38*Ct,de+=38*At,ye+=38*mt,$+=38*Mt,ne=1,D=Ee+ne+65535,ne=Math.floor(D/65536),Ee=D-ne*65536,D=oe+ne+65535,ne=Math.floor(D/65536),oe=D-ne*65536,D=se+ne+65535,ne=Math.floor(D/65536),se=D-ne*65536,D=Oe+ne+65535,ne=Math.floor(D/65536),Oe=D-ne*65536,D=ke+ne+65535,ne=Math.floor(D/65536),ke=D-ne*65536,D=Ke+ne+65535,ne=Math.floor(D/65536),Ke=D-ne*65536,D=Te+ne+65535,ne=Math.floor(D/65536),Te=D-ne*65536,D=ot+ne+65535,ne=Math.floor(D/65536),ot=D-ne*65536,D=Ve+ne+65535,ne=Math.floor(D/65536),Ve=D-ne*65536,D=Je+ne+65535,ne=Math.floor(D/65536),Je=D-ne*65536,D=Ae+ne+65535,ne=Math.floor(D/65536),Ae=D-ne*65536,D=Me+ne+65535,ne=Math.floor(D/65536),Me=D-ne*65536,D=de+ne+65535,ne=Math.floor(D/65536),de=D-ne*65536,D=ye+ne+65535,ne=Math.floor(D/65536),ye=D-ne*65536,D=$+ne+65535,ne=Math.floor(D/65536),$=D-ne*65536,D=R+ne+65535,ne=Math.floor(D/65536),R=D-ne*65536,Ee+=ne-1+37*(ne-1),ne=1,D=Ee+ne+65535,ne=Math.floor(D/65536),Ee=D-ne*65536,D=oe+ne+65535,ne=Math.floor(D/65536),oe=D-ne*65536,D=se+ne+65535,ne=Math.floor(D/65536),se=D-ne*65536,D=Oe+ne+65535,ne=Math.floor(D/65536),Oe=D-ne*65536,D=ke+ne+65535,ne=Math.floor(D/65536),ke=D-ne*65536,D=Ke+ne+65535,ne=Math.floor(D/65536),Ke=D-ne*65536,D=Te+ne+65535,ne=Math.floor(D/65536),Te=D-ne*65536,D=ot+ne+65535,ne=Math.floor(D/65536),ot=D-ne*65536,D=Ve+ne+65535,ne=Math.floor(D/65536),Ve=D-ne*65536,D=Je+ne+65535,ne=Math.floor(D/65536),Je=D-ne*65536,D=Ae+ne+65535,ne=Math.floor(D/65536),Ae=D-ne*65536,D=Me+ne+65535,ne=Math.floor(D/65536),Me=D-ne*65536,D=de+ne+65535,ne=Math.floor(D/65536),de=D-ne*65536,D=ye+ne+65535,ne=Math.floor(D/65536),ye=D-ne*65536,D=$+ne+65535,ne=Math.floor(D/65536),$=D-ne*65536,D=R+ne+65535,ne=Math.floor(D/65536),R=D-ne*65536,Ee+=ne-1+37*(ne-1),ce[0]=Ee,ce[1]=oe,ce[2]=se,ce[3]=Oe,ce[4]=ke,ce[5]=Ke,ce[6]=Te,ce[7]=ot,ce[8]=Ve,ce[9]=Je,ce[10]=Ae,ce[11]=Me,ce[12]=de,ce[13]=ye,ce[14]=$,ce[15]=R}function Z(ce,q){A(ce,q,q)}function ve(ce,q){const ee=l();let D;for(D=0;D<16;D++)ee[D]=q[D];for(D=253;D>=0;D--)Z(ee,ee),D!==2&&D!==4&&A(ee,ee,q);for(D=0;D<16;D++)ce[D]=ee[D]}function le(ce,q){const ee=l();let D;for(D=0;D<16;D++)ee[D]=q[D];for(D=250;D>=0;D--)Z(ee,ee),D!==1&&A(ee,ee,q);for(D=0;D<16;D++)ce[D]=ee[D]}function we(ce,q){const ee=l(),D=l(),ne=l(),Ee=l(),oe=l(),se=l(),Oe=l(),ke=l(),Ke=l();V(ee,ce[1],ce[0]),V(Ke,q[1],q[0]),A(ee,ee,Ke),re(D,ce[0],ce[1]),re(Ke,q[0],q[1]),A(D,D,Ke),A(ne,ce[3],q[3]),A(ne,ne,_),A(Ee,ce[2],q[2]),re(Ee,Ee,Ee),V(oe,D,ee),V(se,Ee,ne),re(Oe,Ee,ne),re(ke,D,ee),A(ce[0],oe,se),A(ce[1],ke,Oe),A(ce[2],Oe,se),A(ce[3],oe,ke)}function fe(ce,q,ee){for(let D=0;D<4;D++)z(ce[D],q[D],ee)}function H(ce,q){const ee=l(),D=l(),ne=l();ve(ne,q[2]),A(ee,q[0],ne),A(D,q[1],ne),j(ce,D),ce[31]^=K(ee)<<7}function g(ce,q,ee){S(ce[0],o),S(ce[1],y),S(ce[2],y),S(ce[3],o);for(let D=255;D>=0;--D){const ne=ee[D/8|0]>>(D&7)&1;fe(ce,q,ne),we(q,ce),we(ce,ce),fe(ce,q,ne)}}function x(ce,q){const ee=[l(),l(),l(),l()];S(ee[0],P),S(ee[1],m),S(ee[2],y),A(ee[3],P,m),g(ce,ee,q)}function L(ce){if(ce.length!==s.aP)throw new Error(`ed25519: seed must be ${s.aP} bytes`);const q=(0,v.hash)(ce);q[0]&=248,q[31]&=127,q[31]|=64;const ee=new Uint8Array(32),D=[l(),l(),l(),l()];x(D,q),H(ee,D);const ne=new Uint8Array(64);return ne.set(ce),ne.set(ee,32),{publicKey:ee,secretKey:ne}}s._w=L;function I(ce){const q=(0,M.randomBytes)(32,ce),ee=L(q);return(0,C.wipe)(q),ee}a=I;function N(ce){if(ce.length!==s.KS)throw new Error(`ed25519: secret key must be ${s.KS} bytes`);return new Uint8Array(ce.subarray(32))}a=N;const W=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Y(ce,q){let ee,D,ne,Ee;for(D=63;D>=32;--D){for(ee=0,ne=D-32,Ee=D-12;ne<Ee;++ne)q[ne]+=ee-16*q[D]*W[ne-(D-32)],ee=Math.floor((q[ne]+128)/256),q[ne]-=ee*256;q[ne]+=ee,q[D]=0}for(ee=0,ne=0;ne<32;ne++)q[ne]+=ee-(q[31]>>4)*W[ne],ee=q[ne]>>8,q[ne]&=255;for(ne=0;ne<32;ne++)q[ne]-=ee*W[ne];for(D=0;D<32;D++)q[D+1]+=q[D]>>8,ce[D]=q[D]&255}function te(ce){const q=new Float64Array(64);for(let ee=0;ee<64;ee++)q[ee]=ce[ee];for(let ee=0;ee<64;ee++)ce[ee]=0;Y(ce,q)}function T(ce,q){const ee=new Float64Array(64),D=[l(),l(),l(),l()],ne=(0,v.hash)(ce.subarray(0,32));ne[0]&=248,ne[31]&=127,ne[31]|=64;const Ee=new Uint8Array(64);Ee.set(ne.subarray(32),32);const oe=new v.SHA512;oe.update(Ee.subarray(32)),oe.update(q);const se=oe.digest();oe.clean(),te(se),x(D,se),H(Ee,D),oe.reset(),oe.update(Ee.subarray(0,32)),oe.update(ce.subarray(32)),oe.update(q);const Oe=oe.digest();te(Oe);for(let ke=0;ke<32;ke++)ee[ke]=se[ke];for(let ke=0;ke<32;ke++)for(let Ke=0;Ke<32;Ke++)ee[ke+Ke]+=Oe[ke]*ne[Ke];return Y(Ee.subarray(32),ee),Ee}s.Xx=T;function ie(ce,q){const ee=l(),D=l(),ne=l(),Ee=l(),oe=l(),se=l(),Oe=l();return S(ce[2],y),F(ce[1],q),Z(ne,ce[1]),A(Ee,ne,b),V(ne,ne,ce[2]),re(Ee,ce[2],Ee),Z(oe,Ee),Z(se,oe),A(Oe,se,oe),A(ee,Oe,ne),A(ee,ee,Ee),le(ee,ee),A(ee,ee,ne),A(ee,ee,Ee),A(ee,ee,Ee),A(ce[0],ee,Ee),Z(D,ce[0]),A(D,D,Ee),B(D,ne)&&A(ce[0],ce[0],d),Z(D,ce[0]),A(D,D,Ee),B(D,ne)?-1:(K(ce[0])===q[31]>>7&&V(ce[0],o,ce[0]),A(ce[3],ce[0],ce[1]),0)}function Pe(ce,q,ee){const D=new Uint8Array(32),ne=[l(),l(),l(),l()],Ee=[l(),l(),l(),l()];if(ee.length!==s.jQ)throw new Error(`ed25519: signature must be ${s.jQ} bytes`);if(ie(Ee,ce))return!1;const oe=new v.SHA512;oe.update(ee.subarray(0,32)),oe.update(ce),oe.update(q);const se=oe.digest();return te(se),g(ne,Ee,se),x(Ee,ee.subarray(32)),we(ne,Ee),H(D,ne),!G(ee,D)}a=Pe;function Fe(ce){let q=[l(),l(),l(),l()];if(ie(q,ce))throw new Error("Ed25519: invalid public key");let ee=l(),D=l(),ne=q[1];re(ee,y,ne),V(D,y,ne),ve(D,D),A(ee,ee,D);let Ee=new Uint8Array(32);return j(Ee,ee),Ee}a=Fe;function $e(ce){const q=(0,v.hash)(ce.subarray(0,32));q[0]&=248,q[31]&=127,q[31]|=64;const ee=new Uint8Array(q.subarray(0,32));return(0,C.wipe)(q),ee}a=$e},94719:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});function f(a){return typeof a.saveState<"u"&&typeof a.restoreState<"u"&&typeof a.cleanSavedState<"u"}s.isSerializableHash=f},45306:function(pe,s,f){"use strict";var a;a={value:!0};var M=f(65629),v=f(49644),C=function(){function l(p,o,y,b){y===void 0&&(y=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=p,this._info=b;var _=M.hmac(this._hash,y,o);this._hmac=new M.HMAC(p,_),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return l.prototype._fillBuffer=function(){this._counter[0]++;var p=this._counter[0];if(p===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),p>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},l.prototype.expand=function(p){for(var o=new Uint8Array(p),y=0;y<o.length;y++)this._bufpos===this._buffer.length&&this._fillBuffer(),o[y]=this._buffer[this._bufpos++];return o},l.prototype.clean=function(){this._hmac.clean(),v.wipe(this._buffer),v.wipe(this._counter),this._bufpos=0},l}();s.t=C},65629:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(94719),M=f(59872),v=f(49644),C=function(){function p(o,y){this._finished=!1,this._inner=new o,this._outer=new o,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var b=new Uint8Array(this.blockSize);y.length>this.blockSize?this._inner.update(y).finish(b).clean():b.set(y);for(var _=0;_<b.length;_++)b[_]^=54;this._inner.update(b);for(var _=0;_<b.length;_++)b[_]^=106;this._outer.update(b),a.isSerializableHash(this._inner)&&a.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),v.wipe(b)}return p.prototype.reset=function(){if(!a.isSerializableHash(this._inner)||!a.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},p.prototype.clean=function(){a.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),a.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},p.prototype.update=function(o){return this._inner.update(o),this},p.prototype.finish=function(o){return this._finished?(this._outer.finish(o),this):(this._inner.finish(o),this._outer.update(o.subarray(0,this.digestLength)).finish(o),this._finished=!0,this)},p.prototype.digest=function(){var o=new Uint8Array(this.digestLength);return this.finish(o),o},p.prototype.saveState=function(){if(!a.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},p.prototype.restoreState=function(o){if(!a.isSerializableHash(this._inner)||!a.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(o),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},p.prototype.cleanSavedState=function(o){if(!a.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(o)},p}();s.HMAC=C;function l(p,o,y){var b=new C(p,o);b.update(y);var _=b.digest();return b.clean(),_}s.hmac=l,s.equal=M.equal},5554:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});function f(p,o){var y=p>>>16&65535,b=p&65535,_=o>>>16&65535,P=o&65535;return b*P+(y*P+b*_<<16>>>0)|0}s.mul=Math.imul||f;function a(p,o){return p+o|0}s.add=a;function M(p,o){return p-o|0}s.sub=M;function v(p,o){return p<<o|p>>>32-o}s.rotl=v;function C(p,o){return p<<32-o|p>>>o}s.rotr=C;function l(p){return typeof p=="number"&&isFinite(p)&&Math.floor(p)===p}s.isInteger=Number.isInteger||l,s.MAX_SAFE_INTEGER=9007199254740991,s.isSafeInteger=function(p){return s.isInteger(p)&&p>=-s.MAX_SAFE_INTEGER&&p<=s.MAX_SAFE_INTEGER}},53482:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(59872),M=f(49644);s.DIGEST_LENGTH=16;var v=function(){function p(o){this.digestLength=s.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var y=o[0]|o[1]<<8;this._r[0]=y&8191;var b=o[2]|o[3]<<8;this._r[1]=(y>>>13|b<<3)&8191;var _=o[4]|o[5]<<8;this._r[2]=(b>>>10|_<<6)&7939;var P=o[6]|o[7]<<8;this._r[3]=(_>>>7|P<<9)&8191;var m=o[8]|o[9]<<8;this._r[4]=(P>>>4|m<<12)&255,this._r[5]=m>>>1&8190;var d=o[10]|o[11]<<8;this._r[6]=(m>>>14|d<<2)&8191;var S=o[12]|o[13]<<8;this._r[7]=(d>>>11|S<<5)&8065;var O=o[14]|o[15]<<8;this._r[8]=(S>>>8|O<<8)&8191,this._r[9]=O>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return p.prototype._blocks=function(o,y,b){for(var _=this._fin?0:2048,P=this._h[0],m=this._h[1],d=this._h[2],S=this._h[3],O=this._h[4],z=this._h[5],j=this._h[6],G=this._h[7],B=this._h[8],K=this._h[9],F=this._r[0],re=this._r[1],V=this._r[2],A=this._r[3],Z=this._r[4],ve=this._r[5],le=this._r[6],we=this._r[7],fe=this._r[8],H=this._r[9];b>=16;){var g=o[y+0]|o[y+1]<<8;P+=g&8191;var x=o[y+2]|o[y+3]<<8;m+=(g>>>13|x<<3)&8191;var L=o[y+4]|o[y+5]<<8;d+=(x>>>10|L<<6)&8191;var I=o[y+6]|o[y+7]<<8;S+=(L>>>7|I<<9)&8191;var N=o[y+8]|o[y+9]<<8;O+=(I>>>4|N<<12)&8191,z+=N>>>1&8191;var W=o[y+10]|o[y+11]<<8;j+=(N>>>14|W<<2)&8191;var Y=o[y+12]|o[y+13]<<8;G+=(W>>>11|Y<<5)&8191;var te=o[y+14]|o[y+15]<<8;B+=(Y>>>8|te<<8)&8191,K+=te>>>5|_;var T=0,ie=T;ie+=P*F,ie+=m*(5*H),ie+=d*(5*fe),ie+=S*(5*we),ie+=O*(5*le),T=ie>>>13,ie&=8191,ie+=z*(5*ve),ie+=j*(5*Z),ie+=G*(5*A),ie+=B*(5*V),ie+=K*(5*re),T+=ie>>>13,ie&=8191;var Pe=T;Pe+=P*re,Pe+=m*F,Pe+=d*(5*H),Pe+=S*(5*fe),Pe+=O*(5*we),T=Pe>>>13,Pe&=8191,Pe+=z*(5*le),Pe+=j*(5*ve),Pe+=G*(5*Z),Pe+=B*(5*A),Pe+=K*(5*V),T+=Pe>>>13,Pe&=8191;var Fe=T;Fe+=P*V,Fe+=m*re,Fe+=d*F,Fe+=S*(5*H),Fe+=O*(5*fe),T=Fe>>>13,Fe&=8191,Fe+=z*(5*we),Fe+=j*(5*le),Fe+=G*(5*ve),Fe+=B*(5*Z),Fe+=K*(5*A),T+=Fe>>>13,Fe&=8191;var $e=T;$e+=P*A,$e+=m*V,$e+=d*re,$e+=S*F,$e+=O*(5*H),T=$e>>>13,$e&=8191,$e+=z*(5*fe),$e+=j*(5*we),$e+=G*(5*le),$e+=B*(5*ve),$e+=K*(5*Z),T+=$e>>>13,$e&=8191;var ce=T;ce+=P*Z,ce+=m*A,ce+=d*V,ce+=S*re,ce+=O*F,T=ce>>>13,ce&=8191,ce+=z*(5*H),ce+=j*(5*fe),ce+=G*(5*we),ce+=B*(5*le),ce+=K*(5*ve),T+=ce>>>13,ce&=8191;var q=T;q+=P*ve,q+=m*Z,q+=d*A,q+=S*V,q+=O*re,T=q>>>13,q&=8191,q+=z*F,q+=j*(5*H),q+=G*(5*fe),q+=B*(5*we),q+=K*(5*le),T+=q>>>13,q&=8191;var ee=T;ee+=P*le,ee+=m*ve,ee+=d*Z,ee+=S*A,ee+=O*V,T=ee>>>13,ee&=8191,ee+=z*re,ee+=j*F,ee+=G*(5*H),ee+=B*(5*fe),ee+=K*(5*we),T+=ee>>>13,ee&=8191;var D=T;D+=P*we,D+=m*le,D+=d*ve,D+=S*Z,D+=O*A,T=D>>>13,D&=8191,D+=z*V,D+=j*re,D+=G*F,D+=B*(5*H),D+=K*(5*fe),T+=D>>>13,D&=8191;var ne=T;ne+=P*fe,ne+=m*we,ne+=d*le,ne+=S*ve,ne+=O*Z,T=ne>>>13,ne&=8191,ne+=z*A,ne+=j*V,ne+=G*re,ne+=B*F,ne+=K*(5*H),T+=ne>>>13,ne&=8191;var Ee=T;Ee+=P*H,Ee+=m*fe,Ee+=d*we,Ee+=S*le,Ee+=O*ve,T=Ee>>>13,Ee&=8191,Ee+=z*Z,Ee+=j*A,Ee+=G*V,Ee+=B*re,Ee+=K*F,T+=Ee>>>13,Ee&=8191,T=(T<<2)+T|0,T=T+ie|0,ie=T&8191,T=T>>>13,Pe+=T,P=ie,m=Pe,d=Fe,S=$e,O=ce,z=q,j=ee,G=D,B=ne,K=Ee,y+=16,b-=16}this._h[0]=P,this._h[1]=m,this._h[2]=d,this._h[3]=S,this._h[4]=O,this._h[5]=z,this._h[6]=j,this._h[7]=G,this._h[8]=B,this._h[9]=K},p.prototype.finish=function(o,y){y===void 0&&(y=0);var b=new Uint16Array(10),_,P,m,d;if(this._leftover){for(d=this._leftover,this._buffer[d++]=1;d<16;d++)this._buffer[d]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(_=this._h[1]>>>13,this._h[1]&=8191,d=2;d<10;d++)this._h[d]+=_,_=this._h[d]>>>13,this._h[d]&=8191;for(this._h[0]+=_*5,_=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=_,_=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=_,b[0]=this._h[0]+5,_=b[0]>>>13,b[0]&=8191,d=1;d<10;d++)b[d]=this._h[d]+_,_=b[d]>>>13,b[d]&=8191;for(b[9]-=8192,P=(_^1)-1,d=0;d<10;d++)b[d]&=P;for(P=~P,d=0;d<10;d++)this._h[d]=this._h[d]&P|b[d];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,m=this._h[0]+this._pad[0],this._h[0]=m&65535,d=1;d<8;d++)m=(this._h[d]+this._pad[d]|0)+(m>>>16)|0,this._h[d]=m&65535;return o[y+0]=this._h[0]>>>0,o[y+1]=this._h[0]>>>8,o[y+2]=this._h[1]>>>0,o[y+3]=this._h[1]>>>8,o[y+4]=this._h[2]>>>0,o[y+5]=this._h[2]>>>8,o[y+6]=this._h[3]>>>0,o[y+7]=this._h[3]>>>8,o[y+8]=this._h[4]>>>0,o[y+9]=this._h[4]>>>8,o[y+10]=this._h[5]>>>0,o[y+11]=this._h[5]>>>8,o[y+12]=this._h[6]>>>0,o[y+13]=this._h[6]>>>8,o[y+14]=this._h[7]>>>0,o[y+15]=this._h[7]>>>8,this._finished=!0,this},p.prototype.update=function(o){var y=0,b=o.length,_;if(this._leftover){_=16-this._leftover,_>b&&(_=b);for(var P=0;P<_;P++)this._buffer[this._leftover+P]=o[y+P];if(b-=_,y+=_,this._leftover+=_,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(b>=16&&(_=b-b%16,this._blocks(o,y,_),y+=_,b-=_),b){for(var P=0;P<b;P++)this._buffer[this._leftover+P]=o[y+P];this._leftover+=b}return this},p.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},p.prototype.clean=function(){return M.wipe(this._buffer),M.wipe(this._r),M.wipe(this._h),M.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},p}();s.Poly1305=v;function C(p,o){var y=new v(p);y.update(o);var b=y.digest();return y.clean(),b}s.oneTimeAuth=C;function l(p,o){return p.length!==s.DIGEST_LENGTH||o.length!==s.DIGEST_LENGTH?!1:a.equal(p,o)}s.equal=l},4883:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.randomStringForEntropy=s.randomString=s.randomUint32=s.randomBytes=s.defaultRandomSource=void 0;const a=f(69490),M=f(6050),v=f(49644);s.defaultRandomSource=new a.SystemRandomSource;function C(b,_=s.defaultRandomSource){return _.randomBytes(b)}s.randomBytes=C;function l(b=s.defaultRandomSource){const _=C(4,b),P=(0,M.readUint32LE)(_);return(0,v.wipe)(_),P}s.randomUint32=l;const p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(b,_=p,P=s.defaultRandomSource){if(_.length<2)throw new Error("randomString charset is too short");if(_.length>256)throw new Error("randomString charset is too long");let m="";const d=_.length,S=256-256%d;for(;b>0;){const O=C(Math.ceil(b*256/S),P);for(let z=0;z<O.length&&b>0;z++){const j=O[z];j<S&&(m+=_.charAt(j%d),b--)}(0,v.wipe)(O)}return m}s.randomString=o;function y(b,_=p,P=s.defaultRandomSource){const m=Math.ceil(b/(Math.log(_.length)/Math.LN2));return o(m,_,P)}s.randomStringForEntropy=y},95774:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.BrowserRandomSource=void 0;const f=65536;class a{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const v=typeof self<"u"?self.crypto||self.msCrypto:null;v&&v.getRandomValues!==void 0&&(this._crypto=v,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(v){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const C=new Uint8Array(v);for(let l=0;l<C.length;l+=f)this._crypto.getRandomValues(C.subarray(l,l+Math.min(C.length-l,f)));return C}}s.BrowserRandomSource=a},26485:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.NodeRandomSource=void 0;const a=f(49644);class M{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const C=f(10985);C&&C.randomBytes&&(this._crypto=C,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(C){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let l=this._crypto.randomBytes(C);if(l.length!==C)throw new Error("NodeRandomSource: got fewer bytes than requested");const p=new Uint8Array(C);for(let o=0;o<p.length;o++)p[o]=l[o];return(0,a.wipe)(l),p}}s.NodeRandomSource=M},69490:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SystemRandomSource=void 0;const a=f(95774),M=f(26485);class v{constructor(){if(this.isAvailable=!1,this.name="",this._source=new a.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new M.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(l){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(l)}}s.SystemRandomSource=v},76846:function(pe,s,f){"use strict";var a;a={value:!0};var M=f(6050),v=f(49644);s.k=32,s.cn=64;var C=function(){function y(){this.digestLength=s.k,this.blockSize=s.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return y.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},y.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},y.prototype.clean=function(){v.wipe(this._buffer),v.wipe(this._temp),this.reset()},y.prototype.update=function(b,_){if(_===void 0&&(_=b.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var P=0;if(this._bytesHashed+=_,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&_>0;)this._buffer[this._bufferLength++]=b[P++],_--;this._bufferLength===this.blockSize&&(p(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(_>=this.blockSize&&(P=p(this._temp,this._state,b,P,_),_%=this.blockSize);_>0;)this._buffer[this._bufferLength++]=b[P++],_--;return this},y.prototype.finish=function(b){if(!this._finished){var _=this._bytesHashed,P=this._bufferLength,m=_/536870912|0,d=_<<3,S=_%64<56?64:128;this._buffer[P]=128;for(var O=P+1;O<S-8;O++)this._buffer[O]=0;M.writeUint32BE(m,this._buffer,S-8),M.writeUint32BE(d,this._buffer,S-4),p(this._temp,this._state,this._buffer,0,S),this._finished=!0}for(var O=0;O<this.digestLength/4;O++)M.writeUint32BE(this._state[O],b,O*4);return this},y.prototype.digest=function(){var b=new Uint8Array(this.digestLength);return this.finish(b),b},y.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},y.prototype.restoreState=function(b){return this._state.set(b.state),this._bufferLength=b.bufferLength,b.buffer&&this._buffer.set(b.buffer),this._bytesHashed=b.bytesHashed,this._finished=!1,this},y.prototype.cleanSavedState=function(b){v.wipe(b.state),b.buffer&&v.wipe(b.buffer),b.bufferLength=0,b.bytesHashed=0},y}();s.mE=C;var l=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function p(y,b,_,P,m){for(;m>=64;){for(var d=b[0],S=b[1],O=b[2],z=b[3],j=b[4],G=b[5],B=b[6],K=b[7],F=0;F<16;F++){var re=P+F*4;y[F]=M.readUint32BE(_,re)}for(var F=16;F<64;F++){var V=y[F-2],A=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=y[F-15];var Z=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;y[F]=(A+y[F-7]|0)+(Z+y[F-16]|0)}for(var F=0;F<64;F++){var A=(((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&G^~j&B)|0)+(K+(l[F]+y[F]|0)|0)|0,Z=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&S^d&O^S&O)|0;K=B,B=G,G=j,j=z+A|0,z=O,O=S,S=d,d=A+Z|0}b[0]+=d,b[1]+=S,b[2]+=O,b[3]+=z,b[4]+=j,b[5]+=G,b[6]+=B,b[7]+=K,P+=64,m-=64}return P}function o(y){var b=new C;b.update(y);var _=b.digest();return b.clean(),_}s.vp=o},21318:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(6050),M=f(49644);s.DIGEST_LENGTH=64,s.BLOCK_SIZE=128;var v=function(){function o(){this.digestLength=s.DIGEST_LENGTH,this.blockSize=s.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){M.wipe(this._buffer),M.wipe(this._tempHi),M.wipe(this._tempLo),this.reset()},o.prototype.update=function(y,b){if(b===void 0&&(b=y.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var _=0;if(this._bytesHashed+=b,this._bufferLength>0){for(;this._bufferLength<s.BLOCK_SIZE&&b>0;)this._buffer[this._bufferLength++]=y[_++],b--;this._bufferLength===this.blockSize&&(l(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(b>=this.blockSize&&(_=l(this._tempHi,this._tempLo,this._stateHi,this._stateLo,y,_,b),b%=this.blockSize);b>0;)this._buffer[this._bufferLength++]=y[_++],b--;return this},o.prototype.finish=function(y){if(!this._finished){var b=this._bytesHashed,_=this._bufferLength,P=b/536870912|0,m=b<<3,d=b%128<112?128:256;this._buffer[_]=128;for(var S=_+1;S<d-8;S++)this._buffer[S]=0;a.writeUint32BE(P,this._buffer,d-8),a.writeUint32BE(m,this._buffer,d-4),l(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,d),this._finished=!0}for(var S=0;S<this.digestLength/8;S++)a.writeUint32BE(this._stateHi[S],y,S*8),a.writeUint32BE(this._stateLo[S],y,S*8+4);return this},o.prototype.digest=function(){var y=new Uint8Array(this.digestLength);return this.finish(y),y},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(y){return this._stateHi.set(y.stateHi),this._stateLo.set(y.stateLo),this._bufferLength=y.bufferLength,y.buffer&&this._buffer.set(y.buffer),this._bytesHashed=y.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(y){M.wipe(y.stateHi),M.wipe(y.stateLo),y.buffer&&M.wipe(y.buffer),y.bufferLength=0,y.bytesHashed=0},o}();s.SHA512=v;var C=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function l(o,y,b,_,P,m,d){for(var S=b[0],O=b[1],z=b[2],j=b[3],G=b[4],B=b[5],K=b[6],F=b[7],re=_[0],V=_[1],A=_[2],Z=_[3],ve=_[4],le=_[5],we=_[6],fe=_[7],H,g,x,L,I,N,W,Y;d>=128;){for(var te=0;te<16;te++){var T=8*te+m;o[te]=a.readUint32BE(P,T),y[te]=a.readUint32BE(P,T+4)}for(var te=0;te<80;te++){var ie=S,Pe=O,Fe=z,$e=j,ce=G,q=B,ee=K,D=F,ne=re,Ee=V,oe=A,se=Z,Oe=ve,ke=le,Ke=we,Te=fe;if(H=F,g=fe,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=(G>>>14|ve<<32-14)^(G>>>18|ve<<32-18)^(ve>>>41-32|G<<32-(41-32)),g=(ve>>>14|G<<32-14)^(ve>>>18|G<<32-18)^(G>>>41-32|ve<<32-(41-32)),I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,H=G&B^~G&K,g=ve&le^~ve&we,I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,H=C[te*2],g=C[te*2+1],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,H=o[te%16],g=y[te%16],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,x=W&65535|Y<<16,L=I&65535|N<<16,H=x,g=L,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=(S>>>28|re<<32-28)^(re>>>34-32|S<<32-(34-32))^(re>>>39-32|S<<32-(39-32)),g=(re>>>28|S<<32-28)^(S>>>34-32|re<<32-(34-32))^(S>>>39-32|re<<32-(39-32)),I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,H=S&O^S&z^O&z,g=re&V^re&A^V&A,I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,D=W&65535|Y<<16,Te=I&65535|N<<16,H=$e,g=se,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=x,g=L,I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,$e=W&65535|Y<<16,se=I&65535|N<<16,O=ie,z=Pe,j=Fe,G=$e,B=ce,K=q,F=ee,S=D,V=ne,A=Ee,Z=oe,ve=se,le=Oe,we=ke,fe=Ke,re=Te,te%16===15)for(var T=0;T<16;T++)H=o[T],g=y[T],I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=o[(T+9)%16],g=y[(T+9)%16],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,x=o[(T+1)%16],L=y[(T+1)%16],H=(x>>>1|L<<32-1)^(x>>>8|L<<32-8)^x>>>7,g=(L>>>1|x<<32-1)^(L>>>8|x<<32-8)^(L>>>7|x<<32-7),I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,x=o[(T+14)%16],L=y[(T+14)%16],H=(x>>>19|L<<32-19)^(L>>>61-32|x<<32-(61-32))^x>>>6,g=(L>>>19|x<<32-19)^(x>>>61-32|L<<32-(61-32))^(L>>>6|x<<32-6),I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,o[T]=W&65535|Y<<16,y[T]=I&65535|N<<16}H=S,g=re,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[0],g=_[0],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[0]=S=W&65535|Y<<16,_[0]=re=I&65535|N<<16,H=O,g=V,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[1],g=_[1],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[1]=O=W&65535|Y<<16,_[1]=V=I&65535|N<<16,H=z,g=A,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[2],g=_[2],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[2]=z=W&65535|Y<<16,_[2]=A=I&65535|N<<16,H=j,g=Z,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[3],g=_[3],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[3]=j=W&65535|Y<<16,_[3]=Z=I&65535|N<<16,H=G,g=ve,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[4],g=_[4],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[4]=G=W&65535|Y<<16,_[4]=ve=I&65535|N<<16,H=B,g=le,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[5],g=_[5],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[5]=B=W&65535|Y<<16,_[5]=le=I&65535|N<<16,H=K,g=we,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[6],g=_[6],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[6]=K=W&65535|Y<<16,_[6]=we=I&65535|N<<16,H=F,g=fe,I=g&65535,N=g>>>16,W=H&65535,Y=H>>>16,H=b[7],g=_[7],I+=g&65535,N+=g>>>16,W+=H&65535,Y+=H>>>16,N+=I>>>16,W+=N>>>16,Y+=W>>>16,b[7]=F=W&65535|Y<<16,_[7]=fe=I&65535|N<<16,m+=128,d-=128}return m}function p(o){var y=new v;y.update(o);var b=y.digest();return y.clean(),b}s.hash=p},49644:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});function f(a){for(var M=0;M<a.length;M++)a[M]=0;return a}s.wipe=f},9267:function(pe,s,f){"use strict";var a;a={value:!0},s.gi=s.Au=a=a=a=a=s.KS=s.kz=void 0;const M=f(4883),v=f(49644);s.kz=32,s.KS=32,a=32;function C(F){const re=new Float64Array(16);if(F)for(let V=0;V<F.length;V++)re[V]=F[V];return re}const l=new Uint8Array(32);l[0]=9;const p=C([56129,1]);function o(F){let re=1;for(let V=0;V<16;V++){let A=F[V]+re+65535;re=Math.floor(A/65536),F[V]=A-re*65536}F[0]+=re-1+37*(re-1)}function y(F,re,V){const A=~(V-1);for(let Z=0;Z<16;Z++){const ve=A&(F[Z]^re[Z]);F[Z]^=ve,re[Z]^=ve}}function b(F,re){const V=C(),A=C();for(let Z=0;Z<16;Z++)A[Z]=re[Z];o(A),o(A),o(A);for(let Z=0;Z<2;Z++){V[0]=A[0]-65517;for(let le=1;le<15;le++)V[le]=A[le]-65535-(V[le-1]>>16&1),V[le-1]&=65535;V[15]=A[15]-32767-(V[14]>>16&1);const ve=V[15]>>16&1;V[14]&=65535,y(A,V,1-ve)}for(let Z=0;Z<16;Z++)F[2*Z]=A[Z]&255,F[2*Z+1]=A[Z]>>8}function _(F,re){for(let V=0;V<16;V++)F[V]=re[2*V]+(re[2*V+1]<<8);F[15]&=32767}function P(F,re,V){for(let A=0;A<16;A++)F[A]=re[A]+V[A]}function m(F,re,V){for(let A=0;A<16;A++)F[A]=re[A]-V[A]}function d(F,re,V){let A,Z,ve=0,le=0,we=0,fe=0,H=0,g=0,x=0,L=0,I=0,N=0,W=0,Y=0,te=0,T=0,ie=0,Pe=0,Fe=0,$e=0,ce=0,q=0,ee=0,D=0,ne=0,Ee=0,oe=0,se=0,Oe=0,ke=0,Ke=0,Te=0,ot=0,Ve=V[0],Je=V[1],Ae=V[2],Me=V[3],de=V[4],ye=V[5],$=V[6],R=V[7],k=V[8],ae=V[9],me=V[10],Re=V[11],Se=V[12],We=V[13],qe=V[14],et=V[15];A=re[0],ve+=A*Ve,le+=A*Je,we+=A*Ae,fe+=A*Me,H+=A*de,g+=A*ye,x+=A*$,L+=A*R,I+=A*k,N+=A*ae,W+=A*me,Y+=A*Re,te+=A*Se,T+=A*We,ie+=A*qe,Pe+=A*et,A=re[1],le+=A*Ve,we+=A*Je,fe+=A*Ae,H+=A*Me,g+=A*de,x+=A*ye,L+=A*$,I+=A*R,N+=A*k,W+=A*ae,Y+=A*me,te+=A*Re,T+=A*Se,ie+=A*We,Pe+=A*qe,Fe+=A*et,A=re[2],we+=A*Ve,fe+=A*Je,H+=A*Ae,g+=A*Me,x+=A*de,L+=A*ye,I+=A*$,N+=A*R,W+=A*k,Y+=A*ae,te+=A*me,T+=A*Re,ie+=A*Se,Pe+=A*We,Fe+=A*qe,$e+=A*et,A=re[3],fe+=A*Ve,H+=A*Je,g+=A*Ae,x+=A*Me,L+=A*de,I+=A*ye,N+=A*$,W+=A*R,Y+=A*k,te+=A*ae,T+=A*me,ie+=A*Re,Pe+=A*Se,Fe+=A*We,$e+=A*qe,ce+=A*et,A=re[4],H+=A*Ve,g+=A*Je,x+=A*Ae,L+=A*Me,I+=A*de,N+=A*ye,W+=A*$,Y+=A*R,te+=A*k,T+=A*ae,ie+=A*me,Pe+=A*Re,Fe+=A*Se,$e+=A*We,ce+=A*qe,q+=A*et,A=re[5],g+=A*Ve,x+=A*Je,L+=A*Ae,I+=A*Me,N+=A*de,W+=A*ye,Y+=A*$,te+=A*R,T+=A*k,ie+=A*ae,Pe+=A*me,Fe+=A*Re,$e+=A*Se,ce+=A*We,q+=A*qe,ee+=A*et,A=re[6],x+=A*Ve,L+=A*Je,I+=A*Ae,N+=A*Me,W+=A*de,Y+=A*ye,te+=A*$,T+=A*R,ie+=A*k,Pe+=A*ae,Fe+=A*me,$e+=A*Re,ce+=A*Se,q+=A*We,ee+=A*qe,D+=A*et,A=re[7],L+=A*Ve,I+=A*Je,N+=A*Ae,W+=A*Me,Y+=A*de,te+=A*ye,T+=A*$,ie+=A*R,Pe+=A*k,Fe+=A*ae,$e+=A*me,ce+=A*Re,q+=A*Se,ee+=A*We,D+=A*qe,ne+=A*et,A=re[8],I+=A*Ve,N+=A*Je,W+=A*Ae,Y+=A*Me,te+=A*de,T+=A*ye,ie+=A*$,Pe+=A*R,Fe+=A*k,$e+=A*ae,ce+=A*me,q+=A*Re,ee+=A*Se,D+=A*We,ne+=A*qe,Ee+=A*et,A=re[9],N+=A*Ve,W+=A*Je,Y+=A*Ae,te+=A*Me,T+=A*de,ie+=A*ye,Pe+=A*$,Fe+=A*R,$e+=A*k,ce+=A*ae,q+=A*me,ee+=A*Re,D+=A*Se,ne+=A*We,Ee+=A*qe,oe+=A*et,A=re[10],W+=A*Ve,Y+=A*Je,te+=A*Ae,T+=A*Me,ie+=A*de,Pe+=A*ye,Fe+=A*$,$e+=A*R,ce+=A*k,q+=A*ae,ee+=A*me,D+=A*Re,ne+=A*Se,Ee+=A*We,oe+=A*qe,se+=A*et,A=re[11],Y+=A*Ve,te+=A*Je,T+=A*Ae,ie+=A*Me,Pe+=A*de,Fe+=A*ye,$e+=A*$,ce+=A*R,q+=A*k,ee+=A*ae,D+=A*me,ne+=A*Re,Ee+=A*Se,oe+=A*We,se+=A*qe,Oe+=A*et,A=re[12],te+=A*Ve,T+=A*Je,ie+=A*Ae,Pe+=A*Me,Fe+=A*de,$e+=A*ye,ce+=A*$,q+=A*R,ee+=A*k,D+=A*ae,ne+=A*me,Ee+=A*Re,oe+=A*Se,se+=A*We,Oe+=A*qe,ke+=A*et,A=re[13],T+=A*Ve,ie+=A*Je,Pe+=A*Ae,Fe+=A*Me,$e+=A*de,ce+=A*ye,q+=A*$,ee+=A*R,D+=A*k,ne+=A*ae,Ee+=A*me,oe+=A*Re,se+=A*Se,Oe+=A*We,ke+=A*qe,Ke+=A*et,A=re[14],ie+=A*Ve,Pe+=A*Je,Fe+=A*Ae,$e+=A*Me,ce+=A*de,q+=A*ye,ee+=A*$,D+=A*R,ne+=A*k,Ee+=A*ae,oe+=A*me,se+=A*Re,Oe+=A*Se,ke+=A*We,Ke+=A*qe,Te+=A*et,A=re[15],Pe+=A*Ve,Fe+=A*Je,$e+=A*Ae,ce+=A*Me,q+=A*de,ee+=A*ye,D+=A*$,ne+=A*R,Ee+=A*k,oe+=A*ae,se+=A*me,Oe+=A*Re,ke+=A*Se,Ke+=A*We,Te+=A*qe,ot+=A*et,ve+=38*Fe,le+=38*$e,we+=38*ce,fe+=38*q,H+=38*ee,g+=38*D,x+=38*ne,L+=38*Ee,I+=38*oe,N+=38*se,W+=38*Oe,Y+=38*ke,te+=38*Ke,T+=38*Te,ie+=38*ot,Z=1,A=ve+Z+65535,Z=Math.floor(A/65536),ve=A-Z*65536,A=le+Z+65535,Z=Math.floor(A/65536),le=A-Z*65536,A=we+Z+65535,Z=Math.floor(A/65536),we=A-Z*65536,A=fe+Z+65535,Z=Math.floor(A/65536),fe=A-Z*65536,A=H+Z+65535,Z=Math.floor(A/65536),H=A-Z*65536,A=g+Z+65535,Z=Math.floor(A/65536),g=A-Z*65536,A=x+Z+65535,Z=Math.floor(A/65536),x=A-Z*65536,A=L+Z+65535,Z=Math.floor(A/65536),L=A-Z*65536,A=I+Z+65535,Z=Math.floor(A/65536),I=A-Z*65536,A=N+Z+65535,Z=Math.floor(A/65536),N=A-Z*65536,A=W+Z+65535,Z=Math.floor(A/65536),W=A-Z*65536,A=Y+Z+65535,Z=Math.floor(A/65536),Y=A-Z*65536,A=te+Z+65535,Z=Math.floor(A/65536),te=A-Z*65536,A=T+Z+65535,Z=Math.floor(A/65536),T=A-Z*65536,A=ie+Z+65535,Z=Math.floor(A/65536),ie=A-Z*65536,A=Pe+Z+65535,Z=Math.floor(A/65536),Pe=A-Z*65536,ve+=Z-1+37*(Z-1),Z=1,A=ve+Z+65535,Z=Math.floor(A/65536),ve=A-Z*65536,A=le+Z+65535,Z=Math.floor(A/65536),le=A-Z*65536,A=we+Z+65535,Z=Math.floor(A/65536),we=A-Z*65536,A=fe+Z+65535,Z=Math.floor(A/65536),fe=A-Z*65536,A=H+Z+65535,Z=Math.floor(A/65536),H=A-Z*65536,A=g+Z+65535,Z=Math.floor(A/65536),g=A-Z*65536,A=x+Z+65535,Z=Math.floor(A/65536),x=A-Z*65536,A=L+Z+65535,Z=Math.floor(A/65536),L=A-Z*65536,A=I+Z+65535,Z=Math.floor(A/65536),I=A-Z*65536,A=N+Z+65535,Z=Math.floor(A/65536),N=A-Z*65536,A=W+Z+65535,Z=Math.floor(A/65536),W=A-Z*65536,A=Y+Z+65535,Z=Math.floor(A/65536),Y=A-Z*65536,A=te+Z+65535,Z=Math.floor(A/65536),te=A-Z*65536,A=T+Z+65535,Z=Math.floor(A/65536),T=A-Z*65536,A=ie+Z+65535,Z=Math.floor(A/65536),ie=A-Z*65536,A=Pe+Z+65535,Z=Math.floor(A/65536),Pe=A-Z*65536,ve+=Z-1+37*(Z-1),F[0]=ve,F[1]=le,F[2]=we,F[3]=fe,F[4]=H,F[5]=g,F[6]=x,F[7]=L,F[8]=I,F[9]=N,F[10]=W,F[11]=Y,F[12]=te,F[13]=T,F[14]=ie,F[15]=Pe}function S(F,re){d(F,re,re)}function O(F,re){const V=C();for(let A=0;A<16;A++)V[A]=re[A];for(let A=253;A>=0;A--)S(V,V),A!==2&&A!==4&&d(V,V,re);for(let A=0;A<16;A++)F[A]=V[A]}function z(F,re){const V=new Uint8Array(32),A=new Float64Array(80),Z=C(),ve=C(),le=C(),we=C(),fe=C(),H=C();for(let I=0;I<31;I++)V[I]=F[I];V[31]=F[31]&127|64,V[0]&=248,_(A,re);for(let I=0;I<16;I++)ve[I]=A[I];Z[0]=we[0]=1;for(let I=254;I>=0;--I){const N=V[I>>>3]>>>(I&7)&1;y(Z,ve,N),y(le,we,N),P(fe,Z,le),m(Z,Z,le),P(le,ve,we),m(ve,ve,we),S(we,fe),S(H,Z),d(Z,le,Z),d(le,ve,fe),P(fe,Z,le),m(Z,Z,le),S(ve,Z),m(le,we,H),d(Z,le,p),P(Z,Z,we),d(le,le,Z),d(Z,we,H),d(we,ve,A),S(ve,fe),y(Z,ve,N),y(le,we,N)}for(let I=0;I<16;I++)A[I+16]=Z[I],A[I+32]=le[I],A[I+48]=ve[I],A[I+64]=we[I];const g=A.subarray(32),x=A.subarray(16);O(g,g),d(x,x,g);const L=new Uint8Array(32);return b(L,x),L}a=z;function j(F){return z(F,l)}a=j;function G(F){if(F.length!==s.KS)throw new Error(`x25519: seed must be ${s.KS} bytes`);const re=new Uint8Array(F);return{publicKey:j(re),secretKey:re}}a=G;function B(F){const re=(0,M.randomBytes)(32,F),V=G(re);return(0,v.wipe)(re),V}s.Au=B;function K(F,re,V=!1){if(F.length!==s.kz)throw new Error("X25519: incorrect secret key length");if(re.length!==s.kz)throw new Error("X25519: incorrect public key length");const A=z(F,re);if(V){let Z=0;for(let ve=0;ve<A.length;ve++)Z|=A[ve];if(Z===0)throw new Error("X25519: invalid shared key")}return A}s.gi=K},75280:function(pe,s,f){"use strict";var a=f(21320).default,M=f(28152).default,v=f(38887).default,C=f(27566).default,l=f(67855).default,p=f(78861),o=f(54525),y=f(50130),b=f(1469),_=function(A){return A==null},P=Symbol("encodeFragmentIdentifier");function m(V){switch(V.arrayFormat){case"index":return function(Z){return function(ve,le){var we=ve.length;return le===void 0||V.skipNull&&le===null||V.skipEmptyString&&le===""?ve:le===null?[].concat(l(ve),[[O(Z,V),"[",we,"]"].join("")]):[].concat(l(ve),[[O(Z,V),"[",O(we,V),"]=",O(le,V)].join("")])}};case"bracket":return function(Z){return function(ve,le){return le===void 0||V.skipNull&&le===null||V.skipEmptyString&&le===""?ve:le===null?[].concat(l(ve),[[O(Z,V),"[]"].join("")]):[].concat(l(ve),[[O(Z,V),"[]=",O(le,V)].join("")])}};case"colon-list-separator":return function(Z){return function(ve,le){return le===void 0||V.skipNull&&le===null||V.skipEmptyString&&le===""?ve:le===null?[].concat(l(ve),[[O(Z,V),":list="].join("")]):[].concat(l(ve),[[O(Z,V),":list=",O(le,V)].join("")])}};case"comma":case"separator":case"bracket-separator":{var A=V.arrayFormat==="bracket-separator"?"[]=":"=";return function(Z){return function(ve,le){return le===void 0||V.skipNull&&le===null||V.skipEmptyString&&le===""?ve:(le=le===null?"":le,ve.length===0?[[O(Z,V),A,O(le,V)].join("")]:[[ve,O(le,V)].join(V.arrayFormatSeparator)])}}}default:return function(Z){return function(ve,le){return le===void 0||V.skipNull&&le===null||V.skipEmptyString&&le===""?ve:le===null?[].concat(l(ve),[O(Z,V)]):[].concat(l(ve),[[O(Z,V),"=",O(le,V)].join("")])}}}}function d(V){var A;switch(V.arrayFormat){case"index":return function(Z,ve,le){if(A=/\[(\d*)\]$/.exec(Z),Z=Z.replace(/\[\d*\]$/,""),!A){le[Z]=ve;return}le[Z]===void 0&&(le[Z]={}),le[Z][A[1]]=ve};case"bracket":return function(Z,ve,le){if(A=/(\[\])$/.exec(Z),Z=Z.replace(/\[\]$/,""),!A){le[Z]=ve;return}if(le[Z]===void 0){le[Z]=[ve];return}le[Z]=[].concat(le[Z],ve)};case"colon-list-separator":return function(Z,ve,le){if(A=/(:list)$/.exec(Z),Z=Z.replace(/:list$/,""),!A){le[Z]=ve;return}if(le[Z]===void 0){le[Z]=[ve];return}le[Z]=[].concat(le[Z],ve)};case"comma":case"separator":return function(Z,ve,le){var we=typeof ve=="string"&&ve.includes(V.arrayFormatSeparator),fe=typeof ve=="string"&&!we&&z(ve,V).includes(V.arrayFormatSeparator);ve=fe?z(ve,V):ve;var H=we||fe?ve.split(V.arrayFormatSeparator).map(function(g){return z(g,V)}):ve===null?ve:z(ve,V);le[Z]=H};case"bracket-separator":return function(Z,ve,le){var we=/(\[\])$/.test(Z);if(Z=Z.replace(/\[\]$/,""),!we){le[Z]=ve&&z(ve,V);return}var fe=ve===null?[]:ve.split(V.arrayFormatSeparator).map(function(H){return z(H,V)});if(le[Z]===void 0){le[Z]=fe;return}le[Z]=[].concat(le[Z],fe)};default:return function(Z,ve,le){if(le[Z]===void 0){le[Z]=ve;return}le[Z]=[].concat(le[Z],ve)}}}function S(V){if(typeof V!="string"||V.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function O(V,A){return A.encode?A.strict?p(V):encodeURIComponent(V):V}function z(V,A){return A.decode?o(V):V}function j(V){return Array.isArray(V)?V.sort():C(V)==="object"?j(Object.keys(V)).sort(function(A,Z){return Number(A)-Number(Z)}).map(function(A){return V[A]}):V}function G(V){var A=V.indexOf("#");return A!==-1&&(V=V.slice(0,A)),V}function B(V){var A="",Z=V.indexOf("#");return Z!==-1&&(A=V.slice(Z)),A}function K(V){V=G(V);var A=V.indexOf("?");return A===-1?"":V.slice(A+1)}function F(V,A){return A.parseNumbers&&!Number.isNaN(Number(V))&&typeof V=="string"&&V.trim()!==""?V=Number(V):A.parseBooleans&&V!==null&&(V.toLowerCase()==="true"||V.toLowerCase()==="false")&&(V=V.toLowerCase()==="true"),V}function re(V,A){A=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},A),S(A.arrayFormatSeparator);var Z=d(A),ve=Object.create(null);if(typeof V!="string"||(V=V.trim().replace(/^[?#&]/,""),!V))return ve;var le=v(V.split("&")),we;try{for(le.s();!(we=le.n()).done;){var fe=we.value;if(fe!==""){var H=y(A.decode?fe.replace(/\+/g," "):fe,"="),g=M(H,2),x=g[0],L=g[1];L=L===void 0?null:["comma","separator","bracket-separator"].includes(A.arrayFormat)?L:z(L,A),Z(z(x,A),L,ve)}}}catch(Pe){le.e(Pe)}finally{le.f()}for(var I=0,N=Object.keys(ve);I<N.length;I++){var W=N[I],Y=ve[W];if(C(Y)==="object"&&Y!==null)for(var te=0,T=Object.keys(Y);te<T.length;te++){var ie=T[te];Y[ie]=F(Y[ie],A)}else ve[W]=F(Y,A)}return A.sort===!1?ve:(A.sort===!0?Object.keys(ve).sort():Object.keys(ve).sort(A.sort)).reduce(function(Pe,Fe){var $e=ve[Fe];return $e&&C($e)==="object"&&!Array.isArray($e)?Pe[Fe]=j($e):Pe[Fe]=$e,Pe},Object.create(null))}s.extract=K,s.parse=re,s.stringify=function(V,A){if(!V)return"";A=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},A),S(A.arrayFormatSeparator);for(var Z=function(L){return A.skipNull&&_(V[L])||A.skipEmptyString&&V[L]===""},ve=m(A),le={},we=0,fe=Object.keys(V);we<fe.length;we++){var H=fe[we];Z(H)||(le[H]=V[H])}var g=Object.keys(le);return A.sort!==!1&&g.sort(A.sort),g.map(function(x){var L=V[x];return L===void 0?"":L===null?O(x,A):Array.isArray(L)?L.length===0&&A.arrayFormat==="bracket-separator"?O(x,A)+"[]":L.reduce(ve(x),[]).join("&"):O(x,A)+"="+O(L,A)}).filter(function(x){return x.length>0}).join("&")},s.parseUrl=function(V,A){A=Object.assign({decode:!0},A);var Z=y(V,"#"),ve=M(Z,2),le=ve[0],we=ve[1];return Object.assign({url:le.split("?")[0]||"",query:re(K(V),A)},A&&A.parseFragmentIdentifier&&we?{fragmentIdentifier:z(we,A)}:{})},s.stringifyUrl=function(V,A){A=Object.assign(a({encode:!0,strict:!0},P,!0),A);var Z=G(V.url).split("?")[0]||"",ve=s.extract(V.url),le=s.parse(ve,{sort:!1}),we=Object.assign(le,V.query),fe=s.stringify(we,A);fe&&(fe="?".concat(fe));var H=B(V.url);return V.fragmentIdentifier&&(H="#".concat(A[P]?O(V.fragmentIdentifier,A):V.fragmentIdentifier)),"".concat(Z).concat(fe).concat(H)},s.pick=function(V,A,Z){Z=Object.assign(a({parseFragmentIdentifier:!0},P,!1),Z);var ve=s.parseUrl(V,Z),le=ve.url,we=ve.query,fe=ve.fragmentIdentifier;return s.stringifyUrl({url:le,query:b(we,A),fragmentIdentifier:fe},Z)},s.exclude=function(V,A,Z){var ve=Array.isArray(A)?function(le){return!A.includes(le)}:function(le,we){return!A(le,we)};return s.pick(V,ve,Z)}},50130:function(pe){"use strict";pe.exports=function(s,f){if(!(typeof s=="string"&&typeof f=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(f==="")return[s];var a=s.indexOf(f);return a===-1?[s]:[s.slice(0,a),s.slice(a+f.length)]}},78861:function(pe){"use strict";pe.exports=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,function(f){return"%".concat(f.charCodeAt(0).toString(16).toUpperCase())})}},16054:function(pe,s,f){"use strict";f.r(s),f.d(s,{__assign:function(){return l},__asyncDelegator:function(){return K},__asyncGenerator:function(){return B},__asyncValues:function(){return F},__await:function(){return G},__awaiter:function(){return _},__classPrivateFieldGet:function(){return Z},__classPrivateFieldSet:function(){return ve},__createBinding:function(){return m},__decorate:function(){return o},__exportStar:function(){return d},__extends:function(){return C},__generator:function(){return P},__importDefault:function(){return A},__importStar:function(){return V},__makeTemplateObject:function(){return re},__metadata:function(){return b},__param:function(){return y},__read:function(){return O},__rest:function(){return p},__spread:function(){return z},__spreadArrays:function(){return j},__values:function(){return S}});var a=f(27566),M=f.n(a);var v=function(we,fe){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,g){H.__proto__=g}||function(H,g){for(var x in g)g.hasOwnProperty(x)&&(H[x]=g[x])},v(we,fe)};function C(le,we){v(le,we);function fe(){this.constructor=le}le.prototype=we===null?Object.create(we):(fe.prototype=we.prototype,new fe)}var l=function(){return l=Object.assign||function(fe){for(var H,g=1,x=arguments.length;g<x;g++){H=arguments[g];for(var L in H)Object.prototype.hasOwnProperty.call(H,L)&&(fe[L]=H[L])}return fe},l.apply(this,arguments)};function p(le,we){var fe={};for(var H in le)Object.prototype.hasOwnProperty.call(le,H)&&we.indexOf(H)<0&&(fe[H]=le[H]);if(le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,H=Object.getOwnPropertySymbols(le);g<H.length;g++)we.indexOf(H[g])<0&&Object.prototype.propertyIsEnumerable.call(le,H[g])&&(fe[H[g]]=le[H[g]]);return fe}function o(le,we,fe,H){var g=arguments.length,x=g<3?we:H===null?H=Object.getOwnPropertyDescriptor(we,fe):H,L;if((typeof Reflect>"u"?"undefined":M()(Reflect))==="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(le,we,fe,H);else for(var I=le.length-1;I>=0;I--)(L=le[I])&&(x=(g<3?L(x):g>3?L(we,fe,x):L(we,fe))||x);return g>3&&x&&Object.defineProperty(we,fe,x),x}function y(le,we){return function(fe,H){we(fe,H,le)}}function b(le,we){if((typeof Reflect>"u"?"undefined":M()(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(le,we)}function _(le,we,fe,H){function g(x){return x instanceof fe?x:new fe(function(L){L(x)})}return new(fe||(fe=Promise))(function(x,L){function I(Y){try{W(H.next(Y))}catch(te){L(te)}}function N(Y){try{W(H.throw(Y))}catch(te){L(te)}}function W(Y){Y.done?x(Y.value):g(Y.value).then(I,N)}W((H=H.apply(le,we||[])).next())})}function P(le,we){var fe={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},H,g,x,L;return L={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function I(W){return function(Y){return N([W,Y])}}function N(W){if(H)throw new TypeError("Generator is already executing.");for(;fe;)try{if(H=1,g&&(x=W[0]&2?g.return:W[0]?g.throw||((x=g.return)&&x.call(g),0):g.next)&&!(x=x.call(g,W[1])).done)return x;switch(g=0,x&&(W=[W[0]&2,x.value]),W[0]){case 0:case 1:x=W;break;case 4:return fe.label++,{value:W[1],done:!1};case 5:fe.label++,g=W[1],W=[0];continue;case 7:W=fe.ops.pop(),fe.trys.pop();continue;default:if(x=fe.trys,!(x=x.length>0&&x[x.length-1])&&(W[0]===6||W[0]===2)){fe=0;continue}if(W[0]===3&&(!x||W[1]>x[0]&&W[1]<x[3])){fe.label=W[1];break}if(W[0]===6&&fe.label<x[1]){fe.label=x[1],x=W;break}if(x&&fe.label<x[2]){fe.label=x[2],fe.ops.push(W);break}x[2]&&fe.ops.pop(),fe.trys.pop();continue}W=we.call(le,fe)}catch(Y){W=[6,Y],g=0}finally{H=x=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}}function m(le,we,fe,H){H===void 0&&(H=fe),le[H]=we[fe]}function d(le,we){for(var fe in le)fe!=="default"&&!we.hasOwnProperty(fe)&&(we[fe]=le[fe])}function S(le){var we=typeof Symbol=="function"&&Symbol.iterator,fe=we&&le[we],H=0;if(fe)return fe.call(le);if(le&&typeof le.length=="number")return{next:function(){return le&&H>=le.length&&(le=void 0),{value:le&&le[H++],done:!le}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(le,we){var fe=typeof Symbol=="function"&&le[Symbol.iterator];if(!fe)return le;var H=fe.call(le),g,x=[],L;try{for(;(we===void 0||we-- >0)&&!(g=H.next()).done;)x.push(g.value)}catch(I){L={error:I}}finally{try{g&&!g.done&&(fe=H.return)&&fe.call(H)}finally{if(L)throw L.error}}return x}function z(){for(var le=[],we=0;we<arguments.length;we++)le=le.concat(O(arguments[we]));return le}function j(){for(var le=0,we=0,fe=arguments.length;we<fe;we++)le+=arguments[we].length;for(var H=Array(le),g=0,we=0;we<fe;we++)for(var x=arguments[we],L=0,I=x.length;L<I;L++,g++)H[g]=x[L];return H}function G(le){return this instanceof G?(this.v=le,this):new G(le)}function B(le,we,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H=fe.apply(le,we||[]),g,x=[];return g={},L("next"),L("throw"),L("return"),g[Symbol.asyncIterator]=function(){return this},g;function L(T){H[T]&&(g[T]=function(ie){return new Promise(function(Pe,Fe){x.push([T,ie,Pe,Fe])>1||I(T,ie)})})}function I(T,ie){try{N(H[T](ie))}catch(Pe){te(x[0][3],Pe)}}function N(T){T.value instanceof G?Promise.resolve(T.value.v).then(W,Y):te(x[0][2],T)}function W(T){I("next",T)}function Y(T){I("throw",T)}function te(T,ie){T(ie),x.shift(),x.length&&I(x[0][0],x[0][1])}}function K(le){var we,fe;return we={},H("next"),H("throw",function(g){throw g}),H("return"),we[Symbol.iterator]=function(){return this},we;function H(g,x){we[g]=le[g]?function(L){return(fe=!fe)?{value:G(le[g](L)),done:g==="return"}:x?x(L):L}:x}}function F(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we=le[Symbol.asyncIterator],fe;return we?we.call(le):(le=typeof S=="function"?S(le):le[Symbol.iterator](),fe={},H("next"),H("throw"),H("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function H(x){fe[x]=le[x]&&function(L){return new Promise(function(I,N){L=le[x](L),g(I,N,L.done,L.value)})}}function g(x,L,I,N){Promise.resolve(N).then(function(W){x({value:W,done:I})},L)}}function re(le,we){return Object.defineProperty?Object.defineProperty(le,"raw",{value:we}):le.raw=we,le}function V(le){if(le&&le.__esModule)return le;var we={};if(le!=null)for(var fe in le)Object.hasOwnProperty.call(le,fe)&&(we[fe]=le[fe]);return we.default=le,we}function A(le){return le&&le.__esModule?le:{default:le}}function Z(le,we){if(!we.has(le))throw new TypeError("attempted to get private field on non-instance");return we.get(le)}function ve(le,we,fe){if(!we.has(le))throw new TypeError("attempted to set private field on non-instance");return we.set(le,fe),fe}},72165:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.isBrowserCryptoAvailable=s.getSubtleCrypto=s.getBrowerCrypto=void 0;function a(){return(f.g===null||f.g===void 0?void 0:f.g.crypto)||(f.g===null||f.g===void 0?void 0:f.g.msCrypto)||{}}s.getBrowerCrypto=a;function M(){const C=a();return C.subtle||C.webkitSubtle}s.getSubtleCrypto=M;function v(){return!!a()&&!!M()}s.isBrowserCryptoAvailable=v},73027:function(pe,s,f){"use strict";var a=f(14224);Object.defineProperty(s,"__esModule",{value:!0}),s.isBrowser=s.isNode=s.isReactNative=void 0;function M(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}s.isReactNative=M;function v(){return typeof a<"u"&&typeof a.versions<"u"&&typeof a.versions.node<"u"}s.isNode=v;function C(){return!M()&&!v()}s.isBrowser=C},88497:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(16054);a.__exportStar(f(72165),s),a.__exportStar(f(73027),s)},36900:function(pe,s,f){"use strict";f.d(s,{q:function(){return a}});class a{}},15890:function(pe,s,f){"use strict";f.r(s),f.d(s,{IEvents:function(){return a.q}});var a=f(36900)},15782:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.HEARTBEAT_EVENTS=s.HEARTBEAT_INTERVAL=void 0;const a=f(46196);s.HEARTBEAT_INTERVAL=a.FIVE_SECONDS,s.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},95635:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),f(16054).__exportStar(f(15782),s)},20538:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.HeartBeat=void 0;const a=f(16054),M=f(72100),v=f(46196),C=f(88490),l=f(95635);class p extends C.IHeartBeat{constructor(y){super(y),this.events=new M.EventEmitter,this.interval=l.HEARTBEAT_INTERVAL,this.interval=(y==null?void 0:y.interval)||l.HEARTBEAT_INTERVAL}static init(y){return a.__awaiter(this,void 0,void 0,function*(){const b=new p(y);return yield b.init(),b})}init(){return a.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(y,b){this.events.on(y,b)}once(y,b){this.events.once(y,b)}off(y,b){this.events.off(y,b)}removeListener(y,b){this.events.removeListener(y,b)}initialize(){return a.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),v.toMiliseconds(this.interval))})}pulse(){this.events.emit(l.HEARTBEAT_EVENTS.pulse)}}s.HeartBeat=p},37875:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(16054);a.__exportStar(f(20538),s),a.__exportStar(f(88490),s),a.__exportStar(f(95635),s)},54554:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.IHeartBeat=void 0;const a=f(15890);class M extends a.IEvents{constructor(C){super()}}s.IHeartBeat=M},88490:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),f(16054).__exportStar(f(54554),s)},42392:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PINO_CUSTOM_CONTEXT_KEY=s.PINO_LOGGER_DEFAULTS=void 0,s.PINO_LOGGER_DEFAULTS={level:"info"},s.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71315:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.pino=void 0;const a=f(16054),M=a.__importDefault(f(86984));Object.defineProperty(s,"pino",{enumerable:!0,get:function(){return M.default}}),a.__exportStar(f(42392),s),a.__exportStar(f(48992),s)},48992:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.generateChildLogger=s.formatChildLoggerContext=s.getLoggerContext=s.setBrowserLoggerContext=s.getBrowserLoggerContext=s.getDefaultLoggerOptions=void 0;const a=f(42392);function M(y){return Object.assign(Object.assign({},y),{level:(y==null?void 0:y.level)||a.PINO_LOGGER_DEFAULTS.level})}s.getDefaultLoggerOptions=M;function v(y,b=a.PINO_CUSTOM_CONTEXT_KEY){return y[b]||""}s.getBrowserLoggerContext=v;function C(y,b,_=a.PINO_CUSTOM_CONTEXT_KEY){return y[_]=b,y}s.setBrowserLoggerContext=C;function l(y,b=a.PINO_CUSTOM_CONTEXT_KEY){let _="";return typeof y.bindings>"u"?_=v(y,b):_=y.bindings().context||"",_}s.getLoggerContext=l;function p(y,b,_=a.PINO_CUSTOM_CONTEXT_KEY){const P=l(y,_);return P.trim()?`${P}/${b}`:b}s.formatChildLoggerContext=p;function o(y,b,_=a.PINO_CUSTOM_CONTEXT_KEY){const P=p(y,b,_),m=y.child({context:P});return C(m,P,_)}s.generateChildLogger=o},87993:function(){},42995:function(){},98319:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(16054);a.__exportStar(f(93497),s),a.__exportStar(f(72879),s)},93497:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ONE_THOUSAND=s.ONE_HUNDRED=void 0,s.ONE_HUNDRED=100,s.ONE_THOUSAND=1e3},72879:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ONE_YEAR=s.FOUR_WEEKS=s.THREE_WEEKS=s.TWO_WEEKS=s.ONE_WEEK=s.THIRTY_DAYS=s.SEVEN_DAYS=s.FIVE_DAYS=s.THREE_DAYS=s.ONE_DAY=s.TWENTY_FOUR_HOURS=s.TWELVE_HOURS=s.SIX_HOURS=s.THREE_HOURS=s.ONE_HOUR=s.SIXTY_MINUTES=s.THIRTY_MINUTES=s.TEN_MINUTES=s.FIVE_MINUTES=s.ONE_MINUTE=s.SIXTY_SECONDS=s.THIRTY_SECONDS=s.TEN_SECONDS=s.FIVE_SECONDS=s.ONE_SECOND=void 0,s.ONE_SECOND=1,s.FIVE_SECONDS=5,s.TEN_SECONDS=10,s.THIRTY_SECONDS=30,s.SIXTY_SECONDS=60,s.ONE_MINUTE=s.SIXTY_SECONDS,s.FIVE_MINUTES=s.ONE_MINUTE*5,s.TEN_MINUTES=s.ONE_MINUTE*10,s.THIRTY_MINUTES=s.ONE_MINUTE*30,s.SIXTY_MINUTES=s.ONE_MINUTE*60,s.ONE_HOUR=s.SIXTY_MINUTES,s.THREE_HOURS=s.ONE_HOUR*3,s.SIX_HOURS=s.ONE_HOUR*6,s.TWELVE_HOURS=s.ONE_HOUR*12,s.TWENTY_FOUR_HOURS=s.ONE_HOUR*24,s.ONE_DAY=s.TWENTY_FOUR_HOURS,s.THREE_DAYS=s.ONE_DAY*3,s.FIVE_DAYS=s.ONE_DAY*5,s.SEVEN_DAYS=s.ONE_DAY*7,s.THIRTY_DAYS=s.ONE_DAY*30,s.ONE_WEEK=s.SEVEN_DAYS,s.TWO_WEEKS=s.ONE_WEEK*2,s.THREE_WEEKS=s.ONE_WEEK*3,s.FOUR_WEEKS=s.ONE_WEEK*4,s.ONE_YEAR=s.ONE_DAY*365},46196:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(16054);a.__exportStar(f(20728),s),a.__exportStar(f(51215),s),a.__exportStar(f(88244),s),a.__exportStar(f(98319),s)},88244:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),f(16054).__exportStar(f(74218),s)},74218:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.IWatch=void 0;class f{}s.IWatch=f},40658:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.fromMiliseconds=s.toMiliseconds=void 0;const a=f(98319);function M(C){return C*a.ONE_THOUSAND}s.toMiliseconds=M;function v(C){return Math.floor(C/a.ONE_THOUSAND)}s.fromMiliseconds=v},52993:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.delay=void 0;function f(a){return new Promise(M=>{setTimeout(()=>{M(!0)},a)})}s.delay=f},20728:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=f(16054);a.__exportStar(f(52993),s),a.__exportStar(f(40658),s)},51215:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Watch=void 0;class f{constructor(){this.timestamps=new Map}start(M){if(this.timestamps.has(M))throw new Error(`Watch already started for label: ${M}`);this.timestamps.set(M,{started:Date.now()})}stop(M){const v=this.get(M);if(typeof v.elapsed<"u")throw new Error(`Watch already stopped for label: ${M}`);const C=Date.now()-v.started;this.timestamps.set(M,{started:v.started,elapsed:C})}get(M){const v=this.timestamps.get(M);if(typeof v>"u")throw new Error(`No timestamp found for label: ${M}`);return v}elapsed(M){const v=this.get(M);return v.elapsed||Date.now()-v.started}}s.Watch=f,s.default=f},73079:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getLocalStorage=s.getLocalStorageOrThrow=s.getCrypto=s.getCryptoOrThrow=s.getLocation=s.getLocationOrThrow=s.getNavigator=s.getNavigatorOrThrow=s.getDocument=s.getDocumentOrThrow=s.getFromWindowOrThrow=s.getFromWindow=void 0;function f(m){let d;return typeof window<"u"&&typeof window[m]<"u"&&(d=window[m]),d}s.getFromWindow=f;function a(m){const d=f(m);if(!d)throw new Error(`${m} is not defined in Window`);return d}s.getFromWindowOrThrow=a;function M(){return a("document")}s.getDocumentOrThrow=M;function v(){return f("document")}s.getDocument=v;function C(){return a("navigator")}s.getNavigatorOrThrow=C;function l(){return f("navigator")}s.getNavigator=l;function p(){return a("location")}s.getLocationOrThrow=p;function o(){return f("location")}s.getLocation=o;function y(){return a("crypto")}s.getCryptoOrThrow=y;function b(){return f("crypto")}s.getCrypto=b;function _(){return a("localStorage")}s.getLocalStorageOrThrow=_;function P(){return f("localStorage")}s.getLocalStorage=P},42669:function(pe,s,f){"use strict";var a;a={value:!0},s.D=void 0;const M=f(73079);function v(){let C,l;try{C=M.getDocumentOrThrow(),l=M.getLocationOrThrow()}catch{return null}function p(){const O=C.getElementsByTagName("link"),z=[];for(let j=0;j<O.length;j++){const G=O[j],B=G.getAttribute("rel");if(B&&B.toLowerCase().indexOf("icon")>-1){const K=G.getAttribute("href");if(K)if(K.toLowerCase().indexOf("https:")===-1&&K.toLowerCase().indexOf("http:")===-1&&K.indexOf("//")!==0){let F=l.protocol+"//"+l.host;if(K.indexOf("/")===0)F+=K;else{const re=l.pathname.split("/");re.pop();const V=re.join("/");F+=V+"/"+K}z.push(F)}else if(K.indexOf("//")===0){const F=l.protocol+K;z.push(F)}else z.push(K)}}return z}function o(...O){const z=C.getElementsByTagName("meta");for(let j=0;j<z.length;j++){const G=z[j],B=["itemprop","property","name"].map(K=>G.getAttribute(K)).filter(K=>K?O.includes(K):!1);if(B.length&&B){const K=G.getAttribute("content");if(K)return K}}return""}function y(){let O=o("name","og:site_name","og:title","twitter:title");return O||(O=C.title),O}function b(){return o("description","og:description","twitter:description","keywords")}const _=y(),P=b(),m=l.origin,d=p();return{description:P,url:m,icons:d,name:_}}s.D=v},16331:function(pe,s,f){"use strict";f.d(s,{Z:function(){return N}});var a=f(50959),M=f(71349),v=f(67536),C=f(21916),l=f(39388),p=f(37639),o=f(84875),y=f.n(o),b=f(10091),_=f(68924),P=f(67846),m=f(3115),d=f(60076),S=f(11745),O=f(19522);const z=(W,Y,te,T,ie)=>({background:W,border:`${(0,d.unit)(T.lineWidth)} ${T.lineType} ${Y}`,[`${ie}-icon`]:{color:te}}),j=W=>{const{componentCls:Y,motionDurationSlow:te,marginXS:T,marginSM:ie,fontSize:Pe,fontSizeLG:Fe,lineHeight:$e,borderRadiusLG:ce,motionEaseInOutCirc:q,withDescriptionIconSize:ee,colorText:D,colorTextHeading:ne,withDescriptionPadding:Ee,defaultPadding:oe}=W;return{[Y]:Object.assign(Object.assign({},(0,S.Wf)(W)),{position:"relative",display:"flex",alignItems:"center",padding:oe,wordWrap:"break-word",borderRadius:ce,[`&${Y}-rtl`]:{direction:"rtl"},[`${Y}-content`]:{flex:1,minWidth:0},[`${Y}-icon`]:{marginInlineEnd:T,lineHeight:0},["&-description"]:{display:"none",fontSize:Pe,lineHeight:$e},"&-message":{color:ne},[`&${Y}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${te} ${q}, opacity ${te} ${q},
        padding-top ${te} ${q}, padding-bottom ${te} ${q},
        margin-bottom ${te} ${q}`},[`&${Y}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${Y}-with-description`]:{alignItems:"flex-start",padding:Ee,[`${Y}-icon`]:{marginInlineEnd:ie,fontSize:ee,lineHeight:0},[`${Y}-message`]:{display:"block",marginBottom:T,color:ne,fontSize:Fe},[`${Y}-description`]:{display:"block",color:D}},[`${Y}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},G=W=>{const{componentCls:Y,colorSuccess:te,colorSuccessBorder:T,colorSuccessBg:ie,colorWarning:Pe,colorWarningBorder:Fe,colorWarningBg:$e,colorError:ce,colorErrorBorder:q,colorErrorBg:ee,colorInfo:D,colorInfoBorder:ne,colorInfoBg:Ee}=W;return{[Y]:{"&-success":z(ie,T,te,W,Y),"&-info":z(Ee,ne,D,W,Y),"&-warning":z($e,Fe,Pe,W,Y),"&-error":Object.assign(Object.assign({},z(ee,q,ce,W,Y)),{[`${Y}-description > pre`]:{margin:0,padding:0}})}}},B=W=>{const{componentCls:Y,iconCls:te,motionDurationMid:T,marginXS:ie,fontSizeIcon:Pe,colorIcon:Fe,colorIconHover:$e}=W;return{[Y]:{["&-action"]:{marginInlineStart:ie},[`${Y}-close-icon`]:{marginInlineStart:ie,padding:0,overflow:"hidden",fontSize:Pe,lineHeight:(0,d.unit)(Pe),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${te}-close`]:{color:Fe,transition:`color ${T}`,"&:hover":{color:$e}}},"&-close-text":{color:Fe,transition:`color ${T}`,"&:hover":{color:$e}}}}},K=W=>({withDescriptionIconSize:W.fontSizeHeading3,defaultPadding:`${W.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${W.paddingMD}px ${W.paddingContentHorizontalLG}px`});var F=(0,O.I$)("Alert",W=>[j(W),G(W),B(W)],K),re=function(W,Y){var te={};for(var T in W)Object.prototype.hasOwnProperty.call(W,T)&&Y.indexOf(T)<0&&(te[T]=W[T]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,T=Object.getOwnPropertySymbols(W);ie<T.length;ie++)Y.indexOf(T[ie])<0&&Object.prototype.propertyIsEnumerable.call(W,T[ie])&&(te[T[ie]]=W[T[ie]]);return te};const V={success:M.Z,info:p.Z,error:v.Z,warning:l.Z},A=W=>{const{icon:Y,prefixCls:te,type:T}=W,ie=V[T]||null;return Y?(0,P.wm)(Y,a.createElement("span",{className:`${te}-icon`},Y),()=>({className:y()(`${te}-icon`,{[Y.props.className]:Y.props.className})})):a.createElement(ie,{className:`${te}-icon`})},Z=W=>{const{isClosable:Y,prefixCls:te,closeIcon:T,handleClose:ie}=W,Pe=T===!0||T===void 0?a.createElement(C.Z,null):T;return Y?a.createElement("button",{type:"button",onClick:ie,className:`${te}-close-icon`,tabIndex:0},Pe):null};var le=W=>{const{description:Y,prefixCls:te,message:T,banner:ie,className:Pe,rootClassName:Fe,style:$e,onMouseEnter:ce,onMouseLeave:q,onClick:ee,afterClose:D,showIcon:ne,closable:Ee,closeText:oe,closeIcon:se,action:Oe}=W,ke=re(W,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Ke,Te]=a.useState(!1),ot=a.useRef(null),{getPrefixCls:Ve,direction:Je,alert:Ae}=a.useContext(m.E_),Me=Ve("alert",te),[de,ye,$]=F(Me),R=We=>{var qe;Te(!0),(qe=W.onClose)===null||qe===void 0||qe.call(W,We)},k=a.useMemo(()=>W.type!==void 0?W.type:ie?"warning":"info",[W.type,ie]),ae=a.useMemo(()=>oe?!0:typeof Ee=="boolean"?Ee:se!==!1&&se!==null&&se!==void 0,[oe,se,Ee]),me=ie&&ne===void 0?!0:ne,Re=y()(Me,`${Me}-${k}`,{[`${Me}-with-description`]:!!Y,[`${Me}-no-icon`]:!me,[`${Me}-banner`]:!!ie,[`${Me}-rtl`]:Je==="rtl"},Ae==null?void 0:Ae.className,Pe,Fe,$,ye),Se=(0,_.Z)(ke,{aria:!0,data:!0});return de(a.createElement(b.default,{visible:!Ke,motionName:`${Me}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:We=>({maxHeight:We.offsetHeight}),onLeaveEnd:D},We=>{let{className:qe,style:et}=We;return a.createElement("div",Object.assign({ref:ot,"data-show":!Ke,className:y()(Re,qe),style:Object.assign(Object.assign(Object.assign({},Ae==null?void 0:Ae.style),$e),et),onMouseEnter:ce,onMouseLeave:q,onClick:ee,role:"alert"},Se),me?a.createElement(A,{description:Y,icon:W.icon,prefixCls:Me,type:k}):null,a.createElement("div",{className:`${Me}-content`},T?a.createElement("div",{className:`${Me}-message`},T):null,Y?a.createElement("div",{className:`${Me}-description`},Y):null),Oe?a.createElement("div",{className:`${Me}-action`},Oe):null,a.createElement(Z,{isClosable:ae,prefixCls:Me,closeIcon:oe||se,handleClose:R}))}))},we=f(54348),fe=f(92460),H=f(1348),g=f(93052),L=function(W){(0,H.Z)(te,W);var Y=(0,g.Z)(te);function te(){var T;return(0,we.Z)(this,te),T=Y.apply(this,arguments),T.state={error:void 0,info:{componentStack:""}},T}return(0,fe.Z)(te,[{key:"componentDidCatch",value:function(ie,Pe){this.setState({error:ie,info:Pe})}},{key:"render",value:function(){const{message:ie,description:Pe,children:Fe}=this.props,{error:$e,info:ce}=this.state,q=ce&&ce.componentStack?ce.componentStack:null,ee=typeof ie>"u"?($e||"").toString():ie,D=typeof Pe>"u"?q:Pe;return $e?a.createElement(le,{type:"error",message:ee,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},D)}):Fe}}]),te}(a.Component);const I=le;I.ErrorBoundary=L;var N=I},33794:function(pe,s,f){"use strict";f.d(s,{Z:function(){return I}});var a=f(50959),M=f(84875),v=f.n(M),C=f(87017),l=f(3115),p=f(27934),o=f(29466),y=f(45997),b=function(N,W){var Y={};for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&W.indexOf(te)<0&&(Y[te]=N[te]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,te=Object.getOwnPropertySymbols(N);T<te.length;T++)W.indexOf(te[T])<0&&Object.prototype.propertyIsEnumerable.call(N,te[T])&&(Y[te[T]]=N[te[T]]);return Y},P=N=>{var{prefixCls:W,className:Y,hoverable:te=!0}=N,T=b(N,["prefixCls","className","hoverable"]);const{getPrefixCls:ie}=a.useContext(l.E_),Pe=ie("card",W),Fe=v()(`${Pe}-grid`,Y,{[`${Pe}-grid-hoverable`]:te});return a.createElement("div",Object.assign({},T,{className:Fe}))},m=f(60076),d=f(11745),S=f(19522),O=f(24994);const z=N=>{const{antCls:W,componentCls:Y,headerHeight:te,cardPaddingBase:T,tabsMarginBottom:ie}=N;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:te,marginBottom:-1,padding:`0 ${(0,m.unit)(T)}`,color:N.colorTextHeading,fontWeight:N.fontWeightStrong,fontSize:N.headerFontSize,background:N.headerBg,borderBottom:`${(0,m.unit)(N.lineWidth)} ${N.lineType} ${N.colorBorderSecondary}`,borderRadius:`${(0,m.unit)(N.borderRadiusLG)} ${(0,m.unit)(N.borderRadiusLG)} 0 0`},(0,d.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},d.vS),{[`
          > ${Y}-typography,
          > ${Y}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${W}-tabs-top`]:{clear:"both",marginBottom:ie,color:N.colorText,fontWeight:"normal",fontSize:N.fontSize,"&-bar":{borderBottom:`${(0,m.unit)(N.lineWidth)} ${N.lineType} ${N.colorBorderSecondary}`}}})},j=N=>{const{cardPaddingBase:W,colorBorderSecondary:Y,cardShadow:te,lineWidth:T}=N;return{width:"33.33%",padding:W,border:0,borderRadius:0,boxShadow:`
      ${(0,m.unit)(T)} 0 0 0 ${Y},
      0 ${(0,m.unit)(T)} 0 0 ${Y},
      ${(0,m.unit)(T)} ${(0,m.unit)(T)} 0 0 ${Y},
      ${(0,m.unit)(T)} 0 0 0 ${Y} inset,
      0 ${(0,m.unit)(T)} 0 0 ${Y} inset;
    `,transition:`all ${N.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:te}}},G=N=>{const{componentCls:W,iconCls:Y,actionsLiMargin:te,cardActionsIconSize:T,colorBorderSecondary:ie,actionsBg:Pe}=N;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:Pe,borderTop:`${(0,m.unit)(N.lineWidth)} ${N.lineType} ${ie}`,display:"flex",borderRadius:`0 0 ${(0,m.unit)(N.borderRadiusLG)} ${(0,m.unit)(N.borderRadiusLG)}`},(0,d.dF)()),{"& > li":{margin:te,color:N.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:N.calc(N.cardActionsIconSize).mul(2).equal(),fontSize:N.fontSize,lineHeight:N.lineHeight,cursor:"pointer","&:hover":{color:N.colorPrimary,transition:`color ${N.motionDurationMid}`},[`a:not(${W}-btn), > ${Y}`]:{display:"inline-block",width:"100%",color:N.colorTextDescription,lineHeight:(0,m.unit)(N.fontHeight),transition:`color ${N.motionDurationMid}`,"&:hover":{color:N.colorPrimary}},[`> ${Y}`]:{fontSize:T,lineHeight:(0,m.unit)(N.calc(T).mul(N.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,m.unit)(N.lineWidth)} ${N.lineType} ${ie}`}}})},B=N=>Object.assign(Object.assign({margin:`${(0,m.unit)(N.calc(N.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,d.dF)()),{"&-avatar":{paddingInlineEnd:N.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:N.marginXS}},"&-title":Object.assign({color:N.colorTextHeading,fontWeight:N.fontWeightStrong,fontSize:N.fontSizeLG},d.vS),"&-description":{color:N.colorTextDescription}}),K=N=>{const{componentCls:W,cardPaddingBase:Y,colorFillAlter:te}=N;return{[`${W}-head`]:{padding:`0 ${(0,m.unit)(Y)}`,background:te,"&-title":{fontSize:N.fontSize}},[`${W}-body`]:{padding:`${(0,m.unit)(N.padding)} ${(0,m.unit)(Y)}`}}},F=N=>{const{componentCls:W}=N;return{overflow:"hidden",[`${W}-body`]:{userSelect:"none"}}},re=N=>{const{antCls:W,componentCls:Y,cardShadow:te,cardHeadPadding:T,colorBorderSecondary:ie,boxShadowTertiary:Pe,cardPaddingBase:Fe,extraColor:$e}=N;return{[Y]:Object.assign(Object.assign({},(0,d.Wf)(N)),{position:"relative",background:N.colorBgContainer,borderRadius:N.borderRadiusLG,[`&:not(${Y}-bordered)`]:{boxShadow:Pe},[`${Y}-head`]:z(N),[`${Y}-extra`]:{marginInlineStart:"auto",color:$e,fontWeight:"normal",fontSize:N.fontSize},[`${Y}-body`]:Object.assign({padding:Fe,borderRadius:` 0 0 ${(0,m.unit)(N.borderRadiusLG)} ${(0,m.unit)(N.borderRadiusLG)}`},(0,d.dF)()),[`${Y}-grid`]:j(N),[`${Y}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${W}-image-mask`]:{borderRadius:`${(0,m.unit)(N.borderRadiusLG)} ${(0,m.unit)(N.borderRadiusLG)} 0 0`}},[`${Y}-actions`]:G(N),[`${Y}-meta`]:B(N)}),[`${Y}-bordered`]:{border:`${(0,m.unit)(N.lineWidth)} ${N.lineType} ${ie}`,[`${Y}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${Y}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${N.motionDurationMid}, border-color ${N.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:te}},[`${Y}-contain-grid`]:{borderRadius:`${(0,m.unit)(N.borderRadiusLG)} ${(0,m.unit)(N.borderRadiusLG)} 0 0 `,[`${Y}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${Y}-loading) ${Y}-body`]:{marginBlockStart:N.calc(N.lineWidth).mul(-1).equal(),marginInlineStart:N.calc(N.lineWidth).mul(-1).equal(),padding:0}},[`${Y}-contain-tabs`]:{[`> ${Y}-head`]:{minHeight:0,[`${Y}-head-title, ${Y}-extra`]:{paddingTop:T}}},[`${Y}-type-inner`]:K(N),[`${Y}-loading`]:F(N),[`${Y}-rtl`]:{direction:"rtl"}}},V=N=>{const{componentCls:W,cardPaddingSM:Y,headerHeightSM:te,headerFontSizeSM:T}=N;return{[`${W}-small`]:{[`> ${W}-head`]:{minHeight:te,padding:`0 ${(0,m.unit)(Y)}`,fontSize:T,[`> ${W}-head-wrapper`]:{[`> ${W}-extra`]:{fontSize:N.fontSize}}},[`> ${W}-body`]:{padding:Y}},[`${W}-small${W}-contain-tabs`]:{[`> ${W}-head`]:{[`${W}-head-title, ${W}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},A=N=>({headerBg:"transparent",headerFontSize:N.fontSizeLG,headerFontSizeSM:N.fontSize,headerHeight:N.fontSizeLG*N.lineHeightLG+N.padding*2,headerHeightSM:N.fontSize*N.lineHeight+N.paddingXS*2,actionsBg:N.colorBgContainer,actionsLiMargin:`${N.paddingSM}px 0`,tabsMarginBottom:-N.padding-N.lineWidth,extraColor:N.colorText});var Z=(0,S.I$)("Card",N=>{const W=(0,O.TS)(N,{cardShadow:N.boxShadowCard,cardHeadPadding:N.padding,cardPaddingBase:N.paddingLG,cardActionsIconSize:N.fontSize,cardPaddingSM:12});return[re(W),V(W)]},A),ve=function(N,W){var Y={};for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&W.indexOf(te)<0&&(Y[te]=N[te]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,te=Object.getOwnPropertySymbols(N);T<te.length;T++)W.indexOf(te[T])<0&&Object.prototype.propertyIsEnumerable.call(N,te[T])&&(Y[te[T]]=N[te[T]]);return Y};const le=N=>{const{prefixCls:W,actions:Y=[]}=N;return a.createElement("ul",{className:`${W}-actions`},Y.map((te,T)=>{const ie=`action-${T}`;return a.createElement("li",{style:{width:`${100/Y.length}%`},key:ie},a.createElement("span",null,te))}))};var fe=a.forwardRef((N,W)=>{const{prefixCls:Y,className:te,rootClassName:T,style:ie,extra:Pe,headStyle:Fe={},bodyStyle:$e={},title:ce,loading:q,bordered:ee=!0,size:D,type:ne,cover:Ee,actions:oe,tabList:se,children:Oe,activeTabKey:ke,defaultActiveTabKey:Ke,tabBarExtraContent:Te,hoverable:ot,tabProps:Ve={}}=N,Je=ve(N,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:Ae,direction:Me,card:de}=a.useContext(l.E_),ye=vt=>{var gt;(gt=N.onTabChange)===null||gt===void 0||gt.call(N,vt)},$=a.useMemo(()=>{let vt=!1;return a.Children.forEach(Oe,gt=>{gt&&gt.type&&gt.type===P&&(vt=!0)}),vt},[Oe]),R=Ae("card",Y),[k,ae,me]=Z(R),Re=a.createElement(o.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Oe),Se=ke!==void 0,We=Object.assign(Object.assign({},Ve),{[Se?"activeKey":"defaultActiveKey"]:Se?ke:Ke,tabBarExtraContent:Te});let qe;const et=(0,p.Z)(D),st=!et||et==="default"?"large":et,at=se?a.createElement(y.Z,Object.assign({size:st},We,{className:`${R}-head-tabs`,onChange:ye,items:se.map(vt=>{var{tab:gt}=vt,Gt=ve(vt,["tab"]);return Object.assign({label:gt},Gt)})})):null;(ce||Pe||at)&&(qe=a.createElement("div",{className:`${R}-head`,style:Fe},a.createElement("div",{className:`${R}-head-wrapper`},ce&&a.createElement("div",{className:`${R}-head-title`},ce),Pe&&a.createElement("div",{className:`${R}-extra`},Pe)),at));const wt=Ee?a.createElement("div",{className:`${R}-cover`},Ee):null,Ct=a.createElement("div",{className:`${R}-body`,style:$e},q?Re:Oe),At=oe&&oe.length?a.createElement(le,{prefixCls:R,actions:oe}):null,mt=(0,C.Z)(Je,["onTabChange"]),Mt=v()(R,de==null?void 0:de.className,{[`${R}-loading`]:q,[`${R}-bordered`]:ee,[`${R}-hoverable`]:ot,[`${R}-contain-grid`]:$,[`${R}-contain-tabs`]:se&&se.length,[`${R}-${et}`]:et,[`${R}-type-${ne}`]:!!ne,[`${R}-rtl`]:Me==="rtl"},te,T,ae,me),Vt=Object.assign(Object.assign({},de==null?void 0:de.style),ie);return k(a.createElement("div",Object.assign({ref:W},mt,{className:Mt,style:Vt}),qe,wt,Ct,At))}),H=function(N,W){var Y={};for(var te in N)Object.prototype.hasOwnProperty.call(N,te)&&W.indexOf(te)<0&&(Y[te]=N[te]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,te=Object.getOwnPropertySymbols(N);T<te.length;T++)W.indexOf(te[T])<0&&Object.prototype.propertyIsEnumerable.call(N,te[T])&&(Y[te[T]]=N[te[T]]);return Y},x=N=>{const{prefixCls:W,className:Y,avatar:te,title:T,description:ie}=N,Pe=H(N,["prefixCls","className","avatar","title","description"]),{getPrefixCls:Fe}=a.useContext(l.E_),$e=Fe("card",W),ce=v()(`${$e}-meta`,Y),q=te?a.createElement("div",{className:`${$e}-meta-avatar`},te):null,ee=T?a.createElement("div",{className:`${$e}-meta-title`},T):null,D=ie?a.createElement("div",{className:`${$e}-meta-description`},ie):null,ne=ee||D?a.createElement("div",{className:`${$e}-meta-detail`},ee,D):null;return a.createElement("div",Object.assign({},Pe,{className:ce}),q,ne)};const L=fe;L.Grid=P,L.Meta=x;var I=L},31363:function(pe,s,f){"use strict";f.d(s,{ZP:function(){return ee}});var a=f(50959),M=f(84875),v=f.n(M),C=f(65589),l=f(68924),p=f(3115),o=f(27934);const y=a.createContext(null),b=y.Provider;var _=y;const P=a.createContext(null),m=P.Provider;var d=f(56920),S=f(93914),O=f(25940),z=f(90885),j=f(48385),G=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],B=(0,a.forwardRef)(function(D,ne){var Ee,oe=D.prefixCls,se=oe===void 0?"rc-checkbox":oe,Oe=D.className,ke=D.style,Ke=D.checked,Te=D.disabled,ot=D.defaultChecked,Ve=ot===void 0?!1:ot,Je=D.type,Ae=Je===void 0?"checkbox":Je,Me=D.title,de=D.onChange,ye=(0,j.Z)(D,G),$=(0,a.useRef)(null),R=(0,C.Z)(Ve,{value:Ke}),k=(0,z.Z)(R,2),ae=k[0],me=k[1];(0,a.useImperativeHandle)(ne,function(){return{focus:function(){var qe;(qe=$.current)===null||qe===void 0||qe.focus()},blur:function(){var qe;(qe=$.current)===null||qe===void 0||qe.blur()},input:$.current}});var Re=v()(se,Oe,(Ee={},(0,O.Z)(Ee,"".concat(se,"-checked"),ae),(0,O.Z)(Ee,"".concat(se,"-disabled"),Te),Ee)),Se=function(qe){Te||("checked"in D||me(qe.target.checked),de==null||de({target:(0,S.Z)((0,S.Z)({},D),{},{type:Ae,checked:qe.target.checked}),stopPropagation:function(){qe.stopPropagation()},preventDefault:function(){qe.preventDefault()},nativeEvent:qe.nativeEvent}))};return a.createElement("span",{className:Re,title:Me,style:ke},a.createElement("input",(0,d.Z)({},ye,{className:"".concat(se,"-input"),ref:$,onChange:Se,disabled:Te,checked:!!ae,type:Ae})),a.createElement("span",{className:"".concat(se,"-inner")}))}),K=B,F=f(12602),re=f(58149),V=f(62294),A=f(30850),Z=f(42972),ve=f(60076),le=f(11745),we=f(19522),fe=f(24994);const H=D=>{const{componentCls:ne,antCls:Ee}=D,oe=`${ne}-group`;return{[oe]:Object.assign(Object.assign({},(0,le.Wf)(D)),{display:"inline-block",fontSize:0,[`&${oe}-rtl`]:{direction:"rtl"},[`${Ee}-badge ${Ee}-badge-count`]:{zIndex:1},[`> ${Ee}-badge:not(:first-child) > ${Ee}-button-wrapper`]:{borderInlineStart:"none"}})}},g=D=>{const{componentCls:ne,wrapperMarginInlineEnd:Ee,colorPrimary:oe,radioSize:se,motionDurationSlow:Oe,motionDurationMid:ke,motionEaseInOutCirc:Ke,colorBgContainer:Te,colorBorder:ot,lineWidth:Ve,colorBgContainerDisabled:Je,colorTextDisabled:Ae,paddingXS:Me,dotColorDisabled:de,lineType:ye,radioColor:$,radioBgColor:R,calc:k}=D,ae=`${ne}-inner`,me=4,Re=k(se).sub(k(me).mul(2)),Se=k(1).mul(se).equal();return{[`${ne}-wrapper`]:Object.assign(Object.assign({},(0,le.Wf)(D)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:Ee,cursor:"pointer",[`&${ne}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:D.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${ne}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,ve.unit)(Ve)} ${ye} ${oe}`,borderRadius:"50%",visibility:"hidden",content:'""'},[ne]:Object.assign(Object.assign({},(0,le.Wf)(D)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${ne}-wrapper:hover &,
        &:hover ${ae}`]:{borderColor:oe},[`${ne}-input:focus-visible + ${ae}`]:Object.assign({},(0,le.oN)(D)),[`${ne}:hover::after, ${ne}-wrapper:hover &::after`]:{visibility:"visible"},[`${ne}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Se,height:Se,marginBlockStart:k(1).mul(se).div(-2).equal(),marginInlineStart:k(1).mul(se).div(-2).equal(),backgroundColor:$,borderBlockStart:0,borderInlineStart:0,borderRadius:Se,transform:"scale(0)",opacity:0,transition:`all ${Oe} ${Ke}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Se,height:Se,backgroundColor:Te,borderColor:ot,borderStyle:"solid",borderWidth:Ve,borderRadius:"50%",transition:`all ${ke}`},[`${ne}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${ne}-checked`]:{[ae]:{borderColor:oe,backgroundColor:R,"&::after":{transform:`scale(${D.calc(D.dotSize).div(se).equal()})`,opacity:1,transition:`all ${Oe} ${Ke}`}}},[`${ne}-disabled`]:{cursor:"not-allowed",[ae]:{backgroundColor:Je,borderColor:ot,cursor:"not-allowed","&::after":{backgroundColor:de}},[`${ne}-input`]:{cursor:"not-allowed"},[`${ne}-disabled + span`]:{color:Ae,cursor:"not-allowed"},[`&${ne}-checked`]:{[ae]:{"&::after":{transform:`scale(${k(Re).div(se).equal({unit:!1})})`}}}},[`span${ne} + *`]:{paddingInlineStart:Me,paddingInlineEnd:Me}})}},x=D=>{const{buttonColor:ne,controlHeight:Ee,componentCls:oe,lineWidth:se,lineType:Oe,colorBorder:ke,motionDurationSlow:Ke,motionDurationMid:Te,buttonPaddingInline:ot,fontSize:Ve,buttonBg:Je,fontSizeLG:Ae,controlHeightLG:Me,controlHeightSM:de,paddingXS:ye,borderRadius:$,borderRadiusSM:R,borderRadiusLG:k,buttonCheckedBg:ae,buttonSolidCheckedColor:me,colorTextDisabled:Re,colorBgContainerDisabled:Se,buttonCheckedBgDisabled:We,buttonCheckedColorDisabled:qe,colorPrimary:et,colorPrimaryHover:st,colorPrimaryActive:at,buttonSolidCheckedBg:wt,buttonSolidCheckedHoverBg:Ct,buttonSolidCheckedActiveBg:At,calc:mt}=D;return{[`${oe}-button-wrapper`]:{position:"relative",display:"inline-block",height:Ee,margin:0,paddingInline:ot,paddingBlock:0,color:ne,fontSize:Ve,lineHeight:(0,ve.unit)(mt(Ee).sub(mt(se).mul(2)).equal()),background:Je,border:`${(0,ve.unit)(se)} ${Oe} ${ke}`,borderBlockStartWidth:mt(se).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:se,cursor:"pointer",transition:[`color ${Te}`,`background ${Te}`,`box-shadow ${Te}`].join(","),a:{color:ne},[`> ${oe}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:mt(se).mul(-1).equal(),insetInlineStart:mt(se).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:se,paddingInline:0,backgroundColor:ke,transition:`background-color ${Ke}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,ve.unit)(se)} ${Oe} ${ke}`,borderStartStartRadius:$,borderEndStartRadius:$},"&:last-child":{borderStartEndRadius:$,borderEndEndRadius:$},"&:first-child:last-child":{borderRadius:$},[`${oe}-group-large &`]:{height:Me,fontSize:Ae,lineHeight:(0,ve.unit)(mt(Me).sub(mt(se).mul(2)).equal()),"&:first-child":{borderStartStartRadius:k,borderEndStartRadius:k},"&:last-child":{borderStartEndRadius:k,borderEndEndRadius:k}},[`${oe}-group-small &`]:{height:de,paddingInline:mt(ye).sub(se).equal(),paddingBlock:0,lineHeight:(0,ve.unit)(mt(de).sub(mt(se).mul(2)).equal()),"&:first-child":{borderStartStartRadius:R,borderEndStartRadius:R},"&:last-child":{borderStartEndRadius:R,borderEndEndRadius:R}},"&:hover":{position:"relative",color:et},"&:has(:focus-visible)":Object.assign({},(0,le.oN)(D)),[`${oe}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${oe}-button-wrapper-disabled)`]:{zIndex:1,color:et,background:ae,borderColor:et,"&::before":{backgroundColor:et},"&:first-child":{borderColor:et},"&:hover":{color:st,borderColor:st,"&::before":{backgroundColor:st}},"&:active":{color:at,borderColor:at,"&::before":{backgroundColor:at}}},[`${oe}-group-solid &-checked:not(${oe}-button-wrapper-disabled)`]:{color:me,background:wt,borderColor:wt,"&:hover":{color:me,background:Ct,borderColor:Ct},"&:active":{color:me,background:At,borderColor:At}},"&-disabled":{color:Re,backgroundColor:Se,borderColor:ke,cursor:"not-allowed","&:first-child, &:hover":{color:Re,backgroundColor:Se,borderColor:ke}},[`&-disabled${oe}-button-wrapper-checked`]:{color:qe,backgroundColor:We,borderColor:ke,boxShadow:"none"}}}},L=D=>{const{wireframe:ne,padding:Ee,marginXS:oe,lineWidth:se,fontSizeLG:Oe,colorText:ke,colorBgContainer:Ke,colorTextDisabled:Te,controlItemBgActiveDisabled:ot,colorTextLightSolid:Ve,colorPrimary:Je,colorPrimaryHover:Ae,colorPrimaryActive:Me,colorWhite:de}=D,ye=4,$=Oe,R=ne?$-ye*2:$-(ye+se)*2;return{radioSize:$,dotSize:R,dotColorDisabled:Te,buttonSolidCheckedColor:Ve,buttonSolidCheckedBg:Je,buttonSolidCheckedHoverBg:Ae,buttonSolidCheckedActiveBg:Me,buttonBg:Ke,buttonCheckedBg:Ke,buttonColor:ke,buttonCheckedBgDisabled:ot,buttonCheckedColorDisabled:Te,buttonPaddingInline:Ee-se,wrapperMarginInlineEnd:oe,radioColor:ne?Je:de,radioBgColor:ne?Ke:Je}};var I=(0,we.I$)("Radio",D=>{const{controlOutline:ne,controlOutlineWidth:Ee}=D,oe=`0 0 0 ${(0,ve.unit)(Ee)} ${ne}`,se=oe,Oe=(0,fe.TS)(D,{radioFocusShadow:oe,radioButtonFocusShadow:se});return[H(Oe),g(Oe),x(Oe)]},L,{unitless:{radioSize:!0,dotSize:!0}}),N=f(49071),W=function(D,ne){var Ee={};for(var oe in D)Object.prototype.hasOwnProperty.call(D,oe)&&ne.indexOf(oe)<0&&(Ee[oe]=D[oe]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,oe=Object.getOwnPropertySymbols(D);se<oe.length;se++)ne.indexOf(oe[se])<0&&Object.prototype.propertyIsEnumerable.call(D,oe[se])&&(Ee[oe[se]]=D[oe[se]]);return Ee};const Y=(D,ne)=>{var Ee,oe;const se=a.useContext(_),Oe=a.useContext(P),{getPrefixCls:ke,direction:Ke,radio:Te}=a.useContext(p.E_),ot=a.useRef(null),Ve=(0,F.sQ)(ne,ot),{isFormItemInput:Je}=a.useContext(Z.aM),Ae=Ct=>{var At,mt;(At=D.onChange)===null||At===void 0||At.call(D,Ct),(mt=se==null?void 0:se.onChange)===null||mt===void 0||mt.call(se,Ct)},{prefixCls:Me,className:de,rootClassName:ye,children:$,style:R}=D,k=W(D,["prefixCls","className","rootClassName","children","style"]),ae=ke("radio",Me),me=((se==null?void 0:se.optionType)||Oe)==="button",Re=me?`${ae}-button`:ae,Se=(0,N.Z)(ae),[We,qe,et]=I(ae,Se),st=Object.assign({},k),at=a.useContext(A.Z);se&&(st.name=se.name,st.onChange=Ae,st.checked=D.value===se.value,st.disabled=(Ee=st.disabled)!==null&&Ee!==void 0?Ee:se.disabled),st.disabled=(oe=st.disabled)!==null&&oe!==void 0?oe:at;const wt=v()(`${Re}-wrapper`,{[`${Re}-wrapper-checked`]:st.checked,[`${Re}-wrapper-disabled`]:st.disabled,[`${Re}-wrapper-rtl`]:Ke==="rtl",[`${Re}-wrapper-in-form-item`]:Je},Te==null?void 0:Te.className,de,ye,qe,et,Se);return We(a.createElement(re.Z,{component:"Radio",disabled:st.disabled},a.createElement("label",{className:wt,style:Object.assign(Object.assign({},Te==null?void 0:Te.style),R),onMouseEnter:D.onMouseEnter,onMouseLeave:D.onMouseLeave},a.createElement(K,Object.assign({},st,{className:v()(st.className,!me&&V.A),type:"radio",prefixCls:Re,ref:Ve})),$!==void 0?a.createElement("span",null,$):null)))};var T=a.forwardRef(Y);const ie=a.forwardRef((D,ne)=>{const{getPrefixCls:Ee,direction:oe}=a.useContext(p.E_),[se,Oe]=(0,C.Z)(D.defaultValue,{value:D.value}),ke=At=>{const mt=se,Mt=At.target.value;"value"in D||Oe(Mt);const{onChange:Vt}=D;Vt&&Mt!==mt&&Vt(At)},{prefixCls:Ke,className:Te,rootClassName:ot,options:Ve,buttonStyle:Je="outline",disabled:Ae,children:Me,size:de,style:ye,id:$,onMouseEnter:R,onMouseLeave:k,onFocus:ae,onBlur:me}=D,Re=Ee("radio",Ke),Se=`${Re}-group`,We=(0,N.Z)(Re),[qe,et,st]=I(Re,We);let at=Me;Ve&&Ve.length>0&&(at=Ve.map(At=>typeof At=="string"||typeof At=="number"?a.createElement(T,{key:At.toString(),prefixCls:Re,disabled:Ae,value:At,checked:se===At},At):a.createElement(T,{key:`radio-group-value-options-${At.value}`,prefixCls:Re,disabled:At.disabled||Ae,value:At.value,checked:se===At.value,title:At.title,style:At.style,id:At.id,required:At.required},At.label)));const wt=(0,o.Z)(de),Ct=v()(Se,`${Se}-${Je}`,{[`${Se}-${wt}`]:wt,[`${Se}-rtl`]:oe==="rtl"},Te,ot,et,st,We);return qe(a.createElement("div",Object.assign({},(0,l.Z)(D,{aria:!0,data:!0}),{className:Ct,style:ye,onMouseEnter:R,onMouseLeave:k,onFocus:ae,onBlur:me,id:$,ref:ne}),a.createElement(b,{value:{onChange:ke,value:se,disabled:D.disabled,name:D.name,optionType:D.optionType}},at)))});var Pe=a.memo(ie),Fe=function(D,ne){var Ee={};for(var oe in D)Object.prototype.hasOwnProperty.call(D,oe)&&ne.indexOf(oe)<0&&(Ee[oe]=D[oe]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,oe=Object.getOwnPropertySymbols(D);se<oe.length;se++)ne.indexOf(oe[se])<0&&Object.prototype.propertyIsEnumerable.call(D,oe[se])&&(Ee[oe[se]]=D[oe[se]]);return Ee};const $e=(D,ne)=>{const{getPrefixCls:Ee}=a.useContext(p.E_),{prefixCls:oe}=D,se=Fe(D,["prefixCls"]),Oe=Ee("radio",oe);return a.createElement(m,{value:"button"},a.createElement(T,Object.assign({prefixCls:Oe},se,{type:"radio",ref:ne})))};var ce=a.forwardRef($e);const q=T;q.Button=ce,q.Group=Pe,q.__ANT_RADIO=!0;var ee=q},70425:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(99938),M=f(99645),v=function(){function C(){this._semaphore=new M.default(1)}return C.prototype.acquire=function(){return a.__awaiter(this,void 0,void 0,function(){var l,p;return a.__generator(this,function(o){switch(o.label){case 0:return[4,this._semaphore.acquire()];case 1:return l=o.sent(),p=l[1],[2,p]}})})},C.prototype.runExclusive=function(l){return this._semaphore.runExclusive(function(){return l()})},C.prototype.isLocked=function(){return this._semaphore.isLocked()},C.prototype.release=function(){this._semaphore.release()},C}();s.default=v},99645:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=f(99938),M=function(){function v(C){if(this._maxConcurrency=C,this._queue=[],C<=0)throw new Error("semaphore must be initialized to a positive value");this._value=C}return v.prototype.acquire=function(){var C=this,l=this.isLocked(),p=new Promise(function(o){return C._queue.push(o)});return l||this._dispatch(),p},v.prototype.runExclusive=function(C){return a.__awaiter(this,void 0,void 0,function(){var l,p,o;return a.__generator(this,function(y){switch(y.label){case 0:return[4,this.acquire()];case 1:l=y.sent(),p=l[0],o=l[1],y.label=2;case 2:return y.trys.push([2,,4,5]),[4,C(p)];case 3:return[2,y.sent()];case 4:return o(),[7];case 5:return[2]}})})},v.prototype.isLocked=function(){return this._value<=0},v.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var C=this._currentReleaser;this._currentReleaser=void 0,C()}},v.prototype._dispatch=function(){var C=this,l=this._queue.shift();if(l){var p=!1;this._currentReleaser=function(){p||(p=!0,C._value++,C._dispatch())},l([this._value--,this._currentReleaser])}},v}();s.default=M},37811:function(pe,s,f){"use strict";var a;a={value:!0},a=a=s.WU=void 0;var M=f(70425);Object.defineProperty(s,"WU",{enumerable:!0,get:function(){return M.default}});var v=f(99645);a={enumerable:!0,get:function(){return v.default}};var C=f(64390);a={enumerable:!0,get:function(){return C.withTimeout}}},64390:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.withTimeout=void 0;var a=f(99938);function M(v,C,l){var p=this;return l===void 0&&(l=new Error("timeout")),{acquire:function(){return new Promise(function(o,y){return a.__awaiter(p,void 0,void 0,function(){var b,_,P;return a.__generator(this,function(m){switch(m.label){case 0:return b=!1,setTimeout(function(){b=!0,y(l)},C),[4,v.acquire()];case 1:return _=m.sent(),b?(P=Array.isArray(_)?_[1]:_,P()):o(_),[2]}})})})},runExclusive:function(o){return a.__awaiter(this,void 0,void 0,function(){var y,b;return a.__generator(this,function(_){switch(_.label){case 0:y=function(){},_.label=1;case 1:return _.trys.push([1,,7,8]),[4,this.acquire()];case 2:return b=_.sent(),Array.isArray(b)?(y=b[1],[4,o(b[0])]):[3,4];case 3:return[2,_.sent()];case 4:return y=b,[4,o()];case 5:return[2,_.sent()];case 6:return[3,8];case 7:return y(),[7];case 8:return[2]}})})},release:function(){v.release()},isLocked:function(){return v.isLocked()}}}s.withTimeout=M},65415:function(pe,s){"use strict";s.byteLength=o,s.toByteArray=b,s.fromByteArray=m;for(var f=[],a=[],M=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,l=v.length;C<l;++C)f[C]=v[C],a[v.charCodeAt(C)]=C;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function p(d){var S=d.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=d.indexOf("=");O===-1&&(O=S);var z=O===S?0:4-O%4;return[O,z]}function o(d){var S=p(d),O=S[0],z=S[1];return(O+z)*3/4-z}function y(d,S,O){return(S+O)*3/4-O}function b(d){var S,O=p(d),z=O[0],j=O[1],G=new M(y(d,z,j)),B=0,K=j>0?z-4:z,F;for(F=0;F<K;F+=4)S=a[d.charCodeAt(F)]<<18|a[d.charCodeAt(F+1)]<<12|a[d.charCodeAt(F+2)]<<6|a[d.charCodeAt(F+3)],G[B++]=S>>16&255,G[B++]=S>>8&255,G[B++]=S&255;return j===2&&(S=a[d.charCodeAt(F)]<<2|a[d.charCodeAt(F+1)]>>4,G[B++]=S&255),j===1&&(S=a[d.charCodeAt(F)]<<10|a[d.charCodeAt(F+1)]<<4|a[d.charCodeAt(F+2)]>>2,G[B++]=S>>8&255,G[B++]=S&255),G}function _(d){return f[d>>18&63]+f[d>>12&63]+f[d>>6&63]+f[d&63]}function P(d,S,O){for(var z,j=[],G=S;G<O;G+=3)z=(d[G]<<16&16711680)+(d[G+1]<<8&65280)+(d[G+2]&255),j.push(_(z));return j.join("")}function m(d){for(var S,O=d.length,z=O%3,j=[],G=16383,B=0,K=O-z;B<K;B+=G)j.push(P(d,B,B+G>K?K:B+G));return z===1?(S=d[O-1],j.push(f[S>>2]+f[S<<4&63]+"==")):z===2&&(S=(d[O-2]<<8)+d[O-1],j.push(f[S>>10]+f[S>>4&63]+f[S<<2&63]+"=")),j.join("")}},39098:function(pe,s,f){pe=f.nmd(pe),function(a,M){"use strict";function v(H,g){if(!H)throw new Error(g||"Assertion failed")}function C(H,g){H.super_=g;var x=function(){};x.prototype=g.prototype,H.prototype=new x,H.prototype.constructor=H}function l(H,g,x){if(l.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((g==="le"||g==="be")&&(x=g,g=10),this._init(H||0,g||10,x||"be"))}typeof a=="object"?a.exports=l:M.BN=l,l.BN=l,l.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=f(79391).Buffer}catch{}l.isBN=function(g){return g instanceof l?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===l.wordSize&&Array.isArray(g.words)},l.max=function(g,x){return g.cmp(x)>0?g:x},l.min=function(g,x){return g.cmp(x)<0?g:x},l.prototype._init=function(g,x,L){if(typeof g=="number")return this._initNumber(g,x,L);if(typeof g=="object")return this._initArray(g,x,L);x==="hex"&&(x=16),v(x===(x|0)&&x>=2&&x<=36),g=g.toString().replace(/\s+/g,"");var I=0;g[0]==="-"&&(I++,this.negative=1),I<g.length&&(x===16?this._parseHex(g,I,L):(this._parseBase(g,x,I),L==="le"&&this._initArray(this.toArray(),x,L)))},l.prototype._initNumber=function(g,x,L){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(v(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),x,L)},l.prototype._initArray=function(g,x,L){if(v(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var N,W,Y=0;if(L==="be")for(I=g.length-1,N=0;I>=0;I-=3)W=g[I]|g[I-1]<<8|g[I-2]<<16,this.words[N]|=W<<Y&67108863,this.words[N+1]=W>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,N++);else if(L==="le")for(I=0,N=0;I<g.length;I+=3)W=g[I]|g[I+1]<<8|g[I+2]<<16,this.words[N]|=W<<Y&67108863,this.words[N+1]=W>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,N++);return this._strip()};function o(H,g){var x=H.charCodeAt(g);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;v(!1,"Invalid character in "+H)}function y(H,g,x){var L=o(H,x);return x-1>=g&&(L|=o(H,x-1)<<4),L}l.prototype._parseHex=function(g,x,L){this.length=Math.ceil((g.length-x)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var N=0,W=0,Y;if(L==="be")for(I=g.length-1;I>=x;I-=2)Y=y(g,x,I)<<N,this.words[W]|=Y&67108863,N>=18?(N-=18,W+=1,this.words[W]|=Y>>>26):N+=8;else{var te=g.length-x;for(I=te%2===0?x+1:x;I<g.length;I+=2)Y=y(g,x,I)<<N,this.words[W]|=Y&67108863,N>=18?(N-=18,W+=1,this.words[W]|=Y>>>26):N+=8}this._strip()};function b(H,g,x,L){for(var I=0,N=0,W=Math.min(H.length,x),Y=g;Y<W;Y++){var te=H.charCodeAt(Y)-48;I*=L,te>=49?N=te-49+10:te>=17?N=te-17+10:N=te,v(te>=0&&N<L,"Invalid character"),I+=N}return I}l.prototype._parseBase=function(g,x,L){this.words=[0],this.length=1;for(var I=0,N=1;N<=67108863;N*=x)I++;I--,N=N/x|0;for(var W=g.length-L,Y=W%I,te=Math.min(W,W-Y)+L,T=0,ie=L;ie<te;ie+=I)T=b(g,ie,ie+I,x),this.imuln(N),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(Y!==0){var Pe=1;for(T=b(g,ie,g.length,x),ie=0;ie<Y;ie++)Pe*=x;this.imuln(Pe),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},l.prototype.copy=function(g){g.words=new Array(this.length);for(var x=0;x<this.length;x++)g.words[x]=this.words[x];g.length=this.length,g.negative=this.negative,g.red=this.red};function _(H,g){H.words=g.words,H.length=g.length,H.negative=g.negative,H.red=g.red}if(l.prototype._move=function(g){_(g,this)},l.prototype.clone=function(){var g=new l(null);return this.copy(g),g},l.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=P}catch{l.prototype.inspect=P}else l.prototype.inspect=P;function P(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(g,x){g=g||10,x=x|0||1;var L;if(g===16||g==="hex"){L="";for(var I=0,N=0,W=0;W<this.length;W++){var Y=this.words[W],te=((Y<<I|N)&16777215).toString(16);N=Y>>>24-I&16777215,I+=2,I>=26&&(I-=26,W--),N!==0||W!==this.length-1?L=m[6-te.length]+te+L:L=te+L}for(N!==0&&(L=N.toString(16)+L);L.length%x!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(g===(g|0)&&g>=2&&g<=36){var T=d[g],ie=S[g];L="";var Pe=this.clone();for(Pe.negative=0;!Pe.isZero();){var Fe=Pe.modrn(ie).toString(g);Pe=Pe.idivn(ie),Pe.isZero()?L=Fe+L:L=m[T-Fe.length]+Fe+L}for(this.isZero()&&(L="0"+L);L.length%x!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}v(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&v(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},l.prototype.toJSON=function(){return this.toString(16,2)},p&&(l.prototype.toBuffer=function(g,x){return this.toArrayLike(p,g,x)}),l.prototype.toArray=function(g,x){return this.toArrayLike(Array,g,x)};var O=function(g,x){return g.allocUnsafe?g.allocUnsafe(x):new g(x)};l.prototype.toArrayLike=function(g,x,L){this._strip();var I=this.byteLength(),N=L||Math.max(1,I);v(I<=N,"byte array longer than desired length"),v(N>0,"Requested array length <= 0");var W=O(g,N),Y=x==="le"?"LE":"BE";return this["_toArrayLike"+Y](W,I),W},l.prototype._toArrayLikeLE=function(g,x){for(var L=0,I=0,N=0,W=0;N<this.length;N++){var Y=this.words[N]<<W|I;g[L++]=Y&255,L<g.length&&(g[L++]=Y>>8&255),L<g.length&&(g[L++]=Y>>16&255),W===6?(L<g.length&&(g[L++]=Y>>24&255),I=0,W=0):(I=Y>>>24,W+=2)}if(L<g.length)for(g[L++]=I;L<g.length;)g[L++]=0},l.prototype._toArrayLikeBE=function(g,x){for(var L=g.length-1,I=0,N=0,W=0;N<this.length;N++){var Y=this.words[N]<<W|I;g[L--]=Y&255,L>=0&&(g[L--]=Y>>8&255),L>=0&&(g[L--]=Y>>16&255),W===6?(L>=0&&(g[L--]=Y>>24&255),I=0,W=0):(I=Y>>>24,W+=2)}if(L>=0)for(g[L--]=I;L>=0;)g[L--]=0},Math.clz32?l.prototype._countBits=function(g){return 32-Math.clz32(g)}:l.prototype._countBits=function(g){var x=g,L=0;return x>=4096&&(L+=13,x>>>=13),x>=64&&(L+=7,x>>>=7),x>=8&&(L+=4,x>>>=4),x>=2&&(L+=2,x>>>=2),L+x},l.prototype._zeroBits=function(g){if(g===0)return 26;var x=g,L=0;return x&8191||(L+=13,x>>>=13),x&127||(L+=7,x>>>=7),x&15||(L+=4,x>>>=4),x&3||(L+=2,x>>>=2),x&1||L++,L},l.prototype.bitLength=function(){var g=this.words[this.length-1],x=this._countBits(g);return(this.length-1)*26+x};function z(H){for(var g=new Array(H.bitLength()),x=0;x<g.length;x++){var L=x/26|0,I=x%26;g[x]=H.words[L]>>>I&1}return g}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,x=0;x<this.length;x++){var L=this._zeroBits(this.words[x]);if(g+=L,L!==26)break}return g},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},l.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var x=0;x<g.length;x++)this.words[x]=this.words[x]|g.words[x];return this._strip()},l.prototype.ior=function(g){return v((this.negative|g.negative)===0),this.iuor(g)},l.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},l.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},l.prototype.iuand=function(g){var x;this.length>g.length?x=g:x=this;for(var L=0;L<x.length;L++)this.words[L]=this.words[L]&g.words[L];return this.length=x.length,this._strip()},l.prototype.iand=function(g){return v((this.negative|g.negative)===0),this.iuand(g)},l.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},l.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},l.prototype.iuxor=function(g){var x,L;this.length>g.length?(x=this,L=g):(x=g,L=this);for(var I=0;I<L.length;I++)this.words[I]=x.words[I]^L.words[I];if(this!==x)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=x.length,this._strip()},l.prototype.ixor=function(g){return v((this.negative|g.negative)===0),this.iuxor(g)},l.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},l.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},l.prototype.inotn=function(g){v(typeof g=="number"&&g>=0);var x=Math.ceil(g/26)|0,L=g%26;this._expand(x),L>0&&x--;for(var I=0;I<x;I++)this.words[I]=~this.words[I]&67108863;return L>0&&(this.words[I]=~this.words[I]&67108863>>26-L),this._strip()},l.prototype.notn=function(g){return this.clone().inotn(g)},l.prototype.setn=function(g,x){v(typeof g=="number"&&g>=0);var L=g/26|0,I=g%26;return this._expand(L+1),x?this.words[L]=this.words[L]|1<<I:this.words[L]=this.words[L]&~(1<<I),this._strip()},l.prototype.iadd=function(g){var x;if(this.negative!==0&&g.negative===0)return this.negative=0,x=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,x=this.isub(g),g.negative=1,x._normSign();var L,I;this.length>g.length?(L=this,I=g):(L=g,I=this);for(var N=0,W=0;W<I.length;W++)x=(L.words[W]|0)+(I.words[W]|0)+N,this.words[W]=x&67108863,N=x>>>26;for(;N!==0&&W<L.length;W++)x=(L.words[W]|0)+N,this.words[W]=x&67108863,N=x>>>26;if(this.length=L.length,N!==0)this.words[this.length]=N,this.length++;else if(L!==this)for(;W<L.length;W++)this.words[W]=L.words[W];return this},l.prototype.add=function(g){var x;return g.negative!==0&&this.negative===0?(g.negative=0,x=this.sub(g),g.negative^=1,x):g.negative===0&&this.negative!==0?(this.negative=0,x=g.sub(this),this.negative=1,x):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},l.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var x=this.iadd(g);return g.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var L=this.cmp(g);if(L===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,N;L>0?(I=this,N=g):(I=g,N=this);for(var W=0,Y=0;Y<N.length;Y++)x=(I.words[Y]|0)-(N.words[Y]|0)+W,W=x>>26,this.words[Y]=x&67108863;for(;W!==0&&Y<I.length;Y++)x=(I.words[Y]|0)+W,W=x>>26,this.words[Y]=x&67108863;if(W===0&&Y<I.length&&I!==this)for(;Y<I.length;Y++)this.words[Y]=I.words[Y];return this.length=Math.max(this.length,Y),I!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(g){return this.clone().isub(g)};function j(H,g,x){x.negative=g.negative^H.negative;var L=H.length+g.length|0;x.length=L,L=L-1|0;var I=H.words[0]|0,N=g.words[0]|0,W=I*N,Y=W&67108863,te=W/67108864|0;x.words[0]=Y;for(var T=1;T<L;T++){for(var ie=te>>>26,Pe=te&67108863,Fe=Math.min(T,g.length-1),$e=Math.max(0,T-H.length+1);$e<=Fe;$e++){var ce=T-$e|0;I=H.words[ce]|0,N=g.words[$e]|0,W=I*N+Pe,ie+=W/67108864|0,Pe=W&67108863}x.words[T]=Pe|0,te=ie|0}return te!==0?x.words[T]=te|0:x.length--,x._strip()}var G=function(g,x,L){var I=g.words,N=x.words,W=L.words,Y=0,te,T,ie,Pe=I[0]|0,Fe=Pe&8191,$e=Pe>>>13,ce=I[1]|0,q=ce&8191,ee=ce>>>13,D=I[2]|0,ne=D&8191,Ee=D>>>13,oe=I[3]|0,se=oe&8191,Oe=oe>>>13,ke=I[4]|0,Ke=ke&8191,Te=ke>>>13,ot=I[5]|0,Ve=ot&8191,Je=ot>>>13,Ae=I[6]|0,Me=Ae&8191,de=Ae>>>13,ye=I[7]|0,$=ye&8191,R=ye>>>13,k=I[8]|0,ae=k&8191,me=k>>>13,Re=I[9]|0,Se=Re&8191,We=Re>>>13,qe=N[0]|0,et=qe&8191,st=qe>>>13,at=N[1]|0,wt=at&8191,Ct=at>>>13,At=N[2]|0,mt=At&8191,Mt=At>>>13,Vt=N[3]|0,vt=Vt&8191,gt=Vt>>>13,Gt=N[4]|0,Pt=Gt&8191,Ot=Gt>>>13,sr=N[5]|0,Tt=sr&8191,Nt=sr>>>13,nr=N[6]|0,Rt=nr&8191,Et=nr>>>13,ur=N[7]|0,Lt=ur&8191,Bt=ur>>>13,lr=N[8]|0,or=lr&8191,Jt=lr>>>13,Zn=N[9]|0,ar=Zn&8191,cr=Zn>>>13;L.negative=g.negative^x.negative,L.length=19,te=Math.imul(Fe,et),T=Math.imul(Fe,st),T=T+Math.imul($e,et)|0,ie=Math.imul($e,st);var Ln=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,te=Math.imul(q,et),T=Math.imul(q,st),T=T+Math.imul(ee,et)|0,ie=Math.imul(ee,st),te=te+Math.imul(Fe,wt)|0,T=T+Math.imul(Fe,Ct)|0,T=T+Math.imul($e,wt)|0,ie=ie+Math.imul($e,Ct)|0;var Bn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,te=Math.imul(ne,et),T=Math.imul(ne,st),T=T+Math.imul(Ee,et)|0,ie=Math.imul(Ee,st),te=te+Math.imul(q,wt)|0,T=T+Math.imul(q,Ct)|0,T=T+Math.imul(ee,wt)|0,ie=ie+Math.imul(ee,Ct)|0,te=te+Math.imul(Fe,mt)|0,T=T+Math.imul(Fe,Mt)|0,T=T+Math.imul($e,mt)|0,ie=ie+Math.imul($e,Mt)|0;var xr=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(xr>>>26)|0,xr&=67108863,te=Math.imul(se,et),T=Math.imul(se,st),T=T+Math.imul(Oe,et)|0,ie=Math.imul(Oe,st),te=te+Math.imul(ne,wt)|0,T=T+Math.imul(ne,Ct)|0,T=T+Math.imul(Ee,wt)|0,ie=ie+Math.imul(Ee,Ct)|0,te=te+Math.imul(q,mt)|0,T=T+Math.imul(q,Mt)|0,T=T+Math.imul(ee,mt)|0,ie=ie+Math.imul(ee,Mt)|0,te=te+Math.imul(Fe,vt)|0,T=T+Math.imul(Fe,gt)|0,T=T+Math.imul($e,vt)|0,ie=ie+Math.imul($e,gt)|0;var dn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(dn>>>26)|0,dn&=67108863,te=Math.imul(Ke,et),T=Math.imul(Ke,st),T=T+Math.imul(Te,et)|0,ie=Math.imul(Te,st),te=te+Math.imul(se,wt)|0,T=T+Math.imul(se,Ct)|0,T=T+Math.imul(Oe,wt)|0,ie=ie+Math.imul(Oe,Ct)|0,te=te+Math.imul(ne,mt)|0,T=T+Math.imul(ne,Mt)|0,T=T+Math.imul(Ee,mt)|0,ie=ie+Math.imul(Ee,Mt)|0,te=te+Math.imul(q,vt)|0,T=T+Math.imul(q,gt)|0,T=T+Math.imul(ee,vt)|0,ie=ie+Math.imul(ee,gt)|0,te=te+Math.imul(Fe,Pt)|0,T=T+Math.imul(Fe,Ot)|0,T=T+Math.imul($e,Pt)|0,ie=ie+Math.imul($e,Ot)|0;var qr=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(qr>>>26)|0,qr&=67108863,te=Math.imul(Ve,et),T=Math.imul(Ve,st),T=T+Math.imul(Je,et)|0,ie=Math.imul(Je,st),te=te+Math.imul(Ke,wt)|0,T=T+Math.imul(Ke,Ct)|0,T=T+Math.imul(Te,wt)|0,ie=ie+Math.imul(Te,Ct)|0,te=te+Math.imul(se,mt)|0,T=T+Math.imul(se,Mt)|0,T=T+Math.imul(Oe,mt)|0,ie=ie+Math.imul(Oe,Mt)|0,te=te+Math.imul(ne,vt)|0,T=T+Math.imul(ne,gt)|0,T=T+Math.imul(Ee,vt)|0,ie=ie+Math.imul(Ee,gt)|0,te=te+Math.imul(q,Pt)|0,T=T+Math.imul(q,Ot)|0,T=T+Math.imul(ee,Pt)|0,ie=ie+Math.imul(ee,Ot)|0,te=te+Math.imul(Fe,Tt)|0,T=T+Math.imul(Fe,Nt)|0,T=T+Math.imul($e,Tt)|0,ie=ie+Math.imul($e,Nt)|0;var Qr=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,te=Math.imul(Me,et),T=Math.imul(Me,st),T=T+Math.imul(de,et)|0,ie=Math.imul(de,st),te=te+Math.imul(Ve,wt)|0,T=T+Math.imul(Ve,Ct)|0,T=T+Math.imul(Je,wt)|0,ie=ie+Math.imul(Je,Ct)|0,te=te+Math.imul(Ke,mt)|0,T=T+Math.imul(Ke,Mt)|0,T=T+Math.imul(Te,mt)|0,ie=ie+Math.imul(Te,Mt)|0,te=te+Math.imul(se,vt)|0,T=T+Math.imul(se,gt)|0,T=T+Math.imul(Oe,vt)|0,ie=ie+Math.imul(Oe,gt)|0,te=te+Math.imul(ne,Pt)|0,T=T+Math.imul(ne,Ot)|0,T=T+Math.imul(Ee,Pt)|0,ie=ie+Math.imul(Ee,Ot)|0,te=te+Math.imul(q,Tt)|0,T=T+Math.imul(q,Nt)|0,T=T+Math.imul(ee,Tt)|0,ie=ie+Math.imul(ee,Nt)|0,te=te+Math.imul(Fe,Rt)|0,T=T+Math.imul(Fe,Et)|0,T=T+Math.imul($e,Rt)|0,ie=ie+Math.imul($e,Et)|0;var Xr=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,te=Math.imul($,et),T=Math.imul($,st),T=T+Math.imul(R,et)|0,ie=Math.imul(R,st),te=te+Math.imul(Me,wt)|0,T=T+Math.imul(Me,Ct)|0,T=T+Math.imul(de,wt)|0,ie=ie+Math.imul(de,Ct)|0,te=te+Math.imul(Ve,mt)|0,T=T+Math.imul(Ve,Mt)|0,T=T+Math.imul(Je,mt)|0,ie=ie+Math.imul(Je,Mt)|0,te=te+Math.imul(Ke,vt)|0,T=T+Math.imul(Ke,gt)|0,T=T+Math.imul(Te,vt)|0,ie=ie+Math.imul(Te,gt)|0,te=te+Math.imul(se,Pt)|0,T=T+Math.imul(se,Ot)|0,T=T+Math.imul(Oe,Pt)|0,ie=ie+Math.imul(Oe,Ot)|0,te=te+Math.imul(ne,Tt)|0,T=T+Math.imul(ne,Nt)|0,T=T+Math.imul(Ee,Tt)|0,ie=ie+Math.imul(Ee,Nt)|0,te=te+Math.imul(q,Rt)|0,T=T+Math.imul(q,Et)|0,T=T+Math.imul(ee,Rt)|0,ie=ie+Math.imul(ee,Et)|0,te=te+Math.imul(Fe,Lt)|0,T=T+Math.imul(Fe,Bt)|0,T=T+Math.imul($e,Lt)|0,ie=ie+Math.imul($e,Bt)|0;var Fn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,te=Math.imul(ae,et),T=Math.imul(ae,st),T=T+Math.imul(me,et)|0,ie=Math.imul(me,st),te=te+Math.imul($,wt)|0,T=T+Math.imul($,Ct)|0,T=T+Math.imul(R,wt)|0,ie=ie+Math.imul(R,Ct)|0,te=te+Math.imul(Me,mt)|0,T=T+Math.imul(Me,Mt)|0,T=T+Math.imul(de,mt)|0,ie=ie+Math.imul(de,Mt)|0,te=te+Math.imul(Ve,vt)|0,T=T+Math.imul(Ve,gt)|0,T=T+Math.imul(Je,vt)|0,ie=ie+Math.imul(Je,gt)|0,te=te+Math.imul(Ke,Pt)|0,T=T+Math.imul(Ke,Ot)|0,T=T+Math.imul(Te,Pt)|0,ie=ie+Math.imul(Te,Ot)|0,te=te+Math.imul(se,Tt)|0,T=T+Math.imul(se,Nt)|0,T=T+Math.imul(Oe,Tt)|0,ie=ie+Math.imul(Oe,Nt)|0,te=te+Math.imul(ne,Rt)|0,T=T+Math.imul(ne,Et)|0,T=T+Math.imul(Ee,Rt)|0,ie=ie+Math.imul(Ee,Et)|0,te=te+Math.imul(q,Lt)|0,T=T+Math.imul(q,Bt)|0,T=T+Math.imul(ee,Lt)|0,ie=ie+Math.imul(ee,Bt)|0,te=te+Math.imul(Fe,or)|0,T=T+Math.imul(Fe,Jt)|0,T=T+Math.imul($e,or)|0,ie=ie+Math.imul($e,Jt)|0;var en=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(en>>>26)|0,en&=67108863,te=Math.imul(Se,et),T=Math.imul(Se,st),T=T+Math.imul(We,et)|0,ie=Math.imul(We,st),te=te+Math.imul(ae,wt)|0,T=T+Math.imul(ae,Ct)|0,T=T+Math.imul(me,wt)|0,ie=ie+Math.imul(me,Ct)|0,te=te+Math.imul($,mt)|0,T=T+Math.imul($,Mt)|0,T=T+Math.imul(R,mt)|0,ie=ie+Math.imul(R,Mt)|0,te=te+Math.imul(Me,vt)|0,T=T+Math.imul(Me,gt)|0,T=T+Math.imul(de,vt)|0,ie=ie+Math.imul(de,gt)|0,te=te+Math.imul(Ve,Pt)|0,T=T+Math.imul(Ve,Ot)|0,T=T+Math.imul(Je,Pt)|0,ie=ie+Math.imul(Je,Ot)|0,te=te+Math.imul(Ke,Tt)|0,T=T+Math.imul(Ke,Nt)|0,T=T+Math.imul(Te,Tt)|0,ie=ie+Math.imul(Te,Nt)|0,te=te+Math.imul(se,Rt)|0,T=T+Math.imul(se,Et)|0,T=T+Math.imul(Oe,Rt)|0,ie=ie+Math.imul(Oe,Et)|0,te=te+Math.imul(ne,Lt)|0,T=T+Math.imul(ne,Bt)|0,T=T+Math.imul(Ee,Lt)|0,ie=ie+Math.imul(Ee,Bt)|0,te=te+Math.imul(q,or)|0,T=T+Math.imul(q,Jt)|0,T=T+Math.imul(ee,or)|0,ie=ie+Math.imul(ee,Jt)|0,te=te+Math.imul(Fe,ar)|0,T=T+Math.imul(Fe,cr)|0,T=T+Math.imul($e,ar)|0,ie=ie+Math.imul($e,cr)|0;var pn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(pn>>>26)|0,pn&=67108863,te=Math.imul(Se,wt),T=Math.imul(Se,Ct),T=T+Math.imul(We,wt)|0,ie=Math.imul(We,Ct),te=te+Math.imul(ae,mt)|0,T=T+Math.imul(ae,Mt)|0,T=T+Math.imul(me,mt)|0,ie=ie+Math.imul(me,Mt)|0,te=te+Math.imul($,vt)|0,T=T+Math.imul($,gt)|0,T=T+Math.imul(R,vt)|0,ie=ie+Math.imul(R,gt)|0,te=te+Math.imul(Me,Pt)|0,T=T+Math.imul(Me,Ot)|0,T=T+Math.imul(de,Pt)|0,ie=ie+Math.imul(de,Ot)|0,te=te+Math.imul(Ve,Tt)|0,T=T+Math.imul(Ve,Nt)|0,T=T+Math.imul(Je,Tt)|0,ie=ie+Math.imul(Je,Nt)|0,te=te+Math.imul(Ke,Rt)|0,T=T+Math.imul(Ke,Et)|0,T=T+Math.imul(Te,Rt)|0,ie=ie+Math.imul(Te,Et)|0,te=te+Math.imul(se,Lt)|0,T=T+Math.imul(se,Bt)|0,T=T+Math.imul(Oe,Lt)|0,ie=ie+Math.imul(Oe,Bt)|0,te=te+Math.imul(ne,or)|0,T=T+Math.imul(ne,Jt)|0,T=T+Math.imul(Ee,or)|0,ie=ie+Math.imul(Ee,Jt)|0,te=te+Math.imul(q,ar)|0,T=T+Math.imul(q,cr)|0,T=T+Math.imul(ee,ar)|0,ie=ie+Math.imul(ee,cr)|0;var Sn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,te=Math.imul(Se,mt),T=Math.imul(Se,Mt),T=T+Math.imul(We,mt)|0,ie=Math.imul(We,Mt),te=te+Math.imul(ae,vt)|0,T=T+Math.imul(ae,gt)|0,T=T+Math.imul(me,vt)|0,ie=ie+Math.imul(me,gt)|0,te=te+Math.imul($,Pt)|0,T=T+Math.imul($,Ot)|0,T=T+Math.imul(R,Pt)|0,ie=ie+Math.imul(R,Ot)|0,te=te+Math.imul(Me,Tt)|0,T=T+Math.imul(Me,Nt)|0,T=T+Math.imul(de,Tt)|0,ie=ie+Math.imul(de,Nt)|0,te=te+Math.imul(Ve,Rt)|0,T=T+Math.imul(Ve,Et)|0,T=T+Math.imul(Je,Rt)|0,ie=ie+Math.imul(Je,Et)|0,te=te+Math.imul(Ke,Lt)|0,T=T+Math.imul(Ke,Bt)|0,T=T+Math.imul(Te,Lt)|0,ie=ie+Math.imul(Te,Bt)|0,te=te+Math.imul(se,or)|0,T=T+Math.imul(se,Jt)|0,T=T+Math.imul(Oe,or)|0,ie=ie+Math.imul(Oe,Jt)|0,te=te+Math.imul(ne,ar)|0,T=T+Math.imul(ne,cr)|0,T=T+Math.imul(Ee,ar)|0,ie=ie+Math.imul(Ee,cr)|0;var Tr=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,te=Math.imul(Se,vt),T=Math.imul(Se,gt),T=T+Math.imul(We,vt)|0,ie=Math.imul(We,gt),te=te+Math.imul(ae,Pt)|0,T=T+Math.imul(ae,Ot)|0,T=T+Math.imul(me,Pt)|0,ie=ie+Math.imul(me,Ot)|0,te=te+Math.imul($,Tt)|0,T=T+Math.imul($,Nt)|0,T=T+Math.imul(R,Tt)|0,ie=ie+Math.imul(R,Nt)|0,te=te+Math.imul(Me,Rt)|0,T=T+Math.imul(Me,Et)|0,T=T+Math.imul(de,Rt)|0,ie=ie+Math.imul(de,Et)|0,te=te+Math.imul(Ve,Lt)|0,T=T+Math.imul(Ve,Bt)|0,T=T+Math.imul(Je,Lt)|0,ie=ie+Math.imul(Je,Bt)|0,te=te+Math.imul(Ke,or)|0,T=T+Math.imul(Ke,Jt)|0,T=T+Math.imul(Te,or)|0,ie=ie+Math.imul(Te,Jt)|0,te=te+Math.imul(se,ar)|0,T=T+Math.imul(se,cr)|0,T=T+Math.imul(Oe,ar)|0,ie=ie+Math.imul(Oe,cr)|0;var In=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(In>>>26)|0,In&=67108863,te=Math.imul(Se,Pt),T=Math.imul(Se,Ot),T=T+Math.imul(We,Pt)|0,ie=Math.imul(We,Ot),te=te+Math.imul(ae,Tt)|0,T=T+Math.imul(ae,Nt)|0,T=T+Math.imul(me,Tt)|0,ie=ie+Math.imul(me,Nt)|0,te=te+Math.imul($,Rt)|0,T=T+Math.imul($,Et)|0,T=T+Math.imul(R,Rt)|0,ie=ie+Math.imul(R,Et)|0,te=te+Math.imul(Me,Lt)|0,T=T+Math.imul(Me,Bt)|0,T=T+Math.imul(de,Lt)|0,ie=ie+Math.imul(de,Bt)|0,te=te+Math.imul(Ve,or)|0,T=T+Math.imul(Ve,Jt)|0,T=T+Math.imul(Je,or)|0,ie=ie+Math.imul(Je,Jt)|0,te=te+Math.imul(Ke,ar)|0,T=T+Math.imul(Ke,cr)|0,T=T+Math.imul(Te,ar)|0,ie=ie+Math.imul(Te,cr)|0;var kn=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(kn>>>26)|0,kn&=67108863,te=Math.imul(Se,Tt),T=Math.imul(Se,Nt),T=T+Math.imul(We,Tt)|0,ie=Math.imul(We,Nt),te=te+Math.imul(ae,Rt)|0,T=T+Math.imul(ae,Et)|0,T=T+Math.imul(me,Rt)|0,ie=ie+Math.imul(me,Et)|0,te=te+Math.imul($,Lt)|0,T=T+Math.imul($,Bt)|0,T=T+Math.imul(R,Lt)|0,ie=ie+Math.imul(R,Bt)|0,te=te+Math.imul(Me,or)|0,T=T+Math.imul(Me,Jt)|0,T=T+Math.imul(de,or)|0,ie=ie+Math.imul(de,Jt)|0,te=te+Math.imul(Ve,ar)|0,T=T+Math.imul(Ve,cr)|0,T=T+Math.imul(Je,ar)|0,ie=ie+Math.imul(Je,cr)|0;var ji=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(ji>>>26)|0,ji&=67108863,te=Math.imul(Se,Rt),T=Math.imul(Se,Et),T=T+Math.imul(We,Rt)|0,ie=Math.imul(We,Et),te=te+Math.imul(ae,Lt)|0,T=T+Math.imul(ae,Bt)|0,T=T+Math.imul(me,Lt)|0,ie=ie+Math.imul(me,Bt)|0,te=te+Math.imul($,or)|0,T=T+Math.imul($,Jt)|0,T=T+Math.imul(R,or)|0,ie=ie+Math.imul(R,Jt)|0,te=te+Math.imul(Me,ar)|0,T=T+Math.imul(Me,cr)|0,T=T+Math.imul(de,ar)|0,ie=ie+Math.imul(de,cr)|0;var Si=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Si>>>26)|0,Si&=67108863,te=Math.imul(Se,Lt),T=Math.imul(Se,Bt),T=T+Math.imul(We,Lt)|0,ie=Math.imul(We,Bt),te=te+Math.imul(ae,or)|0,T=T+Math.imul(ae,Jt)|0,T=T+Math.imul(me,or)|0,ie=ie+Math.imul(me,Jt)|0,te=te+Math.imul($,ar)|0,T=T+Math.imul($,cr)|0,T=T+Math.imul(R,ar)|0,ie=ie+Math.imul(R,cr)|0;var Ui=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,te=Math.imul(Se,or),T=Math.imul(Se,Jt),T=T+Math.imul(We,or)|0,ie=Math.imul(We,Jt),te=te+Math.imul(ae,ar)|0,T=T+Math.imul(ae,cr)|0,T=T+Math.imul(me,ar)|0,ie=ie+Math.imul(me,cr)|0;var Ii=(Y+te|0)+((T&8191)<<13)|0;Y=(ie+(T>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,te=Math.imul(Se,ar),T=Math.imul(Se,cr),T=T+Math.imul(We,ar)|0,ie=Math.imul(We,cr);var si=(Y+te|0)+((T&8191)<<13)|0;return Y=(ie+(T>>>13)|0)+(si>>>26)|0,si&=67108863,W[0]=Ln,W[1]=Bn,W[2]=xr,W[3]=dn,W[4]=qr,W[5]=Qr,W[6]=Xr,W[7]=Fn,W[8]=en,W[9]=pn,W[10]=Sn,W[11]=Tr,W[12]=In,W[13]=kn,W[14]=ji,W[15]=Si,W[16]=Ui,W[17]=Ii,W[18]=si,Y!==0&&(W[19]=Y,L.length++),L};Math.imul||(G=j);function B(H,g,x){x.negative=g.negative^H.negative,x.length=H.length+g.length;for(var L=0,I=0,N=0;N<x.length-1;N++){var W=I;I=0;for(var Y=L&67108863,te=Math.min(N,g.length-1),T=Math.max(0,N-H.length+1);T<=te;T++){var ie=N-T,Pe=H.words[ie]|0,Fe=g.words[T]|0,$e=Pe*Fe,ce=$e&67108863;W=W+($e/67108864|0)|0,ce=ce+Y|0,Y=ce&67108863,W=W+(ce>>>26)|0,I+=W>>>26,W&=67108863}x.words[N]=Y,L=W,W=I}return L!==0?x.words[N]=L:x.length--,x._strip()}function K(H,g,x){return B(H,g,x)}l.prototype.mulTo=function(g,x){var L,I=this.length+g.length;return this.length===10&&g.length===10?L=G(this,g,x):I<63?L=j(this,g,x):I<1024?L=B(this,g,x):L=K(this,g,x),L};function F(H,g){this.x=H,this.y=g}F.prototype.makeRBT=function(g){for(var x=new Array(g),L=l.prototype._countBits(g)-1,I=0;I<g;I++)x[I]=this.revBin(I,L,g);return x},F.prototype.revBin=function(g,x,L){if(g===0||g===L-1)return g;for(var I=0,N=0;N<x;N++)I|=(g&1)<<x-N-1,g>>=1;return I},F.prototype.permute=function(g,x,L,I,N,W){for(var Y=0;Y<W;Y++)I[Y]=x[g[Y]],N[Y]=L[g[Y]]},F.prototype.transform=function(g,x,L,I,N,W){this.permute(W,g,x,L,I,N);for(var Y=1;Y<N;Y<<=1)for(var te=Y<<1,T=Math.cos(2*Math.PI/te),ie=Math.sin(2*Math.PI/te),Pe=0;Pe<N;Pe+=te)for(var Fe=T,$e=ie,ce=0;ce<Y;ce++){var q=L[Pe+ce],ee=I[Pe+ce],D=L[Pe+ce+Y],ne=I[Pe+ce+Y],Ee=Fe*D-$e*ne;ne=Fe*ne+$e*D,D=Ee,L[Pe+ce]=q+D,I[Pe+ce]=ee+ne,L[Pe+ce+Y]=q-D,I[Pe+ce+Y]=ee-ne,ce!==te&&(Ee=T*Fe-ie*$e,$e=T*$e+ie*Fe,Fe=Ee)}},F.prototype.guessLen13b=function(g,x){var L=Math.max(x,g)|1,I=L&1,N=0;for(L=L/2|0;L;L=L>>>1)N++;return 1<<N+1+I},F.prototype.conjugate=function(g,x,L){if(!(L<=1))for(var I=0;I<L/2;I++){var N=g[I];g[I]=g[L-I-1],g[L-I-1]=N,N=x[I],x[I]=-x[L-I-1],x[L-I-1]=-N}},F.prototype.normalize13b=function(g,x){for(var L=0,I=0;I<x/2;I++){var N=Math.round(g[2*I+1]/x)*8192+Math.round(g[2*I]/x)+L;g[I]=N&67108863,N<67108864?L=0:L=N/67108864|0}return g},F.prototype.convert13b=function(g,x,L,I){for(var N=0,W=0;W<x;W++)N=N+(g[W]|0),L[2*W]=N&8191,N=N>>>13,L[2*W+1]=N&8191,N=N>>>13;for(W=2*x;W<I;++W)L[W]=0;v(N===0),v((N&-8192)===0)},F.prototype.stub=function(g){for(var x=new Array(g),L=0;L<g;L++)x[L]=0;return x},F.prototype.mulp=function(g,x,L){var I=2*this.guessLen13b(g.length,x.length),N=this.makeRBT(I),W=this.stub(I),Y=new Array(I),te=new Array(I),T=new Array(I),ie=new Array(I),Pe=new Array(I),Fe=new Array(I),$e=L.words;$e.length=I,this.convert13b(g.words,g.length,Y,I),this.convert13b(x.words,x.length,ie,I),this.transform(Y,W,te,T,I,N),this.transform(ie,W,Pe,Fe,I,N);for(var ce=0;ce<I;ce++){var q=te[ce]*Pe[ce]-T[ce]*Fe[ce];T[ce]=te[ce]*Fe[ce]+T[ce]*Pe[ce],te[ce]=q}return this.conjugate(te,T,I),this.transform(te,T,$e,W,I,N),this.conjugate($e,W,I),this.normalize13b($e,I),L.negative=g.negative^x.negative,L.length=g.length+x.length,L._strip()},l.prototype.mul=function(g){var x=new l(null);return x.words=new Array(this.length+g.length),this.mulTo(g,x)},l.prototype.mulf=function(g){var x=new l(null);return x.words=new Array(this.length+g.length),K(this,g,x)},l.prototype.imul=function(g){return this.clone().mulTo(g,this)},l.prototype.imuln=function(g){var x=g<0;x&&(g=-g),v(typeof g=="number"),v(g<67108864);for(var L=0,I=0;I<this.length;I++){var N=(this.words[I]|0)*g,W=(N&67108863)+(L&67108863);L>>=26,L+=N/67108864|0,L+=W>>>26,this.words[I]=W&67108863}return L!==0&&(this.words[I]=L,this.length++),x?this.ineg():this},l.prototype.muln=function(g){return this.clone().imuln(g)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(g){var x=z(g);if(x.length===0)return new l(1);for(var L=this,I=0;I<x.length&&x[I]===0;I++,L=L.sqr());if(++I<x.length)for(var N=L.sqr();I<x.length;I++,N=N.sqr())x[I]!==0&&(L=L.mul(N));return L},l.prototype.iushln=function(g){v(typeof g=="number"&&g>=0);var x=g%26,L=(g-x)/26,I=67108863>>>26-x<<26-x,N;if(x!==0){var W=0;for(N=0;N<this.length;N++){var Y=this.words[N]&I,te=(this.words[N]|0)-Y<<x;this.words[N]=te|W,W=Y>>>26-x}W&&(this.words[N]=W,this.length++)}if(L!==0){for(N=this.length-1;N>=0;N--)this.words[N+L]=this.words[N];for(N=0;N<L;N++)this.words[N]=0;this.length+=L}return this._strip()},l.prototype.ishln=function(g){return v(this.negative===0),this.iushln(g)},l.prototype.iushrn=function(g,x,L){v(typeof g=="number"&&g>=0);var I;x?I=(x-x%26)/26:I=0;var N=g%26,W=Math.min((g-N)/26,this.length),Y=67108863^67108863>>>N<<N,te=L;if(I-=W,I=Math.max(0,I),te){for(var T=0;T<W;T++)te.words[T]=this.words[T];te.length=W}if(W!==0)if(this.length>W)for(this.length-=W,T=0;T<this.length;T++)this.words[T]=this.words[T+W];else this.words[0]=0,this.length=1;var ie=0;for(T=this.length-1;T>=0&&(ie!==0||T>=I);T--){var Pe=this.words[T]|0;this.words[T]=ie<<26-N|Pe>>>N,ie=Pe&Y}return te&&ie!==0&&(te.words[te.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(g,x,L){return v(this.negative===0),this.iushrn(g,x,L)},l.prototype.shln=function(g){return this.clone().ishln(g)},l.prototype.ushln=function(g){return this.clone().iushln(g)},l.prototype.shrn=function(g){return this.clone().ishrn(g)},l.prototype.ushrn=function(g){return this.clone().iushrn(g)},l.prototype.testn=function(g){v(typeof g=="number"&&g>=0);var x=g%26,L=(g-x)/26,I=1<<x;if(this.length<=L)return!1;var N=this.words[L];return!!(N&I)},l.prototype.imaskn=function(g){v(typeof g=="number"&&g>=0);var x=g%26,L=(g-x)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(x!==0&&L++,this.length=Math.min(L,this.length),x!==0){var I=67108863^67108863>>>x<<x;this.words[this.length-1]&=I}return this._strip()},l.prototype.maskn=function(g){return this.clone().imaskn(g)},l.prototype.iaddn=function(g){return v(typeof g=="number"),v(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},l.prototype._iaddn=function(g){this.words[0]+=g;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},l.prototype.isubn=function(g){if(v(typeof g=="number"),v(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},l.prototype.addn=function(g){return this.clone().iaddn(g)},l.prototype.subn=function(g){return this.clone().isubn(g)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(g,x,L){var I=g.length+L,N;this._expand(I);var W,Y=0;for(N=0;N<g.length;N++){W=(this.words[N+L]|0)+Y;var te=(g.words[N]|0)*x;W-=te&67108863,Y=(W>>26)-(te/67108864|0),this.words[N+L]=W&67108863}for(;N<this.length-L;N++)W=(this.words[N+L]|0)+Y,Y=W>>26,this.words[N+L]=W&67108863;if(Y===0)return this._strip();for(v(Y===-1),Y=0,N=0;N<this.length;N++)W=-(this.words[N]|0)+Y,Y=W>>26,this.words[N]=W&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(g,x){var L=this.length-g.length,I=this.clone(),N=g,W=N.words[N.length-1]|0,Y=this._countBits(W);L=26-Y,L!==0&&(N=N.ushln(L),I.iushln(L),W=N.words[N.length-1]|0);var te=I.length-N.length,T;if(x!=="mod"){T=new l(null),T.length=te+1,T.words=new Array(T.length);for(var ie=0;ie<T.length;ie++)T.words[ie]=0}var Pe=I.clone()._ishlnsubmul(N,1,te);Pe.negative===0&&(I=Pe,T&&(T.words[te]=1));for(var Fe=te-1;Fe>=0;Fe--){var $e=(I.words[N.length+Fe]|0)*67108864+(I.words[N.length+Fe-1]|0);for($e=Math.min($e/W|0,67108863),I._ishlnsubmul(N,$e,Fe);I.negative!==0;)$e--,I.negative=0,I._ishlnsubmul(N,1,Fe),I.isZero()||(I.negative^=1);T&&(T.words[Fe]=$e)}return T&&T._strip(),I._strip(),x!=="div"&&L!==0&&I.iushrn(L),{div:T||null,mod:I}},l.prototype.divmod=function(g,x,L){if(v(!g.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var I,N,W;return this.negative!==0&&g.negative===0?(W=this.neg().divmod(g,x),x!=="mod"&&(I=W.div.neg()),x!=="div"&&(N=W.mod.neg(),L&&N.negative!==0&&N.iadd(g)),{div:I,mod:N}):this.negative===0&&g.negative!==0?(W=this.divmod(g.neg(),x),x!=="mod"&&(I=W.div.neg()),{div:I,mod:W.mod}):this.negative&g.negative?(W=this.neg().divmod(g.neg(),x),x!=="div"&&(N=W.mod.neg(),L&&N.negative!==0&&N.isub(g)),{div:W.div,mod:N}):g.length>this.length||this.cmp(g)<0?{div:new l(0),mod:this}:g.length===1?x==="div"?{div:this.divn(g.words[0]),mod:null}:x==="mod"?{div:null,mod:new l(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new l(this.modrn(g.words[0]))}:this._wordDiv(g,x)},l.prototype.div=function(g){return this.divmod(g,"div",!1).div},l.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},l.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},l.prototype.divRound=function(g){var x=this.divmod(g);if(x.mod.isZero())return x.div;var L=x.div.negative!==0?x.mod.isub(g):x.mod,I=g.ushrn(1),N=g.andln(1),W=L.cmp(I);return W<0||N===1&&W===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},l.prototype.modrn=function(g){var x=g<0;x&&(g=-g),v(g<=67108863);for(var L=(1<<26)%g,I=0,N=this.length-1;N>=0;N--)I=(L*I+(this.words[N]|0))%g;return x?-I:I},l.prototype.modn=function(g){return this.modrn(g)},l.prototype.idivn=function(g){var x=g<0;x&&(g=-g),v(g<=67108863);for(var L=0,I=this.length-1;I>=0;I--){var N=(this.words[I]|0)+L*67108864;this.words[I]=N/g|0,L=N%g}return this._strip(),x?this.ineg():this},l.prototype.divn=function(g){return this.clone().idivn(g)},l.prototype.egcd=function(g){v(g.negative===0),v(!g.isZero());var x=this,L=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var I=new l(1),N=new l(0),W=new l(0),Y=new l(1),te=0;x.isEven()&&L.isEven();)x.iushrn(1),L.iushrn(1),++te;for(var T=L.clone(),ie=x.clone();!x.isZero();){for(var Pe=0,Fe=1;!(x.words[0]&Fe)&&Pe<26;++Pe,Fe<<=1);if(Pe>0)for(x.iushrn(Pe);Pe-- >0;)(I.isOdd()||N.isOdd())&&(I.iadd(T),N.isub(ie)),I.iushrn(1),N.iushrn(1);for(var $e=0,ce=1;!(L.words[0]&ce)&&$e<26;++$e,ce<<=1);if($e>0)for(L.iushrn($e);$e-- >0;)(W.isOdd()||Y.isOdd())&&(W.iadd(T),Y.isub(ie)),W.iushrn(1),Y.iushrn(1);x.cmp(L)>=0?(x.isub(L),I.isub(W),N.isub(Y)):(L.isub(x),W.isub(I),Y.isub(N))}return{a:W,b:Y,gcd:L.iushln(te)}},l.prototype._invmp=function(g){v(g.negative===0),v(!g.isZero());var x=this,L=g.clone();x.negative!==0?x=x.umod(g):x=x.clone();for(var I=new l(1),N=new l(0),W=L.clone();x.cmpn(1)>0&&L.cmpn(1)>0;){for(var Y=0,te=1;!(x.words[0]&te)&&Y<26;++Y,te<<=1);if(Y>0)for(x.iushrn(Y);Y-- >0;)I.isOdd()&&I.iadd(W),I.iushrn(1);for(var T=0,ie=1;!(L.words[0]&ie)&&T<26;++T,ie<<=1);if(T>0)for(L.iushrn(T);T-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);x.cmp(L)>=0?(x.isub(L),I.isub(N)):(L.isub(x),N.isub(I))}var Pe;return x.cmpn(1)===0?Pe=I:Pe=N,Pe.cmpn(0)<0&&Pe.iadd(g),Pe},l.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var x=this.clone(),L=g.clone();x.negative=0,L.negative=0;for(var I=0;x.isEven()&&L.isEven();I++)x.iushrn(1),L.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;L.isEven();)L.iushrn(1);var N=x.cmp(L);if(N<0){var W=x;x=L,L=W}else if(N===0||L.cmpn(1)===0)break;x.isub(L)}while(!0);return L.iushln(I)},l.prototype.invm=function(g){return this.egcd(g).a.umod(g)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(g){return this.words[0]&g},l.prototype.bincn=function(g){v(typeof g=="number");var x=g%26,L=(g-x)/26,I=1<<x;if(this.length<=L)return this._expand(L+1),this.words[L]|=I,this;for(var N=I,W=L;N!==0&&W<this.length;W++){var Y=this.words[W]|0;Y+=N,N=Y>>>26,Y&=67108863,this.words[W]=Y}return N!==0&&(this.words[W]=N,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(g){var x=g<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var L;if(this.length>1)L=1;else{x&&(g=-g),v(g<=67108863,"Number is too big");var I=this.words[0]|0;L=I===g?0:I<g?-1:1}return this.negative!==0?-L|0:L},l.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var x=this.ucmp(g);return this.negative!==0?-x|0:x},l.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var x=0,L=this.length-1;L>=0;L--){var I=this.words[L]|0,N=g.words[L]|0;if(I!==N){I<N?x=-1:I>N&&(x=1);break}}return x},l.prototype.gtn=function(g){return this.cmpn(g)===1},l.prototype.gt=function(g){return this.cmp(g)===1},l.prototype.gten=function(g){return this.cmpn(g)>=0},l.prototype.gte=function(g){return this.cmp(g)>=0},l.prototype.ltn=function(g){return this.cmpn(g)===-1},l.prototype.lt=function(g){return this.cmp(g)===-1},l.prototype.lten=function(g){return this.cmpn(g)<=0},l.prototype.lte=function(g){return this.cmp(g)<=0},l.prototype.eqn=function(g){return this.cmpn(g)===0},l.prototype.eq=function(g){return this.cmp(g)===0},l.red=function(g){return new we(g)},l.prototype.toRed=function(g){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},l.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(g){return this.red=g,this},l.prototype.forceRed=function(g){return v(!this.red,"Already a number in reduction context"),this._forceRed(g)},l.prototype.redAdd=function(g){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},l.prototype.redIAdd=function(g){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},l.prototype.redSub=function(g){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},l.prototype.redISub=function(g){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},l.prototype.redShl=function(g){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},l.prototype.redMul=function(g){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},l.prototype.redIMul=function(g){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},l.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(g){return v(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var re={k256:null,p224:null,p192:null,p25519:null};function V(H,g){this.name=H,this.p=new l(g,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var g=new l(null);return g.words=new Array(Math.ceil(this.n/13)),g},V.prototype.ireduce=function(g){var x=g,L;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),L=x.bitLength();while(L>this.n);var I=L<this.n?-1:x.ucmp(this.p);return I===0?(x.words[0]=0,x.length=1):I>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},V.prototype.split=function(g,x){g.iushrn(this.n,0,x)},V.prototype.imulK=function(g){return g.imul(this.k)};function A(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}C(A,V),A.prototype.split=function(g,x){for(var L=4194303,I=Math.min(g.length,9),N=0;N<I;N++)x.words[N]=g.words[N];if(x.length=I,g.length<=9){g.words[0]=0,g.length=1;return}var W=g.words[9];for(x.words[x.length++]=W&L,N=10;N<g.length;N++){var Y=g.words[N]|0;g.words[N-10]=(Y&L)<<4|W>>>22,W=Y}W>>>=22,g.words[N-10]=W,W===0&&g.length>10?g.length-=10:g.length-=9},A.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var x=0,L=0;L<g.length;L++){var I=g.words[L]|0;x+=I*977,g.words[L]=x&67108863,x=I*64+(x/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function Z(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}C(Z,V);function ve(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}C(ve,V);function le(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}C(le,V),le.prototype.imulK=function(g){for(var x=0,L=0;L<g.length;L++){var I=(g.words[L]|0)*19+x,N=I&67108863;I>>>=26,g.words[L]=N,x=I}return x!==0&&(g.words[g.length++]=x),g},l._prime=function(g){if(re[g])return re[g];var x;if(g==="k256")x=new A;else if(g==="p224")x=new Z;else if(g==="p192")x=new ve;else if(g==="p25519")x=new le;else throw new Error("Unknown prime "+g);return re[g]=x,x};function we(H){if(typeof H=="string"){var g=l._prime(H);this.m=g.p,this.prime=g}else v(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}we.prototype._verify1=function(g){v(g.negative===0,"red works only with positives"),v(g.red,"red works only with red numbers")},we.prototype._verify2=function(g,x){v((g.negative|x.negative)===0,"red works only with positives"),v(g.red&&g.red===x.red,"red works only with red numbers")},we.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(_(g,g.umod(this.m)._forceRed(this)),g)},we.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},we.prototype.add=function(g,x){this._verify2(g,x);var L=g.add(x);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},we.prototype.iadd=function(g,x){this._verify2(g,x);var L=g.iadd(x);return L.cmp(this.m)>=0&&L.isub(this.m),L},we.prototype.sub=function(g,x){this._verify2(g,x);var L=g.sub(x);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},we.prototype.isub=function(g,x){this._verify2(g,x);var L=g.isub(x);return L.cmpn(0)<0&&L.iadd(this.m),L},we.prototype.shl=function(g,x){return this._verify1(g),this.imod(g.ushln(x))},we.prototype.imul=function(g,x){return this._verify2(g,x),this.imod(g.imul(x))},we.prototype.mul=function(g,x){return this._verify2(g,x),this.imod(g.mul(x))},we.prototype.isqr=function(g){return this.imul(g,g.clone())},we.prototype.sqr=function(g){return this.mul(g,g)},we.prototype.sqrt=function(g){if(g.isZero())return g.clone();var x=this.m.andln(3);if(v(x%2===1),x===3){var L=this.m.add(new l(1)).iushrn(2);return this.pow(g,L)}for(var I=this.m.subn(1),N=0;!I.isZero()&&I.andln(1)===0;)N++,I.iushrn(1);v(!I.isZero());var W=new l(1).toRed(this),Y=W.redNeg(),te=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new l(2*T*T).toRed(this);this.pow(T,te).cmp(Y)!==0;)T.redIAdd(Y);for(var ie=this.pow(T,I),Pe=this.pow(g,I.addn(1).iushrn(1)),Fe=this.pow(g,I),$e=N;Fe.cmp(W)!==0;){for(var ce=Fe,q=0;ce.cmp(W)!==0;q++)ce=ce.redSqr();v(q<$e);var ee=this.pow(ie,new l(1).iushln($e-q-1));Pe=Pe.redMul(ee),ie=ee.redSqr(),Fe=Fe.redMul(ie),$e=q}return Pe},we.prototype.invm=function(g){var x=g._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},we.prototype.pow=function(g,x){if(x.isZero())return new l(1).toRed(this);if(x.cmpn(1)===0)return g.clone();var L=4,I=new Array(1<<L);I[0]=new l(1).toRed(this),I[1]=g;for(var N=2;N<I.length;N++)I[N]=this.mul(I[N-1],g);var W=I[0],Y=0,te=0,T=x.bitLength()%26;for(T===0&&(T=26),N=x.length-1;N>=0;N--){for(var ie=x.words[N],Pe=T-1;Pe>=0;Pe--){var Fe=ie>>Pe&1;if(W!==I[0]&&(W=this.sqr(W)),Fe===0&&Y===0){te=0;continue}Y<<=1,Y|=Fe,te++,!(te!==L&&(N!==0||Pe!==0))&&(W=this.mul(W,I[Y]),te=0,Y=0)}T=26}return W},we.prototype.convertTo=function(g){var x=g.umod(this.m);return x===g?x.clone():x},we.prototype.convertFrom=function(g){var x=g.clone();return x.red=null,x},l.mont=function(g){return new fe(g)};function fe(H){we.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C(fe,we),fe.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},fe.prototype.convertFrom=function(g){var x=this.imod(g.mul(this.rinv));return x.red=null,x},fe.prototype.imul=function(g,x){if(g.isZero()||x.isZero())return g.words[0]=0,g.length=1,g;var L=g.imul(x),I=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=L.isub(I).iushrn(this.shift),W=N;return N.cmp(this.m)>=0?W=N.isub(this.m):N.cmpn(0)<0&&(W=N.iadd(this.m)),W._forceRed(this)},fe.prototype.mul=function(g,x){if(g.isZero()||x.isZero())return new l(0)._forceRed(this);var L=g.mul(x),I=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=L.isub(I).iushrn(this.shift),W=N;return N.cmp(this.m)>=0?W=N.isub(this.m):N.cmpn(0)<0&&(W=N.iadd(this.m)),W._forceRed(this)},fe.prototype.invm=function(g){var x=this.imod(g._invmp(this.m).mul(this.r2));return x._forceRed(this)}}(pe,this)},55872:function(pe,s,f){"use strict";const a=f(65415),M=f(30551),v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=o,s.SlowBuffer=G,s.INSPECT_MAX_BYTES=50;const C=2147483647;s.kMaxLength=C,o.TYPED_ARRAY_SUPPORT=l(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const $=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf($,R),$.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function p($){if($>C)throw new RangeError('The value "'+$+'" is invalid for option "size"');const R=new Uint8Array($);return Object.setPrototypeOf(R,o.prototype),R}function o($,R,k){if(typeof $=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P($)}return y($,R,k)}o.poolSize=8192;function y($,R,k){if(typeof $=="string")return m($,R);if(ArrayBuffer.isView($))return S($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Je($,ArrayBuffer)||$&&Je($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je($,SharedArrayBuffer)||$&&Je($.buffer,SharedArrayBuffer)))return O($,R,k);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=$.valueOf&&$.valueOf();if(ae!=null&&ae!==$)return o.from(ae,R,k);const me=z($);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return o.from($[Symbol.toPrimitive]("string"),R,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}o.from=function($,R,k){return y($,R,k)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function b($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function _($,R,k){return b($),$<=0?p($):R!==void 0?typeof k=="string"?p($).fill(R,k):p($).fill(R):p($)}o.alloc=function($,R,k){return _($,R,k)};function P($){return b($),p($<0?0:j($)|0)}o.allocUnsafe=function($){return P($)},o.allocUnsafeSlow=function($){return P($)};function m($,R){if((typeof R!="string"||R==="")&&(R="utf8"),!o.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const k=B($,R)|0;let ae=p(k);const me=ae.write($,R);return me!==k&&(ae=ae.slice(0,me)),ae}function d($){const R=$.length<0?0:j($.length)|0,k=p(R);for(let ae=0;ae<R;ae+=1)k[ae]=$[ae]&255;return k}function S($){if(Je($,Uint8Array)){const R=new Uint8Array($);return O(R.buffer,R.byteOffset,R.byteLength)}return d($)}function O($,R,k){if(R<0||$.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<R+(k||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return R===void 0&&k===void 0?ae=new Uint8Array($):k===void 0?ae=new Uint8Array($,R):ae=new Uint8Array($,R,k),Object.setPrototypeOf(ae,o.prototype),ae}function z($){if(o.isBuffer($)){const R=j($.length)|0,k=p(R);return k.length===0||$.copy(k,0,0,R),k}if($.length!==void 0)return typeof $.length!="number"||Ae($.length)?p(0):d($);if($.type==="Buffer"&&Array.isArray($.data))return d($.data)}function j($){if($>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return $|0}function G($){return+$!=$&&($=0),o.alloc(+$)}o.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==o.prototype},o.compare=function(R,k){if(Je(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),Je(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(R)||!o.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===k)return 0;let ae=R.length,me=k.length;for(let Re=0,Se=Math.min(ae,me);Re<Se;++Re)if(R[Re]!==k[Re]){ae=R[Re],me=k[Re];break}return ae<me?-1:me<ae?1:0},o.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(R,k){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return o.alloc(0);let ae;if(k===void 0)for(k=0,ae=0;ae<R.length;++ae)k+=R[ae].length;const me=o.allocUnsafe(k);let Re=0;for(ae=0;ae<R.length;++ae){let Se=R[ae];if(Je(Se,Uint8Array))Re+Se.length>me.length?(o.isBuffer(Se)||(Se=o.from(Se)),Se.copy(me,Re)):Uint8Array.prototype.set.call(me,Se,Re);else if(o.isBuffer(Se))Se.copy(me,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Se.length}return me};function B($,R){if(o.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Je($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const k=$.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&k===0)return 0;let me=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return ke($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return ot($).length;default:if(me)return ae?-1:ke($).length;R=(""+R).toLowerCase(),me=!0}}o.byteLength=B;function K($,R,k){let ae=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,R>>>=0,k<=R))return"";for($||($="utf8");;)switch($){case"hex":return N(this,R,k);case"utf8":case"utf-8":return H(this,R,k);case"ascii":return L(this,R,k);case"latin1":case"binary":return I(this,R,k);case"base64":return fe(this,R,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,R,k);default:if(ae)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ae=!0}}o.prototype._isBuffer=!0;function F($,R,k){const ae=$[R];$[R]=$[k],$[k]=ae}o.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<R;k+=2)F(this,k,k+1);return this},o.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<R;k+=4)F(this,k,k+3),F(this,k+1,k+2);return this},o.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<R;k+=8)F(this,k,k+7),F(this,k+1,k+6),F(this,k+2,k+5),F(this,k+3,k+4);return this},o.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?H(this,0,R):K.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(R){if(!o.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:o.compare(this,R)===0},o.prototype.inspect=function(){let R="";const k=s.INSPECT_MAX_BYTES;return R=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(R+=" ... "),"<Buffer "+R+">"},v&&(o.prototype[v]=o.prototype.inspect),o.prototype.compare=function(R,k,ae,me,Re){if(Je(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(k===void 0&&(k=0),ae===void 0&&(ae=R?R.length:0),me===void 0&&(me=0),Re===void 0&&(Re=this.length),k<0||ae>R.length||me<0||Re>this.length)throw new RangeError("out of range index");if(me>=Re&&k>=ae)return 0;if(me>=Re)return-1;if(k>=ae)return 1;if(k>>>=0,ae>>>=0,me>>>=0,Re>>>=0,this===R)return 0;let Se=Re-me,We=ae-k;const qe=Math.min(Se,We),et=this.slice(me,Re),st=R.slice(k,ae);for(let at=0;at<qe;++at)if(et[at]!==st[at]){Se=et[at],We=st[at];break}return Se<We?-1:We<Se?1:0};function re($,R,k,ae,me){if($.length===0)return-1;if(typeof k=="string"?(ae=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,Ae(k)&&(k=me?0:$.length-1),k<0&&(k=$.length+k),k>=$.length){if(me)return-1;k=$.length-1}else if(k<0)if(me)k=0;else return-1;if(typeof R=="string"&&(R=o.from(R,ae)),o.isBuffer(R))return R.length===0?-1:V($,R,k,ae,me);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call($,R,k):Uint8Array.prototype.lastIndexOf.call($,R,k):V($,[R],k,ae,me);throw new TypeError("val must be string, number or Buffer")}function V($,R,k,ae,me){let Re=1,Se=$.length,We=R.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if($.length<2||R.length<2)return-1;Re=2,Se/=2,We/=2,k/=2}function qe(st,at){return Re===1?st[at]:st.readUInt16BE(at*Re)}let et;if(me){let st=-1;for(et=k;et<Se;et++)if(qe($,et)===qe(R,st===-1?0:et-st)){if(st===-1&&(st=et),et-st+1===We)return st*Re}else st!==-1&&(et-=et-st),st=-1}else for(k+We>Se&&(k=Se-We),et=k;et>=0;et--){let st=!0;for(let at=0;at<We;at++)if(qe($,et+at)!==qe(R,at)){st=!1;break}if(st)return et}return-1}o.prototype.includes=function(R,k,ae){return this.indexOf(R,k,ae)!==-1},o.prototype.indexOf=function(R,k,ae){return re(this,R,k,ae,!0)},o.prototype.lastIndexOf=function(R,k,ae){return re(this,R,k,ae,!1)};function A($,R,k,ae){k=Number(k)||0;const me=$.length-k;ae?(ae=Number(ae),ae>me&&(ae=me)):ae=me;const Re=R.length;ae>Re/2&&(ae=Re/2);let Se;for(Se=0;Se<ae;++Se){const We=parseInt(R.substr(Se*2,2),16);if(Ae(We))return Se;$[k+Se]=We}return Se}function Z($,R,k,ae){return Ve(ke(R,$.length-k),$,k,ae)}function ve($,R,k,ae){return Ve(Ke(R),$,k,ae)}function le($,R,k,ae){return Ve(ot(R),$,k,ae)}function we($,R,k,ae){return Ve(Te(R,$.length-k),$,k,ae)}o.prototype.write=function(R,k,ae,me){if(k===void 0)me="utf8",ae=this.length,k=0;else if(ae===void 0&&typeof k=="string")me=k,ae=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(ae)?(ae=ae>>>0,me===void 0&&(me="utf8")):(me=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-k;if((ae===void 0||ae>Re)&&(ae=Re),R.length>0&&(ae<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Se=!1;for(;;)switch(me){case"hex":return A(this,R,k,ae);case"utf8":case"utf-8":return Z(this,R,k,ae);case"ascii":case"latin1":case"binary":return ve(this,R,k,ae);case"base64":return le(this,R,k,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,R,k,ae);default:if(Se)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Se=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe($,R,k){return R===0&&k===$.length?a.fromByteArray($):a.fromByteArray($.slice(R,k))}function H($,R,k){k=Math.min($.length,k);const ae=[];let me=R;for(;me<k;){const Re=$[me];let Se=null,We=Re>239?4:Re>223?3:Re>191?2:1;if(me+We<=k){let qe,et,st,at;switch(We){case 1:Re<128&&(Se=Re);break;case 2:qe=$[me+1],(qe&192)===128&&(at=(Re&31)<<6|qe&63,at>127&&(Se=at));break;case 3:qe=$[me+1],et=$[me+2],(qe&192)===128&&(et&192)===128&&(at=(Re&15)<<12|(qe&63)<<6|et&63,at>2047&&(at<55296||at>57343)&&(Se=at));break;case 4:qe=$[me+1],et=$[me+2],st=$[me+3],(qe&192)===128&&(et&192)===128&&(st&192)===128&&(at=(Re&15)<<18|(qe&63)<<12|(et&63)<<6|st&63,at>65535&&at<1114112&&(Se=at))}}Se===null?(Se=65533,We=1):Se>65535&&(Se-=65536,ae.push(Se>>>10&1023|55296),Se=56320|Se&1023),ae.push(Se),me+=We}return x(ae)}const g=4096;function x($){const R=$.length;if(R<=g)return String.fromCharCode.apply(String,$);let k="",ae=0;for(;ae<R;)k+=String.fromCharCode.apply(String,$.slice(ae,ae+=g));return k}function L($,R,k){let ae="";k=Math.min($.length,k);for(let me=R;me<k;++me)ae+=String.fromCharCode($[me]&127);return ae}function I($,R,k){let ae="";k=Math.min($.length,k);for(let me=R;me<k;++me)ae+=String.fromCharCode($[me]);return ae}function N($,R,k){const ae=$.length;(!R||R<0)&&(R=0),(!k||k<0||k>ae)&&(k=ae);let me="";for(let Re=R;Re<k;++Re)me+=Me[$[Re]];return me}function W($,R,k){const ae=$.slice(R,k);let me="";for(let Re=0;Re<ae.length-1;Re+=2)me+=String.fromCharCode(ae[Re]+ae[Re+1]*256);return me}o.prototype.slice=function(R,k){const ae=this.length;R=~~R,k=k===void 0?ae:~~k,R<0?(R+=ae,R<0&&(R=0)):R>ae&&(R=ae),k<0?(k+=ae,k<0&&(k=0)):k>ae&&(k=ae),k<R&&(k=R);const me=this.subarray(R,k);return Object.setPrototypeOf(me,o.prototype),me};function Y($,R,k){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+R>k)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(R,k,ae){R=R>>>0,k=k>>>0,ae||Y(R,k,this.length);let me=this[R],Re=1,Se=0;for(;++Se<k&&(Re*=256);)me+=this[R+Se]*Re;return me},o.prototype.readUintBE=o.prototype.readUIntBE=function(R,k,ae){R=R>>>0,k=k>>>0,ae||Y(R,k,this.length);let me=this[R+--k],Re=1;for(;k>0&&(Re*=256);)me+=this[R+--k]*Re;return me},o.prototype.readUint8=o.prototype.readUInt8=function(R,k){return R=R>>>0,k||Y(R,1,this.length),this[R]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(R,k){return R=R>>>0,k||Y(R,2,this.length),this[R]|this[R+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(R,k){return R=R>>>0,k||Y(R,2,this.length),this[R]<<8|this[R+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},o.prototype.readBigUInt64LE=de(function(R){R=R>>>0,Ee(R,"offset");const k=this[R],ae=this[R+7];(k===void 0||ae===void 0)&&oe(R,this.length-8);const me=k+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,Re=this[++R]+this[++R]*2**8+this[++R]*2**16+ae*2**24;return BigInt(me)+(BigInt(Re)<<BigInt(32))}),o.prototype.readBigUInt64BE=de(function(R){R=R>>>0,Ee(R,"offset");const k=this[R],ae=this[R+7];(k===void 0||ae===void 0)&&oe(R,this.length-8);const me=k*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],Re=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ae;return(BigInt(me)<<BigInt(32))+BigInt(Re)}),o.prototype.readIntLE=function(R,k,ae){R=R>>>0,k=k>>>0,ae||Y(R,k,this.length);let me=this[R],Re=1,Se=0;for(;++Se<k&&(Re*=256);)me+=this[R+Se]*Re;return Re*=128,me>=Re&&(me-=Math.pow(2,8*k)),me},o.prototype.readIntBE=function(R,k,ae){R=R>>>0,k=k>>>0,ae||Y(R,k,this.length);let me=k,Re=1,Se=this[R+--me];for(;me>0&&(Re*=256);)Se+=this[R+--me]*Re;return Re*=128,Se>=Re&&(Se-=Math.pow(2,8*k)),Se},o.prototype.readInt8=function(R,k){return R=R>>>0,k||Y(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},o.prototype.readInt16LE=function(R,k){R=R>>>0,k||Y(R,2,this.length);const ae=this[R]|this[R+1]<<8;return ae&32768?ae|4294901760:ae},o.prototype.readInt16BE=function(R,k){R=R>>>0,k||Y(R,2,this.length);const ae=this[R+1]|this[R]<<8;return ae&32768?ae|4294901760:ae},o.prototype.readInt32LE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},o.prototype.readInt32BE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},o.prototype.readBigInt64LE=de(function(R){R=R>>>0,Ee(R,"offset");const k=this[R],ae=this[R+7];(k===void 0||ae===void 0)&&oe(R,this.length-8);const me=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ae<<24);return(BigInt(me)<<BigInt(32))+BigInt(k+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),o.prototype.readBigInt64BE=de(function(R){R=R>>>0,Ee(R,"offset");const k=this[R],ae=this[R+7];(k===void 0||ae===void 0)&&oe(R,this.length-8);const me=(k<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(me)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ae)}),o.prototype.readFloatLE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),M.read(this,R,!0,23,4)},o.prototype.readFloatBE=function(R,k){return R=R>>>0,k||Y(R,4,this.length),M.read(this,R,!1,23,4)},o.prototype.readDoubleLE=function(R,k){return R=R>>>0,k||Y(R,8,this.length),M.read(this,R,!0,52,8)},o.prototype.readDoubleBE=function(R,k){return R=R>>>0,k||Y(R,8,this.length),M.read(this,R,!1,52,8)};function te($,R,k,ae,me,Re){if(!o.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>me||R<Re)throw new RangeError('"value" argument is out of bounds');if(k+ae>$.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(R,k,ae,me){if(R=+R,k=k>>>0,ae=ae>>>0,!me){const We=Math.pow(2,8*ae)-1;te(this,R,k,ae,We,0)}let Re=1,Se=0;for(this[k]=R&255;++Se<ae&&(Re*=256);)this[k+Se]=R/Re&255;return k+ae},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(R,k,ae,me){if(R=+R,k=k>>>0,ae=ae>>>0,!me){const We=Math.pow(2,8*ae)-1;te(this,R,k,ae,We,0)}let Re=ae-1,Se=1;for(this[k+Re]=R&255;--Re>=0&&(Se*=256);)this[k+Re]=R/Se&255;return k+ae},o.prototype.writeUint8=o.prototype.writeUInt8=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,1,255,0),this[k]=R&255,k+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,2,65535,0),this[k]=R&255,this[k+1]=R>>>8,k+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,2,65535,0),this[k]=R>>>8,this[k+1]=R&255,k+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,4,4294967295,0),this[k+3]=R>>>24,this[k+2]=R>>>16,this[k+1]=R>>>8,this[k]=R&255,k+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,4,4294967295,0),this[k]=R>>>24,this[k+1]=R>>>16,this[k+2]=R>>>8,this[k+3]=R&255,k+4};function T($,R,k,ae,me){ne(R,ae,me,$,k,7);let Re=Number(R&BigInt(4294967295));$[k++]=Re,Re=Re>>8,$[k++]=Re,Re=Re>>8,$[k++]=Re,Re=Re>>8,$[k++]=Re;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return $[k++]=Se,Se=Se>>8,$[k++]=Se,Se=Se>>8,$[k++]=Se,Se=Se>>8,$[k++]=Se,k}function ie($,R,k,ae,me){ne(R,ae,me,$,k,7);let Re=Number(R&BigInt(4294967295));$[k+7]=Re,Re=Re>>8,$[k+6]=Re,Re=Re>>8,$[k+5]=Re,Re=Re>>8,$[k+4]=Re;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return $[k+3]=Se,Se=Se>>8,$[k+2]=Se,Se=Se>>8,$[k+1]=Se,Se=Se>>8,$[k]=Se,k+8}o.prototype.writeBigUInt64LE=de(function(R,k=0){return T(this,R,k,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=de(function(R,k=0){return ie(this,R,k,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(R,k,ae,me){if(R=+R,k=k>>>0,!me){const qe=Math.pow(2,8*ae-1);te(this,R,k,ae,qe-1,-qe)}let Re=0,Se=1,We=0;for(this[k]=R&255;++Re<ae&&(Se*=256);)R<0&&We===0&&this[k+Re-1]!==0&&(We=1),this[k+Re]=(R/Se>>0)-We&255;return k+ae},o.prototype.writeIntBE=function(R,k,ae,me){if(R=+R,k=k>>>0,!me){const qe=Math.pow(2,8*ae-1);te(this,R,k,ae,qe-1,-qe)}let Re=ae-1,Se=1,We=0;for(this[k+Re]=R&255;--Re>=0&&(Se*=256);)R<0&&We===0&&this[k+Re+1]!==0&&(We=1),this[k+Re]=(R/Se>>0)-We&255;return k+ae},o.prototype.writeInt8=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,1,127,-128),R<0&&(R=255+R+1),this[k]=R&255,k+1},o.prototype.writeInt16LE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,2,32767,-32768),this[k]=R&255,this[k+1]=R>>>8,k+2},o.prototype.writeInt16BE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,2,32767,-32768),this[k]=R>>>8,this[k+1]=R&255,k+2},o.prototype.writeInt32LE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,4,2147483647,-2147483648),this[k]=R&255,this[k+1]=R>>>8,this[k+2]=R>>>16,this[k+3]=R>>>24,k+4},o.prototype.writeInt32BE=function(R,k,ae){return R=+R,k=k>>>0,ae||te(this,R,k,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[k]=R>>>24,this[k+1]=R>>>16,this[k+2]=R>>>8,this[k+3]=R&255,k+4},o.prototype.writeBigInt64LE=de(function(R,k=0){return T(this,R,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=de(function(R,k=0){return ie(this,R,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe($,R,k,ae,me,Re){if(k+ae>$.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Fe($,R,k,ae,me){return R=+R,k=k>>>0,me||Pe($,R,k,4,34028234663852886e22,-34028234663852886e22),M.write($,R,k,ae,23,4),k+4}o.prototype.writeFloatLE=function(R,k,ae){return Fe(this,R,k,!0,ae)},o.prototype.writeFloatBE=function(R,k,ae){return Fe(this,R,k,!1,ae)};function $e($,R,k,ae,me){return R=+R,k=k>>>0,me||Pe($,R,k,8,17976931348623157e292,-17976931348623157e292),M.write($,R,k,ae,52,8),k+8}o.prototype.writeDoubleLE=function(R,k,ae){return $e(this,R,k,!0,ae)},o.prototype.writeDoubleBE=function(R,k,ae){return $e(this,R,k,!1,ae)},o.prototype.copy=function(R,k,ae,me){if(!o.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!me&&me!==0&&(me=this.length),k>=R.length&&(k=R.length),k||(k=0),me>0&&me<ae&&(me=ae),me===ae||R.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),R.length-k<me-ae&&(me=R.length-k+ae);const Re=me-ae;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,ae,me):Uint8Array.prototype.set.call(R,this.subarray(ae,me),k),Re},o.prototype.fill=function(R,k,ae,me){if(typeof R=="string"){if(typeof k=="string"?(me=k,k=0,ae=this.length):typeof ae=="string"&&(me=ae,ae=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!o.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(R.length===1){const Se=R.charCodeAt(0);(me==="utf8"&&Se<128||me==="latin1")&&(R=Se)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(k<0||this.length<k||this.length<ae)throw new RangeError("Out of range index");if(ae<=k)return this;k=k>>>0,ae=ae===void 0?this.length:ae>>>0,R||(R=0);let Re;if(typeof R=="number")for(Re=k;Re<ae;++Re)this[Re]=R;else{const Se=o.isBuffer(R)?R:o.from(R,me),We=Se.length;if(We===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(Re=0;Re<ae-k;++Re)this[Re+k]=Se[Re%We]}return this};const ce={};function q($,R,k){ce[$]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function($,R){return`The "${$}" argument must be of type number. Received type ${typeof R}`},TypeError),q("ERR_OUT_OF_RANGE",function($,R,k){let ae=`The value of "${$}" is out of range.`,me=k;return Number.isInteger(k)&&Math.abs(k)>2**32?me=ee(String(k)):typeof k=="bigint"&&(me=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(me=ee(me)),me+="n"),ae+=` It must be ${R}. Received ${me}`,ae},RangeError);function ee($){let R="",k=$.length;const ae=$[0]==="-"?1:0;for(;k>=ae+4;k-=3)R=`_${$.slice(k-3,k)}${R}`;return`${$.slice(0,k)}${R}`}function D($,R,k){Ee(R,"offset"),($[R]===void 0||$[R+k]===void 0)&&oe(R,$.length-(k+1))}function ne($,R,k,ae,me,Re){if($>k||$<R){const Se=typeof R=="bigint"?"n":"";let We;throw Re>3?R===0||R===BigInt(0)?We=`>= 0${Se} and < 2${Se} ** ${(Re+1)*8}${Se}`:We=`>= -(2${Se} ** ${(Re+1)*8-1}${Se}) and < 2 ** ${(Re+1)*8-1}${Se}`:We=`>= ${R}${Se} and <= ${k}${Se}`,new ce.ERR_OUT_OF_RANGE("value",We,$)}D(ae,me,Re)}function Ee($,R){if(typeof $!="number")throw new ce.ERR_INVALID_ARG_TYPE(R,"number",$)}function oe($,R,k){throw Math.floor($)!==$?(Ee($,k),new ce.ERR_OUT_OF_RANGE(k||"offset","an integer",$)):R<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${R}`,$)}const se=/[^+/0-9A-Za-z-_]/g;function Oe($){if($=$.split("=")[0],$=$.trim().replace(se,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function ke($,R){R=R||1/0;let k;const ae=$.length;let me=null;const Re=[];for(let Se=0;Se<ae;++Se){if(k=$.charCodeAt(Se),k>55295&&k<57344){if(!me){if(k>56319){(R-=3)>-1&&Re.push(239,191,189);continue}else if(Se+1===ae){(R-=3)>-1&&Re.push(239,191,189);continue}me=k;continue}if(k<56320){(R-=3)>-1&&Re.push(239,191,189),me=k;continue}k=(me-55296<<10|k-56320)+65536}else me&&(R-=3)>-1&&Re.push(239,191,189);if(me=null,k<128){if((R-=1)<0)break;Re.push(k)}else if(k<2048){if((R-=2)<0)break;Re.push(k>>6|192,k&63|128)}else if(k<65536){if((R-=3)<0)break;Re.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((R-=4)<0)break;Re.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return Re}function Ke($){const R=[];for(let k=0;k<$.length;++k)R.push($.charCodeAt(k)&255);return R}function Te($,R){let k,ae,me;const Re=[];for(let Se=0;Se<$.length&&!((R-=2)<0);++Se)k=$.charCodeAt(Se),ae=k>>8,me=k%256,Re.push(me),Re.push(ae);return Re}function ot($){return a.toByteArray(Oe($))}function Ve($,R,k,ae){let me;for(me=0;me<ae&&!(me+k>=R.length||me>=$.length);++me)R[me+k]=$[me];return me}function Je($,R){return $ instanceof R||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===R.name}function Ae($){return $!==$}const Me=function(){const $="0123456789abcdef",R=new Array(256);for(let k=0;k<16;++k){const ae=k*16;for(let me=0;me<16;++me)R[ae+me]=$[k]+$[me]}return R}();function de($){return typeof BigInt>"u"?ye:$}function ye(){throw new Error("BigInt not supported")}},45924:function(pe,s,f){"use strict";f.r(s),f.d(s,{clsx:function(){return M}});function a(v){var C,l,p="";if(typeof v=="string"||typeof v=="number")p+=v;else if(typeof v=="object")if(Array.isArray(v))for(C=0;C<v.length;C++)v[C]&&(l=a(v[C]))&&(p&&(p+=" "),p+=l);else for(C in v)v[C]&&(p&&(p+=" "),p+=C);return p}function M(){for(var v,C,l=0,p="";l<arguments.length;)(v=arguments[l++])&&(C=a(v))&&(p&&(p+=" "),p+=C);return p}s.default=M},52830:function(pe,s){var f=typeof self<"u"?self:this,a=function(){function v(){this.fetch=!1,this.DOMException=f.DOMException}return v.prototype=f,new v}();(function(v){var C=function(l){var p={searchParams:"URLSearchParams"in v,iterable:"Symbol"in v&&"iterator"in Symbol,blob:"FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in v,arrayBuffer:"ArrayBuffer"in v};function o(fe){return fe&&DataView.prototype.isPrototypeOf(fe)}if(p.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(fe){return fe&&y.indexOf(Object.prototype.toString.call(fe))>-1};function _(fe){if(typeof fe!="string"&&(fe=String(fe)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(fe))throw new TypeError("Invalid character in header field name");return fe.toLowerCase()}function P(fe){return typeof fe!="string"&&(fe=String(fe)),fe}function m(fe){var H={next:function(){var g=fe.shift();return{done:g===void 0,value:g}}};return p.iterable&&(H[Symbol.iterator]=function(){return H}),H}function d(fe){this.map={},fe instanceof d?fe.forEach(function(H,g){this.append(g,H)},this):Array.isArray(fe)?fe.forEach(function(H){this.append(H[0],H[1])},this):fe&&Object.getOwnPropertyNames(fe).forEach(function(H){this.append(H,fe[H])},this)}d.prototype.append=function(fe,H){fe=_(fe),H=P(H);var g=this.map[fe];this.map[fe]=g?g+", "+H:H},d.prototype.delete=function(fe){delete this.map[_(fe)]},d.prototype.get=function(fe){return fe=_(fe),this.has(fe)?this.map[fe]:null},d.prototype.has=function(fe){return this.map.hasOwnProperty(_(fe))},d.prototype.set=function(fe,H){this.map[_(fe)]=P(H)},d.prototype.forEach=function(fe,H){for(var g in this.map)this.map.hasOwnProperty(g)&&fe.call(H,this.map[g],g,this)},d.prototype.keys=function(){var fe=[];return this.forEach(function(H,g){fe.push(g)}),m(fe)},d.prototype.values=function(){var fe=[];return this.forEach(function(H){fe.push(H)}),m(fe)},d.prototype.entries=function(){var fe=[];return this.forEach(function(H,g){fe.push([g,H])}),m(fe)},p.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function S(fe){if(fe.bodyUsed)return Promise.reject(new TypeError("Already read"));fe.bodyUsed=!0}function O(fe){return new Promise(function(H,g){fe.onload=function(){H(fe.result)},fe.onerror=function(){g(fe.error)}})}function z(fe){var H=new FileReader,g=O(H);return H.readAsArrayBuffer(fe),g}function j(fe){var H=new FileReader,g=O(H);return H.readAsText(fe),g}function G(fe){for(var H=new Uint8Array(fe),g=new Array(H.length),x=0;x<H.length;x++)g[x]=String.fromCharCode(H[x]);return g.join("")}function B(fe){if(fe.slice)return fe.slice(0);var H=new Uint8Array(fe.byteLength);return H.set(new Uint8Array(fe)),H.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(fe){this._bodyInit=fe,fe?typeof fe=="string"?this._bodyText=fe:p.blob&&Blob.prototype.isPrototypeOf(fe)?this._bodyBlob=fe:p.formData&&FormData.prototype.isPrototypeOf(fe)?this._bodyFormData=fe:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(fe)?this._bodyText=fe.toString():p.arrayBuffer&&p.blob&&o(fe)?(this._bodyArrayBuffer=B(fe.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(fe)||b(fe))?this._bodyArrayBuffer=B(fe):this._bodyText=fe=Object.prototype.toString.call(fe):this._bodyText="",this.headers.get("content-type")||(typeof fe=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(fe)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var fe=S(this);if(fe)return fe;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(z)}),this.text=function(){var fe=S(this);if(fe)return fe;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(G(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function re(fe){var H=fe.toUpperCase();return F.indexOf(H)>-1?H:fe}function V(fe,H){H=H||{};var g=H.body;if(fe instanceof V){if(fe.bodyUsed)throw new TypeError("Already read");this.url=fe.url,this.credentials=fe.credentials,H.headers||(this.headers=new d(fe.headers)),this.method=fe.method,this.mode=fe.mode,this.signal=fe.signal,!g&&fe._bodyInit!=null&&(g=fe._bodyInit,fe.bodyUsed=!0)}else this.url=String(fe);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new d(H.headers)),this.method=re(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(g)}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})};function A(fe){var H=new FormData;return fe.trim().split("&").forEach(function(g){if(g){var x=g.split("="),L=x.shift().replace(/\+/g," "),I=x.join("=").replace(/\+/g," ");H.append(decodeURIComponent(L),decodeURIComponent(I))}}),H}function Z(fe){var H=new d,g=fe.replace(/\r?\n[\t ]+/g," ");return g.split(/\r?\n/).forEach(function(x){var L=x.split(":"),I=L.shift().trim();if(I){var N=L.join(":").trim();H.append(I,N)}}),H}K.call(V.prototype);function ve(fe,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new d(H.headers),this.url=H.url||"",this._initBody(fe)}K.call(ve.prototype),ve.prototype.clone=function(){return new ve(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},ve.error=function(){var fe=new ve(null,{status:0,statusText:""});return fe.type="error",fe};var le=[301,302,303,307,308];ve.redirect=function(fe,H){if(le.indexOf(H)===-1)throw new RangeError("Invalid status code");return new ve(null,{status:H,headers:{location:fe}})},l.DOMException=v.DOMException;try{new l.DOMException}catch{l.DOMException=function(H,g){this.message=H,this.name=g;var x=Error(H);this.stack=x.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function we(fe,H){return new Promise(function(g,x){var L=new V(fe,H);if(L.signal&&L.signal.aborted)return x(new l.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function N(){I.abort()}I.onload=function(){var W={status:I.status,statusText:I.statusText,headers:Z(I.getAllResponseHeaders()||"")};W.url="responseURL"in I?I.responseURL:W.headers.get("X-Request-URL");var Y="response"in I?I.response:I.responseText;g(new ve(Y,W))},I.onerror=function(){x(new TypeError("Network request failed"))},I.ontimeout=function(){x(new TypeError("Network request failed"))},I.onabort=function(){x(new l.DOMException("Aborted","AbortError"))},I.open(L.method,L.url,!0),L.credentials==="include"?I.withCredentials=!0:L.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&p.blob&&(I.responseType="blob"),L.headers.forEach(function(W,Y){I.setRequestHeader(Y,W)}),L.signal&&(L.signal.addEventListener("abort",N),I.onreadystatechange=function(){I.readyState===4&&L.signal.removeEventListener("abort",N)}),I.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return we.polyfill=!0,v.fetch||(v.fetch=we,v.Headers=d,v.Request=V,v.Response=ve),l.Headers=d,l.Request=V,l.Response=ve,l.fetch=we,Object.defineProperty(l,"__esModule",{value:!0}),l}({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var M=a;s=M.fetch,s.default=M.fetch,s.fetch=M.fetch,s.Headers=M.Headers,s.Request=M.Request,s.Response=M.Response,pe.exports=s},54525:function(pe){"use strict";var s="%[a-f0-9]{2}",f=new RegExp("("+s+")|([^%]+?)","gi"),a=new RegExp("("+s+")+","gi");function M(l,p){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;p=p||1;var o=l.slice(0,p),y=l.slice(p);return Array.prototype.concat.call([],M(o),M(y))}function v(l){try{return decodeURIComponent(l)}catch{for(var p=l.match(f)||[],o=1;o<p.length;o++)l=M(p,o).join(""),p=l.match(f)||[];return l}}function C(l){for(var p={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},o=a.exec(l);o;){try{p[o[0]]=decodeURIComponent(o[0])}catch{var y=v(o[0]);y!==o[0]&&(p[o[0]]=y)}o=a.exec(l)}p["%C2"]="\uFFFD";for(var b=Object.keys(p),_=0;_<b.length;_++){var P=b[_];l=l.replace(new RegExp(P,"g"),p[P])}return l}pe.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return C(l)}}},26705:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(s,"__esModule",{value:!0}),s.BaseBlockTracker=void 0;const M=a(f(62681)),v=1e3,C=(y,b)=>y+b,l=["sync","latest"];class p extends M.default{constructor(b){super(),this._blockResetDuration=b.blockResetDuration||20*v,this._usePastBlocks=b.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(_=>this.once("latest",_))}removeAllListeners(b){return b?super.removeAllListeners(b):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(b){l.includes(b)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return l.map(b=>this.listenerCount(b)).reduce(C)}_shouldUseNewBlock(b){const _=this._currentBlock;if(!_)return!0;const P=o(b),m=o(_);return this._usePastBlocks&&P<m||P>m}_newPotentialLatest(b){this._shouldUseNewBlock(b)&&this._setCurrentBlock(b)}_setCurrentBlock(b){const _=this._currentBlock;this._currentBlock=b,this.emit("latest",b),this.emit("sync",{oldBlock:_,newBlock:b})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}s.BaseBlockTracker=p;function o(y){return Number.parseInt(y,16)}},28626:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(s,"__esModule",{value:!0}),s.PollingBlockTracker=void 0;const M=a(f(88131)),v=a(f(44498)),C=f(26705),l=f(81954),p=(0,l.createModuleLogger)(l.projectLogger,"polling-block-tracker"),o=(0,M.default)(),y=1e3;class b extends C.BaseBlockTracker{constructor(m={}){var d;if(!m.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},m),{blockResetDuration:(d=m.blockResetDuration)!==null&&d!==void 0?d:m.pollingInterval})),this._provider=m.provider,this._pollingInterval=m.pollingInterval||20*y,this._retryTimeout=m.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=m.keepEventLoopActive===void 0?!0:m.keepEventLoopActive,this._setSkipCacheFlag=m.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var m;this._isRunning;)try{await this._updateLatestBlock();const d=_(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await d}catch(d){const S=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(m=d.stack)!==null&&m!==void 0?m:d}`);try{this.emit("error",S)}catch{console.error(S)}const O=_(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await O}}async _updateLatestBlock(){const m=await this._fetchLatestBlock();this._newPotentialLatest(m)}async _fetchLatestBlock(){const m={jsonrpc:"2.0",id:o(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(m.skipCache=!0),p("Making request",m);const d=await(0,v.default)(S=>this._provider.sendAsync(m,S))();if(p("Got response",d),d.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${d.error.message}`);return d.result}}s.PollingBlockTracker=b;function _(P,m){return new Promise(d=>{const S=setTimeout(d,P);S.unref&&m&&S.unref()})}},21990:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.SubscribeBlockTracker=void 0;const M=a(f(88131)),v=f(26705),C=(0,M.default)();class l extends v.BaseBlockTracker{constructor(o={}){if(!o.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(o),this._provider=o.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const o=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(o)}catch(o){this.emit("error",o)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(o){this.emit("error",o)}}_call(o,...y){return new Promise((b,_)=>{this._provider.sendAsync({id:C(),method:o,params:y,jsonrpc:"2.0"},(P,m)=>{P?_(P):b(m.result)})})}_handleSubData(o,y){var b;y.method==="eth_subscription"&&((b=y.params)===null||b===void 0?void 0:b.subscription)===this._subscriptionId&&this._newPotentialLatest(y.params.result.number)}}s.SubscribeBlockTracker=l},39447:function(pe,s,f){"use strict";var a=this&&this.__createBinding||(Object.create?function(v,C,l,p){p===void 0&&(p=l),Object.defineProperty(v,p,{enumerable:!0,get:function(){return C[l]}})}:function(v,C,l,p){p===void 0&&(p=l),v[p]=C[l]}),M=this&&this.__exportStar||function(v,C){for(var l in v)l!=="default"&&!Object.prototype.hasOwnProperty.call(C,l)&&a(C,v,l)};Object.defineProperty(s,"__esModule",{value:!0}),M(f(28626),s),M(f(21990),s)},81954:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createModuleLogger=s.projectLogger=void 0;const a=f(70184);Object.defineProperty(s,"createModuleLogger",{enumerable:!0,get:function(){return a.createModuleLogger}}),s.projectLogger=(0,a.createProjectLogger)("eth-block-tracker")},93849:function(pe,s,f){const a=f(99583);class M extends a{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(C){this.allResults=this.allResults.concat(C),super.addResults(C)}addInitialResults(C){this.allResults=this.allResults.concat(C),super.addInitialResults(C)}getAllResults(){return this.allResults}}pe.exports=M},99583:function(pe,s,f){const a=f(62681).default;class M extends a{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(C){this.updates=this.updates.concat(C),C.forEach(l=>this.emit("update",l))}addInitialResults(C){}getChangesAndClear(){const C=this.updates;return this.updates=[],C}}pe.exports=M},98094:function(pe,s,f){const a=f(99583),M=f(46238),{incrementHexInt:v}=f(16800);class C extends a{constructor({provider:p,params:o}){super(),this.type="block",this.provider=p}async update({oldBlock:p,newBlock:o}){const y=o,b=v(p),P=(await M({provider:this.provider,fromBlock:b,toBlock:y})).map(m=>m.hash);this.addResults(P)}}pe.exports=C},46238:function(pe){pe.exports=s;async function s({provider:l,fromBlock:p,toBlock:o}){p||(p=o);const y=f(p),_=f(o)-y+1,P=Array(_).fill().map((d,S)=>y+S).map(M);let m=await Promise.all(P.map(d=>C(l,"eth_getBlockByNumber",[d,!1])));return m=m.filter(d=>d!==null),m}function f(l){return l==null?l:Number.parseInt(l,16)}function a(l){if(l==null)return l;const p=f(l);return M(p+1)}function M(l){return l==null?l:"0x"+l.toString(16)}function v(l,p){return new Promise((o,y)=>{l.sendAsync(p,(b,_)=>{b?y(b):_.error?y(_.error):_.result?o(_.result):y(new Error("Result was empty"))})})}async function C(l,p,o){for(let y=0;y<3;y++)try{return await v(l,{id:1,jsonrpc:"2.0",method:p,params:o})}catch(b){console.error(`provider.sendAsync failed: ${b.stack||b.message||b}`)}return null}},16800:function(pe){pe.exports={minBlockRef:s,maxBlockRef:f,sortBlockRefs:a,bnToHex:M,blockRefIsNumber:v,hexToInt:C,incrementHexInt:l,intToHex:p,unsafeRandomBytes:o};function s(...b){return a(b)[0]}function f(...b){const _=a(b);return _[_.length-1]}function a(b){return b.sort((_,P)=>_==="latest"||P==="earliest"?1:P==="latest"||_==="earliest"?-1:C(_)-C(P))}function M(b){return"0x"+b.toString(16)}function v(b){return b&&!["earliest","latest","pending"].includes(b)}function C(b){return b==null?b:Number.parseInt(b,16)}function l(b){if(b==null)return b;const _=C(b);return p(_+1)}function p(b){if(b==null)return b;let _=b.toString(16);return _.length%2&&(_="0"+_),"0x"+_}function o(b){let _="0x";for(let P=0;P<b;P++)_+=y(),_+=y();return _}function y(){return Math.floor(Math.random()*16).toString(16)}},45415:function(pe,s,f){const a=f(37811).WU,{createAsyncMiddleware:M,createScaffoldMiddleware:v}=f(19990),C=f(77853),l=f(98094),p=f(31794),{intToHex:o,hexToInt:y}=f(16800);pe.exports=b;function b({blockTracker:S,provider:O}){let z=0,j={};const G=new a,B=m({mutex:G}),K=v({eth_newFilter:B(_(re)),eth_newBlockFilter:B(_(V)),eth_newPendingTransactionFilter:B(_(A)),eth_uninstallFilter:B(P(le)),eth_getFilterChanges:B(P(Z)),eth_getFilterLogs:B(P(ve))}),F=async({oldBlock:x,newBlock:L})=>{if(j.length===0)return;const I=await G.acquire();try{await Promise.all(d(j).map(async N=>{try{await N.update({oldBlock:x,newBlock:L})}catch(W){console.error(W)}}))}catch(N){console.error(N)}I()};return K.newLogFilter=re,K.newBlockFilter=V,K.newPendingTransactionFilter=A,K.uninstallFilter=le,K.getFilterChanges=Z,K.getFilterLogs=ve,K.destroy=()=>{H()},K;async function re(x){const L=new C({provider:O,params:x}),I=await we(L);return L}async function V(){const x=new l({provider:O}),L=await we(x);return x}async function A(){const x=new p({provider:O}),L=await we(x);return x}async function Z(x){const L=y(x),I=j[L];if(!I)throw new Error(`No filter for index "${L}"`);return I.getChangesAndClear()}async function ve(x){const L=y(x),I=j[L];if(!I)throw new Error(`No filter for index "${L}"`);let N=[];return I.type==="log"&&(N=I.getAllResults()),N}async function le(x){const L=y(x),N=!!j[L];return N&&await fe(L),N}async function we(x){const L=d(j).length,I=await S.getLatestBlock();await x.initialize({currentBlock:I}),z++,j[z]=x,x.id=z,x.idHex=o(z);const N=d(j).length;return g({prevFilterCount:L,newFilterCount:N}),z}async function fe(x){const L=d(j).length;delete j[x];const I=d(j).length;g({prevFilterCount:L,newFilterCount:I})}async function H(){const x=d(j).length;j={},g({prevFilterCount:x,newFilterCount:0})}function g({prevFilterCount:x,newFilterCount:L}){if(x===0&&L>0){S.on("sync",F);return}if(x>0&&L===0){S.removeListener("sync",F);return}}}function _(S){return P(async(...O)=>{const z=await S(...O);return o(z.id)})}function P(S){return M(async(O,z)=>{const j=await S.apply(null,O.params);z.result=j})}function m({mutex:S}){return O=>async(z,j,G,B)=>{(await S.acquire())(),O(z,j,G,B)}}function d(S,O){const z=[];for(let j in S)z.push(S[j]);return z}},77853:function(pe,s,f){const a=f(3041),M=f(55723),v=f(93849),{bnToHex:C,hexToInt:l,incrementHexInt:p,minBlockRef:o,blockRefIsNumber:y}=f(16800);class b extends v{constructor({provider:P,params:m}){super(),this.type="log",this.ethQuery=new a(P),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},m),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(d=>d.toLowerCase()))}async initialize({currentBlock:P}){let m=this.params.fromBlock;["latest","pending"].includes(m)&&(m=P),m==="earliest"&&(m="0x0"),this.params.fromBlock=m;const d=o(this.params.toBlock,P),S=Object.assign({},this.params,{toBlock:d}),O=await this._fetchLogs(S);this.addInitialResults(O)}async update({oldBlock:P,newBlock:m}){const d=m;let S;P?S=p(P):S=m;const O=Object.assign({},this.params,{fromBlock:S,toBlock:d}),j=(await this._fetchLogs(O)).filter(G=>this.matchLog(G));this.addResults(j)}async _fetchLogs(P){return await M(d=>this.ethQuery.getLogs(P,d))()}matchLog(P){if(l(this.params.fromBlock)>=l(P.blockNumber)||y(this.params.toBlock)&&l(this.params.toBlock)<=l(P.blockNumber))return!1;const m=P.address&&P.address.toLowerCase();return this.params.address&&m&&!this.params.address.includes(m)?!1:this.params.topics.every((S,O)=>{let z=P.topics[O];if(!z)return!1;z=z.toLowerCase();let j=Array.isArray(S)?S:[S];return j.includes(null)?!0:(j=j.map(K=>K.toLowerCase()),j.includes(z))})}}pe.exports=b},33403:function(pe,s,f){const a=f(62681).default,{createAsyncMiddleware:M,createScaffoldMiddleware:v}=f(19990),C=f(45415),{unsafeRandomBytes:l,incrementHexInt:p}=f(16800),o=f(46238);pe.exports=y;function y({blockTracker:_,provider:P}){const m={},d=C({blockTracker:_,provider:P});let S=!1;const O=new a,z=v({eth_subscribe:M(j),eth_unsubscribe:M(G)});return z.destroy=K,{events:O,middleware:z};async function j(F,re){if(S)throw new Error("SubscriptionManager - attempting to use after destroying");const V=F.params[0],A=l(16);let Z;switch(V){case"newHeads":Z=ve({subId:A});break;case"logs":const we=F.params[1],fe=await d.newLogFilter(we);Z=le({subId:A,filter:fe});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${V}"`)}m[A]=Z,re.result=A;return;function ve({subId:we}){const fe={type:V,destroy:async()=>{_.removeListener("sync",fe.update)},update:async({oldBlock:H,newBlock:g})=>{const x=g,L=p(H);(await o({provider:P,fromBlock:L,toBlock:x})).map(b).filter(W=>W!==null).forEach(W=>{B(we,W)})}};return _.on("sync",fe.update),fe}function le({subId:we,filter:fe}){return fe.on("update",g=>B(we,g)),{type:V,destroy:async()=>await d.uninstallFilter(fe.idHex)}}}async function G(F,re){if(S)throw new Error("SubscriptionManager - attempting to use after destroying");const V=F.params[0],A=m[V];if(!A){re.result=!1;return}delete m[V],await A.destroy(),re.result=!0}function B(F,re){O.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:F,result:re}})}function K(){O.removeAllListeners();for(const F in m)m[F].destroy(),delete m[F];S=!0}}function b(_){return _==null?null:{hash:_.hash,parentHash:_.parentHash,sha3Uncles:_.sha3Uncles,miner:_.miner,stateRoot:_.stateRoot,transactionsRoot:_.transactionsRoot,receiptsRoot:_.receiptsRoot,logsBloom:_.logsBloom,difficulty:_.difficulty,number:_.number,gasLimit:_.gasLimit,gasUsed:_.gasUsed,nonce:_.nonce,mixHash:_.mixHash,timestamp:_.timestamp,extraData:_.extraData}}},31794:function(pe,s,f){const a=f(99583),M=f(46238),{incrementHexInt:v}=f(16800);class C extends a{constructor({provider:p}){super(),this.type="tx",this.provider=p}async update({oldBlock:p}){const o=p,y=v(p),b=await M({provider:this.provider,fromBlock:y,toBlock:o}),_=[];for(const P of b)_.push(...P.transactions);this.addResults(_)}}pe.exports=C},3041:function(pe,s,f){const a=f(26192),M=f(88131)();pe.exports=v;function v(o){const y=this;y.currentProvider=o}v.prototype.getBalance=l(2,"eth_getBalance"),v.prototype.getCode=l(2,"eth_getCode"),v.prototype.getTransactionCount=l(2,"eth_getTransactionCount"),v.prototype.getStorageAt=l(3,"eth_getStorageAt"),v.prototype.call=l(2,"eth_call"),v.prototype.protocolVersion=C("eth_protocolVersion"),v.prototype.syncing=C("eth_syncing"),v.prototype.coinbase=C("eth_coinbase"),v.prototype.mining=C("eth_mining"),v.prototype.hashrate=C("eth_hashrate"),v.prototype.gasPrice=C("eth_gasPrice"),v.prototype.accounts=C("eth_accounts"),v.prototype.blockNumber=C("eth_blockNumber"),v.prototype.getBlockTransactionCountByHash=C("eth_getBlockTransactionCountByHash"),v.prototype.getBlockTransactionCountByNumber=C("eth_getBlockTransactionCountByNumber"),v.prototype.getUncleCountByBlockHash=C("eth_getUncleCountByBlockHash"),v.prototype.getUncleCountByBlockNumber=C("eth_getUncleCountByBlockNumber"),v.prototype.sign=C("eth_sign"),v.prototype.sendTransaction=C("eth_sendTransaction"),v.prototype.sendRawTransaction=C("eth_sendRawTransaction"),v.prototype.estimateGas=C("eth_estimateGas"),v.prototype.getBlockByHash=C("eth_getBlockByHash"),v.prototype.getBlockByNumber=C("eth_getBlockByNumber"),v.prototype.getTransactionByHash=C("eth_getTransactionByHash"),v.prototype.getTransactionByBlockHashAndIndex=C("eth_getTransactionByBlockHashAndIndex"),v.prototype.getTransactionByBlockNumberAndIndex=C("eth_getTransactionByBlockNumberAndIndex"),v.prototype.getTransactionReceipt=C("eth_getTransactionReceipt"),v.prototype.getUncleByBlockHashAndIndex=C("eth_getUncleByBlockHashAndIndex"),v.prototype.getUncleByBlockNumberAndIndex=C("eth_getUncleByBlockNumberAndIndex"),v.prototype.getCompilers=C("eth_getCompilers"),v.prototype.compileLLL=C("eth_compileLLL"),v.prototype.compileSolidity=C("eth_compileSolidity"),v.prototype.compileSerpent=C("eth_compileSerpent"),v.prototype.newFilter=C("eth_newFilter"),v.prototype.newBlockFilter=C("eth_newBlockFilter"),v.prototype.newPendingTransactionFilter=C("eth_newPendingTransactionFilter"),v.prototype.uninstallFilter=C("eth_uninstallFilter"),v.prototype.getFilterChanges=C("eth_getFilterChanges"),v.prototype.getFilterLogs=C("eth_getFilterLogs"),v.prototype.getLogs=C("eth_getLogs"),v.prototype.getWork=C("eth_getWork"),v.prototype.submitWork=C("eth_submitWork"),v.prototype.submitHashrate=C("eth_submitHashrate"),v.prototype.sendAsync=function(o,y){this.currentProvider.sendAsync(p(o),function(_,P){if(!_&&P.error&&(_=new Error("EthQuery - RPC Error - "+P.error.message)),_)return y(_);y(null,P.result)})};function C(o){return function(){const y=this;var b=[].slice.call(arguments),_=b.pop();y.sendAsync({method:o,params:b},_)}}function l(o,y){return function(){const b=this;var _=[].slice.call(arguments),P=_.pop();_.length<o&&_.push("latest"),b.sendAsync({method:y,params:_},P)}}function p(o){return a({id:M(),jsonrpc:"2.0",params:[]},o)}},96092:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.EthereumProviderError=s.EthereumRpcError=void 0;const a=f(61406);class M extends Error{constructor(o,y,b){if(!Number.isInteger(o))throw new Error('"code" must be an integer.');if(!y||typeof y!="string")throw new Error('"message" must be a nonempty string.');super(y),this.code=o,b!==void 0&&(this.data=b)}serialize(){const o={code:this.code,message:this.message};return this.data!==void 0&&(o.data=this.data),this.stack&&(o.stack=this.stack),o}toString(){return a.default(this.serialize(),l,2)}}s.EthereumRpcError=M;class v extends M{constructor(o,y,b){if(!C(o))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(o,y,b)}}s.EthereumProviderError=v;function C(p){return Number.isInteger(p)&&p>=1e3&&p<=4999}function l(p,o){if(o!=="[Circular]")return o}},34406:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.errorValues=s.errorCodes=void 0,s.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},s.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},12166:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ethErrors=void 0;const a=f(96092),M=f(59632),v=f(34406);s.ethErrors={rpc:{parse:o=>C(v.errorCodes.rpc.parse,o),invalidRequest:o=>C(v.errorCodes.rpc.invalidRequest,o),invalidParams:o=>C(v.errorCodes.rpc.invalidParams,o),methodNotFound:o=>C(v.errorCodes.rpc.methodNotFound,o),internal:o=>C(v.errorCodes.rpc.internal,o),server:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:y}=o;if(!Number.isInteger(y)||y>-32005||y<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return C(y,o)},invalidInput:o=>C(v.errorCodes.rpc.invalidInput,o),resourceNotFound:o=>C(v.errorCodes.rpc.resourceNotFound,o),resourceUnavailable:o=>C(v.errorCodes.rpc.resourceUnavailable,o),transactionRejected:o=>C(v.errorCodes.rpc.transactionRejected,o),methodNotSupported:o=>C(v.errorCodes.rpc.methodNotSupported,o),limitExceeded:o=>C(v.errorCodes.rpc.limitExceeded,o)},provider:{userRejectedRequest:o=>l(v.errorCodes.provider.userRejectedRequest,o),unauthorized:o=>l(v.errorCodes.provider.unauthorized,o),unsupportedMethod:o=>l(v.errorCodes.provider.unsupportedMethod,o),disconnected:o=>l(v.errorCodes.provider.disconnected,o),chainDisconnected:o=>l(v.errorCodes.provider.chainDisconnected,o),custom:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:y,message:b,data:_}=o;if(!b||typeof b!="string")throw new Error('"message" must be a nonempty string');return new a.EthereumProviderError(y,b,_)}}};function C(o,y){const[b,_]=p(y);return new a.EthereumRpcError(o,b||M.getMessageFromCode(o),_)}function l(o,y){const[b,_]=p(y);return new a.EthereumProviderError(o,b||M.getMessageFromCode(o),_)}function p(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:y,data:b}=o;if(y&&typeof y!="string")throw new Error("Must specify string message.");return[y||void 0,b]}}return[]}},37076:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getMessageFromCode=s.serializeError=s.EthereumProviderError=s.EthereumRpcError=s.ethErrors=s.errorCodes=void 0;const a=f(96092);Object.defineProperty(s,"EthereumRpcError",{enumerable:!0,get:function(){return a.EthereumRpcError}}),Object.defineProperty(s,"EthereumProviderError",{enumerable:!0,get:function(){return a.EthereumProviderError}});const M=f(59632);Object.defineProperty(s,"serializeError",{enumerable:!0,get:function(){return M.serializeError}}),Object.defineProperty(s,"getMessageFromCode",{enumerable:!0,get:function(){return M.getMessageFromCode}});const v=f(12166);Object.defineProperty(s,"ethErrors",{enumerable:!0,get:function(){return v.ethErrors}});const C=f(34406);Object.defineProperty(s,"errorCodes",{enumerable:!0,get:function(){return C.errorCodes}})},59632:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.serializeError=s.isValidCode=s.getMessageFromCode=s.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const a=f(34406),M=f(96092),v=a.errorCodes.rpc.internal,C="Unspecified error message. This is a bug, please report it.",l={code:v,message:p(v)};s.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function p(m,d=C){if(Number.isInteger(m)){const S=m.toString();if(P(a.errorValues,S))return a.errorValues[S].message;if(b(m))return s.JSON_RPC_SERVER_ERROR_MESSAGE}return d}s.getMessageFromCode=p;function o(m){if(!Number.isInteger(m))return!1;const d=m.toString();return!!(a.errorValues[d]||b(m))}s.isValidCode=o;function y(m,{fallbackError:d=l,shouldIncludeStack:S=!1}={}){var O,z;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof M.EthereumRpcError)return m.serialize();const j={};if(m&&typeof m=="object"&&!Array.isArray(m)&&P(m,"code")&&o(m.code)){const B=m;j.code=B.code,B.message&&typeof B.message=="string"?(j.message=B.message,P(B,"data")&&(j.data=B.data)):(j.message=p(j.code),j.data={originalError:_(m)})}else{j.code=d.code;const B=(O=m)===null||O===void 0?void 0:O.message;j.message=B&&typeof B=="string"?B:d.message,j.data={originalError:_(m)}}const G=(z=m)===null||z===void 0?void 0:z.stack;return S&&m&&G&&typeof G=="string"&&(j.stack=G),j}s.serializeError=y;function b(m){return m>=-32099&&m<=-32e3}function _(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function P(m,d){return Object.prototype.hasOwnProperty.call(m,d)}},72100:function(pe){"use strict";var s=typeof Reflect=="object"?Reflect:null,f=s&&typeof s.apply=="function"?s.apply:function(K,F,re){return Function.prototype.apply.call(K,F,re)},a;s&&typeof s.ownKeys=="function"?a=s.ownKeys:Object.getOwnPropertySymbols?a=function(K){return Object.getOwnPropertyNames(K).concat(Object.getOwnPropertySymbols(K))}:a=function(K){return Object.getOwnPropertyNames(K)};function M(B){console&&console.warn&&console.warn(B)}var v=Number.isNaN||function(K){return K!==K};function C(){C.init.call(this)}pe.exports=C,pe.exports.once=z,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var l=10;function p(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(B){if(typeof B!="number"||B<0||v(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");l=B}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(K){if(typeof K!="number"||K<0||v(K))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+K+".");return this._maxListeners=K,this};function o(B){return B._maxListeners===void 0?C.defaultMaxListeners:B._maxListeners}C.prototype.getMaxListeners=function(){return o(this)},C.prototype.emit=function(K){for(var F=[],re=1;re<arguments.length;re++)F.push(arguments[re]);var V=K==="error",A=this._events;if(A!==void 0)V=V&&A.error===void 0;else if(!V)return!1;if(V){var Z;if(F.length>0&&(Z=F[0]),Z instanceof Error)throw Z;var ve=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw ve.context=Z,ve}var le=A[K];if(le===void 0)return!1;if(typeof le=="function")f(le,this,F);else for(var we=le.length,fe=d(le,we),re=0;re<we;++re)f(fe[re],this,F);return!0};function y(B,K,F,re){var V,A,Z;if(p(F),A=B._events,A===void 0?(A=B._events=Object.create(null),B._eventsCount=0):(A.newListener!==void 0&&(B.emit("newListener",K,F.listener?F.listener:F),A=B._events),Z=A[K]),Z===void 0)Z=A[K]=F,++B._eventsCount;else if(typeof Z=="function"?Z=A[K]=re?[F,Z]:[Z,F]:re?Z.unshift(F):Z.push(F),V=o(B),V>0&&Z.length>V&&!Z.warned){Z.warned=!0;var ve=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(K)+" listeners added. Use emitter.setMaxListeners() to increase limit");ve.name="MaxListenersExceededWarning",ve.emitter=B,ve.type=K,ve.count=Z.length,M(ve)}return B}C.prototype.addListener=function(K,F){return y(this,K,F,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(K,F){return y(this,K,F,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(B,K,F){var re={fired:!1,wrapFn:void 0,target:B,type:K,listener:F},V=b.bind(re);return V.listener=F,re.wrapFn=V,V}C.prototype.once=function(K,F){return p(F),this.on(K,_(this,K,F)),this},C.prototype.prependOnceListener=function(K,F){return p(F),this.prependListener(K,_(this,K,F)),this},C.prototype.removeListener=function(K,F){var re,V,A,Z,ve;if(p(F),V=this._events,V===void 0)return this;if(re=V[K],re===void 0)return this;if(re===F||re.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete V[K],V.removeListener&&this.emit("removeListener",K,re.listener||F));else if(typeof re!="function"){for(A=-1,Z=re.length-1;Z>=0;Z--)if(re[Z]===F||re[Z].listener===F){ve=re[Z].listener,A=Z;break}if(A<0)return this;A===0?re.shift():S(re,A),re.length===1&&(V[K]=re[0]),V.removeListener!==void 0&&this.emit("removeListener",K,ve||F)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(K){var F,re,V;if(re=this._events,re===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[K]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete re[K]),this;if(arguments.length===0){var A=Object.keys(re),Z;for(V=0;V<A.length;++V)Z=A[V],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=re[K],typeof F=="function")this.removeListener(K,F);else if(F!==void 0)for(V=F.length-1;V>=0;V--)this.removeListener(K,F[V]);return this};function P(B,K,F){var re=B._events;if(re===void 0)return[];var V=re[K];return V===void 0?[]:typeof V=="function"?F?[V.listener||V]:[V]:F?O(V):d(V,V.length)}C.prototype.listeners=function(K){return P(this,K,!0)},C.prototype.rawListeners=function(K){return P(this,K,!1)},C.listenerCount=function(B,K){return typeof B.listenerCount=="function"?B.listenerCount(K):m.call(B,K)},C.prototype.listenerCount=m;function m(B){var K=this._events;if(K!==void 0){var F=K[B];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function d(B,K){for(var F=new Array(K),re=0;re<K;++re)F[re]=B[re];return F}function S(B,K){for(;K+1<B.length;K++)B[K]=B[K+1];B.pop()}function O(B){for(var K=new Array(B.length),F=0;F<K.length;++F)K[F]=B[F].listener||B[F];return K}function z(B,K){return new Promise(function(F,re){function V(Z){B.removeListener(K,A),re(Z)}function A(){typeof B.removeListener=="function"&&B.removeListener("error",V),F([].slice.call(arguments))}G(B,K,A,{once:!0}),K!=="error"&&j(B,V,{once:!0})})}function j(B,K,F){typeof B.on=="function"&&G(B,"error",K,F)}function G(B,K,F,re){if(typeof B.on=="function")re.once?B.once(K,F):B.on(K,F);else if(typeof B.addEventListener=="function")B.addEventListener(K,function V(A){re.once&&B.removeEventListener(K,V),F(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}},61406:function(pe){pe.exports=C,C.default=C,C.stable=y,C.stableStringify=y;var s="[...]",f="[Circular]",a=[],M=[];function v(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function C(P,m,d,S){typeof S>"u"&&(S=v()),p(P,"",0,[],void 0,0,S);var O;try{M.length===0?O=JSON.stringify(P,m,d):O=JSON.stringify(P,_(m),d)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a.length!==0;){var z=a.pop();z.length===4?Object.defineProperty(z[0],z[1],z[3]):z[0][z[1]]=z[2]}}return O}function l(P,m,d,S){var O=Object.getOwnPropertyDescriptor(S,d);O.get!==void 0?O.configurable?(Object.defineProperty(S,d,{value:P}),a.push([S,d,m,O])):M.push([m,d,P]):(S[d]=P,a.push([S,d,m]))}function p(P,m,d,S,O,z,j){z+=1;var G;if(typeof P=="object"&&P!==null){for(G=0;G<S.length;G++)if(S[G]===P){l(f,P,m,O);return}if(typeof j.depthLimit<"u"&&z>j.depthLimit){l(s,P,m,O);return}if(typeof j.edgesLimit<"u"&&d+1>j.edgesLimit){l(s,P,m,O);return}if(S.push(P),Array.isArray(P))for(G=0;G<P.length;G++)p(P[G],G,G,S,P,z,j);else{var B=Object.keys(P);for(G=0;G<B.length;G++){var K=B[G];p(P[K],K,G,S,P,z,j)}}S.pop()}}function o(P,m){return P<m?-1:P>m?1:0}function y(P,m,d,S){typeof S>"u"&&(S=v());var O=b(P,"",0,[],void 0,0,S)||P,z;try{M.length===0?z=JSON.stringify(O,m,d):z=JSON.stringify(O,_(m),d)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a.length!==0;){var j=a.pop();j.length===4?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return z}function b(P,m,d,S,O,z,j){z+=1;var G;if(typeof P=="object"&&P!==null){for(G=0;G<S.length;G++)if(S[G]===P){l(f,P,m,O);return}try{if(typeof P.toJSON=="function")return}catch{return}if(typeof j.depthLimit<"u"&&z>j.depthLimit){l(s,P,m,O);return}if(typeof j.edgesLimit<"u"&&d+1>j.edgesLimit){l(s,P,m,O);return}if(S.push(P),Array.isArray(P))for(G=0;G<P.length;G++)b(P[G],G,G,S,P,z,j);else{var B={},K=Object.keys(P).sort(o);for(G=0;G<K.length;G++){var F=K[G];b(P[F],F,G,S,P,z,j),B[F]=P[F]}if(typeof O<"u")a.push([O,m,P]),O[m]=B;else return B}S.pop()}}function _(P){return P=typeof P<"u"?P:function(m,d){return d},function(m,d){if(M.length>0)for(var S=0;S<M.length;S++){var O=M[S];if(O[1]===m&&O[0]===d){d=O[2],M.splice(S,1);break}}return P.call(this,m,d)}}},1469:function(pe){"use strict";pe.exports=function(s,f){for(var a={},M=Object.keys(s),v=Array.isArray(f),C=0;C<M.length;C++){var l=M[C],p=s[l];(v?f.indexOf(l)!==-1:f(l,p,s))&&(a[l]=p)}return a}},30551:function(pe,s){s.read=function(f,a,M,v,C){var l,p,o=C*8-v-1,y=(1<<o)-1,b=y>>1,_=-7,P=M?C-1:0,m=M?-1:1,d=f[a+P];for(P+=m,l=d&(1<<-_)-1,d>>=-_,_+=o;_>0;l=l*256+f[a+P],P+=m,_-=8);for(p=l&(1<<-_)-1,l>>=-_,_+=v;_>0;p=p*256+f[a+P],P+=m,_-=8);if(l===0)l=1-b;else{if(l===y)return p?NaN:(d?-1:1)*(1/0);p=p+Math.pow(2,v),l=l-b}return(d?-1:1)*p*Math.pow(2,l-v)},s.write=function(f,a,M,v,C,l){var p,o,y,b=l*8-C-1,_=(1<<b)-1,P=_>>1,m=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=v?0:l-1,S=v?1:-1,O=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(o=isNaN(a)?1:0,p=_):(p=Math.floor(Math.log(a)/Math.LN2),a*(y=Math.pow(2,-p))<1&&(p--,y*=2),p+P>=1?a+=m/y:a+=m*Math.pow(2,1-P),a*y>=2&&(p++,y/=2),p+P>=_?(o=0,p=_):p+P>=1?(o=(a*y-1)*Math.pow(2,C),p=p+P):(o=a*Math.pow(2,P-1)*Math.pow(2,C),p=0));C>=8;f[M+d]=o&255,d+=S,o/=256,C-=8);for(p=p<<C|o,b+=C;b>0;f[M+d]=p&255,d+=S,p/=256,b-=8);f[M+d-S]|=O*128}},2937:function(pe){typeof Object.create=="function"?pe.exports=function(f,a){a&&(f.super_=a,f.prototype=Object.create(a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:pe.exports=function(f,a){if(a){f.super_=a;var M=function(){};M.prototype=a.prototype,f.prototype=new M,f.prototype.constructor=f}}},51538:function(pe,s,f){pe.exports=self.fetch||(self.fetch=f(9868).default||f(9868))},53:function(pe,s,f){"use strict";var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.JsonRpcEngine=void 0;const M=a(f(34780)),v=f(37076);class C extends M.default{constructor(){super(),this._middleware=[]}push(o){this._middleware.push(o)}handle(o,y){if(y&&typeof y!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(o)?y?this._handleBatch(o,y):this._handleBatch(o):y?this._handle(o,y):this._promiseHandle(o)}asMiddleware(){return async(o,y,b,_)=>{try{const[P,m,d]=await C._runAllMiddleware(o,y,this._middleware);return m?(await C._runReturnHandlers(d),_(P)):b(async S=>{try{await C._runReturnHandlers(d)}catch(O){return S(O)}return S()})}catch(P){return _(P)}}}async _handleBatch(o,y){try{const b=await Promise.all(o.map(this._promiseHandle.bind(this)));return y?y(null,b):b}catch(b){if(y)return y(b);throw b}}_promiseHandle(o){return new Promise(y=>{this._handle(o,(b,_)=>{y(_)})})}async _handle(o,y){if(!o||Array.isArray(o)||typeof o!="object"){const m=new v.EthereumRpcError(v.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof o}`,{request:o});return y(m,{id:void 0,jsonrpc:"2.0",error:m})}if(typeof o.method!="string"){const m=new v.EthereumRpcError(v.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof o.method}`,{request:o});return y(m,{id:o.id,jsonrpc:"2.0",error:m})}const b=Object.assign({},o),_={id:b.id,jsonrpc:b.jsonrpc};let P=null;try{await this._processRequest(b,_)}catch(m){P=m}return P&&(delete _.result,_.error||(_.error=v.serializeError(P))),y(P,_)}async _processRequest(o,y){const[b,_,P]=await C._runAllMiddleware(o,y,this._middleware);if(C._checkForCompletion(o,y,_),await C._runReturnHandlers(P),b)throw b}static async _runAllMiddleware(o,y,b){const _=[];let P=null,m=!1;for(const d of b)if([P,m]=await C._runMiddleware(o,y,d,_),m)break;return[P,m,_.reverse()]}static _runMiddleware(o,y,b,_){return new Promise(P=>{const m=S=>{const O=S||y.error;O&&(y.error=v.serializeError(O)),P([O,!0])},d=S=>{y.error?m(y.error):(S&&(typeof S!="function"&&m(new v.EthereumRpcError(v.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof S}" for request:
${l(o)}`,{request:o})),_.push(S)),P([null,!1]))};try{b(o,y,d,m)}catch(S){m(S)}})}static async _runReturnHandlers(o){for(const y of o)await new Promise((b,_)=>{y(P=>P?_(P):b())})}static _checkForCompletion(o,y,b){if(!("result"in y)&&!("error"in y))throw new v.EthereumRpcError(v.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${l(o)}`,{request:o});if(!b)throw new v.EthereumRpcError(v.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${l(o)}`,{request:o})}}s.JsonRpcEngine=C;function l(p){return JSON.stringify(p,null,2)}},60257:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createAsyncMiddleware=void 0;function f(a){return async(M,v,C,l)=>{let p;const o=new Promise(P=>{p=P});let y=null,b=!1;const _=async()=>{b=!0,C(P=>{y=P,p()}),await o};try{await a(M,v,_),b?(await o,y(null)):l(null)}catch(P){y?y(P):l(P)}}}s.createAsyncMiddleware=f},35379:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createScaffoldMiddleware=void 0;function f(a){return(M,v,C,l)=>{const p=a[M.method];return p===void 0?C():typeof p=="function"?p(M,v,C,l):(v.result=p,l())}}s.createScaffoldMiddleware=f},35329:function(pe,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getUniqueId=void 0;const f=4294967295;let a=Math.floor(Math.random()*f);function M(){return a=(a+1)%f,a}s.getUniqueId=M},39752:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createIdRemapMiddleware=void 0;const a=f(35329);function M(){return(v,C,l,p)=>{const o=v.id,y=a.getUniqueId();v.id=y,C.id=y,l(b=>{v.id=o,C.id=o,b()})}}s.createIdRemapMiddleware=M},19990:function(pe,s,f){"use strict";var a=this&&this.__createBinding||(Object.create?function(v,C,l,p){p===void 0&&(p=l),Object.defineProperty(v,p,{enumerable:!0,get:function(){return C[l]}})}:function(v,C,l,p){p===void 0&&(p=l),v[p]=C[l]}),M=this&&this.__exportStar||function(v,C){for(var l in v)l!=="default"&&!Object.prototype.hasOwnProperty.call(C,l)&&a(C,v,l)};Object.defineProperty(s,"__esModule",{value:!0}),M(f(39752),s),M(f(60257),s),M(f(35379),s),M(f(35329),s),M(f(53),s),M(f(51920),s)},51920:function(pe,s,f){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.mergeMiddleware=void 0;const a=f(53);function M(v){const C=new a.JsonRpcEngine;return v.forEach(l=>C.push(l)),C.asMiddleware()}s.mergeMiddleware=M},88131:function(pe){pe.exports=s;function s(f){f=f||{};var a=f.max||Number.MAX_SAFE_INTEGER,M=typeof f.start<"u"?f.start:Math.floor(Math.random()*a);return function(){return M=M%a,M++}}},41389:function(pe,s,f){pe.exports=f(69136)(f(91e3))},69136:function(pe,s,f){const a=f(40704),M=f(70702);pe.exports=function(v){const C=a(v),l=M(v);return function(p,o){switch(typeof p=="string"?p.toLowerCase():p){case"keccak224":return new C(1152,448,null,224,o);case"keccak256":return new C(1088,512,null,256,o);case"keccak384":return new C(832,768,null,384,o);case"keccak512":return new C(576,1024,null,512,o);case"sha3-224":return new C(1152,448,6,224,o);case"sha3-256":return new C(1088,512,6,256,o);case"sha3-384":return new C(832,768,6,384,o);case"sha3-512":return new C(576,1024,6,512,o);case"shake128":return new l(1344,256,31,o);case"shake256":return new l(1088,512,31,o);default:throw new Error("Invald algorithm: "+p)}}}},40704:function(pe,s,f){var a=f(55872).Buffer;const{Transform:M}=f(62981);pe.exports=v=>class Q0 extends M{constructor(l,p,o,y,b){super(b),this._rate=l,this._capacity=p,this._delimitedSuffix=o,this._hashBitLength=y,this._options=b,this._state=new v,this._state.initialize(l,p),this._finalized=!1}_transform(l,p,o){let y=null;try{this.update(l,p)}catch(b){y=b}o(y)}_flush(l){let p=null;try{this.push(this.digest())}catch(o){p=o}l(p)}update(l,p){if(!a.isBuffer(l)&&typeof l!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return a.isBuffer(l)||(l=a.from(l,p)),this._state.absorb(l),this}digest(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let p=this._state.squeeze(this._hashBitLength/8);return l!==void 0&&(p=p.toString(l)),this._resetState(),p}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const l=new Q0(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(l._state),l._finalized=this._finalized,l}}},70702:function(pe,s,f){var a=f(55872).Buffer;const{Transform:M}=f(62981);pe.exports=v=>class X0 extends M{constructor(l,p,o,y){super(y),this._rate=l,this._capacity=p,this._delimitedSuffix=o,this._options=y,this._state=new v,this._state.initialize(l,p),this._finalized=!1}_transform(l,p,o){let y=null;try{this.update(l,p)}catch(b){y=b}o(y)}_flush(){}_read(l){this.push(this.squeeze(l))}update(l,p){if(!a.isBuffer(l)&&typeof l!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return a.isBuffer(l)||(l=a.from(l,p)),this._state.absorb(l),this}squeeze(l,p){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let o=this._state.squeeze(l);return p!==void 0&&(o=o.toString(p)),o}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const l=new X0(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(l._state),l._finalized=this._finalized,l}}},26921:function(pe,s){const f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];s.p1600=function(a){for(let M=0;M<24;++M){const v=a[0]^a[10]^a[20]^a[30]^a[40],C=a[1]^a[11]^a[21]^a[31]^a[41],l=a[2]^a[12]^a[22]^a[32]^a[42],p=a[3]^a[13]^a[23]^a[33]^a[43],o=a[4]^a[14]^a[24]^a[34]^a[44],y=a[5]^a[15]^a[25]^a[35]^a[45],b=a[6]^a[16]^a[26]^a[36]^a[46],_=a[7]^a[17]^a[27]^a[37]^a[47],P=a[8]^a[18]^a[28]^a[38]^a[48],m=a[9]^a[19]^a[29]^a[39]^a[49];let d=P^(l<<1|p>>>31),S=m^(p<<1|l>>>31);const O=a[0]^d,z=a[1]^S,j=a[10]^d,G=a[11]^S,B=a[20]^d,K=a[21]^S,F=a[30]^d,re=a[31]^S,V=a[40]^d,A=a[41]^S;d=v^(o<<1|y>>>31),S=C^(y<<1|o>>>31);const Z=a[2]^d,ve=a[3]^S,le=a[12]^d,we=a[13]^S,fe=a[22]^d,H=a[23]^S,g=a[32]^d,x=a[33]^S,L=a[42]^d,I=a[43]^S;d=l^(b<<1|_>>>31),S=p^(_<<1|b>>>31);const N=a[4]^d,W=a[5]^S,Y=a[14]^d,te=a[15]^S,T=a[24]^d,ie=a[25]^S,Pe=a[34]^d,Fe=a[35]^S,$e=a[44]^d,ce=a[45]^S;d=o^(P<<1|m>>>31),S=y^(m<<1|P>>>31);const q=a[6]^d,ee=a[7]^S,D=a[16]^d,ne=a[17]^S,Ee=a[26]^d,oe=a[27]^S,se=a[36]^d,Oe=a[37]^S,ke=a[46]^d,Ke=a[47]^S;d=b^(v<<1|C>>>31),S=_^(C<<1|v>>>31);const Te=a[8]^d,ot=a[9]^S,Ve=a[18]^d,Je=a[19]^S,Ae=a[28]^d,Me=a[29]^S,de=a[38]^d,ye=a[39]^S,$=a[48]^d,R=a[49]^S,k=O,ae=z,me=G<<4|j>>>28,Re=j<<4|G>>>28,Se=B<<3|K>>>29,We=K<<3|B>>>29,qe=re<<9|F>>>23,et=F<<9|re>>>23,st=V<<18|A>>>14,at=A<<18|V>>>14,wt=Z<<1|ve>>>31,Ct=ve<<1|Z>>>31,At=we<<12|le>>>20,mt=le<<12|we>>>20,Mt=fe<<10|H>>>22,Vt=H<<10|fe>>>22,vt=x<<13|g>>>19,gt=g<<13|x>>>19,Gt=L<<2|I>>>30,Pt=I<<2|L>>>30,Ot=W<<30|N>>>2,sr=N<<30|W>>>2,Tt=Y<<6|te>>>26,Nt=te<<6|Y>>>26,nr=ie<<11|T>>>21,Rt=T<<11|ie>>>21,Et=Pe<<15|Fe>>>17,ur=Fe<<15|Pe>>>17,Lt=ce<<29|$e>>>3,Bt=$e<<29|ce>>>3,lr=q<<28|ee>>>4,or=ee<<28|q>>>4,Jt=ne<<23|D>>>9,Zn=D<<23|ne>>>9,ar=Ee<<25|oe>>>7,cr=oe<<25|Ee>>>7,Ln=se<<21|Oe>>>11,Bn=Oe<<21|se>>>11,xr=Ke<<24|ke>>>8,dn=ke<<24|Ke>>>8,qr=Te<<27|ot>>>5,Qr=ot<<27|Te>>>5,Xr=Ve<<20|Je>>>12,Fn=Je<<20|Ve>>>12,en=Me<<7|Ae>>>25,pn=Ae<<7|Me>>>25,Sn=de<<8|ye>>>24,Tr=ye<<8|de>>>24,In=$<<14|R>>>18,kn=R<<14|$>>>18;a[0]=k^~At&nr,a[1]=ae^~mt&Rt,a[10]=lr^~Xr&Se,a[11]=or^~Fn&We,a[20]=wt^~Tt&ar,a[21]=Ct^~Nt&cr,a[30]=qr^~me&Mt,a[31]=Qr^~Re&Vt,a[40]=Ot^~Jt&en,a[41]=sr^~Zn&pn,a[2]=At^~nr&Ln,a[3]=mt^~Rt&Bn,a[12]=Xr^~Se&vt,a[13]=Fn^~We&gt,a[22]=Tt^~ar&Sn,a[23]=Nt^~cr&Tr,a[32]=me^~Mt&Et,a[33]=Re^~Vt&ur,a[42]=Jt^~en&qe,a[43]=Zn^~pn&et,a[4]=nr^~Ln&In,a[5]=Rt^~Bn&kn,a[14]=Se^~vt&Lt,a[15]=We^~gt&Bt,a[24]=ar^~Sn&st,a[25]=cr^~Tr&at,a[34]=Mt^~Et&xr,a[35]=Vt^~ur&dn,a[44]=en^~qe&Gt,a[45]=pn^~et&Pt,a[6]=Ln^~In&k,a[7]=Bn^~kn&ae,a[16]=vt^~Lt&lr,a[17]=gt^~Bt&or,a[26]=Sn^~st&wt,a[27]=Tr^~at&Ct,a[36]=Et^~xr&qr,a[37]=ur^~dn&Qr,a[46]=qe^~Gt&Ot,a[47]=et^~Pt&sr,a[8]=In^~k&At,a[9]=kn^~ae&mt,a[18]=Lt^~lr&Xr,a[19]=Bt^~or&Fn,a[28]=st^~wt&Tt,a[29]=at^~Ct&Nt,a[38]=xr^~qr&me,a[39]=dn^~Qr&Re,a[48]=Gt^~Ot&Jt,a[49]=Pt^~sr&Zn,a[0]^=f[M*2],a[1]^=f[M*2+1]}}},91e3:function(pe,s,f){var a=f(55872).Buffer;const M=f(26921);function v(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}v.prototype.initialize=function(C,l){for(let p=0;p<50;++p)this.state[p]=0;this.blockSize=C/8,this.count=0,this.squeezing=!1},v.prototype.absorb=function(C){for(let l=0;l<C.length;++l)this.state[~~(this.count/4)]^=C[l]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(M.p1600(this.state),this.count=0)},v.prototype.absorbLastFewBits=function(C){this.state[~~(this.count/4)]^=C<<8*(this.count%4),C&128&&this.count===this.blockSize-1&&M.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),M.p1600(this.state),this.count=0,this.squeezing=!0},v.prototype.squeeze=function(C){this.squeezing||this.absorbLastFewBits(1);const l=a.alloc(C);for(let p=0;p<C;++p)l[p]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(M.p1600(this.state),this.count=0);return l},v.prototype.copy=function(C){for(let l=0;l<50;++l)C.state[l]=this.state[l];C.blockSize=this.blockSize,C.count=this.count,C.squeezing=this.squeezing},pe.exports=v},5899:function(pe,s,f){pe=f.nmd(pe);var a=200,M="__lodash_hash_undefined__",v=1,C=2,l=9007199254740991,p="[object Arguments]",o="[object Array]",y="[object AsyncFunction]",b="[object Boolean]",_="[object Date]",P="[object Error]",m="[object Function]",d="[object GeneratorFunction]",S="[object Map]",O="[object Number]",z="[object Null]",j="[object Object]",G="[object Promise]",B="[object Proxy]",K="[object RegExp]",F="[object Set]",re="[object String]",V="[object Symbol]",A="[object Undefined]",Z="[object WeakMap]",ve="[object ArrayBuffer]",le="[object DataView]",we="[object Float32Array]",fe="[object Float64Array]",H="[object Int8Array]",g="[object Int16Array]",x="[object Int32Array]",L="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",W="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,ie={};ie[we]=ie[fe]=ie[H]=ie[g]=ie[x]=ie[L]=ie[I]=ie[N]=ie[W]=!0,ie[p]=ie[o]=ie[ve]=ie[b]=ie[le]=ie[_]=ie[P]=ie[m]=ie[S]=ie[O]=ie[j]=ie[K]=ie[F]=ie[re]=ie[Z]=!1;var Pe=typeof f.g=="object"&&f.g&&f.g.Object===Object&&f.g,Fe=typeof self=="object"&&self&&self.Object===Object&&self,$e=Pe||Fe||Function("return this")(),ce=s&&!s.nodeType&&s,q=ce&&!0&&pe&&!pe.nodeType&&pe,ee=q&&q.exports===ce,D=ee&&Pe.process,ne=function(){try{return D&&D.binding&&D.binding("util")}catch{}}(),Ee=ne&&ne.isTypedArray;function oe(xe,je){for(var nt=-1,ft=xe==null?0:xe.length,hr=0,jt=[];++nt<ft;){var pr=xe[nt];je(pr,nt,xe)&&(jt[hr++]=pr)}return jt}function se(xe,je){for(var nt=-1,ft=je.length,hr=xe.length;++nt<ft;)xe[hr+nt]=je[nt];return xe}function Oe(xe,je){for(var nt=-1,ft=xe==null?0:xe.length;++nt<ft;)if(je(xe[nt],nt,xe))return!0;return!1}function ke(xe,je){for(var nt=-1,ft=Array(xe);++nt<xe;)ft[nt]=je(nt);return ft}function Ke(xe){return function(je){return xe(je)}}function Te(xe,je){return xe.has(je)}function ot(xe,je){return xe==null?void 0:xe[je]}function Ve(xe){var je=-1,nt=Array(xe.size);return xe.forEach(function(ft,hr){nt[++je]=[hr,ft]}),nt}function Je(xe,je){return function(nt){return xe(je(nt))}}function Ae(xe){var je=-1,nt=Array(xe.size);return xe.forEach(function(ft){nt[++je]=ft}),nt}var Me=Array.prototype,de=Function.prototype,ye=Object.prototype,$=$e["__core-js_shared__"],R=de.toString,k=ye.hasOwnProperty,ae=function(){var xe=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return xe?"Symbol(src)_1."+xe:""}(),me=ye.toString,Re=RegExp("^"+R.call(k).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=ee?$e.Buffer:void 0,We=$e.Symbol,qe=$e.Uint8Array,et=ye.propertyIsEnumerable,st=Me.splice,at=We?We.toStringTag:void 0,wt=Object.getOwnPropertySymbols,Ct=Se?Se.isBuffer:void 0,At=Je(Object.keys,Object),mt=xi($e,"DataView"),Mt=xi($e,"Map"),Vt=xi($e,"Promise"),vt=xi($e,"Set"),gt=xi($e,"WeakMap"),Gt=xi(Object,"create"),Pt=oi(mt),Ot=oi(Mt),sr=oi(Vt),Tt=oi(vt),Nt=oi(gt),nr=We?We.prototype:void 0,Rt=nr?nr.valueOf:void 0;function Et(xe){var je=-1,nt=xe==null?0:xe.length;for(this.clear();++je<nt;){var ft=xe[je];this.set(ft[0],ft[1])}}function ur(){this.__data__=Gt?Gt(null):{},this.size=0}function Lt(xe){var je=this.has(xe)&&delete this.__data__[xe];return this.size-=je?1:0,je}function Bt(xe){var je=this.__data__;if(Gt){var nt=je[xe];return nt===M?void 0:nt}return k.call(je,xe)?je[xe]:void 0}function lr(xe){var je=this.__data__;return Gt?je[xe]!==void 0:k.call(je,xe)}function or(xe,je){var nt=this.__data__;return this.size+=this.has(xe)?0:1,nt[xe]=Gt&&je===void 0?M:je,this}Et.prototype.clear=ur,Et.prototype.delete=Lt,Et.prototype.get=Bt,Et.prototype.has=lr,Et.prototype.set=or;function Jt(xe){var je=-1,nt=xe==null?0:xe.length;for(this.clear();++je<nt;){var ft=xe[je];this.set(ft[0],ft[1])}}function Zn(){this.__data__=[],this.size=0}function ar(xe){var je=this.__data__,nt=si(je,xe);if(nt<0)return!1;var ft=je.length-1;return nt==ft?je.pop():st.call(je,nt,1),--this.size,!0}function cr(xe){var je=this.__data__,nt=si(je,xe);return nt<0?void 0:je[nt][1]}function Ln(xe){return si(this.__data__,xe)>-1}function Bn(xe,je){var nt=this.__data__,ft=si(nt,xe);return ft<0?(++this.size,nt.push([xe,je])):nt[ft][1]=je,this}Jt.prototype.clear=Zn,Jt.prototype.delete=ar,Jt.prototype.get=cr,Jt.prototype.has=Ln,Jt.prototype.set=Bn;function xr(xe){var je=-1,nt=xe==null?0:xe.length;for(this.clear();++je<nt;){var ft=xe[je];this.set(ft[0],ft[1])}}function dn(){this.size=0,this.__data__={hash:new Et,map:new(Mt||Jt),string:new Et}}function qr(xe){var je=ss(this,xe).delete(xe);return this.size-=je?1:0,je}function Qr(xe){return ss(this,xe).get(xe)}function Xr(xe){return ss(this,xe).has(xe)}function Fn(xe,je){var nt=ss(this,xe),ft=nt.size;return nt.set(xe,je),this.size+=nt.size==ft?0:1,this}xr.prototype.clear=dn,xr.prototype.delete=qr,xr.prototype.get=Qr,xr.prototype.has=Xr,xr.prototype.set=Fn;function en(xe){var je=-1,nt=xe==null?0:xe.length;for(this.__data__=new xr;++je<nt;)this.add(xe[je])}function pn(xe){return this.__data__.set(xe,M),this}function Sn(xe){return this.__data__.has(xe)}en.prototype.add=en.prototype.push=pn,en.prototype.has=Sn;function Tr(xe){var je=this.__data__=new Jt(xe);this.size=je.size}function In(){this.__data__=new Jt,this.size=0}function kn(xe){var je=this.__data__,nt=je.delete(xe);return this.size=je.size,nt}function ji(xe){return this.__data__.get(xe)}function Si(xe){return this.__data__.has(xe)}function Ui(xe,je){var nt=this.__data__;if(nt instanceof Jt){var ft=nt.__data__;if(!Mt||ft.length<a-1)return ft.push([xe,je]),this.size=++nt.size,this;nt=this.__data__=new xr(ft)}return nt.set(xe,je),this.size=nt.size,this}Tr.prototype.clear=In,Tr.prototype.delete=kn,Tr.prototype.get=ji,Tr.prototype.has=Si,Tr.prototype.set=Ui;function Ii(xe,je){var nt=Fs(xe),ft=!nt&&Po(xe),hr=!nt&&!ft&&cs(xe),jt=!nt&&!ft&&!hr&&Lr(xe),pr=nt||ft||hr||jt,Rr=pr?ke(xe.length,String):[],Ar=Rr.length;for(var gr in xe)(je||k.call(xe,gr))&&!(pr&&(gr=="length"||hr&&(gr=="offset"||gr=="parent")||jt&&(gr=="buffer"||gr=="byteLength"||gr=="byteOffset")||Ro(gr,Ar)))&&Rr.push(gr);return Rr}function si(xe,je){for(var nt=xe.length;nt--;)if(Do(xe[nt][0],je))return nt;return-1}function Ja(xe,je,nt){var ft=je(xe);return Fs(xe)?ft:se(ft,nt(xe))}function $i(xe){return xe==null?xe===void 0?A:z:at&&at in Object(xe)?tc(xe):rc(xe)}function Io(xe){return Cr(xe)&&$i(xe)==p}function xo(xe,je,nt,ft,hr){return xe===je?!0:xe==null||je==null||!Cr(xe)&&!Cr(je)?xe!==xe&&je!==je:Za(xe,je,nt,ft,xo,hr)}function Za(xe,je,nt,ft,hr,jt){var pr=Fs(xe),Rr=Fs(je),Ar=pr?o:Yn(xe),gr=Rr?o:Yn(je);Ar=Ar==p?j:Ar,gr=gr==p?j:gr;var Hr=Ar==j,xn=gr==j,Pr=Ar==gr;if(Pr&&cs(xe)){if(!cs(je))return!1;pr=!0,Hr=!1}if(Pr&&!Hr)return jt||(jt=new Tr),pr||Lr(xe)?Co(xe,je,nt,ft,hr,jt):Xa(xe,je,Ar,nt,ft,hr,jt);if(!(nt&v)){var tn=Hr&&k.call(xe,"__wrapped__"),rn=xn&&k.call(je,"__wrapped__");if(tn||rn){var qn=tn?xe.value():xe,pt=rn?je.value():je;return jt||(jt=new Tr),hr(qn,pt,nt,ft,jt)}}return Pr?(jt||(jt=new Tr),ec(xe,je,nt,ft,hr,jt)):!1}function Ya(xe){if(!ks(xe)||os(xe))return!1;var je=us(xe)?Re:te;return je.test(oi(xe))}function qa(xe){return Cr(xe)&&nc(xe.length)&&!!ie[$i(xe)]}function Qa(xe){if(!as(xe))return At(xe);var je=[];for(var nt in Object(xe))k.call(xe,nt)&&nt!="constructor"&&je.push(nt);return je}function Co(xe,je,nt,ft,hr,jt){var pr=nt&v,Rr=xe.length,Ar=je.length;if(Rr!=Ar&&!(pr&&Ar>Rr))return!1;var gr=jt.get(xe);if(gr&&jt.get(je))return gr==je;var Hr=-1,xn=!0,Pr=nt&C?new en:void 0;for(jt.set(xe,je),jt.set(je,xe);++Hr<Rr;){var tn=xe[Hr],rn=je[Hr];if(ft)var qn=pr?ft(rn,tn,Hr,je,xe,jt):ft(tn,rn,Hr,xe,je,jt);if(qn!==void 0){if(qn)continue;xn=!1;break}if(Pr){if(!Oe(je,function(pt,gn){if(!Te(Pr,gn)&&(tn===pt||hr(tn,pt,nt,ft,jt)))return Pr.push(gn)})){xn=!1;break}}else if(!(tn===rn||hr(tn,rn,nt,ft,jt))){xn=!1;break}}return jt.delete(xe),jt.delete(je),xn}function Xa(xe,je,nt,ft,hr,jt,pr){switch(nt){case le:if(xe.byteLength!=je.byteLength||xe.byteOffset!=je.byteOffset)return!1;xe=xe.buffer,je=je.buffer;case ve:return!(xe.byteLength!=je.byteLength||!jt(new qe(xe),new qe(je)));case b:case _:case O:return Do(+xe,+je);case P:return xe.name==je.name&&xe.message==je.message;case K:case re:return xe==je+"";case S:var Rr=Ve;case F:var Ar=ft&v;if(Rr||(Rr=Ae),xe.size!=je.size&&!Ar)return!1;var gr=pr.get(xe);if(gr)return gr==je;ft|=C,pr.set(xe,je);var Hr=Co(Rr(xe),Rr(je),ft,hr,jt,pr);return pr.delete(xe),Hr;case V:if(Rt)return Rt.call(xe)==Rt.call(je)}return!1}function ec(xe,je,nt,ft,hr,jt){var pr=nt&v,Rr=Nr(xe),Ar=Rr.length,gr=Nr(je),Hr=gr.length;if(Ar!=Hr&&!pr)return!1;for(var xn=Ar;xn--;){var Pr=Rr[xn];if(!(pr?Pr in je:k.call(je,Pr)))return!1}var tn=jt.get(xe);if(tn&&jt.get(je))return tn==je;var rn=!0;jt.set(xe,je),jt.set(je,xe);for(var qn=pr;++xn<Ar;){Pr=Rr[xn];var pt=xe[Pr],gn=je[Pr];if(ft)var To=pr?ft(gn,pt,Pr,je,xe,jt):ft(pt,gn,Pr,xe,je,jt);if(!(To===void 0?pt===gn||hr(pt,gn,nt,ft,jt):To)){rn=!1;break}qn||(qn=Pr=="constructor")}if(rn&&!qn){var ai=xe.constructor,js=je.constructor;ai!=js&&"constructor"in xe&&"constructor"in je&&!(typeof ai=="function"&&ai instanceof ai&&typeof js=="function"&&js instanceof js)&&(rn=!1)}return jt.delete(xe),jt.delete(je),rn}function Nr(xe){return Ja(xe,ls,Hi)}function ss(xe,je){var nt=xe.__data__;return Ao(je)?nt[typeof je=="string"?"string":"hash"]:nt.map}function xi(xe,je){var nt=ot(xe,je);return Ya(nt)?nt:void 0}function tc(xe){var je=k.call(xe,at),nt=xe[at];try{xe[at]=void 0;var ft=!0}catch{}var hr=me.call(xe);return ft&&(je?xe[at]=nt:delete xe[at]),hr}var Hi=wt?function(xe){return xe==null?[]:(xe=Object(xe),oe(wt(xe),function(je){return et.call(xe,je)}))}:Oo,Yn=$i;(mt&&Yn(new mt(new ArrayBuffer(1)))!=le||Mt&&Yn(new Mt)!=S||Vt&&Yn(Vt.resolve())!=G||vt&&Yn(new vt)!=F||gt&&Yn(new gt)!=Z)&&(Yn=function(xe){var je=$i(xe),nt=je==j?xe.constructor:void 0,ft=nt?oi(nt):"";if(ft)switch(ft){case Pt:return le;case Ot:return S;case sr:return G;case Tt:return F;case Nt:return Z}return je});function Ro(xe,je){return je=je??l,!!je&&(typeof xe=="number"||T.test(xe))&&xe>-1&&xe%1==0&&xe<je}function Ao(xe){var je=typeof xe;return je=="string"||je=="number"||je=="symbol"||je=="boolean"?xe!=="__proto__":xe===null}function os(xe){return!!ae&&ae in xe}function as(xe){var je=xe&&xe.constructor,nt=typeof je=="function"&&je.prototype||ye;return xe===nt}function rc(xe){return me.call(xe)}function oi(xe){if(xe!=null){try{return R.call(xe)}catch{}try{return xe+""}catch{}}return""}function Do(xe,je){return xe===je||xe!==xe&&je!==je}var Po=Io(function(){return arguments}())?Io:function(xe){return Cr(xe)&&k.call(xe,"callee")&&!et.call(xe,"callee")},Fs=Array.isArray;function yl(xe){return xe!=null&&nc(xe.length)&&!us(xe)}var cs=Ct||ic;function Mo(xe,je){return xo(xe,je)}function us(xe){if(!ks(xe))return!1;var je=$i(xe);return je==m||je==d||je==y||je==B}function nc(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=l}function ks(xe){var je=typeof xe;return xe!=null&&(je=="object"||je=="function")}function Cr(xe){return xe!=null&&typeof xe=="object"}var Lr=Ee?Ke(Ee):qa;function ls(xe){return yl(xe)?Ii(xe):Qa(xe)}function Oo(){return[]}function ic(){return!1}pe.exports=Mo},18968:function(pe,s,f){"use strict";const a=f(79900),M=Symbol("max"),v=Symbol("length"),C=Symbol("lengthCalculator"),l=Symbol("allowStale"),p=Symbol("maxAge"),o=Symbol("dispose"),y=Symbol("noDisposeOnSet"),b=Symbol("lruList"),_=Symbol("cache"),P=Symbol("updateAgeOnGet"),m=()=>1;class d{constructor(F){if(typeof F=="number"&&(F={max:F}),F||(F={}),F.max&&(typeof F.max!="number"||F.max<0))throw new TypeError("max must be a non-negative number");const re=this[M]=F.max||1/0,V=F.length||m;if(this[C]=typeof V!="function"?m:V,this[l]=F.stale||!1,F.maxAge&&typeof F.maxAge!="number")throw new TypeError("maxAge must be a number");this[p]=F.maxAge||0,this[o]=F.dispose,this[y]=F.noDisposeOnSet||!1,this[P]=F.updateAgeOnGet||!1,this.reset()}set max(F){if(typeof F!="number"||F<0)throw new TypeError("max must be a non-negative number");this[M]=F||1/0,z(this)}get max(){return this[M]}set allowStale(F){this[l]=!!F}get allowStale(){return this[l]}set maxAge(F){if(typeof F!="number")throw new TypeError("maxAge must be a non-negative number");this[p]=F,z(this)}get maxAge(){return this[p]}set lengthCalculator(F){typeof F!="function"&&(F=m),F!==this[C]&&(this[C]=F,this[v]=0,this[b].forEach(re=>{re.length=this[C](re.value,re.key),this[v]+=re.length})),z(this)}get lengthCalculator(){return this[C]}get length(){return this[v]}get itemCount(){return this[b].length}rforEach(F,re){re=re||this;for(let V=this[b].tail;V!==null;){const A=V.prev;B(this,F,V,re),V=A}}forEach(F,re){re=re||this;for(let V=this[b].head;V!==null;){const A=V.next;B(this,F,V,re),V=A}}keys(){return this[b].toArray().map(F=>F.key)}values(){return this[b].toArray().map(F=>F.value)}reset(){this[o]&&this[b]&&this[b].length&&this[b].forEach(F=>this[o](F.key,F.value)),this[_]=new Map,this[b]=new a,this[v]=0}dump(){return this[b].map(F=>O(this,F)?!1:{k:F.key,v:F.value,e:F.now+(F.maxAge||0)}).toArray().filter(F=>F)}dumpLru(){return this[b]}set(F,re,V){if(V=V||this[p],V&&typeof V!="number")throw new TypeError("maxAge must be a number");const A=V?Date.now():0,Z=this[C](re,F);if(this[_].has(F)){if(Z>this[M])return j(this,this[_].get(F)),!1;const we=this[_].get(F).value;return this[o]&&(this[y]||this[o](F,we.value)),we.now=A,we.maxAge=V,we.value=re,this[v]+=Z-we.length,we.length=Z,this.get(F),z(this),!0}const ve=new G(F,re,Z,A,V);return ve.length>this[M]?(this[o]&&this[o](F,re),!1):(this[v]+=ve.length,this[b].unshift(ve),this[_].set(F,this[b].head),z(this),!0)}has(F){if(!this[_].has(F))return!1;const re=this[_].get(F).value;return!O(this,re)}get(F){return S(this,F,!0)}peek(F){return S(this,F,!1)}pop(){const F=this[b].tail;return F?(j(this,F),F.value):null}del(F){j(this,this[_].get(F))}load(F){this.reset();const re=Date.now();for(let V=F.length-1;V>=0;V--){const A=F[V],Z=A.e||0;if(Z===0)this.set(A.k,A.v);else{const ve=Z-re;ve>0&&this.set(A.k,A.v,ve)}}}prune(){this[_].forEach((F,re)=>S(this,re,!1))}}const S=(K,F,re)=>{const V=K[_].get(F);if(V){const A=V.value;if(O(K,A)){if(j(K,V),!K[l])return}else re&&(K[P]&&(V.value.now=Date.now()),K[b].unshiftNode(V));return A.value}},O=(K,F)=>{if(!F||!F.maxAge&&!K[p])return!1;const re=Date.now()-F.now;return F.maxAge?re>F.maxAge:K[p]&&re>K[p]},z=K=>{if(K[v]>K[M])for(let F=K[b].tail;K[v]>K[M]&&F!==null;){const re=F.prev;j(K,F),F=re}},j=(K,F)=>{if(F){const re=F.value;K[o]&&K[o](re.key,re.value),K[v]-=re.length,K[_].delete(re.key),K[b].removeNode(F)}};class G{constructor(F,re,V,A,Z){this.key=F,this.value=re,this.length=V,this.now=A,this.maxAge=Z||0}}const B=(K,F,re,V)=>{let A=re.value;O(K,A)&&(j(K,re),K[l]||(A=void 0)),A&&F.call(V,A.value,A.key,K)};pe.exports=d},44498:function(pe){"use strict";const s=(f,a)=>function(){const M=a.promiseModule,v=new Array(arguments.length);for(let C=0;C<arguments.length;C++)v[C]=arguments[C];return new M((C,l)=>{a.errorFirst?v.push(function(p,o){if(a.multiArgs){const y=new Array(arguments.length-1);for(let b=1;b<arguments.length;b++)y[b-1]=arguments[b];p?(y.unshift(p),l(y)):C(y)}else p?l(p):C(o)}):v.push(function(p){if(a.multiArgs){const o=new Array(arguments.length-1);for(let y=0;y<arguments.length;y++)o[y]=arguments[y];C(o)}else C(p)}),f.apply(this,v)})};pe.exports=(f,a)=>{a=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},a);const M=C=>{const l=p=>typeof p=="string"?C===p:p.test(C);return a.include?a.include.some(l):!a.exclude.some(l)};let v;typeof f=="function"?v=function(){return a.excludeMain?f.apply(this,arguments):s(f,a).apply(this,arguments)}:v=Object.create(Object.getPrototypeOf(f));for(const C in f){const l=f[C];v[C]=typeof l=="function"&&M(C)?s(l,a):l}return v}},55723:function(pe){"use strict";const s=(a,M,v,C)=>function(...l){const p=M.promiseModule;return new p((o,y)=>{M.multiArgs?l.push((..._)=>{M.errorFirst?_[0]?y(_):(_.shift(),o(_)):o(_)}):M.errorFirst?l.push((_,P)=>{_?y(_):o(P)}):l.push(o),Reflect.apply(a,this===v?C:this,l)})},f=new WeakMap;pe.exports=(a,M)=>{M={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...M};const v=typeof a;if(!(a!==null&&(v==="object"||v==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${a===null?"null":v}\``);const C=(o,y)=>{let b=f.get(o);if(b||(b={},f.set(o,b)),y in b)return b[y];const _=O=>typeof O=="string"||typeof y=="symbol"?y===O:O.test(y),P=Reflect.getOwnPropertyDescriptor(o,y),m=P===void 0||P.writable||P.configurable,S=(M.include?M.include.some(_):!M.exclude.some(_))&&m;return b[y]=S,S},l=new WeakMap,p=new Proxy(a,{apply(o,y,b){const _=l.get(o);if(_)return Reflect.apply(_,y,b);const P=M.excludeMain?o:s(o,M,p,o);return l.set(o,P),Reflect.apply(P,y,b)},get(o,y){const b=o[y];if(!C(o,y)||b===Function.prototype[y])return b;const _=l.get(b);if(_)return _;if(typeof b=="function"){const P=s(b,M,p,o);return l.set(b,P),P}return b}});return p}},25038:function(pe,s,f){"use strict";f.r(s),f.d(s,{Component:function(){return K},Fragment:function(){return B},cloneElement:function(){return Fe},createContext:function(){return $e},createElement:function(){return z},createRef:function(){return G},h:function(){return z},hydrate:function(){return Pe},isValidElement:function(){return C},options:function(){return M},render:function(){return ie},toChildArray:function(){return we}});var a,M,v,C,l,p,o,y,b,_={},P=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function S(ce,q){for(var ee in q)ce[ee]=q[ee];return ce}function O(ce){var q=ce.parentNode;q&&q.removeChild(ce)}function z(ce,q,ee){var D,ne,Ee,oe={};for(Ee in q)Ee=="key"?D=q[Ee]:Ee=="ref"?ne=q[Ee]:oe[Ee]=q[Ee];if(arguments.length>2&&(oe.children=arguments.length>3?a.call(arguments,2):ee),typeof ce=="function"&&ce.defaultProps!=null)for(Ee in ce.defaultProps)oe[Ee]===void 0&&(oe[Ee]=ce.defaultProps[Ee]);return j(ce,oe,D,ne,null)}function j(ce,q,ee,D,ne){var Ee={type:ce,props:q,key:ee,ref:D,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:ne??++v,__i:-1,__u:0};return ne==null&&M.vnode!=null&&M.vnode(Ee),Ee}function G(){return{current:null}}function B(ce){return ce.children}function K(ce,q){this.props=ce,this.context=q}function F(ce,q){if(q==null)return ce.__?F(ce.__,ce.__i+1):null;for(var ee;q<ce.__k.length;q++)if((ee=ce.__k[q])!=null&&ee.__e!=null)return ee.__e;return typeof ce.type=="function"?F(ce):null}function re(ce){var q,ee;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,q=0;q<ce.__k.length;q++)if((ee=ce.__k[q])!=null&&ee.__e!=null){ce.__e=ce.__c.base=ee.__e;break}return re(ce)}}function V(ce){(!ce.__d&&(ce.__d=!0)&&l.push(ce)&&!A.__r++||p!==M.debounceRendering)&&((p=M.debounceRendering)||o)(A)}function A(){var ce,q,ee,D,ne,Ee,oe,se,Oe;for(l.sort(y);ce=l.shift();)ce.__d&&(q=l.length,D=void 0,Ee=(ne=(ee=ce).__v).__e,se=[],Oe=[],(oe=ee.__P)&&((D=S({},ne)).__v=ne.__v+1,M.vnode&&M.vnode(D),I(oe,D,ne,ee.__n,oe.ownerSVGElement!==void 0,32&ne.__u?[Ee]:null,se,Ee??F(ne),!!(32&ne.__u),Oe),D.__.__k[D.__i]=D,N(se,D,Oe),D.__e!=Ee&&re(D)),l.length>q&&l.sort(y));A.__r=0}function Z(ce,q,ee,D,ne,Ee,oe,se,Oe,ke,Ke){var Te,ot,Ve,Je,Ae,Me=D&&D.__k||P,de=q.length;for(ee.__d=Oe,ve(ee,q,Me),Oe=ee.__d,Te=0;Te<de;Te++)(Ve=ee.__k[Te])!=null&&typeof Ve!="boolean"&&typeof Ve!="function"&&(ot=Ve.__i===-1?_:Me[Ve.__i]||_,Ve.__i=Te,I(ce,Ve,ot,ne,Ee,oe,se,Oe,ke,Ke),Je=Ve.__e,Ve.ref&&ot.ref!=Ve.ref&&(ot.ref&&Y(ot.ref,null,Ve),Ke.push(Ve.ref,Ve.__c||Je,Ve)),Ae==null&&Je!=null&&(Ae=Je),65536&Ve.__u||ot.__k===Ve.__k?Oe=le(Ve,Oe,ce):typeof Ve.type=="function"&&Ve.__d!==void 0?Oe=Ve.__d:Je&&(Oe=Je.nextSibling),Ve.__d=void 0,Ve.__u&=-196609);ee.__d=Oe,ee.__e=Ae}function ve(ce,q,ee){var D,ne,Ee,oe,se,Oe=q.length,ke=ee.length,Ke=ke,Te=0;for(ce.__k=[],D=0;D<Oe;D++)(ne=ce.__k[D]=(ne=q[D])==null||typeof ne=="boolean"||typeof ne=="function"?null:typeof ne=="string"||typeof ne=="number"||typeof ne=="bigint"||ne.constructor==String?j(null,ne,null,null,ne):d(ne)?j(B,{children:ne},null,null,null):ne.constructor===void 0&&ne.__b>0?j(ne.type,ne.props,ne.key,ne.ref?ne.ref:null,ne.__v):ne)!=null?(ne.__=ce,ne.__b=ce.__b+1,se=fe(ne,ee,oe=D+Te,Ke),ne.__i=se,Ee=null,se!==-1&&(Ke--,(Ee=ee[se])&&(Ee.__u|=131072)),Ee==null||Ee.__v===null?(se==-1&&Te--,typeof ne.type!="function"&&(ne.__u|=65536)):se!==oe&&(se===oe+1?Te++:se>oe?Ke>Oe-oe?Te+=se-oe:Te--:Te=se<oe&&se==oe-1?se-oe:0,se!==D+Te&&(ne.__u|=65536))):(Ee=ee[D])&&Ee.key==null&&Ee.__e&&(Ee.__e==ce.__d&&(ce.__d=F(Ee)),te(Ee,Ee,!1),ee[D]=null,Ke--);if(Ke)for(D=0;D<ke;D++)(Ee=ee[D])!=null&&!(131072&Ee.__u)&&(Ee.__e==ce.__d&&(ce.__d=F(Ee)),te(Ee,Ee))}function le(ce,q,ee){var D,ne;if(typeof ce.type=="function"){for(D=ce.__k,ne=0;D&&ne<D.length;ne++)D[ne]&&(D[ne].__=ce,q=le(D[ne],q,ee));return q}return ce.__e!=q&&(ee.insertBefore(ce.__e,q||null),q=ce.__e),q&&q.nextSibling}function we(ce,q){return q=q||[],ce==null||typeof ce=="boolean"||(d(ce)?ce.some(function(ee){we(ee,q)}):q.push(ce)),q}function fe(ce,q,ee,D){var ne=ce.key,Ee=ce.type,oe=ee-1,se=ee+1,Oe=q[ee];if(Oe===null||Oe&&ne==Oe.key&&Ee===Oe.type)return ee;if(D>(Oe!=null&&!(131072&Oe.__u)?1:0))for(;oe>=0||se<q.length;){if(oe>=0){if((Oe=q[oe])&&!(131072&Oe.__u)&&ne==Oe.key&&Ee===Oe.type)return oe;oe--}if(se<q.length){if((Oe=q[se])&&!(131072&Oe.__u)&&ne==Oe.key&&Ee===Oe.type)return se;se++}}return-1}function H(ce,q,ee){q[0]==="-"?ce.setProperty(q,ee??""):ce[q]=ee==null?"":typeof ee!="number"||m.test(q)?ee:ee+"px"}function g(ce,q,ee,D,ne){var Ee;e:if(q==="style")if(typeof ee=="string")ce.style.cssText=ee;else{if(typeof D=="string"&&(ce.style.cssText=D=""),D)for(q in D)ee&&q in ee||H(ce.style,q,"");if(ee)for(q in ee)D&&ee[q]===D[q]||H(ce.style,q,ee[q])}else if(q[0]==="o"&&q[1]==="n")Ee=q!==(q=q.replace(/(PointerCapture)$|Capture$/,"$1")),q=q.toLowerCase()in ce?q.toLowerCase().slice(2):q.slice(2),ce.l||(ce.l={}),ce.l[q+Ee]=ee,ee?D?ee.u=D.u:(ee.u=Date.now(),ce.addEventListener(q,Ee?L:x,Ee)):ce.removeEventListener(q,Ee?L:x,Ee);else{if(ne)q=q.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(q!=="width"&&q!=="height"&&q!=="href"&&q!=="list"&&q!=="form"&&q!=="tabIndex"&&q!=="download"&&q!=="rowSpan"&&q!=="colSpan"&&q!=="role"&&q in ce)try{ce[q]=ee??"";break e}catch{}typeof ee=="function"||(ee==null||ee===!1&&q[4]!=="-"?ce.removeAttribute(q):ce.setAttribute(q,ee))}}function x(ce){var q=this.l[ce.type+!1];if(ce.t){if(ce.t<=q.u)return}else ce.t=Date.now();return q(M.event?M.event(ce):ce)}function L(ce){return this.l[ce.type+!0](M.event?M.event(ce):ce)}function I(ce,q,ee,D,ne,Ee,oe,se,Oe,ke){var Ke,Te,ot,Ve,Je,Ae,Me,de,ye,$,R,k,ae,me,Re,Se=q.type;if(q.constructor!==void 0)return null;128&ee.__u&&(Oe=!!(32&ee.__u),Ee=[se=q.__e=ee.__e]),(Ke=M.__b)&&Ke(q);e:if(typeof Se=="function")try{if(de=q.props,ye=(Ke=Se.contextType)&&D[Ke.__c],$=Ke?ye?ye.props.value:Ke.__:D,ee.__c?Me=(Te=q.__c=ee.__c).__=Te.__E:("prototype"in Se&&Se.prototype.render?q.__c=Te=new Se(de,$):(q.__c=Te=new K(de,$),Te.constructor=Se,Te.render=T),ye&&ye.sub(Te),Te.props=de,Te.state||(Te.state={}),Te.context=$,Te.__n=D,ot=Te.__d=!0,Te.__h=[],Te._sb=[]),Te.__s==null&&(Te.__s=Te.state),Se.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=S({},Te.__s)),S(Te.__s,Se.getDerivedStateFromProps(de,Te.__s))),Ve=Te.props,Je=Te.state,Te.__v=q,ot)Se.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(Se.getDerivedStateFromProps==null&&de!==Ve&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(de,$),!Te.__e&&(Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(de,Te.__s,$)===!1||q.__v===ee.__v)){for(q.__v!==ee.__v&&(Te.props=de,Te.state=Te.__s,Te.__d=!1),q.__e=ee.__e,q.__k=ee.__k,q.__k.forEach(function(We){We&&(We.__=q)}),R=0;R<Te._sb.length;R++)Te.__h.push(Te._sb[R]);Te._sb=[],Te.__h.length&&oe.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(de,Te.__s,$),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(Ve,Je,Ae)})}if(Te.context=$,Te.props=de,Te.__P=ce,Te.__e=!1,k=M.__r,ae=0,"prototype"in Se&&Se.prototype.render){for(Te.state=Te.__s,Te.__d=!1,k&&k(q),Ke=Te.render(Te.props,Te.state,Te.context),me=0;me<Te._sb.length;me++)Te.__h.push(Te._sb[me]);Te._sb=[]}else do Te.__d=!1,k&&k(q),Ke=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s;while(Te.__d&&++ae<25);Te.state=Te.__s,Te.getChildContext!=null&&(D=S(S({},D),Te.getChildContext())),ot||Te.getSnapshotBeforeUpdate==null||(Ae=Te.getSnapshotBeforeUpdate(Ve,Je)),Z(ce,d(Re=Ke!=null&&Ke.type===B&&Ke.key==null?Ke.props.children:Ke)?Re:[Re],q,ee,D,ne,Ee,oe,se,Oe,ke),Te.base=q.__e,q.__u&=-161,Te.__h.length&&oe.push(Te),Me&&(Te.__E=Te.__=null)}catch(We){q.__v=null,Oe||Ee!=null?(q.__e=se,q.__u|=Oe?160:32,Ee[Ee.indexOf(se)]=null):(q.__e=ee.__e,q.__k=ee.__k),M.__e(We,q,ee)}else Ee==null&&q.__v===ee.__v?(q.__k=ee.__k,q.__e=ee.__e):q.__e=W(ee.__e,q,ee,D,ne,Ee,oe,Oe,ke);(Ke=M.diffed)&&Ke(q)}function N(ce,q,ee){q.__d=void 0;for(var D=0;D<ee.length;D++)Y(ee[D],ee[++D],ee[++D]);M.__c&&M.__c(q,ce),ce.some(function(ne){try{ce=ne.__h,ne.__h=[],ce.some(function(Ee){Ee.call(ne)})}catch(Ee){M.__e(Ee,ne.__v)}})}function W(ce,q,ee,D,ne,Ee,oe,se,Oe){var ke,Ke,Te,ot,Ve,Je,Ae,Me=ee.props,de=q.props,ye=q.type;if(ye==="svg"&&(ne=!0),Ee!=null){for(ke=0;ke<Ee.length;ke++)if((Ve=Ee[ke])&&"setAttribute"in Ve==!!ye&&(ye?Ve.localName===ye:Ve.nodeType===3)){ce=Ve,Ee[ke]=null;break}}if(ce==null){if(ye===null)return document.createTextNode(de);ce=ne?document.createElementNS("http://www.w3.org/2000/svg",ye):document.createElement(ye,de.is&&de),Ee=null,se=!1}if(ye===null)Me===de||se&&ce.data===de||(ce.data=de);else{if(Ee=Ee&&a.call(ce.childNodes),Me=ee.props||_,!se&&Ee!=null)for(Me={},ke=0;ke<ce.attributes.length;ke++)Me[(Ve=ce.attributes[ke]).name]=Ve.value;for(ke in Me)Ve=Me[ke],ke=="children"||(ke=="dangerouslySetInnerHTML"?Te=Ve:ke==="key"||ke in de||g(ce,ke,null,Ve,ne));for(ke in de)Ve=de[ke],ke=="children"?ot=Ve:ke=="dangerouslySetInnerHTML"?Ke=Ve:ke=="value"?Je=Ve:ke=="checked"?Ae=Ve:ke==="key"||se&&typeof Ve!="function"||Me[ke]===Ve||g(ce,ke,Ve,Me[ke],ne);if(Ke)se||Te&&(Ke.__html===Te.__html||Ke.__html===ce.innerHTML)||(ce.innerHTML=Ke.__html),q.__k=[];else if(Te&&(ce.innerHTML=""),Z(ce,d(ot)?ot:[ot],q,ee,D,ne&&ye!=="foreignObject",Ee,oe,Ee?Ee[0]:ee.__k&&F(ee,0),se,Oe),Ee!=null)for(ke=Ee.length;ke--;)Ee[ke]!=null&&O(Ee[ke]);se||(ke="value",Je!==void 0&&(Je!==ce[ke]||ye==="progress"&&!Je||ye==="option"&&Je!==Me[ke])&&g(ce,ke,Je,Me[ke],!1),ke="checked",Ae!==void 0&&Ae!==ce[ke]&&g(ce,ke,Ae,Me[ke],!1))}return ce}function Y(ce,q,ee){try{typeof ce=="function"?ce(q):ce.current=q}catch(D){M.__e(D,ee)}}function te(ce,q,ee){var D,ne;if(M.unmount&&M.unmount(ce),(D=ce.ref)&&(D.current&&D.current!==ce.__e||Y(D,null,q)),(D=ce.__c)!=null){if(D.componentWillUnmount)try{D.componentWillUnmount()}catch(Ee){M.__e(Ee,q)}D.base=D.__P=null,ce.__c=void 0}if(D=ce.__k)for(ne=0;ne<D.length;ne++)D[ne]&&te(D[ne],q,ee||typeof ce.type!="function");ee||ce.__e==null||O(ce.__e),ce.__=ce.__e=ce.__d=void 0}function T(ce,q,ee){return this.constructor(ce,ee)}function ie(ce,q,ee){var D,ne,Ee,oe;M.__&&M.__(ce,q),ne=(D=typeof ee=="function")?null:ee&&ee.__k||q.__k,Ee=[],oe=[],I(q,ce=(!D&&ee||q).__k=z(B,null,[ce]),ne||_,_,q.ownerSVGElement!==void 0,!D&&ee?[ee]:ne?null:q.firstChild?a.call(q.childNodes):null,Ee,!D&&ee?ee:ne?ne.__e:q.firstChild,D,oe),N(Ee,ce,oe)}function Pe(ce,q){ie(ce,q,Pe)}function Fe(ce,q,ee){var D,ne,Ee,oe,se=S({},ce.props);for(Ee in ce.type&&ce.type.defaultProps&&(oe=ce.type.defaultProps),q)Ee=="key"?D=q[Ee]:Ee=="ref"?ne=q[Ee]:se[Ee]=q[Ee]===void 0&&oe!==void 0?oe[Ee]:q[Ee];return arguments.length>2&&(se.children=arguments.length>3?a.call(arguments,2):ee),j(ce.type,se,D||ce.key,ne||ce.ref,null)}function $e(ce,q){var ee={__c:q="__cC"+b++,__:ce,Consumer:function(D,ne){return D.children(ne)},Provider:function(D){var ne,Ee;return this.getChildContext||(ne=[],(Ee={})[q]=this,this.getChildContext=function(){return Ee},this.shouldComponentUpdate=function(oe){this.props.value!==oe.value&&ne.some(function(se){se.__e=!0,V(se)})},this.sub=function(oe){ne.push(oe);var se=oe.componentWillUnmount;oe.componentWillUnmount=function(){ne.splice(ne.indexOf(oe),1),se&&se.call(oe)}}),D.children}};return ee.Provider.__=ee.Consumer.contextType=ee}a=P.slice,M={__e:function(ce,q,ee,D){for(var ne,Ee,oe;q=q.__;)if((ne=q.__c)&&!ne.__)try{if((Ee=ne.constructor)&&Ee.getDerivedStateFromError!=null&&(ne.setState(Ee.getDerivedStateFromError(ce)),oe=ne.__d),ne.componentDidCatch!=null&&(ne.componentDidCatch(ce,D||{}),oe=ne.__d),oe)return ne.__E=ne}catch(se){ce=se}throw ce}},v=0,C=function(ce){return ce!=null&&ce.constructor==null},K.prototype.setState=function(ce,q){var ee;ee=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof ce=="function"&&(ce=ce(S({},ee),this.props)),ce&&S(ee,ce),ce!=null&&this.__v&&(q&&this._sb.push(q),V(this))},K.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),V(this))},K.prototype.render=B,l=[],o=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y=function(ce,q){return ce.__v.__b-q.__v.__b},A.__r=0,b=0},17601:function(pe,s,f){"use strict";f.r(s),f.d(s,{useCallback:function(){return re},useContext:function(){return V},useDebugValue:function(){return A},useEffect:function(){return j},useErrorBoundary:function(){return Z},useId:function(){return ve},useImperativeHandle:function(){return K},useLayoutEffect:function(){return G},useMemo:function(){return F},useReducer:function(){return z},useRef:function(){return B},useState:function(){return O}});var a=f(25038),M,v,C,l,p=0,o=[],y=[],b=a.options.__b,_=a.options.__r,P=a.options.diffed,m=a.options.__c,d=a.options.unmount;function S(I,N){a.options.__h&&a.options.__h(v,I,p||N),p=0;var W=v.__H||(v.__H={__:[],__h:[]});return I>=W.__.length&&W.__.push({__V:y}),W.__[I]}function O(I){return p=1,z(L,I)}function z(I,N,W){var Y=S(M++,2);if(Y.t=I,!Y.__c&&(Y.__=[W?W(N):L(void 0,N),function(Pe){var Fe=Y.__N?Y.__N[0]:Y.__[0],$e=Y.t(Fe,Pe);Fe!==$e&&(Y.__N=[$e,Y.__[1]],Y.__c.setState({}))}],Y.__c=v,!v.u)){var te=function(Pe,Fe,$e){if(!Y.__c.__H)return!0;var ce=Y.__c.__H.__.filter(function(ee){return ee.__c});if(ce.every(function(ee){return!ee.__N}))return!T||T.call(this,Pe,Fe,$e);var q=!1;return ce.forEach(function(ee){if(ee.__N){var D=ee.__[0];ee.__=ee.__N,ee.__N=void 0,D!==ee.__[0]&&(q=!0)}}),!(!q&&Y.__c.props===Pe)&&(!T||T.call(this,Pe,Fe,$e))};v.u=!0;var T=v.shouldComponentUpdate,ie=v.componentWillUpdate;v.componentWillUpdate=function(Pe,Fe,$e){if(this.__e){var ce=T;T=void 0,te(Pe,Fe,$e),T=ce}ie&&ie.call(this,Pe,Fe,$e)},v.shouldComponentUpdate=te}return Y.__N||Y.__}function j(I,N){var W=S(M++,3);!a.options.__s&&x(W.__H,N)&&(W.__=I,W.i=N,v.__H.__h.push(W))}function G(I,N){var W=S(M++,4);!a.options.__s&&x(W.__H,N)&&(W.__=I,W.i=N,v.__h.push(W))}function B(I){return p=5,F(function(){return{current:I}},[])}function K(I,N,W){p=6,G(function(){return typeof I=="function"?(I(N()),function(){return I(null)}):I?(I.current=N(),function(){return I.current=null}):void 0},W==null?W:W.concat(I))}function F(I,N){var W=S(M++,7);return x(W.__H,N)?(W.__V=I(),W.i=N,W.__h=I,W.__V):W.__}function re(I,N){return p=8,F(function(){return I},N)}function V(I){var N=v.context[I.__c],W=S(M++,9);return W.c=I,N?(W.__==null&&(W.__=!0,N.sub(v)),N.props.value):I.__}function A(I,N){a.options.useDebugValue&&a.options.useDebugValue(N?N(I):I)}function Z(I){var N=S(M++,10),W=O();return N.__=I,v.componentDidCatch||(v.componentDidCatch=function(Y,te){N.__&&N.__(Y,te),W[1](Y)}),[W[0],function(){W[1](void 0)}]}function ve(){var I=S(M++,11);if(!I.__){for(var N=v.__v;N!==null&&!N.__m&&N.__!==null;)N=N.__;var W=N.__m||(N.__m=[0,0]);I.__="P"+W[0]+"-"+W[1]++}return I.__}function le(){for(var I;I=o.shift();)if(I.__P&&I.__H)try{I.__H.__h.forEach(H),I.__H.__h.forEach(g),I.__H.__h=[]}catch(N){I.__H.__h=[],a.options.__e(N,I.__v)}}a.options.__b=function(I){v=null,b&&b(I)},a.options.__r=function(I){_&&_(I),M=0;var N=(v=I.__c).__H;N&&(C===v?(N.__h=[],v.__h=[],N.__.forEach(function(W){W.__N&&(W.__=W.__N),W.__V=y,W.__N=W.i=void 0})):(N.__h.forEach(H),N.__h.forEach(g),N.__h=[],M=0)),C=v},a.options.diffed=function(I){P&&P(I);var N=I.__c;N&&N.__H&&(N.__H.__h.length&&(o.push(N)!==1&&l===a.options.requestAnimationFrame||((l=a.options.requestAnimationFrame)||fe)(le)),N.__H.__.forEach(function(W){W.i&&(W.__H=W.i),W.__V!==y&&(W.__=W.__V),W.i=void 0,W.__V=y})),C=v=null},a.options.__c=function(I,N){N.some(function(W){try{W.__h.forEach(H),W.__h=W.__h.filter(function(Y){return!Y.__||g(Y)})}catch(Y){N.some(function(te){te.__h&&(te.__h=[])}),N=[],a.options.__e(Y,W.__v)}}),m&&m(I,N)},a.options.unmount=function(I){d&&d(I);var N,W=I.__c;W&&W.__H&&(W.__H.__.forEach(function(Y){try{H(Y)}catch(te){N=te}}),W.__H=void 0,N&&a.options.__e(N,W.__v))};var we=typeof requestAnimationFrame=="function";function fe(I){var N,W=function(){clearTimeout(Y),we&&cancelAnimationFrame(N),setTimeout(I)},Y=setTimeout(W,100);we&&(N=requestAnimationFrame(W))}function H(I){var N=v,W=I.__c;typeof W=="function"&&(I.__c=void 0,W()),v=N}function g(I){var N=v;I.__c=I.__(),v=N}function x(I,N){return!I||I.length!==N.length||N.some(function(W,Y){return W!==I[Y]})}function L(I,N){return typeof N=="function"?N(I):N}},57828:function(pe){"use strict";function s(a){try{return JSON.stringify(a)}catch{return'"[Circular]"'}}pe.exports=f;function f(a,M,v){var C=v&&v.stringify||s,l=1;if(typeof a=="object"&&a!==null){var p=M.length+l;if(p===1)return a;var o=new Array(p);o[0]=C(a);for(var y=1;y<p;y++)o[y]=C(M[y]);return o.join(" ")}if(typeof a!="string")return a;var b=M.length;if(b===0)return a;for(var _="",P=1-l,m=-1,d=a&&a.length||0,S=0;S<d;){if(a.charCodeAt(S)===37&&S+1<d){switch(m=m>-1?m:0,a.charCodeAt(S+1)){case 100:case 102:if(P>=b||M[P]==null)break;m<S&&(_+=a.slice(m,S)),_+=Number(M[P]),m=S+2,S++;break;case 105:if(P>=b||M[P]==null)break;m<S&&(_+=a.slice(m,S)),_+=Math.floor(Number(M[P])),m=S+2,S++;break;case 79:case 111:case 106:if(P>=b||M[P]===void 0)break;m<S&&(_+=a.slice(m,S));var O=typeof M[P];if(O==="string"){_+="'"+M[P]+"'",m=S+2,S++;break}if(O==="function"){_+=M[P].name||"<anonymous>",m=S+2,S++;break}_+=C(M[P]),m=S+2,S++;break;case 115:if(P>=b)break;m<S&&(_+=a.slice(m,S)),_+=String(M[P]),m=S+2,S++;break;case 37:m<S&&(_+=a.slice(m,S)),_+="%",m=S+2,S++,P--;break}++P}++S}return m===-1?a:(m<d&&(_+=a.slice(m)),_)}},60981:function(pe){"use strict";function s(p,o){p.prototype=Object.create(o.prototype),p.prototype.constructor=p,p.__proto__=o}var f={};function a(p,o,y){y||(y=Error);function b(P,m,d){return typeof o=="string"?o:o(P,m,d)}var _=function(P){s(m,P);function m(d,S,O){return P.call(this,b(d,S,O))||this}return m}(y);_.prototype.name=y.name,_.prototype.code=p,f[p]=_}function M(p,o){if(Array.isArray(p)){var y=p.length;return p=p.map(function(b){return String(b)}),y>2?"one of ".concat(o," ").concat(p.slice(0,y-1).join(", "),", or ")+p[y-1]:y===2?"one of ".concat(o," ").concat(p[0]," or ").concat(p[1]):"of ".concat(o," ").concat(p[0])}else return"of ".concat(o," ").concat(String(p))}function v(p,o,y){return p.substr(!y||y<0?0:+y,o.length)===o}function C(p,o,y){return(y===void 0||y>p.length)&&(y=p.length),p.substring(y-o.length,y)===o}function l(p,o,y){return typeof y!="number"&&(y=0),y+o.length>p.length?!1:p.indexOf(o,y)!==-1}a("ERR_INVALID_OPT_VALUE",function(p,o){return'The value "'+o+'" is invalid for option "'+p+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(p,o,y){var b;typeof o=="string"&&v(o,"not ")?(b="must not be",o=o.replace(/^not /,"")):b="must be";var _;if(C(p," argument"))_="The ".concat(p," ").concat(b," ").concat(M(o,"type"));else{var P=l(p,".")?"property":"argument";_='The "'.concat(p,'" ').concat(P," ").concat(b," ").concat(M(o,"type"))}return _+=". Received type ".concat(typeof y),_},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),pe.exports.q=f},93337:function(pe,s,f){"use strict";var a=f(14224),M=Object.keys||function(P){var m=[];for(var d in P)m.push(d);return m};pe.exports=y;var v=f(25294),C=f(86481);f(2937)(y,v);for(var l=M(C.prototype),p=0;p<l.length;p++){var o=l[p];y.prototype[o]||(y.prototype[o]=C.prototype[o])}function y(P){if(!(this instanceof y))return new y(P);v.call(this,P),C.call(this,P),this.allowHalfOpen=!0,P&&(P.readable===!1&&(this.readable=!1),P.writable===!1&&(this.writable=!1),P.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",b)))}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function b(){this._writableState.ended||a.nextTick(_,this)}function _(P){P.end()}Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}})},68797:function(pe,s,f){"use strict";pe.exports=M;var a=f(41683);f(2937)(M,a);function M(v){if(!(this instanceof M))return new M(v);a.call(this,v)}M.prototype._transform=function(v,C,l){l(null,v)}},25294:function(pe,s,f){"use strict";var a=f(14224);pe.exports=we;var M;we.ReadableState=le;var v=f(72100).EventEmitter,C=function(se,Oe){return se.listeners(Oe).length},l=f(26922),p=f(55872).Buffer,o=(typeof f.g<"u"?f.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(oe){return p.from(oe)}function b(oe){return p.isBuffer(oe)||oe instanceof o}var _=f(82880),P;_&&_.debuglog?P=_.debuglog("stream"):P=function(){};var m=f(96292),d=f(33591),S=f(16084),O=S.getHighWaterMark,z=f(60981).q,j=z.ERR_INVALID_ARG_TYPE,G=z.ERR_STREAM_PUSH_AFTER_EOF,B=z.ERR_METHOD_NOT_IMPLEMENTED,K=z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,re,V;f(2937)(we,l);var A=d.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function ve(oe,se,Oe){if(typeof oe.prependListener=="function")return oe.prependListener(se,Oe);!oe._events||!oe._events[se]?oe.on(se,Oe):Array.isArray(oe._events[se])?oe._events[se].unshift(Oe):oe._events[se]=[Oe,oe._events[se]]}function le(oe,se,Oe){M=M||f(93337),oe=oe||{},typeof Oe!="boolean"&&(Oe=se instanceof M),this.objectMode=!!oe.objectMode,Oe&&(this.objectMode=this.objectMode||!!oe.readableObjectMode),this.highWaterMark=O(this,oe,"readableHighWaterMark",Oe),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=oe.emitClose!==!1,this.autoDestroy=!!oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,oe.encoding&&(F||(F=f(72699).s),this.decoder=new F(oe.encoding),this.encoding=oe.encoding)}function we(oe){if(M=M||f(93337),!(this instanceof we))return new we(oe);var se=this instanceof M;this._readableState=new le(oe,this,se),this.readable=!0,oe&&(typeof oe.read=="function"&&(this._read=oe.read),typeof oe.destroy=="function"&&(this._destroy=oe.destroy)),l.call(this)}Object.defineProperty(we.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(se){this._readableState&&(this._readableState.destroyed=se)}}),we.prototype.destroy=d.destroy,we.prototype._undestroy=d.undestroy,we.prototype._destroy=function(oe,se){se(oe)},we.prototype.push=function(oe,se){var Oe=this._readableState,ke;return Oe.objectMode?ke=!0:typeof oe=="string"&&(se=se||Oe.defaultEncoding,se!==Oe.encoding&&(oe=p.from(oe,se),se=""),ke=!0),fe(this,oe,se,!1,ke)},we.prototype.unshift=function(oe){return fe(this,oe,null,!0,!1)};function fe(oe,se,Oe,ke,Ke){P("readableAddChunk",se);var Te=oe._readableState;if(se===null)Te.reading=!1,N(oe,Te);else{var ot;if(Ke||(ot=g(Te,se)),ot)A(oe,ot);else if(Te.objectMode||se&&se.length>0)if(typeof se!="string"&&!Te.objectMode&&Object.getPrototypeOf(se)!==p.prototype&&(se=y(se)),ke)Te.endEmitted?A(oe,new K):H(oe,Te,se,!0);else if(Te.ended)A(oe,new G);else{if(Te.destroyed)return!1;Te.reading=!1,Te.decoder&&!Oe?(se=Te.decoder.write(se),Te.objectMode||se.length!==0?H(oe,Te,se,!1):te(oe,Te)):H(oe,Te,se,!1)}else ke||(Te.reading=!1,te(oe,Te))}return!Te.ended&&(Te.length<Te.highWaterMark||Te.length===0)}function H(oe,se,Oe,ke){se.flowing&&se.length===0&&!se.sync?(se.awaitDrain=0,oe.emit("data",Oe)):(se.length+=se.objectMode?1:Oe.length,ke?se.buffer.unshift(Oe):se.buffer.push(Oe),se.needReadable&&W(oe)),te(oe,se)}function g(oe,se){var Oe;return!b(se)&&typeof se!="string"&&se!==void 0&&!oe.objectMode&&(Oe=new j("chunk",["string","Buffer","Uint8Array"],se)),Oe}we.prototype.isPaused=function(){return this._readableState.flowing===!1},we.prototype.setEncoding=function(oe){F||(F=f(72699).s);var se=new F(oe);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;for(var Oe=this._readableState.buffer.head,ke="";Oe!==null;)ke+=se.write(Oe.data),Oe=Oe.next;return this._readableState.buffer.clear(),ke!==""&&this._readableState.buffer.push(ke),this._readableState.length=ke.length,this};var x=1073741824;function L(oe){return oe>=x?oe=x:(oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++),oe}function I(oe,se){return oe<=0||se.length===0&&se.ended?0:se.objectMode?1:oe!==oe?se.flowing&&se.length?se.buffer.head.data.length:se.length:(oe>se.highWaterMark&&(se.highWaterMark=L(oe)),oe<=se.length?oe:se.ended?se.length:(se.needReadable=!0,0))}we.prototype.read=function(oe){P("read",oe),oe=parseInt(oe,10);var se=this._readableState,Oe=oe;if(oe!==0&&(se.emittedReadable=!1),oe===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return P("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?D(this):W(this),null;if(oe=I(oe,se),oe===0&&se.ended)return se.length===0&&D(this),null;var ke=se.needReadable;P("need readable",ke),(se.length===0||se.length-oe<se.highWaterMark)&&(ke=!0,P("length less than watermark",ke)),se.ended||se.reading?(ke=!1,P("reading or ended",ke)):ke&&(P("do read"),se.reading=!0,se.sync=!0,se.length===0&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(oe=I(Oe,se)));var Ke;return oe>0?Ke=ee(oe,se):Ke=null,Ke===null?(se.needReadable=se.length<=se.highWaterMark,oe=0):(se.length-=oe,se.awaitDrain=0),se.length===0&&(se.ended||(se.needReadable=!0),Oe!==oe&&se.ended&&D(this)),Ke!==null&&this.emit("data",Ke),Ke};function N(oe,se){if(P("onEofChunk"),!se.ended){if(se.decoder){var Oe=se.decoder.end();Oe&&Oe.length&&(se.buffer.push(Oe),se.length+=se.objectMode?1:Oe.length)}se.ended=!0,se.sync?W(oe):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,Y(oe)))}}function W(oe){var se=oe._readableState;P("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(P("emitReadable",se.flowing),se.emittedReadable=!0,a.nextTick(Y,oe))}function Y(oe){var se=oe._readableState;P("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&(se.length||se.ended)&&(oe.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,q(oe)}function te(oe,se){se.readingMore||(se.readingMore=!0,a.nextTick(T,oe,se))}function T(oe,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){var Oe=se.length;if(P("maybeReadMore read 0"),oe.read(0),Oe===se.length)break}se.readingMore=!1}we.prototype._read=function(oe){A(this,new B("_read()"))},we.prototype.pipe=function(oe,se){var Oe=this,ke=this._readableState;switch(ke.pipesCount){case 0:ke.pipes=oe;break;case 1:ke.pipes=[ke.pipes,oe];break;default:ke.pipes.push(oe);break}ke.pipesCount+=1,P("pipe count=%d opts=%j",ke.pipesCount,se);var Ke=(!se||se.end!==!1)&&oe!==a.stdout&&oe!==a.stderr,Te=Ke?Ve:k;ke.endEmitted?a.nextTick(Te):Oe.once("end",Te),oe.on("unpipe",ot);function ot(ae,me){P("onunpipe"),ae===Oe&&me&&me.hasUnpiped===!1&&(me.hasUnpiped=!0,Me())}function Ve(){P("onend"),oe.end()}var Je=ie(Oe);oe.on("drain",Je);var Ae=!1;function Me(){P("cleanup"),oe.removeListener("close",$),oe.removeListener("finish",R),oe.removeListener("drain",Je),oe.removeListener("error",ye),oe.removeListener("unpipe",ot),Oe.removeListener("end",Ve),Oe.removeListener("end",k),Oe.removeListener("data",de),Ae=!0,ke.awaitDrain&&(!oe._writableState||oe._writableState.needDrain)&&Je()}Oe.on("data",de);function de(ae){P("ondata");var me=oe.write(ae);P("dest.write",me),me===!1&&((ke.pipesCount===1&&ke.pipes===oe||ke.pipesCount>1&&Ee(ke.pipes,oe)!==-1)&&!Ae&&(P("false write response, pause",ke.awaitDrain),ke.awaitDrain++),Oe.pause())}function ye(ae){P("onerror",ae),k(),oe.removeListener("error",ye),C(oe,"error")===0&&A(oe,ae)}ve(oe,"error",ye);function $(){oe.removeListener("finish",R),k()}oe.once("close",$);function R(){P("onfinish"),oe.removeListener("close",$),k()}oe.once("finish",R);function k(){P("unpipe"),Oe.unpipe(oe)}return oe.emit("pipe",Oe),ke.flowing||(P("pipe resume"),Oe.resume()),oe};function ie(oe){return function(){var Oe=oe._readableState;P("pipeOnDrain",Oe.awaitDrain),Oe.awaitDrain&&Oe.awaitDrain--,Oe.awaitDrain===0&&C(oe,"data")&&(Oe.flowing=!0,q(oe))}}we.prototype.unpipe=function(oe){var se=this._readableState,Oe={hasUnpiped:!1};if(se.pipesCount===0)return this;if(se.pipesCount===1)return oe&&oe!==se.pipes?this:(oe||(oe=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,oe&&oe.emit("unpipe",this,Oe),this);if(!oe){var ke=se.pipes,Ke=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var Te=0;Te<Ke;Te++)ke[Te].emit("unpipe",this,{hasUnpiped:!1});return this}var ot=Ee(se.pipes,oe);return ot===-1?this:(se.pipes.splice(ot,1),se.pipesCount-=1,se.pipesCount===1&&(se.pipes=se.pipes[0]),oe.emit("unpipe",this,Oe),this)},we.prototype.on=function(oe,se){var Oe=l.prototype.on.call(this,oe,se),ke=this._readableState;return oe==="data"?(ke.readableListening=this.listenerCount("readable")>0,ke.flowing!==!1&&this.resume()):oe==="readable"&&!ke.endEmitted&&!ke.readableListening&&(ke.readableListening=ke.needReadable=!0,ke.flowing=!1,ke.emittedReadable=!1,P("on readable",ke.length,ke.reading),ke.length?W(this):ke.reading||a.nextTick(Fe,this)),Oe},we.prototype.addListener=we.prototype.on,we.prototype.removeListener=function(oe,se){var Oe=l.prototype.removeListener.call(this,oe,se);return oe==="readable"&&a.nextTick(Pe,this),Oe},we.prototype.removeAllListeners=function(oe){var se=l.prototype.removeAllListeners.apply(this,arguments);return(oe==="readable"||oe===void 0)&&a.nextTick(Pe,this),se};function Pe(oe){var se=oe._readableState;se.readableListening=oe.listenerCount("readable")>0,se.resumeScheduled&&!se.paused?se.flowing=!0:oe.listenerCount("data")>0&&oe.resume()}function Fe(oe){P("readable nexttick read 0"),oe.read(0)}we.prototype.resume=function(){var oe=this._readableState;return oe.flowing||(P("resume"),oe.flowing=!oe.readableListening,$e(this,oe)),oe.paused=!1,this};function $e(oe,se){se.resumeScheduled||(se.resumeScheduled=!0,a.nextTick(ce,oe,se))}function ce(oe,se){P("resume",se.reading),se.reading||oe.read(0),se.resumeScheduled=!1,oe.emit("resume"),q(oe),se.flowing&&!se.reading&&oe.read(0)}we.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(oe){var se=oe._readableState;for(P("flow",se.flowing);se.flowing&&oe.read()!==null;);}we.prototype.wrap=function(oe){var se=this,Oe=this._readableState,ke=!1;oe.on("end",function(){if(P("wrapped end"),Oe.decoder&&!Oe.ended){var ot=Oe.decoder.end();ot&&ot.length&&se.push(ot)}se.push(null)}),oe.on("data",function(ot){if(P("wrapped data"),Oe.decoder&&(ot=Oe.decoder.write(ot)),!(Oe.objectMode&&ot==null)&&!(!Oe.objectMode&&(!ot||!ot.length))){var Ve=se.push(ot);Ve||(ke=!0,oe.pause())}});for(var Ke in oe)this[Ke]===void 0&&typeof oe[Ke]=="function"&&(this[Ke]=function(Ve){return function(){return oe[Ve].apply(oe,arguments)}}(Ke));for(var Te=0;Te<Z.length;Te++)oe.on(Z[Te],this.emit.bind(this,Z[Te]));return this._read=function(ot){P("wrapped _read",ot),ke&&(ke=!1,oe.resume())},this},typeof Symbol=="function"&&(we.prototype[Symbol.asyncIterator]=function(){return re===void 0&&(re=f(29954)),re(this)}),Object.defineProperty(we.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(we.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(we.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(se){this._readableState&&(this._readableState.flowing=se)}}),we._fromList=ee,Object.defineProperty(we.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(oe,se){if(se.length===0)return null;var Oe;return se.objectMode?Oe=se.buffer.shift():!oe||oe>=se.length?(se.decoder?Oe=se.buffer.join(""):se.buffer.length===1?Oe=se.buffer.first():Oe=se.buffer.concat(se.length),se.buffer.clear()):Oe=se.buffer.consume(oe,se.decoder),Oe}function D(oe){var se=oe._readableState;P("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,a.nextTick(ne,se,oe))}function ne(oe,se){if(P("endReadableNT",oe.endEmitted,oe.length),!oe.endEmitted&&oe.length===0&&(oe.endEmitted=!0,se.readable=!1,se.emit("end"),oe.autoDestroy)){var Oe=se._writableState;(!Oe||Oe.autoDestroy&&Oe.finished)&&se.destroy()}}typeof Symbol=="function"&&(we.from=function(oe,se){return V===void 0&&(V=f(82037)),V(we,oe,se)});function Ee(oe,se){for(var Oe=0,ke=oe.length;Oe<ke;Oe++)if(oe[Oe]===se)return Oe;return-1}},41683:function(pe,s,f){"use strict";pe.exports=y;var a=f(60981).q,M=a.ERR_METHOD_NOT_IMPLEMENTED,v=a.ERR_MULTIPLE_CALLBACK,C=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=a.ERR_TRANSFORM_WITH_LENGTH_0,p=f(93337);f(2937)(y,p);function o(P,m){var d=this._transformState;d.transforming=!1;var S=d.writecb;if(S===null)return this.emit("error",new v);d.writechunk=null,d.writecb=null,m!=null&&this.push(m),S(P);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function y(P){if(!(this instanceof y))return new y(P);p.call(this,P),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&(typeof P.transform=="function"&&(this._transform=P.transform),typeof P.flush=="function"&&(this._flush=P.flush)),this.on("prefinish",b)}function b(){var P=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,d){_(P,m,d)}):_(this,null,null)}y.prototype.push=function(P,m){return this._transformState.needTransform=!1,p.prototype.push.call(this,P,m)},y.prototype._transform=function(P,m,d){d(new M("_transform()"))},y.prototype._write=function(P,m,d){var S=this._transformState;if(S.writecb=d,S.writechunk=P,S.writeencoding=m,!S.transforming){var O=this._readableState;(S.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},y.prototype._read=function(P){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},y.prototype._destroy=function(P,m){p.prototype._destroy.call(this,P,function(d){m(d)})};function _(P,m,d){if(m)return P.emit("error",m);if(d!=null&&P.push(d),P._writableState.length)throw new l;if(P._transformState.transforming)throw new C;return P.push(null)}},86481:function(pe,s,f){"use strict";var a=f(14224);pe.exports=le;function M(q,ee,D){this.chunk=q,this.encoding=ee,this.callback=D,this.next=null}function v(q){var ee=this;this.next=null,this.entry=null,this.finish=function(){ce(ee,q)}}var C;le.WritableState=Z;var l={deprecate:f(48863)},p=f(26922),o=f(55872).Buffer,y=(typeof f.g<"u"?f.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function b(q){return o.from(q)}function _(q){return o.isBuffer(q)||q instanceof y}var P=f(33591),m=f(16084),d=m.getHighWaterMark,S=f(60981).q,O=S.ERR_INVALID_ARG_TYPE,z=S.ERR_METHOD_NOT_IMPLEMENTED,j=S.ERR_MULTIPLE_CALLBACK,G=S.ERR_STREAM_CANNOT_PIPE,B=S.ERR_STREAM_DESTROYED,K=S.ERR_STREAM_NULL_VALUES,F=S.ERR_STREAM_WRITE_AFTER_END,re=S.ERR_UNKNOWN_ENCODING,V=P.errorOrDestroy;f(2937)(le,p);function A(){}function Z(q,ee,D){C=C||f(93337),q=q||{},typeof D!="boolean"&&(D=ee instanceof C),this.objectMode=!!q.objectMode,D&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=d(this,q,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=q.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){N(ee,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new v(this)}Z.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,D=[];ee;)D.push(ee),ee=ee.next;return D},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ve;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ve=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(ee){return ve.call(this,ee)?!0:this!==le?!1:ee&&ee._writableState instanceof Z}})):ve=function(ee){return ee instanceof this};function le(q){C=C||f(93337);var ee=this instanceof C;if(!ee&&!ve.call(le,this))return new le(q);this._writableState=new Z(q,this,ee),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),p.call(this)}le.prototype.pipe=function(){V(this,new G)};function we(q,ee){var D=new F;V(q,D),a.nextTick(ee,D)}function fe(q,ee,D,ne){var Ee;return D===null?Ee=new K:typeof D!="string"&&!ee.objectMode&&(Ee=new O("chunk",["string","Buffer"],D)),Ee?(V(q,Ee),a.nextTick(ne,Ee),!1):!0}le.prototype.write=function(q,ee,D){var ne=this._writableState,Ee=!1,oe=!ne.objectMode&&_(q);return oe&&!o.isBuffer(q)&&(q=b(q)),typeof ee=="function"&&(D=ee,ee=null),oe?ee="buffer":ee||(ee=ne.defaultEncoding),typeof D!="function"&&(D=A),ne.ending?we(this,D):(oe||fe(this,ne,q,D))&&(ne.pendingcb++,Ee=g(this,ne,oe,q,ee,D)),Ee},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&te(this,q))},le.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new re(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function H(q,ee,D){return!q.objectMode&&q.decodeStrings!==!1&&typeof ee=="string"&&(ee=o.from(ee,D)),ee}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function g(q,ee,D,ne,Ee,oe){if(!D){var se=H(ee,ne,Ee);ne!==se&&(D=!0,Ee="buffer",ne=se)}var Oe=ee.objectMode?1:ne.length;ee.length+=Oe;var ke=ee.length<ee.highWaterMark;if(ke||(ee.needDrain=!0),ee.writing||ee.corked){var Ke=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:ne,encoding:Ee,isBuf:D,callback:oe,next:null},Ke?Ke.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else x(q,ee,!1,Oe,ne,Ee,oe);return ke}function x(q,ee,D,ne,Ee,oe,se){ee.writelen=ne,ee.writecb=se,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new B("write")):D?q._writev(Ee,ee.onwrite):q._write(Ee,oe,ee.onwrite),ee.sync=!1}function L(q,ee,D,ne,Ee){--ee.pendingcb,D?(a.nextTick(Ee,ne),a.nextTick(Fe,q,ee),q._writableState.errorEmitted=!0,V(q,ne)):(Ee(ne),q._writableState.errorEmitted=!0,V(q,ne),Fe(q,ee))}function I(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function N(q,ee){var D=q._writableState,ne=D.sync,Ee=D.writecb;if(typeof Ee!="function")throw new j;if(I(D),ee)L(q,D,ne,ee,Ee);else{var oe=T(D)||q.destroyed;!oe&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&te(q,D),ne?a.nextTick(W,q,D,oe,Ee):W(q,D,oe,Ee)}}function W(q,ee,D,ne){D||Y(q,ee),ee.pendingcb--,ne(),Fe(q,ee)}function Y(q,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,q.emit("drain"))}function te(q,ee){ee.bufferProcessing=!0;var D=ee.bufferedRequest;if(q._writev&&D&&D.next){var ne=ee.bufferedRequestCount,Ee=new Array(ne),oe=ee.corkedRequestsFree;oe.entry=D;for(var se=0,Oe=!0;D;)Ee[se]=D,D.isBuf||(Oe=!1),D=D.next,se+=1;Ee.allBuffers=Oe,x(q,ee,!0,ee.length,Ee,"",oe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,oe.next?(ee.corkedRequestsFree=oe.next,oe.next=null):ee.corkedRequestsFree=new v(ee),ee.bufferedRequestCount=0}else{for(;D;){var ke=D.chunk,Ke=D.encoding,Te=D.callback,ot=ee.objectMode?1:ke.length;if(x(q,ee,!1,ot,ke,Ke,Te),D=D.next,ee.bufferedRequestCount--,ee.writing)break}D===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=D,ee.bufferProcessing=!1}le.prototype._write=function(q,ee,D){D(new z("_write()"))},le.prototype._writev=null,le.prototype.end=function(q,ee,D){var ne=this._writableState;return typeof q=="function"?(D=q,q=null,ee=null):typeof ee=="function"&&(D=ee,ee=null),q!=null&&this.write(q,ee),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||$e(this,ne,D),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function ie(q,ee){q._final(function(D){ee.pendingcb--,D&&V(q,D),ee.prefinished=!0,q.emit("prefinish"),Fe(q,ee)})}function Pe(q,ee){!ee.prefinished&&!ee.finalCalled&&(typeof q._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,a.nextTick(ie,q,ee)):(ee.prefinished=!0,q.emit("prefinish")))}function Fe(q,ee){var D=T(ee);if(D&&(Pe(q,ee),ee.pendingcb===0&&(ee.finished=!0,q.emit("finish"),ee.autoDestroy))){var ne=q._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&q.destroy()}return D}function $e(q,ee,D){ee.ending=!0,Fe(q,ee),D&&(ee.finished?a.nextTick(D):q.once("finish",D)),ee.ended=!0,q.writable=!1}function ce(q,ee,D){var ne=q.entry;for(q.entry=null;ne;){var Ee=ne.callback;ee.pendingcb--,Ee(D),ne=ne.next}ee.corkedRequestsFree.next=q}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),le.prototype.destroy=P.destroy,le.prototype._undestroy=P.undestroy,le.prototype._destroy=function(q,ee){ee(q)}},29954:function(pe,s,f){"use strict";var a=f(14224),M;function v(F,re,V){return re=C(re),re in F?Object.defineProperty(F,re,{value:V,enumerable:!0,configurable:!0,writable:!0}):F[re]=V,F}function C(F){var re=l(F,"string");return typeof re=="symbol"?re:String(re)}function l(F,re){if(typeof F!="object"||F===null)return F;var V=F[Symbol.toPrimitive];if(V!==void 0){var A=V.call(F,re||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(re==="string"?String:Number)(F)}var p=f(43675),o=Symbol("lastResolve"),y=Symbol("lastReject"),b=Symbol("error"),_=Symbol("ended"),P=Symbol("lastPromise"),m=Symbol("handlePromise"),d=Symbol("stream");function S(F,re){return{value:F,done:re}}function O(F){var re=F[o];if(re!==null){var V=F[d].read();V!==null&&(F[P]=null,F[o]=null,F[y]=null,re(S(V,!1)))}}function z(F){a.nextTick(O,F)}function j(F,re){return function(V,A){F.then(function(){if(re[_]){V(S(void 0,!0));return}re[m](V,A)},A)}}var G=Object.getPrototypeOf(function(){}),B=Object.setPrototypeOf((M={get stream(){return this[d]},next:function(){var re=this,V=this[b];if(V!==null)return Promise.reject(V);if(this[_])return Promise.resolve(S(void 0,!0));if(this[d].destroyed)return new Promise(function(le,we){a.nextTick(function(){re[b]?we(re[b]):le(S(void 0,!0))})});var A=this[P],Z;if(A)Z=new Promise(j(A,this));else{var ve=this[d].read();if(ve!==null)return Promise.resolve(S(ve,!1));Z=new Promise(this[m])}return this[P]=Z,Z}},v(M,Symbol.asyncIterator,function(){return this}),v(M,"return",function(){var re=this;return new Promise(function(V,A){re[d].destroy(null,function(Z){if(Z){A(Z);return}V(S(void 0,!0))})})}),M),G),K=function(re){var V,A=Object.create(B,(V={},v(V,d,{value:re,writable:!0}),v(V,o,{value:null,writable:!0}),v(V,y,{value:null,writable:!0}),v(V,b,{value:null,writable:!0}),v(V,_,{value:re._readableState.endEmitted,writable:!0}),v(V,m,{value:function(ve,le){var we=A[d].read();we?(A[P]=null,A[o]=null,A[y]=null,ve(S(we,!1))):(A[o]=ve,A[y]=le)},writable:!0}),V));return A[P]=null,p(re,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ve=A[y];ve!==null&&(A[P]=null,A[o]=null,A[y]=null,ve(Z)),A[b]=Z;return}var le=A[o];le!==null&&(A[P]=null,A[o]=null,A[y]=null,le(S(void 0,!0))),A[_]=!0}),re.on("readable",z.bind(null,A)),A};pe.exports=K},96292:function(pe,s,f){"use strict";function a(O,z){var j=Object.keys(O);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(O);z&&(G=G.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),j.push.apply(j,G)}return j}function M(O){for(var z=1;z<arguments.length;z++){var j=arguments[z]!=null?arguments[z]:{};z%2?a(Object(j),!0).forEach(function(G){v(O,G,j[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(j)):a(Object(j)).forEach(function(G){Object.defineProperty(O,G,Object.getOwnPropertyDescriptor(j,G))})}return O}function v(O,z,j){return z=o(z),z in O?Object.defineProperty(O,z,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[z]=j,O}function C(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")}function l(O,z){for(var j=0;j<z.length;j++){var G=z[j];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,o(G.key),G)}}function p(O,z,j){return z&&l(O.prototype,z),j&&l(O,j),Object.defineProperty(O,"prototype",{writable:!1}),O}function o(O){var z=y(O,"string");return typeof z=="symbol"?z:String(z)}function y(O,z){if(typeof O!="object"||O===null)return O;var j=O[Symbol.toPrimitive];if(j!==void 0){var G=j.call(O,z||"default");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(O)}var b=f(55872),_=b.Buffer,P=f(87942),m=P.inspect,d=m&&m.custom||"inspect";function S(O,z,j){_.prototype.copy.call(O,z,j)}pe.exports=function(){function O(){C(this,O),this.head=null,this.tail=null,this.length=0}return p(O,[{key:"push",value:function(j){var G={data:j,next:null};this.length>0?this.tail.next=G:this.head=G,this.tail=G,++this.length}},{key:"unshift",value:function(j){var G={data:j,next:this.head};this.length===0&&(this.tail=G),this.head=G,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var G=this.head,B=""+G.data;G=G.next;)B+=j+G.data;return B}},{key:"concat",value:function(j){if(this.length===0)return _.alloc(0);for(var G=_.allocUnsafe(j>>>0),B=this.head,K=0;B;)S(B.data,G,K),K+=B.data.length,B=B.next;return G}},{key:"consume",value:function(j,G){var B;return j<this.head.data.length?(B=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?B=this.shift():B=G?this._getString(j):this._getBuffer(j),B}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var G=this.head,B=1,K=G.data;for(j-=K.length;G=G.next;){var F=G.data,re=j>F.length?F.length:j;if(re===F.length?K+=F:K+=F.slice(0,j),j-=re,j===0){re===F.length?(++B,G.next?this.head=G.next:this.head=this.tail=null):(this.head=G,G.data=F.slice(re));break}++B}return this.length-=B,K}},{key:"_getBuffer",value:function(j){var G=_.allocUnsafe(j),B=this.head,K=1;for(B.data.copy(G),j-=B.data.length;B=B.next;){var F=B.data,re=j>F.length?F.length:j;if(F.copy(G,G.length-j,0,re),j-=re,j===0){re===F.length?(++K,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=F.slice(re));break}++K}return this.length-=K,G}},{key:d,value:function(j,G){return m(this,M(M({},G),{},{depth:0,customInspect:!1}))}}]),O}()},33591:function(pe,s,f){"use strict";var a=f(14224);function M(y,b){var _=this,P=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return P||m?(b?b(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(p,this,y)):a.nextTick(p,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(d){!b&&d?_._writableState?_._writableState.errorEmitted?a.nextTick(C,_):(_._writableState.errorEmitted=!0,a.nextTick(v,_,d)):a.nextTick(v,_,d):b?(a.nextTick(C,_),b(d)):a.nextTick(C,_)}),this)}function v(y,b){p(y,b),C(y)}function C(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(y,b){y.emit("error",b)}function o(y,b){var _=y._readableState,P=y._writableState;_&&_.autoDestroy||P&&P.autoDestroy?y.destroy(b):y.emit("error",b)}pe.exports={destroy:M,undestroy:l,errorOrDestroy:o}},43675:function(pe,s,f){"use strict";var a=f(60981).q.ERR_STREAM_PREMATURE_CLOSE;function M(p){var o=!1;return function(){if(!o){o=!0;for(var y=arguments.length,b=new Array(y),_=0;_<y;_++)b[_]=arguments[_];p.apply(this,b)}}}function v(){}function C(p){return p.setHeader&&typeof p.abort=="function"}function l(p,o,y){if(typeof o=="function")return l(p,null,o);o||(o={}),y=M(y||v);var b=o.readable||o.readable!==!1&&p.readable,_=o.writable||o.writable!==!1&&p.writable,P=function(){p.writable||d()},m=p._writableState&&p._writableState.finished,d=function(){_=!1,m=!0,b||y.call(p)},S=p._readableState&&p._readableState.endEmitted,O=function(){b=!1,S=!0,_||y.call(p)},z=function(K){y.call(p,K)},j=function(){var K;if(b&&!S)return(!p._readableState||!p._readableState.ended)&&(K=new a),y.call(p,K);if(_&&!m)return(!p._writableState||!p._writableState.ended)&&(K=new a),y.call(p,K)},G=function(){p.req.on("finish",d)};return C(p)?(p.on("complete",d),p.on("abort",j),p.req?G():p.on("request",G)):_&&!p._writableState&&(p.on("end",P),p.on("close",P)),p.on("end",O),p.on("finish",d),o.error!==!1&&p.on("error",z),p.on("close",j),function(){p.removeListener("complete",d),p.removeListener("abort",j),p.removeListener("request",G),p.req&&p.req.removeListener("finish",d),p.removeListener("end",P),p.removeListener("close",P),p.removeListener("finish",d),p.removeListener("end",O),p.removeListener("error",z),p.removeListener("close",j)}}pe.exports=l},82037:function(pe){pe.exports=function(){throw new Error("Readable.from is not available in the browser")}},95597:function(pe,s,f){"use strict";var a;function M(d){var S=!1;return function(){S||(S=!0,d.apply(void 0,arguments))}}var v=f(60981).q,C=v.ERR_MISSING_ARGS,l=v.ERR_STREAM_DESTROYED;function p(d){if(d)throw d}function o(d){return d.setHeader&&typeof d.abort=="function"}function y(d,S,O,z){z=M(z);var j=!1;d.on("close",function(){j=!0}),a===void 0&&(a=f(43675)),a(d,{readable:S,writable:O},function(B){if(B)return z(B);j=!0,z()});var G=!1;return function(B){if(!j&&!G){if(G=!0,o(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();z(B||new l("pipe"))}}}function b(d){d()}function _(d,S){return d.pipe(S)}function P(d){return!d.length||typeof d[d.length-1]!="function"?p:d.pop()}function m(){for(var d=arguments.length,S=new Array(d),O=0;O<d;O++)S[O]=arguments[O];var z=P(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new C("streams");var j,G=S.map(function(B,K){var F=K<S.length-1,re=K>0;return y(B,F,re,function(V){j||(j=V),V&&G.forEach(b),!F&&(G.forEach(b),z(j))})});return S.reduce(_)}pe.exports=m},16084:function(pe,s,f){"use strict";var a=f(60981).q.ERR_INVALID_OPT_VALUE;function M(C,l,p){return C.highWaterMark!=null?C.highWaterMark:l?C[p]:null}function v(C,l,p,o){var y=M(l,o,p);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var b=o?p:"highWaterMark";throw new a(b,y)}return Math.floor(y)}return C.objectMode?16:16*1024}pe.exports={getHighWaterMark:v}},26922:function(pe,s,f){pe.exports=f(72100).EventEmitter},62981:function(pe,s,f){s=pe.exports=f(25294),s.Stream=s,s.Readable=s,s.Writable=f(86481),s.Duplex=f(93337),s.Transform=f(41683),s.PassThrough=f(68797),s.finished=f(43675),s.pipeline=f(95597)},61874:function(pe,s,f){var a=f(55872),M=a.Buffer;function v(l,p){for(var o in l)p[o]=l[o]}M.from&&M.alloc&&M.allocUnsafe&&M.allocUnsafeSlow?pe.exports=a:(v(a,s),s.Buffer=C);function C(l,p,o){return M(l,p,o)}C.prototype=Object.create(M.prototype),v(M,C),C.from=function(l,p,o){if(typeof l=="number")throw new TypeError("Argument must not be a number");return M(l,p,o)},C.alloc=function(l,p,o){if(typeof l!="number")throw new TypeError("Argument must be a number");var y=M(l);return p!==void 0?typeof o=="string"?y.fill(p,o):y.fill(p):y.fill(0),y},C.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return M(l)},C.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}},83450:function(pe,s,f){const a=Symbol("SemVer ANY");class M{static get ANY(){return a}constructor(P,m){if(m=v(m),P instanceof M){if(P.loose===!!m.loose)return P;P=P.value}P=P.trim().split(/\s+/).join(" "),o("comparator",P,m),this.options=m,this.loose=!!m.loose,this.parse(P),this.semver===a?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(P){const m=this.options.loose?C[l.COMPARATORLOOSE]:C[l.COMPARATOR],d=P.match(m);if(!d)throw new TypeError(`Invalid comparator: ${P}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new y(d[2],this.options.loose):this.semver=a}toString(){return this.value}test(P){if(o("Comparator.test",P,this.options.loose),this.semver===a||P===a)return!0;if(typeof P=="string")try{P=new y(P,this.options)}catch{return!1}return p(P,this.operator,this.semver,this.options)}intersects(P,m){if(!(P instanceof M))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new b(P.value,m).test(this.value):P.operator===""?P.value===""?!0:new b(this.value,m).test(P.semver):(m=v(m),m.includePrerelease&&(this.value==="<0.0.0-0"||P.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||P.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&P.operator.startsWith(">")||this.operator.startsWith("<")&&P.operator.startsWith("<")||this.semver.version===P.semver.version&&this.operator.includes("=")&&P.operator.includes("=")||p(this.semver,"<",P.semver,m)&&this.operator.startsWith(">")&&P.operator.startsWith("<")||p(this.semver,">",P.semver,m)&&this.operator.startsWith("<")&&P.operator.startsWith(">")))}}pe.exports=M;const v=f(94085),{safeRe:C,t:l}=f(42034),p=f(76093),o=f(32741),y=f(39641),b=f(46999)},46999:function(pe,s,f){class a{constructor(g,x){if(x=C(x),g instanceof a)return g.loose===!!x.loose&&g.includePrerelease===!!x.includePrerelease?g:new a(g.raw,x);if(g instanceof l)return this.raw=g.value,this.set=[[g]],this.format(),this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=g.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const L=this.set[0];if(this.set=this.set.filter(I=>!O(I[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&z(I[0])){this.set=[I];break}}}this.format()}format(){return this.range=this.set.map(g=>g.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(g){const L=((this.options.includePrerelease&&d)|(this.options.loose&&S))+":"+g,I=v.get(L);if(I)return I;const N=this.options.loose,W=N?y[b.HYPHENRANGELOOSE]:y[b.HYPHENRANGE];g=g.replace(W,we(this.options.includePrerelease)),p("hyphen replace",g),g=g.replace(y[b.COMPARATORTRIM],_),p("comparator trim",g),g=g.replace(y[b.TILDETRIM],P),p("tilde trim",g),g=g.replace(y[b.CARETTRIM],m),p("caret trim",g);let Y=g.split(" ").map(Pe=>G(Pe,this.options)).join(" ").split(/\s+/).map(Pe=>le(Pe,this.options));N&&(Y=Y.filter(Pe=>(p("loose invalid filter",Pe,this.options),!!Pe.match(y[b.COMPARATORLOOSE])))),p("range list",Y);const te=new Map,T=Y.map(Pe=>new l(Pe,this.options));for(const Pe of T){if(O(Pe))return[Pe];te.set(Pe.value,Pe)}te.size>1&&te.has("")&&te.delete("");const ie=[...te.values()];return v.set(L,ie),ie}intersects(g,x){if(!(g instanceof a))throw new TypeError("a Range is required");return this.set.some(L=>j(L,x)&&g.set.some(I=>j(I,x)&&L.every(N=>I.every(W=>N.intersects(W,x)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new o(g,this.options)}catch{return!1}for(let x=0;x<this.set.length;x++)if(fe(this.set[x],g,this.options))return!0;return!1}}pe.exports=a;const M=f(18968),v=new M({max:1e3}),C=f(94085),l=f(83450),p=f(32741),o=f(39641),{safeRe:y,t:b,comparatorTrimReplace:_,tildeTrimReplace:P,caretTrimReplace:m}=f(42034),{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:S}=f(99255),O=H=>H.value==="<0.0.0-0",z=H=>H.value==="",j=(H,g)=>{let x=!0;const L=H.slice();let I=L.pop();for(;x&&L.length;)x=L.every(N=>I.intersects(N,g)),I=L.pop();return x},G=(H,g)=>(p("comp",H,g),H=re(H,g),p("caret",H),H=K(H,g),p("tildes",H),H=A(H,g),p("xrange",H),H=ve(H,g),p("stars",H),H),B=H=>!H||H.toLowerCase()==="x"||H==="*",K=(H,g)=>H.trim().split(/\s+/).map(x=>F(x,g)).join(" "),F=(H,g)=>{const x=g.loose?y[b.TILDELOOSE]:y[b.TILDE];return H.replace(x,(L,I,N,W,Y)=>{p("tilde",H,L,I,N,W,Y);let te;return B(I)?te="":B(N)?te=`>=${I}.0.0 <${+I+1}.0.0-0`:B(W)?te=`>=${I}.${N}.0 <${I}.${+N+1}.0-0`:Y?(p("replaceTilde pr",Y),te=`>=${I}.${N}.${W}-${Y} <${I}.${+N+1}.0-0`):te=`>=${I}.${N}.${W} <${I}.${+N+1}.0-0`,p("tilde return",te),te})},re=(H,g)=>H.trim().split(/\s+/).map(x=>V(x,g)).join(" "),V=(H,g)=>{p("caret",H,g);const x=g.loose?y[b.CARETLOOSE]:y[b.CARET],L=g.includePrerelease?"-0":"";return H.replace(x,(I,N,W,Y,te)=>{p("caret",H,I,N,W,Y,te);let T;return B(N)?T="":B(W)?T=`>=${N}.0.0${L} <${+N+1}.0.0-0`:B(Y)?N==="0"?T=`>=${N}.${W}.0${L} <${N}.${+W+1}.0-0`:T=`>=${N}.${W}.0${L} <${+N+1}.0.0-0`:te?(p("replaceCaret pr",te),N==="0"?W==="0"?T=`>=${N}.${W}.${Y}-${te} <${N}.${W}.${+Y+1}-0`:T=`>=${N}.${W}.${Y}-${te} <${N}.${+W+1}.0-0`:T=`>=${N}.${W}.${Y}-${te} <${+N+1}.0.0-0`):(p("no pr"),N==="0"?W==="0"?T=`>=${N}.${W}.${Y}${L} <${N}.${W}.${+Y+1}-0`:T=`>=${N}.${W}.${Y}${L} <${N}.${+W+1}.0-0`:T=`>=${N}.${W}.${Y} <${+N+1}.0.0-0`),p("caret return",T),T})},A=(H,g)=>(p("replaceXRanges",H,g),H.split(/\s+/).map(x=>Z(x,g)).join(" ")),Z=(H,g)=>{H=H.trim();const x=g.loose?y[b.XRANGELOOSE]:y[b.XRANGE];return H.replace(x,(L,I,N,W,Y,te)=>{p("xRange",H,L,I,N,W,Y,te);const T=B(N),ie=T||B(W),Pe=ie||B(Y),Fe=Pe;return I==="="&&Fe&&(I=""),te=g.includePrerelease?"-0":"",T?I===">"||I==="<"?L="<0.0.0-0":L="*":I&&Fe?(ie&&(W=0),Y=0,I===">"?(I=">=",ie?(N=+N+1,W=0,Y=0):(W=+W+1,Y=0)):I==="<="&&(I="<",ie?N=+N+1:W=+W+1),I==="<"&&(te="-0"),L=`${I+N}.${W}.${Y}${te}`):ie?L=`>=${N}.0.0${te} <${+N+1}.0.0-0`:Pe&&(L=`>=${N}.${W}.0${te} <${N}.${+W+1}.0-0`),p("xRange return",L),L})},ve=(H,g)=>(p("replaceStars",H,g),H.trim().replace(y[b.STAR],"")),le=(H,g)=>(p("replaceGTE0",H,g),H.trim().replace(y[g.includePrerelease?b.GTE0PRE:b.GTE0],"")),we=H=>(g,x,L,I,N,W,Y,te,T,ie,Pe,Fe,$e)=>(B(L)?x="":B(I)?x=`>=${L}.0.0${H?"-0":""}`:B(N)?x=`>=${L}.${I}.0${H?"-0":""}`:W?x=`>=${x}`:x=`>=${x}${H?"-0":""}`,B(T)?te="":B(ie)?te=`<${+T+1}.0.0-0`:B(Pe)?te=`<${T}.${+ie+1}.0-0`:Fe?te=`<=${T}.${ie}.${Pe}-${Fe}`:H?te=`<${T}.${ie}.${+Pe+1}-0`:te=`<=${te}`,`${x} ${te}`.trim()),fe=(H,g,x)=>{for(let L=0;L<H.length;L++)if(!H[L].test(g))return!1;if(g.prerelease.length&&!x.includePrerelease){for(let L=0;L<H.length;L++)if(p(H[L].semver),H[L].semver!==l.ANY&&H[L].semver.prerelease.length>0){const I=H[L].semver;if(I.major===g.major&&I.minor===g.minor&&I.patch===g.patch)return!0}return!1}return!0}},39641:function(pe,s,f){const a=f(32741),{MAX_LENGTH:M,MAX_SAFE_INTEGER:v}=f(99255),{safeRe:C,t:l}=f(42034),p=f(94085),{compareIdentifiers:o}=f(86181);class y{constructor(_,P){if(P=p(P),_ instanceof y){if(_.loose===!!P.loose&&_.includePrerelease===!!P.includePrerelease)return _;_=_.version}else if(typeof _!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof _}".`);if(_.length>M)throw new TypeError(`version is longer than ${M} characters`);a("SemVer",_,P),this.options=P,this.loose=!!P.loose,this.includePrerelease=!!P.includePrerelease;const m=_.trim().match(P.loose?C[l.LOOSE]:C[l.FULL]);if(!m)throw new TypeError(`Invalid Version: ${_}`);if(this.raw=_,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const S=+d;if(S>=0&&S<v)return S}return d}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(_){if(a("SemVer.compare",this.version,this.options,_),!(_ instanceof y)){if(typeof _=="string"&&_===this.version)return 0;_=new y(_,this.options)}return _.version===this.version?0:this.compareMain(_)||this.comparePre(_)}compareMain(_){return _ instanceof y||(_=new y(_,this.options)),o(this.major,_.major)||o(this.minor,_.minor)||o(this.patch,_.patch)}comparePre(_){if(_ instanceof y||(_=new y(_,this.options)),this.prerelease.length&&!_.prerelease.length)return-1;if(!this.prerelease.length&&_.prerelease.length)return 1;if(!this.prerelease.length&&!_.prerelease.length)return 0;let P=0;do{const m=this.prerelease[P],d=_.prerelease[P];if(a("prerelease compare",P,m,d),m===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(m===void 0)return-1;if(m===d)continue;return o(m,d)}while(++P)}compareBuild(_){_ instanceof y||(_=new y(_,this.options));let P=0;do{const m=this.build[P],d=_.build[P];if(a("prerelease compare",P,m,d),m===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(m===void 0)return-1;if(m===d)continue;return o(m,d)}while(++P)}inc(_,P,m){switch(_){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",P,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",P,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",P,m),this.inc("pre",P,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",P,m),this.inc("pre",P,m);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(m)?1:0;if(!P&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[d];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(P===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(P){let S=[P,d];m===!1&&(S=[P]),o(this.prerelease[0],P)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${_}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}pe.exports=y},35152:function(pe,s,f){const a=f(69134),M=(v,C)=>{const l=a(v.trim().replace(/^[=v]+/,""),C);return l?l.version:null};pe.exports=M},76093:function(pe,s,f){const a=f(84415),M=f(11521),v=f(95088),C=f(79152),l=f(79728),p=f(16806),o=(y,b,_,P)=>{switch(b){case"===":return typeof y=="object"&&(y=y.version),typeof _=="object"&&(_=_.version),y===_;case"!==":return typeof y=="object"&&(y=y.version),typeof _=="object"&&(_=_.version),y!==_;case"":case"=":case"==":return a(y,_,P);case"!=":return M(y,_,P);case">":return v(y,_,P);case">=":return C(y,_,P);case"<":return l(y,_,P);case"<=":return p(y,_,P);default:throw new TypeError(`Invalid operator: ${b}`)}};pe.exports=o},91823:function(pe,s,f){const a=f(39641),M=f(69134),{safeRe:v,t:C}=f(42034),l=(p,o)=>{if(p instanceof a)return p;if(typeof p=="number"&&(p=String(p)),typeof p!="string")return null;o=o||{};let y=null;if(!o.rtl)y=p.match(v[C.COERCE]);else{let b;for(;(b=v[C.COERCERTL].exec(p))&&(!y||y.index+y[0].length!==p.length);)(!y||b.index+b[0].length!==y.index+y[0].length)&&(y=b),v[C.COERCERTL].lastIndex=b.index+b[1].length+b[2].length;v[C.COERCERTL].lastIndex=-1}return y===null?null:M(`${y[2]}.${y[3]||"0"}.${y[4]||"0"}`,o)};pe.exports=l},10688:function(pe,s,f){const a=f(39641),M=(v,C,l)=>{const p=new a(v,l),o=new a(C,l);return p.compare(o)||p.compareBuild(o)};pe.exports=M},41296:function(pe,s,f){const a=f(79142),M=(v,C)=>a(v,C,!0);pe.exports=M},79142:function(pe,s,f){const a=f(39641),M=(v,C,l)=>new a(v,l).compare(new a(C,l));pe.exports=M},69744:function(pe,s,f){const a=f(69134),M=(v,C)=>{const l=a(v,null,!0),p=a(C,null,!0),o=l.compare(p);if(o===0)return null;const y=o>0,b=y?l:p,_=y?p:l,P=!!b.prerelease.length;if(!!_.prerelease.length&&!P)return!_.patch&&!_.minor?"major":b.patch?"patch":b.minor?"minor":"major";const d=P?"pre":"";return l.major!==p.major?d+"major":l.minor!==p.minor?d+"minor":l.patch!==p.patch?d+"patch":"prerelease"};pe.exports=M},84415:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)===0;pe.exports=M},95088:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)>0;pe.exports=M},79152:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)>=0;pe.exports=M},47335:function(pe,s,f){const a=f(39641),M=(v,C,l,p,o)=>{typeof l=="string"&&(o=p,p=l,l=void 0);try{return new a(v instanceof a?v.version:v,l).inc(C,p,o).version}catch{return null}};pe.exports=M},79728:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)<0;pe.exports=M},16806:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)<=0;pe.exports=M},29309:function(pe,s,f){const a=f(39641),M=(v,C)=>new a(v,C).major;pe.exports=M},80159:function(pe,s,f){const a=f(39641),M=(v,C)=>new a(v,C).minor;pe.exports=M},11521:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(v,C,l)!==0;pe.exports=M},69134:function(pe,s,f){const a=f(39641),M=(v,C,l=!1)=>{if(v instanceof a)return v;try{return new a(v,C)}catch(p){if(!l)return null;throw p}};pe.exports=M},35317:function(pe,s,f){const a=f(39641),M=(v,C)=>new a(v,C).patch;pe.exports=M},95405:function(pe,s,f){const a=f(69134),M=(v,C)=>{const l=a(v,C);return l&&l.prerelease.length?l.prerelease:null};pe.exports=M},67774:function(pe,s,f){const a=f(79142),M=(v,C,l)=>a(C,v,l);pe.exports=M},1586:function(pe,s,f){const a=f(10688),M=(v,C)=>v.sort((l,p)=>a(p,l,C));pe.exports=M},30639:function(pe,s,f){const a=f(46999),M=(v,C,l)=>{try{C=new a(C,l)}catch{return!1}return C.test(v)};pe.exports=M},75402:function(pe,s,f){const a=f(10688),M=(v,C)=>v.sort((l,p)=>a(l,p,C));pe.exports=M},54082:function(pe,s,f){const a=f(69134),M=(v,C)=>{const l=a(v,C);return l?l.version:null};pe.exports=M},31559:function(pe,s,f){const a=f(42034),M=f(99255),v=f(39641),C=f(86181),l=f(69134),p=f(54082),o=f(35152),y=f(47335),b=f(69744),_=f(29309),P=f(80159),m=f(35317),d=f(95405),S=f(79142),O=f(67774),z=f(41296),j=f(10688),G=f(75402),B=f(1586),K=f(95088),F=f(79728),re=f(84415),V=f(11521),A=f(79152),Z=f(16806),ve=f(76093),le=f(91823),we=f(83450),fe=f(46999),H=f(30639),g=f(12869),x=f(31662),L=f(5141),I=f(3806),N=f(94728),W=f(71962),Y=f(29294),te=f(14798),T=f(31706),ie=f(58092),Pe=f(85175);pe.exports={parse:l,valid:p,clean:o,inc:y,diff:b,major:_,minor:P,patch:m,prerelease:d,compare:S,rcompare:O,compareLoose:z,compareBuild:j,sort:G,rsort:B,gt:K,lt:F,eq:re,neq:V,gte:A,lte:Z,cmp:ve,coerce:le,Comparator:we,Range:fe,satisfies:H,toComparators:g,maxSatisfying:x,minSatisfying:L,minVersion:I,validRange:N,outside:W,gtr:Y,ltr:te,intersects:T,simplifyRange:ie,subset:Pe,SemVer:v,re:a.re,src:a.src,tokens:a.t,SEMVER_SPEC_VERSION:M.SEMVER_SPEC_VERSION,RELEASE_TYPES:M.RELEASE_TYPES,compareIdentifiers:C.compareIdentifiers,rcompareIdentifiers:C.rcompareIdentifiers}},99255:function(pe){const s="2.0.0",a=Number.MAX_SAFE_INTEGER||9007199254740991,M=16,v=256-6,C=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:M,MAX_SAFE_BUILD_LENGTH:v,MAX_SAFE_INTEGER:a,RELEASE_TYPES:C,SEMVER_SPEC_VERSION:s,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},32741:function(pe,s,f){var a=f(14224);const M=typeof a=="object"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production",PUBLIC_PATH:"/"}.NODE_DEBUG)?(...v)=>console.error("SEMVER",...v):()=>{};pe.exports=M},86181:function(pe){const s=/^[0-9]+$/,f=(M,v)=>{const C=s.test(M),l=s.test(v);return C&&l&&(M=+M,v=+v),M===v?0:C&&!l?-1:l&&!C?1:M<v?-1:1},a=(M,v)=>f(v,M);pe.exports={compareIdentifiers:f,rcompareIdentifiers:a}},94085:function(pe){const s=Object.freeze({loose:!0}),f=Object.freeze({}),a=M=>M?typeof M!="object"?s:M:f;pe.exports=a},42034:function(pe,s,f){const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:M,MAX_LENGTH:v}=f(99255),C=f(32741);s=pe.exports={};const l=s.re=[],p=s.safeRe=[],o=s.src=[],y=s.t={};let b=0;const _="[a-zA-Z0-9-]",P=[["\\s",1],["\\d",v],[_,M]],m=S=>{for(const[O,z]of P)S=S.split(`${O}*`).join(`${O}{0,${z}}`).split(`${O}+`).join(`${O}{1,${z}}`);return S},d=(S,O,z)=>{const j=m(O),G=b++;C(S,G,O),y[S]=G,o[G]=O,l[G]=new RegExp(O,z?"g":void 0),p[G]=new RegExp(j,z?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),d("MAINVERSION",`(${o[y.NUMERICIDENTIFIER]})\\.(${o[y.NUMERICIDENTIFIER]})\\.(${o[y.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${o[y.NUMERICIDENTIFIERLOOSE]})\\.(${o[y.NUMERICIDENTIFIERLOOSE]})\\.(${o[y.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${o[y.NUMERICIDENTIFIER]}|${o[y.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${o[y.NUMERICIDENTIFIERLOOSE]}|${o[y.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${o[y.PRERELEASEIDENTIFIER]}(?:\\.${o[y.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${o[y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[y.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${_}+`),d("BUILD",`(?:\\+(${o[y.BUILDIDENTIFIER]}(?:\\.${o[y.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${o[y.MAINVERSION]}${o[y.PRERELEASE]}?${o[y.BUILD]}?`),d("FULL",`^${o[y.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${o[y.MAINVERSIONLOOSE]}${o[y.PRERELEASELOOSE]}?${o[y.BUILD]}?`),d("LOOSE",`^${o[y.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${o[y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${o[y.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${o[y.XRANGEIDENTIFIER]})(?:\\.(${o[y.XRANGEIDENTIFIER]})(?:\\.(${o[y.XRANGEIDENTIFIER]})(?:${o[y.PRERELEASE]})?${o[y.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${o[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[y.XRANGEIDENTIFIERLOOSE]})(?:${o[y.PRERELEASELOOSE]})?${o[y.BUILD]}?)?)?`),d("XRANGE",`^${o[y.GTLT]}\\s*${o[y.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${o[y.GTLT]}\\s*${o[y.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?(?:$|[^\\d])`),d("COERCERTL",o[y.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${o[y.LONETILDE]}\\s+`,!0),s.tildeTrimReplace="$1~",d("TILDE",`^${o[y.LONETILDE]}${o[y.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${o[y.LONETILDE]}${o[y.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${o[y.LONECARET]}\\s+`,!0),s.caretTrimReplace="$1^",d("CARET",`^${o[y.LONECARET]}${o[y.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${o[y.LONECARET]}${o[y.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${o[y.GTLT]}\\s*(${o[y.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${o[y.GTLT]}\\s*(${o[y.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${o[y.GTLT]}\\s*(${o[y.LOOSEPLAIN]}|${o[y.XRANGEPLAIN]})`,!0),s.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${o[y.XRANGEPLAIN]})\\s+-\\s+(${o[y.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${o[y.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[y.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},29294:function(pe,s,f){const a=f(71962),M=(v,C,l)=>a(v,C,">",l);pe.exports=M},31706:function(pe,s,f){const a=f(46999),M=(v,C,l)=>(v=new a(v,l),C=new a(C,l),v.intersects(C,l));pe.exports=M},14798:function(pe,s,f){const a=f(71962),M=(v,C,l)=>a(v,C,"<",l);pe.exports=M},31662:function(pe,s,f){const a=f(39641),M=f(46999),v=(C,l,p)=>{let o=null,y=null,b=null;try{b=new M(l,p)}catch{return null}return C.forEach(_=>{b.test(_)&&(!o||y.compare(_)===-1)&&(o=_,y=new a(o,p))}),o};pe.exports=v},5141:function(pe,s,f){const a=f(39641),M=f(46999),v=(C,l,p)=>{let o=null,y=null,b=null;try{b=new M(l,p)}catch{return null}return C.forEach(_=>{b.test(_)&&(!o||y.compare(_)===1)&&(o=_,y=new a(o,p))}),o};pe.exports=v},3806:function(pe,s,f){const a=f(39641),M=f(46999),v=f(95088),C=(l,p)=>{l=new M(l,p);let o=new a("0.0.0");if(l.test(o)||(o=new a("0.0.0-0"),l.test(o)))return o;o=null;for(let y=0;y<l.set.length;++y){const b=l.set[y];let _=null;b.forEach(P=>{const m=new a(P.semver.version);switch(P.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!_||v(m,_))&&(_=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${P.operator}`)}}),_&&(!o||v(o,_))&&(o=_)}return o&&l.test(o)?o:null};pe.exports=C},71962:function(pe,s,f){const a=f(39641),M=f(83450),{ANY:v}=M,C=f(46999),l=f(30639),p=f(95088),o=f(79728),y=f(16806),b=f(79152),_=(P,m,d,S)=>{P=new a(P,S),m=new C(m,S);let O,z,j,G,B;switch(d){case">":O=p,z=y,j=o,G=">",B=">=";break;case"<":O=o,z=b,j=p,G="<",B="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(P,m,S))return!1;for(let K=0;K<m.set.length;++K){const F=m.set[K];let re=null,V=null;if(F.forEach(A=>{A.semver===v&&(A=new M(">=0.0.0")),re=re||A,V=V||A,O(A.semver,re.semver,S)?re=A:j(A.semver,V.semver,S)&&(V=A)}),re.operator===G||re.operator===B||(!V.operator||V.operator===G)&&z(P,V.semver))return!1;if(V.operator===B&&j(P,V.semver))return!1}return!0};pe.exports=_},58092:function(pe,s,f){const a=f(30639),M=f(79142);pe.exports=(v,C,l)=>{const p=[];let o=null,y=null;const b=v.sort((d,S)=>M(d,S,l));for(const d of b)a(d,C,l)?(y=d,o||(o=d)):(y&&p.push([o,y]),y=null,o=null);o&&p.push([o,null]);const _=[];for(const[d,S]of p)d===S?_.push(d):!S&&d===b[0]?_.push("*"):S?d===b[0]?_.push(`<=${S}`):_.push(`${d} - ${S}`):_.push(`>=${d}`);const P=_.join(" || "),m=typeof C.raw=="string"?C.raw:String(C);return P.length<m.length?P:C}},85175:function(pe,s,f){const a=f(46999),M=f(83450),{ANY:v}=M,C=f(30639),l=f(79142),p=(m,d,S={})=>{if(m===d)return!0;m=new a(m,S),d=new a(d,S);let O=!1;e:for(const z of m.set){for(const j of d.set){const G=b(z,j,S);if(O=O||G!==null,G)continue e}if(O)return!1}return!0},o=[new M(">=0.0.0-0")],y=[new M(">=0.0.0")],b=(m,d,S)=>{if(m===d)return!0;if(m.length===1&&m[0].semver===v){if(d.length===1&&d[0].semver===v)return!0;S.includePrerelease?m=o:m=y}if(d.length===1&&d[0].semver===v){if(S.includePrerelease)return!0;d=y}const O=new Set;let z,j;for(const Z of m)Z.operator===">"||Z.operator===">="?z=_(z,Z,S):Z.operator==="<"||Z.operator==="<="?j=P(j,Z,S):O.add(Z.semver);if(O.size>1)return null;let G;if(z&&j){if(G=l(z.semver,j.semver,S),G>0)return null;if(G===0&&(z.operator!==">="||j.operator!=="<="))return null}for(const Z of O){if(z&&!C(Z,String(z),S)||j&&!C(Z,String(j),S))return null;for(const ve of d)if(!C(Z,String(ve),S))return!1;return!0}let B,K,F,re,V=j&&!S.includePrerelease&&j.semver.prerelease.length?j.semver:!1,A=z&&!S.includePrerelease&&z.semver.prerelease.length?z.semver:!1;V&&V.prerelease.length===1&&j.operator==="<"&&V.prerelease[0]===0&&(V=!1);for(const Z of d){if(re=re||Z.operator===">"||Z.operator===">=",F=F||Z.operator==="<"||Z.operator==="<=",z){if(A&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===A.major&&Z.semver.minor===A.minor&&Z.semver.patch===A.patch&&(A=!1),Z.operator===">"||Z.operator===">="){if(B=_(z,Z,S),B===Z&&B!==z)return!1}else if(z.operator===">="&&!C(z.semver,String(Z),S))return!1}if(j){if(V&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===V.major&&Z.semver.minor===V.minor&&Z.semver.patch===V.patch&&(V=!1),Z.operator==="<"||Z.operator==="<="){if(K=P(j,Z,S),K===Z&&K!==j)return!1}else if(j.operator==="<="&&!C(j.semver,String(Z),S))return!1}if(!Z.operator&&(j||z)&&G!==0)return!1}return!(z&&F&&!j&&G!==0||j&&re&&!z&&G!==0||A||V)},_=(m,d,S)=>{if(!m)return d;const O=l(m.semver,d.semver,S);return O>0?m:O<0||d.operator===">"&&m.operator===">="?d:m},P=(m,d,S)=>{if(!m)return d;const O=l(m.semver,d.semver,S);return O<0?m:O>0||d.operator==="<"&&m.operator==="<="?d:m};pe.exports=p},12869:function(pe,s,f){const a=f(46999),M=(v,C)=>new a(v,C).set.map(l=>l.map(p=>p.value).join(" ").trim().split(" "));pe.exports=M},94728:function(pe,s,f){const a=f(46999),M=(v,C)=>{try{return new a(v,C).range||"*"}catch{return null}};pe.exports=M},10288:function(pe,s,f){var a=f(61874).Buffer;function M(v,C){this._block=a.alloc(v),this._finalSize=C,this._blockSize=v,this._len=0}M.prototype.update=function(v,C){typeof v=="string"&&(C=C||"utf8",v=a.from(v,C));for(var l=this._block,p=this._blockSize,o=v.length,y=this._len,b=0;b<o;){for(var _=y%p,P=Math.min(o-b,p-_),m=0;m<P;m++)l[_+m]=v[b+m];y+=P,b+=P,y%p===0&&this._update(l)}return this._len+=o,this},M.prototype.digest=function(v){var C=this._len%this._blockSize;this._block[C]=128,this._block.fill(0,C+1),C>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=this._len*8;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var p=(l&4294967295)>>>0,o=(l-p)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(p,this._blockSize-4)}this._update(this._block);var y=this._hash();return v?y.toString(v):y},M.prototype._update=function(){throw new Error("_update must be implemented by subclass")},pe.exports=M},31337:function(pe,s,f){var a=pe.exports=function(v){v=v.toLowerCase();var C=a[v];if(!C)throw new Error(v+" is not supported (we accept pull requests)");return new C};a.sha=f(67309),a.sha1=f(61491),a.sha224=f(62483),a.sha256=f(95891),a.sha384=f(3826),a.sha512=f(80408)},67309:function(pe,s,f){var a=f(2937),M=f(10288),v=f(61874).Buffer,C=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function p(){this.init(),this._w=l,M.call(this,64,56)}a(p,M),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(_){return _<<5|_>>>27}function y(_){return _<<30|_>>>2}function b(_,P,m,d){return _===0?P&m|~P&d:_===2?P&m|P&d|m&d:P^m^d}p.prototype._update=function(_){for(var P=this._w,m=this._a|0,d=this._b|0,S=this._c|0,O=this._d|0,z=this._e|0,j=0;j<16;++j)P[j]=_.readInt32BE(j*4);for(;j<80;++j)P[j]=P[j-3]^P[j-8]^P[j-14]^P[j-16];for(var G=0;G<80;++G){var B=~~(G/20),K=o(m)+b(B,d,S,O)+z+P[G]+C[B]|0;z=O,O=S,S=y(d),d=m,m=K}this._a=m+this._a|0,this._b=d+this._b|0,this._c=S+this._c|0,this._d=O+this._d|0,this._e=z+this._e|0},p.prototype._hash=function(){var _=v.allocUnsafe(20);return _.writeInt32BE(this._a|0,0),_.writeInt32BE(this._b|0,4),_.writeInt32BE(this._c|0,8),_.writeInt32BE(this._d|0,12),_.writeInt32BE(this._e|0,16),_},pe.exports=p},61491:function(pe,s,f){var a=f(2937),M=f(10288),v=f(61874).Buffer,C=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function p(){this.init(),this._w=l,M.call(this,64,56)}a(p,M),p.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(P){return P<<1|P>>>31}function y(P){return P<<5|P>>>27}function b(P){return P<<30|P>>>2}function _(P,m,d,S){return P===0?m&d|~m&S:P===2?m&d|m&S|d&S:m^d^S}p.prototype._update=function(P){for(var m=this._w,d=this._a|0,S=this._b|0,O=this._c|0,z=this._d|0,j=this._e|0,G=0;G<16;++G)m[G]=P.readInt32BE(G*4);for(;G<80;++G)m[G]=o(m[G-3]^m[G-8]^m[G-14]^m[G-16]);for(var B=0;B<80;++B){var K=~~(B/20),F=y(d)+_(K,S,O,z)+j+m[B]+C[K]|0;j=z,z=O,O=b(S),S=d,d=F}this._a=d+this._a|0,this._b=S+this._b|0,this._c=O+this._c|0,this._d=z+this._d|0,this._e=j+this._e|0},p.prototype._hash=function(){var P=v.allocUnsafe(20);return P.writeInt32BE(this._a|0,0),P.writeInt32BE(this._b|0,4),P.writeInt32BE(this._c|0,8),P.writeInt32BE(this._d|0,12),P.writeInt32BE(this._e|0,16),P},pe.exports=p},62483:function(pe,s,f){var a=f(2937),M=f(95891),v=f(10288),C=f(61874).Buffer,l=new Array(64);function p(){this.init(),this._w=l,v.call(this,64,56)}a(p,M),p.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},p.prototype._hash=function(){var o=C.allocUnsafe(28);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o},pe.exports=p},95891:function(pe,s,f){var a=f(2937),M=f(10288),v=f(61874).Buffer,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function p(){this.init(),this._w=l,M.call(this,64,56)}a(p,M),p.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function o(d,S,O){return O^d&(S^O)}function y(d,S,O){return d&S|O&(d|S)}function b(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function _(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function P(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function m(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}p.prototype._update=function(d){for(var S=this._w,O=this._a|0,z=this._b|0,j=this._c|0,G=this._d|0,B=this._e|0,K=this._f|0,F=this._g|0,re=this._h|0,V=0;V<16;++V)S[V]=d.readInt32BE(V*4);for(;V<64;++V)S[V]=m(S[V-2])+S[V-7]+P(S[V-15])+S[V-16]|0;for(var A=0;A<64;++A){var Z=re+_(B)+o(B,K,F)+C[A]+S[A]|0,ve=b(O)+y(O,z,j)|0;re=F,F=K,K=B,B=G+Z|0,G=j,j=z,z=O,O=Z+ve|0}this._a=O+this._a|0,this._b=z+this._b|0,this._c=j+this._c|0,this._d=G+this._d|0,this._e=B+this._e|0,this._f=K+this._f|0,this._g=F+this._g|0,this._h=re+this._h|0},p.prototype._hash=function(){var d=v.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},pe.exports=p},3826:function(pe,s,f){var a=f(2937),M=f(80408),v=f(10288),C=f(61874).Buffer,l=new Array(160);function p(){this.init(),this._w=l,v.call(this,128,112)}a(p,M),p.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},p.prototype._hash=function(){var o=C.allocUnsafe(48);function y(b,_,P){o.writeInt32BE(b,P),o.writeInt32BE(_,P+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),o},pe.exports=p},80408:function(pe,s,f){var a=f(2937),M=f(10288),v=f(61874).Buffer,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function p(){this.init(),this._w=l,M.call(this,128,112)}a(p,M),p.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function o(z,j,G){return G^z&(j^G)}function y(z,j,G){return z&j|G&(z|j)}function b(z,j){return(z>>>28|j<<4)^(j>>>2|z<<30)^(j>>>7|z<<25)}function _(z,j){return(z>>>14|j<<18)^(z>>>18|j<<14)^(j>>>9|z<<23)}function P(z,j){return(z>>>1|j<<31)^(z>>>8|j<<24)^z>>>7}function m(z,j){return(z>>>1|j<<31)^(z>>>8|j<<24)^(z>>>7|j<<25)}function d(z,j){return(z>>>19|j<<13)^(j>>>29|z<<3)^z>>>6}function S(z,j){return(z>>>19|j<<13)^(j>>>29|z<<3)^(z>>>6|j<<26)}function O(z,j){return z>>>0<j>>>0?1:0}p.prototype._update=function(z){for(var j=this._w,G=this._ah|0,B=this._bh|0,K=this._ch|0,F=this._dh|0,re=this._eh|0,V=this._fh|0,A=this._gh|0,Z=this._hh|0,ve=this._al|0,le=this._bl|0,we=this._cl|0,fe=this._dl|0,H=this._el|0,g=this._fl|0,x=this._gl|0,L=this._hl|0,I=0;I<32;I+=2)j[I]=z.readInt32BE(I*4),j[I+1]=z.readInt32BE(I*4+4);for(;I<160;I+=2){var N=j[I-30],W=j[I-15*2+1],Y=P(N,W),te=m(W,N);N=j[I-2*2],W=j[I-2*2+1];var T=d(N,W),ie=S(W,N),Pe=j[I-7*2],Fe=j[I-7*2+1],$e=j[I-16*2],ce=j[I-16*2+1],q=te+Fe|0,ee=Y+Pe+O(q,te)|0;q=q+ie|0,ee=ee+T+O(q,ie)|0,q=q+ce|0,ee=ee+$e+O(q,ce)|0,j[I]=ee,j[I+1]=q}for(var D=0;D<160;D+=2){ee=j[D],q=j[D+1];var ne=y(G,B,K),Ee=y(ve,le,we),oe=b(G,ve),se=b(ve,G),Oe=_(re,H),ke=_(H,re),Ke=C[D],Te=C[D+1],ot=o(re,V,A),Ve=o(H,g,x),Je=L+ke|0,Ae=Z+Oe+O(Je,L)|0;Je=Je+Ve|0,Ae=Ae+ot+O(Je,Ve)|0,Je=Je+Te|0,Ae=Ae+Ke+O(Je,Te)|0,Je=Je+q|0,Ae=Ae+ee+O(Je,q)|0;var Me=se+Ee|0,de=oe+ne+O(Me,se)|0;Z=A,L=x,A=V,x=g,V=re,g=H,H=fe+Je|0,re=F+Ae+O(H,fe)|0,F=K,fe=we,K=B,we=le,B=G,le=ve,ve=Je+Me|0,G=Ae+de+O(ve,Je)|0}this._al=this._al+ve|0,this._bl=this._bl+le|0,this._cl=this._cl+we|0,this._dl=this._dl+fe|0,this._el=this._el+H|0,this._fl=this._fl+g|0,this._gl=this._gl+x|0,this._hl=this._hl+L|0,this._ah=this._ah+G+O(this._al,ve)|0,this._bh=this._bh+B+O(this._bl,le)|0,this._ch=this._ch+K+O(this._cl,we)|0,this._dh=this._dh+F+O(this._dl,fe)|0,this._eh=this._eh+re+O(this._el,H)|0,this._fh=this._fh+V+O(this._fl,g)|0,this._gh=this._gh+A+O(this._gl,x)|0,this._hh=this._hh+Z+O(this._hl,L)|0},p.prototype._hash=function(){var z=v.allocUnsafe(64);function j(G,B,K){z.writeInt32BE(G,K),z.writeInt32BE(B,K+4)}return j(this._ah,this._al,0),j(this._bh,this._bl,8),j(this._ch,this._cl,16),j(this._dh,this._dl,24),j(this._eh,this._el,32),j(this._fh,this._fl,40),j(this._gh,this._gl,48),j(this._hh,this._hl,56),z},pe.exports=p},72699:function(pe,s,f){"use strict";var a=f(61874).Buffer,M=a.isEncoding||function(G){switch(G=""+G,G&&G.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function v(G){if(!G)return"utf8";for(var B;;)switch(G){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return G;default:if(B)return;G=(""+G).toLowerCase(),B=!0}}function C(G){var B=v(G);if(typeof B!="string"&&(a.isEncoding===M||!M(G)))throw new Error("Unknown encoding: "+G);return B||G}s.s=l;function l(G){this.encoding=C(G);var B;switch(this.encoding){case"utf16le":this.text=m,this.end=d,B=4;break;case"utf8":this.fillLast=b,B=4;break;case"base64":this.text=S,this.end=O,B=3;break;default:this.write=z,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(B)}l.prototype.write=function(G){if(G.length===0)return"";var B,K;if(this.lastNeed){if(B=this.fillLast(G),B===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<G.length?B?B+this.text(G,K):this.text(G,K):B||""},l.prototype.end=P,l.prototype.text=_,l.prototype.fillLast=function(G){if(this.lastNeed<=G.length)return G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,G.length),this.lastNeed-=G.length};function p(G){return G<=127?0:G>>5===6?2:G>>4===14?3:G>>3===30?4:G>>6===2?-1:-2}function o(G,B,K){var F=B.length-1;if(F<K)return 0;var re=p(B[F]);return re>=0?(re>0&&(G.lastNeed=re-1),re):--F<K||re===-2?0:(re=p(B[F]),re>=0?(re>0&&(G.lastNeed=re-2),re):--F<K||re===-2?0:(re=p(B[F]),re>=0?(re>0&&(re===2?re=0:G.lastNeed=re-3),re):0))}function y(G,B,K){if((B[0]&192)!==128)return G.lastNeed=0,"\uFFFD";if(G.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return G.lastNeed=1,"\uFFFD";if(G.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return G.lastNeed=2,"\uFFFD"}}function b(G){var B=this.lastTotal-this.lastNeed,K=y(this,G,B);if(K!==void 0)return K;if(this.lastNeed<=G.length)return G.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);G.copy(this.lastChar,B,0,G.length),this.lastNeed-=G.length}function _(G,B){var K=o(this,G,B);if(!this.lastNeed)return G.toString("utf8",B);this.lastTotal=K;var F=G.length-(K-this.lastNeed);return G.copy(this.lastChar,0,F),G.toString("utf8",B,F)}function P(G){var B=G&&G.length?this.write(G):"";return this.lastNeed?B+"\uFFFD":B}function m(G,B){if((G.length-B)%2===0){var K=G.toString("utf16le",B);if(K){var F=K.charCodeAt(K.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=G[G.length-1],G.toString("utf16le",B,G.length-1)}function d(G){var B=G&&G.length?this.write(G):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,K)}return B}function S(G,B){var K=(G.length-B)%3;return K===0?G.toString("base64",B):(this.lastNeed=3-K,this.lastTotal=3,K===1?this.lastChar[0]=G[G.length-1]:(this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1]),G.toString("base64",B,G.length-K))}function O(G){var B=G&&G.length?this.write(G):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function z(G){return G.toString(this.encoding)}function j(G){return G&&G.length?this.write(G):""}},9868:function(pe,s,f){"use strict";f.r(s),f.d(s,{default:function(){return a}});function a(M,v){return v=v||{},new Promise(function(C,l){var p=new XMLHttpRequest,o=[],y=[],b={},_=function(){return{ok:(p.status/100|0)==2,statusText:p.statusText,status:p.status,url:p.responseURL,text:function(){return Promise.resolve(p.responseText)},json:function(){return Promise.resolve(p.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([p.response]))},clone:_,headers:{keys:function(){return o},entries:function(){return y},get:function(m){return b[m.toLowerCase()]},has:function(m){return m.toLowerCase()in b}}}};for(var P in p.open(v.method||"get",M,!0),p.onload=function(){p.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(m,d,S){o.push(d=d.toLowerCase()),y.push([d,S]),b[d]=b[d]?b[d]+","+S:S}),C(_())},p.onerror=l,p.withCredentials=v.credentials=="include",v.headers)p.setRequestHeader(P,v.headers[P]);p.send(v.body||null)})}},48863:function(pe,s,f){pe.exports=a;function a(v,C){if(M("noDeprecation"))return v;var l=!1;function p(){if(!l){if(M("throwDeprecation"))throw new Error(C);M("traceDeprecation")?console.trace(C):console.warn(C),l=!0}return v.apply(this,arguments)}return p}function M(v){try{if(!f.g.localStorage)return!1}catch{return!1}var C=f.g.localStorage[v];return C==null?!1:String(C).toLowerCase()==="true"}},85783:function(pe){"use strict";pe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},26192:function(pe){pe.exports=f;var s=Object.prototype.hasOwnProperty;function f(){for(var a={},M=0;M<arguments.length;M++){var v=arguments[M];for(var C in v)s.call(v,C)&&(a[C]=v[C])}return a}},37928:function(pe){"use strict";pe.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let f=this.head;f;f=f.next)yield f.value}}},79900:function(pe,s,f){"use strict";pe.exports=a,a.Node=l,a.create=a;function a(p){var o=this;if(o instanceof a||(o=new a),o.tail=null,o.head=null,o.length=0,p&&typeof p.forEach=="function")p.forEach(function(_){o.push(_)});else if(arguments.length>0)for(var y=0,b=arguments.length;y<b;y++)o.push(arguments[y]);return o}a.prototype.removeNode=function(p){if(p.list!==this)throw new Error("removing node which does not belong to this list");var o=p.next,y=p.prev;return o&&(o.prev=y),y&&(y.next=o),p===this.head&&(this.head=o),p===this.tail&&(this.tail=y),p.list.length--,p.next=null,p.prev=null,p.list=null,o},a.prototype.unshiftNode=function(p){if(p!==this.head){p.list&&p.list.removeNode(p);var o=this.head;p.list=this,p.next=o,o&&(o.prev=p),this.head=p,this.tail||(this.tail=p),this.length++}},a.prototype.pushNode=function(p){if(p!==this.tail){p.list&&p.list.removeNode(p);var o=this.tail;p.list=this,p.prev=o,o&&(o.next=p),this.tail=p,this.head||(this.head=p),this.length++}},a.prototype.push=function(){for(var p=0,o=arguments.length;p<o;p++)v(this,arguments[p]);return this.length},a.prototype.unshift=function(){for(var p=0,o=arguments.length;p<o;p++)C(this,arguments[p]);return this.length},a.prototype.pop=function(){if(this.tail){var p=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,p}},a.prototype.shift=function(){if(this.head){var p=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,p}},a.prototype.forEach=function(p,o){o=o||this;for(var y=this.head,b=0;y!==null;b++)p.call(o,y.value,b,this),y=y.next},a.prototype.forEachReverse=function(p,o){o=o||this;for(var y=this.tail,b=this.length-1;y!==null;b--)p.call(o,y.value,b,this),y=y.prev},a.prototype.get=function(p){for(var o=0,y=this.head;y!==null&&o<p;o++)y=y.next;if(o===p&&y!==null)return y.value},a.prototype.getReverse=function(p){for(var o=0,y=this.tail;y!==null&&o<p;o++)y=y.prev;if(o===p&&y!==null)return y.value},a.prototype.map=function(p,o){o=o||this;for(var y=new a,b=this.head;b!==null;)y.push(p.call(o,b.value,this)),b=b.next;return y},a.prototype.mapReverse=function(p,o){o=o||this;for(var y=new a,b=this.tail;b!==null;)y.push(p.call(o,b.value,this)),b=b.prev;return y},a.prototype.reduce=function(p,o){var y,b=this.head;if(arguments.length>1)y=o;else if(this.head)b=this.head.next,y=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var _=0;b!==null;_++)y=p(y,b.value,_),b=b.next;return y},a.prototype.reduceReverse=function(p,o){var y,b=this.tail;if(arguments.length>1)y=o;else if(this.tail)b=this.tail.prev,y=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var _=this.length-1;b!==null;_--)y=p(y,b.value,_),b=b.prev;return y},a.prototype.toArray=function(){for(var p=new Array(this.length),o=0,y=this.head;y!==null;o++)p[o]=y.value,y=y.next;return p},a.prototype.toArrayReverse=function(){for(var p=new Array(this.length),o=0,y=this.tail;y!==null;o++)p[o]=y.value,y=y.prev;return p},a.prototype.slice=function(p,o){o=o||this.length,o<0&&(o+=this.length),p=p||0,p<0&&(p+=this.length);var y=new a;if(o<p||o<0)return y;p<0&&(p=0),o>this.length&&(o=this.length);for(var b=0,_=this.head;_!==null&&b<p;b++)_=_.next;for(;_!==null&&b<o;b++,_=_.next)y.push(_.value);return y},a.prototype.sliceReverse=function(p,o){o=o||this.length,o<0&&(o+=this.length),p=p||0,p<0&&(p+=this.length);var y=new a;if(o<p||o<0)return y;p<0&&(p=0),o>this.length&&(o=this.length);for(var b=this.length,_=this.tail;_!==null&&b>o;b--)_=_.prev;for(;_!==null&&b>p;b--,_=_.prev)y.push(_.value);return y},a.prototype.splice=function(p,o,...y){p>this.length&&(p=this.length-1),p<0&&(p=this.length+p);for(var b=0,_=this.head;_!==null&&b<p;b++)_=_.next;for(var P=[],b=0;_&&b<o;b++)P.push(_.value),_=this.removeNode(_);_===null&&(_=this.tail),_!==this.head&&_!==this.tail&&(_=_.prev);for(var b=0;b<y.length;b++)_=M(this,_,y[b]);return P},a.prototype.reverse=function(){for(var p=this.head,o=this.tail,y=p;y!==null;y=y.prev){var b=y.prev;y.prev=y.next,y.next=b}return this.head=o,this.tail=p,this};function M(p,o,y){var b=o===p.head?new l(y,null,o,p):new l(y,o,o.next,p);return b.next===null&&(p.tail=b),b.prev===null&&(p.head=b),p.length++,b}function v(p,o){p.tail=new l(o,p.tail,null,p),p.head||(p.head=p.tail),p.length++}function C(p,o){p.head=new l(o,null,p.head,p),p.tail||(p.tail=p.head),p.length++}function l(p,o,y,b){if(!(this instanceof l))return new l(p,o,y,b);this.list=b,this.value=p,o?(o.next=this,this.prev=o):this.prev=null,y?(y.prev=this,this.next=y):this.next=null}try{f(37928)(a)}catch{}},38887:function(pe,s,f){var a=f(61533);function M(v,C){var l=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!l){if(Array.isArray(v)||(l=a(v))||C&&v&&typeof v.length=="number"){l&&(v=l);var p=0,o=function(){};return{s:o,n:function(){return p>=v.length?{done:!0}:{done:!1,value:v[p++]}},e:function(m){throw m},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,b=!1,_;return{s:function(){l=l.call(v)},n:function(){var m=l.next();return y=m.done,m},e:function(m){b=!0,_=m},f:function(){try{!y&&l.return!=null&&l.return()}finally{if(b)throw _}}}}pe.exports=M,pe.exports.__esModule=!0,pe.exports.default=pe.exports},86984:function(pe,s,f){"use strict";const a=f(57828);pe.exports=l;const M=re().console||{},v={mapHttpRequest:O,mapHttpResponse:O,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:O,res:O,err:d};function C(V,A){return Array.isArray(V)?V.filter(function(ve){return ve!=="!stdSerializers.err"}):V===!0?Object.keys(A):!1}function l(V){V=V||{},V.browser=V.browser||{};const A=V.browser.transmit;if(A&&typeof A.send!="function")throw Error("pino: transmit option must have a send function");const Z=V.browser.write||M;V.browser.write&&(V.browser.asObject=!0);const ve=V.serializers||{},le=C(V.browser.serialize,ve);let we=V.browser.serialize;Array.isArray(V.browser.serialize)&&V.browser.serialize.indexOf("!stdSerializers.err")>-1&&(we=!1);const fe=["error","fatal","warn","info","debug","trace"];typeof Z=="function"&&(Z.error=Z.fatal=Z.warn=Z.info=Z.debug=Z.trace=Z),V.enabled===!1&&(V.level="silent");const H=V.level||"info",g=Object.create(Z);g.log||(g.log=j),Object.defineProperty(g,"levelVal",{get:L}),Object.defineProperty(g,"level",{get:I,set:N});const x={transmit:A,serialize:le,asObject:V.browser.asObject,levels:fe,timestamp:S(V)};g.levels=l.levels,g.level=H,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=j,g.serializers=ve,g._serialize=le,g._stdErrSerialize=we,g.child=W,A&&(g._logEvent=m());function L(){return this.level==="silent"?1/0:this.levels.values[this.level]}function I(){return this._level}function N(Y){if(Y!=="silent"&&!this.levels.values[Y])throw Error("unknown level "+Y);this._level=Y,p(x,g,"error","log"),p(x,g,"fatal","error"),p(x,g,"warn","error"),p(x,g,"info","log"),p(x,g,"debug","log"),p(x,g,"trace","log")}function W(Y,te){if(!Y)throw new Error("missing bindings for child Pino");te=te||{},le&&Y.serializers&&(te.serializers=Y.serializers);const T=te.serializers;if(le&&T){var ie=Object.assign({},ve,T),Pe=V.browser.serialize===!0?Object.keys(ie):le;delete Y.serializers,b([Y],Pe,ie,this._stdErrSerialize)}function Fe($e){this._childLevel=($e._childLevel|0)+1,this.error=_($e,Y,"error"),this.fatal=_($e,Y,"fatal"),this.warn=_($e,Y,"warn"),this.info=_($e,Y,"info"),this.debug=_($e,Y,"debug"),this.trace=_($e,Y,"trace"),ie&&(this.serializers=ie,this._serialize=Pe),A&&(this._logEvent=m([].concat($e._logEvent.bindings,Y)))}return Fe.prototype=this,new Fe(this)}return g}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers=v,l.stdTimeFunctions=Object.assign({},{nullTime:G,epochTime:B,unixTime:K,isoTime:F});function p(V,A,Z,ve){const le=Object.getPrototypeOf(A);A[Z]=A.levelVal>A.levels.values[Z]?j:le[Z]?le[Z]:M[Z]||M[ve]||j,o(V,A,Z)}function o(V,A,Z){!V.transmit&&A[Z]===j||(A[Z]=function(ve){return function(){const we=V.timestamp(),fe=new Array(arguments.length),H=Object.getPrototypeOf&&Object.getPrototypeOf(this)===M?M:this;for(var g=0;g<fe.length;g++)fe[g]=arguments[g];if(V.serialize&&!V.asObject&&b(fe,this._serialize,this.serializers,this._stdErrSerialize),V.asObject?ve.call(H,y(this,Z,fe,we)):ve.apply(H,fe),V.transmit){const x=V.transmit.level||A.level,L=l.levels.values[x],I=l.levels.values[Z];if(I<L)return;P(this,{ts:we,methodLevel:Z,methodValue:I,transmitLevel:x,transmitValue:l.levels.values[V.transmit.level||A.level],send:V.transmit.send,val:A.levelVal},fe)}}}(A[Z]))}function y(V,A,Z,ve){V._serialize&&b(Z,V._serialize,V.serializers,V._stdErrSerialize);const le=Z.slice();let we=le[0];const fe={};ve&&(fe.time=ve),fe.level=l.levels.values[A];let H=(V._childLevel|0)+1;if(H<1&&(H=1),we!==null&&typeof we=="object"){for(;H--&&typeof le[0]=="object";)Object.assign(fe,le.shift());we=le.length?a(le.shift(),le):void 0}else typeof we=="string"&&(we=a(le.shift(),le));return we!==void 0&&(fe.msg=we),fe}function b(V,A,Z,ve){for(const le in V)if(ve&&V[le]instanceof Error)V[le]=l.stdSerializers.err(V[le]);else if(typeof V[le]=="object"&&!Array.isArray(V[le]))for(const we in V[le])A&&A.indexOf(we)>-1&&we in Z&&(V[le][we]=Z[we](V[le][we]))}function _(V,A,Z){return function(){const ve=new Array(1+arguments.length);ve[0]=A;for(var le=1;le<ve.length;le++)ve[le]=arguments[le-1];return V[Z].apply(this,ve)}}function P(V,A,Z){const ve=A.send,le=A.ts,we=A.methodLevel,fe=A.methodValue,H=A.val,g=V._logEvent.bindings;b(Z,V._serialize||Object.keys(V.serializers),V.serializers,V._stdErrSerialize===void 0?!0:V._stdErrSerialize),V._logEvent.ts=le,V._logEvent.messages=Z.filter(function(x){return g.indexOf(x)===-1}),V._logEvent.level.label=we,V._logEvent.level.value=fe,ve(we,V._logEvent,H),V._logEvent=m(g)}function m(V){return{ts:0,messages:[],bindings:V||[],level:{label:"",value:0}}}function d(V){const A={type:V.constructor.name,msg:V.message,stack:V.stack};for(const Z in V)A[Z]===void 0&&(A[Z]=V[Z]);return A}function S(V){return typeof V.timestamp=="function"?V.timestamp:V.timestamp===!1?G:B}function O(){return{}}function z(V){return V}function j(){}function G(){return!1}function B(){return Date.now()}function K(){return Math.round(Date.now()/1e3)}function F(){return new Date(Date.now()).toISOString()}function re(){function V(A){return typeof A<"u"&&A}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return V(self)||V(window)||V(this)||{}}}},59038:function(pe,s,f){"use strict";f.d(s,{D:function(){return y}});var a=f(4325),M=f(57567),v=f(41988),C=f(80580),l=f(199),p=f(65487),o=f(38186);y.type="coinbaseWallet";function y(b){let P,m;return(0,M.K)(d=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:y.type,async connect({chainId:S}={}){try{const O=await this.getProvider(),z=(await O.request({method:"eth_requestAccounts"})).map(l.K);O.on("accountsChanged",this.onAccountsChanged),O.on("chainChanged",this.onChainChanged),O.on("disconnect",this.onDisconnect.bind(this));let j=await this.getChainId();if(S&&j!==S){const G=await this.switchChain({chainId:S}).catch(B=>{if(B.code===p.ab.code)throw B;return{id:j}});j=(G==null?void 0:G.id)??j}return{accounts:z,chainId:j}}catch(O){throw/(user closed modal|accounts received is empty|user denied account)/i.test(O.message)?new p.ab(O):O}},async disconnect(){const S=await this.getProvider();S.removeListener("accountsChanged",this.onAccountsChanged),S.removeListener("chainChanged",this.onChainChanged),S.removeListener("disconnect",this.onDisconnect.bind(this)),S.disconnect(),S.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l.K)},async getChainId(){const S=await this.getProvider();return(0,v.J)(S.chainId)},async getProvider(){var S;if(!m){P=new a.jp({reloadOnDisconnect:!1,...b});class O{}class z{}const j=(S=P.walletExtension)==null?void 0:S.getChainId(),G=d.chains.find(F=>b.chainId?F.id===b.chainId:F.id===j)||d.chains[0],B=b.chainId||(G==null?void 0:G.id),K=b.jsonRpcUrl||(G==null?void 0:G.rpcUrls.default.http[0]);m=P.makeWeb3Provider(K,B)}return m},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:S}){var G,B;const O=d.chains.find(K=>K.id===S);if(!O)throw new p.x3(new C.X4);const z=await this.getProvider(),j=(0,o.eC)(O.id);try{return await z.request({method:"wallet_switchEthereumChain",params:[{chainId:j}]}),O}catch(K){if(K.code===4902)try{return await z.request({method:"wallet_addEthereumChain",params:[{chainId:j,chainName:O.name,nativeCurrency:O.nativeCurrency,rpcUrls:[((G=O.rpcUrls.default)==null?void 0:G.http[0])??""],blockExplorerUrls:[(B=O.blockExplorers)==null?void 0:B.default.url]}]}),O}catch(F){throw new p.ab(F)}throw new p.x3(K)}},onAccountsChanged(S){S.length===0?d.emitter.emit("disconnect"):d.emitter.emit("change",{accounts:S.map(l.K)})},onChainChanged(S){const O=(0,v.J)(S);d.emitter.emit("change",{chainId:O})},async onDisconnect(S){d.emitter.emit("disconnect");const O=await this.getProvider();O.removeListener("accountsChanged",this.onAccountsChanged),O.removeListener("chainChanged",this.onChainChanged),O.removeListener("disconnect",this.onDisconnect.bind(this))}}))}},17182:function(pe,s,f){"use strict";f.d(s,{a:function(){return Zc}});var a={};f.r(a),f.d(a,{identity:function(){return Oe}});var M={};f.r(M),f.d(M,{base2:function(){return ke}});var v={};f.r(v),f.d(v,{base8:function(){return Ke}});var C={};f.r(C),f.d(C,{base10:function(){return Te}});var l={};f.r(l),f.d(l,{base16:function(){return ot},base16upper:function(){return Ve}});var p={};f.r(p),f.d(p,{base32:function(){return Je},base32hex:function(){return ye},base32hexpad:function(){return R},base32hexpadupper:function(){return k},base32hexupper:function(){return $},base32pad:function(){return Me},base32padupper:function(){return de},base32upper:function(){return Ae},base32z:function(){return ae}});var o={};f.r(o),f.d(o,{base36:function(){return me},base36upper:function(){return Re}});var y={};f.r(y),f.d(y,{base58btc:function(){return Se},base58flickr:function(){return We}});var b={};f.r(b),f.d(b,{base64:function(){return qe},base64pad:function(){return et},base64url:function(){return st},base64urlpad:function(){return at}});var _={};f.r(_),f.d(_,{base256emoji:function(){return Vt}});var P={};f.r(P),f.d(P,{sha256:function(){return kn},sha512:function(){return ji}});var m={};f.r(m),f.d(m,{identity:function(){return Ja}});var d={};f.r(d),f.d(d,{code:function(){return Io},decode:function(){return Za},encode:function(){return xo},name:function(){return $i}});var S={};f.r(S),f.d(S,{code:function(){return Co},decode:function(){return ec},encode:function(){return Xa},name:function(){return Qa}});var O=f(57567),z=f(86854),j=f(80580),G=f(41988),B=f(72100),K=f.n(B),F=f(11541),re=f(45306),V=f(4883),A=f(76846),Z=f(9267);function ve(u){return globalThis.Buffer!=null?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u}function le(u=0){return globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null?asUint8Array(globalThis.Buffer.alloc(u)):new Uint8Array(u)}function we(u=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ve(globalThis.Buffer.allocUnsafe(u)):new Uint8Array(u)}function fe(u,e){e||(e=u.reduce((E,Q)=>E+Q.length,0));const r=we(e);let h=0;for(const E of u)r.set(E,h),h+=E.length;return ve(r)}function H(u,e){if(u.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),h=0;h<r.length;h++)r[h]=255;for(var E=0;E<u.length;E++){var Q=u.charAt(E),ue=Q.charCodeAt(0);if(r[ue]!==255)throw new TypeError(Q+" is ambiguous");r[ue]=E}var Ie=u.length,Be=u.charAt(0),Ce=Math.log(Ie)/Math.log(256),Ne=Math.log(256)/Math.log(Ie);function ze(Ze){if(Ze instanceof Uint8Array||(ArrayBuffer.isView(Ze)?Ze=new Uint8Array(Ze.buffer,Ze.byteOffset,Ze.byteLength):Array.isArray(Ze)&&(Ze=Uint8Array.from(Ze))),!(Ze instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Ze.length===0)return"";for(var ht=0,bt=0,Dt=0,Xt=Ze.length;Dt!==Xt&&Ze[Dt]===0;)Dt++,ht++;for(var Ft=(Xt-Dt)*Ne+1>>>0,_t=new Uint8Array(Ft);Dt!==Xt;){for(var Ut=Ze[Dt],tr=0,Qt=Ft-1;(Ut!==0||tr<bt)&&Qt!==-1;Qt--,tr++)Ut+=256*_t[Qt]>>>0,_t[Qt]=Ut%Ie>>>0,Ut=Ut/Ie>>>0;if(Ut!==0)throw new Error("Non-zero carry");bt=tr,Dt++}for(var mr=Ft-bt;mr!==Ft&&_t[mr]===0;)mr++;for(var mn=Be.repeat(ht);mr<Ft;++mr)mn+=u.charAt(_t[mr]);return mn}function Ye(Ze){if(typeof Ze!="string")throw new TypeError("Expected String");if(Ze.length===0)return new Uint8Array;var ht=0;if(Ze[ht]!==" "){for(var bt=0,Dt=0;Ze[ht]===Be;)bt++,ht++;for(var Xt=(Ze.length-ht)*Ce+1>>>0,Ft=new Uint8Array(Xt);Ze[ht];){var _t=r[Ze.charCodeAt(ht)];if(_t===255)return;for(var Ut=0,tr=Xt-1;(_t!==0||Ut<Dt)&&tr!==-1;tr--,Ut++)_t+=Ie*Ft[tr]>>>0,Ft[tr]=_t%256>>>0,_t=_t/256>>>0;if(_t!==0)throw new Error("Non-zero carry");Dt=Ut,ht++}if(Ze[ht]!==" "){for(var Qt=Xt-Dt;Qt!==Xt&&Ft[Qt]===0;)Qt++;for(var mr=new Uint8Array(bt+(Xt-Qt)),mn=bt;Qt!==Xt;)mr[mn++]=Ft[Qt++];return mr}}}function ut(Ze){var ht=Ye(Ze);if(ht)return ht;throw new Error(`Non-${e} character`)}return{encode:ze,decodeUnsafe:Ye,decode:ut}}var g=H,x=g,L=x;const I=new Uint8Array(0),N=u=>u.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),W=u=>{const e=u.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):I},Y=(u,e)=>{if(u===e)return!0;if(u.byteLength!==e.byteLength)return!1;for(let r=0;r<u.byteLength;r++)if(u[r]!==e[r])return!1;return!0},te=u=>{if(u instanceof Uint8Array&&u.constructor.name==="Uint8Array")return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw new Error("Unknown type, must be binary type")},T=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),ie=u=>new TextEncoder().encode(u),Pe=u=>new TextDecoder().decode(u);class Fe{constructor(e,r,h){this.name=e,this.prefix=r,this.baseEncode=h}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $e{constructor(e,r,h){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=h}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return q(this,e)}}class ce{constructor(e){this.decoders=e}or(e){return q(this,e)}decode(e){const r=e[0],h=this.decoders[r];if(h)return h.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const q=(u,e)=>new ce({...u.decoders||{[u.prefix]:u},...e.decoders||{[e.prefix]:e}});class ee{constructor(e,r,h,E){this.name=e,this.prefix=r,this.baseEncode=h,this.baseDecode=E,this.encoder=new Fe(e,r,h),this.decoder=new $e(e,r,E)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const D=({name:u,prefix:e,encode:r,decode:h})=>new ee(u,e,r,h),ne=({prefix:u,name:e,alphabet:r})=>{const{encode:h,decode:E}=L(r,e);return D({prefix:u,name:e,encode:h,decode:Q=>te(E(Q))})},Ee=(u,e,r,h)=>{const E={};for(let Ne=0;Ne<e.length;++Ne)E[e[Ne]]=Ne;let Q=u.length;for(;u[Q-1]==="=";)--Q;const ue=new Uint8Array(Q*r/8|0);let Ie=0,Be=0,Ce=0;for(let Ne=0;Ne<Q;++Ne){const ze=E[u[Ne]];if(ze===void 0)throw new SyntaxError(`Non-${h} character`);Be=Be<<r|ze,Ie+=r,Ie>=8&&(Ie-=8,ue[Ce++]=255&Be>>Ie)}if(Ie>=r||255&Be<<8-Ie)throw new SyntaxError("Unexpected end of data");return ue},oe=(u,e,r)=>{const h=e[e.length-1]==="=",E=(1<<r)-1;let Q="",ue=0,Ie=0;for(let Be=0;Be<u.length;++Be)for(Ie=Ie<<8|u[Be],ue+=8;ue>r;)ue-=r,Q+=e[E&Ie>>ue];if(ue&&(Q+=e[E&Ie<<r-ue]),h)for(;Q.length*r&7;)Q+="=";return Q},se=({name:u,prefix:e,bitsPerChar:r,alphabet:h})=>D({prefix:e,name:u,encode(E){return oe(E,h,r)},decode(E){return Ee(E,h,r,u)}}),Oe=D({prefix:"\0",name:"identity",encode:u=>Pe(u),decode:u=>ie(u)}),ke=se({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ke=se({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Te=ne({prefix:"9",name:"base10",alphabet:"0123456789"}),ot=se({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ve=se({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Je=se({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ae=se({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Me=se({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),de=se({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ye=se({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$=se({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R=se({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),k=se({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ae=se({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),me=ne({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Re=ne({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Se=ne({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),We=ne({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qe=se({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),et=se({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),st=se({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),at=se({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),wt=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ct=wt.reduce((u,e,r)=>(u[r]=e,u),[]),At=wt.reduce((u,e,r)=>(u[e.codePointAt(0)]=r,u),[]);function mt(u){return u.reduce((e,r)=>(e+=Ct[r],e),"")}function Mt(u){const e=[];for(const r of u){const h=At[r.codePointAt(0)];if(h===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(h)}return new Uint8Array(e)}const Vt=D({prefix:"\u{1F680}",name:"base256emoji",encode:mt,decode:Mt});var vt=sr,gt=128,Gt=127,Pt=~Gt,Ot=Math.pow(2,31);function sr(u,e,r){e=e||[],r=r||0;for(var h=r;u>=Ot;)e[r++]=u&255|gt,u/=128;for(;u&Pt;)e[r++]=u&255|gt,u>>>=7;return e[r]=u|0,sr.bytes=r-h+1,e}var Tt=Rt,Nt=128,nr=127;function Rt(u,h){var r=0,h=h||0,E=0,Q=h,ue,Ie=u.length;do{if(Q>=Ie)throw Rt.bytes=0,new RangeError("Could not decode varint");ue=u[Q++],r+=E<28?(ue&nr)<<E:(ue&nr)*Math.pow(2,E),E+=7}while(ue>=Nt);return Rt.bytes=Q-h,r}var Et=Math.pow(2,7),ur=Math.pow(2,14),Lt=Math.pow(2,21),Bt=Math.pow(2,28),lr=Math.pow(2,35),or=Math.pow(2,42),Jt=Math.pow(2,49),Zn=Math.pow(2,56),ar=Math.pow(2,63),cr=function(u){return u<Et?1:u<ur?2:u<Lt?3:u<Bt?4:u<lr?5:u<or?6:u<Jt?7:u<Zn?8:u<ar?9:10},Ln={encode:vt,decode:Tt,encodingLength:cr},Bn=Ln,xr=Bn;const dn=(u,e=0)=>[xr.decode(u,e),xr.decode.bytes],qr=(u,e,r=0)=>(xr.encode(u,e,r),e),Qr=u=>xr.encodingLength(u),Xr=(u,e)=>{const r=e.byteLength,h=Qr(u),E=h+Qr(r),Q=new Uint8Array(E+r);return qr(u,Q,0),qr(r,Q,h),Q.set(e,E),new pn(u,r,e,Q)},Fn=u=>{const e=te(u),[r,h]=dn(e),[E,Q]=dn(e.subarray(h)),ue=e.subarray(h+Q);if(ue.byteLength!==E)throw new Error("Incorrect length");return new pn(r,E,ue,e)},en=(u,e)=>u===e?!0:u.code===e.code&&u.size===e.size&&Y(u.bytes,e.bytes);class pn{constructor(e,r,h,E){this.code=e,this.size=r,this.digest=h,this.bytes=E}}const Sn=({name:u,code:e,encode:r})=>new Tr(u,e,r);class Tr{constructor(e,r,h){this.name=e,this.code=r,this.encode=h}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Xr(this.code,r):r.then(h=>Xr(this.code,h))}else throw Error("Unknown type, must be binary type")}}const In=u=>async e=>new Uint8Array(await crypto.subtle.digest(u,e)),kn=Sn({name:"sha2-256",code:18,encode:In("SHA-256")}),ji=Sn({name:"sha2-512",code:19,encode:In("SHA-512")}),Si=0,Ui="identity",Ii=te,Ja={code:Si,name:Ui,encode:Ii,digest:u=>Xr(Si,Ii(u))},$i="raw",Io=85,xo=u=>te(u),Za=u=>te(u),Ya=new TextEncoder,qa=new TextDecoder,Qa="json",Co=512,Xa=u=>Ya.encode(JSON.stringify(u)),ec=u=>JSON.parse(qa.decode(u));class Nr{constructor(e,r,h,E){this.code=r,this.version=e,this.multihash=h,this.bytes=E,this.byteOffset=E.byteOffset,this.byteLength=E.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:as,byteLength:as,code:os,version:os,multihash:os,bytes:os,_baseCache:as,asCID:as})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==Hi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Yn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Nr.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,h=Xr(e,r);return Nr.createV1(this.code,h)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&en(this.multihash,e.multihash)}toString(e){const{bytes:r,version:h,_baseCache:E}=this;switch(h){case 0:return xi(r,E,e||Se.encoder);default:return tc(r,E,e||Je.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return oi(/^0\.0/,Do),!!(e&&(e[Ao]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Nr)return e;if(e!=null&&e.asCID===e){const{version:r,code:h,multihash:E,bytes:Q}=e;return new Nr(r,h,E,Q||Ro(r,h,E.bytes))}else if(e!=null&&e[Ao]===!0){const{version:r,multihash:h,code:E}=e,Q=Fn(h);return Nr.create(r,E,Q)}else return null}static create(e,r,h){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Hi)throw new Error(`Version 0 CID must use dag-pb (code: ${Hi}) block encoding`);return new Nr(e,r,h,h.bytes)}case 1:{const E=Ro(e,r,h.bytes);return new Nr(e,r,h,E)}default:throw new Error("Invalid version")}}static createV0(e){return Nr.create(0,Hi,e)}static createV1(e,r){return Nr.create(1,e,r)}static decode(e){const[r,h]=Nr.decodeFirst(e);if(h.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=Nr.inspectBytes(e),h=r.size-r.multihashSize,E=te(e.subarray(h,h+r.multihashSize));if(E.byteLength!==r.multihashSize)throw new Error("Incorrect length");const Q=E.subarray(r.multihashSize-r.digestSize),ue=new pn(r.multihashCode,r.digestSize,Q,E);return[r.version===0?Nr.createV0(ue):Nr.createV1(r.codec,ue),e.subarray(r.size)]}static inspectBytes(e){let r=0;const h=()=>{const[ze,Ye]=dn(e.subarray(r));return r+=Ye,ze};let E=h(),Q=Hi;if(E===18?(E=0,r=0):E===1&&(Q=h()),E!==0&&E!==1)throw new RangeError(`Invalid CID version ${E}`);const ue=r,Ie=h(),Be=h(),Ce=r+Be,Ne=Ce-ue;return{version:E,codec:Q,multihashCode:Ie,digestSize:Be,multihashSize:Ne,size:Ce}}static parse(e,r){const[h,E]=ss(e,r),Q=Nr.decode(E);return Q._baseCache.set(h,e),Q}}const ss=(u,e)=>{switch(u[0]){case"Q":{const r=e||Se;return[Se.prefix,r.decode(`${Se.prefix}${u}`)]}case Se.prefix:{const r=e||Se;return[Se.prefix,r.decode(u)]}case Je.prefix:{const r=e||Je;return[Je.prefix,r.decode(u)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],e.decode(u)]}}},xi=(u,e,r)=>{const{prefix:h}=r;if(h!==Se.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const E=e.get(h);if(E==null){const Q=r.encode(u).slice(1);return e.set(h,Q),Q}else return E},tc=(u,e,r)=>{const{prefix:h}=r,E=e.get(h);if(E==null){const Q=r.encode(u);return e.set(h,Q),Q}else return E},Hi=112,Yn=18,Ro=(u,e,r)=>{const h=Qr(u),E=h+Qr(e),Q=new Uint8Array(E+r.byteLength);return qr(u,Q,0),qr(e,Q,h),Q.set(r,E),Q},Ao=Symbol.for("@ipld/js-cid/CID"),os={writable:!1,configurable:!1,enumerable:!0},as={writable:!1,enumerable:!1,configurable:!1},rc="0.0.0-dev",oi=(u,e)=>{if(u.test(rc))console.warn(e);else throw new Error(e)},Do=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,Po={...a,...M,...v,...C,...l,...p,...o,...y,...b,..._},Fs={...P,...m},yl={raw:d,json:S};function cs(u,e,r,h){return{name:u,prefix:e,encoder:{name:u,prefix:e,encode:r},decoder:{decode:h}}}const Mo=cs("utf8","u",u=>"u"+new TextDecoder("utf8").decode(u),u=>new TextEncoder().encode(u.substring(1))),us=cs("ascii","a",u=>{let e="a";for(let r=0;r<u.length;r++)e+=String.fromCharCode(u[r]);return e},u=>{u=u.substring(1);const e=we(u.length);for(let r=0;r<u.length;r++)e[r]=u.charCodeAt(r);return e});var ks={utf8:Mo,"utf-8":Mo,hex:Po.base16,latin1:us,ascii:us,binary:us,...Po};function Cr(u,e="utf8"){const r=ks[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ve(globalThis.Buffer.from(u,"utf-8")):r.decoder.decode(`${r.prefix}${u}`)}function Lr(u,e="utf8"){const r=ks[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(u.buffer,u.byteOffset,u.byteLength).toString("utf8"):r.encoder.encode(u).substring(1)}var ls=f(14224),Oo=function(u,e,r){if(r||arguments.length===2)for(var h=0,E=e.length,Q;h<E;h++)(Q||!(h in e))&&(Q||(Q=Array.prototype.slice.call(e,0,h)),Q[h]=e[h]);return u.concat(Q||Array.prototype.slice.call(e))},ic=function(){function u(e,r,h){this.name=e,this.version=r,this.os=h,this.type="browser"}return u}(),xe=function(){function u(e){this.version=e,this.type="node",this.name="node",this.os=ls.platform}return u}(),je=function(){function u(e,r,h,E){this.name=e,this.version=r,this.os=h,this.bot=E,this.type="bot-device"}return u}(),nt=function(){function u(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return u}(),ft=function(){function u(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return u}(),hr=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,jt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,pr=3,Rr=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",hr]],Ar=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function gr(u){return u?Pr(u):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ft:typeof navigator<"u"?Pr(navigator.userAgent):rn()}function Hr(u){return u!==""&&Rr.reduce(function(e,r){var h=r[0],E=r[1];if(e)return e;var Q=E.exec(u);return!!Q&&[h,Q]},!1)}function xn(u){var e=Hr(u);return e?e[0]:null}function Pr(u){var e=Hr(u);if(!e)return null;var r=e[0],h=e[1];if(r==="searchbot")return new nt;var E=h[1]&&h[1].split(".").join("_").split("_").slice(0,3);E?E.length<pr&&(E=Oo(Oo([],E,!0),qn(pr-E.length),!0)):E=[];var Q=E.join("."),ue=tn(u),Ie=jt.exec(u);return Ie&&Ie[1]?new je(r,Q,ue,Ie[1]):new ic(r,Q,ue)}function tn(u){for(var e=0,r=Ar.length;e<r;e++){var h=Ar[e],E=h[0],Q=h[1],ue=Q.exec(u);if(ue)return E}return null}function rn(){var u=typeof ls<"u"&&ls.version;return u?new xe(ls.version.slice(1)):null}function qn(u){for(var e=[],r=0;r<u;r++)e.push("0");return e}var pt=f(46196),gn=f(73079),To=f(42669),ai=f(75280),js=f(87993);const ep={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var sc=f(14224);const No=":";function vl(u){const[e,r]=u.split(No);return{namespace:e,reference:r}}function tp(u){const{namespace:e,reference:r}=u;return[e,r].join(No)}function bl(u){const[e,r,h]=u.split(No);return{namespace:e,reference:r,address:h}}function rp(u){const{namespace:e,reference:r,address:h}=u;return[e,r,h].join(No)}function wl(u,e){const r=[];return u.forEach(h=>{const E=e(h);r.includes(E)||r.push(E)}),r}function np(u){const{address:e}=bl(u);return e}function ip(u){const{namespace:e,reference:r}=bl(u);return tp({namespace:e,reference:r})}function NS(u,e){const{namespace:r,reference:h}=vl(e);return rp({namespace:r,reference:h,address:u})}function LS(u){return wl(u,np)}function sp(u){return wl(u,ip)}function op(u,e=[]){const r=[];return Object.keys(u).forEach(h=>{if(e.length&&!e.includes(h))return;const E=u[h];r.push(...E.accounts)}),r}function BS(u,e=[]){const r=[];return Object.keys(u).forEach(h=>{if(e.length&&!e.includes(h))return;const E=u[h];r.push(...sp(E.accounts))}),r}function FS(u,e=[]){const r=[];return Object.keys(u).forEach(h=>{if(e.length&&!e.includes(h))return;const E=u[h];r.push(...oc(h,E))}),r}function oc(u,e){return u.includes(":")?[u]:e.chains||[]}const ac=u=>u==null?void 0:u.split(":"),ap=u=>{const e=u&&ac(u);if(e)return e[3]},kS=u=>{const e=u&&ac(u);if(e)return e[2]+":"+e[3]},cp=u=>{const e=u&&ac(u);if(e)return e.pop()},jS=(u,e)=>{const r=`${u.domain} wants you to sign in with your Ethereum account:`,h=cp(e),E=u.statement,Q=`URI: ${u.aud}`,ue=`Version: ${u.version}`,Ie=`Chain ID: ${ap(e)}`,Be=`Nonce: ${u.nonce}`,Ce=`Issued At: ${u.iat}`,Ne=u.resources&&u.resources.length>0?`Resources:
${u.resources.map(ze=>`- ${ze}`).join(`
`)}`:void 0;return[r,h,"",E,"",Q,ue,Ie,Be,Ce,Ne].filter(ze=>ze!=null).join(`
`)},_l="base10",Gr="base16",cc="base64pad",uc="utf8",El=0,zi=1,up=0,Sl=1,lc=12,hc=32;function lp(){const u=Z.Au();return{privateKey:Lr(u.secretKey,Gr),publicKey:Lr(u.publicKey,Gr)}}function fc(){const u=(0,V.randomBytes)(hc);return Lr(u,Gr)}function hp(u,e){const r=Z.gi(Cr(u,Gr),Cr(e,Gr),!0),h=new re.t(A.mE,r).expand(hc);return Lr(h,Gr)}function fp(u){const e=(0,A.vp)(Cr(u,Gr));return Lr(e,Gr)}function hs(u){const e=(0,A.vp)(Cr(u,uc));return Lr(e,Gr)}function dp(u){return Cr(`${u}`,_l)}function Us(u){return Number(Lr(u,_l))}function pp(u){const e=dp(typeof u.type<"u"?u.type:El);if(Us(e)===zi&&typeof u.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof u.senderPublicKey<"u"?Cr(u.senderPublicKey,Gr):void 0,h=typeof u.iv<"u"?Cr(u.iv,Gr):(0,V.randomBytes)(lc),E=new F.OK(Cr(u.symKey,Gr)).seal(h,Cr(u.message,uc));return mp({type:e,sealed:E,iv:h,senderPublicKey:r})}function gp(u){const e=new F.OK(Cr(u.symKey,Gr)),{sealed:r,iv:h}=Lo(u.encoded),E=e.open(h,r);if(E===null)throw new Error("Failed to decrypt");return Lr(E,uc)}function mp(u){if(Us(u.type)===zi){if(typeof u.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Lr(fe([u.type,u.senderPublicKey,u.iv,u.sealed]),cc)}return Lr(fe([u.type,u.iv,u.sealed]),cc)}function Lo(u){const e=Cr(u,cc),r=e.slice(up,Sl),h=Sl;if(Us(r)===zi){const Ie=h+hc,Be=Ie+lc,Ce=e.slice(h,Ie),Ne=e.slice(Ie,Be),ze=e.slice(Be);return{type:r,sealed:ze,iv:Ne,senderPublicKey:Ce}}const E=h+lc,Q=e.slice(h,E),ue=e.slice(E);return{type:r,sealed:ue,iv:Q}}function yp(u,e){const r=Lo(u);return Il({type:Us(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Lr(r.senderPublicKey,Gr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Il(u){const e=(u==null?void 0:u.type)||El;if(e===zi){if(typeof(u==null?void 0:u.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(u==null?void 0:u.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:u==null?void 0:u.senderPublicKey,receiverPublicKey:u==null?void 0:u.receiverPublicKey}}function xl(u){return u.type===zi&&typeof u.senderPublicKey=="string"&&typeof u.receiverPublicKey=="string"}var vp=Object.defineProperty,Cl=Object.getOwnPropertySymbols,bp=Object.prototype.hasOwnProperty,wp=Object.prototype.propertyIsEnumerable,Rl=(u,e,r)=>e in u?vp(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Al=(u,e)=>{for(var r in e||(e={}))bp.call(e,r)&&Rl(u,r,e[r]);if(Cl)for(var r of Cl(e))wp.call(e,r)&&Rl(u,r,e[r]);return u};const _p="ReactNative",nn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},dc=" ",US=":",Ep="/",Dl=2,$S=1e3,Sp="js";function pc(){return typeof sc<"u"&&typeof sc.versions<"u"&&typeof sc.versions.node<"u"}function fs(){return!(0,gn.getDocument)()&&!!(0,gn.getNavigator)()&&navigator.product===_p}function ds(){return!pc()&&!!(0,gn.getNavigator)()&&!!(0,gn.getDocument)()}function ps(){return fs()?nn.reactNative:pc()?nn.node:ds()?nn.browser:nn.unknown}function Ip(){var u;try{return fs()&&typeof f.g<"u"&&typeof(f.g==null?void 0:f.g.Application)<"u"?(u=f.g.Application)==null?void 0:u.applicationId:void 0}catch{return}}function xp(u,e){let r=ai.parse(u);return r=Al(Al({},r),e),u=ai.stringify(r),u}function Cp(){return(0,To.D)()||{name:"",description:"",url:"",icons:[""]}}function HS(u,e){var r;const h=ps(),E={protocol:u,version:e,env:h};return h==="browser"&&(E.host=((r=ge())==null?void 0:r.host)||"unknown"),E}function Rp(){if(ps()===nn.reactNative&&typeof f.g<"u"&&typeof(f.g==null?void 0:f.g.Platform)<"u"){const{OS:r,Version:h}=f.g.Platform;return[r,h].join("-")}const u=gr();if(u===null)return"unknown";const e=u.os?u.os.replace(" ","").toLowerCase():"unknown";return u.type==="browser"?[e,u.name,u.version].join("-"):[e,u.version].join("-")}function Ap(){var u;const e=ps();return e===nn.browser?[e,((u=(0,gn.getLocation)())==null?void 0:u.host)||"unknown"].join(":"):e}function Dp(u,e,r){const h=Rp(),E=Ap();return[[u,e].join("-"),[Sp,r].join("-"),h,E].join("/")}function Pp({protocol:u,version:e,relayUrl:r,sdkVersion:h,auth:E,projectId:Q,useOnCloseEvent:ue,bundleId:Ie}){const Be=r.split("?"),Ce=Dp(u,e,h),Ne={auth:E,ua:Ce,projectId:Q,useOnCloseEvent:ue||void 0,origin:Ie||void 0},ze=xp(Be[1]||"",Ne);return Be[0]+"?"+ze}function zS(u){let e=(u.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const r=typeof e<"u"?u.split("://")[1]:u;return e=e==="wss"?"https":"http",[e,r].join("://")}function WS(u,e,r){if(!u[e]||typeof u[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function Mp(u,e=Dl){return Op(u.split(Ep),e)}function VS(u){return Mp(u).join(dc)}function Wi(u,e){return u.filter(r=>e.includes(r)).length===u.length}function Op(u,e=Dl){return u.slice(Math.max(u.length-e,0))}function Pl(u){return Object.fromEntries(u.entries())}function Ml(u){return new Map(Object.entries(u))}function GS(u,e){const r={};return Object.keys(u).forEach(h=>{r[h]=e(u[h])}),r}const KS=u=>u;function Tp(u){return u.trim().replace(/^\w/,e=>e.toUpperCase())}function JS(u){return u.split(dc).map(e=>Tp(e)).join(dc)}function gs(u=pt.FIVE_MINUTES,e){const r=(0,pt.toMiliseconds)(u||pt.FIVE_MINUTES);let h,E,Q;return{resolve:ue=>{Q&&h&&(clearTimeout(Q),h(ue))},reject:ue=>{Q&&E&&(clearTimeout(Q),E(ue))},done:()=>new Promise((ue,Ie)=>{Q=setTimeout(()=>{Ie(new Error(e))},r),h=ue,E=Ie})}}function $s(u,e,r){return new Promise(async(h,E)=>{const Q=setTimeout(()=>E(new Error(r)),e);try{const ue=await u;h(ue)}catch(ue){E(ue)}clearTimeout(Q)})}function Ol(u,e){if(typeof e=="string"&&e.startsWith(`${u}:`))return e;if(u.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(u.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${u}`)}function Np(u){return Ol("topic",u)}function Lp(u){return Ol("id",u)}function Tl(u){const[e,r]=u.split(":"),h={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")h.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))h.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return h}function jn(u,e){return(0,pt.fromMiliseconds)((e||Date.now())+(0,pt.toMiliseconds)(u))}function Ci(u){return Date.now()>=(0,pt.toMiliseconds)(u)}function Dr(u,e){return`${u}${e?`:${e}`:""}`}function Qn(u=[],e=[]){return[...new Set([...u,...e])]}async function Bp({id:u,topic:e,wcDeepLink:r}){try{if(!r)return;const h=typeof r=="string"?JSON.parse(r):r;let E=h==null?void 0:h.href;if(typeof E!="string")return;E.endsWith("/")&&(E=E.slice(0,-1));const Q=`${E}/wc?requestId=${u}&sessionTopic=${e}`,ue=ps();ue===nn.browser?Q.startsWith("https://")?window.open(Q,"_blank","noreferrer noopener"):window.open(Q,"_self","noreferrer noopener"):ue===nn.reactNative&&typeof(f.g==null?void 0:f.g.Linking)<"u"&&await f.g.Linking.openURL(Q)}catch(h){console.error(h)}}async function Fp(u,e){try{return await u.getItem(e)||(ds()?localStorage.getItem(e):void 0)}catch(r){console.error(r)}}const kp="irn";function gc(u){return(u==null?void 0:u.relay)||{protocol:kp}}function Bo(u){const e=ep[u];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${u}`);return e}var jp=Object.defineProperty,Nl=Object.getOwnPropertySymbols,Up=Object.prototype.hasOwnProperty,$p=Object.prototype.propertyIsEnumerable,Ll=(u,e,r)=>e in u?jp(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Hp=(u,e)=>{for(var r in e||(e={}))Up.call(e,r)&&Ll(u,r,e[r]);if(Nl)for(var r of Nl(e))$p.call(e,r)&&Ll(u,r,e[r]);return u};function zp(u,e="-"){const r={},h="relay"+e;return Object.keys(u).forEach(E=>{if(E.startsWith(h)){const Q=E.replace(h,""),ue=u[E];r[Q]=ue}}),r}function Bl(u){u=u.includes("wc://")?u.replace("wc://",""):u,u=u.includes("wc:")?u.replace("wc:",""):u;const e=u.indexOf(":"),r=u.indexOf("?")!==-1?u.indexOf("?"):void 0,h=u.substring(0,e),E=u.substring(e+1,r).split("@"),Q=typeof r<"u"?u.substring(r):"",ue=ai.parse(Q);return{protocol:h,topic:Wp(E[0]),version:parseInt(E[1],10),symKey:ue.symKey,relay:zp(ue)}}function Wp(u){return u.startsWith("//")?u.substring(2):u}function Vp(u,e="-"){const r="relay",h={};return Object.keys(u).forEach(E=>{const Q=r+e+E;u[E]&&(h[Q]=u[E])}),h}function Gp(u){return`${u.protocol}:${u.topic}@${u.version}?`+ai.stringify(Hp({symKey:u.symKey},Vp(u.relay)))}var Kp=Object.defineProperty,Jp=Object.defineProperties,Zp=Object.getOwnPropertyDescriptors,Fl=Object.getOwnPropertySymbols,Yp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,kl=(u,e,r)=>e in u?Kp(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Qp=(u,e)=>{for(var r in e||(e={}))Yp.call(e,r)&&kl(u,r,e[r]);if(Fl)for(var r of Fl(e))qp.call(e,r)&&kl(u,r,e[r]);return u},Xp=(u,e)=>Jp(u,Zp(e));function ms(u){const e=[];return u.forEach(r=>{const[h,E]=r.split(":");e.push(`${h}:${E}`)}),e}function eg(u){const e=[];return Object.values(u).forEach(r=>{e.push(...ms(r.accounts))}),e}function tg(u,e){const r=[];return Object.values(u).forEach(h=>{ms(h.accounts).includes(e)&&r.push(...h.methods)}),r}function rg(u,e){const r=[];return Object.values(u).forEach(h=>{ms(h.accounts).includes(e)&&r.push(...h.events)}),r}function ng(u,e){const r=jo(u,e);if(r)throw new Error(r.message);const h={};for(const[E,Q]of Object.entries(u))h[E]={methods:Q.methods,events:Q.events,chains:Q.accounts.map(ue=>`${ue.split(":")[0]}:${ue.split(":")[1]}`)};return h}function ZS(u){const{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:h}=u,E=jl(e),Q=jl(r),ue={};Object.keys(h).forEach(Ce=>{const Ne=h[Ce].chains,ze=h[Ce].methods,Ye=h[Ce].events,ut=h[Ce].accounts;Ne.forEach(Ze=>{if(!ut.some(ht=>ht.includes(Ze)))throw new Error(`No accounts provided for chain ${Ze} in namespace ${Ce}`)}),ue[Ce]={chains:Ne,methods:ze,events:Ye,accounts:ut}});const Ie=yc(e,ue,"approve()");if(Ie)throw new Error(Ie.message);const Be={};return!Object.keys(e).length&&!Object.keys(r).length?ue:(Object.keys(E).forEach(Ce=>{const Ne=h[Ce].chains.filter(Ze=>{var ht,bt;return(bt=(ht=E[Ce])==null?void 0:ht.chains)==null?void 0:bt.includes(Ze)}),ze=h[Ce].methods.filter(Ze=>{var ht,bt;return(bt=(ht=E[Ce])==null?void 0:ht.methods)==null?void 0:bt.includes(Ze)}),Ye=h[Ce].events.filter(Ze=>{var ht,bt;return(bt=(ht=E[Ce])==null?void 0:ht.events)==null?void 0:bt.includes(Ze)}),ut=Ne.map(Ze=>h[Ce].accounts.filter(ht=>ht.includes(`${Ze}:`))).flat();Be[Ce]={chains:Ne,methods:ze,events:Ye,accounts:ut}}),Object.keys(Q).forEach(Ce=>{var Ne,ze,Ye,ut,Ze,ht;if(!h[Ce])return;const bt=(ze=(Ne=Q[Ce])==null?void 0:Ne.chains)==null?void 0:ze.filter(_t=>h[Ce].chains.includes(_t)),Dt=h[Ce].methods.filter(_t=>{var Ut,tr;return(tr=(Ut=Q[Ce])==null?void 0:Ut.methods)==null?void 0:tr.includes(_t)}),Xt=h[Ce].events.filter(_t=>{var Ut,tr;return(tr=(Ut=Q[Ce])==null?void 0:Ut.events)==null?void 0:tr.includes(_t)}),Ft=bt==null?void 0:bt.map(_t=>h[Ce].accounts.filter(Ut=>Ut.includes(`${_t}:`))).flat();Be[Ce]={chains:Qn((Ye=Be[Ce])==null?void 0:Ye.chains,bt),methods:Qn((ut=Be[Ce])==null?void 0:ut.methods,Dt),events:Qn((Ze=Be[Ce])==null?void 0:Ze.events,Xt),accounts:Qn((ht=Be[Ce])==null?void 0:ht.accounts,Ft)}}),Be)}function Fo(u){return u.includes(":")}function ys(u){return Fo(u)?u.split(":")[0]:u}function jl(u){var e,r,h;const E={};if(!Vi(u))return E;for(const[Q,ue]of Object.entries(u)){const Ie=Fo(Q)?[Q]:ue.chains,Be=ue.methods||[],Ce=ue.events||[],Ne=ys(Q);E[Ne]=Xp(Qp({},E[Ne]),{chains:Qn(Ie,(e=E[Ne])==null?void 0:e.chains),methods:Qn(Be,(r=E[Ne])==null?void 0:r.methods),events:Qn(Ce,(h=E[Ne])==null?void 0:h.events)})}return E}const ig={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},sg={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ct(u,e){const{message:r,code:h}=sg[u];return{message:e?`${r} ${e}`:r,code:h}}function _r(u,e){const{message:r,code:h}=ig[u];return{message:e?`${r} ${e}`:r,code:h}}function Xn(u,e){return Array.isArray(u)?typeof e<"u"&&u.length?u.every(e):!0:!1}function Vi(u){return Object.getPrototypeOf(u)===Object.prototype&&Object.keys(u).length}function Kr(u){return typeof u>"u"}function Br(u,e){return e&&Kr(u)?!0:typeof u=="string"&&!!u.trim().length}function mc(u,e){return e&&Kr(u)?!0:typeof u=="number"&&!isNaN(u)}function og(u,e){const{requiredNamespaces:r}=e,h=Object.keys(u.namespaces),E=Object.keys(r);let Q=!0;return Wi(E,h)?(h.forEach(ue=>{const{accounts:Ie,methods:Be,events:Ce}=u.namespaces[ue],Ne=ms(Ie),ze=r[ue];(!Wi(oc(ue,ze),Ne)||!Wi(ze.methods,Be)||!Wi(ze.events,Ce))&&(Q=!1)}),Q):!1}function ko(u){return Br(u,!1)&&u.includes(":")?u.split(":").length===2:!1}function ag(u){if(Br(u,!1)&&u.includes(":")){const e=u.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&ko(r)}}return!1}function cg(u){if(Br(u,!1))try{return typeof new URL(u)<"u"}catch{return!1}return!1}function ug(u){var e;return(e=u==null?void 0:u.proposer)==null?void 0:e.publicKey}function lg(u){return u==null?void 0:u.topic}function hg(u,e){let r=null;return Br(u==null?void 0:u.publicKey,!1)||(r=ct("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Ul(u){let e=!0;return Xn(u)?u.length&&(e=u.every(r=>Br(r,!1))):e=!1,e}function fg(u,e,r){let h=null;return Xn(e)&&e.length?e.forEach(E=>{h||ko(E)||(h=_r("UNSUPPORTED_CHAINS",`${r}, chain ${E} should be a string and conform to "namespace:chainId" format`))}):ko(u)||(h=_r("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),h}function dg(u,e,r){let h=null;return Object.entries(u).forEach(([E,Q])=>{if(h)return;const ue=fg(E,oc(E,Q),`${e} ${r}`);ue&&(h=ue)}),h}function pg(u,e){let r=null;return Xn(u)?u.forEach(h=>{r||ag(h)||(r=_r("UNSUPPORTED_ACCOUNTS",`${e}, account ${h} should be a string and conform to "namespace:chainId:address" format`))}):r=_r("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function gg(u,e){let r=null;return Object.values(u).forEach(h=>{if(r)return;const E=pg(h==null?void 0:h.accounts,`${e} namespace`);E&&(r=E)}),r}function mg(u,e){let r=null;return Ul(u==null?void 0:u.methods)?Ul(u==null?void 0:u.events)||(r=_r("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=_r("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function $l(u,e){let r=null;return Object.values(u).forEach(h=>{if(r)return;const E=mg(h,`${e}, namespace`);E&&(r=E)}),r}function yg(u,e,r){let h=null;if(u&&Vi(u)){const E=$l(u,e);E&&(h=E);const Q=dg(u,e,r);Q&&(h=Q)}else h=ct("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return h}function jo(u,e){let r=null;if(u&&Vi(u)){const h=$l(u,e);h&&(r=h);const E=gg(u,e);E&&(r=E)}else r=ct("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Hl(u){return Br(u.protocol,!0)}function vg(u,e){let r=!1;return e&&!u?r=!0:u&&Xn(u)&&u.length&&u.forEach(h=>{r=Hl(h)}),r}function bg(u){return typeof u=="number"}function sn(u){return typeof u<"u"&&typeof u!==null}function wg(u){return!(!u||typeof u!="object"||!u.code||!mc(u.code,!1)||!u.message||!Br(u.message,!1))}function _g(u){return!(Kr(u)||!Br(u.method,!1))}function Eg(u){return!(Kr(u)||Kr(u.result)&&Kr(u.error)||!mc(u.id,!1)||!Br(u.jsonrpc,!1))}function Sg(u){return!(Kr(u)||!Br(u.name,!1))}function zl(u,e){return!(!ko(e)||!eg(u).includes(e))}function Ig(u,e,r){return Br(r,!1)?tg(u,e).includes(r):!1}function xg(u,e,r){return Br(r,!1)?rg(u,e).includes(r):!1}function yc(u,e,r){let h=null;const E=Cg(u),Q=Rg(e),ue=Object.keys(E),Ie=Object.keys(Q),Be=Wl(Object.keys(u)),Ce=Wl(Object.keys(e)),Ne=Be.filter(ze=>!Ce.includes(ze));return Ne.length&&(h=ct("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${Ne.toString()}
      Received: ${Object.keys(e).toString()}`)),Wi(ue,Ie)||(h=ct("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${ue.toString()}
      Approved: ${Ie.toString()}`)),Object.keys(e).forEach(ze=>{if(!ze.includes(":")||h)return;const Ye=ms(e[ze].accounts);Ye.includes(ze)||(h=ct("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${ze}
        Required: ${ze}
        Approved: ${Ye.toString()}`))}),ue.forEach(ze=>{h||(Wi(E[ze].methods,Q[ze].methods)?Wi(E[ze].events,Q[ze].events)||(h=ct("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${ze}`)):h=ct("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${ze}`))}),h}function Cg(u){const e={};return Object.keys(u).forEach(r=>{var h;r.includes(":")?e[r]=u[r]:(h=u[r].chains)==null||h.forEach(E=>{e[E]={methods:u[r].methods,events:u[r].events}})}),e}function Wl(u){return[...new Set(u.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Rg(u){const e={};return Object.keys(u).forEach(r=>{if(r.includes(":"))e[r]=u[r];else{const h=ms(u[r].accounts);h==null||h.forEach(E=>{e[E]={accounts:u[r].accounts.filter(Q=>Q.includes(`${E}:`)),methods:u[r].methods,events:u[r].events}})}}),e}function Ag(u,e){return mc(u,!1)&&u<=e.max&&u>=e.min}function Vl(){const u=ps();return new Promise(e=>{switch(u){case nn.browser:e(Dg());break;case nn.reactNative:e(Pg());break;case nn.node:e(Mg());break;default:e(!0)}})}function Dg(){return ds()&&(navigator==null?void 0:navigator.onLine)}async function Pg(){if(fs()&&typeof f.g<"u"&&f.g!=null&&f.g.NetInfo){const u=await(f.g==null?void 0:f.g.NetInfo.fetch());return u==null?void 0:u.isConnected}return!0}function Mg(){return!0}function Og(u){switch(ps()){case nn.browser:Tg(u);break;case nn.reactNative:Ng(u);break;case nn.node:break}}function Tg(u){!fs()&&ds()&&(window.addEventListener("online",()=>u(!0)),window.addEventListener("offline",()=>u(!1)))}function Ng(u){var e;fs()&&typeof f.g<"u"&&f.g!=null&&f.g.NetInfo&&((e=f.g)==null||e.NetInfo.addEventListener(r=>u(r==null?void 0:r.isConnected)))}const vc={};class Uo{static get(e){return vc[e]}static set(e,r){vc[e]=r}static delete(e){delete vc[e]}}const Lg=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Bg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Fg=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function kg(u,e){if(u==="__proto__"||u==="constructor"&&e&&typeof e=="object"&&"prototype"in e){jg(u);return}return e}function jg(u){console.warn(`[destr] Dropping "${u}" key to prevent prototype pollution.`)}function Hs(u,e={}){if(typeof u!="string")return u;const r=u.trim();if(u[0]==='"'&&u.at(-1)==='"'&&!u.includes("\\"))return r.slice(1,-1);if(r.length<=9){const h=r.toLowerCase();if(h==="true")return!0;if(h==="false")return!1;if(h==="undefined")return;if(h==="null")return null;if(h==="nan")return Number.NaN;if(h==="infinity")return Number.POSITIVE_INFINITY;if(h==="-infinity")return Number.NEGATIVE_INFINITY}if(!Fg.test(u)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return u}try{if(Lg.test(u)||Bg.test(u)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(u,kg)}return JSON.parse(u)}catch(h){if(e.strict)throw h;return u}}function YS(u,e={}){return Hs(u,{...e,strict:!0})}var bc=f(55872).Buffer;function Ug(u){return!u||typeof u.then!="function"?Promise.resolve(u):u}function Fr(u,...e){try{return Ug(u(...e))}catch(r){return Promise.reject(r)}}function $g(u){const e=typeof u;return u===null||e!=="object"&&e!=="function"}function Hg(u){const e=Object.getPrototypeOf(u);return!e||e.isPrototypeOf(Object)}function $o(u){if($g(u))return String(u);if(Hg(u)||Array.isArray(u))return JSON.stringify(u);if(typeof u.toJSON=="function")return $o(u.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Gl(){if(typeof bc===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const wc="base64:";function zg(u){if(typeof u=="string")return u;Gl();const e=bc.from(u).toString("base64");return wc+e}function Wg(u){return typeof u!="string"||!u.startsWith(wc)?u:(Gl(),bc.from(u.slice(wc.length),"base64"))}const Vg=null;function qS(u,e){if(e=zs(e),!e)return u;const r={...u};for(const h of Vg)r[h]=(E="",...Q)=>u[h](e+E,...Q);return r.getKeys=(h="",...E)=>u.getKeys(e+h,...E).then(Q=>Q.map(ue=>ue.slice(e.length))),r}function on(u){return u?u.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Gg(...u){return on(u.join(":"))}function zs(u){return u=on(u),u?u+":":""}function QS(u){return u}const Kg="memory",Jg=()=>{const u=new Map;return{name:Kg,options:{},hasItem(e){return u.has(e)},getItem(e){return u.get(e)??null},getItemRaw(e){return u.get(e)??null},setItem(e,r){u.set(e,r)},setItemRaw(e,r){u.set(e,r)},removeItem(e){u.delete(e)},getKeys(){return Array.from(u.keys())},clear(){u.clear()},dispose(){u.clear()}}};function Zg(u={}){const e={mounts:{"":u.driver||Jg()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=Ce=>{for(const Ne of e.mountpoints)if(Ce.startsWith(Ne))return{base:Ne,relativeKey:Ce.slice(Ne.length),driver:e.mounts[Ne]};return{base:"",relativeKey:Ce,driver:e.mounts[""]}},h=(Ce,Ne)=>e.mountpoints.filter(ze=>ze.startsWith(Ce)||Ne&&Ce.startsWith(ze)).map(ze=>({relativeBase:Ce.length>ze.length?Ce.slice(ze.length):void 0,mountpoint:ze,driver:e.mounts[ze]})),E=(Ce,Ne)=>{if(e.watching){Ne=on(Ne);for(const ze of e.watchListeners)ze(Ce,Ne)}},Q=async()=>{if(!e.watching){e.watching=!0;for(const Ce in e.mounts)e.unwatch[Ce]=await Kl(e.mounts[Ce],E,Ce)}},ue=async()=>{if(e.watching){for(const Ce in e.unwatch)await e.unwatch[Ce]();e.unwatch={},e.watching=!1}},Ie=(Ce,Ne,ze)=>{const Ye=new Map,ut=Ze=>{let ht=Ye.get(Ze.base);return ht||(ht={driver:Ze.driver,base:Ze.base,items:[]},Ye.set(Ze.base,ht)),ht};for(const Ze of Ce){const ht=typeof Ze=="string",bt=on(ht?Ze:Ze.key),Dt=ht?void 0:Ze.value,Xt=ht||!Ze.options?Ne:{...Ne,...Ze.options},Ft=r(bt);ut(Ft).items.push({key:bt,value:Dt,relativeKey:Ft.relativeKey,options:Xt})}return Promise.all([...Ye.values()].map(Ze=>ze(Ze))).then(Ze=>Ze.flat())},Be={hasItem(Ce,Ne={}){Ce=on(Ce);const{relativeKey:ze,driver:Ye}=r(Ce);return Fr(Ye.hasItem,ze,Ne)},getItem(Ce,Ne={}){Ce=on(Ce);const{relativeKey:ze,driver:Ye}=r(Ce);return Fr(Ye.getItem,ze,Ne).then(ut=>Hs(ut))},getItems(Ce,Ne){return Ie(Ce,Ne,ze=>ze.driver.getItems?Fr(ze.driver.getItems,ze.items.map(Ye=>({key:Ye.relativeKey,options:Ye.options})),Ne).then(Ye=>Ye.map(ut=>({key:Gg(ze.base,ut.key),value:Hs(ut.value)}))):Promise.all(ze.items.map(Ye=>Fr(ze.driver.getItem,Ye.relativeKey,Ye.options).then(ut=>({key:Ye.key,value:Hs(ut)})))))},getItemRaw(Ce,Ne={}){Ce=on(Ce);const{relativeKey:ze,driver:Ye}=r(Ce);return Ye.getItemRaw?Fr(Ye.getItemRaw,ze,Ne):Fr(Ye.getItem,ze,Ne).then(ut=>Wg(ut))},async setItem(Ce,Ne,ze={}){if(Ne===void 0)return Be.removeItem(Ce);Ce=on(Ce);const{relativeKey:Ye,driver:ut}=r(Ce);ut.setItem&&(await Fr(ut.setItem,Ye,$o(Ne),ze),ut.watch||E("update",Ce))},async setItems(Ce,Ne){await Ie(Ce,Ne,async ze=>{ze.driver.setItems&&await Fr(ze.driver.setItems,ze.items.map(Ye=>({key:Ye.relativeKey,value:$o(Ye.value),options:Ye.options})),Ne),ze.driver.setItem&&await Promise.all(ze.items.map(Ye=>Fr(ze.driver.setItem,Ye.relativeKey,$o(Ye.value),Ye.options)))})},async setItemRaw(Ce,Ne,ze={}){if(Ne===void 0)return Be.removeItem(Ce,ze);Ce=on(Ce);const{relativeKey:Ye,driver:ut}=r(Ce);if(ut.setItemRaw)await Fr(ut.setItemRaw,Ye,Ne,ze);else if(ut.setItem)await Fr(ut.setItem,Ye,zg(Ne),ze);else return;ut.watch||E("update",Ce)},async removeItem(Ce,Ne={}){typeof Ne=="boolean"&&(Ne={removeMeta:Ne}),Ce=on(Ce);const{relativeKey:ze,driver:Ye}=r(Ce);Ye.removeItem&&(await Fr(Ye.removeItem,ze,Ne),(Ne.removeMeta||Ne.removeMata)&&await Fr(Ye.removeItem,ze+"$",Ne),Ye.watch||E("remove",Ce))},async getMeta(Ce,Ne={}){typeof Ne=="boolean"&&(Ne={nativeOnly:Ne}),Ce=on(Ce);const{relativeKey:ze,driver:Ye}=r(Ce),ut=Object.create(null);if(Ye.getMeta&&Object.assign(ut,await Fr(Ye.getMeta,ze,Ne)),!Ne.nativeOnly){const Ze=await Fr(Ye.getItem,ze+"$",Ne).then(ht=>Hs(ht));Ze&&typeof Ze=="object"&&(typeof Ze.atime=="string"&&(Ze.atime=new Date(Ze.atime)),typeof Ze.mtime=="string"&&(Ze.mtime=new Date(Ze.mtime)),Object.assign(ut,Ze))}return ut},setMeta(Ce,Ne,ze={}){return this.setItem(Ce+"$",Ne,ze)},removeMeta(Ce,Ne={}){return this.removeItem(Ce+"$",Ne)},async getKeys(Ce,Ne={}){Ce=zs(Ce);const ze=h(Ce,!0);let Ye=[];const ut=[];for(const Ze of ze){const bt=(await Fr(Ze.driver.getKeys,Ze.relativeBase,Ne)).map(Dt=>Ze.mountpoint+on(Dt)).filter(Dt=>!Ye.some(Xt=>Dt.startsWith(Xt)));ut.push(...bt),Ye=[Ze.mountpoint,...Ye.filter(Dt=>!Dt.startsWith(Ze.mountpoint))]}return Ce?ut.filter(Ze=>Ze.startsWith(Ce)&&!Ze.endsWith("$")):ut.filter(Ze=>!Ze.endsWith("$"))},async clear(Ce,Ne={}){Ce=zs(Ce),await Promise.all(h(Ce,!1).map(async ze=>{if(ze.driver.clear)return Fr(ze.driver.clear,ze.relativeBase,Ne);if(ze.driver.removeItem){const Ye=await ze.driver.getKeys(ze.relativeBase||"",Ne);return Promise.all(Ye.map(ut=>ze.driver.removeItem(ut,Ne)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(Ce=>Jl(Ce)))},async watch(Ce){return await Q(),e.watchListeners.push(Ce),async()=>{e.watchListeners=e.watchListeners.filter(Ne=>Ne!==Ce),e.watchListeners.length===0&&await ue()}},async unwatch(){e.watchListeners=[],await ue()},mount(Ce,Ne){if(Ce=zs(Ce),Ce&&e.mounts[Ce])throw new Error(`already mounted at ${Ce}`);return Ce&&(e.mountpoints.push(Ce),e.mountpoints.sort((ze,Ye)=>Ye.length-ze.length)),e.mounts[Ce]=Ne,e.watching&&Promise.resolve(Kl(Ne,E,Ce)).then(ze=>{e.unwatch[Ce]=ze}).catch(console.error),Be},async unmount(Ce,Ne=!0){Ce=zs(Ce),!(!Ce||!e.mounts[Ce])&&(e.watching&&Ce in e.unwatch&&(e.unwatch[Ce](),delete e.unwatch[Ce]),Ne&&await Jl(e.mounts[Ce]),e.mountpoints=e.mountpoints.filter(ze=>ze!==Ce),delete e.mounts[Ce])},getMount(Ce=""){Ce=on(Ce)+":";const Ne=r(Ce);return{driver:Ne.driver,base:Ne.base}},getMounts(Ce="",Ne={}){return Ce=on(Ce),h(Ce,Ne.parents).map(Ye=>({driver:Ye.driver,base:Ye.mountpoint}))}};return Be}async function XS(u,e){e=normalizeBaseKey(e);const r=await u.getKeys(e),h={};return await Promise.all(r.map(async E=>{h[E.slice(e.length)]=await u.getItem(E)})),h}async function e4(u,e,r=""){r=normalizeBaseKey(r),await Promise.all(Object.entries(e).map(h=>u.setItem(r+h[0],h[1])))}function Kl(u,e,r){return u.watch?u.watch((h,E)=>e(h,r+E)):()=>{}}async function Jl(u){typeof u.dispose=="function"&&await Fr(u.dispose)}const t4={azureAppConfiguration:"unstorage/drivers/azure-app-configuration",azureCosmos:"unstorage/drivers/azure-cosmos",azureKeyVault:"unstorage/drivers/azure-key-vault",azureStorageBlob:"unstorage/drivers/azure-storage-blob",azureStorageTable:"unstorage/drivers/azure-storage-table",cloudflareKVBinding:"unstorage/drivers/cloudflare-kv-binding",cloudflareKVHTTP:"unstorage/drivers/cloudflare-kv-http",cloudflareR2Binding:"unstorage/drivers/cloudflare-r2-binding",fs:"unstorage/drivers/fs",fsLite:"unstorage/drivers/fs-lite",github:"unstorage/drivers/github",http:"unstorage/drivers/http",indexedb:"unstorage/drivers/indexedb",localStorage:"unstorage/drivers/localstorage",lruCache:"unstorage/drivers/lru-cache",memory:"unstorage/drivers/memory",mongodb:"unstorage/drivers/mongodb",netlifyBlobs:"unstorage/drivers/netlify-blobs",overlay:"unstorage/drivers/overlay",planetscale:"unstorage/drivers/planetscale",redis:"unstorage/drivers/redis",sessionStorage:"unstorage/drivers/session-storage",vercelKV:"unstorage/drivers/vercel-kv","cloudflare-kv-binding":"unstorage/drivers/cloudflare-kv-binding","cloudflare-kv-http":"unstorage/drivers/cloudflare-kv-http"};function an(u){return new Promise((e,r)=>{u.oncomplete=u.onsuccess=()=>e(u.result),u.onabort=u.onerror=()=>r(u.error)})}function Zl(u,e){const r=indexedDB.open(u);r.onupgradeneeded=()=>r.result.createObjectStore(e);const h=an(r);return(E,Q)=>h.then(ue=>Q(ue.transaction(e,E).objectStore(e)))}let _c;function Un(){return _c||(_c=Zl("keyval-store","keyval")),_c}function Yl(u,e=Un()){return e("readonly",r=>an(r.get(u)))}function Yg(u,e,r=Un()){return r("readwrite",h=>(h.put(e,u),an(h.transaction)))}function r4(u,e=Un()){return e("readwrite",r=>(u.forEach(h=>r.put(h[1],h[0])),an(r.transaction)))}function n4(u,e=Un()){return e("readonly",r=>Promise.all(u.map(h=>an(r.get(h)))))}function i4(u,e,r=Un()){return r("readwrite",h=>new Promise((E,Q)=>{h.get(u).onsuccess=function(){try{h.put(e(this.result),u),E(an(h.transaction))}catch(ue){Q(ue)}}}))}function qg(u,e=Un()){return e("readwrite",r=>(r.delete(u),an(r.transaction)))}function s4(u,e=Un()){return e("readwrite",r=>(u.forEach(h=>r.delete(h)),an(r.transaction)))}function Qg(u=Un()){return u("readwrite",e=>(e.clear(),an(e.transaction)))}function Ec(u,e){return u.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},an(u.transaction)}function Xg(u=Un()){return u("readonly",e=>{if(e.getAllKeys)return an(e.getAllKeys());const r=[];return Ec(e,h=>r.push(h.key)).then(()=>r)})}function o4(u=Un()){return u("readonly",e=>{if(e.getAll)return an(e.getAll());const r=[];return Ec(e,h=>r.push(h.value)).then(()=>r)})}function a4(u=Un()){return u("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([an(e.getAllKeys()),an(e.getAll())]).then(([h,E])=>h.map((Q,ue)=>[Q,E[ue]]));const r=[];return u("readonly",h=>Ec(h,E=>r.push([E.key,E.value])).then(()=>r))})}const e1=u=>JSON.stringify(u,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),t1=u=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=u.replace(e,'$1"$2n"$3');return JSON.parse(r,(h,E)=>typeof E=="string"&&E.match(/^\d+n$/)?BigInt(E.substring(0,E.length-1)):E)};function Ws(u){if(typeof u!="string")throw new Error(`Cannot safe json parse value of type ${typeof u}`);try{return t1(u)}catch{return u}}function Gi(u){return typeof u=="string"?u:e1(u)||""}function c4(u){return u}const r1="idb-keyval";var n1=(u={})=>{const e=u.base&&u.base.length>0?`${u.base}:`:"",r=E=>e+E;let h;return u.dbName&&u.storeName&&(h=Zl(u.dbName,u.storeName)),{name:r1,options:u,async hasItem(E){return!(typeof await Yl(r(E),h)>"u")},async getItem(E){return await Yl(r(E),h)??null},setItem(E,Q){return Yg(r(E),Q,h)},removeItem(E){return qg(r(E),h)},getKeys(){return Xg(h)},clear(){return Qg(h)}}};const i1="WALLET_CONNECT_V2_INDEXED_DB",s1="keyvaluestorage";class o1{constructor(){this.indexedDb=Zg({driver:n1({dbName:i1,storeName:s1})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Gi(r))}async removeItem(e){await this.indexedDb.removeItem(e)}}var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof f.g<"u"?f.g:typeof self<"u"?self:{},Ho={exports:{}};(function(){let u;function e(){}u=e,u.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},u.prototype.setItem=function(r,h){this[r]=String(h)},u.prototype.removeItem=function(r){delete this[r]},u.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(h){r[h]=void 0,delete r[h]})},u.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},u.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Sc<"u"&&Sc.localStorage?Ho.exports=Sc.localStorage:typeof window<"u"&&window.localStorage?Ho.exports=window.localStorage:Ho.exports=new e})();function a1(u){var e;return[u[0],Ws((e=u[1])!=null?e:"")]}class c1{constructor(){this.localStorage=Ho.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(a1)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ws(r)}async setItem(e,r){this.localStorage.setItem(e,Gi(r))}async removeItem(e){this.localStorage.removeItem(e)}}const u1="wc_storage_version",ql=1,l1=async(u,e,r)=>{const h=u1,E=await e.getItem(h);if(E&&E>=ql){r(e);return}const Q=await u.getKeys();if(!Q.length){r(e);return}const ue=[];for(;Q.length;){const Ie=Q.shift();if(!Ie)continue;const Be=Ie.toLowerCase();if(Be.includes("wc@")||Be.includes("walletconnect")||Be.includes("wc_")||Be.includes("wallet_connect")){const Ce=await u.getItem(Ie);await e.setItem(Ie,Ce),ue.push(Ie)}}await e.setItem(h,ql),r(e),h1(u,ue)},h1=async(u,e)=>{e.length&&e.forEach(async r=>{await u.removeItem(r)})};class f1{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new c1;this.storage=e;try{const r=new o1;l1(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}var Vs=f(37875),Yt=f(71315),vs=f(36900);class d1 extends vs.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class u4{constructor(e,r,h){this.core=e,this.logger=r}}class p1 extends vs.q{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class g1{constructor(e,r){this.logger=e,this.core=r}}class m1 extends vs.q{constructor(e,r){super(),this.relayer=e,this.logger=r}}class y1 extends vs.q{constructor(e){super()}}class v1{constructor(e,r,h,E){this.core=e,this.logger=r,this.name=h}}class l4{constructor(){this.map=new Map}}class b1 extends vs.q{constructor(e,r){super(),this.relayer=e,this.logger=r}}class h4{constructor(e,r){this.core=e,this.logger=r}}class w1 extends vs.q{constructor(e,r){super(),this.core=e,this.logger=r}}class f4{constructor(e,r){this.logger=e,this.core=r}}class _1{constructor(e,r){this.projectId=e,this.logger=r}}class E1{constructor(e,r){this.projectId=e,this.logger=r}}class d4 extends null{constructor(){super()}}class S1{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class p4 extends null{constructor(){super()}}class I1{constructor(e){this.client=e}}var Ql=f(61326);const x1="EdDSA",C1="JWT",Xl=".",eh="base64url",R1="utf8",A1="utf8",D1=":",P1="did",M1="key",th="base58btc",O1="z",T1="K36",g4=32,N1=32;function zo(u){return safeJsonParse(toString(fromString(u,JWT_ENCODING),JSON_ENCODING))}function Wo(u){return Lr(Cr(Gi(u),R1),eh)}function rh(u){const e=Cr(T1,th),r=O1+Lr(fe([e,u]),th);return[P1,M1,r].join(D1)}function m4(u){const[e,r,h]=u.split(DID_DELIMITER);if(e!==DID_PREFIX||r!==DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(h.slice(0,1)!==MULTICODEC_ED25519_BASE)throw new Error("Issuer must be a key in mulicodec format");const Q=fromString(h.slice(1),MULTICODEC_ED25519_ENCODING);if(toString(Q.slice(0,2),MULTICODEC_ED25519_ENCODING)!==MULTICODEC_ED25519_HEADER)throw new Error('Issuer must be a public key with type "Ed25519"');const Ie=Q.slice(2);if(Ie.length!==MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return Ie}function L1(u){return Lr(u,eh)}function B1(u){return fromString(u,JWT_ENCODING)}function F1(u){return Cr([Wo(u.header),Wo(u.payload)].join(Xl),A1)}function y4(u){const e=toString(u,DATA_ENCODING).split(JWT_DELIMITER),r=zo(e[0]),h=zo(e[1]);return{header:r,payload:h}}function k1(u){return[Wo(u.header),Wo(u.payload),L1(u.signature)].join(Xl)}function v4(u){const e=u.split(JWT_DELIMITER),r=zo(e[0]),h=zo(e[1]),E=B1(e[2]),Q=fromString(e.slice(0,2).join(JWT_DELIMITER),DATA_ENCODING);return{header:r,payload:h,signature:E,data:Q}}function nh(u=(0,V.randomBytes)(N1)){return Ql._w(u)}async function j1(u,e,r,h,E=(0,pt.fromMiliseconds)(Date.now())){const Q={alg:x1,typ:C1},ue=rh(h.publicKey),Ie=E+r,Be={iss:ue,sub:u,aud:e,iat:E,exp:Ie},Ce=F1({header:Q,payload:Be}),Ne=Ql.Xx(h.secretKey,Ce);return k1({header:Q,payload:Be,signature:Ne})}async function b4(u){const{header:e,payload:r,data:h,signature:E}=decodeJWT(u);if(e.alg!==JWT_IRIDIUM_ALG||e.typ!==JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const Q=decodeIss(r.iss);return ed25519.verify(Q,h,E)}var w4=f(42995);const U1="PARSE_ERROR",$1="INVALID_REQUEST",H1="METHOD_NOT_FOUND",z1="INVALID_PARAMS",ih="INTERNAL_ERROR",Ic="SERVER_ERROR",W1=[-32700,-32600,-32601,-32602,-32603],_4=null,Gs={[U1]:{code:-32700,message:"Parse error"},[$1]:{code:-32600,message:"Invalid Request"},[H1]:{code:-32601,message:"Method not found"},[z1]:{code:-32602,message:"Invalid params"},[ih]:{code:-32603,message:"Internal error"},[Ic]:{code:-32e3,message:"Server error"}},sh=Ic;function E4(u){return u<=SERVER_ERROR_CODE_RANGE[0]&&u>=SERVER_ERROR_CODE_RANGE[1]}function oh(u){return W1.includes(u)}function V1(u){return typeof u=="number"}function ah(u){return Object.keys(Gs).includes(u)?Gs[u]:Gs[sh]}function ch(u){const e=Object.values(Gs).find(r=>r.code===u);return e||Gs[sh]}function S4(u){if(typeof u.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof u.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!V1(u.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${u.error.code}`};if(oh(u.error.code)){const e=ch(u.error.code);if(e.message!==STANDARD_ERROR_MAP[DEFAULT_ERROR].message&&u.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${u.error.code}`}}return{valid:!0}}function uh(u,e,r){return u.message.includes("getaddrinfo ENOTFOUND")||u.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):u}var G1=f(88497);const I4=null;function xc(u=3){const e=Date.now()*Math.pow(10,u),r=Math.floor(Math.random()*Math.pow(10,u));return e+r}function lh(u=6){return BigInt(xc(u))}function bs(u,e,r){return{id:r||xc(),jsonrpc:"2.0",method:u,params:e}}function Vo(u,e){return{id:u,jsonrpc:"2.0",result:e}}function Go(u,e,r){return{id:u,jsonrpc:"2.0",error:K1(e,r)}}function K1(u,e){return typeof u>"u"?ah(ih):(typeof u=="string"&&(u=Object.assign(Object.assign({},ah(Ic)),{message:u})),typeof e<"u"&&(u.data=e),oh(u.code)&&(u=ch(u.code)),u)}class J1{}class x4 extends null{constructor(e){super()}}class Z1 extends J1{constructor(){super()}}class Y1 extends Z1{constructor(e){super()}}const q1="^https?:",Q1="^wss?:";function X1(u){const e=u.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function hh(u,e){const r=X1(u);return typeof r>"u"?!1:new RegExp(e).test(r)}function fh(u){return hh(u,q1)}function dh(u){return hh(u,Q1)}function em(u){return new RegExp("wss?://localhost(:d{2,5})?").test(u)}function ph(u){return typeof u=="object"&&"id"in u&&"jsonrpc"in u&&u.jsonrpc==="2.0"}function Cc(u){return ph(u)&&"method"in u}function Ko(u){return ph(u)&&(ci(u)||$n(u))}function ci(u){return"result"in u}function $n(u){return"error"in u}function C4(u){return"error"in u&&u.valid===!1}class ui extends Y1{constructor(e){super(e),this.events=new B.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(bs(e.method,e.params||[],e.id||lh().toString()),r)}async requestStrict(e,r){return new Promise(async(h,E)=>{if(!this.connection.connected)try{await this.open()}catch(Q){E(Q)}this.events.on(`${e.id}`,Q=>{$n(Q)?E(Q.error):h(Q.result)});try{await this.connection.send(e,r)}catch(Q){E(Q)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ko(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}var R4=null,A4=null;const tm=()=>typeof WebSocket<"u"?WebSocket:typeof f.g<"u"&&typeof f.g.WebSocket<"u"?f.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:f(85783),rm=()=>typeof WebSocket<"u"||typeof f.g<"u"&&typeof f.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",gh=u=>u.split("?")[0],mh=10,nm=tm();class im{constructor(e){if(this.url=e,this.events=new B.EventEmitter,this.registering=!1,!dh(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=h=>{this.onClose(h),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Gi(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!dh(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((h,E)=>{this.events.once("register_error",Q=>{this.resetMaxListeners(),E(Q)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return E(new Error("WebSocket connection is missing or invalid"));h(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,h)=>{const E=new URLSearchParams(e).get("origin"),Q=(0,G1.isReactNative)()?{headers:{origin:E}}:{rejectUnauthorized:!em(e)},ue=new nm(e,[],Q);rm()?ue.onerror=Ie=>{const Be=Ie;h(this.emitError(Be.error))}:ue.on("error",Ie=>{h(this.emitError(Ie))}),ue.onopen=()=>{this.onOpen(ue),r(ue)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ws(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const h=this.parseError(r),E=h.message||h.toString(),Q=Go(e,E);this.events.emit("payload",Q)}parseError(e,r=this.url){return uh(e,gh(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>mh&&this.events.setMaxListeners(mh)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${gh(this.url)}`));return this.events.emit("register_error",r),r}}var sm=f(5899),om=f.n(sm),am=f(51538),cm=f.n(am);function um(u,e){if(u.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),h=0;h<r.length;h++)r[h]=255;for(var E=0;E<u.length;E++){var Q=u.charAt(E),ue=Q.charCodeAt(0);if(r[ue]!==255)throw new TypeError(Q+" is ambiguous");r[ue]=E}var Ie=u.length,Be=u.charAt(0),Ce=Math.log(Ie)/Math.log(256),Ne=Math.log(256)/Math.log(Ie);function ze(Ze){if(Ze instanceof Uint8Array||(ArrayBuffer.isView(Ze)?Ze=new Uint8Array(Ze.buffer,Ze.byteOffset,Ze.byteLength):Array.isArray(Ze)&&(Ze=Uint8Array.from(Ze))),!(Ze instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Ze.length===0)return"";for(var ht=0,bt=0,Dt=0,Xt=Ze.length;Dt!==Xt&&Ze[Dt]===0;)Dt++,ht++;for(var Ft=(Xt-Dt)*Ne+1>>>0,_t=new Uint8Array(Ft);Dt!==Xt;){for(var Ut=Ze[Dt],tr=0,Qt=Ft-1;(Ut!==0||tr<bt)&&Qt!==-1;Qt--,tr++)Ut+=256*_t[Qt]>>>0,_t[Qt]=Ut%Ie>>>0,Ut=Ut/Ie>>>0;if(Ut!==0)throw new Error("Non-zero carry");bt=tr,Dt++}for(var mr=Ft-bt;mr!==Ft&&_t[mr]===0;)mr++;for(var mn=Be.repeat(ht);mr<Ft;++mr)mn+=u.charAt(_t[mr]);return mn}function Ye(Ze){if(typeof Ze!="string")throw new TypeError("Expected String");if(Ze.length===0)return new Uint8Array;var ht=0;if(Ze[ht]!==" "){for(var bt=0,Dt=0;Ze[ht]===Be;)bt++,ht++;for(var Xt=(Ze.length-ht)*Ce+1>>>0,Ft=new Uint8Array(Xt);Ze[ht];){var _t=r[Ze.charCodeAt(ht)];if(_t===255)return;for(var Ut=0,tr=Xt-1;(_t!==0||Ut<Dt)&&tr!==-1;tr--,Ut++)_t+=Ie*Ft[tr]>>>0,Ft[tr]=_t%256>>>0,_t=_t/256>>>0;if(_t!==0)throw new Error("Non-zero carry");Dt=Ut,ht++}if(Ze[ht]!==" "){for(var Qt=Xt-Dt;Qt!==Xt&&Ft[Qt]===0;)Qt++;for(var mr=new Uint8Array(bt+(Xt-Qt)),mn=bt;Qt!==Xt;)mr[mn++]=Ft[Qt++];return mr}}}function ut(Ze){var ht=Ye(Ze);if(ht)return ht;throw new Error(`Non-${e} character`)}return{encode:ze,decodeUnsafe:Ye,decode:ut}}var lm=um,hm=lm;const yh=u=>{if(u instanceof Uint8Array&&u.constructor.name==="Uint8Array")return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw new Error("Unknown type, must be binary type")},fm=u=>new TextEncoder().encode(u),dm=u=>new TextDecoder().decode(u);class pm{constructor(e,r,h){this.name=e,this.prefix=r,this.baseEncode=h}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gm{constructor(e,r,h){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=h}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return vh(this,e)}}class mm{constructor(e){this.decoders=e}or(e){return vh(this,e)}decode(e){const r=e[0],h=this.decoders[r];if(h)return h.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vh=(u,e)=>new mm({...u.decoders||{[u.prefix]:u},...e.decoders||{[e.prefix]:e}});class ym{constructor(e,r,h,E){this.name=e,this.prefix=r,this.baseEncode=h,this.baseDecode=E,this.encoder=new pm(e,r,h),this.decoder=new gm(e,r,E)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Jo=({name:u,prefix:e,encode:r,decode:h})=>new ym(u,e,r,h),Ks=({prefix:u,name:e,alphabet:r})=>{const{encode:h,decode:E}=hm(r,e);return Jo({prefix:u,name:e,encode:h,decode:Q=>yh(E(Q))})},vm=(u,e,r,h)=>{const E={};for(let Ne=0;Ne<e.length;++Ne)E[e[Ne]]=Ne;let Q=u.length;for(;u[Q-1]==="=";)--Q;const ue=new Uint8Array(Q*r/8|0);let Ie=0,Be=0,Ce=0;for(let Ne=0;Ne<Q;++Ne){const ze=E[u[Ne]];if(ze===void 0)throw new SyntaxError(`Non-${h} character`);Be=Be<<r|ze,Ie+=r,Ie>=8&&(Ie-=8,ue[Ce++]=255&Be>>Ie)}if(Ie>=r||255&Be<<8-Ie)throw new SyntaxError("Unexpected end of data");return ue},bm=(u,e,r)=>{const h=e[e.length-1]==="=",E=(1<<r)-1;let Q="",ue=0,Ie=0;for(let Be=0;Be<u.length;++Be)for(Ie=Ie<<8|u[Be],ue+=8;ue>r;)ue-=r,Q+=e[E&Ie>>ue];if(ue&&(Q+=e[E&Ie<<r-ue]),h)for(;Q.length*r&7;)Q+="=";return Q},jr=({name:u,prefix:e,bitsPerChar:r,alphabet:h})=>Jo({prefix:e,name:u,encode(E){return bm(E,h,r)},decode(E){return vm(E,h,r,u)}}),wm=Jo({prefix:"\0",name:"identity",encode:u=>dm(u),decode:u=>fm(u)});var _m=Object.freeze({__proto__:null,identity:wm});const Em=jr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Sm=Object.freeze({__proto__:null,base2:Em});const Im=jr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var xm=Object.freeze({__proto__:null,base8:Im});const Cm=Ks({prefix:"9",name:"base10",alphabet:"0123456789"});var Rm=Object.freeze({__proto__:null,base10:Cm});const Am=jr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Dm=jr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Pm=Object.freeze({__proto__:null,base16:Am,base16upper:Dm});const Mm=jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Om=jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tm=jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nm=jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lm=jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bm=jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fm=jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),km=jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jm=jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Um=Object.freeze({__proto__:null,base32:Mm,base32upper:Om,base32pad:Tm,base32padupper:Nm,base32hex:Lm,base32hexupper:Bm,base32hexpad:Fm,base32hexpadupper:km,base32z:jm});const $m=Ks({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hm=Ks({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var zm=Object.freeze({__proto__:null,base36:$m,base36upper:Hm});const Wm=Ks({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vm=Ks({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Gm=Object.freeze({__proto__:null,base58btc:Wm,base58flickr:Vm});const Km=jr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jm=jr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zm=jr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ym=jr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qm=Object.freeze({__proto__:null,base64:Km,base64pad:Jm,base64url:Zm,base64urlpad:Ym});const bh=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Qm=bh.reduce((u,e,r)=>(u[r]=e,u),[]),Xm=bh.reduce((u,e,r)=>(u[e.codePointAt(0)]=r,u),[]);function ey(u){return u.reduce((e,r)=>(e+=Qm[r],e),"")}function ty(u){const e=[];for(const r of u){const h=Xm[r.codePointAt(0)];if(h===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(h)}return new Uint8Array(e)}const ry=Jo({prefix:"\u{1F680}",name:"base256emoji",encode:ey,decode:ty});var ny=Object.freeze({__proto__:null,base256emoji:ry}),iy=_h,wh=128,sy=127,oy=~sy,ay=Math.pow(2,31);function _h(u,e,r){e=e||[],r=r||0;for(var h=r;u>=ay;)e[r++]=u&255|wh,u/=128;for(;u&oy;)e[r++]=u&255|wh,u>>>=7;return e[r]=u|0,_h.bytes=r-h+1,e}var cy=Rc,uy=128,Eh=127;function Rc(u,h){var r=0,h=h||0,E=0,Q=h,ue,Ie=u.length;do{if(Q>=Ie)throw Rc.bytes=0,new RangeError("Could not decode varint");ue=u[Q++],r+=E<28?(ue&Eh)<<E:(ue&Eh)*Math.pow(2,E),E+=7}while(ue>=uy);return Rc.bytes=Q-h,r}var ly=Math.pow(2,7),hy=Math.pow(2,14),fy=Math.pow(2,21),dy=Math.pow(2,28),py=Math.pow(2,35),gy=Math.pow(2,42),my=Math.pow(2,49),yy=Math.pow(2,56),vy=Math.pow(2,63),by=function(u){return u<ly?1:u<hy?2:u<fy?3:u<dy?4:u<py?5:u<gy?6:u<my?7:u<yy?8:u<vy?9:10},wy={encode:iy,decode:cy,encodingLength:by},Sh=wy;const Ih=(u,e,r=0)=>(Sh.encode(u,e,r),e),xh=u=>Sh.encodingLength(u),Ac=(u,e)=>{const r=e.byteLength,h=xh(u),E=h+xh(r),Q=new Uint8Array(E+r);return Ih(u,Q,0),Ih(r,Q,h),Q.set(e,E),new _y(u,r,e,Q)};class _y{constructor(e,r,h,E){this.code=e,this.size=r,this.digest=h,this.bytes=E}}const Ch=({name:u,code:e,encode:r})=>new Ey(u,e,r);class Ey{constructor(e,r,h){this.name=e,this.code=r,this.encode=h}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Ac(this.code,r):r.then(h=>Ac(this.code,h))}else throw Error("Unknown type, must be binary type")}}const Rh=u=>async e=>new Uint8Array(await crypto.subtle.digest(u,e)),Sy=Ch({name:"sha2-256",code:18,encode:Rh("SHA-256")}),Iy=Ch({name:"sha2-512",code:19,encode:Rh("SHA-512")});var xy=Object.freeze({__proto__:null,sha256:Sy,sha512:Iy});const Ah=0,Cy="identity",Dh=yh;var Ry=Object.freeze({__proto__:null,identity:{code:Ah,name:Cy,encode:Dh,digest:u=>Ac(Ah,Dh(u))}});new TextEncoder,new TextDecoder;const Ph={..._m,...Sm,...xm,...Rm,...Pm,...Um,...zm,...Gm,...qm,...ny};({...xy,...Ry});function Mh(u){return globalThis.Buffer!=null?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u}function Ay(u=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Mh(globalThis.Buffer.allocUnsafe(u)):new Uint8Array(u)}function Oh(u,e,r,h){return{name:u,prefix:e,encoder:{name:u,prefix:e,encode:r},decoder:{decode:h}}}const Th=Oh("utf8","u",u=>"u"+new TextDecoder("utf8").decode(u),u=>new TextEncoder().encode(u.substring(1))),Dc=Oh("ascii","a",u=>{let e="a";for(let r=0;r<u.length;r++)e+=String.fromCharCode(u[r]);return e},u=>{u=u.substring(1);const e=Ay(u.length);for(let r=0;r<u.length;r++)e[r]=u.charCodeAt(r);return e}),Dy={utf8:Th,"utf-8":Th,hex:Ph.base16,latin1:Dc,ascii:Dc,binary:Dc,...Ph};function Py(u,e="utf8"){const r=Dy[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Mh(globalThis.Buffer.from(u,"utf-8")):r.decoder.decode(`${r.prefix}${u}`)}const Nh="wc",My=2,Pc="core",Ri=`${Nh}@2:${Pc}:`,Oy={name:Pc,logger:"error"},Ty={database:":memory:"},Ny="crypto",Lh="client_ed25519_seed",Ly=pt.ONE_DAY,By="keychain",Fy="0.3",ky="messages",jy="0.3",Uy=pt.SIX_HOURS,$y="publisher",Bh="irn",Hy="error",Fh="wss://relay.walletconnect.com",kh="wss://relay.walletconnect.org",zy="relayer",zr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Wy="_subscription",li={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Vy=pt.ONE_SECOND,M4={database:":memory:"},Gy="2.11.0",Ky=1e4,Jy="0.3",Zy="WALLETCONNECT_CLIENT_ID",Hn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},O4=null,Yy="subscription",qy="0.3",Qy=pt.FIVE_SECONDS*1e3,Xy="pairing",ev="0.3",T4=null,Js={wc_pairingDelete:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:0},res:{ttl:pt.ONE_DAY,prompt:!1,tag:0}}},Zs={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ei={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},tv="history",rv="0.3",nv="expirer",Cn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},iv="0.3",N4=null,Mc="verify-api",ws="https://verify.walletconnect.com",Oc="https://verify.walletconnect.org",sv=[ws,Oc],ov="echo",av="https://echo.walletconnect.com";class cv{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=By,this.version=Fy,this.initialized=!1,this.storagePrefix=Ri,this.init=async()=>{if(!this.initialized){const h=await this.getKeyChain();typeof h<"u"&&(this.keychain=h),this.initialized=!0}},this.has=h=>(this.isInitialized(),this.keychain.has(h)),this.set=async(h,E)=>{this.isInitialized(),this.keychain.set(h,E),await this.persist()},this.get=h=>{this.isInitialized();const E=this.keychain.get(h);if(typeof E>"u"){const{message:Q}=ct("NO_MATCHING_KEY",`${this.name}: ${h}`);throw new Error(Q)}return E},this.del=async h=>{this.isInitialized(),this.keychain.delete(h),await this.persist()},this.core=e,this.logger=(0,Yt.generateChildLogger)(r,this.name)}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Pl(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Ml(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class uv{constructor(e,r,h){this.core=e,this.logger=r,this.name=Ny,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=E=>(this.isInitialized(),this.keychain.has(E)),this.getClientId=async()=>{this.isInitialized();const E=await this.getClientSeed(),Q=nh(E);return rh(Q.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const E=lp();return this.setPrivateKey(E.publicKey,E.privateKey)},this.signJWT=async E=>{this.isInitialized();const Q=await this.getClientSeed(),ue=nh(Q),Ie=fc();return await j1(Ie,E,Ly,ue)},this.generateSharedKey=(E,Q,ue)=>{this.isInitialized();const Ie=this.getPrivateKey(E),Be=hp(Ie,Q);return this.setSymKey(Be,ue)},this.setSymKey=async(E,Q)=>{this.isInitialized();const ue=Q||fp(E);return await this.keychain.set(ue,E),ue},this.deleteKeyPair=async E=>{this.isInitialized(),await this.keychain.del(E)},this.deleteSymKey=async E=>{this.isInitialized(),await this.keychain.del(E)},this.encode=async(E,Q,ue)=>{this.isInitialized();const Ie=Il(ue),Be=Gi(Q);if(xl(Ie)){const Ye=Ie.senderPublicKey,ut=Ie.receiverPublicKey;E=await this.generateSharedKey(Ye,ut)}const Ce=this.getSymKey(E),{type:Ne,senderPublicKey:ze}=Ie;return pp({type:Ne,symKey:Ce,message:Be,senderPublicKey:ze})},this.decode=async(E,Q,ue)=>{this.isInitialized();const Ie=yp(Q,ue);if(xl(Ie)){const Be=Ie.receiverPublicKey,Ce=Ie.senderPublicKey;E=await this.generateSharedKey(Be,Ce)}try{const Be=this.getSymKey(E),Ce=gp({symKey:Be,encoded:Q});return Ws(Ce)}catch(Be){this.logger.error(`Failed to decode message from topic: '${E}', clientId: '${await this.getClientId()}'`),this.logger.error(Be)}},this.getPayloadType=E=>{const Q=Lo(E);return Us(Q.type)},this.getPayloadSenderPublicKey=E=>{const Q=Lo(E);return Q.senderPublicKey?Lr(Q.senderPublicKey,Gr):void 0},this.core=e,this.logger=(0,Yt.generateChildLogger)(r,this.name),this.keychain=h||new cv(this.core,this.logger)}get context(){return(0,Yt.getLoggerContext)(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Lh)}catch{e=fc(),await this.keychain.set(Lh,e)}return Py(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class lv extends g1{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=ky,this.version=jy,this.initialized=!1,this.storagePrefix=Ri,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const h=await this.getRelayerMessages();typeof h<"u"&&(this.messages=h),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(h){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(h)}finally{this.initialized=!0}}},this.set=async(h,E)=>{this.isInitialized();const Q=hs(E);let ue=this.messages.get(h);return typeof ue>"u"&&(ue={}),typeof ue[Q]<"u"||(ue[Q]=E,this.messages.set(h,ue),await this.persist()),Q},this.get=h=>{this.isInitialized();let E=this.messages.get(h);return typeof E>"u"&&(E={}),E},this.has=(h,E)=>{this.isInitialized();const Q=this.get(h),ue=hs(E);return typeof Q[ue]<"u"},this.del=async h=>{this.isInitialized(),this.messages.delete(h),await this.persist()},this.logger=(0,Yt.generateChildLogger)(e,this.name),this.core=r}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Pl(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Ml(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class hv extends m1{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new B.EventEmitter,this.name=$y,this.queue=new Map,this.publishTimeout=(0,pt.toMiliseconds)(pt.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(h,E,Q)=>{var ue;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:h,message:E,opts:Q}});try{const Ie=(Q==null?void 0:Q.ttl)||Uy,Be=gc(Q),Ce=(Q==null?void 0:Q.prompt)||!1,Ne=(Q==null?void 0:Q.tag)||0,ze=(Q==null?void 0:Q.id)||lh().toString(),Ye={topic:h,message:E,opts:{ttl:Ie,relay:Be,prompt:Ce,tag:Ne,id:ze}},ut=setTimeout(()=>this.queue.set(ze,Ye),this.publishTimeout);try{await await $s(this.rpcPublish(h,E,Ie,Be,Ce,Ne,ze),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(ze),this.relayer.events.emit(zr.publish,Ye)}catch(Ze){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(ue=Q==null?void 0:Q.internal)!=null&&ue.throwOnFailedPublish)throw this.removeRequestFromQueue(ze),Ze;return}finally{clearTimeout(ut)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:h,message:E,opts:Q}})}catch(Ie){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(Ie),Ie}},this.on=(h,E)=>{this.events.on(h,E)},this.once=(h,E)=>{this.events.once(h,E)},this.off=(h,E)=>{this.events.off(h,E)},this.removeListener=(h,E)=>{this.events.removeListener(h,E)},this.relayer=e,this.logger=(0,Yt.generateChildLogger)(r,this.name),this.registerEventListeners()}get context(){return(0,Yt.getLoggerContext)(this.logger)}rpcPublish(e,r,h,E,Q,ue,Ie){var Be,Ce,Ne,ze;const Ye={method:Bo(E.protocol).publish,params:{topic:e,message:r,ttl:h,prompt:Q,tag:ue},id:Ie};return Kr((Be=Ye.params)==null?void 0:Be.prompt)&&((Ce=Ye.params)==null||delete Ce.prompt),Kr((Ne=Ye.params)==null?void 0:Ne.tag)&&((ze=Ye.params)==null||delete ze.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Ye}),this.relayer.request(Ye)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:h,opts:E}=e;await this.publish(r,h,E)})}registerEventListeners(){this.relayer.core.heartbeat.on(Vs.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(zr.connection_stalled);return}this.checkQueue()}),this.relayer.on(zr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class fv{constructor(){this.map=new Map,this.set=(e,r)=>{const h=this.get(e);this.exists(e,r)||this.map.set(e,[...h,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const h=this.get(e);if(!this.exists(e,r))return;const E=h.filter(Q=>Q!==r);if(!E.length){this.map.delete(e);return}this.map.set(e,E)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var dv=Object.defineProperty,pv=Object.defineProperties,gv=Object.getOwnPropertyDescriptors,jh=Object.getOwnPropertySymbols,mv=Object.prototype.hasOwnProperty,yv=Object.prototype.propertyIsEnumerable,Uh=(u,e,r)=>e in u?dv(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Ys=(u,e)=>{for(var r in e||(e={}))mv.call(e,r)&&Uh(u,r,e[r]);if(jh)for(var r of jh(e))yv.call(e,r)&&Uh(u,r,e[r]);return u},Tc=(u,e)=>pv(u,gv(e));class vv extends b1{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new fv,this.events=new B.EventEmitter,this.name=Yy,this.version=qy,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ri,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(h,E)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:h,opts:E}});try{const Q=gc(E),ue={topic:h,relay:Q};this.pending.set(h,ue);const Ie=await this.rpcSubscribe(h,Q);return this.onSubscribe(Ie,ue),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:h,opts:E}}),Ie}catch(Q){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(Q),Q}},this.unsubscribe=async(h,E)=>{await this.restartToComplete(),this.isInitialized(),typeof(E==null?void 0:E.id)<"u"?await this.unsubscribeById(h,E.id,E):await this.unsubscribeByTopic(h,E)},this.isSubscribed=async h=>this.topics.includes(h)?!0:await new Promise((E,Q)=>{const ue=new pt.Watch;ue.start(this.pendingSubscriptionWatchLabel);const Ie=setInterval(()=>{!this.pending.has(h)&&this.topics.includes(h)&&(clearInterval(Ie),ue.stop(this.pendingSubscriptionWatchLabel),E(!0)),ue.elapsed(this.pendingSubscriptionWatchLabel)>=Qy&&(clearInterval(Ie),ue.stop(this.pendingSubscriptionWatchLabel),Q(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(h,E)=>{this.events.on(h,E)},this.once=(h,E)=>{this.events.once(h,E)},this.off=(h,E)=>{this.events.off(h,E)},this.removeListener=(h,E)=>{this.events.removeListener(h,E)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,Yt.generateChildLogger)(r,this.name),this.clientId=""}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let h=!1;try{h=this.getSubscription(e).topic===r}catch{}return h}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const h=this.topicMap.get(e);await Promise.all(h.map(async E=>await this.unsubscribeById(e,E,r)))}async unsubscribeById(e,r,h){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:h}});try{const E=gc(h);await this.rpcUnsubscribe(e,r,E);const Q=_r("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,Q),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:h}})}catch(E){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(E),E}}async rpcSubscribe(e,r){const h={method:Bo(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:h});try{await await $s(this.relayer.request(h),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(zr.connection_stalled)}return hs(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,h={method:Bo(r.protocol).batchSubscribe,params:{topics:e.map(E=>E.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:h});try{return await await $s(this.relayer.request(h),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(zr.connection_stalled)}}rpcUnsubscribe(e,r,h){const E={method:Bo(h.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:E}),this.relayer.request(E)}onSubscribe(e,r){this.setSubscription(e,Tc(Ys({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Ys({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,h){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,h),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,Ys({},r)),this.topicMap.set(r.topic,e),this.events.emit(Hn.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:h}=ct("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(h)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const h=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(h.topic,e),this.events.emit(Hn.deleted,Tc(Ys({},h),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Hn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const h=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(h)}}this.events.emit(Hn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=ct("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);Xn(r)&&this.onBatchSubscribe(r.map((h,E)=>Tc(Ys({},e[E]),{id:h})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Vs.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(zr.connect,async()=>{await this.onConnect()}),this.relayer.on(zr.disconnect,()=>{this.onDisconnect()}),this.events.on(Hn.created,async e=>{const r=Hn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Hn.deleted,async e=>{const r=Hn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var bv=Object.defineProperty,$h=Object.getOwnPropertySymbols,wv=Object.prototype.hasOwnProperty,_v=Object.prototype.propertyIsEnumerable,Hh=(u,e,r)=>e in u?bv(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Ev=(u,e)=>{for(var r in e||(e={}))wv.call(e,r)&&Hh(u,r,e[r]);if($h)for(var r of $h(e))_v.call(e,r)&&Hh(u,r,e[r]);return u};class Sv extends y1{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new B.EventEmitter,this.name=zy,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(h){throw this.logger.debug("Failed to Publish Request"),this.logger.error(h),h}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(zr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(zr.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(li.payload,this.onPayloadHandler),this.provider.on(li.connect,this.onConnectHandler),this.provider.on(li.disconnect,this.onDisconnectHandler),this.provider.on(li.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?(0,Yt.generateChildLogger)(e.logger,this.name):(0,Yt.pino)((0,Yt.getDefaultLoggerOptions)({level:e.logger||Hy})),this.messages=new lv(this.logger,e.core),this.subscriber=new vv(this,this.logger),this.publisher=new hv(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Fh,this.projectId=e.projectId,this.bundleId=Ip(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${kh}...`),await this.restartTransport(kh)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},Ky)}get context(){return(0,Yt.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,h){this.isInitialized(),await this.publisher.publish(e,r,h),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var h;this.isInitialized();let E=((h=this.subscriber.topicMap.get(e))==null?void 0:h[0])||"";if(E)return E;let Q;const ue=Ie=>{Ie.topic===e&&(this.subscriber.off(Hn.created,ue),Q())};return await Promise.all([new Promise(Ie=>{Q=Ie,this.subscriber.on(Hn.created,ue)}),new Promise(async Ie=>{E=await this.subscriber.subscribe(e,r),Ie()})]),E}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await $s(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(Hn.resubscribed,()=>{r()})}),new Promise(async(r,h)=>{try{await $s(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(E){h(E);return}r()})])}catch(r){this.logger.error(r);const h=r;if(!this.isConnectionStalled(h.message))throw r;this.provider.events.emit(li.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Vl())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ui(new im(Pp({sdkVersion:Gy,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:h}=e;await this.messages.set(r,h)}async shouldIgnoreMessageEvent(e){const{topic:r,message:h}=e;if(!h||h.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${h}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const E=this.messages.has(r,h);return E&&this.logger.debug(`Ignoring duplicate message: ${h}`),E}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Cc(e)){if(!e.method.endsWith(Wy))return;const r=e.params,{topic:h,message:E,publishedAt:Q}=r.data,ue={topic:h,message:E,publishedAt:Q};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ev({type:"event",event:r.id},ue)),this.events.emit(r.id,ue),await this.acknowledgePayload(e),await this.onMessageEvent(ue)}else Ko(e)&&this.events.emit(zr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(zr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=Vo(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(li.payload,this.onPayloadHandler),this.provider.off(li.connect,this.onConnectHandler),this.provider.off(li.disconnect,this.onDisconnectHandler),this.provider.off(li.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(zr.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let e=await Vl();Og(async r=>{this.initialized&&e!==r&&(e=r,r?await this.restartTransport().catch(h=>this.logger.error(h)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(h=>this.logger.error(h))))})}onProviderDisconnect(){this.events.emit(zr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,pt.toMiliseconds)(Vy)))}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var Iv=Object.defineProperty,zh=Object.getOwnPropertySymbols,xv=Object.prototype.hasOwnProperty,Cv=Object.prototype.propertyIsEnumerable,Wh=(u,e,r)=>e in u?Iv(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Vh=(u,e)=>{for(var r in e||(e={}))xv.call(e,r)&&Wh(u,r,e[r]);if(zh)for(var r of zh(e))Cv.call(e,r)&&Wh(u,r,e[r]);return u};class Zo extends v1{constructor(e,r,h,E=Ri,Q=void 0){super(e,r,h,E),this.core=e,this.logger=r,this.name=h,this.map=new Map,this.version=Jy,this.cached=[],this.initialized=!1,this.storagePrefix=Ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ue=>{this.getKey&&ue!==null&&!Kr(ue)?this.map.set(this.getKey(ue),ue):ug(ue)?this.map.set(ue.id,ue):lg(ue)&&this.map.set(ue.topic,ue)}),this.cached=[],this.initialized=!0)},this.set=async(ue,Ie)=>{this.isInitialized(),this.map.has(ue)?await this.update(ue,Ie):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:ue,value:Ie}),this.map.set(ue,Ie),await this.persist())},this.get=ue=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:ue}),this.getData(ue)),this.getAll=ue=>(this.isInitialized(),ue?this.values.filter(Ie=>Object.keys(ue).every(Be=>om()(Ie[Be],ue[Be]))):this.values),this.update=async(ue,Ie)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:ue,update:Ie});const Be=Vh(Vh({},this.getData(ue)),Ie);this.map.set(ue,Be),await this.persist()},this.delete=async(ue,Ie)=>{this.isInitialized(),this.map.has(ue)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:ue,reason:Ie}),this.map.delete(ue),await this.persist())},this.logger=(0,Yt.generateChildLogger)(r,this.name),this.storagePrefix=E,this.getKey=Q}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:h}=ct("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(h),new Error(h)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=ct("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Rv{constructor(e,r){this.core=e,this.logger=r,this.name=Xy,this.version=ev,this.events=new(K()),this.initialized=!1,this.storagePrefix=Ri,this.ignoredPayloadTypes=[zi],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:h})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...h])]},this.create=async()=>{this.isInitialized();const h=fc(),E=await this.core.crypto.setSymKey(h),Q=jn(pt.FIVE_MINUTES),ue={protocol:Bh},Ie={topic:E,expiry:Q,relay:ue,active:!1},Be=Gp({protocol:this.core.protocol,version:this.core.version,topic:E,symKey:h,relay:ue});return await this.pairings.set(E,Ie),await this.core.relayer.subscribe(E),this.core.expirer.set(E,Q),{topic:E,uri:Be}},this.pair=async h=>{this.isInitialized(),this.isValidPair(h);const{topic:E,symKey:Q,relay:ue}=Bl(h.uri);let Ie;if(this.pairings.keys.includes(E)&&(Ie=this.pairings.get(E),Ie.active))throw new Error(`Pairing already exists: ${E}. Please try again with a new connection URI.`);const Be=jn(pt.FIVE_MINUTES),Ce={topic:E,relay:ue,expiry:Be,active:!1};return await this.pairings.set(E,Ce),this.core.expirer.set(E,Be),h.activatePairing&&await this.activate({topic:E}),this.events.emit(Zs.create,Ce),this.core.crypto.keychain.has(E)||(await this.core.crypto.setSymKey(Q,E),await this.core.relayer.subscribe(E,{relay:ue})),Ce},this.activate=async({topic:h})=>{this.isInitialized();const E=jn(pt.THIRTY_DAYS);await this.pairings.update(h,{active:!0,expiry:E}),this.core.expirer.set(h,E)},this.ping=async h=>{this.isInitialized(),await this.isValidPing(h);const{topic:E}=h;if(this.pairings.keys.includes(E)){const Q=await this.sendRequest(E,"wc_pairingPing",{}),{done:ue,resolve:Ie,reject:Be}=gs();this.events.once(Dr("pairing_ping",Q),({error:Ce})=>{Ce?Be(Ce):Ie()}),await ue()}},this.updateExpiry=async({topic:h,expiry:E})=>{this.isInitialized(),await this.pairings.update(h,{expiry:E})},this.updateMetadata=async({topic:h,metadata:E})=>{this.isInitialized(),await this.pairings.update(h,{peerMetadata:E})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async h=>{this.isInitialized(),await this.isValidDisconnect(h);const{topic:E}=h;this.pairings.keys.includes(E)&&(await this.sendRequest(E,"wc_pairingDelete",_r("USER_DISCONNECTED")),await this.deletePairing(E))},this.sendRequest=async(h,E,Q)=>{const ue=bs(E,Q),Ie=await this.core.crypto.encode(h,ue),Be=Js[E].req;return this.core.history.set(h,ue),this.core.relayer.publish(h,Ie,Be),ue.id},this.sendResult=async(h,E,Q)=>{const ue=Vo(h,Q),Ie=await this.core.crypto.encode(E,ue),Be=await this.core.history.get(E,h),Ce=Js[Be.request.method].res;await this.core.relayer.publish(E,Ie,Ce),await this.core.history.resolve(ue)},this.sendError=async(h,E,Q)=>{const ue=Go(h,Q),Ie=await this.core.crypto.encode(E,ue),Be=await this.core.history.get(E,h),Ce=Js[Be.request.method]?Js[Be.request.method].res:Js.unregistered_method.res;await this.core.relayer.publish(E,Ie,Ce),await this.core.history.resolve(ue)},this.deletePairing=async(h,E)=>{await this.core.relayer.unsubscribe(h),await Promise.all([this.pairings.delete(h,_r("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(h),E?Promise.resolve():this.core.expirer.del(h)])},this.cleanup=async()=>{const h=this.pairings.getAll().filter(E=>Ci(E.expiry));await Promise.all(h.map(E=>this.deletePairing(E.topic)))},this.onRelayEventRequest=h=>{const{topic:E,payload:Q}=h;switch(Q.method){case"wc_pairingPing":return this.onPairingPingRequest(E,Q);case"wc_pairingDelete":return this.onPairingDeleteRequest(E,Q);default:return this.onUnknownRpcMethodRequest(E,Q)}},this.onRelayEventResponse=async h=>{const{topic:E,payload:Q}=h,ue=(await this.core.history.get(E,Q.id)).request.method;switch(ue){case"wc_pairingPing":return this.onPairingPingResponse(E,Q);default:return this.onUnknownRpcMethodResponse(ue)}},this.onPairingPingRequest=async(h,E)=>{const{id:Q}=E;try{this.isValidPing({topic:h}),await this.sendResult(Q,h,!0),this.events.emit(Zs.ping,{id:Q,topic:h})}catch(ue){await this.sendError(Q,h,ue),this.logger.error(ue)}},this.onPairingPingResponse=(h,E)=>{const{id:Q}=E;setTimeout(()=>{ci(E)?this.events.emit(Dr("pairing_ping",Q),{}):$n(E)&&this.events.emit(Dr("pairing_ping",Q),{error:E.error})},500)},this.onPairingDeleteRequest=async(h,E)=>{const{id:Q}=E;try{this.isValidDisconnect({topic:h}),await this.deletePairing(h),this.events.emit(Zs.delete,{id:Q,topic:h})}catch(ue){await this.sendError(Q,h,ue),this.logger.error(ue)}},this.onUnknownRpcMethodRequest=async(h,E)=>{const{id:Q,method:ue}=E;try{if(this.registeredMethods.includes(ue))return;const Ie=_r("WC_METHOD_UNSUPPORTED",ue);await this.sendError(Q,h,Ie),this.logger.error(Ie)}catch(Ie){await this.sendError(Q,h,Ie),this.logger.error(Ie)}},this.onUnknownRpcMethodResponse=h=>{this.registeredMethods.includes(h)||this.logger.error(_r("WC_METHOD_UNSUPPORTED",h))},this.isValidPair=h=>{var E;if(!sn(h)){const{message:ue}=ct("MISSING_OR_INVALID",`pair() params: ${h}`);throw new Error(ue)}if(!cg(h.uri)){const{message:ue}=ct("MISSING_OR_INVALID",`pair() uri: ${h.uri}`);throw new Error(ue)}const Q=Bl(h.uri);if(!((E=Q==null?void 0:Q.relay)!=null&&E.protocol)){const{message:ue}=ct("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(ue)}if(!(Q!=null&&Q.symKey)){const{message:ue}=ct("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(ue)}},this.isValidPing=async h=>{if(!sn(h)){const{message:Q}=ct("MISSING_OR_INVALID",`ping() params: ${h}`);throw new Error(Q)}const{topic:E}=h;await this.isValidPairingTopic(E)},this.isValidDisconnect=async h=>{if(!sn(h)){const{message:Q}=ct("MISSING_OR_INVALID",`disconnect() params: ${h}`);throw new Error(Q)}const{topic:E}=h;await this.isValidPairingTopic(E)},this.isValidPairingTopic=async h=>{if(!Br(h,!1)){const{message:E}=ct("MISSING_OR_INVALID",`pairing topic should be a string: ${h}`);throw new Error(E)}if(!this.pairings.keys.includes(h)){const{message:E}=ct("NO_MATCHING_KEY",`pairing topic doesn't exist: ${h}`);throw new Error(E)}if(Ci(this.pairings.get(h).expiry)){await this.deletePairing(h);const{message:E}=ct("EXPIRED",`pairing topic: ${h}`);throw new Error(E)}},this.core=e,this.logger=(0,Yt.generateChildLogger)(r,this.name),this.pairings=new Zo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,Yt.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(zr.message,async e=>{const{topic:r,message:h}=e;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(h)))return;const E=await this.core.crypto.decode(r,h);try{Cc(E)?(this.core.history.set(r,E),this.onRelayEventRequest({topic:r,payload:E})):Ko(E)&&(await this.core.history.resolve(E),await this.onRelayEventResponse({topic:r,payload:E}),this.core.history.delete(r,E.id))}catch(Q){this.logger.error(Q)}})}registerExpirerEvents(){this.core.expirer.on(Cn.expired,async e=>{const{topic:r}=Tl(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Zs.expire,{topic:r}))})}}class Av extends p1{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new B.EventEmitter,this.name=tv,this.version=rv,this.cached=[],this.initialized=!1,this.storagePrefix=Ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(h=>this.records.set(h.id,h)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(h,E,Q)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:h,request:E,chainId:Q}),this.records.has(E.id))return;const ue={id:E.id,topic:h,request:{method:E.method,params:E.params||null},chainId:Q,expiry:jn(pt.THIRTY_DAYS)};this.records.set(ue.id,ue),this.events.emit(ei.created,ue)},this.resolve=async h=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:h}),!this.records.has(h.id))return;const E=await this.getRecord(h.id);typeof E.response>"u"&&(E.response=$n(h)?{error:h.error}:{result:h.result},this.records.set(E.id,E),this.events.emit(ei.updated,E))},this.get=async(h,E)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:h,id:E}),await this.getRecord(E)),this.delete=(h,E)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:E}),this.values.forEach(Q=>{if(Q.topic===h){if(typeof E<"u"&&Q.id!==E)return;this.records.delete(Q.id),this.events.emit(ei.deleted,Q)}})},this.exists=async(h,E)=>(this.isInitialized(),this.records.has(E)?(await this.getRecord(E)).topic===h:!1),this.on=(h,E)=>{this.events.on(h,E)},this.once=(h,E)=>{this.events.once(h,E)},this.off=(h,E)=>{this.events.off(h,E)},this.removeListener=(h,E)=>{this.events.removeListener(h,E)},this.logger=(0,Yt.generateChildLogger)(r,this.name)}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const h={topic:r.topic,request:bs(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(h)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:h}=ct("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(h)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ei.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=ct("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ei.created,e=>{const r=ei.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(ei.updated,e=>{const r=ei.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(ei.deleted,e=>{const r=ei.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.core.heartbeat.on(Vs.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,pt.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Dv extends w1{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new B.EventEmitter,this.name=nv,this.version=iv,this.cached=[],this.initialized=!1,this.storagePrefix=Ri,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(h=>this.expirations.set(h.target,h)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=h=>{try{const E=this.formatTarget(h);return typeof this.getExpiration(E)<"u"}catch{return!1}},this.set=(h,E)=>{this.isInitialized();const Q=this.formatTarget(h),ue={target:Q,expiry:E};this.expirations.set(Q,ue),this.checkExpiry(Q,ue),this.events.emit(Cn.created,{target:Q,expiration:ue})},this.get=h=>{this.isInitialized();const E=this.formatTarget(h);return this.getExpiration(E)},this.del=h=>{if(this.isInitialized(),this.has(h)){const E=this.formatTarget(h),Q=this.getExpiration(E);this.expirations.delete(E),this.events.emit(Cn.deleted,{target:E,expiration:Q})}},this.on=(h,E)=>{this.events.on(h,E)},this.once=(h,E)=>{this.events.once(h,E)},this.off=(h,E)=>{this.events.off(h,E)},this.removeListener=(h,E)=>{this.events.removeListener(h,E)},this.logger=(0,Yt.generateChildLogger)(r,this.name)}get context(){return(0,Yt.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Np(e);if(typeof e=="number")return Lp(e);const{message:r}=ct("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Cn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=ct("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:h}=ct("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(h),new Error(h)}return r}checkExpiry(e,r){const{expiry:h}=r;(0,pt.toMiliseconds)(h)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Cn.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Vs.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Cn.created,e=>{const r=Cn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Cn.expired,e=>{const r=Cn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Cn.deleted,e=>{const r=Cn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Pv extends _1{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=Mc,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async h=>{if(this.verifyDisabled||fs()||!ds())return;const E=this.getVerifyUrl(h==null?void 0:h.verifyUrl);this.verifyUrl!==E&&this.removeIframe(),this.verifyUrl=E;try{await this.createIframe()}catch(Q){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(Q)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Oc;try{await this.createIframe()}catch(Q){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(Q),this.verifyDisabled=!0}}},this.register=async h=>{this.initialized?this.sendPost(h.attestationId):(this.addToQueue(h.attestationId),await this.init())},this.resolve=async h=>{if(this.isDevEnv)return"";const E=this.getVerifyUrl(h==null?void 0:h.verifyUrl);let Q;try{Q=await this.fetchAttestation(h.attestationId,E)}catch(ue){this.logger.info(`failed to resolve attestation: ${h.attestationId} from url: ${E}`),this.logger.info(ue),Q=await this.fetchAttestation(h.attestationId,Oc)}return Q},this.fetchAttestation=async(h,E)=>{this.logger.info(`resolving attestation: ${h} from url: ${E}`);const Q=this.startAbortTimer(pt.ONE_SECOND*2),ue=await fetch(`${E}/attestation/${h}`,{signal:this.abortController.signal});return clearTimeout(Q),ue.status===200?await ue.json():void 0},this.addToQueue=h=>{this.queue.push(h)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(h=>this.sendPost(h)),this.queue=[])},this.sendPost=h=>{var E;try{if(!this.iframe)return;(E=this.iframe.contentWindow)==null||E.postMessage(h,"*"),this.logger.info(`postMessage sent: ${h} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let h;const E=Q=>{Q.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",E),h())};await Promise.race([new Promise(Q=>{if(document.getElementById(Mc))return Q();window.addEventListener("message",E);const ue=document.createElement("iframe");ue.id=Mc,ue.src=`${this.verifyUrl}/${this.projectId}`,ue.style.display="none",document.body.append(ue),this.iframe=ue,h=Q}),new Promise((Q,ue)=>setTimeout(()=>{window.removeEventListener("message",E),ue("verify iframe load timeout")},(0,pt.toMiliseconds)(pt.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=h=>{let E=h||ws;return sv.includes(E)||(this.logger.info(`verify url: ${E}, not included in trusted list, assigning default: ${ws}`),E=ws),E},this.logger=(0,Yt.generateChildLogger)(r,this.name),this.verifyUrl=ws,this.abortController=new AbortController,this.isDevEnv=pc()&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.IS_VITEST}get context(){return(0,Yt.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,pt.toMiliseconds)(e))}}class Mv extends E1{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=ov,this.registerDeviceToken=async h=>{const{clientId:E,token:Q,notificationType:ue,enableEncrypted:Ie=!1}=h,Be=`${av}/${this.projectId}/clients`;await cm()(Be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:E,type:ue,token:Q,always_raw:Ie})})},this.logger=(0,Yt.generateChildLogger)(r,this.context)}}var Ov=Object.defineProperty,Gh=Object.getOwnPropertySymbols,Tv=Object.prototype.hasOwnProperty,Nv=Object.prototype.propertyIsEnumerable,Kh=(u,e,r)=>e in u?Ov(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Jh=(u,e)=>{for(var r in e||(e={}))Tv.call(e,r)&&Kh(u,r,e[r]);if(Gh)for(var r of Gh(e))Nv.call(e,r)&&Kh(u,r,e[r]);return u};class Nc extends d1{constructor(e){super(e),this.protocol=Nh,this.version=My,this.name=Pc,this.events=new B.EventEmitter,this.initialized=!1,this.on=(h,E)=>this.events.on(h,E),this.once=(h,E)=>this.events.once(h,E),this.off=(h,E)=>this.events.off(h,E),this.removeListener=(h,E)=>this.events.removeListener(h,E),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Fh,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:(0,Yt.pino)((0,Yt.getDefaultLoggerOptions)({level:(e==null?void 0:e.logger)||Oy.logger}));this.logger=(0,Yt.generateChildLogger)(r,this.name),this.heartbeat=new Vs.HeartBeat,this.crypto=new uv(this,this.logger,e==null?void 0:e.keychain),this.history=new Av(this,this.logger),this.expirer=new Dv(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new f1(Jh(Jh({},Ty),e==null?void 0:e.storageOptions)),this.relayer=new Sv({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Rv(this,this.logger),this.verify=new Pv(this.projectId||"",this.logger),this.echoClient=new Mv(this.projectId||"",this.logger)}static async init(e){const r=new Nc(e);await r.initialize();const h=await r.crypto.getClientId();return await r.storage.setItem(Zy,h),r}get context(){return(0,Yt.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const Lv=Nc,Zh="wc",Yh=2,qh="client",Lc=`${Zh}@${Yh}:${qh}:`,Bc={name:qh,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},L4={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},B4={database:":memory:"},Qh="WALLETCONNECT_DEEPLINK_CHOICE",F4={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},k4="history",j4="0.3",Bv="proposal",U4=null,Xh="Proposal expired",Fv="session",Yo=pt.SEVEN_DAYS,kv="engine",qs={wc_sessionPropose:{req:{ttl:pt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:pt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:pt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:pt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:pt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:pt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:pt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:pt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:pt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:pt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:pt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:pt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:pt.THIRTY_SECONDS,prompt:!1,tag:1115}}},Fc={min:pt.FIVE_MINUTES,max:pt.SEVEN_DAYS},hi={idle:"IDLE",active:"ACTIVE"},jv="request",Uv=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var $v=Object.defineProperty,Hv=Object.defineProperties,zv=Object.getOwnPropertyDescriptors,ef=Object.getOwnPropertySymbols,Wv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,tf=(u,e,r)=>e in u?$v(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,cn=(u,e)=>{for(var r in e||(e={}))Wv.call(e,r)&&tf(u,r,e[r]);if(ef)for(var r of ef(e))Vv.call(e,r)&&tf(u,r,e[r]);return u},Qs=(u,e)=>Hv(u,zv(e));class Gv extends I1{constructor(e){super(e),this.name=kv,this.events=new(K()),this.initialized=!1,this.ignoredPayloadTypes=[zi],this.requestQueue={state:hi.idle,queue:[]},this.sessionRequestQueue={state:hi.idle,queue:[]},this.requestQueueDelay=pt.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(qs)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,pt.toMiliseconds)(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const h=Qs(cn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(h);const{pairingTopic:E,requiredNamespaces:Q,optionalNamespaces:ue,sessionProperties:Ie,relays:Be}=h;let Ce=E,Ne,ze=!1;if(Ce&&(ze=this.client.core.pairing.pairings.get(Ce).active),!Ce||!ze){const{topic:Ft,uri:_t}=await this.client.core.pairing.create();Ce=Ft,Ne=_t}const Ye=await this.client.core.crypto.generateKeyPair(),ut=cn({requiredNamespaces:Q,optionalNamespaces:ue,relays:Be??[{protocol:Bh}],proposer:{publicKey:Ye,metadata:this.client.metadata}},Ie&&{sessionProperties:Ie}),{reject:Ze,resolve:ht,done:bt}=gs(pt.FIVE_MINUTES,Xh);if(this.events.once(Dr("session_connect"),async({error:Ft,session:_t})=>{if(Ft)Ze(Ft);else if(_t){_t.self.publicKey=Ye;const Ut=Qs(cn({},_t),{requiredNamespaces:_t.requiredNamespaces,optionalNamespaces:_t.optionalNamespaces});await this.client.session.set(_t.topic,Ut),await this.setExpiry(_t.topic,_t.expiry),Ce&&await this.client.core.pairing.updateMetadata({topic:Ce,metadata:_t.peer.metadata}),ht(Ut)}}),!Ce){const{message:Ft}=ct("NO_MATCHING_KEY",`connect() pairing topic: ${Ce}`);throw new Error(Ft)}const Dt=await this.sendRequest({topic:Ce,method:"wc_sessionPropose",params:ut}),Xt=jn(pt.FIVE_MINUTES);return await this.setProposal(Dt,cn({id:Dt,expiry:Xt},ut)),{uri:Ne,approval:bt}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);const{id:h,relayProtocol:E,namespaces:Q,sessionProperties:ue}=r,Ie=this.client.proposal.get(h);let{pairingTopic:Be,proposer:Ce,requiredNamespaces:Ne,optionalNamespaces:ze}=Ie;Be=Be||"",Vi(Ne)||(Ne=ng(Q,"approve()"));const Ye=await this.client.core.crypto.generateKeyPair(),ut=Ce.publicKey,Ze=await this.client.core.crypto.generateSharedKey(Ye,ut);Be&&h&&(await this.client.core.pairing.updateMetadata({topic:Be,metadata:Ce.metadata}),await this.sendResult({id:h,topic:Be,result:{relay:{protocol:E??"irn"},responderPublicKey:Ye}}),await this.client.proposal.delete(h,_r("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Be}));const ht=cn({relay:{protocol:E??"irn"},namespaces:Q,requiredNamespaces:Ne,optionalNamespaces:ze,pairingTopic:Be,controller:{publicKey:Ye,metadata:this.client.metadata},expiry:jn(Yo)},ue&&{sessionProperties:ue});await this.client.core.relayer.subscribe(Ze),await this.sendRequest({topic:Ze,method:"wc_sessionSettle",params:ht,throwOnFailedPublish:!0});const bt=Qs(cn({},ht),{topic:Ze,pairingTopic:Be,acknowledged:!1,self:ht.controller,peer:{publicKey:Ce.publicKey,metadata:Ce.metadata},controller:Ye});return await this.client.session.set(Ze,bt),await this.setExpiry(Ze,jn(Yo)),{topic:Ze,acknowledged:()=>new Promise(Dt=>setTimeout(()=>Dt(this.client.session.get(Ze)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);const{id:h,reason:E}=r,{pairingTopic:Q}=this.client.proposal.get(h);Q&&(await this.sendError(h,Q,E),await this.client.proposal.delete(h,_r("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);const{topic:h,namespaces:E}=r,Q=await this.sendRequest({topic:h,method:"wc_sessionUpdate",params:{namespaces:E}}),{done:ue,resolve:Ie,reject:Be}=gs();return this.events.once(Dr("session_update",Q),({error:Ce})=>{Ce?Be(Ce):Ie()}),await this.client.session.update(h,{namespaces:E}),{acknowledged:ue}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);const{topic:h}=r,E=await this.sendRequest({topic:h,method:"wc_sessionExtend",params:{}}),{done:Q,resolve:ue,reject:Ie}=gs();return this.events.once(Dr("session_extend",E),({error:Be})=>{Be?Ie(Be):ue()}),await this.setExpiry(h,jn(Yo)),{acknowledged:Q}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);const{chainId:h,request:E,topic:Q,expiry:ue}=r,Ie=xc(),{done:Be,resolve:Ce,reject:Ne}=gs(ue,"Request expired. Please try again.");return this.events.once(Dr("session_request",Ie),({error:ze,result:Ye})=>{ze?Ne(ze):Ce(Ye)}),await Promise.all([new Promise(async ze=>{await this.sendRequest({clientRpcId:Ie,topic:Q,method:"wc_sessionRequest",params:{request:E,chainId:h},expiry:ue,throwOnFailedPublish:!0}).catch(Ye=>Ne(Ye)),this.client.events.emit("session_request_sent",{topic:Q,request:E,chainId:h,id:Ie}),ze()}),new Promise(async ze=>{const Ye=await Fp(this.client.core.storage,Qh);Bp({id:Ie,topic:Q,wcDeepLink:Ye}),ze()}),Be()]).then(ze=>ze[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:h,response:E}=r,{id:Q}=E;ci(E)?await this.sendResult({id:Q,topic:h,result:E.result,throwOnFailedPublish:!0}):$n(E)&&await this.sendError(Q,h,E.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);const{topic:h}=r;if(this.client.session.keys.includes(h)){const E=await this.sendRequest({topic:h,method:"wc_sessionPing",params:{}}),{done:Q,resolve:ue,reject:Ie}=gs();this.events.once(Dr("session_ping",E),({error:Be})=>{Be?Ie(Be):ue()}),await Q()}else this.client.core.pairing.pairings.keys.includes(h)&&await this.client.core.pairing.ping({topic:h})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:h,event:E,chainId:Q}=r;await this.sendRequest({topic:h,method:"wc_sessionEvent",params:{event:E,chainId:Q}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:h}=r;this.client.session.keys.includes(h)?(await this.sendRequest({topic:h,method:"wc_sessionDelete",params:_r("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(h)):await this.client.core.pairing.disconnect({topic:h})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(h=>og(h,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const h=this.client.core.pairing.pairings.get(r.pairingTopic),E=this.client.core.pairing.pairings.getAll().filter(Q=>{var ue,Ie;return((ue=Q.peerMetadata)==null?void 0:ue.url)&&((Ie=Q.peerMetadata)==null?void 0:Ie.url)===r.peer.metadata.url&&Q.topic&&Q.topic!==h.topic});if(E.length===0)return;this.client.logger.info(`Cleaning up ${E.length} duplicate pairing(s)`),await Promise.all(E.map(Q=>this.client.core.pairing.disconnect({topic:Q.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(h){this.client.logger.error(h)}},this.deleteSession=async(r,h)=>{const{self:E}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,_r("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(E.publicKey)&&await this.client.core.crypto.deleteKeyPair(E.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),h||this.client.core.expirer.del(r),this.client.core.storage.removeItem(Qh).catch(Q=>this.client.logger.warn(Q)),this.getPendingSessionRequests().forEach(Q=>{Q.topic===r&&this.deletePendingSessionRequest(Q.id,_r("USER_DISCONNECTED"))})},this.deleteProposal=async(r,h)=>{await Promise.all([this.client.proposal.delete(r,_r("USER_DISCONNECTED")),h?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,h,E=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,h),E?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(Q=>Q.id!==r),E&&(this.sessionRequestQueue.state=hi.idle)},this.setExpiry=async(r,h)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:h}),this.client.core.expirer.set(r,h)},this.setProposal=async(r,h)=>{await this.client.proposal.set(r,h),this.client.core.expirer.set(r,h.expiry)},this.setPendingSessionRequest=async r=>{const h=qs.wc_sessionRequest.req.ttl,{id:E,topic:Q,params:ue,verifyContext:Ie}=r;await this.client.pendingRequest.set(E,{id:E,topic:Q,params:ue,verifyContext:Ie}),h&&this.client.core.expirer.set(E,jn(h))},this.sendRequest=async r=>{const{topic:h,method:E,params:Q,expiry:ue,relayRpcId:Ie,clientRpcId:Be,throwOnFailedPublish:Ce}=r,Ne=bs(E,Q,Be);if(ds()&&Uv.includes(E)){const ut=hs(JSON.stringify(Ne));this.client.core.verify.register({attestationId:ut})}const ze=await this.client.core.crypto.encode(h,Ne),Ye=qs[E].req;return ue&&(Ye.ttl=ue),Ie&&(Ye.id=Ie),this.client.core.history.set(h,Ne),Ce?(Ye.internal=Qs(cn({},Ye.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(h,ze,Ye)):this.client.core.relayer.publish(h,ze,Ye).catch(ut=>this.client.logger.error(ut)),Ne.id},this.sendResult=async r=>{const{id:h,topic:E,result:Q,throwOnFailedPublish:ue}=r,Ie=Vo(h,Q),Be=await this.client.core.crypto.encode(E,Ie),Ce=await this.client.core.history.get(E,h),Ne=qs[Ce.request.method].res;ue?(Ne.internal=Qs(cn({},Ne.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(E,Be,Ne)):this.client.core.relayer.publish(E,Be,Ne).catch(ze=>this.client.logger.error(ze)),await this.client.core.history.resolve(Ie)},this.sendError=async(r,h,E)=>{const Q=Go(r,E),ue=await this.client.core.crypto.encode(h,Q),Ie=await this.client.core.history.get(h,r),Be=qs[Ie.request.method].res;this.client.core.relayer.publish(h,ue,Be),await this.client.core.history.resolve(Q)},this.cleanup=async()=>{const r=[],h=[];this.client.session.getAll().forEach(E=>{Ci(E.expiry)&&r.push(E.topic)}),this.client.proposal.getAll().forEach(E=>{Ci(E.expiry)&&h.push(E.id)}),await Promise.all([...r.map(E=>this.deleteSession(E)),...h.map(E=>this.deleteProposal(E))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===hi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=hi.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(h=>setTimeout(h,300))}catch(h){this.client.logger.warn(h)}}this.requestQueue.state=hi.idle},this.processRequest=r=>{const{topic:h,payload:E}=r,Q=E.method;switch(Q){case"wc_sessionPropose":return this.onSessionProposeRequest(h,E);case"wc_sessionSettle":return this.onSessionSettleRequest(h,E);case"wc_sessionUpdate":return this.onSessionUpdateRequest(h,E);case"wc_sessionExtend":return this.onSessionExtendRequest(h,E);case"wc_sessionPing":return this.onSessionPingRequest(h,E);case"wc_sessionDelete":return this.onSessionDeleteRequest(h,E);case"wc_sessionRequest":return this.onSessionRequest(h,E);case"wc_sessionEvent":return this.onSessionEventRequest(h,E);default:return this.client.logger.info(`Unsupported request method ${Q}`)}},this.onRelayEventResponse=async r=>{const{topic:h,payload:E}=r,Q=(await this.client.core.history.get(h,E.id)).request.method;switch(Q){case"wc_sessionPropose":return this.onSessionProposeResponse(h,E);case"wc_sessionSettle":return this.onSessionSettleResponse(h,E);case"wc_sessionUpdate":return this.onSessionUpdateResponse(h,E);case"wc_sessionExtend":return this.onSessionExtendResponse(h,E);case"wc_sessionPing":return this.onSessionPingResponse(h,E);case"wc_sessionRequest":return this.onSessionRequestResponse(h,E);default:return this.client.logger.info(`Unsupported response method ${Q}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:h}=r,{message:E}=ct("MISSING_OR_INVALID",`Decoded payload on topic ${h} is not identifiable as a JSON-RPC request or a response.`);throw new Error(E)},this.onSessionProposeRequest=async(r,h)=>{const{params:E,id:Q}=h;try{this.isValidConnect(cn({},h.params));const ue=jn(pt.FIVE_MINUTES),Ie=cn({id:Q,pairingTopic:r,expiry:ue},E);await this.setProposal(Q,Ie);const Be=hs(JSON.stringify(h)),Ce=await this.getVerifyContext(Be,Ie.proposer.metadata);this.client.events.emit("session_proposal",{id:Q,params:Ie,verifyContext:Ce})}catch(ue){await this.sendError(Q,r,ue),this.client.logger.error(ue)}},this.onSessionProposeResponse=async(r,h)=>{const{id:E}=h;if(ci(h)){const{result:Q}=h;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:Q});const ue=this.client.proposal.get(E);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:ue});const Ie=ue.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Ie});const Be=Q.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Be});const Ce=await this.client.core.crypto.generateSharedKey(Ie,Be);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Ce});const Ne=await this.client.core.relayer.subscribe(Ce);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Ne}),await this.client.core.pairing.activate({topic:r})}else $n(h)&&(await this.client.proposal.delete(E,_r("USER_DISCONNECTED")),this.events.emit(Dr("session_connect"),{error:h.error}))},this.onSessionSettleRequest=async(r,h)=>{const{id:E,params:Q}=h;try{this.isValidSessionSettleRequest(Q);const{relay:ue,controller:Ie,expiry:Be,namespaces:Ce,requiredNamespaces:Ne,optionalNamespaces:ze,sessionProperties:Ye,pairingTopic:ut}=h.params,Ze=cn({topic:r,relay:ue,expiry:Be,namespaces:Ce,acknowledged:!0,pairingTopic:ut,requiredNamespaces:Ne,optionalNamespaces:ze,controller:Ie.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:Ie.publicKey,metadata:Ie.metadata}},Ye&&{sessionProperties:Ye});await this.sendResult({id:h.id,topic:r,result:!0}),this.events.emit(Dr("session_connect"),{session:Ze}),this.cleanupDuplicatePairings(Ze)}catch(ue){await this.sendError(E,r,ue),this.client.logger.error(ue)}},this.onSessionSettleResponse=async(r,h)=>{const{id:E}=h;ci(h)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Dr("session_approve",E),{})):$n(h)&&(await this.client.session.delete(r,_r("USER_DISCONNECTED")),this.events.emit(Dr("session_approve",E),{error:h.error}))},this.onSessionUpdateRequest=async(r,h)=>{const{params:E,id:Q}=h;try{const ue=`${r}_session_update`,Ie=Uo.get(ue);if(Ie&&this.isRequestOutOfSync(Ie,Q)){this.client.logger.info(`Discarding out of sync request - ${Q}`);return}this.isValidUpdate(cn({topic:r},E)),await this.client.session.update(r,{namespaces:E.namespaces}),await this.sendResult({id:Q,topic:r,result:!0}),this.client.events.emit("session_update",{id:Q,topic:r,params:E}),Uo.set(ue,Q)}catch(ue){await this.sendError(Q,r,ue),this.client.logger.error(ue)}},this.isRequestOutOfSync=(r,h)=>parseInt(h.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,h)=>{const{id:E}=h;ci(h)?this.events.emit(Dr("session_update",E),{}):$n(h)&&this.events.emit(Dr("session_update",E),{error:h.error})},this.onSessionExtendRequest=async(r,h)=>{const{id:E}=h;try{this.isValidExtend({topic:r}),await this.setExpiry(r,jn(Yo)),await this.sendResult({id:E,topic:r,result:!0}),this.client.events.emit("session_extend",{id:E,topic:r})}catch(Q){await this.sendError(E,r,Q),this.client.logger.error(Q)}},this.onSessionExtendResponse=(r,h)=>{const{id:E}=h;ci(h)?this.events.emit(Dr("session_extend",E),{}):$n(h)&&this.events.emit(Dr("session_extend",E),{error:h.error})},this.onSessionPingRequest=async(r,h)=>{const{id:E}=h;try{this.isValidPing({topic:r}),await this.sendResult({id:E,topic:r,result:!0}),this.client.events.emit("session_ping",{id:E,topic:r})}catch(Q){await this.sendError(E,r,Q),this.client.logger.error(Q)}},this.onSessionPingResponse=(r,h)=>{const{id:E}=h;setTimeout(()=>{ci(h)?this.events.emit(Dr("session_ping",E),{}):$n(h)&&this.events.emit(Dr("session_ping",E),{error:h.error})},500)},this.onSessionDeleteRequest=async(r,h)=>{const{id:E}=h;try{this.isValidDisconnect({topic:r,reason:h.params}),await Promise.all([new Promise(Q=>{this.client.core.relayer.once(zr.publish,async()=>{Q(await this.deleteSession(r))})}),this.sendResult({id:E,topic:r,result:!0})]),this.client.events.emit("session_delete",{id:E,topic:r})}catch(Q){this.client.logger.error(Q)}},this.onSessionRequest=async(r,h)=>{const{id:E,params:Q}=h;try{this.isValidRequest(cn({topic:r},Q));const ue=hs(JSON.stringify(bs("wc_sessionRequest",Q,E))),Ie=this.client.session.get(r),Be=await this.getVerifyContext(ue,Ie.peer.metadata),Ce={id:E,topic:r,params:Q,verifyContext:Be};await this.setPendingSessionRequest(Ce),this.addSessionRequestToSessionRequestQueue(Ce),this.processSessionRequestQueue()}catch(ue){await this.sendError(E,r,ue),this.client.logger.error(ue)}},this.onSessionRequestResponse=(r,h)=>{const{id:E}=h;ci(h)?this.events.emit(Dr("session_request",E),{result:h.result}):$n(h)&&this.events.emit(Dr("session_request",E),{error:h.error})},this.onSessionEventRequest=async(r,h)=>{const{id:E,params:Q}=h;try{const ue=`${r}_session_event_${Q.event.name}`,Ie=Uo.get(ue);if(Ie&&this.isRequestOutOfSync(Ie,E)){this.client.logger.info(`Discarding out of sync request - ${E}`);return}this.isValidEmit(cn({topic:r},Q)),this.client.events.emit("session_event",{id:E,topic:r,params:Q}),Uo.set(ue,E)}catch(ue){await this.sendError(E,r,ue),this.client.logger.error(ue)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=hi.idle,this.processSessionRequestQueue()},(0,pt.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===hi.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=hi.active,this.client.events.emit("session_request",r)}catch(h){this.client.logger.error(h)}},this.onPairingCreated=r=>{if(r.active)return;const h=this.client.proposal.getAll().find(E=>E.pairingTopic===r.topic);h&&this.onSessionProposeRequest(r.topic,bs("wc_sessionPropose",{requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,relays:h.relays,proposer:h.proposer,sessionProperties:h.sessionProperties},h.id))},this.isValidConnect=async r=>{if(!sn(r)){const{message:Be}=ct("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(Be)}const{pairingTopic:h,requiredNamespaces:E,optionalNamespaces:Q,sessionProperties:ue,relays:Ie}=r;if(Kr(h)||await this.isValidPairingTopic(h),!vg(Ie,!0)){const{message:Be}=ct("MISSING_OR_INVALID",`connect() relays: ${Ie}`);throw new Error(Be)}!Kr(E)&&Vi(E)!==0&&this.validateNamespaces(E,"requiredNamespaces"),!Kr(Q)&&Vi(Q)!==0&&this.validateNamespaces(Q,"optionalNamespaces"),Kr(ue)||this.validateSessionProps(ue,"sessionProperties")},this.validateNamespaces=(r,h)=>{const E=yg(r,"connect()",h);if(E)throw new Error(E.message)},this.isValidApprove=async r=>{if(!sn(r))throw new Error(ct("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:h,namespaces:E,relayProtocol:Q,sessionProperties:ue}=r;await this.isValidProposalId(h);const Ie=this.client.proposal.get(h),Be=jo(E,"approve()");if(Be)throw new Error(Be.message);const Ce=yc(Ie.requiredNamespaces,E,"approve()");if(Ce)throw new Error(Ce.message);if(!Br(Q,!0)){const{message:Ne}=ct("MISSING_OR_INVALID",`approve() relayProtocol: ${Q}`);throw new Error(Ne)}Kr(ue)||this.validateSessionProps(ue,"sessionProperties")},this.isValidReject=async r=>{if(!sn(r)){const{message:Q}=ct("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(Q)}const{id:h,reason:E}=r;if(await this.isValidProposalId(h),!wg(E)){const{message:Q}=ct("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(E)}`);throw new Error(Q)}},this.isValidSessionSettleRequest=r=>{if(!sn(r)){const{message:Ce}=ct("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(Ce)}const{relay:h,controller:E,namespaces:Q,expiry:ue}=r;if(!Hl(h)){const{message:Ce}=ct("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Ce)}const Ie=hg(E,"onSessionSettleRequest()");if(Ie)throw new Error(Ie.message);const Be=jo(Q,"onSessionSettleRequest()");if(Be)throw new Error(Be.message);if(Ci(ue)){const{message:Ce}=ct("EXPIRED","onSessionSettleRequest()");throw new Error(Ce)}},this.isValidUpdate=async r=>{if(!sn(r)){const{message:Be}=ct("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(Be)}const{topic:h,namespaces:E}=r;await this.isValidSessionTopic(h);const Q=this.client.session.get(h),ue=jo(E,"update()");if(ue)throw new Error(ue.message);const Ie=yc(Q.requiredNamespaces,E,"update()");if(Ie)throw new Error(Ie.message)},this.isValidExtend=async r=>{if(!sn(r)){const{message:E}=ct("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(E)}const{topic:h}=r;await this.isValidSessionTopic(h)},this.isValidRequest=async r=>{if(!sn(r)){const{message:Be}=ct("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(Be)}const{topic:h,request:E,chainId:Q,expiry:ue}=r;await this.isValidSessionTopic(h);const{namespaces:Ie}=this.client.session.get(h);if(!zl(Ie,Q)){const{message:Be}=ct("MISSING_OR_INVALID",`request() chainId: ${Q}`);throw new Error(Be)}if(!_g(E)){const{message:Be}=ct("MISSING_OR_INVALID",`request() ${JSON.stringify(E)}`);throw new Error(Be)}if(!Ig(Ie,Q,E.method)){const{message:Be}=ct("MISSING_OR_INVALID",`request() method: ${E.method}`);throw new Error(Be)}if(ue&&!Ag(ue,Fc)){const{message:Be}=ct("MISSING_OR_INVALID",`request() expiry: ${ue}. Expiry must be a number (in seconds) between ${Fc.min} and ${Fc.max}`);throw new Error(Be)}},this.isValidRespond=async r=>{var h;if(!sn(r)){const{message:ue}=ct("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(ue)}const{topic:E,response:Q}=r;try{await this.isValidSessionTopic(E)}catch(ue){throw(h=r==null?void 0:r.response)!=null&&h.id&&this.cleanupAfterResponse(r),ue}if(!Eg(Q)){const{message:ue}=ct("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(Q)}`);throw new Error(ue)}},this.isValidPing=async r=>{if(!sn(r)){const{message:E}=ct("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(E)}const{topic:h}=r;await this.isValidSessionOrPairingTopic(h)},this.isValidEmit=async r=>{if(!sn(r)){const{message:Ie}=ct("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(Ie)}const{topic:h,event:E,chainId:Q}=r;await this.isValidSessionTopic(h);const{namespaces:ue}=this.client.session.get(h);if(!zl(ue,Q)){const{message:Ie}=ct("MISSING_OR_INVALID",`emit() chainId: ${Q}`);throw new Error(Ie)}if(!Sg(E)){const{message:Ie}=ct("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(E)}`);throw new Error(Ie)}if(!xg(ue,Q,E.name)){const{message:Ie}=ct("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(E)}`);throw new Error(Ie)}},this.isValidDisconnect=async r=>{if(!sn(r)){const{message:E}=ct("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(E)}const{topic:h}=r;await this.isValidSessionOrPairingTopic(h)},this.getVerifyContext=async(r,h)=>{const E={verified:{verifyUrl:h.verifyUrl||ws,validation:"UNKNOWN",origin:h.url||""}};try{const Q=await this.client.core.verify.resolve({attestationId:r,verifyUrl:h.verifyUrl});Q&&(E.verified.origin=Q.origin,E.verified.isScam=Q.isScam,E.verified.validation=Q.origin===new URL(h.url).origin?"VALID":"INVALID")}catch(Q){this.client.logger.info(Q)}return this.client.logger.info(`Verify context: ${JSON.stringify(E)}`),E},this.validateSessionProps=(r,h)=>{Object.values(r).forEach(E=>{if(!Br(E,!1)){const{message:Q}=ct("MISSING_OR_INVALID",`${h} must be in Record<string, string> format. Received: ${JSON.stringify(E)}`);throw new Error(Q)}})}}async isInitialized(){if(!this.initialized){const{message:e}=ct("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(zr.message,async e=>{const{topic:r,message:h}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(h)))return;const E=await this.client.core.crypto.decode(r,h);try{Cc(E)?(this.client.core.history.set(r,E),this.onRelayEventRequest({topic:r,payload:E})):Ko(E)?(await this.client.core.history.resolve(E),await this.onRelayEventResponse({topic:r,payload:E}),this.client.core.history.delete(r,E.id)):this.onRelayEventUnknownPayload({topic:r,payload:E})}catch(Q){this.client.logger.error(Q)}})}registerExpirerEvents(){this.client.core.expirer.on(Cn.expired,async e=>{const{topic:r,id:h}=Tl(e.target);if(h&&this.client.pendingRequest.keys.includes(h))return await this.deletePendingSessionRequest(h,ct("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):h&&(await this.deleteProposal(h,!0),this.client.events.emit("proposal_expire",{id:h}))})}registerPairingEvents(){this.client.core.pairing.events.on(Zs.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Br(e,!1)){const{message:r}=ct("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=ct("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Ci(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=ct("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Br(e,!1)){const{message:r}=ct("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=ct("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Ci(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=ct("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Br(e,!1)){const{message:r}=ct("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=ct("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!bg(e)){const{message:r}=ct("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=ct("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Ci(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=ct("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Kv extends Zo{constructor(e,r){super(e,r,Bv,Lc),this.core=e,this.logger=r}}class Jv extends Zo{constructor(e,r){super(e,r,Fv,Lc),this.core=e,this.logger=r}}class Zv extends Zo{constructor(e,r){super(e,r,jv,Lc,h=>h.id),this.core=e,this.logger=r}}class kc extends S1{constructor(e){super(e),this.protocol=Zh,this.version=Yh,this.name=Bc.name,this.events=new B.EventEmitter,this.on=(h,E)=>this.events.on(h,E),this.once=(h,E)=>this.events.once(h,E),this.off=(h,E)=>this.events.off(h,E),this.removeListener=(h,E)=>this.events.removeListener(h,E),this.removeAllListeners=h=>this.events.removeAllListeners(h),this.connect=async h=>{try{return await this.engine.connect(h)}catch(E){throw this.logger.error(E.message),E}},this.pair=async h=>{try{return await this.engine.pair(h)}catch(E){throw this.logger.error(E.message),E}},this.approve=async h=>{try{return await this.engine.approve(h)}catch(E){throw this.logger.error(E.message),E}},this.reject=async h=>{try{return await this.engine.reject(h)}catch(E){throw this.logger.error(E.message),E}},this.update=async h=>{try{return await this.engine.update(h)}catch(E){throw this.logger.error(E.message),E}},this.extend=async h=>{try{return await this.engine.extend(h)}catch(E){throw this.logger.error(E.message),E}},this.request=async h=>{try{return await this.engine.request(h)}catch(E){throw this.logger.error(E.message),E}},this.respond=async h=>{try{return await this.engine.respond(h)}catch(E){throw this.logger.error(E.message),E}},this.ping=async h=>{try{return await this.engine.ping(h)}catch(E){throw this.logger.error(E.message),E}},this.emit=async h=>{try{return await this.engine.emit(h)}catch(E){throw this.logger.error(E.message),E}},this.disconnect=async h=>{try{return await this.engine.disconnect(h)}catch(E){throw this.logger.error(E.message),E}},this.find=h=>{try{return this.engine.find(h)}catch(E){throw this.logger.error(E.message),E}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(h){throw this.logger.error(h.message),h}},this.name=(e==null?void 0:e.name)||Bc.name,this.metadata=(e==null?void 0:e.metadata)||Cp();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:(0,Yt.pino)((0,Yt.getDefaultLoggerOptions)({level:(e==null?void 0:e.logger)||Bc.logger}));this.core=(e==null?void 0:e.core)||new Lv(e),this.logger=(0,Yt.generateChildLogger)(r,this.name),this.session=new Jv(this.core,this.logger),this.proposal=new Kv(this.core,this.logger),this.pendingRequest=new Zv(this.core,this.logger),this.engine=new Gv(this)}static async init(e){const r=new kc(e);return await r.initialize(),r}get context(){return(0,Yt.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const $4=null,H4=null;var Yv=f(52830),rf=f.n(Yv);const nf={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},sf=10;class of{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new B.EventEmitter,this.isAvailable=!1,this.registering=!1,!fh(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const h=Gi(e),Q=await(await rf()(this.url,Object.assign(Object.assign({},nf),{body:h}))).json();this.onPayload({data:Q})}catch(h){this.onError(e.id,h)}}async register(e=this.url){if(!fh(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((h,E)=>{this.events.once("register_error",Q=>{this.resetMaxListeners(),E(Q)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return E(new Error("HTTP connection is missing or invalid"));h()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Gi({id:1,jsonrpc:"2.0",method:"test",params:[]});await rf()(e,Object.assign(Object.assign({},nf),{body:r}))}this.onOpen()}catch(r){const h=this.parseError(r);throw this.events.emit("register_error",h),this.onClose(),h}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ws(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const h=this.parseError(r),E=h.message||h.toString(),Q=Go(e,E);this.events.emit("payload",Q)}parseError(e,r=this.url){return uh(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>sf&&this.events.setMaxListeners(sf)}}var qv=of,Ki=qv;const af="error",Qv="wss://relay.walletconnect.com",Xv="wc",eb="universal_provider",cf=`${Xv}@2:${eb}:`,tb="https://rpc.walletconnect.com/v1/",fi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof f.g<"u"?f.g:typeof self<"u"?self:{},jc={exports:{}};(function(u,e){(function(){var r,h="4.17.21",E=200,Q="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ue="Expected a function",Ie="Invalid `variable` option passed into `_.template`",Be="__lodash_hash_undefined__",Ce=500,Ne="__lodash_placeholder__",ze=1,Ye=2,ut=4,Ze=1,ht=2,bt=1,Dt=2,Xt=4,Ft=8,_t=16,Ut=32,tr=64,Qt=128,mr=256,mn=512,jb=30,Ub="...",$b=800,Hb=16,wf=1,zb=2,Wb=3,Zi=1/0,Di=9007199254740991,Vb=17976931348623157e292,ta=0/0,ti=4294967295,Gb=ti-1,Kb=ti>>>1,Jb=[["ary",Qt],["bind",bt],["bindKey",Dt],["curry",Ft],["curryRight",_t],["flip",mn],["partial",Ut],["partialRight",tr],["rearg",mr]],_s="[object Arguments]",ra="[object Array]",Zb="[object AsyncFunction]",to="[object Boolean]",ro="[object Date]",Yb="[object DOMException]",na="[object Error]",ia="[object Function]",_f="[object GeneratorFunction]",zn="[object Map]",no="[object Number]",qb="[object Null]",di="[object Object]",Ef="[object Promise]",Qb="[object Proxy]",io="[object RegExp]",Wn="[object Set]",so="[object String]",sa="[object Symbol]",Xb="[object Undefined]",oo="[object WeakMap]",ew="[object WeakSet]",ao="[object ArrayBuffer]",Es="[object DataView]",Yc="[object Float32Array]",qc="[object Float64Array]",Qc="[object Int8Array]",Xc="[object Int16Array]",eu="[object Int32Array]",tu="[object Uint8Array]",ru="[object Uint8ClampedArray]",nu="[object Uint16Array]",iu="[object Uint32Array]",tw=/\b__p \+= '';/g,rw=/\b(__p \+=) '' \+/g,nw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sf=/&(?:amp|lt|gt|quot|#39);/g,If=/[&<>"']/g,iw=RegExp(Sf.source),sw=RegExp(If.source),ow=/<%-([\s\S]+?)%>/g,aw=/<%([\s\S]+?)%>/g,xf=/<%=([\s\S]+?)%>/g,cw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uw=/^\w*$/,lw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,su=/[\\^$.*+?()[\]{}|]/g,hw=RegExp(su.source),ou=/^\s+/,fw=/\s/,dw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pw=/\{\n\/\* \[wrapped with (.+)\] \*/,gw=/,? & /,mw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yw=/[()=,{}\[\]\/\s]/,vw=/\\(\\)?/g,bw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cf=/\w*$/,ww=/^[-+]0x[0-9a-f]+$/i,_w=/^0b[01]+$/i,Ew=/^\[object .+?Constructor\]$/,Sw=/^0o[0-7]+$/i,Iw=/^(?:0|[1-9]\d*)$/,xw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oa=/($^)/,Cw=/['\n\r\u2028\u2029\\]/g,aa="\\ud800-\\udfff",Rw="\\u0300-\\u036f",Aw="\\ufe20-\\ufe2f",Dw="\\u20d0-\\u20ff",Rf=Rw+Aw+Dw,Af="\\u2700-\\u27bf",Df="a-z\\xdf-\\xf6\\xf8-\\xff",Pw="\\xac\\xb1\\xd7\\xf7",Mw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ow="\\u2000-\\u206f",Tw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pf="A-Z\\xc0-\\xd6\\xd8-\\xde",Mf="\\ufe0e\\ufe0f",Of=Pw+Mw+Ow+Tw,au="['\u2019]",Nw="["+aa+"]",Tf="["+Of+"]",ca="["+Rf+"]",Nf="\\d+",Lw="["+Af+"]",Lf="["+Df+"]",Bf="[^"+aa+Of+Nf+Af+Df+Pf+"]",cu="\\ud83c[\\udffb-\\udfff]",Bw="(?:"+ca+"|"+cu+")",Ff="[^"+aa+"]",uu="(?:\\ud83c[\\udde6-\\uddff]){2}",lu="[\\ud800-\\udbff][\\udc00-\\udfff]",Ss="["+Pf+"]",kf="\\u200d",jf="(?:"+Lf+"|"+Bf+")",Fw="(?:"+Ss+"|"+Bf+")",Uf="(?:"+au+"(?:d|ll|m|re|s|t|ve))?",$f="(?:"+au+"(?:D|LL|M|RE|S|T|VE))?",Hf=Bw+"?",zf="["+Mf+"]?",kw="(?:"+kf+"(?:"+[Ff,uu,lu].join("|")+")"+zf+Hf+")*",jw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wf=zf+Hf+kw,$w="(?:"+[Lw,uu,lu].join("|")+")"+Wf,Hw="(?:"+[Ff+ca+"?",ca,uu,lu,Nw].join("|")+")",zw=RegExp(au,"g"),Ww=RegExp(ca,"g"),hu=RegExp(cu+"(?="+cu+")|"+Hw+Wf,"g"),Vw=RegExp([Ss+"?"+Lf+"+"+Uf+"(?="+[Tf,Ss,"$"].join("|")+")",Fw+"+"+$f+"(?="+[Tf,Ss+jf,"$"].join("|")+")",Ss+"?"+jf+"+"+Uf,Ss+"+"+$f,Uw,jw,Nf,$w].join("|"),"g"),Gw=RegExp("["+kf+aa+Rf+Mf+"]"),Kw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zw=-1,yr={};yr[Yc]=yr[qc]=yr[Qc]=yr[Xc]=yr[eu]=yr[tu]=yr[ru]=yr[nu]=yr[iu]=!0,yr[_s]=yr[ra]=yr[ao]=yr[to]=yr[Es]=yr[ro]=yr[na]=yr[ia]=yr[zn]=yr[no]=yr[di]=yr[io]=yr[Wn]=yr[so]=yr[oo]=!1;var dr={};dr[_s]=dr[ra]=dr[ao]=dr[Es]=dr[to]=dr[ro]=dr[Yc]=dr[qc]=dr[Qc]=dr[Xc]=dr[eu]=dr[zn]=dr[no]=dr[di]=dr[io]=dr[Wn]=dr[so]=dr[sa]=dr[tu]=dr[ru]=dr[nu]=dr[iu]=!0,dr[na]=dr[ia]=dr[oo]=!1;var Yw={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},qw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e2=parseFloat,t2=parseInt,Vf=typeof Xs=="object"&&Xs&&Xs.Object===Object&&Xs,r2=typeof self=="object"&&self&&self.Object===Object&&self,Ur=Vf||r2||Function("return this")(),fu=e&&!e.nodeType&&e,Yi=fu&&!0&&u&&!u.nodeType&&u,Gf=Yi&&Yi.exports===fu,du=Gf&&Vf.process,Rn=function(){try{var Ue=Yi&&Yi.require&&Yi.require("util").types;return Ue||du&&du.binding&&du.binding("util")}catch{}}(),Kf=Rn&&Rn.isArrayBuffer,Jf=Rn&&Rn.isDate,Zf=Rn&&Rn.isMap,Yf=Rn&&Rn.isRegExp,qf=Rn&&Rn.isSet,Qf=Rn&&Rn.isTypedArray;function yn(Ue,Qe,Ge){switch(Ge.length){case 0:return Ue.call(Qe);case 1:return Ue.call(Qe,Ge[0]);case 2:return Ue.call(Qe,Ge[0],Ge[1]);case 3:return Ue.call(Qe,Ge[0],Ge[1],Ge[2])}return Ue.apply(Qe,Ge)}function n2(Ue,Qe,Ge,dt){for(var kt=-1,er=Ue==null?0:Ue.length;++kt<er;){var Mr=Ue[kt];Qe(dt,Mr,Ge(Mr),Ue)}return dt}function An(Ue,Qe){for(var Ge=-1,dt=Ue==null?0:Ue.length;++Ge<dt&&Qe(Ue[Ge],Ge,Ue)!==!1;);return Ue}function i2(Ue,Qe){for(var Ge=Ue==null?0:Ue.length;Ge--&&Qe(Ue[Ge],Ge,Ue)!==!1;);return Ue}function Xf(Ue,Qe){for(var Ge=-1,dt=Ue==null?0:Ue.length;++Ge<dt;)if(!Qe(Ue[Ge],Ge,Ue))return!1;return!0}function Pi(Ue,Qe){for(var Ge=-1,dt=Ue==null?0:Ue.length,kt=0,er=[];++Ge<dt;){var Mr=Ue[Ge];Qe(Mr,Ge,Ue)&&(er[kt++]=Mr)}return er}function ua(Ue,Qe){var Ge=Ue==null?0:Ue.length;return!!Ge&&Is(Ue,Qe,0)>-1}function pu(Ue,Qe,Ge){for(var dt=-1,kt=Ue==null?0:Ue.length;++dt<kt;)if(Ge(Qe,Ue[dt]))return!0;return!1}function br(Ue,Qe){for(var Ge=-1,dt=Ue==null?0:Ue.length,kt=Array(dt);++Ge<dt;)kt[Ge]=Qe(Ue[Ge],Ge,Ue);return kt}function Mi(Ue,Qe){for(var Ge=-1,dt=Qe.length,kt=Ue.length;++Ge<dt;)Ue[kt+Ge]=Qe[Ge];return Ue}function gu(Ue,Qe,Ge,dt){var kt=-1,er=Ue==null?0:Ue.length;for(dt&&er&&(Ge=Ue[++kt]);++kt<er;)Ge=Qe(Ge,Ue[kt],kt,Ue);return Ge}function s2(Ue,Qe,Ge,dt){var kt=Ue==null?0:Ue.length;for(dt&&kt&&(Ge=Ue[--kt]);kt--;)Ge=Qe(Ge,Ue[kt],kt,Ue);return Ge}function mu(Ue,Qe){for(var Ge=-1,dt=Ue==null?0:Ue.length;++Ge<dt;)if(Qe(Ue[Ge],Ge,Ue))return!0;return!1}var o2=yu("length");function a2(Ue){return Ue.split("")}function c2(Ue){return Ue.match(mw)||[]}function ed(Ue,Qe,Ge){var dt;return Ge(Ue,function(kt,er,Mr){if(Qe(kt,er,Mr))return dt=er,!1}),dt}function la(Ue,Qe,Ge,dt){for(var kt=Ue.length,er=Ge+(dt?1:-1);dt?er--:++er<kt;)if(Qe(Ue[er],er,Ue))return er;return-1}function Is(Ue,Qe,Ge){return Qe===Qe?w2(Ue,Qe,Ge):la(Ue,td,Ge)}function u2(Ue,Qe,Ge,dt){for(var kt=Ge-1,er=Ue.length;++kt<er;)if(dt(Ue[kt],Qe))return kt;return-1}function td(Ue){return Ue!==Ue}function rd(Ue,Qe){var Ge=Ue==null?0:Ue.length;return Ge?bu(Ue,Qe)/Ge:ta}function yu(Ue){return function(Qe){return Qe==null?r:Qe[Ue]}}function vu(Ue){return function(Qe){return Ue==null?r:Ue[Qe]}}function nd(Ue,Qe,Ge,dt,kt){return kt(Ue,function(er,Mr,fr){Ge=dt?(dt=!1,er):Qe(Ge,er,Mr,fr)}),Ge}function l2(Ue,Qe){var Ge=Ue.length;for(Ue.sort(Qe);Ge--;)Ue[Ge]=Ue[Ge].value;return Ue}function bu(Ue,Qe){for(var Ge,dt=-1,kt=Ue.length;++dt<kt;){var er=Qe(Ue[dt]);er!==r&&(Ge=Ge===r?er:Ge+er)}return Ge}function wu(Ue,Qe){for(var Ge=-1,dt=Array(Ue);++Ge<Ue;)dt[Ge]=Qe(Ge);return dt}function h2(Ue,Qe){return br(Qe,function(Ge){return[Ge,Ue[Ge]]})}function id(Ue){return Ue&&Ue.slice(0,cd(Ue)+1).replace(ou,"")}function vn(Ue){return function(Qe){return Ue(Qe)}}function _u(Ue,Qe){return br(Qe,function(Ge){return Ue[Ge]})}function co(Ue,Qe){return Ue.has(Qe)}function sd(Ue,Qe){for(var Ge=-1,dt=Ue.length;++Ge<dt&&Is(Qe,Ue[Ge],0)>-1;);return Ge}function od(Ue,Qe){for(var Ge=Ue.length;Ge--&&Is(Qe,Ue[Ge],0)>-1;);return Ge}function f2(Ue,Qe){for(var Ge=Ue.length,dt=0;Ge--;)Ue[Ge]===Qe&&++dt;return dt}var d2=vu(Yw),p2=vu(qw);function g2(Ue){return"\\"+Xw[Ue]}function m2(Ue,Qe){return Ue==null?r:Ue[Qe]}function xs(Ue){return Gw.test(Ue)}function y2(Ue){return Kw.test(Ue)}function v2(Ue){for(var Qe,Ge=[];!(Qe=Ue.next()).done;)Ge.push(Qe.value);return Ge}function Eu(Ue){var Qe=-1,Ge=Array(Ue.size);return Ue.forEach(function(dt,kt){Ge[++Qe]=[kt,dt]}),Ge}function ad(Ue,Qe){return function(Ge){return Ue(Qe(Ge))}}function Oi(Ue,Qe){for(var Ge=-1,dt=Ue.length,kt=0,er=[];++Ge<dt;){var Mr=Ue[Ge];(Mr===Qe||Mr===Ne)&&(Ue[Ge]=Ne,er[kt++]=Ge)}return er}function ha(Ue){var Qe=-1,Ge=Array(Ue.size);return Ue.forEach(function(dt){Ge[++Qe]=dt}),Ge}function b2(Ue){var Qe=-1,Ge=Array(Ue.size);return Ue.forEach(function(dt){Ge[++Qe]=[dt,dt]}),Ge}function w2(Ue,Qe,Ge){for(var dt=Ge-1,kt=Ue.length;++dt<kt;)if(Ue[dt]===Qe)return dt;return-1}function _2(Ue,Qe,Ge){for(var dt=Ge+1;dt--;)if(Ue[dt]===Qe)return dt;return dt}function Cs(Ue){return xs(Ue)?S2(Ue):o2(Ue)}function Vn(Ue){return xs(Ue)?I2(Ue):a2(Ue)}function cd(Ue){for(var Qe=Ue.length;Qe--&&fw.test(Ue.charAt(Qe)););return Qe}var E2=vu(Qw);function S2(Ue){for(var Qe=hu.lastIndex=0;hu.test(Ue);)++Qe;return Qe}function I2(Ue){return Ue.match(hu)||[]}function x2(Ue){return Ue.match(Vw)||[]}var C2=function Ue(Qe){Qe=Qe==null?Ur:Rs.defaults(Ur.Object(),Qe,Rs.pick(Ur,Jw));var Ge=Qe.Array,dt=Qe.Date,kt=Qe.Error,er=Qe.Function,Mr=Qe.Math,fr=Qe.Object,Su=Qe.RegExp,R2=Qe.String,Dn=Qe.TypeError,fa=Ge.prototype,A2=er.prototype,As=fr.prototype,da=Qe["__core-js_shared__"],pa=A2.toString,ir=As.hasOwnProperty,D2=0,ud=function(){var t=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ga=As.toString,P2=pa.call(fr),M2=Ur._,O2=Su("^"+pa.call(ir).replace(su,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ma=Gf?Qe.Buffer:r,Ti=Qe.Symbol,ya=Qe.Uint8Array,ld=ma?ma.allocUnsafe:r,va=ad(fr.getPrototypeOf,fr),hd=fr.create,fd=As.propertyIsEnumerable,ba=fa.splice,dd=Ti?Ti.isConcatSpreadable:r,uo=Ti?Ti.iterator:r,qi=Ti?Ti.toStringTag:r,wa=function(){try{var t=rs(fr,"defineProperty");return t({},"",{}),t}catch{}}(),T2=Qe.clearTimeout!==Ur.clearTimeout&&Qe.clearTimeout,N2=dt&&dt.now!==Ur.Date.now&&dt.now,L2=Qe.setTimeout!==Ur.setTimeout&&Qe.setTimeout,_a=Mr.ceil,Ea=Mr.floor,Iu=fr.getOwnPropertySymbols,B2=ma?ma.isBuffer:r,pd=Qe.isFinite,F2=fa.join,k2=ad(fr.keys,fr),Or=Mr.max,Wr=Mr.min,j2=dt.now,U2=Qe.parseInt,gd=Mr.random,$2=fa.reverse,xu=rs(Qe,"DataView"),lo=rs(Qe,"Map"),Cu=rs(Qe,"Promise"),Ds=rs(Qe,"Set"),ho=rs(Qe,"WeakMap"),fo=rs(fr,"create"),Sa=ho&&new ho,Ps={},H2=ns(xu),z2=ns(lo),W2=ns(Cu),V2=ns(Ds),G2=ns(ho),Ia=Ti?Ti.prototype:r,po=Ia?Ia.valueOf:r,md=Ia?Ia.toString:r;function be(t){if(Er(t)&&!$t(t)&&!(t instanceof Zt)){if(t instanceof Pn)return t;if(ir.call(t,"__wrapped__"))return y0(t)}return new Pn(t)}var Ms=function(){function t(){}return function(n){if(!wr(n))return{};if(hd)return hd(n);t.prototype=n;var w=new t;return t.prototype=r,w}}();function xa(){}function Pn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=r}be.templateSettings={escape:ow,evaluate:aw,interpolate:xf,variable:"",imports:{_:be}},be.prototype=xa.prototype,be.prototype.constructor=be,Pn.prototype=Ms(xa.prototype),Pn.prototype.constructor=Pn;function Zt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ti,this.__views__=[]}function K2(){var t=new Zt(this.__wrapped__);return t.__actions__=un(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=un(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=un(this.__views__),t}function J2(){if(this.__filtered__){var t=new Zt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Z2(){var t=this.__wrapped__.value(),n=this.__dir__,w=$t(t),J=n<0,he=w?t.length:0,_e=aE(0,he,this.__views__),De=_e.start,Le=_e.end,He=Le-De,tt=J?Le:De-1,rt=this.__iteratees__,it=rt.length,lt=0,yt=Wr(He,this.__takeCount__);if(!w||!J&&he==He&&yt==He)return Ud(t,this.__actions__);var It=[];e:for(;He--&&lt<yt;){tt+=n;for(var zt=-1,xt=t[tt];++zt<it;){var Kt=rt[zt],qt=Kt.iteratee,_n=Kt.type,Yr=qt(xt);if(_n==zb)xt=Yr;else if(!Yr){if(_n==wf)continue e;break e}}It[lt++]=xt}return It}Zt.prototype=Ms(xa.prototype),Zt.prototype.constructor=Zt;function Qi(t){var n=-1,w=t==null?0:t.length;for(this.clear();++n<w;){var J=t[n];this.set(J[0],J[1])}}function Y2(){this.__data__=fo?fo(null):{},this.size=0}function q2(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Q2(t){var n=this.__data__;if(fo){var w=n[t];return w===Be?r:w}return ir.call(n,t)?n[t]:r}function X2(t){var n=this.__data__;return fo?n[t]!==r:ir.call(n,t)}function e_(t,n){var w=this.__data__;return this.size+=this.has(t)?0:1,w[t]=fo&&n===r?Be:n,this}Qi.prototype.clear=Y2,Qi.prototype.delete=q2,Qi.prototype.get=Q2,Qi.prototype.has=X2,Qi.prototype.set=e_;function pi(t){var n=-1,w=t==null?0:t.length;for(this.clear();++n<w;){var J=t[n];this.set(J[0],J[1])}}function t_(){this.__data__=[],this.size=0}function r_(t){var n=this.__data__,w=Ca(n,t);if(w<0)return!1;var J=n.length-1;return w==J?n.pop():ba.call(n,w,1),--this.size,!0}function n_(t){var n=this.__data__,w=Ca(n,t);return w<0?r:n[w][1]}function i_(t){return Ca(this.__data__,t)>-1}function s_(t,n){var w=this.__data__,J=Ca(w,t);return J<0?(++this.size,w.push([t,n])):w[J][1]=n,this}pi.prototype.clear=t_,pi.prototype.delete=r_,pi.prototype.get=n_,pi.prototype.has=i_,pi.prototype.set=s_;function gi(t){var n=-1,w=t==null?0:t.length;for(this.clear();++n<w;){var J=t[n];this.set(J[0],J[1])}}function o_(){this.size=0,this.__data__={hash:new Qi,map:new(lo||pi),string:new Qi}}function a_(t){var n=ka(this,t).delete(t);return this.size-=n?1:0,n}function c_(t){return ka(this,t).get(t)}function u_(t){return ka(this,t).has(t)}function l_(t,n){var w=ka(this,t),J=w.size;return w.set(t,n),this.size+=w.size==J?0:1,this}gi.prototype.clear=o_,gi.prototype.delete=a_,gi.prototype.get=c_,gi.prototype.has=u_,gi.prototype.set=l_;function Xi(t){var n=-1,w=t==null?0:t.length;for(this.__data__=new gi;++n<w;)this.add(t[n])}function h_(t){return this.__data__.set(t,Be),this}function f_(t){return this.__data__.has(t)}Xi.prototype.add=Xi.prototype.push=h_,Xi.prototype.has=f_;function Gn(t){var n=this.__data__=new pi(t);this.size=n.size}function d_(){this.__data__=new pi,this.size=0}function p_(t){var n=this.__data__,w=n.delete(t);return this.size=n.size,w}function g_(t){return this.__data__.get(t)}function m_(t){return this.__data__.has(t)}function y_(t,n){var w=this.__data__;if(w instanceof pi){var J=w.__data__;if(!lo||J.length<E-1)return J.push([t,n]),this.size=++w.size,this;w=this.__data__=new gi(J)}return w.set(t,n),this.size=w.size,this}Gn.prototype.clear=d_,Gn.prototype.delete=p_,Gn.prototype.get=g_,Gn.prototype.has=m_,Gn.prototype.set=y_;function yd(t,n){var w=$t(t),J=!w&&is(t),he=!w&&!J&&ki(t),_e=!w&&!J&&!he&&Ls(t),De=w||J||he||_e,Le=De?wu(t.length,R2):[],He=Le.length;for(var tt in t)(n||ir.call(t,tt))&&!(De&&(tt=="length"||he&&(tt=="offset"||tt=="parent")||_e&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||bi(tt,He)))&&Le.push(tt);return Le}function vd(t){var n=t.length;return n?t[Fu(0,n-1)]:r}function v_(t,n){return ja(un(t),es(n,0,t.length))}function b_(t){return ja(un(t))}function Ru(t,n,w){(w!==r&&!Kn(t[n],w)||w===r&&!(n in t))&&mi(t,n,w)}function go(t,n,w){var J=t[n];(!(ir.call(t,n)&&Kn(J,w))||w===r&&!(n in t))&&mi(t,n,w)}function Ca(t,n){for(var w=t.length;w--;)if(Kn(t[w][0],n))return w;return-1}function w_(t,n,w,J){return Ni(t,function(he,_e,De){n(J,he,w(he),De)}),J}function bd(t,n){return t&&ni(n,kr(n),t)}function __(t,n){return t&&ni(n,hn(n),t)}function mi(t,n,w){n=="__proto__"&&wa?wa(t,n,{configurable:!0,enumerable:!0,value:w,writable:!0}):t[n]=w}function Au(t,n){for(var w=-1,J=n.length,he=Ge(J),_e=t==null;++w<J;)he[w]=_e?r:cl(t,n[w]);return he}function es(t,n,w){return t===t&&(w!==r&&(t=t<=w?t:w),n!==r&&(t=t>=n?t:n)),t}function Mn(t,n,w,J,he,_e){var De,Le=n&ze,He=n&Ye,tt=n&ut;if(w&&(De=he?w(t,J,he,_e):w(t)),De!==r)return De;if(!wr(t))return t;var rt=$t(t);if(rt){if(De=uE(t),!Le)return un(t,De)}else{var it=Vr(t),lt=it==ia||it==_f;if(ki(t))return zd(t,Le);if(it==di||it==_s||lt&&!he){if(De=He||lt?{}:c0(t),!Le)return He?Q_(t,__(De,t)):q_(t,bd(De,t))}else{if(!dr[it])return he?t:{};De=lE(t,it,Le)}}_e||(_e=new Gn);var yt=_e.get(t);if(yt)return yt;_e.set(t,De),F0(t)?t.forEach(function(xt){De.add(Mn(xt,n,w,xt,t,_e))}):L0(t)&&t.forEach(function(xt,Kt){De.set(Kt,Mn(xt,n,w,Kt,t,_e))});var It=tt?He?Ju:Ku:He?hn:kr,zt=rt?r:It(t);return An(zt||t,function(xt,Kt){zt&&(Kt=xt,xt=t[Kt]),go(De,Kt,Mn(xt,n,w,Kt,t,_e))}),De}function E_(t){var n=kr(t);return function(w){return wd(w,t,n)}}function wd(t,n,w){var J=w.length;if(t==null)return!J;for(t=fr(t);J--;){var he=w[J],_e=n[he],De=t[he];if(De===r&&!(he in t)||!_e(De))return!1}return!0}function _d(t,n,w){if(typeof t!="function")throw new Dn(ue);return Eo(function(){t.apply(r,w)},n)}function mo(t,n,w,J){var he=-1,_e=ua,De=!0,Le=t.length,He=[],tt=n.length;if(!Le)return He;w&&(n=br(n,vn(w))),J?(_e=pu,De=!1):n.length>=E&&(_e=co,De=!1,n=new Xi(n));e:for(;++he<Le;){var rt=t[he],it=w==null?rt:w(rt);if(rt=J||rt!==0?rt:0,De&&it===it){for(var lt=tt;lt--;)if(n[lt]===it)continue e;He.push(rt)}else _e(n,it,J)||He.push(rt)}return He}var Ni=Jd(ri),Ed=Jd(Pu,!0);function S_(t,n){var w=!0;return Ni(t,function(J,he,_e){return w=!!n(J,he,_e),w}),w}function Ra(t,n,w){for(var J=-1,he=t.length;++J<he;){var _e=t[J],De=n(_e);if(De!=null&&(Le===r?De===De&&!wn(De):w(De,Le)))var Le=De,He=_e}return He}function I_(t,n,w,J){var he=t.length;for(w=Ht(w),w<0&&(w=-w>he?0:he+w),J=J===r||J>he?he:Ht(J),J<0&&(J+=he),J=w>J?0:j0(J);w<J;)t[w++]=n;return t}function Sd(t,n){var w=[];return Ni(t,function(J,he,_e){n(J,he,_e)&&w.push(J)}),w}function $r(t,n,w,J,he){var _e=-1,De=t.length;for(w||(w=fE),he||(he=[]);++_e<De;){var Le=t[_e];n>0&&w(Le)?n>1?$r(Le,n-1,w,J,he):Mi(he,Le):J||(he[he.length]=Le)}return he}var Du=Zd(),Id=Zd(!0);function ri(t,n){return t&&Du(t,n,kr)}function Pu(t,n){return t&&Id(t,n,kr)}function Aa(t,n){return Pi(n,function(w){return wi(t[w])})}function ts(t,n){n=Bi(n,t);for(var w=0,J=n.length;t!=null&&w<J;)t=t[ii(n[w++])];return w&&w==J?t:r}function xd(t,n,w){var J=n(t);return $t(t)?J:Mi(J,w(t))}function Jr(t){return t==null?t===r?Xb:qb:qi&&qi in fr(t)?oE(t):bE(t)}function Mu(t,n){return t>n}function x_(t,n){return t!=null&&ir.call(t,n)}function C_(t,n){return t!=null&&n in fr(t)}function R_(t,n,w){return t>=Wr(n,w)&&t<Or(n,w)}function Ou(t,n,w){for(var J=w?pu:ua,he=t[0].length,_e=t.length,De=_e,Le=Ge(_e),He=1/0,tt=[];De--;){var rt=t[De];De&&n&&(rt=br(rt,vn(n))),He=Wr(rt.length,He),Le[De]=!w&&(n||he>=120&&rt.length>=120)?new Xi(De&&rt):r}rt=t[0];var it=-1,lt=Le[0];e:for(;++it<he&&tt.length<He;){var yt=rt[it],It=n?n(yt):yt;if(yt=w||yt!==0?yt:0,!(lt?co(lt,It):J(tt,It,w))){for(De=_e;--De;){var zt=Le[De];if(!(zt?co(zt,It):J(t[De],It,w)))continue e}lt&&lt.push(It),tt.push(yt)}}return tt}function A_(t,n,w,J){return ri(t,function(he,_e,De){n(J,w(he),_e,De)}),J}function yo(t,n,w){n=Bi(n,t),t=f0(t,n);var J=t==null?t:t[ii(Tn(n))];return J==null?r:yn(J,t,w)}function Cd(t){return Er(t)&&Jr(t)==_s}function D_(t){return Er(t)&&Jr(t)==ao}function P_(t){return Er(t)&&Jr(t)==ro}function vo(t,n,w,J,he){return t===n?!0:t==null||n==null||!Er(t)&&!Er(n)?t!==t&&n!==n:M_(t,n,w,J,vo,he)}function M_(t,n,w,J,he,_e){var De=$t(t),Le=$t(n),He=De?ra:Vr(t),tt=Le?ra:Vr(n);He=He==_s?di:He,tt=tt==_s?di:tt;var rt=He==di,it=tt==di,lt=He==tt;if(lt&&ki(t)){if(!ki(n))return!1;De=!0,rt=!1}if(lt&&!rt)return _e||(_e=new Gn),De||Ls(t)?s0(t,n,w,J,he,_e):iE(t,n,He,w,J,he,_e);if(!(w&Ze)){var yt=rt&&ir.call(t,"__wrapped__"),It=it&&ir.call(n,"__wrapped__");if(yt||It){var zt=yt?t.value():t,xt=It?n.value():n;return _e||(_e=new Gn),he(zt,xt,w,J,_e)}}return lt?(_e||(_e=new Gn),sE(t,n,w,J,he,_e)):!1}function O_(t){return Er(t)&&Vr(t)==zn}function Tu(t,n,w,J){var he=w.length,_e=he,De=!J;if(t==null)return!_e;for(t=fr(t);he--;){var Le=w[he];if(De&&Le[2]?Le[1]!==t[Le[0]]:!(Le[0]in t))return!1}for(;++he<_e;){Le=w[he];var He=Le[0],tt=t[He],rt=Le[1];if(De&&Le[2]){if(tt===r&&!(He in t))return!1}else{var it=new Gn;if(J)var lt=J(tt,rt,He,t,n,it);if(!(lt===r?vo(rt,tt,Ze|ht,J,it):lt))return!1}}return!0}function Rd(t){if(!wr(t)||pE(t))return!1;var n=wi(t)?O2:Ew;return n.test(ns(t))}function T_(t){return Er(t)&&Jr(t)==io}function N_(t){return Er(t)&&Vr(t)==Wn}function L_(t){return Er(t)&&Va(t.length)&&!!yr[Jr(t)]}function Ad(t){return typeof t=="function"?t:t==null?fn:typeof t=="object"?$t(t)?Md(t[0],t[1]):Pd(t):Y0(t)}function Nu(t){if(!_o(t))return k2(t);var n=[];for(var w in fr(t))ir.call(t,w)&&w!="constructor"&&n.push(w);return n}function B_(t){if(!wr(t))return vE(t);var n=_o(t),w=[];for(var J in t)J=="constructor"&&(n||!ir.call(t,J))||w.push(J);return w}function Lu(t,n){return t<n}function Dd(t,n){var w=-1,J=ln(t)?Ge(t.length):[];return Ni(t,function(he,_e,De){J[++w]=n(he,_e,De)}),J}function Pd(t){var n=Yu(t);return n.length==1&&n[0][2]?l0(n[0][0],n[0][1]):function(w){return w===t||Tu(w,t,n)}}function Md(t,n){return Qu(t)&&u0(n)?l0(ii(t),n):function(w){var J=cl(w,t);return J===r&&J===n?ul(w,t):vo(n,J,Ze|ht)}}function Da(t,n,w,J,he){t!==n&&Du(n,function(_e,De){if(he||(he=new Gn),wr(_e))F_(t,n,De,w,Da,J,he);else{var Le=J?J(el(t,De),_e,De+"",t,n,he):r;Le===r&&(Le=_e),Ru(t,De,Le)}},hn)}function F_(t,n,w,J,he,_e,De){var Le=el(t,w),He=el(n,w),tt=De.get(He);if(tt){Ru(t,w,tt);return}var rt=_e?_e(Le,He,w+"",t,n,De):r,it=rt===r;if(it){var lt=$t(He),yt=!lt&&ki(He),It=!lt&&!yt&&Ls(He);rt=He,lt||yt||It?$t(Le)?rt=Le:Sr(Le)?rt=un(Le):yt?(it=!1,rt=zd(He,!0)):It?(it=!1,rt=Wd(He,!0)):rt=[]:So(He)||is(He)?(rt=Le,is(Le)?rt=U0(Le):(!wr(Le)||wi(Le))&&(rt=c0(He))):it=!1}it&&(De.set(He,rt),he(rt,He,J,_e,De),De.delete(He)),Ru(t,w,rt)}function Od(t,n){var w=t.length;if(w)return n+=n<0?w:0,bi(n,w)?t[n]:r}function Td(t,n,w){n.length?n=br(n,function(_e){return $t(_e)?function(De){return ts(De,_e.length===1?_e[0]:_e)}:_e}):n=[fn];var J=-1;n=br(n,vn(St()));var he=Dd(t,function(_e,De,Le){var He=br(n,function(tt){return tt(_e)});return{criteria:He,index:++J,value:_e}});return l2(he,function(_e,De){return Y_(_e,De,w)})}function k_(t,n){return Nd(t,n,function(w,J){return ul(t,J)})}function Nd(t,n,w){for(var J=-1,he=n.length,_e={};++J<he;){var De=n[J],Le=ts(t,De);w(Le,De)&&bo(_e,Bi(De,t),Le)}return _e}function j_(t){return function(n){return ts(n,t)}}function Bu(t,n,w,J){var he=J?u2:Is,_e=-1,De=n.length,Le=t;for(t===n&&(n=un(n)),w&&(Le=br(t,vn(w)));++_e<De;)for(var He=0,tt=n[_e],rt=w?w(tt):tt;(He=he(Le,rt,He,J))>-1;)Le!==t&&ba.call(Le,He,1),ba.call(t,He,1);return t}function Ld(t,n){for(var w=t?n.length:0,J=w-1;w--;){var he=n[w];if(w==J||he!==_e){var _e=he;bi(he)?ba.call(t,he,1):Uu(t,he)}}return t}function Fu(t,n){return t+Ea(gd()*(n-t+1))}function U_(t,n,w,J){for(var he=-1,_e=Or(_a((n-t)/(w||1)),0),De=Ge(_e);_e--;)De[J?_e:++he]=t,t+=w;return De}function ku(t,n){var w="";if(!t||n<1||n>Di)return w;do n%2&&(w+=t),n=Ea(n/2),n&&(t+=t);while(n);return w}function Wt(t,n){return tl(h0(t,n,fn),t+"")}function $_(t){return vd(Bs(t))}function H_(t,n){var w=Bs(t);return ja(w,es(n,0,w.length))}function bo(t,n,w,J){if(!wr(t))return t;n=Bi(n,t);for(var he=-1,_e=n.length,De=_e-1,Le=t;Le!=null&&++he<_e;){var He=ii(n[he]),tt=w;if(He==="__proto__"||He==="constructor"||He==="prototype")return t;if(he!=De){var rt=Le[He];tt=J?J(rt,He,Le):r,tt===r&&(tt=wr(rt)?rt:bi(n[he+1])?[]:{})}go(Le,He,tt),Le=Le[He]}return t}var Bd=Sa?function(t,n){return Sa.set(t,n),t}:fn,z_=wa?function(t,n){return wa(t,"toString",{configurable:!0,enumerable:!1,value:hl(n),writable:!0})}:fn;function W_(t){return ja(Bs(t))}function On(t,n,w){var J=-1,he=t.length;n<0&&(n=-n>he?0:he+n),w=w>he?he:w,w<0&&(w+=he),he=n>w?0:w-n>>>0,n>>>=0;for(var _e=Ge(he);++J<he;)_e[J]=t[J+n];return _e}function V_(t,n){var w;return Ni(t,function(J,he,_e){return w=n(J,he,_e),!w}),!!w}function Pa(t,n,w){var J=0,he=t==null?J:t.length;if(typeof n=="number"&&n===n&&he<=Kb){for(;J<he;){var _e=J+he>>>1,De=t[_e];De!==null&&!wn(De)&&(w?De<=n:De<n)?J=_e+1:he=_e}return he}return ju(t,n,fn,w)}function ju(t,n,w,J){var he=0,_e=t==null?0:t.length;if(_e===0)return 0;n=w(n);for(var De=n!==n,Le=n===null,He=wn(n),tt=n===r;he<_e;){var rt=Ea((he+_e)/2),it=w(t[rt]),lt=it!==r,yt=it===null,It=it===it,zt=wn(it);if(De)var xt=J||It;else tt?xt=It&&(J||lt):Le?xt=It&&lt&&(J||!yt):He?xt=It&&lt&&!yt&&(J||!zt):yt||zt?xt=!1:xt=J?it<=n:it<n;xt?he=rt+1:_e=rt}return Wr(_e,Gb)}function Fd(t,n){for(var w=-1,J=t.length,he=0,_e=[];++w<J;){var De=t[w],Le=n?n(De):De;if(!w||!Kn(Le,He)){var He=Le;_e[he++]=De===0?0:De}}return _e}function kd(t){return typeof t=="number"?t:wn(t)?ta:+t}function bn(t){if(typeof t=="string")return t;if($t(t))return br(t,bn)+"";if(wn(t))return md?md.call(t):"";var n=t+"";return n=="0"&&1/t==-Zi?"-0":n}function Li(t,n,w){var J=-1,he=ua,_e=t.length,De=!0,Le=[],He=Le;if(w)De=!1,he=pu;else if(_e>=E){var tt=n?null:rE(t);if(tt)return ha(tt);De=!1,he=co,He=new Xi}else He=n?[]:Le;e:for(;++J<_e;){var rt=t[J],it=n?n(rt):rt;if(rt=w||rt!==0?rt:0,De&&it===it){for(var lt=He.length;lt--;)if(He[lt]===it)continue e;n&&He.push(it),Le.push(rt)}else he(He,it,w)||(He!==Le&&He.push(it),Le.push(rt))}return Le}function Uu(t,n){return n=Bi(n,t),t=f0(t,n),t==null||delete t[ii(Tn(n))]}function jd(t,n,w,J){return bo(t,n,w(ts(t,n)),J)}function Ma(t,n,w,J){for(var he=t.length,_e=J?he:-1;(J?_e--:++_e<he)&&n(t[_e],_e,t););return w?On(t,J?0:_e,J?_e+1:he):On(t,J?_e+1:0,J?he:_e)}function Ud(t,n){var w=t;return w instanceof Zt&&(w=w.value()),gu(n,function(J,he){return he.func.apply(he.thisArg,Mi([J],he.args))},w)}function $u(t,n,w){var J=t.length;if(J<2)return J?Li(t[0]):[];for(var he=-1,_e=Ge(J);++he<J;)for(var De=t[he],Le=-1;++Le<J;)Le!=he&&(_e[he]=mo(_e[he]||De,t[Le],n,w));return Li($r(_e,1),n,w)}function $d(t,n,w){for(var J=-1,he=t.length,_e=n.length,De={};++J<he;){var Le=J<_e?n[J]:r;w(De,t[J],Le)}return De}function Hu(t){return Sr(t)?t:[]}function zu(t){return typeof t=="function"?t:fn}function Bi(t,n){return $t(t)?t:Qu(t,n)?[t]:m0(rr(t))}var G_=Wt;function Fi(t,n,w){var J=t.length;return w=w===r?J:w,!n&&w>=J?t:On(t,n,w)}var Hd=T2||function(t){return Ur.clearTimeout(t)};function zd(t,n){if(n)return t.slice();var w=t.length,J=ld?ld(w):new t.constructor(w);return t.copy(J),J}function Wu(t){var n=new t.constructor(t.byteLength);return new ya(n).set(new ya(t)),n}function K_(t,n){var w=n?Wu(t.buffer):t.buffer;return new t.constructor(w,t.byteOffset,t.byteLength)}function J_(t){var n=new t.constructor(t.source,Cf.exec(t));return n.lastIndex=t.lastIndex,n}function Z_(t){return po?fr(po.call(t)):{}}function Wd(t,n){var w=n?Wu(t.buffer):t.buffer;return new t.constructor(w,t.byteOffset,t.length)}function Vd(t,n){if(t!==n){var w=t!==r,J=t===null,he=t===t,_e=wn(t),De=n!==r,Le=n===null,He=n===n,tt=wn(n);if(!Le&&!tt&&!_e&&t>n||_e&&De&&He&&!Le&&!tt||J&&De&&He||!w&&He||!he)return 1;if(!J&&!_e&&!tt&&t<n||tt&&w&&he&&!J&&!_e||Le&&w&&he||!De&&he||!He)return-1}return 0}function Y_(t,n,w){for(var J=-1,he=t.criteria,_e=n.criteria,De=he.length,Le=w.length;++J<De;){var He=Vd(he[J],_e[J]);if(He){if(J>=Le)return He;var tt=w[J];return He*(tt=="desc"?-1:1)}}return t.index-n.index}function Gd(t,n,w,J){for(var he=-1,_e=t.length,De=w.length,Le=-1,He=n.length,tt=Or(_e-De,0),rt=Ge(He+tt),it=!J;++Le<He;)rt[Le]=n[Le];for(;++he<De;)(it||he<_e)&&(rt[w[he]]=t[he]);for(;tt--;)rt[Le++]=t[he++];return rt}function Kd(t,n,w,J){for(var he=-1,_e=t.length,De=-1,Le=w.length,He=-1,tt=n.length,rt=Or(_e-Le,0),it=Ge(rt+tt),lt=!J;++he<rt;)it[he]=t[he];for(var yt=he;++He<tt;)it[yt+He]=n[He];for(;++De<Le;)(lt||he<_e)&&(it[yt+w[De]]=t[he++]);return it}function un(t,n){var w=-1,J=t.length;for(n||(n=Ge(J));++w<J;)n[w]=t[w];return n}function ni(t,n,w,J){var he=!w;w||(w={});for(var _e=-1,De=n.length;++_e<De;){var Le=n[_e],He=J?J(w[Le],t[Le],Le,w,t):r;He===r&&(He=t[Le]),he?mi(w,Le,He):go(w,Le,He)}return w}function q_(t,n){return ni(t,qu(t),n)}function Q_(t,n){return ni(t,o0(t),n)}function Oa(t,n){return function(w,J){var he=$t(w)?n2:w_,_e=n?n():{};return he(w,t,St(J,2),_e)}}function Os(t){return Wt(function(n,w){var J=-1,he=w.length,_e=he>1?w[he-1]:r,De=he>2?w[2]:r;for(_e=t.length>3&&typeof _e=="function"?(he--,_e):r,De&&Zr(w[0],w[1],De)&&(_e=he<3?r:_e,he=1),n=fr(n);++J<he;){var Le=w[J];Le&&t(n,Le,J,_e)}return n})}function Jd(t,n){return function(w,J){if(w==null)return w;if(!ln(w))return t(w,J);for(var he=w.length,_e=n?he:-1,De=fr(w);(n?_e--:++_e<he)&&J(De[_e],_e,De)!==!1;);return w}}function Zd(t){return function(n,w,J){for(var he=-1,_e=fr(n),De=J(n),Le=De.length;Le--;){var He=De[t?Le:++he];if(w(_e[He],He,_e)===!1)break}return n}}function X_(t,n,w){var J=n&bt,he=wo(t);function _e(){var De=this&&this!==Ur&&this instanceof _e?he:t;return De.apply(J?w:this,arguments)}return _e}function Yd(t){return function(n){n=rr(n);var w=xs(n)?Vn(n):r,J=w?w[0]:n.charAt(0),he=w?Fi(w,1).join(""):n.slice(1);return J[t]()+he}}function Ts(t){return function(n){return gu(J0(K0(n).replace(zw,"")),t,"")}}function wo(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var w=Ms(t.prototype),J=t.apply(w,n);return wr(J)?J:w}}function eE(t,n,w){var J=wo(t);function he(){for(var _e=arguments.length,De=Ge(_e),Le=_e,He=Ns(he);Le--;)De[Le]=arguments[Le];var tt=_e<3&&De[0]!==He&&De[_e-1]!==He?[]:Oi(De,He);if(_e-=tt.length,_e<w)return t0(t,n,Ta,he.placeholder,r,De,tt,r,r,w-_e);var rt=this&&this!==Ur&&this instanceof he?J:t;return yn(rt,this,De)}return he}function qd(t){return function(n,w,J){var he=fr(n);if(!ln(n)){var _e=St(w,3);n=kr(n),w=function(Le){return _e(he[Le],Le,he)}}var De=t(n,w,J);return De>-1?he[_e?n[De]:De]:r}}function Qd(t){return vi(function(n){var w=n.length,J=w,he=Pn.prototype.thru;for(t&&n.reverse();J--;){var _e=n[J];if(typeof _e!="function")throw new Dn(ue);if(he&&!De&&Fa(_e)=="wrapper")var De=new Pn([],!0)}for(J=De?J:w;++J<w;){_e=n[J];var Le=Fa(_e),He=Le=="wrapper"?Zu(_e):r;He&&Xu(He[0])&&He[1]==(Qt|Ft|Ut|mr)&&!He[4].length&&He[9]==1?De=De[Fa(He[0])].apply(De,He[3]):De=_e.length==1&&Xu(_e)?De[Le]():De.thru(_e)}return function(){var tt=arguments,rt=tt[0];if(De&&tt.length==1&&$t(rt))return De.plant(rt).value();for(var it=0,lt=w?n[it].apply(this,tt):rt;++it<w;)lt=n[it].call(this,lt);return lt}})}function Ta(t,n,w,J,he,_e,De,Le,He,tt){var rt=n&Qt,it=n&bt,lt=n&Dt,yt=n&(Ft|_t),It=n&mn,zt=lt?r:wo(t);function xt(){for(var Kt=arguments.length,qt=Ge(Kt),_n=Kt;_n--;)qt[_n]=arguments[_n];if(yt)var Yr=Ns(xt),En=f2(qt,Yr);if(J&&(qt=Gd(qt,J,he,yt)),_e&&(qt=Kd(qt,_e,De,yt)),Kt-=En,yt&&Kt<tt){var Ir=Oi(qt,Yr);return t0(t,n,Ta,xt.placeholder,w,qt,Ir,Le,He,tt-Kt)}var Jn=it?w:this,Ei=lt?Jn[t]:t;return Kt=qt.length,Le?qt=wE(qt,Le):It&&Kt>1&&qt.reverse(),rt&&He<Kt&&(qt.length=He),this&&this!==Ur&&this instanceof xt&&(Ei=zt||wo(Ei)),Ei.apply(Jn,qt)}return xt}function Xd(t,n){return function(w,J){return A_(w,t,n(J),{})}}function Na(t,n){return function(w,J){var he;if(w===r&&J===r)return n;if(w!==r&&(he=w),J!==r){if(he===r)return J;typeof w=="string"||typeof J=="string"?(w=bn(w),J=bn(J)):(w=kd(w),J=kd(J)),he=t(w,J)}return he}}function Vu(t){return vi(function(n){return n=br(n,vn(St())),Wt(function(w){var J=this;return t(n,function(he){return yn(he,J,w)})})})}function La(t,n){n=n===r?" ":bn(n);var w=n.length;if(w<2)return w?ku(n,t):n;var J=ku(n,_a(t/Cs(n)));return xs(n)?Fi(Vn(J),0,t).join(""):J.slice(0,t)}function tE(t,n,w,J){var he=n&bt,_e=wo(t);function De(){for(var Le=-1,He=arguments.length,tt=-1,rt=J.length,it=Ge(rt+He),lt=this&&this!==Ur&&this instanceof De?_e:t;++tt<rt;)it[tt]=J[tt];for(;He--;)it[tt++]=arguments[++Le];return yn(lt,he?w:this,it)}return De}function e0(t){return function(n,w,J){return J&&typeof J!="number"&&Zr(n,w,J)&&(w=J=r),n=_i(n),w===r?(w=n,n=0):w=_i(w),J=J===r?n<w?1:-1:_i(J),U_(n,w,J,t)}}function Ba(t){return function(n,w){return typeof n=="string"&&typeof w=="string"||(n=Nn(n),w=Nn(w)),t(n,w)}}function t0(t,n,w,J,he,_e,De,Le,He,tt){var rt=n&Ft,it=rt?De:r,lt=rt?r:De,yt=rt?_e:r,It=rt?r:_e;n|=rt?Ut:tr,n&=~(rt?tr:Ut),n&Xt||(n&=~(bt|Dt));var zt=[t,n,he,yt,it,It,lt,Le,He,tt],xt=w.apply(r,zt);return Xu(t)&&d0(xt,zt),xt.placeholder=J,p0(xt,t,n)}function Gu(t){var n=Mr[t];return function(w,J){if(w=Nn(w),J=J==null?0:Wr(Ht(J),292),J&&pd(w)){var he=(rr(w)+"e").split("e"),_e=n(he[0]+"e"+(+he[1]+J));return he=(rr(_e)+"e").split("e"),+(he[0]+"e"+(+he[1]-J))}return n(w)}}var rE=Ds&&1/ha(new Ds([,-0]))[1]==Zi?function(t){return new Ds(t)}:pl;function r0(t){return function(n){var w=Vr(n);return w==zn?Eu(n):w==Wn?b2(n):h2(n,t(n))}}function yi(t,n,w,J,he,_e,De,Le){var He=n&Dt;if(!He&&typeof t!="function")throw new Dn(ue);var tt=J?J.length:0;if(tt||(n&=~(Ut|tr),J=he=r),De=De===r?De:Or(Ht(De),0),Le=Le===r?Le:Ht(Le),tt-=he?he.length:0,n&tr){var rt=J,it=he;J=he=r}var lt=He?r:Zu(t),yt=[t,n,w,J,he,rt,it,_e,De,Le];if(lt&&yE(yt,lt),t=yt[0],n=yt[1],w=yt[2],J=yt[3],he=yt[4],Le=yt[9]=yt[9]===r?He?0:t.length:Or(yt[9]-tt,0),!Le&&n&(Ft|_t)&&(n&=~(Ft|_t)),!n||n==bt)var It=X_(t,n,w);else n==Ft||n==_t?It=eE(t,n,Le):(n==Ut||n==(bt|Ut))&&!he.length?It=tE(t,n,w,J):It=Ta.apply(r,yt);var zt=lt?Bd:d0;return p0(zt(It,yt),t,n)}function n0(t,n,w,J){return t===r||Kn(t,As[w])&&!ir.call(J,w)?n:t}function i0(t,n,w,J,he,_e){return wr(t)&&wr(n)&&(_e.set(n,t),Da(t,n,r,i0,_e),_e.delete(n)),t}function nE(t){return So(t)?r:t}function s0(t,n,w,J,he,_e){var De=w&Ze,Le=t.length,He=n.length;if(Le!=He&&!(De&&He>Le))return!1;var tt=_e.get(t),rt=_e.get(n);if(tt&&rt)return tt==n&&rt==t;var it=-1,lt=!0,yt=w&ht?new Xi:r;for(_e.set(t,n),_e.set(n,t);++it<Le;){var It=t[it],zt=n[it];if(J)var xt=De?J(zt,It,it,n,t,_e):J(It,zt,it,t,n,_e);if(xt!==r){if(xt)continue;lt=!1;break}if(yt){if(!mu(n,function(Kt,qt){if(!co(yt,qt)&&(It===Kt||he(It,Kt,w,J,_e)))return yt.push(qt)})){lt=!1;break}}else if(!(It===zt||he(It,zt,w,J,_e))){lt=!1;break}}return _e.delete(t),_e.delete(n),lt}function iE(t,n,w,J,he,_e,De){switch(w){case Es:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ao:return!(t.byteLength!=n.byteLength||!_e(new ya(t),new ya(n)));case to:case ro:case no:return Kn(+t,+n);case na:return t.name==n.name&&t.message==n.message;case io:case so:return t==n+"";case zn:var Le=Eu;case Wn:var He=J&Ze;if(Le||(Le=ha),t.size!=n.size&&!He)return!1;var tt=De.get(t);if(tt)return tt==n;J|=ht,De.set(t,n);var rt=s0(Le(t),Le(n),J,he,_e,De);return De.delete(t),rt;case sa:if(po)return po.call(t)==po.call(n)}return!1}function sE(t,n,w,J,he,_e){var De=w&Ze,Le=Ku(t),He=Le.length,tt=Ku(n),rt=tt.length;if(He!=rt&&!De)return!1;for(var it=He;it--;){var lt=Le[it];if(!(De?lt in n:ir.call(n,lt)))return!1}var yt=_e.get(t),It=_e.get(n);if(yt&&It)return yt==n&&It==t;var zt=!0;_e.set(t,n),_e.set(n,t);for(var xt=De;++it<He;){lt=Le[it];var Kt=t[lt],qt=n[lt];if(J)var _n=De?J(qt,Kt,lt,n,t,_e):J(Kt,qt,lt,t,n,_e);if(!(_n===r?Kt===qt||he(Kt,qt,w,J,_e):_n)){zt=!1;break}xt||(xt=lt=="constructor")}if(zt&&!xt){var Yr=t.constructor,En=n.constructor;Yr!=En&&"constructor"in t&&"constructor"in n&&!(typeof Yr=="function"&&Yr instanceof Yr&&typeof En=="function"&&En instanceof En)&&(zt=!1)}return _e.delete(t),_e.delete(n),zt}function vi(t){return tl(h0(t,r,w0),t+"")}function Ku(t){return xd(t,kr,qu)}function Ju(t){return xd(t,hn,o0)}var Zu=Sa?function(t){return Sa.get(t)}:pl;function Fa(t){for(var n=t.name+"",w=Ps[n],J=ir.call(Ps,n)?w.length:0;J--;){var he=w[J],_e=he.func;if(_e==null||_e==t)return he.name}return n}function Ns(t){var n=ir.call(be,"placeholder")?be:t;return n.placeholder}function St(){var t=be.iteratee||fl;return t=t===fl?Ad:t,arguments.length?t(arguments[0],arguments[1]):t}function ka(t,n){var w=t.__data__;return dE(n)?w[typeof n=="string"?"string":"hash"]:w.map}function Yu(t){for(var n=kr(t),w=n.length;w--;){var J=n[w],he=t[J];n[w]=[J,he,u0(he)]}return n}function rs(t,n){var w=m2(t,n);return Rd(w)?w:r}function oE(t){var n=ir.call(t,qi),w=t[qi];try{t[qi]=r;var J=!0}catch{}var he=ga.call(t);return J&&(n?t[qi]=w:delete t[qi]),he}var qu=Iu?function(t){return t==null?[]:(t=fr(t),Pi(Iu(t),function(n){return fd.call(t,n)}))}:gl,o0=Iu?function(t){for(var n=[];t;)Mi(n,qu(t)),t=va(t);return n}:gl,Vr=Jr;(xu&&Vr(new xu(new ArrayBuffer(1)))!=Es||lo&&Vr(new lo)!=zn||Cu&&Vr(Cu.resolve())!=Ef||Ds&&Vr(new Ds)!=Wn||ho&&Vr(new ho)!=oo)&&(Vr=function(t){var n=Jr(t),w=n==di?t.constructor:r,J=w?ns(w):"";if(J)switch(J){case H2:return Es;case z2:return zn;case W2:return Ef;case V2:return Wn;case G2:return oo}return n});function aE(t,n,w){for(var J=-1,he=w.length;++J<he;){var _e=w[J],De=_e.size;switch(_e.type){case"drop":t+=De;break;case"dropRight":n-=De;break;case"take":n=Wr(n,t+De);break;case"takeRight":t=Or(t,n-De);break}}return{start:t,end:n}}function cE(t){var n=t.match(pw);return n?n[1].split(gw):[]}function a0(t,n,w){n=Bi(n,t);for(var J=-1,he=n.length,_e=!1;++J<he;){var De=ii(n[J]);if(!(_e=t!=null&&w(t,De)))break;t=t[De]}return _e||++J!=he?_e:(he=t==null?0:t.length,!!he&&Va(he)&&bi(De,he)&&($t(t)||is(t)))}function uE(t){var n=t.length,w=new t.constructor(n);return n&&typeof t[0]=="string"&&ir.call(t,"index")&&(w.index=t.index,w.input=t.input),w}function c0(t){return typeof t.constructor=="function"&&!_o(t)?Ms(va(t)):{}}function lE(t,n,w){var J=t.constructor;switch(n){case ao:return Wu(t);case to:case ro:return new J(+t);case Es:return K_(t,w);case Yc:case qc:case Qc:case Xc:case eu:case tu:case ru:case nu:case iu:return Wd(t,w);case zn:return new J;case no:case so:return new J(t);case io:return J_(t);case Wn:return new J;case sa:return Z_(t)}}function hE(t,n){var w=n.length;if(!w)return t;var J=w-1;return n[J]=(w>1?"& ":"")+n[J],n=n.join(w>2?", ":" "),t.replace(dw,`{
/* [wrapped with `+n+`] */
`)}function fE(t){return $t(t)||is(t)||!!(dd&&t&&t[dd])}function bi(t,n){var w=typeof t;return n=n??Di,!!n&&(w=="number"||w!="symbol"&&Iw.test(t))&&t>-1&&t%1==0&&t<n}function Zr(t,n,w){if(!wr(w))return!1;var J=typeof n;return(J=="number"?ln(w)&&bi(n,w.length):J=="string"&&n in w)?Kn(w[n],t):!1}function Qu(t,n){if($t(t))return!1;var w=typeof t;return w=="number"||w=="symbol"||w=="boolean"||t==null||wn(t)?!0:uw.test(t)||!cw.test(t)||n!=null&&t in fr(n)}function dE(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Xu(t){var n=Fa(t),w=be[n];if(typeof w!="function"||!(n in Zt.prototype))return!1;if(t===w)return!0;var J=Zu(w);return!!J&&t===J[0]}function pE(t){return!!ud&&ud in t}var gE=da?wi:ml;function _o(t){var n=t&&t.constructor,w=typeof n=="function"&&n.prototype||As;return t===w}function u0(t){return t===t&&!wr(t)}function l0(t,n){return function(w){return w==null?!1:w[t]===n&&(n!==r||t in fr(w))}}function mE(t){var n=za(t,function(J){return w.size===Ce&&w.clear(),J}),w=n.cache;return n}function yE(t,n){var w=t[1],J=n[1],he=w|J,_e=he<(bt|Dt|Qt),De=J==Qt&&w==Ft||J==Qt&&w==mr&&t[7].length<=n[8]||J==(Qt|mr)&&n[7].length<=n[8]&&w==Ft;if(!(_e||De))return t;J&bt&&(t[2]=n[2],he|=w&bt?0:Xt);var Le=n[3];if(Le){var He=t[3];t[3]=He?Gd(He,Le,n[4]):Le,t[4]=He?Oi(t[3],Ne):n[4]}return Le=n[5],Le&&(He=t[5],t[5]=He?Kd(He,Le,n[6]):Le,t[6]=He?Oi(t[5],Ne):n[6]),Le=n[7],Le&&(t[7]=Le),J&Qt&&(t[8]=t[8]==null?n[8]:Wr(t[8],n[8])),t[9]==null&&(t[9]=n[9]),t[0]=n[0],t[1]=he,t}function vE(t){var n=[];if(t!=null)for(var w in fr(t))n.push(w);return n}function bE(t){return ga.call(t)}function h0(t,n,w){return n=Or(n===r?t.length-1:n,0),function(){for(var J=arguments,he=-1,_e=Or(J.length-n,0),De=Ge(_e);++he<_e;)De[he]=J[n+he];he=-1;for(var Le=Ge(n+1);++he<n;)Le[he]=J[he];return Le[n]=w(De),yn(t,this,Le)}}function f0(t,n){return n.length<2?t:ts(t,On(n,0,-1))}function wE(t,n){for(var w=t.length,J=Wr(n.length,w),he=un(t);J--;){var _e=n[J];t[J]=bi(_e,w)?he[_e]:r}return t}function el(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var d0=g0(Bd),Eo=L2||function(t,n){return Ur.setTimeout(t,n)},tl=g0(z_);function p0(t,n,w){var J=n+"";return tl(t,hE(J,_E(cE(J),w)))}function g0(t){var n=0,w=0;return function(){var J=j2(),he=Hb-(J-w);if(w=J,he>0){if(++n>=$b)return arguments[0]}else n=0;return t.apply(r,arguments)}}function ja(t,n){var w=-1,J=t.length,he=J-1;for(n=n===r?J:n;++w<n;){var _e=Fu(w,he),De=t[_e];t[_e]=t[w],t[w]=De}return t.length=n,t}var m0=mE(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(lw,function(w,J,he,_e){n.push(he?_e.replace(vw,"$1"):J||w)}),n});function ii(t){if(typeof t=="string"||wn(t))return t;var n=t+"";return n=="0"&&1/t==-Zi?"-0":n}function ns(t){if(t!=null){try{return pa.call(t)}catch{}try{return t+""}catch{}}return""}function _E(t,n){return An(Jb,function(w){var J="_."+w[0];n&w[1]&&!ua(t,J)&&t.push(J)}),t.sort()}function y0(t){if(t instanceof Zt)return t.clone();var n=new Pn(t.__wrapped__,t.__chain__);return n.__actions__=un(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function EE(t,n,w){(w?Zr(t,n,w):n===r)?n=1:n=Or(Ht(n),0);var J=t==null?0:t.length;if(!J||n<1)return[];for(var he=0,_e=0,De=Ge(_a(J/n));he<J;)De[_e++]=On(t,he,he+=n);return De}function SE(t){for(var n=-1,w=t==null?0:t.length,J=0,he=[];++n<w;){var _e=t[n];_e&&(he[J++]=_e)}return he}function IE(){var t=arguments.length;if(!t)return[];for(var n=Ge(t-1),w=arguments[0],J=t;J--;)n[J-1]=arguments[J];return Mi($t(w)?un(w):[w],$r(n,1))}var xE=Wt(function(t,n){return Sr(t)?mo(t,$r(n,1,Sr,!0)):[]}),CE=Wt(function(t,n){var w=Tn(n);return Sr(w)&&(w=r),Sr(t)?mo(t,$r(n,1,Sr,!0),St(w,2)):[]}),RE=Wt(function(t,n){var w=Tn(n);return Sr(w)&&(w=r),Sr(t)?mo(t,$r(n,1,Sr,!0),r,w):[]});function AE(t,n,w){var J=t==null?0:t.length;return J?(n=w||n===r?1:Ht(n),On(t,n<0?0:n,J)):[]}function DE(t,n,w){var J=t==null?0:t.length;return J?(n=w||n===r?1:Ht(n),n=J-n,On(t,0,n<0?0:n)):[]}function PE(t,n){return t&&t.length?Ma(t,St(n,3),!0,!0):[]}function ME(t,n){return t&&t.length?Ma(t,St(n,3),!0):[]}function OE(t,n,w,J){var he=t==null?0:t.length;return he?(w&&typeof w!="number"&&Zr(t,n,w)&&(w=0,J=he),I_(t,n,w,J)):[]}function v0(t,n,w){var J=t==null?0:t.length;if(!J)return-1;var he=w==null?0:Ht(w);return he<0&&(he=Or(J+he,0)),la(t,St(n,3),he)}function b0(t,n,w){var J=t==null?0:t.length;if(!J)return-1;var he=J-1;return w!==r&&(he=Ht(w),he=w<0?Or(J+he,0):Wr(he,J-1)),la(t,St(n,3),he,!0)}function w0(t){var n=t==null?0:t.length;return n?$r(t,1):[]}function TE(t){var n=t==null?0:t.length;return n?$r(t,Zi):[]}function NE(t,n){var w=t==null?0:t.length;return w?(n=n===r?1:Ht(n),$r(t,n)):[]}function LE(t){for(var n=-1,w=t==null?0:t.length,J={};++n<w;){var he=t[n];J[he[0]]=he[1]}return J}function _0(t){return t&&t.length?t[0]:r}function BE(t,n,w){var J=t==null?0:t.length;if(!J)return-1;var he=w==null?0:Ht(w);return he<0&&(he=Or(J+he,0)),Is(t,n,he)}function FE(t){var n=t==null?0:t.length;return n?On(t,0,-1):[]}var kE=Wt(function(t){var n=br(t,Hu);return n.length&&n[0]===t[0]?Ou(n):[]}),jE=Wt(function(t){var n=Tn(t),w=br(t,Hu);return n===Tn(w)?n=r:w.pop(),w.length&&w[0]===t[0]?Ou(w,St(n,2)):[]}),UE=Wt(function(t){var n=Tn(t),w=br(t,Hu);return n=typeof n=="function"?n:r,n&&w.pop(),w.length&&w[0]===t[0]?Ou(w,r,n):[]});function $E(t,n){return t==null?"":F2.call(t,n)}function Tn(t){var n=t==null?0:t.length;return n?t[n-1]:r}function HE(t,n,w){var J=t==null?0:t.length;if(!J)return-1;var he=J;return w!==r&&(he=Ht(w),he=he<0?Or(J+he,0):Wr(he,J-1)),n===n?_2(t,n,he):la(t,td,he,!0)}function zE(t,n){return t&&t.length?Od(t,Ht(n)):r}var WE=Wt(E0);function E0(t,n){return t&&t.length&&n&&n.length?Bu(t,n):t}function VE(t,n,w){return t&&t.length&&n&&n.length?Bu(t,n,St(w,2)):t}function GE(t,n,w){return t&&t.length&&n&&n.length?Bu(t,n,r,w):t}var KE=vi(function(t,n){var w=t==null?0:t.length,J=Au(t,n);return Ld(t,br(n,function(he){return bi(he,w)?+he:he}).sort(Vd)),J});function JE(t,n){var w=[];if(!(t&&t.length))return w;var J=-1,he=[],_e=t.length;for(n=St(n,3);++J<_e;){var De=t[J];n(De,J,t)&&(w.push(De),he.push(J))}return Ld(t,he),w}function rl(t){return t==null?t:$2.call(t)}function ZE(t,n,w){var J=t==null?0:t.length;return J?(w&&typeof w!="number"&&Zr(t,n,w)?(n=0,w=J):(n=n==null?0:Ht(n),w=w===r?J:Ht(w)),On(t,n,w)):[]}function YE(t,n){return Pa(t,n)}function qE(t,n,w){return ju(t,n,St(w,2))}function QE(t,n){var w=t==null?0:t.length;if(w){var J=Pa(t,n);if(J<w&&Kn(t[J],n))return J}return-1}function XE(t,n){return Pa(t,n,!0)}function e3(t,n,w){return ju(t,n,St(w,2),!0)}function t3(t,n){var w=t==null?0:t.length;if(w){var J=Pa(t,n,!0)-1;if(Kn(t[J],n))return J}return-1}function r3(t){return t&&t.length?Fd(t):[]}function n3(t,n){return t&&t.length?Fd(t,St(n,2)):[]}function i3(t){var n=t==null?0:t.length;return n?On(t,1,n):[]}function s3(t,n,w){return t&&t.length?(n=w||n===r?1:Ht(n),On(t,0,n<0?0:n)):[]}function o3(t,n,w){var J=t==null?0:t.length;return J?(n=w||n===r?1:Ht(n),n=J-n,On(t,n<0?0:n,J)):[]}function a3(t,n){return t&&t.length?Ma(t,St(n,3),!1,!0):[]}function c3(t,n){return t&&t.length?Ma(t,St(n,3)):[]}var u3=Wt(function(t){return Li($r(t,1,Sr,!0))}),l3=Wt(function(t){var n=Tn(t);return Sr(n)&&(n=r),Li($r(t,1,Sr,!0),St(n,2))}),h3=Wt(function(t){var n=Tn(t);return n=typeof n=="function"?n:r,Li($r(t,1,Sr,!0),r,n)});function f3(t){return t&&t.length?Li(t):[]}function d3(t,n){return t&&t.length?Li(t,St(n,2)):[]}function p3(t,n){return n=typeof n=="function"?n:r,t&&t.length?Li(t,r,n):[]}function nl(t){if(!(t&&t.length))return[];var n=0;return t=Pi(t,function(w){if(Sr(w))return n=Or(w.length,n),!0}),wu(n,function(w){return br(t,yu(w))})}function S0(t,n){if(!(t&&t.length))return[];var w=nl(t);return n==null?w:br(w,function(J){return yn(n,r,J)})}var g3=Wt(function(t,n){return Sr(t)?mo(t,n):[]}),m3=Wt(function(t){return $u(Pi(t,Sr))}),y3=Wt(function(t){var n=Tn(t);return Sr(n)&&(n=r),$u(Pi(t,Sr),St(n,2))}),v3=Wt(function(t){var n=Tn(t);return n=typeof n=="function"?n:r,$u(Pi(t,Sr),r,n)}),b3=Wt(nl);function w3(t,n){return $d(t||[],n||[],go)}function _3(t,n){return $d(t||[],n||[],bo)}var E3=Wt(function(t){var n=t.length,w=n>1?t[n-1]:r;return w=typeof w=="function"?(t.pop(),w):r,S0(t,w)});function I0(t){var n=be(t);return n.__chain__=!0,n}function S3(t,n){return n(t),t}function Ua(t,n){return n(t)}var I3=vi(function(t){var n=t.length,w=n?t[0]:0,J=this.__wrapped__,he=function(_e){return Au(_e,t)};return n>1||this.__actions__.length||!(J instanceof Zt)||!bi(w)?this.thru(he):(J=J.slice(w,+w+(n?1:0)),J.__actions__.push({func:Ua,args:[he],thisArg:r}),new Pn(J,this.__chain__).thru(function(_e){return n&&!_e.length&&_e.push(r),_e}))});function x3(){return I0(this)}function C3(){return new Pn(this.value(),this.__chain__)}function R3(){this.__values__===r&&(this.__values__=k0(this.value()));var t=this.__index__>=this.__values__.length,n=t?r:this.__values__[this.__index__++];return{done:t,value:n}}function A3(){return this}function D3(t){for(var n,w=this;w instanceof xa;){var J=y0(w);J.__index__=0,J.__values__=r,n?he.__wrapped__=J:n=J;var he=J;w=w.__wrapped__}return he.__wrapped__=t,n}function P3(){var t=this.__wrapped__;if(t instanceof Zt){var n=t;return this.__actions__.length&&(n=new Zt(this)),n=n.reverse(),n.__actions__.push({func:Ua,args:[rl],thisArg:r}),new Pn(n,this.__chain__)}return this.thru(rl)}function M3(){return Ud(this.__wrapped__,this.__actions__)}var O3=Oa(function(t,n,w){ir.call(t,w)?++t[w]:mi(t,w,1)});function T3(t,n,w){var J=$t(t)?Xf:S_;return w&&Zr(t,n,w)&&(n=r),J(t,St(n,3))}function N3(t,n){var w=$t(t)?Pi:Sd;return w(t,St(n,3))}var L3=qd(v0),B3=qd(b0);function F3(t,n){return $r($a(t,n),1)}function k3(t,n){return $r($a(t,n),Zi)}function j3(t,n,w){return w=w===r?1:Ht(w),$r($a(t,n),w)}function x0(t,n){var w=$t(t)?An:Ni;return w(t,St(n,3))}function C0(t,n){var w=$t(t)?i2:Ed;return w(t,St(n,3))}var U3=Oa(function(t,n,w){ir.call(t,w)?t[w].push(n):mi(t,w,[n])});function $3(t,n,w,J){t=ln(t)?t:Bs(t),w=w&&!J?Ht(w):0;var he=t.length;return w<0&&(w=Or(he+w,0)),Ga(t)?w<=he&&t.indexOf(n,w)>-1:!!he&&Is(t,n,w)>-1}var H3=Wt(function(t,n,w){var J=-1,he=typeof n=="function",_e=ln(t)?Ge(t.length):[];return Ni(t,function(De){_e[++J]=he?yn(n,De,w):yo(De,n,w)}),_e}),z3=Oa(function(t,n,w){mi(t,w,n)});function $a(t,n){var w=$t(t)?br:Dd;return w(t,St(n,3))}function W3(t,n,w,J){return t==null?[]:($t(n)||(n=n==null?[]:[n]),w=J?r:w,$t(w)||(w=w==null?[]:[w]),Td(t,n,w))}var V3=Oa(function(t,n,w){t[w?0:1].push(n)},function(){return[[],[]]});function G3(t,n,w){var J=$t(t)?gu:nd,he=arguments.length<3;return J(t,St(n,4),w,he,Ni)}function K3(t,n,w){var J=$t(t)?s2:nd,he=arguments.length<3;return J(t,St(n,4),w,he,Ed)}function J3(t,n){var w=$t(t)?Pi:Sd;return w(t,Wa(St(n,3)))}function Z3(t){var n=$t(t)?vd:$_;return n(t)}function Y3(t,n,w){(w?Zr(t,n,w):n===r)?n=1:n=Ht(n);var J=$t(t)?v_:H_;return J(t,n)}function q3(t){var n=$t(t)?b_:W_;return n(t)}function Q3(t){if(t==null)return 0;if(ln(t))return Ga(t)?Cs(t):t.length;var n=Vr(t);return n==zn||n==Wn?t.size:Nu(t).length}function X3(t,n,w){var J=$t(t)?mu:V_;return w&&Zr(t,n,w)&&(n=r),J(t,St(n,3))}var e6=Wt(function(t,n){if(t==null)return[];var w=n.length;return w>1&&Zr(t,n[0],n[1])?n=[]:w>2&&Zr(n[0],n[1],n[2])&&(n=[n[0]]),Td(t,$r(n,1),[])}),Ha=N2||function(){return Ur.Date.now()};function t6(t,n){if(typeof n!="function")throw new Dn(ue);return t=Ht(t),function(){if(--t<1)return n.apply(this,arguments)}}function R0(t,n,w){return n=w?r:n,n=t&&n==null?t.length:n,yi(t,Qt,r,r,r,r,n)}function A0(t,n){var w;if(typeof n!="function")throw new Dn(ue);return t=Ht(t),function(){return--t>0&&(w=n.apply(this,arguments)),t<=1&&(n=r),w}}var il=Wt(function(t,n,w){var J=bt;if(w.length){var he=Oi(w,Ns(il));J|=Ut}return yi(t,J,n,w,he)}),D0=Wt(function(t,n,w){var J=bt|Dt;if(w.length){var he=Oi(w,Ns(D0));J|=Ut}return yi(n,J,t,w,he)});function P0(t,n,w){n=w?r:n;var J=yi(t,Ft,r,r,r,r,r,n);return J.placeholder=P0.placeholder,J}function M0(t,n,w){n=w?r:n;var J=yi(t,_t,r,r,r,r,r,n);return J.placeholder=M0.placeholder,J}function O0(t,n,w){var J,he,_e,De,Le,He,tt=0,rt=!1,it=!1,lt=!0;if(typeof t!="function")throw new Dn(ue);n=Nn(n)||0,wr(w)&&(rt=!!w.leading,it="maxWait"in w,_e=it?Or(Nn(w.maxWait)||0,n):_e,lt="trailing"in w?!!w.trailing:lt);function yt(Ir){var Jn=J,Ei=he;return J=he=r,tt=Ir,De=t.apply(Ei,Jn),De}function It(Ir){return tt=Ir,Le=Eo(Kt,n),rt?yt(Ir):De}function zt(Ir){var Jn=Ir-He,Ei=Ir-tt,q0=n-Jn;return it?Wr(q0,_e-Ei):q0}function xt(Ir){var Jn=Ir-He,Ei=Ir-tt;return He===r||Jn>=n||Jn<0||it&&Ei>=_e}function Kt(){var Ir=Ha();if(xt(Ir))return qt(Ir);Le=Eo(Kt,zt(Ir))}function qt(Ir){return Le=r,lt&&J?yt(Ir):(J=he=r,De)}function _n(){Le!==r&&Hd(Le),tt=0,J=He=he=Le=r}function Yr(){return Le===r?De:qt(Ha())}function En(){var Ir=Ha(),Jn=xt(Ir);if(J=arguments,he=this,He=Ir,Jn){if(Le===r)return It(He);if(it)return Hd(Le),Le=Eo(Kt,n),yt(He)}return Le===r&&(Le=Eo(Kt,n)),De}return En.cancel=_n,En.flush=Yr,En}var r6=Wt(function(t,n){return _d(t,1,n)}),n6=Wt(function(t,n,w){return _d(t,Nn(n)||0,w)});function i6(t){return yi(t,mn)}function za(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new Dn(ue);var w=function(){var J=arguments,he=n?n.apply(this,J):J[0],_e=w.cache;if(_e.has(he))return _e.get(he);var De=t.apply(this,J);return w.cache=_e.set(he,De)||_e,De};return w.cache=new(za.Cache||gi),w}za.Cache=gi;function Wa(t){if(typeof t!="function")throw new Dn(ue);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function s6(t){return A0(2,t)}var o6=G_(function(t,n){n=n.length==1&&$t(n[0])?br(n[0],vn(St())):br($r(n,1),vn(St()));var w=n.length;return Wt(function(J){for(var he=-1,_e=Wr(J.length,w);++he<_e;)J[he]=n[he].call(this,J[he]);return yn(t,this,J)})}),sl=Wt(function(t,n){var w=Oi(n,Ns(sl));return yi(t,Ut,r,n,w)}),T0=Wt(function(t,n){var w=Oi(n,Ns(T0));return yi(t,tr,r,n,w)}),a6=vi(function(t,n){return yi(t,mr,r,r,r,n)});function c6(t,n){if(typeof t!="function")throw new Dn(ue);return n=n===r?n:Ht(n),Wt(t,n)}function u6(t,n){if(typeof t!="function")throw new Dn(ue);return n=n==null?0:Or(Ht(n),0),Wt(function(w){var J=w[n],he=Fi(w,0,n);return J&&Mi(he,J),yn(t,this,he)})}function l6(t,n,w){var J=!0,he=!0;if(typeof t!="function")throw new Dn(ue);return wr(w)&&(J="leading"in w?!!w.leading:J,he="trailing"in w?!!w.trailing:he),O0(t,n,{leading:J,maxWait:n,trailing:he})}function h6(t){return R0(t,1)}function f6(t,n){return sl(zu(n),t)}function d6(){if(!arguments.length)return[];var t=arguments[0];return $t(t)?t:[t]}function p6(t){return Mn(t,ut)}function g6(t,n){return n=typeof n=="function"?n:r,Mn(t,ut,n)}function m6(t){return Mn(t,ze|ut)}function y6(t,n){return n=typeof n=="function"?n:r,Mn(t,ze|ut,n)}function v6(t,n){return n==null||wd(t,n,kr(n))}function Kn(t,n){return t===n||t!==t&&n!==n}var b6=Ba(Mu),w6=Ba(function(t,n){return t>=n}),is=Cd(function(){return arguments}())?Cd:function(t){return Er(t)&&ir.call(t,"callee")&&!fd.call(t,"callee")},$t=Ge.isArray,_6=Kf?vn(Kf):D_;function ln(t){return t!=null&&Va(t.length)&&!wi(t)}function Sr(t){return Er(t)&&ln(t)}function E6(t){return t===!0||t===!1||Er(t)&&Jr(t)==to}var ki=B2||ml,S6=Jf?vn(Jf):P_;function I6(t){return Er(t)&&t.nodeType===1&&!So(t)}function x6(t){if(t==null)return!0;if(ln(t)&&($t(t)||typeof t=="string"||typeof t.splice=="function"||ki(t)||Ls(t)||is(t)))return!t.length;var n=Vr(t);if(n==zn||n==Wn)return!t.size;if(_o(t))return!Nu(t).length;for(var w in t)if(ir.call(t,w))return!1;return!0}function C6(t,n){return vo(t,n)}function R6(t,n,w){w=typeof w=="function"?w:r;var J=w?w(t,n):r;return J===r?vo(t,n,r,w):!!J}function ol(t){if(!Er(t))return!1;var n=Jr(t);return n==na||n==Yb||typeof t.message=="string"&&typeof t.name=="string"&&!So(t)}function A6(t){return typeof t=="number"&&pd(t)}function wi(t){if(!wr(t))return!1;var n=Jr(t);return n==ia||n==_f||n==Zb||n==Qb}function N0(t){return typeof t=="number"&&t==Ht(t)}function Va(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Di}function wr(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function Er(t){return t!=null&&typeof t=="object"}var L0=Zf?vn(Zf):O_;function D6(t,n){return t===n||Tu(t,n,Yu(n))}function P6(t,n,w){return w=typeof w=="function"?w:r,Tu(t,n,Yu(n),w)}function M6(t){return B0(t)&&t!=+t}function O6(t){if(gE(t))throw new kt(Q);return Rd(t)}function T6(t){return t===null}function N6(t){return t==null}function B0(t){return typeof t=="number"||Er(t)&&Jr(t)==no}function So(t){if(!Er(t)||Jr(t)!=di)return!1;var n=va(t);if(n===null)return!0;var w=ir.call(n,"constructor")&&n.constructor;return typeof w=="function"&&w instanceof w&&pa.call(w)==P2}var al=Yf?vn(Yf):T_;function L6(t){return N0(t)&&t>=-Di&&t<=Di}var F0=qf?vn(qf):N_;function Ga(t){return typeof t=="string"||!$t(t)&&Er(t)&&Jr(t)==so}function wn(t){return typeof t=="symbol"||Er(t)&&Jr(t)==sa}var Ls=Qf?vn(Qf):L_;function B6(t){return t===r}function F6(t){return Er(t)&&Vr(t)==oo}function k6(t){return Er(t)&&Jr(t)==ew}var j6=Ba(Lu),U6=Ba(function(t,n){return t<=n});function k0(t){if(!t)return[];if(ln(t))return Ga(t)?Vn(t):un(t);if(uo&&t[uo])return v2(t[uo]());var n=Vr(t),w=n==zn?Eu:n==Wn?ha:Bs;return w(t)}function _i(t){if(!t)return t===0?t:0;if(t=Nn(t),t===Zi||t===-Zi){var n=t<0?-1:1;return n*Vb}return t===t?t:0}function Ht(t){var n=_i(t),w=n%1;return n===n?w?n-w:n:0}function j0(t){return t?es(Ht(t),0,ti):0}function Nn(t){if(typeof t=="number")return t;if(wn(t))return ta;if(wr(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=wr(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=id(t);var w=_w.test(t);return w||Sw.test(t)?t2(t.slice(2),w?2:8):ww.test(t)?ta:+t}function U0(t){return ni(t,hn(t))}function $6(t){return t?es(Ht(t),-Di,Di):t===0?t:0}function rr(t){return t==null?"":bn(t)}var H6=Os(function(t,n){if(_o(n)||ln(n)){ni(n,kr(n),t);return}for(var w in n)ir.call(n,w)&&go(t,w,n[w])}),$0=Os(function(t,n){ni(n,hn(n),t)}),Ka=Os(function(t,n,w,J){ni(n,hn(n),t,J)}),z6=Os(function(t,n,w,J){ni(n,kr(n),t,J)}),W6=vi(Au);function V6(t,n){var w=Ms(t);return n==null?w:bd(w,n)}var G6=Wt(function(t,n){t=fr(t);var w=-1,J=n.length,he=J>2?n[2]:r;for(he&&Zr(n[0],n[1],he)&&(J=1);++w<J;)for(var _e=n[w],De=hn(_e),Le=-1,He=De.length;++Le<He;){var tt=De[Le],rt=t[tt];(rt===r||Kn(rt,As[tt])&&!ir.call(t,tt))&&(t[tt]=_e[tt])}return t}),K6=Wt(function(t){return t.push(r,i0),yn(H0,r,t)});function J6(t,n){return ed(t,St(n,3),ri)}function Z6(t,n){return ed(t,St(n,3),Pu)}function Y6(t,n){return t==null?t:Du(t,St(n,3),hn)}function q6(t,n){return t==null?t:Id(t,St(n,3),hn)}function Q6(t,n){return t&&ri(t,St(n,3))}function X6(t,n){return t&&Pu(t,St(n,3))}function e5(t){return t==null?[]:Aa(t,kr(t))}function t5(t){return t==null?[]:Aa(t,hn(t))}function cl(t,n,w){var J=t==null?r:ts(t,n);return J===r?w:J}function r5(t,n){return t!=null&&a0(t,n,x_)}function ul(t,n){return t!=null&&a0(t,n,C_)}var n5=Xd(function(t,n,w){n!=null&&typeof n.toString!="function"&&(n=ga.call(n)),t[n]=w},hl(fn)),i5=Xd(function(t,n,w){n!=null&&typeof n.toString!="function"&&(n=ga.call(n)),ir.call(t,n)?t[n].push(w):t[n]=[w]},St),s5=Wt(yo);function kr(t){return ln(t)?yd(t):Nu(t)}function hn(t){return ln(t)?yd(t,!0):B_(t)}function o5(t,n){var w={};return n=St(n,3),ri(t,function(J,he,_e){mi(w,n(J,he,_e),J)}),w}function a5(t,n){var w={};return n=St(n,3),ri(t,function(J,he,_e){mi(w,he,n(J,he,_e))}),w}var c5=Os(function(t,n,w){Da(t,n,w)}),H0=Os(function(t,n,w,J){Da(t,n,w,J)}),u5=vi(function(t,n){var w={};if(t==null)return w;var J=!1;n=br(n,function(_e){return _e=Bi(_e,t),J||(J=_e.length>1),_e}),ni(t,Ju(t),w),J&&(w=Mn(w,ze|Ye|ut,nE));for(var he=n.length;he--;)Uu(w,n[he]);return w});function l5(t,n){return z0(t,Wa(St(n)))}var h5=vi(function(t,n){return t==null?{}:k_(t,n)});function z0(t,n){if(t==null)return{};var w=br(Ju(t),function(J){return[J]});return n=St(n),Nd(t,w,function(J,he){return n(J,he[0])})}function f5(t,n,w){n=Bi(n,t);var J=-1,he=n.length;for(he||(he=1,t=r);++J<he;){var _e=t==null?r:t[ii(n[J])];_e===r&&(J=he,_e=w),t=wi(_e)?_e.call(t):_e}return t}function d5(t,n,w){return t==null?t:bo(t,n,w)}function p5(t,n,w,J){return J=typeof J=="function"?J:r,t==null?t:bo(t,n,w,J)}var W0=r0(kr),V0=r0(hn);function g5(t,n,w){var J=$t(t),he=J||ki(t)||Ls(t);if(n=St(n,4),w==null){var _e=t&&t.constructor;he?w=J?new _e:[]:wr(t)?w=wi(_e)?Ms(va(t)):{}:w={}}return(he?An:ri)(t,function(De,Le,He){return n(w,De,Le,He)}),w}function m5(t,n){return t==null?!0:Uu(t,n)}function y5(t,n,w){return t==null?t:jd(t,n,zu(w))}function v5(t,n,w,J){return J=typeof J=="function"?J:r,t==null?t:jd(t,n,zu(w),J)}function Bs(t){return t==null?[]:_u(t,kr(t))}function b5(t){return t==null?[]:_u(t,hn(t))}function w5(t,n,w){return w===r&&(w=n,n=r),w!==r&&(w=Nn(w),w=w===w?w:0),n!==r&&(n=Nn(n),n=n===n?n:0),es(Nn(t),n,w)}function _5(t,n,w){return n=_i(n),w===r?(w=n,n=0):w=_i(w),t=Nn(t),R_(t,n,w)}function E5(t,n,w){if(w&&typeof w!="boolean"&&Zr(t,n,w)&&(n=w=r),w===r&&(typeof n=="boolean"?(w=n,n=r):typeof t=="boolean"&&(w=t,t=r)),t===r&&n===r?(t=0,n=1):(t=_i(t),n===r?(n=t,t=0):n=_i(n)),t>n){var J=t;t=n,n=J}if(w||t%1||n%1){var he=gd();return Wr(t+he*(n-t+e2("1e-"+((he+"").length-1))),n)}return Fu(t,n)}var S5=Ts(function(t,n,w){return n=n.toLowerCase(),t+(w?G0(n):n)});function G0(t){return ll(rr(t).toLowerCase())}function K0(t){return t=rr(t),t&&t.replace(xw,d2).replace(Ww,"")}function I5(t,n,w){t=rr(t),n=bn(n);var J=t.length;w=w===r?J:es(Ht(w),0,J);var he=w;return w-=n.length,w>=0&&t.slice(w,he)==n}function x5(t){return t=rr(t),t&&sw.test(t)?t.replace(If,p2):t}function C5(t){return t=rr(t),t&&hw.test(t)?t.replace(su,"\\$&"):t}var R5=Ts(function(t,n,w){return t+(w?"-":"")+n.toLowerCase()}),A5=Ts(function(t,n,w){return t+(w?" ":"")+n.toLowerCase()}),D5=Yd("toLowerCase");function P5(t,n,w){t=rr(t),n=Ht(n);var J=n?Cs(t):0;if(!n||J>=n)return t;var he=(n-J)/2;return La(Ea(he),w)+t+La(_a(he),w)}function M5(t,n,w){t=rr(t),n=Ht(n);var J=n?Cs(t):0;return n&&J<n?t+La(n-J,w):t}function O5(t,n,w){t=rr(t),n=Ht(n);var J=n?Cs(t):0;return n&&J<n?La(n-J,w)+t:t}function T5(t,n,w){return w||n==null?n=0:n&&(n=+n),U2(rr(t).replace(ou,""),n||0)}function N5(t,n,w){return(w?Zr(t,n,w):n===r)?n=1:n=Ht(n),ku(rr(t),n)}function L5(){var t=arguments,n=rr(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var B5=Ts(function(t,n,w){return t+(w?"_":"")+n.toLowerCase()});function F5(t,n,w){return w&&typeof w!="number"&&Zr(t,n,w)&&(n=w=r),w=w===r?ti:w>>>0,w?(t=rr(t),t&&(typeof n=="string"||n!=null&&!al(n))&&(n=bn(n),!n&&xs(t))?Fi(Vn(t),0,w):t.split(n,w)):[]}var k5=Ts(function(t,n,w){return t+(w?" ":"")+ll(n)});function j5(t,n,w){return t=rr(t),w=w==null?0:es(Ht(w),0,t.length),n=bn(n),t.slice(w,w+n.length)==n}function U5(t,n,w){var J=be.templateSettings;w&&Zr(t,n,w)&&(n=r),t=rr(t),n=Ka({},n,J,n0);var he=Ka({},n.imports,J.imports,n0),_e=kr(he),De=_u(he,_e),Le,He,tt=0,rt=n.interpolate||oa,it="__p += '",lt=Su((n.escape||oa).source+"|"+rt.source+"|"+(rt===xf?bw:oa).source+"|"+(n.evaluate||oa).source+"|$","g"),yt="//# sourceURL="+(ir.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zw+"]")+`
`;t.replace(lt,function(xt,Kt,qt,_n,Yr,En){return qt||(qt=_n),it+=t.slice(tt,En).replace(Cw,g2),Kt&&(Le=!0,it+=`' +
__e(`+Kt+`) +
'`),Yr&&(He=!0,it+=`';
`+Yr+`;
__p += '`),qt&&(it+=`' +
((__t = (`+qt+`)) == null ? '' : __t) +
'`),tt=En+xt.length,xt}),it+=`';
`;var It=ir.call(n,"variable")&&n.variable;if(!It)it=`with (obj) {
`+it+`
}
`;else if(yw.test(It))throw new kt(Ie);it=(He?it.replace(tw,""):it).replace(rw,"$1").replace(nw,"$1;"),it="function("+(It||"obj")+`) {
`+(It?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+it+`return __p
}`;var zt=Z0(function(){return er(_e,yt+"return "+it).apply(r,De)});if(zt.source=it,ol(zt))throw zt;return zt}function $5(t){return rr(t).toLowerCase()}function H5(t){return rr(t).toUpperCase()}function z5(t,n,w){if(t=rr(t),t&&(w||n===r))return id(t);if(!t||!(n=bn(n)))return t;var J=Vn(t),he=Vn(n),_e=sd(J,he),De=od(J,he)+1;return Fi(J,_e,De).join("")}function W5(t,n,w){if(t=rr(t),t&&(w||n===r))return t.slice(0,cd(t)+1);if(!t||!(n=bn(n)))return t;var J=Vn(t),he=od(J,Vn(n))+1;return Fi(J,0,he).join("")}function V5(t,n,w){if(t=rr(t),t&&(w||n===r))return t.replace(ou,"");if(!t||!(n=bn(n)))return t;var J=Vn(t),he=sd(J,Vn(n));return Fi(J,he).join("")}function G5(t,n){var w=jb,J=Ub;if(wr(n)){var he="separator"in n?n.separator:he;w="length"in n?Ht(n.length):w,J="omission"in n?bn(n.omission):J}t=rr(t);var _e=t.length;if(xs(t)){var De=Vn(t);_e=De.length}if(w>=_e)return t;var Le=w-Cs(J);if(Le<1)return J;var He=De?Fi(De,0,Le).join(""):t.slice(0,Le);if(he===r)return He+J;if(De&&(Le+=He.length-Le),al(he)){if(t.slice(Le).search(he)){var tt,rt=He;for(he.global||(he=Su(he.source,rr(Cf.exec(he))+"g")),he.lastIndex=0;tt=he.exec(rt);)var it=tt.index;He=He.slice(0,it===r?Le:it)}}else if(t.indexOf(bn(he),Le)!=Le){var lt=He.lastIndexOf(he);lt>-1&&(He=He.slice(0,lt))}return He+J}function K5(t){return t=rr(t),t&&iw.test(t)?t.replace(Sf,E2):t}var J5=Ts(function(t,n,w){return t+(w?" ":"")+n.toUpperCase()}),ll=Yd("toUpperCase");function J0(t,n,w){return t=rr(t),n=w?r:n,n===r?y2(t)?x2(t):c2(t):t.match(n)||[]}var Z0=Wt(function(t,n){try{return yn(t,r,n)}catch(w){return ol(w)?w:new kt(w)}}),Z5=vi(function(t,n){return An(n,function(w){w=ii(w),mi(t,w,il(t[w],t))}),t});function Y5(t){var n=t==null?0:t.length,w=St();return t=n?br(t,function(J){if(typeof J[1]!="function")throw new Dn(ue);return[w(J[0]),J[1]]}):[],Wt(function(J){for(var he=-1;++he<n;){var _e=t[he];if(yn(_e[0],this,J))return yn(_e[1],this,J)}})}function q5(t){return E_(Mn(t,ze))}function hl(t){return function(){return t}}function Q5(t,n){return t==null||t!==t?n:t}var X5=Qd(),eS=Qd(!0);function fn(t){return t}function fl(t){return Ad(typeof t=="function"?t:Mn(t,ze))}function tS(t){return Pd(Mn(t,ze))}function rS(t,n){return Md(t,Mn(n,ze))}var nS=Wt(function(t,n){return function(w){return yo(w,t,n)}}),iS=Wt(function(t,n){return function(w){return yo(t,w,n)}});function dl(t,n,w){var J=kr(n),he=Aa(n,J);w==null&&!(wr(n)&&(he.length||!J.length))&&(w=n,n=t,t=this,he=Aa(n,kr(n)));var _e=!(wr(w)&&"chain"in w)||!!w.chain,De=wi(t);return An(he,function(Le){var He=n[Le];t[Le]=He,De&&(t.prototype[Le]=function(){var tt=this.__chain__;if(_e||tt){var rt=t(this.__wrapped__),it=rt.__actions__=un(this.__actions__);return it.push({func:He,args:arguments,thisArg:t}),rt.__chain__=tt,rt}return He.apply(t,Mi([this.value()],arguments))})}),t}function sS(){return Ur._===this&&(Ur._=M2),this}function pl(){}function oS(t){return t=Ht(t),Wt(function(n){return Od(n,t)})}var aS=Vu(br),cS=Vu(Xf),uS=Vu(mu);function Y0(t){return Qu(t)?yu(ii(t)):j_(t)}function lS(t){return function(n){return t==null?r:ts(t,n)}}var hS=e0(),fS=e0(!0);function gl(){return[]}function ml(){return!1}function dS(){return{}}function pS(){return""}function gS(){return!0}function mS(t,n){if(t=Ht(t),t<1||t>Di)return[];var w=ti,J=Wr(t,ti);n=St(n),t-=ti;for(var he=wu(J,n);++w<t;)n(w);return he}function yS(t){return $t(t)?br(t,ii):wn(t)?[t]:un(m0(rr(t)))}function vS(t){var n=++D2;return rr(t)+n}var bS=Na(function(t,n){return t+n},0),wS=Gu("ceil"),_S=Na(function(t,n){return t/n},1),ES=Gu("floor");function SS(t){return t&&t.length?Ra(t,fn,Mu):r}function IS(t,n){return t&&t.length?Ra(t,St(n,2),Mu):r}function xS(t){return rd(t,fn)}function CS(t,n){return rd(t,St(n,2))}function RS(t){return t&&t.length?Ra(t,fn,Lu):r}function AS(t,n){return t&&t.length?Ra(t,St(n,2),Lu):r}var DS=Na(function(t,n){return t*n},1),PS=Gu("round"),MS=Na(function(t,n){return t-n},0);function OS(t){return t&&t.length?bu(t,fn):0}function TS(t,n){return t&&t.length?bu(t,St(n,2)):0}return be.after=t6,be.ary=R0,be.assign=H6,be.assignIn=$0,be.assignInWith=Ka,be.assignWith=z6,be.at=W6,be.before=A0,be.bind=il,be.bindAll=Z5,be.bindKey=D0,be.castArray=d6,be.chain=I0,be.chunk=EE,be.compact=SE,be.concat=IE,be.cond=Y5,be.conforms=q5,be.constant=hl,be.countBy=O3,be.create=V6,be.curry=P0,be.curryRight=M0,be.debounce=O0,be.defaults=G6,be.defaultsDeep=K6,be.defer=r6,be.delay=n6,be.difference=xE,be.differenceBy=CE,be.differenceWith=RE,be.drop=AE,be.dropRight=DE,be.dropRightWhile=PE,be.dropWhile=ME,be.fill=OE,be.filter=N3,be.flatMap=F3,be.flatMapDeep=k3,be.flatMapDepth=j3,be.flatten=w0,be.flattenDeep=TE,be.flattenDepth=NE,be.flip=i6,be.flow=X5,be.flowRight=eS,be.fromPairs=LE,be.functions=e5,be.functionsIn=t5,be.groupBy=U3,be.initial=FE,be.intersection=kE,be.intersectionBy=jE,be.intersectionWith=UE,be.invert=n5,be.invertBy=i5,be.invokeMap=H3,be.iteratee=fl,be.keyBy=z3,be.keys=kr,be.keysIn=hn,be.map=$a,be.mapKeys=o5,be.mapValues=a5,be.matches=tS,be.matchesProperty=rS,be.memoize=za,be.merge=c5,be.mergeWith=H0,be.method=nS,be.methodOf=iS,be.mixin=dl,be.negate=Wa,be.nthArg=oS,be.omit=u5,be.omitBy=l5,be.once=s6,be.orderBy=W3,be.over=aS,be.overArgs=o6,be.overEvery=cS,be.overSome=uS,be.partial=sl,be.partialRight=T0,be.partition=V3,be.pick=h5,be.pickBy=z0,be.property=Y0,be.propertyOf=lS,be.pull=WE,be.pullAll=E0,be.pullAllBy=VE,be.pullAllWith=GE,be.pullAt=KE,be.range=hS,be.rangeRight=fS,be.rearg=a6,be.reject=J3,be.remove=JE,be.rest=c6,be.reverse=rl,be.sampleSize=Y3,be.set=d5,be.setWith=p5,be.shuffle=q3,be.slice=ZE,be.sortBy=e6,be.sortedUniq=r3,be.sortedUniqBy=n3,be.split=F5,be.spread=u6,be.tail=i3,be.take=s3,be.takeRight=o3,be.takeRightWhile=a3,be.takeWhile=c3,be.tap=S3,be.throttle=l6,be.thru=Ua,be.toArray=k0,be.toPairs=W0,be.toPairsIn=V0,be.toPath=yS,be.toPlainObject=U0,be.transform=g5,be.unary=h6,be.union=u3,be.unionBy=l3,be.unionWith=h3,be.uniq=f3,be.uniqBy=d3,be.uniqWith=p3,be.unset=m5,be.unzip=nl,be.unzipWith=S0,be.update=y5,be.updateWith=v5,be.values=Bs,be.valuesIn=b5,be.without=g3,be.words=J0,be.wrap=f6,be.xor=m3,be.xorBy=y3,be.xorWith=v3,be.zip=b3,be.zipObject=w3,be.zipObjectDeep=_3,be.zipWith=E3,be.entries=W0,be.entriesIn=V0,be.extend=$0,be.extendWith=Ka,dl(be,be),be.add=bS,be.attempt=Z0,be.camelCase=S5,be.capitalize=G0,be.ceil=wS,be.clamp=w5,be.clone=p6,be.cloneDeep=m6,be.cloneDeepWith=y6,be.cloneWith=g6,be.conformsTo=v6,be.deburr=K0,be.defaultTo=Q5,be.divide=_S,be.endsWith=I5,be.eq=Kn,be.escape=x5,be.escapeRegExp=C5,be.every=T3,be.find=L3,be.findIndex=v0,be.findKey=J6,be.findLast=B3,be.findLastIndex=b0,be.findLastKey=Z6,be.floor=ES,be.forEach=x0,be.forEachRight=C0,be.forIn=Y6,be.forInRight=q6,be.forOwn=Q6,be.forOwnRight=X6,be.get=cl,be.gt=b6,be.gte=w6,be.has=r5,be.hasIn=ul,be.head=_0,be.identity=fn,be.includes=$3,be.indexOf=BE,be.inRange=_5,be.invoke=s5,be.isArguments=is,be.isArray=$t,be.isArrayBuffer=_6,be.isArrayLike=ln,be.isArrayLikeObject=Sr,be.isBoolean=E6,be.isBuffer=ki,be.isDate=S6,be.isElement=I6,be.isEmpty=x6,be.isEqual=C6,be.isEqualWith=R6,be.isError=ol,be.isFinite=A6,be.isFunction=wi,be.isInteger=N0,be.isLength=Va,be.isMap=L0,be.isMatch=D6,be.isMatchWith=P6,be.isNaN=M6,be.isNative=O6,be.isNil=N6,be.isNull=T6,be.isNumber=B0,be.isObject=wr,be.isObjectLike=Er,be.isPlainObject=So,be.isRegExp=al,be.isSafeInteger=L6,be.isSet=F0,be.isString=Ga,be.isSymbol=wn,be.isTypedArray=Ls,be.isUndefined=B6,be.isWeakMap=F6,be.isWeakSet=k6,be.join=$E,be.kebabCase=R5,be.last=Tn,be.lastIndexOf=HE,be.lowerCase=A5,be.lowerFirst=D5,be.lt=j6,be.lte=U6,be.max=SS,be.maxBy=IS,be.mean=xS,be.meanBy=CS,be.min=RS,be.minBy=AS,be.stubArray=gl,be.stubFalse=ml,be.stubObject=dS,be.stubString=pS,be.stubTrue=gS,be.multiply=DS,be.nth=zE,be.noConflict=sS,be.noop=pl,be.now=Ha,be.pad=P5,be.padEnd=M5,be.padStart=O5,be.parseInt=T5,be.random=E5,be.reduce=G3,be.reduceRight=K3,be.repeat=N5,be.replace=L5,be.result=f5,be.round=PS,be.runInContext=Ue,be.sample=Z3,be.size=Q3,be.snakeCase=B5,be.some=X3,be.sortedIndex=YE,be.sortedIndexBy=qE,be.sortedIndexOf=QE,be.sortedLastIndex=XE,be.sortedLastIndexBy=e3,be.sortedLastIndexOf=t3,be.startCase=k5,be.startsWith=j5,be.subtract=MS,be.sum=OS,be.sumBy=TS,be.template=U5,be.times=mS,be.toFinite=_i,be.toInteger=Ht,be.toLength=j0,be.toLower=$5,be.toNumber=Nn,be.toSafeInteger=$6,be.toString=rr,be.toUpper=H5,be.trim=z5,be.trimEnd=W5,be.trimStart=V5,be.truncate=G5,be.unescape=K5,be.uniqueId=vS,be.upperCase=J5,be.upperFirst=ll,be.each=x0,be.eachRight=C0,be.first=_0,dl(be,function(){var t={};return ri(be,function(n,w){ir.call(be.prototype,w)||(t[w]=n)}),t}(),{chain:!1}),be.VERSION=h,An(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){be[t].placeholder=be}),An(["drop","take"],function(t,n){Zt.prototype[t]=function(w){w=w===r?1:Or(Ht(w),0);var J=this.__filtered__&&!n?new Zt(this):this.clone();return J.__filtered__?J.__takeCount__=Wr(w,J.__takeCount__):J.__views__.push({size:Wr(w,ti),type:t+(J.__dir__<0?"Right":"")}),J},Zt.prototype[t+"Right"]=function(w){return this.reverse()[t](w).reverse()}}),An(["filter","map","takeWhile"],function(t,n){var w=n+1,J=w==wf||w==Wb;Zt.prototype[t]=function(he){var _e=this.clone();return _e.__iteratees__.push({iteratee:St(he,3),type:w}),_e.__filtered__=_e.__filtered__||J,_e}}),An(["head","last"],function(t,n){var w="take"+(n?"Right":"");Zt.prototype[t]=function(){return this[w](1).value()[0]}}),An(["initial","tail"],function(t,n){var w="drop"+(n?"":"Right");Zt.prototype[t]=function(){return this.__filtered__?new Zt(this):this[w](1)}}),Zt.prototype.compact=function(){return this.filter(fn)},Zt.prototype.find=function(t){return this.filter(t).head()},Zt.prototype.findLast=function(t){return this.reverse().find(t)},Zt.prototype.invokeMap=Wt(function(t,n){return typeof t=="function"?new Zt(this):this.map(function(w){return yo(w,t,n)})}),Zt.prototype.reject=function(t){return this.filter(Wa(St(t)))},Zt.prototype.slice=function(t,n){t=Ht(t);var w=this;return w.__filtered__&&(t>0||n<0)?new Zt(w):(t<0?w=w.takeRight(-t):t&&(w=w.drop(t)),n!==r&&(n=Ht(n),w=n<0?w.dropRight(-n):w.take(n-t)),w)},Zt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Zt.prototype.toArray=function(){return this.take(ti)},ri(Zt.prototype,function(t,n){var w=/^(?:filter|find|map|reject)|While$/.test(n),J=/^(?:head|last)$/.test(n),he=be[J?"take"+(n=="last"?"Right":""):n],_e=J||/^find/.test(n);he&&(be.prototype[n]=function(){var De=this.__wrapped__,Le=J?[1]:arguments,He=De instanceof Zt,tt=Le[0],rt=He||$t(De),it=function(Kt){var qt=he.apply(be,Mi([Kt],Le));return J&&lt?qt[0]:qt};rt&&w&&typeof tt=="function"&&tt.length!=1&&(He=rt=!1);var lt=this.__chain__,yt=!!this.__actions__.length,It=_e&&!lt,zt=He&&!yt;if(!_e&&rt){De=zt?De:new Zt(this);var xt=t.apply(De,Le);return xt.__actions__.push({func:Ua,args:[it],thisArg:r}),new Pn(xt,lt)}return It&&zt?t.apply(this,Le):(xt=this.thru(it),It?J?xt.value()[0]:xt.value():xt)})}),An(["pop","push","shift","sort","splice","unshift"],function(t){var n=fa[t],w=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",J=/^(?:pop|shift)$/.test(t);be.prototype[t]=function(){var he=arguments;if(J&&!this.__chain__){var _e=this.value();return n.apply($t(_e)?_e:[],he)}return this[w](function(De){return n.apply($t(De)?De:[],he)})}}),ri(Zt.prototype,function(t,n){var w=be[n];if(w){var J=w.name+"";ir.call(Ps,J)||(Ps[J]=[]),Ps[J].push({name:n,func:w})}}),Ps[Ta(r,Dt).name]=[{name:"wrapper",func:r}],Zt.prototype.clone=K2,Zt.prototype.reverse=J2,Zt.prototype.value=Z2,be.prototype.at=I3,be.prototype.chain=x3,be.prototype.commit=C3,be.prototype.next=R3,be.prototype.plant=D3,be.prototype.reverse=P3,be.prototype.toJSON=be.prototype.valueOf=be.prototype.value=M3,be.prototype.first=be.prototype.head,uo&&(be.prototype[uo]=A3),be},Rs=C2();Yi?((Yi.exports=Rs)._=Rs,fu._=Rs):Ur._=Rs}).call(Xs)})(jc,jc.exports);var rb=Object.defineProperty,nb=Object.defineProperties,ib=Object.getOwnPropertyDescriptors,uf=Object.getOwnPropertySymbols,sb=Object.prototype.hasOwnProperty,ob=Object.prototype.propertyIsEnumerable,lf=(u,e,r)=>e in u?rb(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,qo=(u,e)=>{for(var r in e||(e={}))sb.call(e,r)&&lf(u,r,e[r]);if(uf)for(var r of uf(e))ob.call(e,r)&&lf(u,r,e[r]);return u},ab=(u,e)=>nb(u,ib(e));function Ai(u,e,r){var h;const E=vl(u);return((h=e.rpcMap)==null?void 0:h[E.reference])||`${tb}?chainId=${E.namespace}:${E.reference}&projectId=${r}`}function Ji(u){return u.includes(":")?u.split(":")[1]:u}function hf(u){return u.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function cb(u,e){const r=Object.keys(e.namespaces).filter(E=>E.includes(u));if(!r.length)return[];const h=[];return r.forEach(E=>{const Q=e.namespaces[E].accounts;h.push(...Q)}),h}function ub(u={},e={}){const r=ff(u),h=ff(e);return jc.exports.merge(r,h)}function ff(u){var e,r,h,E;const Q={};if(!Vi(u))return Q;for(const[ue,Ie]of Object.entries(u)){const Be=Fo(ue)?[ue]:Ie.chains,Ce=Ie.methods||[],Ne=Ie.events||[],ze=Ie.rpcMap||{},Ye=ys(ue);Q[Ye]=ab(qo(qo({},Q[Ye]),Ie),{chains:Qn(Be,(e=Q[Ye])==null?void 0:e.chains),methods:Qn(Ce,(r=Q[Ye])==null?void 0:r.methods),events:Qn(Ne,(h=Q[Ye])==null?void 0:h.events),rpcMap:qo(qo({},ze),(E=Q[Ye])==null?void 0:E.rpcMap)})}return Q}function lb(u){return u.includes(":")?u.split(":")[2]:u}function hb(u){const e={};for(const[r,h]of Object.entries(u)){const E=h.methods||[],Q=h.events||[],ue=h.accounts||[],Ie=Fo(r)?[r]:h.chains?h.chains:hf(h.accounts);e[r]={chains:Ie,methods:E,events:Q,accounts:ue}}return e}function Uc(u){return typeof u=="number"?u:u.includes("0x")?parseInt(u,16):u.includes(":")?Number(u.split(":")[1]):Number(u)}const df={},vr=u=>df[u],$c=(u,e)=>{df[u]=e};class fb{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=Ji(r);e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class db{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const h=r||Ai(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new of(h,vr("disableProviderPing")))}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=parseInt(Ji(r));e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,h;let E=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";E=E.startsWith("0x")?E:`0x${E}`;const Q=parseInt(E,16);if(this.isChainApproved(Q))this.setDefaultChain(`${Q}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:E}]},chainId:(h=this.namespace.chains)==null?void 0:h[0]}),this.setDefaultChain(`${Q}`);else throw new Error(`Failed to switch to chain 'eip155:${Q}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class pb{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=Ji(r);e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class gb{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=Ji(r);e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class mb{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const h=this.getCardanoRPCUrl(r),E=Ji(r);e[E]=this.createHttpProvider(E,h)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||this.getCardanoRPCUrl(e);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class yb{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=Ji(r);e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class vb{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;const E=Ji(r);e[E]=this.createHttpProvider(E,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace,this.client.core.projectId);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);return new ui(new Ki(h,vr("disableProviderPing")))}}class bb{constructor(e){this.name="near",this.namespace=e.namespace,this.events=vr("events"),this.client=vr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const h=r||Ai(`${this.name}:${e}`,this.namespace);if(!h)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,h)}this.events.emit(fi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var h;e[r]=this.createHttpProvider(r,(h=this.namespace.rpcMap)==null?void 0:h[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const h=this.createHttpProvider(e,r);h&&(this.httpProviders[e]=h)}createHttpProvider(e,r){const h=r||Ai(e,this.namespace);return typeof h>"u"?void 0:new ui(new Ki(h,vr("disableProviderPing")))}}var wb=Object.defineProperty,_b=Object.defineProperties,Eb=Object.getOwnPropertyDescriptors,pf=Object.getOwnPropertySymbols,Sb=Object.prototype.hasOwnProperty,Ib=Object.prototype.propertyIsEnumerable,gf=(u,e,r)=>e in u?wb(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,Qo=(u,e)=>{for(var r in e||(e={}))Sb.call(e,r)&&gf(u,r,e[r]);if(pf)for(var r of pf(e))Ib.call(e,r)&&gf(u,r,e[r]);return u},Hc=(u,e)=>_b(u,Eb(e));class zc{constructor(e){this.events=new(K()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:(0,Yt.pino)((0,Yt.getDefaultLoggerOptions)({level:(e==null?void 0:e.logger)||af})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new zc(e);return await r.initialize(),r}async request(e,r){const[h,E]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(h).request({request:Qo({},e),chainId:`${h}:${E}`,topic:this.session.topic})}sendAsync(e,r,h){const E=new Date().getTime();this.request(e,h).then(Q=>r(null,Vo(E,Q))).catch(Q=>r(Q,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:_r("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:h,approval:E}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});h&&(this.uri=h,this.events.emit("display_uri",h)),await E().then(Q=>{this.session=Q,this.namespaces||(this.namespaces=hb(Q.namespaces),this.persist("namespaces",this.namespaces))}).catch(Q=>{if(Q.message!==Xh)throw Q;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[h,E]=this.validateChain(e);this.getProvider(h).setDefaultChain(E,r)}catch(h){if(!/Please call connect/.test(h.message))throw h}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Xn(r)){for(const h of r)e.deletePairings?this.client.core.expirer.set(h.topic,0):await this.client.core.relayer.subscriber.unsubscribe(h.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await kc.init({logger:this.providerOpts.logger||af,relayUrl:this.providerOpts.relayUrl||Qv,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>ys(r)))];$c("client",this.client),$c("events",this.events),$c("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const h=cb(r,this.session),E=hf(h),Q=ub(this.namespaces,this.optionalNamespaces),ue=Hc(Qo({},Q[r]),{accounts:h,chains:E});switch(r){case"eip155":this.rpcProviders[r]=new db({namespace:ue});break;case"solana":this.rpcProviders[r]=new pb({namespace:ue});break;case"cosmos":this.rpcProviders[r]=new gb({namespace:ue});break;case"polkadot":this.rpcProviders[r]=new fb({namespace:ue});break;case"cip34":this.rpcProviders[r]=new mb({namespace:ue});break;case"elrond":this.rpcProviders[r]=new yb({namespace:ue});break;case"multiversx":this.rpcProviders[r]=new vb({namespace:ue});break;case"near":this.rpcProviders[r]=new bb({namespace:ue});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:h}=r;if(h.name==="accountsChanged"){const E=h.data;E&&Xn(E)&&this.events.emit("accountsChanged",E.map(lb))}else if(h.name==="chainChanged"){const E=r.chainId,Q=r.event.data,ue=ys(E),Ie=Uc(E)!==Uc(Q)?`${ue}:${Uc(Q)}`:E;this.onChainChanged(Ie)}else this.events.emit(h.name,h.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var h;const{namespaces:E}=r,Q=(h=this.client)==null?void 0:h.session.get(e);this.session=Hc(Qo({},Q),{namespaces:E}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Hc(Qo({},_r("USER_DISCONNECTED")),{data:e.topic}))}),this.on(fi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:h,sessionProperties:E}=e;r&&Object.keys(r).length&&(this.namespaces=r),h&&Object.keys(h).length&&(this.optionalNamespaces=h),this.sessionProperties=E,this.persist("namespaces",r),this.persist("optionalNamespaces",h)}validateChain(e){const[r,h]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,h];if(r&&!Object.keys(this.namespaces||{}).map(ue=>ys(ue)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&h)return[r,h];const E=ys(Object.keys(this.namespaces)[0]),Q=this.rpcProviders[E].getDefaultChain();return[E,Q]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r=!1){var h;if(!this.namespaces)return;const[E,Q]=this.validateChain(e);r||this.getProvider(E).setDefaultChain(Q),((h=this.namespaces[E])!=null?h:this.namespaces[`${E}:${Q}`]).defaultChain=Q,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",Q)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,r){this.client.core.storage.setItem(`${cf}/${e}`,r)}async getFromStore(e){return await this.client.core.storage.getItem(`${cf}/${e}`)}}const xb=zc,Cb="wc",Rb="ethereum_provider",Ab=`${Cb}@2:${Rb}:`,Db="https://rpc.walletconnect.com/v1/",Wc=["eth_sendTransaction","personal_sign"],Pb=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Vc=["chainChanged","accountsChanged"],Mb=["chainChanged","accountsChanged","message","disconnect","connect"];var Ob=Object.defineProperty,Tb=Object.defineProperties,Nb=Object.getOwnPropertyDescriptors,mf=Object.getOwnPropertySymbols,Lb=Object.prototype.hasOwnProperty,Bb=Object.prototype.propertyIsEnumerable,yf=(u,e,r)=>e in u?Ob(u,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[e]=r,eo=(u,e)=>{for(var r in e||(e={}))Lb.call(e,r)&&yf(u,r,e[r]);if(mf)for(var r of mf(e))Bb.call(e,r)&&yf(u,r,e[r]);return u},vf=(u,e)=>Tb(u,Nb(e));function Xo(u){return Number(u[0].split(":")[1])}function Gc(u){return`0x${u.toString(16)}`}function Fb(u){const{chains:e,optionalChains:r,methods:h,optionalMethods:E,events:Q,optionalEvents:ue,rpcMap:Ie}=u;if(!Xn(e))throw new Error("Invalid chains");const Be={chains:e,methods:h||Wc,events:Q||Vc,rpcMap:eo({},e.length?{[Xo(e)]:Ie[Xo(e)]}:{})},Ce=Q==null?void 0:Q.filter(ut=>!Vc.includes(ut)),Ne=h==null?void 0:h.filter(ut=>!Wc.includes(ut));if(!r&&!ue&&!E&&!(Ce!=null&&Ce.length)&&!(Ne!=null&&Ne.length))return{required:e.length?Be:void 0};const ze=(Ce==null?void 0:Ce.length)&&(Ne==null?void 0:Ne.length)||!r,Ye={chains:[...new Set(ze?Be.chains.concat(r||[]):r)],methods:[...new Set(Be.methods.concat(E!=null&&E.length?E:Pb))],events:[...new Set(Be.events.concat(ue!=null&&ue.length?ue:Mb))],rpcMap:Ie};return{required:e.length?Be:void 0,optional:r.length?Ye:void 0}}class Kc{constructor(){this.events=new B.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Ab,this.on=(e,r)=>(this.events.on(e,r),this),this.once=(e,r)=>(this.events.once(e,r),this),this.removeListener=(e,r)=>(this.events.removeListener(e,r),this),this.off=(e,r)=>(this.events.off(e,r),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const r=new Kc;return await r.initialize(e),r}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,r){this.signer.sendAsync(e,r,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:h}=Fb(this.rpc);try{const E=await new Promise(async(ue,Ie)=>{var Be;this.rpc.showQrModal&&((Be=this.modal)==null||Be.subscribeModal(Ce=>{!Ce.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),Ie(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(vf(eo({namespaces:eo({},r&&{[this.namespace]:r})},h&&{optionalNamespaces:{[this.namespace]:h}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(Ce=>{ue(Ce)}).catch(Ce=>{Ie(new Error(Ce.message))})});if(!E)return;const Q=op(E.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:Q),this.setAccounts(Q),this.events.emit("connect",{chainId:Gc(this.chainId)})}catch(E){throw this.signer.logger.error(E),E}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:h}=r;h.name==="accountsChanged"?(this.accounts=this.parseAccounts(h.data),this.events.emit("accountsChanged",this.accounts)):h.name==="chainChanged"?this.setChainId(this.formatChainId(h.data)):this.events.emit(h.name,h.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Gc(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",vf(eo({},_r("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var r,h;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(h=this.modal)==null||h.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(h=>this.isCompatibleChainId(h)).map(h=>this.parseChainId(h));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Gc(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,h,E]=e.split(":");return{chainId:`${r}:${h}`,address:E}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,h;const E=(r=e==null?void 0:e.chains)!=null?r:[],Q=(h=e==null?void 0:e.optionalChains)!=null?h:[],ue=E.concat(Q);if(!ue.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const Ie=E.length?(e==null?void 0:e.methods)||Wc:[],Be=E.length?(e==null?void 0:e.events)||Vc:[],Ce=(e==null?void 0:e.optionalMethods)||[],Ne=(e==null?void 0:e.optionalEvents)||[],ze=(e==null?void 0:e.rpcMap)||this.buildRpcMap(ue,e.projectId),Ye=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:E==null?void 0:E.map(ut=>this.formatChainId(ut)),optionalChains:Q.map(ut=>this.formatChainId(ut)),methods:Ie,events:Be,optionalMethods:Ce,optionalEvents:Ne,rpcMap:ze,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:Ye,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const h={};return e.forEach(E=>{h[E]=this.getRpcUrl(E,r)}),h}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Xo(this.rpc.chains):Xo(this.rpc.optionalChains),this.signer=await xb.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:h}=await f.e(1326).then(f.bind(f,91326));r=h}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(eo({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(h){throw this.signer.logger.error(h),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:h,rpcMap:E}=e;r&&Xn(r)&&(this.rpc.chains=r.map(Q=>this.formatChainId(Q)),r.forEach(Q=>{this.rpc.rpcMap[Q]=(E==null?void 0:E[Q])||this.getRpcUrl(Q)})),h&&Xn(h)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=h==null?void 0:h.map(Q=>this.formatChainId(Q)),h.forEach(Q=>{this.rpc.rpcMap[Q]=(E==null?void 0:E[Q])||this.getRpcUrl(Q)}))}getRpcUrl(e,r){var h;return((h=this.rpc.rpcMap)==null?void 0:h[e])||`${Db}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const kb=Kc;var Jc=f(199),ea=f(65487),bf=f(38186);Zc.type="walletConnect";function Zc(u){const e=u.isNewChainsStale??!0;let r,h;const E="eip155";return(0,O.K)(Q=>({id:"walletConnect",name:"WalletConnect",type:Zc.type,async setup(){const ue=await this.getProvider().catch(()=>null);ue&&(ue.on("connect",this.onConnect.bind(this)),ue.on("session_delete",this.onSessionDelete.bind(this)))},async connect({chainId:ue,...Ie}={}){var Be,Ce;try{const Ne=await this.getProvider();if(!Ne)throw new z.M;Ne.on("display_uri",this.onDisplayUri);let ze=ue;if(!ze){const ht=await((Be=Q.storage)==null?void 0:Be.getItem("state"))??{};Q.chains.some(Dt=>Dt.id===ht.chainId)?ze=ht.chainId:ze=(Ce=Q.chains[0])==null?void 0:Ce.id}if(!ze)throw new Error("No chains found on connector.");const Ye=await this.isChainsStale();if(Ne.session&&Ye&&await Ne.disconnect(),!Ne.session||Ye){const ht=Q.chains.filter(bt=>bt.id!==ze).map(bt=>bt.id);await Ne.connect({optionalChains:[ze,...ht],..."pairingTopic"in Ie?{pairingTopic:Ie.pairingTopic}:{}}),this.setRequestedChainsIds(Q.chains.map(bt=>bt.id))}const ut=(await Ne.enable()).map(Jc.K),Ze=await this.getChainId();return Ne.removeListener("display_uri",this.onDisplayUri),Ne.removeListener("connect",this.onConnect.bind(this)),Ne.on("accountsChanged",this.onAccountsChanged.bind(this)),Ne.on("chainChanged",this.onChainChanged),Ne.on("disconnect",this.onDisconnect.bind(this)),Ne.on("session_delete",this.onSessionDelete.bind(this)),{accounts:ut,chainId:Ze}}catch(Ne){throw/(user rejected|connection request reset)/i.test(Ne==null?void 0:Ne.message)?new ea.ab(Ne):Ne}},async disconnect(){const ue=await this.getProvider();try{await(ue==null?void 0:ue.disconnect())}catch(Ie){if(!/No matching key/i.test(Ie.message))throw Ie}finally{ue==null||ue.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),ue==null||ue.removeListener("chainChanged",this.onChainChanged),ue==null||ue.removeListener("disconnect",this.onDisconnect.bind(this)),ue==null||ue.removeListener("session_delete",this.onSessionDelete.bind(this)),ue==null||ue.on("connect",this.onConnect.bind(this)),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(Jc.K)},async getProvider({chainId:ue}={}){var Be;async function Ie(){const Ce=Q.chains.map(Ne=>Ne.id);if(Ce.length)return await kb.init({...u,disableProviderPing:!0,optionalChains:Ce,projectId:u.projectId,rpcMap:Object.fromEntries(Q.chains.map(Ne=>[Ne.id,Ne.rpcUrls.default.http[0]])),showQrModal:u.showQrModal??!0})}return r||(h||(h=Ie()),r=await h),ue&&await((Be=this.switchChain)==null?void 0:Be.call(this,{chainId:ue})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[ue,Ie]=await Promise.all([this.getAccounts(),this.getProvider()]);return ue.length?await this.isChainsStale()&&Ie.session?(await Ie.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({chainId:ue}){var Be;const Ie=Q.chains.find(Ce=>Ce.id===ue);if(!Ie)throw new ea.x3(new j.X4);try{const Ce=await this.getProvider(),Ne=this.getNamespaceChainsIds(),ze=this.getNamespaceMethods();if(!Ne.includes(ue)&&ze.includes("wallet_addEthereumChain")){await Ce.request({method:"wallet_addEthereumChain",params:[{chainId:(0,bf.eC)(Ie.id),blockExplorerUrls:[(Be=Ie.blockExplorers)==null?void 0:Be.default.url],chainName:Ie.name,nativeCurrency:Ie.nativeCurrency,rpcUrls:[...Ie.rpcUrls.default.http]}]});const ut=await this.getRequestedChainsIds();this.setRequestedChainsIds([...ut,ue])}return await Ce.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,bf.eC)(ue)}]}),Ie}catch(Ce){console.log({error:Ce});const Ne=typeof Ce=="string"?Ce:Ce==null?void 0:Ce.message;throw/user rejected request/i.test(Ne)?new ea.ab(Ce):new ea.x3(Ce)}},onAccountsChanged(ue){ue.length===0?this.onDisconnect():Q.emitter.emit("change",{accounts:ue.map(Jc.K)})},onChainChanged(ue){const Ie=(0,G.J)(ue);Q.emitter.emit("change",{chainId:Ie})},async onConnect(ue){const Ie=(0,G.J)(ue.chainId),Be=await this.getAccounts();Q.emitter.emit("connect",{accounts:Be,chainId:Ie})},async onDisconnect(ue){this.setRequestedChainsIds([]),Q.emitter.emit("disconnect");const Ie=await this.getProvider();Ie.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),Ie.removeListener("chainChanged",this.onChainChanged),Ie.removeListener("disconnect",this.onDisconnect.bind(this)),Ie.removeListener("session_delete",this.onSessionDelete.bind(this)),Ie.on("connect",this.onConnect.bind(this))},onDisplayUri(ue){Q.emitter.emit("message",{type:"display_uri",data:ue})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var Ie,Be,Ce;return r?((Ce=(Be=(Ie=r.session)==null?void 0:Ie.namespaces[E])==null?void 0:Be.chains)==null?void 0:Ce.map(Ne=>parseInt(Ne.split(":")[1]||"")))??[]:[]},getNamespaceMethods(){var Ie,Be;return r?((Be=(Ie=r.session)==null?void 0:Ie.namespaces[E])==null?void 0:Be.methods)??[]:[]},async getRequestedChainsIds(){var ue;return await((ue=Q.storage)==null?void 0:ue.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(this.getNamespaceMethods().includes("wallet_addEthereumChain")||!e)return!1;const Ie=Q.chains.map(Ne=>Ne.id),Be=this.getNamespaceChainsIds();if(Be.length&&!Be.some(Ne=>Ie.includes(Ne)))return!1;const Ce=await this.getRequestedChainsIds();return!Ie.every(Ne=>Ce.includes(Ne))},async setRequestedChainsIds(ue){var Ie;await((Ie=Q.storage)==null?void 0:Ie.setItem(this.requestedChainsStorageKey,ue))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}},61059:function(pe,s,f){"use strict";f.r(s),f.d(s,{Struct:function(){return _},StructError:function(){return a},any:function(){return Z},array:function(){return ve},assert:function(){return P},assign:function(){return z},bigint:function(){return le},boolean:function(){return we},coerce:function(){return oe},create:function(){return m},date:function(){return fe},defaulted:function(){return se},define:function(){return j},deprecated:function(){return G},dynamic:function(){return B},empty:function(){return ke},enums:function(){return H},func:function(){return g},instance:function(){return x},integer:function(){return L},intersection:function(){return I},is:function(){return S},lazy:function(){return K},literal:function(){return N},map:function(){return W},mask:function(){return d},max:function(){return Te},min:function(){return ot},never:function(){return Y},nonempty:function(){return Ve},nullable:function(){return te},number:function(){return T},object:function(){return ie},omit:function(){return F},optional:function(){return Pe},partial:function(){return re},pattern:function(){return Je},pick:function(){return V},record:function(){return Fe},refine:function(){return Me},regexp:function(){return $e},set:function(){return ce},size:function(){return Ae},string:function(){return q},struct:function(){return A},trimmed:function(){return Oe},tuple:function(){return ee},type:function(){return D},union:function(){return ne},unknown:function(){return Ee},validate:function(){return O}});class a extends TypeError{constructor(ye,$){let R;const{message:k,explanation:ae,...me}=ye,{path:Re}=ye,Se=Re.length===0?k:`At path: ${Re.join(".")} -- ${k}`;super(ae??Se),ae!=null&&(this.cause=Se),Object.assign(this,me),this.name=this.constructor.name,this.failures=()=>R??(R=[ye,...$()])}}function M(de){return v(de)&&typeof de[Symbol.iterator]=="function"}function v(de){return typeof de=="object"&&de!=null}function C(de){if(Object.prototype.toString.call(de)!=="[object Object]")return!1;const ye=Object.getPrototypeOf(de);return ye===null||ye===Object.prototype}function l(de){return typeof de=="symbol"?de.toString():typeof de=="string"?JSON.stringify(de):`${de}`}function p(de){const{done:ye,value:$}=de.next();return ye?void 0:$}function o(de,ye,$,R){if(de===!0)return;de===!1?de={}:typeof de=="string"&&(de={message:de});const{path:k,branch:ae}=ye,{type:me}=$,{refinement:Re,message:Se=`Expected a value of type \`${me}\`${Re?` with refinement \`${Re}\``:""}, but received: \`${l(R)}\``}=de;return{value:R,type:me,refinement:Re,key:k[k.length-1],path:k,branch:ae,...de,message:Se}}function*y(de,ye,$,R){M(de)||(de=[de]);for(const k of de){const ae=o(k,ye,$,R);ae&&(yield ae)}}function*b(de,ye,$={}){const{path:R=[],branch:k=[de],coerce:ae=!1,mask:me=!1}=$,Re={path:R,branch:k};if(ae&&(de=ye.coercer(de,Re),me&&ye.type!=="type"&&v(ye.schema)&&v(de)&&!Array.isArray(de)))for(const We in de)ye.schema[We]===void 0&&delete de[We];let Se="valid";for(const We of ye.validator(de,Re))We.explanation=$.message,Se="not_valid",yield[We,void 0];for(let[We,qe,et]of ye.entries(de,Re)){const st=b(qe,et,{path:We===void 0?R:[...R,We],branch:We===void 0?k:[...k,qe],coerce:ae,mask:me,message:$.message});for(const at of st)at[0]?(Se=at[0].refinement!=null?"not_refined":"not_valid",yield[at[0],void 0]):ae&&(qe=at[1],We===void 0?de=qe:de instanceof Map?de.set(We,qe):de instanceof Set?de.add(qe):v(de)&&(qe!==void 0||We in de)&&(de[We]=qe))}if(Se!=="not_valid")for(const We of ye.refiner(de,Re))We.explanation=$.message,Se="not_refined",yield[We,void 0];Se==="valid"&&(yield[void 0,de])}class _{constructor(ye){const{type:$,schema:R,validator:k,refiner:ae,coercer:me=Se=>Se,entries:Re=function*(){}}=ye;this.type=$,this.schema=R,this.entries=Re,this.coercer=me,k?this.validator=(Se,We)=>{const qe=k(Se,We);return y(qe,We,this,Se)}:this.validator=()=>[],ae?this.refiner=(Se,We)=>{const qe=ae(Se,We);return y(qe,We,this,Se)}:this.refiner=()=>[]}assert(ye,$){return P(ye,this,$)}create(ye,$){return m(ye,this,$)}is(ye){return S(ye,this)}mask(ye,$){return d(ye,this,$)}validate(ye,$={}){return O(ye,this,$)}}function P(de,ye,$){const R=O(de,ye,{message:$});if(R[0])throw R[0]}function m(de,ye,$){const R=O(de,ye,{coerce:!0,message:$});if(R[0])throw R[0];return R[1]}function d(de,ye,$){const R=O(de,ye,{coerce:!0,mask:!0,message:$});if(R[0])throw R[0];return R[1]}function S(de,ye){return!O(de,ye)[0]}function O(de,ye,$={}){const R=b(de,ye,$),k=p(R);return k[0]?[new a(k[0],function*(){for(const me of R)me[0]&&(yield me[0])}),void 0]:[void 0,k[1]]}function z(...de){const ye=de[0].type==="type",$=de.map(k=>k.schema),R=Object.assign({},...$);return ye?D(R):ie(R)}function j(de,ye){return new _({type:de,schema:null,validator:ye})}function G(de,ye){return new _({...de,refiner:($,R)=>$===void 0||de.refiner($,R),validator($,R){return $===void 0?!0:(ye($,R),de.validator($,R))}})}function B(de){return new _({type:"dynamic",schema:null,*entries(ye,$){yield*de(ye,$).entries(ye,$)},validator(ye,$){return de(ye,$).validator(ye,$)},coercer(ye,$){return de(ye,$).coercer(ye,$)},refiner(ye,$){return de(ye,$).refiner(ye,$)}})}function K(de){let ye;return new _({type:"lazy",schema:null,*entries($,R){ye??(ye=de()),yield*ye.entries($,R)},validator($,R){return ye??(ye=de()),ye.validator($,R)},coercer($,R){return ye??(ye=de()),ye.coercer($,R)},refiner($,R){return ye??(ye=de()),ye.refiner($,R)}})}function F(de,ye){const{schema:$}=de,R={...$};for(const k of ye)delete R[k];switch(de.type){case"type":return D(R);default:return ie(R)}}function re(de){const ye=de instanceof _?{...de.schema}:{...de};for(const $ in ye)ye[$]=Pe(ye[$]);return ie(ye)}function V(de,ye){const{schema:$}=de,R={};for(const k of ye)R[k]=$[k];return ie(R)}function A(de,ye){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),j(de,ye)}function Z(){return j("any",()=>!0)}function ve(de){return new _({type:"array",schema:de,*entries(ye){if(de&&Array.isArray(ye))for(const[$,R]of ye.entries())yield[$,R,de]},coercer(ye){return Array.isArray(ye)?ye.slice():ye},validator(ye){return Array.isArray(ye)||`Expected an array value, but received: ${l(ye)}`}})}function le(){return j("bigint",de=>typeof de=="bigint")}function we(){return j("boolean",de=>typeof de=="boolean")}function fe(){return j("date",de=>de instanceof Date&&!isNaN(de.getTime())||`Expected a valid \`Date\` object, but received: ${l(de)}`)}function H(de){const ye={},$=de.map(R=>l(R)).join();for(const R of de)ye[R]=R;return new _({type:"enums",schema:ye,validator(R){return de.includes(R)||`Expected one of \`${$}\`, but received: ${l(R)}`}})}function g(){return j("func",de=>typeof de=="function"||`Expected a function, but received: ${l(de)}`)}function x(de){return j("instance",ye=>ye instanceof de||`Expected a \`${de.name}\` instance, but received: ${l(ye)}`)}function L(){return j("integer",de=>typeof de=="number"&&!isNaN(de)&&Number.isInteger(de)||`Expected an integer, but received: ${l(de)}`)}function I(de){return new _({type:"intersection",schema:null,*entries(ye,$){for(const R of de)yield*R.entries(ye,$)},*validator(ye,$){for(const R of de)yield*R.validator(ye,$)},*refiner(ye,$){for(const R of de)yield*R.refiner(ye,$)}})}function N(de){const ye=l(de),$=typeof de;return new _({type:"literal",schema:$==="string"||$==="number"||$==="boolean"?de:null,validator(R){return R===de||`Expected the literal \`${ye}\`, but received: ${l(R)}`}})}function W(de,ye){return new _({type:"map",schema:null,*entries($){if(de&&ye&&$ instanceof Map)for(const[R,k]of $.entries())yield[R,R,de],yield[R,k,ye]},coercer($){return $ instanceof Map?new Map($):$},validator($){return $ instanceof Map||`Expected a \`Map\` object, but received: ${l($)}`}})}function Y(){return j("never",()=>!1)}function te(de){return new _({...de,validator:(ye,$)=>ye===null||de.validator(ye,$),refiner:(ye,$)=>ye===null||de.refiner(ye,$)})}function T(){return j("number",de=>typeof de=="number"&&!isNaN(de)||`Expected a number, but received: ${l(de)}`)}function ie(de){const ye=de?Object.keys(de):[],$=Y();return new _({type:"object",schema:de||null,*entries(R){if(de&&v(R)){const k=new Set(Object.keys(R));for(const ae of ye)k.delete(ae),yield[ae,R[ae],de[ae]];for(const ae of k)yield[ae,R[ae],$]}},validator(R){return v(R)||`Expected an object, but received: ${l(R)}`},coercer(R){return v(R)?{...R}:R}})}function Pe(de){return new _({...de,validator:(ye,$)=>ye===void 0||de.validator(ye,$),refiner:(ye,$)=>ye===void 0||de.refiner(ye,$)})}function Fe(de,ye){return new _({type:"record",schema:null,*entries($){if(v($))for(const R in $){const k=$[R];yield[R,R,de],yield[R,k,ye]}},validator($){return v($)||`Expected an object, but received: ${l($)}`}})}function $e(){return j("regexp",de=>de instanceof RegExp)}function ce(de){return new _({type:"set",schema:null,*entries(ye){if(de&&ye instanceof Set)for(const $ of ye)yield[$,$,de]},coercer(ye){return ye instanceof Set?new Set(ye):ye},validator(ye){return ye instanceof Set||`Expected a \`Set\` object, but received: ${l(ye)}`}})}function q(){return j("string",de=>typeof de=="string"||`Expected a string, but received: ${l(de)}`)}function ee(de){const ye=Y();return new _({type:"tuple",schema:null,*entries($){if(Array.isArray($)){const R=Math.max(de.length,$.length);for(let k=0;k<R;k++)yield[k,$[k],de[k]||ye]}},validator($){return Array.isArray($)||`Expected an array, but received: ${l($)}`}})}function D(de){const ye=Object.keys(de);return new _({type:"type",schema:de,*entries($){if(v($))for(const R of ye)yield[R,$[R],de[R]]},validator($){return v($)||`Expected an object, but received: ${l($)}`},coercer($){return v($)?{...$}:$}})}function ne(de){const ye=de.map($=>$.type).join(" | ");return new _({type:"union",schema:null,coercer($){for(const R of de){const[k,ae]=R.validate($,{coerce:!0});if(!k)return ae}return $},validator($,R){const k=[];for(const ae of de){const[...me]=b($,ae,R),[Re]=me;if(Re[0])for(const[Se]of me)Se&&k.push(Se);else return[]}return[`Expected the value to satisfy a union of \`${ye}\`, but received: ${l($)}`,...k]}})}function Ee(){return j("unknown",()=>!0)}function oe(de,ye,$){return new _({...de,coercer:(R,k)=>S(R,ye)?de.coercer($(R,k),k):de.coercer(R,k)})}function se(de,ye,$={}){return oe(de,Ee(),R=>{const k=typeof ye=="function"?ye():ye;if(R===void 0)return k;if(!$.strict&&C(R)&&C(k)){const ae={...R};let me=!1;for(const Re in k)ae[Re]===void 0&&(ae[Re]=k[Re],me=!0);if(me)return ae}return R})}function Oe(de){return oe(de,q(),ye=>ye.trim())}function ke(de){return Me(de,"empty",ye=>{const $=Ke(ye);return $===0||`Expected an empty ${de.type} but received one with a size of \`${$}\``})}function Ke(de){return de instanceof Map||de instanceof Set?de.size:de.length}function Te(de,ye,$={}){const{exclusive:R}=$;return Me(de,"max",k=>R?k<ye:k<=ye||`Expected a ${de.type} less than ${R?"":"or equal to "}${ye} but received \`${k}\``)}function ot(de,ye,$={}){const{exclusive:R}=$;return Me(de,"min",k=>R?k>ye:k>=ye||`Expected a ${de.type} greater than ${R?"":"or equal to "}${ye} but received \`${k}\``)}function Ve(de){return Me(de,"nonempty",ye=>Ke(ye)>0||`Expected a nonempty ${de.type} but received an empty one`)}function Je(de,ye){return Me(de,"pattern",$=>ye.test($)||`Expected a ${de.type} matching \`/${ye.source}/\` but received "${$}"`)}function Ae(de,ye,$=ye){const R=`Expected a ${de.type}`,k=ye===$?`of \`${ye}\``:`between \`${ye}\` and \`${$}\``;return Me(de,"size",ae=>{if(typeof ae=="number"||ae instanceof Date)return ye<=ae&&ae<=$||`${R} ${k} but received \`${ae}\``;if(ae instanceof Map||ae instanceof Set){const{size:me}=ae;return ye<=me&&me<=$||`${R} with a size ${k} but received one with a size of \`${me}\``}else{const{length:me}=ae;return ye<=me&&me<=$||`${R} with a length ${k} but received one with a length of \`${me}\``}})}function Me(de,ye,$){return new _({...de,*refiner(R,k){yield*de.refiner(R,k);const ae=$(R,k),me=y(ae,k,de,R);for(const Re of me)yield{...Re,refinement:ye}}})}},33493:function(pe,s,f){"use strict";f.d(s,{y:function(){return M}});var a=f(181);const M=(0,a.a)({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}})},29439:function(pe,s,f){"use strict";f.d(s,{f:function(){return v}});var a=f(92518);function M(C,l){let[p,o="0"]=C.split(".");const y=p.startsWith("-");if(y&&(p=p.slice(1)),o=o.replace(/(0+)$/,""),l===0)Math.round(+`.${o}`)===1&&(p=`${BigInt(p)+1n}`),o="";else if(o.length>l){const[b,_,P]=[o.slice(0,l-1),o.slice(l-1,l),o.slice(l)],m=Math.round(+`${_}.${P}`);m>9?o=`${BigInt(b)+BigInt(1)}0`.padStart(b.length+1,"0"):o=`${b}${m}`,o.length>l&&(o=o.slice(1),p=`${BigInt(p)+1n}`),o=o.slice(0,l)}else o=o.padEnd(l,"0");return BigInt(`${y?"-":""}${p}${o}`)}function v(C,l="wei"){return M(C,a.ez[l])}},15601:function(pe,s,f){"use strict";f.d(s,{u:function(){return y}});var a=f(52660),M=f(5268);function v(b,_={}){return{async queryFn({queryKey:P}){const m=_.abi;if(!m)throw new Error("abi is required");const{address:d,functionName:S,scopeKey:O,...z}=P[1];if(!d)throw new Error("address is required");if(!S)throw new Error("functionName is required");const j=z.args;return(0,a.L)(b,{abi:m,address:d,functionName:S,args:j,...z})},queryKey:C(_)}}function C(b={}){const{abi:_,...P}=b;return["readContract",(0,M.O)(P)]}var l=f(26989),p=f(7130),o=f(33944);function y(b={}){const{abi:_,address:P,functionName:m,query:d={}}=b,S=(0,o.Z)(b),O=(0,p.x)(),z=v(S,{...b,chainId:b.chainId??O}),j=!!(P&&_&&m&&(d.enabled??!0));return(0,l.aM)({...d,...z,enabled:j,structuralSharing:d.structuralSharing??l.if})}},14860:function(pe,s,f){"use strict";f.d(s,{S:function(){return Je}});var a=f(12822),M=f(99078),v=f(74968),C=f(21196),l=f(12833);class p extends l.G{constructor({docsPath:Me}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:Me,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var o=f(8909);function y({chain:Ae,currentChainId:Me}){if(!Ae)throw new o.Bk;if(Me!==Ae.id)throw new o.Yl({chain:Ae,currentChainId:Me})}var b=f(31200),_=f(70967),P=f(18859);function m(Ae,{docsPath:Me,...de}){const ye=(()=>{const $=(0,P.k)(Ae,de);return $ instanceof b.cj?Ae:$})();return new _.mk(ye,{docsPath:Me,...de})}var d=f(72911),S=f(94099),O=f(53559),z=f(60592);async function j(Ae){const Me=await Ae.request({method:"eth_chainId"});return(0,z.ly)(Me)}var G=f(81891);class B extends l.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class K extends l.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class F extends l.G{constructor({maxPriorityFeePerGas:Me}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,G.o)(Me)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class re extends l.G{constructor({blockHash:Me,blockNumber:de}){let ye="Block";Me&&(ye=`Block at hash "${Me}"`),de&&(ye=`Block at number "${de}"`),super(`${ye} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}var V=f(38186);const A={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Z(Ae){const Me={...Ae,blockHash:Ae.blockHash?Ae.blockHash:null,blockNumber:Ae.blockNumber?BigInt(Ae.blockNumber):null,chainId:Ae.chainId?(0,z.ly)(Ae.chainId):void 0,gas:Ae.gas?BigInt(Ae.gas):void 0,gasPrice:Ae.gasPrice?BigInt(Ae.gasPrice):void 0,maxFeePerGas:Ae.maxFeePerGas?BigInt(Ae.maxFeePerGas):void 0,maxPriorityFeePerGas:Ae.maxPriorityFeePerGas?BigInt(Ae.maxPriorityFeePerGas):void 0,nonce:Ae.nonce?(0,z.ly)(Ae.nonce):void 0,to:Ae.to?Ae.to:null,transactionIndex:Ae.transactionIndex?Number(Ae.transactionIndex):null,type:Ae.type?A[Ae.type]:void 0,typeHex:Ae.type?Ae.type:void 0,value:Ae.value?BigInt(Ae.value):void 0,v:Ae.v?BigInt(Ae.v):void 0};return Me.yParity=(()=>{if(Ae.yParity)return Number(Ae.yParity);if(typeof Me.v=="bigint"){if(Me.v===0n||Me.v===27n)return 0;if(Me.v===1n||Me.v===28n)return 1;if(Me.v>=35n)return Me.v%2n===0n?1:0}})(),Me.type==="legacy"&&(delete Me.accessList,delete Me.maxFeePerGas,delete Me.maxPriorityFeePerGas,delete Me.yParity),Me.type==="eip2930"&&(delete Me.maxFeePerGas,delete Me.maxPriorityFeePerGas),Me}const ve=null;function le(Ae){var de;const Me=(de=Ae.transactions)==null?void 0:de.map(ye=>typeof ye=="string"?ye:Z(ye));return{...Ae,baseFeePerGas:Ae.baseFeePerGas?BigInt(Ae.baseFeePerGas):null,difficulty:Ae.difficulty?BigInt(Ae.difficulty):void 0,gasLimit:Ae.gasLimit?BigInt(Ae.gasLimit):void 0,gasUsed:Ae.gasUsed?BigInt(Ae.gasUsed):void 0,hash:Ae.hash?Ae.hash:null,logsBloom:Ae.logsBloom?Ae.logsBloom:null,nonce:Ae.nonce?Ae.nonce:null,number:Ae.number?BigInt(Ae.number):null,size:Ae.size?BigInt(Ae.size):void 0,timestamp:Ae.timestamp?BigInt(Ae.timestamp):void 0,transactions:Me,totalDifficulty:Ae.totalDifficulty?BigInt(Ae.totalDifficulty):null}}const we=null;async function fe(Ae,{blockHash:Me,blockNumber:de,blockTag:ye,includeTransactions:$}={}){var Se,We,qe;const R=ye??"latest",k=$??!1,ae=de!==void 0?(0,V.eC)(de):void 0;let me=null;if(Me?me=await Ae.request({method:"eth_getBlockByHash",params:[Me,k]}):me=await Ae.request({method:"eth_getBlockByNumber",params:[ae||R,k]}),!me)throw new re({blockHash:Me,blockNumber:de});return(((qe=(We=(Se=Ae.chain)==null?void 0:Se.formatters)==null?void 0:We.block)==null?void 0:qe.format)||le)(me)}async function H(Ae){const Me=await Ae.request({method:"eth_gasPrice"});return BigInt(Me)}async function g(Ae,Me){return x(Ae,Me)}async function x(Ae,Me){var R,k,ae;const{block:de,chain:ye=Ae.chain,request:$}=Me||{};if(typeof((R=ye==null?void 0:ye.fees)==null?void 0:R.defaultPriorityFee)=="function"){const me=de||await(0,v.s)(Ae,fe,"getBlock")({});return ye.fees.defaultPriorityFee({block:me,client:Ae,request:$})}if(typeof((k=ye==null?void 0:ye.fees)==null?void 0:k.defaultPriorityFee)<"u")return(ae=ye==null?void 0:ye.fees)==null?void 0:ae.defaultPriorityFee;try{const me=await Ae.request({method:"eth_maxPriorityFeePerGas"});return(0,z.y_)(me)}catch{const[me,Re]=await Promise.all([de?Promise.resolve(de):(0,v.s)(Ae,fe,"getBlock")({}),(0,v.s)(Ae,H,"getGasPrice")({})]);if(typeof me.baseFeePerGas!="bigint")throw new K;const Se=Re-me.baseFeePerGas;return Se<0n?0n:Se}}async function L(Ae,Me){return I(Ae,Me)}async function I(Ae,Me){var qe,et;const{block:de,chain:ye=Ae.chain,request:$,type:R="eip1559"}=Me||{},k=await(async()=>{var st,at;return typeof((st=ye==null?void 0:ye.fees)==null?void 0:st.baseFeeMultiplier)=="function"?ye.fees.baseFeeMultiplier({block:de,client:Ae,request:$}):((at=ye==null?void 0:ye.fees)==null?void 0:at.baseFeeMultiplier)??1.2})();if(k<1)throw new B;const me=10**(((qe=k.toString().split(".")[1])==null?void 0:qe.length)??0),Re=st=>st*BigInt(Math.ceil(k*me))/BigInt(me),Se=de||await(0,v.s)(Ae,fe,"getBlock")({});if(typeof((et=ye==null?void 0:ye.fees)==null?void 0:et.estimateFeesPerGas)=="function")return ye.fees.estimateFeesPerGas({block:de,client:Ae,multiply:Re,request:$,type:R});if(R==="eip1559"){if(typeof Se.baseFeePerGas!="bigint")throw new K;const st=$!=null&&$.maxPriorityFeePerGas?$.maxPriorityFeePerGas:await x(Ae,{block:Se,chain:ye,request:$}),at=Re(Se.baseFeePerGas);return{maxFeePerGas:($==null?void 0:$.maxFeePerGas)??at+st,maxPriorityFeePerGas:st}}return{gasPrice:($==null?void 0:$.gasPrice)??Re(await(0,v.s)(Ae,H,"getGasPrice")({}))}}var N=f(48488);class W extends l.G{constructor(Me,{account:de,docsPath:ye,chain:$,data:R,gas:k,gasPrice:ae,maxFeePerGas:me,maxPriorityFeePerGas:Re,nonce:Se,to:We,value:qe}){var st;const et=(0,_.xr)({from:de==null?void 0:de.address,to:We,value:typeof qe<"u"&&`${(0,N.d)(qe)} ${((st=$==null?void 0:$.nativeCurrency)==null?void 0:st.symbol)||"ETH"}`,data:R,gas:k,gasPrice:typeof ae<"u"&&`${(0,G.o)(ae)} gwei`,maxFeePerGas:typeof me<"u"&&`${(0,G.o)(me)} gwei`,maxPriorityFeePerGas:typeof Re<"u"&&`${(0,G.o)(Re)} gwei`,nonce:Se});super(Me.shortMessage,{cause:Me,docsPath:ye,metaMessages:[...Me.metaMessages?[...Me.metaMessages," "]:[],"Estimate Gas Arguments:",et].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=Me}}function Y(Ae,{docsPath:Me,...de}){const ye=(()=>{const $=(0,P.k)(Ae,de);return $ instanceof b.cj?Ae:$})();return new W(ye,{docsPath:Me,...de})}async function te(Ae,Me){var $,R,k;const de=Me.account??Ae.account,ye=de?(0,C.T)(de):void 0;try{const{accessList:ae,blockNumber:me,blockTag:Re,data:Se,gas:We,gasPrice:qe,maxFeePerGas:et,maxPriorityFeePerGas:st,nonce:at,to:wt,value:Ct,...At}=(ye==null?void 0:ye.type)==="local"?await Pe(Ae,Me):Me,Mt=(me?(0,V.eC)(me):void 0)||Re;(0,O.F)(Me);const Vt=(k=(R=($=Ae.chain)==null?void 0:$.formatters)==null?void 0:R.transactionRequest)==null?void 0:k.format,gt=(Vt||S.tG)({...(0,d.K)(At,{format:Vt}),from:ye==null?void 0:ye.address,accessList:ae,data:Se,gas:We,gasPrice:qe,maxFeePerGas:et,maxPriorityFeePerGas:st,nonce:at,to:wt,value:Ct}),Gt=await Ae.request({method:"eth_estimateGas",params:Mt?[gt,Mt]:[gt]});return BigInt(Gt)}catch(ae){throw Y(ae,{...Me,account:ye,chain:Ae.chain})}}async function T(Ae,{address:Me,blockTag:de="latest",blockNumber:ye}){const $=await Ae.request({method:"eth_getTransactionCount",params:[Me,ye?(0,V.eC)(ye):de]});return(0,z.ly)($)}function ie(Ae){if(Ae.type)return Ae.type;if(typeof Ae.maxFeePerGas<"u"||typeof Ae.maxPriorityFeePerGas<"u")return"eip1559";if(typeof Ae.gasPrice<"u")return typeof Ae.accessList<"u"?"eip2930":"legacy";throw new _.j3({transaction:Ae})}async function Pe(Ae,Me){const{account:de=Ae.account,chain:ye,gas:$,nonce:R,parameters:k=["fees","gas","nonce","type"],type:ae}=Me,me=de?(0,C.T)(de):void 0,Re=await(0,v.s)(Ae,fe,"getBlock")({blockTag:"latest"}),Se={...Me,...me?{from:me==null?void 0:me.address}:{}};if(k.includes("nonce")&&typeof R>"u"&&me&&(Se.nonce=await(0,v.s)(Ae,T,"getTransactionCount")({address:me.address,blockTag:"pending"})),(k.includes("fees")||k.includes("type"))&&typeof ae>"u")try{Se.type=ie(Se)}catch{Se.type=typeof Re.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(k.includes("fees"))if(Se.type==="eip1559"){const{maxFeePerGas:We,maxPriorityFeePerGas:qe}=await I(Ae,{block:Re,chain:ye,request:Se});if(typeof Me.maxPriorityFeePerGas>"u"&&Me.maxFeePerGas&&Me.maxFeePerGas<qe)throw new F({maxPriorityFeePerGas:qe});Se.maxPriorityFeePerGas=qe,Se.maxFeePerGas=We}else{if(typeof Me.maxFeePerGas<"u"||typeof Me.maxPriorityFeePerGas<"u")throw new K;const{gasPrice:We}=await I(Ae,{block:Re,chain:ye,request:Se,type:"legacy"});Se.gasPrice=We}return k.includes("gas")&&typeof $>"u"&&(Se.gas=await(0,v.s)(Ae,te,"estimateGas")({...Se,account:me?{address:me.address,type:"json-rpc"}:void 0})),(0,O.F)(Se),delete Se.parameters,Se}async function Fe(Ae,{serializedTransaction:Me}){return Ae.request({method:"eth_sendRawTransaction",params:[Me]},{retryCount:0})}async function $e(Ae,Me){var at,wt,Ct,At;const{account:de=Ae.account,chain:ye=Ae.chain,accessList:$,data:R,gas:k,gasPrice:ae,maxFeePerGas:me,maxPriorityFeePerGas:Re,nonce:Se,to:We,value:qe,...et}=Me;if(!de)throw new p({docsPath:"/docs/actions/wallet/sendTransaction"});const st=(0,C.T)(de);try{(0,O.F)(Me);let mt;if(ye!==null&&(mt=await(0,v.s)(Ae,j,"getChainId")({}),y({currentChainId:mt,chain:ye})),st.type==="local"){const gt=await(0,v.s)(Ae,Pe,"prepareTransactionRequest")({account:st,accessList:$,chain:ye,data:R,gas:k,gasPrice:ae,maxFeePerGas:me,maxPriorityFeePerGas:Re,nonce:Se,to:We,value:qe,...et});mt||(mt=await(0,v.s)(Ae,j,"getChainId")({}));const Gt=(at=ye==null?void 0:ye.serializers)==null?void 0:at.transaction,Pt=await st.signTransaction({...gt,chainId:mt},{serializer:Gt});return await(0,v.s)(Ae,Fe,"sendRawTransaction")({serializedTransaction:Pt})}const Mt=(At=(Ct=(wt=Ae.chain)==null?void 0:wt.formatters)==null?void 0:Ct.transactionRequest)==null?void 0:At.format,vt=(Mt||S.tG)({...(0,d.K)(et,{format:Mt}),accessList:$,data:R,from:st.address,gas:k,gasPrice:ae,maxFeePerGas:me,maxPriorityFeePerGas:Re,nonce:Se,to:We,value:qe});return await Ae.request({method:"eth_sendTransaction",params:[vt]},{retryCount:0})}catch(mt){throw m(mt,{...Me,account:st,chain:Me.chain||void 0})}}async function ce(Ae,Me){const{abi:de,address:ye,args:$,dataSuffix:R,functionName:k,...ae}=Me,me=(0,M.R)({abi:de,args:$,functionName:k});return(0,v.s)(Ae,$e,"sendTransaction")({data:`${me}${R?R.replace("0x",""):""}`,to:ye,...ae})}var q=f(65186),ee=f(86385);function D(Ae,Me={}){const{key:de="custom",name:ye="Custom Provider",retryDelay:$}=Me;return({retryCount:R})=>(0,ee.q)({key:de,name:ye,request:Ae.request.bind(Ae),retryCount:Me.retryCount??R,retryDelay:$,type:"custom"})}var ne=f(80580);async function Ee(Ae,Me={}){let de;if(Me.connector){const{connector:me}=Me,[Re,Se]=await Promise.all([me.getAccounts(),me.getChainId()]);de={accounts:Re,chainId:Se,connector:me}}else de=Ae.state.connections.get(Ae.state.current);if(!de)throw new ne.aH;const ye=Me.chainId??de.chainId,$=de.connector;if($.getClient)return $.getClient({chainId:ye});const R=(0,C.T)(Me.account??de.accounts[0]),k=Ae.chains.find(me=>me.id===ye),ae=await de.connector.getProvider({chainId:ye});if(Me.account&&!de.accounts.includes(R.address))throw new ne.JK({address:R.address,connector:$});return(0,q.e)({account:R,chain:k,name:"Connector Client",transport:me=>D(ae)({...me,retryCount:0})})}var oe=f(67492),se=f(88733),Oe=f(87622);async function ke(Ae,Me){const{abi:de,address:ye,args:$,dataSuffix:R,functionName:k,...ae}=Me,me=ae.account?(0,C.T)(ae.account):Ae.account,Re=(0,M.R)({abi:de,args:$,functionName:k});try{const{data:Se}=await(0,v.s)(Ae,Oe.R,"call")({batch:!1,data:`${Re}${R?R.replace("0x",""):""}`,to:ye,...ae,account:me}),We=(0,oe.k)({abi:de,args:$,functionName:k,data:Se||"0x"}),qe=de.filter(et=>"name"in et&&et.name===Me.functionName);return{result:We,request:{abi:qe,address:ye,args:$,dataSuffix:R,functionName:k,...ae,account:me}}}catch(Se){throw(0,se.S)(Se,{abi:de,address:ye,args:$,docsPath:"/docs/contract/simulateContract",functionName:k,sender:me==null?void 0:me.address})}}async function Ke(Ae,Me){const{abi:de,chainId:ye,connector:$,...R}=Me;let k;Me.account?k=Me.account:k=(await Ee(Ae,{chainId:ye,connector:$})).account;const ae=Ae.getClient({chainId:ye}),{result:me,request:Re}=await ke(ae,{...R,abi:de,account:k});return{chainId:ae.chain.id,result:me,request:{__mode:"prepared",...Re,chainId:ye}}}async function Te(Ae,Me){const{account:de,chainId:ye,connector:$,__mode:R,...k}=Me,ae=await Ee(Ae,{account:de,chainId:ye,connector:$});let me;if(R==="prepared")me=k;else{const{request:Se}=await Ke(Ae,k);me=Se}return await ce(ae,{...me,chain:ye?{id:ye}:null})}function ot(Ae){return{mutationFn(Me){return Te(Ae,Me)},mutationKey:["writeContract"]}}var Ve=f(33944);function Je(Ae={}){const{mutation:Me}=Ae,de=(0,Ve.Z)(Ae),ye=ot(de),{mutate:$,mutateAsync:R,...k}=(0,a.D)({...Me,...ye});return{...k,writeContract:$,writeContractAsync:R}}}}]);
