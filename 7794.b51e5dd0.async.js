(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[7794,4855,985],{99221:function(_e,we,e){"use strict";e.r(we),e.d(we,{BitcoinWeb3ConfigProvider:function(){return i},UnisatWallet:function(){return He},XverseWallet:function(){return H},useBitcoinWallet:function(){return D}});var be=e(90228),w=e.n(be),Pe=e(87999),Z=e.n(Pe),Qe=e(48305),z=e.n(Qe),_=e(50959),O=(0,_.createContext)({}),D=function(){var d=(0,_.useContext)(O);return d},ee=e(11188),ce=e(17069),J=e.n(ce),Ye=e(25298),Le=e.n(Ye),Re=e(82092),y=e.n(Re),Ne=e(38698),Ge=e(11827),Ce=e.n(Ge),me=e(11527),Ke=Ce()({hostname:"mempool.space"}),se=Ke.bitcoin.addresses,ye=function(d){return{value:BigInt(d),decimals:8,symbol:"BTC",icon:(0,me.jsx)(Ne.BitcoinCircleColorful,{})}},Ee=function(){var L=Z()(w()().mark(function d(o){var c,f,h,s;return w()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se.getAddress({address:o});case 2:return c=r.sent,f=c.chain_stats,h=f.funded_txo_sum,s=f.spent_txo_count,r.abrupt("return",ye(h-s));case 5:case"end":return r.stop()}},d)}));return function(o){return L.apply(this,arguments)}}(),Fe=J()(function L(d){var o=this;Le()(this,L),y()(this,"name",void 0),y()(this,"provider",void 0),y()(this,"account",void 0),y()(this,"connect",Z()(w()().mark(function c(){var f;return w()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.provider){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,o.provider.requestAccounts();case 5:f=s.sent,o.account={address:f[0]},s.next=12;break;case 9:throw s.prev=9,s.t0=s.catch(2),s.t0;case 12:return s.abrupt("return");case 13:case"end":return s.stop()}},c,null,[[2,9]])}))),y()(this,"getBalance",Z()(w()().mark(function c(){var f,h,s;return w()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.provider){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,o.provider.getBalance();case 4:return f=r.sent,h=f.confirmed,s=ye(h),r.abrupt("return",s);case 8:case"end":return r.stop()}},c)}))),y()(this,"signMessage",function(){var c=Z()(w()().mark(function f(h){var s;return w()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.provider){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,o.provider.signMessage(h);case 4:return s=r.sent,r.abrupt("return",s);case 6:case"end":return r.stop()}},f)}));return function(f){return c.apply(this,arguments)}}()),y()(this,"sendTransfer",function(){var c=Z()(w()().mark(function f(h,s,W){var r;return w()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o.provider){u.next=2;break}return u.abrupt("return");case 2:return r="",u.prev=3,u.next=6,o.provider.sendBitcoin(h,s,W);case 6:r=u.sent,u.next=12;break;case 9:throw u.prev=9,u.t0=u.catch(3),u.t0;case 12:return u.abrupt("return",r);case 13:case"end":return u.stop()}},f,null,[[3,9]])}));return function(f,h,s){return c.apply(this,arguments)}}()),this.name=d,this.provider=window.unisat,this.account=void 0}),$=e(39716),N=J()(function L(d){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"XverseProviders.BitcoinProvider";Le()(this,L),y()(this,"name",void 0),y()(this,"provider",void 0),y()(this,"account",void 0),y()(this,"payment",void 0),y()(this,"connect",Z()(w()().mark(function f(){var h,s,W,r;return w()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o.provider){u.next=2;break}return u.abrupt("return");case 2:return u.next=4,(0,$.request)("getAccounts",{purposes:[$.AddressPurpose.Ordinals,$.AddressPurpose.Payment]});case 4:if(h=u.sent,h.status!=="error"){u.next=7;break}throw new Error(h.error.message);case 7:s=z()(h.result,2),W=s[0],r=s[1],o.account={address:W.address},o.payment=r.address;case 10:case"end":return u.stop()}},f)}))),y()(this,"getBalance",Z()(w()().mark(function f(){var h;return w()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(o.payment){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,Ee(o.payment);case 4:return h=W.sent,W.abrupt("return",h);case 6:case"end":return W.stop()}},f)}))),y()(this,"signMessage",function(){var f=Z()(w()().mark(function h(s){var W,r;return w()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!((W=o.account)!==null&&W!==void 0&&W.address)||!o.provider)){u.next=2;break}return u.abrupt("return");case 2:return u.next=4,(0,$.request)("signMessage",{address:o.account.address,message:s});case 4:if(r=u.sent,r.status!=="success"){u.next=9;break}return u.abrupt("return",r.result.signature);case 9:throw new Error(r.error.message);case 10:case"end":return u.stop()}},h)}));return function(h){return f.apply(this,arguments)}}()),y()(this,"sendTransfer",function(){var f=Z()(w()().mark(function h(s,W){var r,T;return w()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return r="",B.prev=1,B.next=4,(0,$.request)("sendTransfer",{recipients:[{address:s,amount:W}]});case 4:if(T=B.sent,T.status!=="success"){B.next=9;break}r=T.result.txid,B.next=10;break;case 9:throw new Error(T.error.message);case 10:B.next=15;break;case 12:throw B.prev=12,B.t0=B.catch(1),B.t0;case 15:return B.abrupt("return",r);case 16:case"end":return B.stop()}},h,null,[[1,12]])}));return function(h,s){return f.apply(this,arguments)}}()),this.name=d,this.provider=(0,$.getProviderById)(c)}),ae=function(d){var o=d.children,c=d.locale,f=d.wallets,h=d.selectWallet,s=d.balance,W=D(),r=W.getBalance,T=W.account,u=(0,_.useState)(),B=z()(u,2),Ie=B[0],Te=B[1];return(0,_.useEffect)(function(){s&&(r==null||r().then(function(de){return Te(de)}))},[s,r]),(0,me.jsx)(ee.Web3ConfigProvider,{addressPrefix:!1,locale:c,availableWallets:f,balance:Ie,account:T,connect:function(){var de=Z()(w()().mark(function Me(ve){return w()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:h(ve);case 1:case"end":return fe.stop()}},Me)}));return function(Me){return de.apply(this,arguments)}}(),disconnect:Z()(w()().mark(function de(){return w()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:h(null);case 1:case"end":return ve.stop()}},de)})),children:o})},i=function(d){var o=d.children,c=d.wallets,f=c===void 0?[]:c,h=d.balance,s=h===void 0?!1:h,W=d.locale,r=(0,_.useState)({}),T=z()(r,2),u=T[0],B=T[1],Ie=(0,_.useState)([]),Te=z()(Ie,2),de=Te[0],Me=Te[1];(0,_.useEffect)(function(){f.length!==0&&Me(f.map(function(ze){return ze.create()}))},[f]);var ve=function(){var ze=Z()(w()().mark(function fe(Oe){var Xe,Se;return w()().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(Oe){We.next=3;break}return u&&B({}),We.abrupt("return");case 3:return Se=(Xe=de.find(function(Ze){return Ze.name===Oe.name}))===null||Xe===void 0?void 0:Xe.adapter,We.next=6,Se==null?void 0:Se.connect();case 6:B(Se);case 7:case"end":return We.stop()}},fe)}));return function(Oe){return ze.apply(this,arguments)}}();return(0,me.jsx)(O.Provider,{value:u,children:(0,me.jsx)(ae,{selectWallet:ve,wallets:de,balance:s,locale:W,children:o})})},Y=e(28134),g=e(26068),re=e.n(g),te=function(d,o){return{adapter:d,create:function(){return re()(re()({},o),{},{adapter:d,hasWalletReady:function(){return Promise.resolve(!!d.provider)},hasExtensionInstalled:function(){return Promise.resolve(!!d.provider)}})}}},He=function(){return te(new Fe(Y.metadata_Unisat.name),Y.metadata_Unisat)},H=function(){return te(new N(Y.metadata_Xverse.name),Y.metadata_Xverse)}},57473:function(_e,we,e){"use strict";e.r(we),e.d(we,{CoinbaseWallet:function(){return O.CoinbaseWallet},EthersWeb3ConfigProvider:function(){return y},ImToken:function(){return O.ImToken},MetaMask:function(){return O.MetaMask},OkxWallet:function(){return O.OkxWallet},SafeheronWallet:function(){return O.SafeheronWallet},TokenPocket:function(){return O.TokenPocket},UniversalWallet:function(){return O.UniversalWallet},clientToProvider:function(){return me},clientToSigner:function(){return Ee},useEthersProvider:function(){return Ke},useEthersSigner:function(){return Fe}});var be=e(26068),w=e.n(be),Pe=e(15558),Z=e.n(Pe),Qe=e(67825),z=e.n(Qe),_=e(50959),O=e(92621),D=e(25844),ee=e(86255),ce=e(1148),J=e(44037),Ye=e(12601),Le=e(11527),Re=["children","walletConnect"],y=function(N){var ae,i=N.children,Y=N.walletConnect,g=z()(N,Re),re=_.useMemo(function(){var H;return((H=g.chains)!==null&&H!==void 0?H:[O.Mainnet]).map(function(L){var d,o=(d=Object.values(ce).find(function(c){return c.id===L.id}))!==null&&d!==void 0?d:null;return o!=null&&o.id||console.warn("Chain ".concat(L.id," is not supported")),o}).filter(function(L){return L!==null})},[(ae=g.chains)===null||ae===void 0?void 0:ae.map(function(H){return H.id}).join()]),te=_.useMemo(function(){var H,L=Z()((H=g.wallets)!==null&&H!==void 0?H:[]);return Y&&Y.projectId&&L.push((0,O.WalletConnect)()),L},[g.wallets,Y]),He=_.useMemo(function(){var H,L=Object.fromEntries(re.map(function(c){return[c.id,(0,D.d)()]})),d=[J.L()];if(((H=g.wallets)!==null&&H!==void 0?H:[]).forEach(function(c){c.name&&d.push(J.L({target:c.name}))}),Y&&Y.projectId){var o;d.push(Ye.a(w()(w()({},Y),{},{showQrModal:(o=Y.useWalletConnectOfficialModal)!==null&&o!==void 0?o:!1})))}return(0,ee._)({chains:re,transports:L,connectors:d})},[re,Y,g.wallets]);return(0,Le.jsx)(O.WagmiWeb3ConfigProvider,w()(w()({},g),{},{config:He,wallets:te,children:i}))},Ne=e(10327),Ge=e(26654),Ce=e(53689);function me($){var N,ae=$.chain,i=$.transport,Y={chainId:ae.id,name:ae.name,ensAddress:(N=ae.contracts)===null||N===void 0||(N=N.ensRegistry)===null||N===void 0?void 0:N.address};if(i.type==="fallback"){var g=i.transports.map(function(re){var te=re.value;return new Ne.r6(te==null?void 0:te.url,Y)});return g.length===1?g[0]:new Ge.H(g)}return new Ne.r6(i.url,Y)}function Ke(){var $=(0,Ce.m)();return(0,_.useMemo)(function(){return $?me($):null},[$])}var se=e(65178),ye=e(9921);function Ee($){var N,ae=$.account,i=$.chain,Y=$.transport,g={chainId:i.id,name:i.name,ensAddress:(N=i.contracts)===null||N===void 0||(N=N.ensRegistry)===null||N===void 0?void 0:N.address},re=new se.Q(Y,g),te=new Ne.C1(re,ae.address);return te}function Fe(){var $=(0,ye.L)(),N=$.data;return(0,_.useMemo)(function(){return N?Ee(N):null},[N])}},22843:function(_e,we,e){"use strict";e.r(we),e.d(we,{BackpackWallet:function(){return cn},CoinbaseWallet:function(){return ln},OKXWallet:function(){return on},PhantomWallet:function(){return un},SolanaWeb3ConfigProvider:function(){return We},StandardWalletFactory:function(){return Je},TrustWallet:function(){return sn},WalletAdapterNetwork:function(){return Z.Q},WalletConnectWallet:function(){return dn},WalletConnectWalletFactory:function(){return nn},WalletFactory:function(){return Ze},solana:function(){return Ce},solanaDevnet:function(){return me},solanaTestnet:function(){return Ke},useAnchorWallet:function(){return w.z},useConnection:function(){return Pe.R},useWallet:function(){return be.O}});var be=e(75975),w=e(21497),Pe=e(56986),Z=e(87911),Qe=e(26068),z=e.n(Qe),_=e(48305),O=e.n(_),D=e(50959),ee=e(11188),ce=e(38698),J=e(11527),Ye={id:ee.SolanaChainIds.MainnetBeta,name:"Solana",icon:(0,J.jsx)(ce.SolanaColorful,{}),browser:{icon:(0,J.jsx)(ce.SolanaColorful,{}),getBrowserLink:(0,ee.createGetBrowserLink)("https://explorer.solana.com")},nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9}},Le={id:ee.SolanaChainIds.Devnet,name:"Solana Devnet",icon:(0,J.jsx)(ce.SolanaColorful,{}),browser:{icon:(0,J.jsx)(ce.SolanaColorful,{}),getBrowserLink:(0,ee.createGetBrowserLink)("https://explorer.solana.com/?cluster=devnet")},nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9}},Re={id:ee.SolanaChainIds.Testnet,name:"Solana Testnet",icon:(0,J.jsx)(ce.SolanaColorful,{}),browser:{icon:(0,J.jsx)(ce.SolanaColorful,{}),getBrowserLink:(0,ee.createGetBrowserLink)("https://explorer.solana.com/?cluster=testnet")},nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9}},y=e(36933),Ne=e(82218),Ge=e(60791),Ce={id:ee.SolanaChainIds.MainnetBeta,name:"Solana",network:"mainnet-beta",rpcUrls:{default:"https://api.mainnet-beta.solana.com"}},me={id:ee.SolanaChainIds.Devnet,name:"Solana Devnet",network:"devnet",rpcUrls:{default:"https://api.devnet.solana.com"}},Ke={id:ee.SolanaChainIds.Testnet,name:"Solana Testnet",network:"testnet",rpcUrls:{default:"https://api.testnet.solana.com"}},se=e(35373),ye=function(a){return a===se.i1.Installed||a===se.i1.Loadable},Ee=function(a){return!!a.isWalletConnect},Fe=function(a){return a.adapter!==void 0},$=e(15558),N=e.n($),ae=e(90228),i=e.n(ae),Y=e(87999),g=e.n(Y),re=e(2978),te=e(36520),He=e(25298),H=e.n(He),L=e(17069),d=e.n(L),o=e(62657),c=e.n(o),f=e(21742),h=e.n(f),s=e(83136),W=e.n(s),r=e(82092),T=e.n(r),u=e(10258),B=e(35715),Ie=e(9408),Te=e(86190),de=e(11565),Me=e.n(de),ve=e(36379).lW,ze="WalletConnect",fe=T()(T()({},"mainnet-beta","solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"),"devnet","solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"),Oe=function(K){h()(R,K);var a=W()(R);function R(){var l;return H()(this,R),l=a.call(this),T()(c()(l),"name",ze),T()(c()(l),"url","https://walletconnect.org"),T()(c()(l),"icon","data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE4NSIgdmlld0JveD0iMCAwIDMwMCAxODUiIHdpZHRoPSIzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYxLjQzODU0MjkgMzYuMjU2MjYxMmM0OC45MTEyMjQxLTQ3Ljg4ODE2NjMgMTI4LjIxMTk4NzEtNDcuODg4MTY2MyAxNzcuMTIzMjA5MSAwbDUuODg2NTQ1IDUuNzYzNDE3NGMyLjQ0NTU2MSAyLjM5NDQwODEgMi40NDU1NjEgNi4yNzY1MTEyIDAgOC42NzA5MjA0bC0yMC4xMzY2OTUgMTkuNzE1NTAzYy0xLjIyMjc4MSAxLjE5NzIwNTEtMy4yMDUzIDEuMTk3MjA1MS00LjQyODA4MSAwbC04LjEwMDU4NC03LjkzMTE0NzljLTM0LjEyMTY5Mi0zMy40MDc5ODE3LTg5LjQ0Mzg4Ni0zMy40MDc5ODE3LTEyMy41NjU1Nzg4IDBsLTguNjc1MDU2MiA4LjQ5MzYwNTFjLTEuMjIyNzgxNiAxLjE5NzIwNDEtMy4yMDUzMDEgMS4xOTcyMDQxLTQuNDI4MDgwNiAwbC0yMC4xMzY2OTQ5LTE5LjcxNTUwMzFjLTIuNDQ1NTYxMi0yLjM5NDQwOTItMi40NDU1NjEyLTYuMjc2NTEyMiAwLTguNjcwOTIwNHptMjE4Ljc2Nzc5NjEgNDAuNzczNzQ0OSAxNy45MjE2OTcgMTcuNTQ2ODk3YzIuNDQ1NTQ5IDIuMzk0Mzk2OSAyLjQ0NTU2MyA2LjI3NjQ3NjkuMDAwMDMxIDguNjcwODg5OWwtODAuODEwMTcxIDc5LjEyMTEzNGMtMi40NDU1NDQgMi4zOTQ0MjYtNi40MTA1ODIgMi4zOTQ0NTMtOC44NTYxNi4wMDAwNjItLjAwMDAxLS4wMDAwMS0uMDAwMDIyLS4wMDAwMjItLjAwMDAzMi0uMDAwMDMybC01Ny4zNTQxNDMtNTYuMTU0NTcyYy0uNjExMzktLjU5ODYwMi0xLjYwMjY1LS41OTg2MDItMi4yMTQwNCAwLS4wMDAwMDQuMDAwMDA0LS4wMDAwMDcuMDAwMDA4LS4wMDAwMTEuMDAwMDExbC01Ny4zNTI5MjEyIDU2LjE1NDUzMWMtMi40NDU1MzY4IDIuMzk0NDMyLTYuNDEwNTc1NSAyLjM5NDQ3Mi04Ljg1NjE2MTIuMDAwMDg3LS4wMDAwMTQzLS4wMDAwMTQtLjAwMDAyOTYtLjAwMDAyOC0uMDAwMDQ0OS0uMDAwMDQ0bC04MC44MTI0MTk0My03OS4xMjIxODVjLTIuNDQ1NTYwMjEtMi4zOTQ0MDgtMi40NDU1NjAyMS02LjI3NjUxMTUgMC04LjY3MDkxOTdsMTcuOTIxNzI5NjMtMTcuNTQ2ODY3M2MyLjQ0NTU2MDItMi4zOTQ0MDgyIDYuNDEwNTk4OS0yLjM5NDQwODIgOC44NTYxNjAyIDBsNTcuMzU0OTc3NSA1Ni4xNTUzNTdjLjYxMTM5MDguNTk4NjAyIDEuNjAyNjQ5LjU5ODYwMiAyLjIxNDAzOTggMCAuMDAwMDA5Mi0uMDAwMDA5LjAwMDAxNzQtLjAwMDAxNy4wMDAwMjY1LS4wMDAwMjRsNTcuMzUyMTAzMS01Ni4xNTUzMzNjMi40NDU1MDUtMi4zOTQ0NjMzIDYuNDEwNTQ0LTIuMzk0NTUzMSA4Ljg1NjE2MS0uMDAwMi4wMDAwMzQuMDAwMDMzNi4wMDAwNjguMDAwMDY3My4wMDAxMDEuMDAwMTAxbDU3LjM1NDkwMiA1Ni4xNTU0MzJjLjYxMTM5LjU5ODYwMSAxLjYwMjY1LjU5ODYwMSAyLjIxNDA0IDBsNTcuMzUzOTc1LTU2LjE1NDMyNDljMi40NDU1NjEtMi4zOTQ0MDkyIDYuNDEwNTk5LTIuMzk0NDA5MiA4Ljg1NjE2IDB6IiBmaWxsPSIjM2I5OWZjIi8+PC9zdmc+"),T()(c()(l),"supportedTransactionVersions",new Set(["legacy",0])),T()(c()(l),"_publicKey",void 0),T()(c()(l),"_connecting",void 0),T()(c()(l),"_walletProvider",void 0),T()(c()(l),"_getWalletConnectProvider",void 0),T()(c()(l),"_getWalletConnectConfigGetter",void 0),T()(c()(l),"_readyState",typeof window>"u"?se.i1.Unsupported:se.i1.Loadable),T()(c()(l),"_disconnected",function(){var C=l._walletProvider;C&&(C.off("session_delete",l._disconnected),l._walletProvider=void 0,l._publicKey=void 0,l.emit("error",new y.at),l.emit("disconnect"))}),l._connecting=!1,l}return d()(R,[{key:"publicKey",get:function(){return this._publicKey||null}},{key:"connecting",get:function(){return this._connecting}},{key:"readyState",get:function(){return this._readyState}},{key:"setWalletConnectProviderGetter",value:function(C){this._getWalletConnectProvider=function(){return C()}}},{key:"setWalletConnectConfigGetter",value:function(C){this._getWalletConnectConfigGetter=C}},{key:"connect",value:function(){var l=g()(i()().mark(function E(){var v,j,t,U,p,Q,X,k;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(this.connected||this.connecting)){n.next=3;break}return n.abrupt("return");case 3:if(this._readyState===se.i1.Loadable){n.next=5;break}throw new y.OZ;case 5:if(t=(v=this._getWalletConnectConfigGetter)===null||v===void 0?void 0:v.call(this),t){n.next=8;break}throw new Error("WalletConnect config not available");case 8:if(U=t.currentChain&&fe[t.currentChain.network],U){n.next=11;break}throw new y.$w("Chain not supported");case 11:return this._connecting=!0,n.next=14,(j=this._getWalletConnectProvider)===null||j===void 0?void 0:j.call(this);case 14:if(p=n.sent,p){n.next=17;break}throw new Error("WalletConnect provider not available");case 17:return this._walletProvider=p,n.prev=18,Q=this._walletProvider.client.session.map.size>0,n.next=22,p.connect({namespaces:{solana:{chains:[U],methods:["solana_signMessage","solana_signTransaction"],events:[],rpcMap:T()({},(0,Te.DQe)(U).reference,t.rpcEndpoint)}},skipPairing:Q});case 22:n.next=27;break;case 24:throw n.prev=24,n.t0=n.catch(18),new y.$w(n.t0===null||n.t0===void 0?void 0:n.t0.message,n.t0);case 27:p.on("session_delete",this._disconnected),X=(0,Te.cwA)(this._walletProvider.session.namespaces.solana.accounts[0]),k=X.address,this._publicKey=new Ie.nh(k),this.emit("connect",this.publicKey),n.next=37;break;case 33:throw n.prev=33,n.t1=n.catch(0),this.emit("error",n.t1),n.t1;case 37:return n.prev=37,this._connecting=!1,n.finish(37);case 40:case"end":return n.stop()}},E,this,[[0,33,37,40],[18,24]])}));function C(){return l.apply(this,arguments)}return C}()},{key:"disconnect",value:function(){var l=g()(i()().mark(function E(){var v;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v=this._walletProvider,!v){t.next=13;break}return v.off("session_delete",this._disconnected),this._walletProvider=void 0,this._publicKey=void 0,t.prev=5,t.next=8,v.disconnect();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),this.emit("error",new y.UG(t.t0===null||t.t0===void 0?void 0:t.t0.message,t.t0));case 13:this.emit("disconnect");case 14:case"end":return t.stop()}},E,this,[[5,10]])}));function C(){return l.apply(this,arguments)}return C}()},{key:"signTransaction",value:function(){var l=g()(i()().mark(function E(v){var j,t,U,p,Q,X,k,V,n;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,t=this._walletProvider,t){m.next=4;break}throw new y.oS;case 4:if(this.publicKey){m.next=6;break}throw new y.Nx;case 6:return U=(j=this._getWalletConnectConfigGetter)===null||j===void 0||(j=j.call(this).currentChain)===null||j===void 0?void 0:j.network,p=U&&fe[U],(0,u.W)(v)?(Q=ve.from(v.serialize()).toString("base64"),v.version==="legacy"&&(X=Ie.YW.from(v.serialize()))):(Q=v.serialize({requireAllSignatures:!1,verifySignatures:!1}).toString("base64"),X=v),m.prev=9,m.next=12,t.request({method:"solana_signTransaction",params:z()(z()({pubkey:(k=this.publicKey)===null||k===void 0?void 0:k.toString()},X),{},{transaction:Q})},p);case 12:return V=m.sent,n=V.signature,v.addSignature(this.publicKey,ve.from(Me().decode(n))),m.abrupt("return",v);case 18:throw m.prev=18,m.t0=m.catch(9),new y.PY(m.t0===null||m.t0===void 0?void 0:m.t0.message,m.t0);case 21:m.next=27;break;case 23:throw m.prev=23,m.t1=m.catch(0),this.emit("error",m.t1),m.t1;case 27:case"end":return m.stop()}},E,this,[[0,23],[9,18]])}));function C(E){return l.apply(this,arguments)}return C}()},{key:"signMessage",value:function(){var l=g()(i()().mark(function E(v){var j,t,U,p,Q,X,k;return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=this._walletProvider,t){n.next=4;break}throw new y.oS;case 4:return U=(j=this._getWalletConnectConfigGetter)===null||j===void 0||(j=j.call(this).currentChain)===null||j===void 0?void 0:j.network,p=U&&fe[U],n.prev=6,n.next=9,t.request({method:"solana_signMessage",params:{pubkey:(Q=this.publicKey)===null||Q===void 0?void 0:Q.toString(),message:Me().encode(v)}},p);case 9:return X=n.sent,k=X.signature,n.abrupt("return",Me().decode(k));case 14:throw n.prev=14,n.t0=n.catch(6),new y.fk(n.t0===null||n.t0===void 0?void 0:n.t0.message,n.t0);case 17:n.next=23;break;case 19:throw n.prev=19,n.t1=n.catch(0),this.emit("error",n.t1),n.t1;case 23:case"end":return n.stop()}},E,this,[[0,19],[6,14]])}));function C(E){return l.apply(this,arguments)}return C}()}]),R}(B.sz),Xe=function(a){var R,l,C=(0,be.O)(),E=C.publicKey,v=C.connected,j=C.connect,t=C.select,U=C.disconnect,p=C.wallet,Q=C.wallets,X=(0,Pe.R)(),k=X.connection,V=(0,D.useRef)(),n=(0,D.useState)(),x=O()(n,2),m=x[0],Be=x[1],ne=(0,D.useState)(),he=O()(ne,2),Ue=he[0],ie=he[1],Ae=(0,D.useState)(function(){var M,S;return(M=p==null||(S=p.adapter)===null||S===void 0?void 0:S.name)!==null&&M!==void 0?M:null}),Ve=O()(Ae,2),xe=Ve[0],pe=Ve[1];(0,D.useEffect)(function(){if(!(E&&v)){ie(void 0);return}ie({address:E.toBase58()})},[E,v,p==null||(R=p.adapter)===null||R===void 0?void 0:R.name]),(0,D.useEffect)(function(){V.current&&v&&(V.current.resolve(),V.current=void 0)},[v]),(0,D.useEffect)(function(){if(a.connectionError){var M;(M=V.current)===null||M===void 0||M.reject(a.connectionError),V.current=void 0}},[a.connectionError]),(0,D.useEffect)(function(){if(a.balance&&k&&E){var M=function(){var S=g()(i()().mark(function A(){var b;return i()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,k.getBalance(E);case 2:b=P.sent,Be(BigInt(b));case 4:case"end":return P.stop()}},A)}));return function(){return S.apply(this,arguments)}}();M()}},[k,E,a.balance]),(0,D.useEffect)(function(){var M;if(p!=null&&(M=p.adapter)!==null&&M!==void 0&&M.name){if(!ye(p.adapter.readyState)){t(null);return}j()}else v&&U()},[p==null||(l=p.adapter)===null||l===void 0?void 0:l.name,v]);var ue=(0,D.useMemo)(function(){return a.availableChains.map(function(M){var S,A=(S=a.chainAssets)===null||S===void 0?void 0:S.find(function(b){return b.id===M.id});return A!=null&&A.id?z()(z()(z()({},M),A),{},{id:A.id,name:A.name,icon:A.icon}):(console.error("Can not find chain ".concat(M.id,", SolanaWeb3ConfigProvider only support Solana")),null)}).filter(function(M){return M!==null})},[a.availableChains,a.chainAssets]),qe=(0,D.useMemo)(function(){var M=a.availableWallets.map(function(b){var I,P=Q==null||(I=Q.find(function(F){return F.adapter.name===b.name}))===null||I===void 0?void 0:I.adapter,q=P instanceof Oe;return z()(z()({},b),{},{hasExtensionInstalled:q?void 0:g()(i()().mark(function F(){return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",(P==null?void 0:P.readyState)===se.i1.Installed);case 1:case"end":return G.stop()}},F)})),hasWalletReady:function(){var F=g()(i()().mark(function G(){return i()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.abrupt("return",ye(P==null?void 0:P.readyState));case 1:case"end":return le.stop()}},G)}));function oe(){return F.apply(this,arguments)}return oe}()})});if(!a.autoAddRegisteredWallets)return M;var S=M.map(function(b){return b.name}),A=Q.filter(function(b){return!S.includes(b.adapter.name)}).map(function(b){var I=b.adapter;return{name:I.name,icon:I.icon,remark:I.name,hasExtensionInstalled:function(){var P=g()(i()().mark(function F(){return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",I.readyState===se.i1.Installed);case 1:case"end":return G.stop()}},F)}));function q(){return P.apply(this,arguments)}return q}(),hasWalletReady:function(){var P=g()(i()().mark(function F(){return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",ye(I.readyState));case 1:case"end":return G.stop()}},F)}));function q(){return P.apply(this,arguments)}return q}()}});return[].concat(N()(M),N()(A))},[a.availableWallets,Q,a.autoAddRegisteredWallets]),De=(0,D.useMemo)(function(){return ue.find(function(M){var S;return M.id===((S=a.currentChain)===null||S===void 0?void 0:S.id)})},[a.currentChain,ue]),ge=De==null?void 0:De.nativeCurrency;return(0,J.jsx)(ee.Web3ConfigProvider,{locale:a.locale,account:Ue,chain:De,balance:a.balance?{symbol:ge==null?void 0:ge.symbol,decimals:ge==null?void 0:ge.decimals,value:m,icon:ge==null?void 0:ge.icon}:void 0,addressPrefix:!1,availableChains:ue,availableWallets:qe,switchChain:function(){var M=g()(i()().mark(function S(A){var b,I;return i()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:I=ue.find(function(F){return F.id===A.id}),(b=a.onCurrentChainChange)===null||b===void 0||b.call(a,I??ue[0]),t(xe);case 3:case"end":return q.stop()}},S)}));return function(S){return M.apply(this,arguments)}}(),connect:function(){var M=g()(i()().mark(function S(A,b){var I,P,q,F,oe;return i()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return(b==null?void 0:b.connectType)==="qrCode"&&t(null),F=new Promise(function(le,an){P=le,q=an}),V.current={promise:F,resolve:P,reject:q},oe=(I=A==null?void 0:A.name)!==null&&I!==void 0?I:null,t(oe),pe(oe),je.abrupt("return",F);case 7:case"end":return je.stop()}},S)}));return function(S,A){return M.apply(this,arguments)}}(),disconnect:g()(i()().mark(function M(){return i()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:U();case 1:case"end":return A.stop()}},M)})),getNFTMetadata:function(){var M=g()(i()().mark(function S(A){var b,I,P,q,F,oe,G,je,le;return i()().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return F=A.address,oe=new re.I(k),G=oe.nfts(),je=new te.PublicKey(F),ke.next=6,G.findByMint({mintAddress:je});case 6:return le=ke.sent,ke.abrupt("return",{name:(b=le.json)===null||b===void 0?void 0:b.name,image:(I=le.json)===null||I===void 0?void 0:I.image,description:(P=le.json)===null||P===void 0?void 0:P.description,attributes:(q=le.json)===null||q===void 0?void 0:q.attributes});case 8:case"end":return ke.stop()}},S)}));return function(S){return M.apply(this,arguments)}}(),children:a.children})},Se=function(a){var R=(0,D.useState)([]),l=O()(R,2),C=l[0],E=l[1],v=(0,D.useState)(!1),j=O()(v,2),t=j[0],U=j[1],p=(0,D.useState)(null),Q=O()(p,2),X=Q[0],k=Q[1],V=en(C),n=(0,D.useCallback)(g()(i()().mark(function x(){var m;return i()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(!X){ne.next=2;break}return ne.abrupt("return",Promise.resolve(X));case 2:return m=new Promise(function(he){E(function(Ue){return[].concat(N()(Ue),[he])})}),ne.abrupt("return",m);case 4:case"end":return ne.stop()}},x)})),[X]);return(0,D.useEffect)(function(){t||!a||(U(!0),Promise.all([e.e(8809),e.e(3325)]).then(e.bind(e,83325)).then(function(){var x=g()(i()().mark(function m(Be){var ne,he;return i()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ne=Be.UniversalProvider,ie.next=3,ne.init(a);case 3:he=ie.sent,k(he),V.current.forEach(function(Ae){Ae(he)});case 6:case"end":return ie.stop()}},m)}));return function(m){return x.apply(this,arguments)}}()))},[t,V,a]),(0,D.useEffect)(function(){return function(){U(!1)}},[]),n};function en(K){var a=(0,D.useRef)(K);return a.current=K,a}var We=function(a){var R=a.locale,l=a.chains,C=a.wallets,E=C===void 0?[]:C,v=a.balance,j=a.rpcProvider,t=a.connectionConfig,U=a.autoConnect,p=a.walletConnect,Q=a.autoAddRegisteredWallets,X=a.children,k=a.walletProviderProps,V=(0,D.useState)(Ce),n=O()(V,2),x=n[0],m=n[1],Be=(0,D.useState)(),ne=O()(Be,2),he=ne[0],Ue=ne[1],ie=Se(p),Ae=(0,D.useMemo)(function(){return typeof j=="function"?j(x):(x??Ce).rpcUrls.default},[j,x]),Ve=E.map(function(pe){return pe.create(ie)}),xe=(0,D.useMemo)(function(){return E.filter(Fe).map(function(pe){return Ee(pe)&&(pe.adapter.setWalletConnectProviderGetter(ie),pe.adapter.setWalletConnectConfigGetter(function(){return{walletConnect:p,currentChain:x,rpcEndpoint:Ae}})),pe.adapter})},[x,Ae,p,ie,E]);return(0,J.jsx)(Ne.U,{endpoint:Ae,config:t,children:(0,J.jsx)(Ge.n,z()(z()({wallets:xe,autoConnect:U},k),{},{onError:function(ue,qe){var De;ue instanceof y.$w&&Ue(ue),k==null||(De=k.onError)===null||De===void 0||De.call(k,ue,qe)},children:(0,J.jsx)(Xe,{locale:R,chainAssets:[Ye,Le,Re],availableWallets:Ve,balance:v,currentChain:x,onCurrentChainChange:function(ue){return m(ue)},availableChains:l||[Ce],connectionError:he,autoAddRegisteredWallets:Q,children:X})}))})},Ze=function(a,R){return{adapter:a,create:function(){return z()(z()({},R),{},{name:a.name,remark:R.remark,adapter:a})}}},Je=function(a){return{create:function(){return z()(z()({},a),{},{isStandardWallet:!0})}}},nn=function(a,R){return{isWalletConnect:!0,adapter:a,create:function(C){return z()(z()({},R),{},{name:a.name,remark:R.remark,adapter:a,getQrCode:C?g()(i()().mark(function E(){var v;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:if(v=t.sent,v){t.next=5;break}return t.abrupt("return",Promise.reject(new Error("WalletConnect is not available")));case 5:return t.abrupt("return",new Promise(function(U){v.on("display_uri",function(p){U({uri:p})})}));case 6:case"end":return t.stop()}},E)})):void 0})}}},$e=e(28134),rn=e(36503),tn=e(77892),ln=function(){return Ze(new rn.A,$e.metadata_CoinbaseWallet)},sn=function(){return Ze(new tn.H,$e.metadata_Trust)},un=function(){return Je($e.metadata_Phantom)},on=function(){return Je($e.metadata_OkxWallet)},cn=function(){return Je($e.metadata_Backpack)},dn=function(){return nn(new Oe,$e.metadata_WalletConnect)}},85898:function(){},44087:function(){},10985:function(){},11314:function(){},79391:function(){},81388:function(){},33517:function(){},44085:function(){},65660:function(){},84232:function(){},14050:function(){},87942:function(){},82880:function(){},81401:function(){},60573:function(){},74094:function(){},72185:function(){}}]);
