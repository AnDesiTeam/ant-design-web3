!(function(){var Z1=Object.defineProperty;var Y1=(B,u,x)=>u in B?Z1(B,u,{enumerable:!0,configurable:!0,writable:!0,value:x}):B[u]=x;var O=(B,u,x)=>(Y1(B,typeof u!="symbol"?u+"":u,x),x);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[5812],{64230:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(f){f[f.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},61125:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var f=x(64230);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var l=x(20181);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return l.KeyPair}});var E=x(29624);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return E.KeyPairEd25519}});var g=x(61624);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return g.PublicKey}})},20181:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const f=x(61736),l=x(29624);class E extends f.KeyPairBase{static fromRandom(m){switch(m.toUpperCase()){case"ED25519":return l.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${m}`)}}static fromString(m){const y=m.split(":");if(y.length===1)return new l.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new l.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=E},61736:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},29624:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const l=x(48797),E=f(x(15711)),g=x(64230),m=x(61736),y=x(61624);class h extends m.KeyPairBase{constructor(S){super();const I=E.default.sign.keyPair.fromSecretKey((0,l.baseDecode)(S));this.publicKey=new y.PublicKey({keyType:g.KeyType.ED25519,data:I.publicKey}),this.secretKey=S}static fromRandom(){const S=E.default.sign.keyPair();return new h((0,l.baseEncode)(S.secretKey))}sign(S){return{signature:E.default.sign.detached(S,(0,l.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(S,I){return this.publicKey.verify(S,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},61624:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const l=x(95036),E=x(48797),g=f(x(15711)),m=x(64230);function y(S){switch(S){case m.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${S}`)}}function h(S){switch(S.toLowerCase()){case"ed25519":return m.KeyType.ED25519;default:throw new Error(`Unknown key type ${S}`)}}class _ extends l.Assignable{static from(I){return typeof I=="string"?_.fromString(I):I}static fromString(I){const P=I.split(":");if(P.length===1)return new _({keyType:m.KeyType.ED25519,data:(0,E.baseDecode)(P[0])});if(P.length===2)return new _({keyType:h(P[0]),data:(0,E.baseDecode)(P[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,E.baseEncode)(this.data)}`}verify(I,P){switch(this.keyType){case m.KeyType.ED25519:return g.default.sign.detached.verify(I,P,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=_},76895:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(f){f[f.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},38369:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var f=x(76895);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var l=x(89055);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return l.KeyPair}});var E=x(75713);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return E.KeyPairEd25519}});var g=x(21833);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return g.PublicKey}})},89055:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const f=x(34980),l=x(75713);class E extends f.KeyPairBase{static fromRandom(m){switch(m.toUpperCase()){case"ED25519":return l.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${m}`)}}static fromString(m){const y=m.split(":");if(y.length===1)return new l.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new l.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=E},34980:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},75713:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const l=x(48797),E=f(x(15711)),g=x(76895),m=x(34980),y=x(21833);class h extends m.KeyPairBase{constructor(S){super();const I=E.default.sign.keyPair.fromSecretKey((0,l.baseDecode)(S));this.publicKey=new y.PublicKey({keyType:g.KeyType.ED25519,data:I.publicKey}),this.secretKey=S}static fromRandom(){const S=E.default.sign.keyPair();return new h((0,l.baseEncode)(S.secretKey))}sign(S){return{signature:E.default.sign.detached(S,(0,l.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(S,I){return this.publicKey.verify(S,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},21833:function(B,u,x){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const l=x(85918),E=x(48797),g=f(x(15711)),m=x(76895);function y(S){switch(S){case m.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${S}`)}}function h(S){switch(S.toLowerCase()){case"ed25519":return m.KeyType.ED25519;default:throw new Error(`Unknown key type ${S}`)}}class _ extends l.Assignable{static from(I){return typeof I=="string"?_.fromString(I):I}static fromString(I){const P=I.split(":");if(P.length===1)return new _({keyType:m.KeyType.ED25519,data:(0,E.baseDecode)(P[0])});if(P.length===2)return new _({keyType:h(P[0]),data:(0,E.baseDecode)(P[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,E.baseEncode)(this.data)}`}verify(I,P){switch(this.keyType){case m.KeyType.ED25519:return g.default.sign.detached.verify(I,P,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=_},64091:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(y,h,_,S){function I(P){return P instanceof _?P:new _(function(C){C(P)})}return new(_||(_=Promise))(function(P,C){function w($){try{D(S.next($))}catch(ee){C(ee)}}function U($){try{D(S.throw($))}catch(ee){C(ee)}}function D($){$.done?P($.value):I($.value).then(w,U)}D((S=S.apply(y,h||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.BrowserLocalStorageKeyStore=void 0;const l=x(61125),E=x(38149),g="near-api-js:keystore:";class m extends E.KeyStore{constructor(h=window.localStorage,_=g){super(),this.localStorage=h,this.prefix=_}setKey(h,_,S){return f(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(h,_),S.toString())})}getKey(h,_){return f(this,void 0,void 0,function*(){const S=this.localStorage.getItem(this.storageKeyForSecretKey(h,_));return S?l.KeyPair.fromString(S):null})}removeKey(h,_){return f(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(h,_))})}clear(){return f(this,void 0,void 0,function*(){for(const h of this.storageKeys())h.startsWith(this.prefix)&&this.localStorage.removeItem(h)})}getNetworks(){return f(this,void 0,void 0,function*(){const h=new Set;for(const _ of this.storageKeys())if(_.startsWith(this.prefix)){const S=_.substring(this.prefix.length).split(":");h.add(S[1])}return Array.from(h.values())})}getAccounts(h){return f(this,void 0,void 0,function*(){const _=new Array;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const I=S.substring(this.prefix.length).split(":");I[1]===h&&_.push(I[0])}return _})}storageKeyForSecretKey(h,_){return`${this.prefix}${_}:${h}`}*storageKeys(){for(let h=0;h<this.localStorage.length;h++)yield this.localStorage.key(h)}}u.BrowserLocalStorageKeyStore=m},67265:function(B,u,x){"use strict";var f;f={value:!0},u.X=void 0;var l=x(64091);Object.defineProperty(u,"X",{enumerable:!0,get:function(){return l.BrowserLocalStorageKeyStore}})},62384:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(m,y,h,_){function S(I){return I instanceof h?I:new h(function(P){P(I)})}return new(h||(h=Promise))(function(I,P){function C(D){try{U(_.next(D))}catch($){P($)}}function w(D){try{U(_.throw(D))}catch($){P($)}}function U(D){D.done?I(D.value):S(D.value).then(C,w)}U((_=_.apply(m,y||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.InMemoryKeyStore=void 0;const l=x(61125),E=x(56363);class g extends E.KeyStore{constructor(){super(),this.keys={}}setKey(y,h,_){return f(this,void 0,void 0,function*(){this.keys[`${h}:${y}`]=_.toString()})}getKey(y,h){return f(this,void 0,void 0,function*(){const _=this.keys[`${h}:${y}`];return _?l.KeyPair.fromString(_):null})}removeKey(y,h){return f(this,void 0,void 0,function*(){delete this.keys[`${h}:${y}`]})}clear(){return f(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return f(this,void 0,void 0,function*(){const y=new Set;return Object.keys(this.keys).forEach(h=>{const _=h.split(":");y.add(_[1])}),Array.from(y.values())})}getAccounts(y){return f(this,void 0,void 0,function*(){const h=new Array;return Object.keys(this.keys).forEach(_=>{const S=_.split(":");S[S.length-1]===y&&h.push(S.slice(0,S.length-1).join(":"))}),h})}toString(){return"InMemoryKeyStore"}}u.InMemoryKeyStore=g},38149:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=u.KeyStore=u.InMemoryKeyStore=void 0;var f=x(62384);Object.defineProperty(u,"InMemoryKeyStore",{enumerable:!0,get:function(){return f.InMemoryKeyStore}});var l=x(56363);Object.defineProperty(u,"KeyStore",{enumerable:!0,get:function(){return l.KeyStore}});var E=x(73917);Object.defineProperty(u,"MergeKeyStore",{enumerable:!0,get:function(){return E.MergeKeyStore}})},56363:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyStore=void 0;class x{}u.KeyStore=x},73917:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(g,m,y,h){function _(S){return S instanceof y?S:new y(function(I){I(S)})}return new(y||(y=Promise))(function(S,I){function P(U){try{w(h.next(U))}catch(D){I(D)}}function C(U){try{w(h.throw(U))}catch(D){I(D)}}function w(U){U.done?S(U.value):_(U.value).then(P,C)}w((h=h.apply(g,m||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=void 0;const l=x(56363);class E extends l.KeyStore{constructor(m,y={writeKeyStoreIndex:0}){super(),this.options=y,this.keyStores=m}setKey(m,y,h){return f(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(m,y,h)})}getKey(m,y){return f(this,void 0,void 0,function*(){for(const h of this.keyStores){const _=yield h.getKey(m,y);if(_)return _}return null})}removeKey(m,y){return f(this,void 0,void 0,function*(){for(const h of this.keyStores)yield h.removeKey(m,y)})}clear(){return f(this,void 0,void 0,function*(){for(const m of this.keyStores)yield m.clear()})}getNetworks(){return f(this,void 0,void 0,function*(){const m=new Set;for(const y of this.keyStores)for(const h of yield y.getNetworks())m.add(h);return Array.from(m)})}getAccounts(m){return f(this,void 0,void 0,function*(){const y=new Set;for(const h of this.keyStores)for(const _ of yield h.getAccounts(m))y.add(_);return Array.from(y)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}u.MergeKeyStore=E},48788:function(B,u,x){"use strict";var f=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0}),u.actionCreators=u.stringifyJsonOrBytes=void 0;const l=x(7632);function E(){return new l.AccessKey({permission:new l.AccessKeyPermission({fullAccess:new l.FullAccessPermission({})})})}function g(D,$,ee){return new l.AccessKey({permission:new l.AccessKeyPermission({functionCall:new l.FunctionCallPermission({receiverId:D,allowance:ee,methodNames:$})})})}function m(){return new l.Action({createAccount:new l.CreateAccount({})})}function y(D){return new l.Action({deployContract:new l.DeployContract({code:D})})}function h(D){return D.byteLength!==void 0&&D.byteLength===D.length?D:f.from(JSON.stringify(D))}u.stringifyJsonOrBytes=h;function _(D,$,ee,Y,ye=h,W=!1){return W?new l.Action({functionCall:new l.FunctionCall({methodName:D,args:$,gas:ee,deposit:Y})}):new l.Action({functionCall:new l.FunctionCall({methodName:D,args:ye($),gas:ee,deposit:Y})})}function S(D){return new l.Action({transfer:new l.Transfer({deposit:D})})}function I(D,$){return new l.Action({stake:new l.Stake({stake:D,publicKey:$})})}function P(D,$){return new l.Action({addKey:new l.AddKey({publicKey:D,accessKey:$})})}function C(D){return new l.Action({deleteKey:new l.DeleteKey({publicKey:D})})}function w(D){return new l.Action({deleteAccount:new l.DeleteAccount({beneficiaryId:D})})}function U({delegateAction:D,signature:$}){return new l.Action({signedDelegate:new l.SignedDelegate({delegateAction:D,signature:$})})}u.actionCreators={addKey:P,createAccount:m,deleteAccount:w,deleteKey:C,deployContract:y,fullAccessKey:E,functionCall:_,functionCallAccessKey:g,signedDelegate:U,stake:I,transfer:S}},7632:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Action=u.SignedDelegate=u.DeleteAccount=u.DeleteKey=u.AddKey=u.Stake=u.Transfer=u.FunctionCall=u.DeployContract=u.CreateAccount=u.IAction=u.AccessKey=u.AccessKeyPermission=u.FullAccessPermission=u.FunctionCallPermission=void 0;const f=x(85918);class l{constructor(ye){if(Object.keys(ye).length!==1)throw new Error("Enum can only take single value");Object.keys(ye).map(W=>{this[W]=ye[W],this.enum=W})}}class E extends f.Assignable{}u.FunctionCallPermission=E;class g extends f.Assignable{}u.FullAccessPermission=g;class m extends l{}u.AccessKeyPermission=m;class y extends f.Assignable{}u.AccessKey=y;class h extends f.Assignable{}u.IAction=h;class _ extends h{}u.CreateAccount=_;class S extends h{}u.DeployContract=S;class I extends h{}u.FunctionCall=I;class P extends h{}u.Transfer=P;class C extends h{}u.Stake=C;class w extends h{}u.AddKey=w;class U extends h{}u.DeleteKey=U;class D extends h{}u.DeleteAccount=D;class $ extends h{}u.SignedDelegate=$;class ee extends l{}u.Action=ee},51084:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createTransaction=void 0;const f=x(56855);function l(E,g,m,y,h,_){return new f.Transaction({signerId:E,publicKey:g,nonce:y,receiverId:m,actions:h,blockHash:_})}u.createTransaction=l},72864:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.buildDelegateAction=u.DelegateAction=void 0;const f=x(85918);class l extends f.Assignable{}u.DelegateAction=l;function E({actions:g,maxBlockHeight:m,nonce:y,publicKey:h,receiverId:_,senderId:S}){return new l({senderId:S,receiverId:_,actions:g,nonce:y,maxBlockHeight:m,publicKey:h})}u.buildDelegateAction=E},7782:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(E,g,m,y){y===void 0&&(y=m);var h=Object.getOwnPropertyDescriptor(g,m);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(E,y,h)}:function(E,g,m,y){y===void 0&&(y=m),E[y]=g[m]}),l=this&&this.__exportStar||function(E,g){for(var m in E)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&f(g,E,m)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(48788),u),l(x(7632),u),l(x(51084),u),l(x(72864),u),l(x(56855),u),l(x(65086),u),l(x(6409),u)},59659:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DelegateActionPrefix=void 0;const f=x(85918),l=Math.pow(2,30),E={MetaTransactions:366};class g extends f.Assignable{}class m extends g{constructor(_){super({prefix:l+_})}}class y extends m{constructor(){super(E.MetaTransactions)}}u.DelegateActionPrefix=y},56855:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SCHEMA=u.SignedTransaction=u.Transaction=u.decodeSignedTransaction=u.decodeTransaction=u.encodeTransaction=u.encodeSignedDelegate=u.encodeDelegateAction=void 0;const f=x(38369),l=x(85918),E=x(48797),g=x(7632),m=x(72864),y=x(59659),h=x(6409);function _(D){return new Uint8Array([...(0,E.serialize)(u.SCHEMA,new y.DelegateActionPrefix),...(0,E.serialize)(u.SCHEMA,D)])}u.encodeDelegateAction=_;function S(D){return(0,E.serialize)(u.SCHEMA,D)}u.encodeSignedDelegate=S;function I(D){return(0,E.serialize)(u.SCHEMA,D)}u.encodeTransaction=I;function P(D){return(0,E.deserialize)(u.SCHEMA,w,D)}u.decodeTransaction=P;function C(D){return(0,E.deserialize)(u.SCHEMA,U,D)}u.decodeSignedTransaction=C;class w extends l.Assignable{encode(){return I(this)}static decode($){return P($)}}u.Transaction=w;class U extends l.Assignable{encode(){return I(this)}static decode($){return C($)}}u.SignedTransaction=U,u.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[U,{kind:"struct",fields:[["transaction",w],["signature",h.Signature]]}],[w,{kind:"struct",fields:[["signerId","string"],["publicKey",f.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[g.Action]]]}],[f.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[g.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",g.AccessKeyPermission]]}],[g.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",g.FunctionCallPermission],["fullAccess",g.FullAccessPermission]]}],[g.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[g.FullAccessPermission,{kind:"struct",fields:[]}],[g.Action,{kind:"enum",field:"enum",values:[["createAccount",g.CreateAccount],["deployContract",g.DeployContract],["functionCall",g.FunctionCall],["transfer",g.Transfer],["stake",g.Stake],["addKey",g.AddKey],["deleteKey",g.DeleteKey],["deleteAccount",g.DeleteAccount],["signedDelegate",g.SignedDelegate]]}],[g.CreateAccount,{kind:"struct",fields:[]}],[g.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[g.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[g.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[g.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",f.PublicKey]]}],[g.AddKey,{kind:"struct",fields:[["publicKey",f.PublicKey],["accessKey",g.AccessKey]]}],[g.DeleteKey,{kind:"struct",fields:[["publicKey",f.PublicKey]]}],[g.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[m.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[g.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",f.PublicKey]]}],[y.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[g.SignedDelegate,{kind:"struct",fields:[["delegateAction",m.DelegateAction],["signature",h.Signature]]}]])},65086:function(B,u,x){"use strict";var f=this&&this.__awaiter||function(P,C,w,U){function D($){return $ instanceof w?$:new w(function(ee){ee($)})}return new(w||(w=Promise))(function($,ee){function Y(te){try{W(U.next(te))}catch(X){ee(X)}}function ye(te){try{W(U.throw(te))}catch(X){ee(X)}}function W(te){te.done?$(te.value):D(te.value).then(Y,ye)}W((U=U.apply(P,C||[])).next())})},l=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(u,"__esModule",{value:!0}),u.signDelegateAction=u.signTransaction=void 0;const E=l(x(3541)),g=x(7632),m=x(51084),y=x(56855),h=x(6409);function _(P,C,w,U){return f(this,void 0,void 0,function*(){const D=(0,y.encodeTransaction)(P),$=new Uint8Array(E.default.sha256.array(D)),ee=yield C.signMessage(D,w,U),Y=new y.SignedTransaction({transaction:P,signature:new h.Signature({keyType:P.publicKey.keyType,data:ee.signature})});return[$,Y]})}function S(...P){return f(this,void 0,void 0,function*(){if(P[0].constructor===y.Transaction){const[C,w,U,D]=P;return _(C,w,U,D)}else{const[C,w,U,D,$,ee,Y]=P,ye=yield $.getPublicKey(ee,Y),W=(0,m.createTransaction)(ee,ye,C,w,U,D);return _(W,$,ee,Y)}})}u.signTransaction=S;function I({delegateAction:P,signer:C}){return f(this,void 0,void 0,function*(){const w=(0,y.encodeDelegateAction)(P),U=yield C.sign(w),D=new g.SignedDelegate({delegateAction:P,signature:new h.Signature({keyType:P.publicKey.keyType,data:U})});return{hash:new Uint8Array(E.default.sha256.array(w)),signedDelegateAction:D}})}u.signDelegateAction=I},6409:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Signature=void 0;const f=x(85918);class l extends f.Assignable{}u.Signature=l},99491:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(l){Object.keys(l).map(E=>{this[E]=l[E]})}}u.Assignable=x},84770:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class f extends Error{constructor(m,y,h){super(`Expected ${y} for '${m}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=f;class l extends Error{constructor(m,y,h){super(m),this.type=y||"UntypedError",this.context=h}}u.TypedError=l;class E{constructor(m){this.transactionHash=m}}u.ErrorContext=E},95036:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(E,g,m,y){y===void 0&&(y=m);var h=Object.getOwnPropertyDescriptor(g,m);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(E,y,h)}:function(E,g,m,y){y===void 0&&(y=m),E[y]=g[m]}),l=this&&this.__exportStar||function(E,g){for(var m in E)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&f(g,E,m)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(99491),u),l(x(84770),u),l(x(61721),u)},61721:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var f=x(88297);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return f.IdType}});var l=x(20862);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return l.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return l.FinalExecutionStatusBasic}})},88297:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},20862:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(l){l.Unknown="Unknown",l.Pending="Pending",l.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var f;(function(l){l.NotStarted="NotStarted",l.Started="Started",l.Failure="Failure"})(f=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},94510:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(l){Object.keys(l).map(E=>{this[E]=l[E]})}}u.Assignable=x},65499:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class f extends Error{constructor(m,y,h){super(`Expected ${y} for '${m}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=f;class l extends Error{constructor(m,y,h){super(m),this.type=y||"UntypedError",this.context=h}}u.TypedError=l;class E{constructor(m){this.transactionHash=m}}u.ErrorContext=E},85918:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(E,g,m,y){y===void 0&&(y=m);var h=Object.getOwnPropertyDescriptor(g,m);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(E,y,h)}:function(E,g,m,y){y===void 0&&(y=m),E[y]=g[m]}),l=this&&this.__exportStar||function(E,g){for(var m in E)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&f(g,E,m)};Object.defineProperty(u,"__esModule",{value:!0}),l(x(94510),u),l(x(65499),u),l(x(90835),u)},90835:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var f=x(42164);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return f.IdType}});var l=x(6595);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return l.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return l.FinalExecutionStatusBasic}})},42164:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},6595:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(l){l.Unknown="Unknown",l.Pending="Pending",l.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var f;(function(l){l.NotStarted="NotStarted",l.Started="Started",l.Failure="Failure"})(f=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},69031:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.output=u.exists=u.hash=u.bytes=u.bool=u.number=void 0;function x(h){if(!Number.isSafeInteger(h)||h<0)throw new Error(`Wrong positive integer: ${h}`)}u.number=x;function f(h){if(typeof h!="boolean")throw new Error(`Expected boolean, not ${h}`)}u.bool=f;function l(h,..._){if(!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length>0&&!_.includes(h.length))throw new TypeError(`Expected Uint8Array of length ${_}, not of length=${h.length}`)}u.bytes=l;function E(h){if(typeof h!="function"||typeof h.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x(h.outputLen),x(h.blockLen)}u.hash=E;function g(h,_=!0){if(h.destroyed)throw new Error("Hash instance has been destroyed");if(_&&h.finished)throw new Error("Hash#digest() has already been called")}u.exists=g;function m(h,_){l(h);const S=_.outputLen;if(h.length<S)throw new Error(`digestInto() expects output buffer of length at least ${S}`)}u.output=m;const y={number:x,bool:f,bytes:l,hash:E,exists:g,output:m};u.default=y},52606:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SHA2=void 0;const f=x(69031),l=x(17767);function E(m,y,h,_){if(typeof m.setBigUint64=="function")return m.setBigUint64(y,h,_);const S=BigInt(32),I=BigInt(4294967295),P=Number(h>>S&I),C=Number(h&I),w=_?4:0,U=_?0:4;m.setUint32(y+w,P,_),m.setUint32(y+U,C,_)}class g extends l.Hash{constructor(y,h,_,S){super(),this.blockLen=y,this.outputLen=h,this.padOffset=_,this.isLE=S,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(y),this.view=(0,l.createView)(this.buffer)}update(y){f.default.exists(this);const{view:h,buffer:_,blockLen:S}=this;y=(0,l.toBytes)(y);const I=y.length;for(let P=0;P<I;){const C=Math.min(S-this.pos,I-P);if(C===S){const w=(0,l.createView)(y);for(;S<=I-P;P+=S)this.process(w,P);continue}_.set(y.subarray(P,P+C),this.pos),this.pos+=C,P+=C,this.pos===S&&(this.process(h,0),this.pos=0)}return this.length+=y.length,this.roundClean(),this}digestInto(y){f.default.exists(this),f.default.output(y,this),this.finished=!0;const{buffer:h,view:_,blockLen:S,isLE:I}=this;let{pos:P}=this;h[P++]=128,this.buffer.subarray(P).fill(0),this.padOffset>S-P&&(this.process(_,0),P=0);for(let w=P;w<S;w++)h[w]=0;E(_,S-8,BigInt(this.length*8),I),this.process(_,0);const C=(0,l.createView)(y);this.get().forEach((w,U)=>C.setUint32(4*U,w,I))}digest(){const{buffer:y,outputLen:h}=this;this.digestInto(y);const _=y.slice(0,h);return this.destroy(),_}_cloneInto(y){y||(y=new this.constructor),y.set(...this.get());const{blockLen:h,buffer:_,length:S,finished:I,destroyed:P,pos:C}=this;return y.length=S,y.pos=C,y.finished=I,y.destroyed=P,S%h&&y.buffer.set(_),y}}u.SHA2=g},59561:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.add=u.toBig=u.split=u.fromBig=void 0;const x=BigInt(2**32-1),f=BigInt(32);function l(xe,ve=!1){return ve?{h:Number(xe&x),l:Number(xe>>f&x)}:{h:Number(xe>>f&x)|0,l:Number(xe&x)|0}}u.fromBig=l;function E(xe,ve=!1){let F=new Uint32Array(xe.length),ne=new Uint32Array(xe.length);for(let re=0;re<xe.length;re++){const{h:he,l:Re}=l(xe[re],ve);[F[re],ne[re]]=[he,Re]}return[F,ne]}u.split=E;const g=(xe,ve)=>BigInt(xe>>>0)<<f|BigInt(ve>>>0);u.toBig=g;const m=(xe,ve,F)=>xe>>>F,y=(xe,ve,F)=>xe<<32-F|ve>>>F,h=(xe,ve,F)=>xe>>>F|ve<<32-F,_=(xe,ve,F)=>xe<<32-F|ve>>>F,S=(xe,ve,F)=>xe<<64-F|ve>>>F-32,I=(xe,ve,F)=>xe>>>F-32|ve<<64-F,P=(xe,ve)=>ve,C=(xe,ve)=>xe,w=(xe,ve,F)=>xe<<F|ve>>>32-F,U=(xe,ve,F)=>ve<<F|xe>>>32-F,D=(xe,ve,F)=>ve<<F-32|xe>>>64-F,$=(xe,ve,F)=>xe<<F-32|ve>>>64-F;function ee(xe,ve,F,ne){const re=(ve>>>0)+(ne>>>0);return{h:xe+F+(re/2**32|0)|0,l:re|0}}u.add=ee;const Y=(xe,ve,F)=>(xe>>>0)+(ve>>>0)+(F>>>0),ye=(xe,ve,F,ne)=>ve+F+ne+(xe/2**32|0)|0,W=(xe,ve,F,ne)=>(xe>>>0)+(ve>>>0)+(F>>>0)+(ne>>>0),te=(xe,ve,F,ne,re)=>ve+F+ne+re+(xe/2**32|0)|0,X=(xe,ve,F,ne,re)=>(xe>>>0)+(ve>>>0)+(F>>>0)+(ne>>>0)+(re>>>0),de=(xe,ve,F,ne,re,he)=>ve+F+ne+re+he+(xe/2**32|0)|0,Te={fromBig:l,split:E,toBig:u.toBig,shrSH:m,shrSL:y,rotrSH:h,rotrSL:_,rotrBH:S,rotrBL:I,rotr32H:P,rotr32L:C,rotlSH:w,rotlSL:U,rotlBH:D,rotlBL:$,add:ee,add3L:Y,add3H:ye,add4L:W,add4H:te,add5H:de,add5L:X};u.default=Te},31215:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.crypto=void 0,u.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}},18023:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.hmac=void 0;const f=x(69031),l=x(17767);class E extends l.Hash{constructor(y,h){super(),this.finished=!1,this.destroyed=!1,f.default.hash(y);const _=(0,l.toBytes)(h);if(this.iHash=y.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const S=this.blockLen,I=new Uint8Array(S);I.set(_.length>S?y.create().update(_).digest():_);for(let P=0;P<I.length;P++)I[P]^=54;this.iHash.update(I),this.oHash=y.create();for(let P=0;P<I.length;P++)I[P]^=106;this.oHash.update(I),I.fill(0)}update(y){return f.default.exists(this),this.iHash.update(y),this}digestInto(y){f.default.exists(this),f.default.bytes(y,this.outputLen),this.finished=!0,this.iHash.digestInto(y),this.oHash.update(y),this.oHash.digestInto(y),this.destroy()}digest(){const y=new Uint8Array(this.oHash.outputLen);return this.digestInto(y),y}_cloneInto(y){y||(y=Object.create(Object.getPrototypeOf(this),{}));const{oHash:h,iHash:_,finished:S,destroyed:I,blockLen:P,outputLen:C}=this;return y=y,y.finished=S,y.destroyed=I,y.blockLen=P,y.outputLen=C,y.oHash=h._cloneInto(y.oHash),y.iHash=_._cloneInto(y.iHash),y}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const g=(m,y,h)=>new E(m,y).update(h).digest();u.hmac=g,u.hmac.create=(m,y)=>new E(m,y)},53122:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pbkdf2Async=u.pbkdf2=void 0;const f=x(69031),l=x(18023),E=x(17767);function g(_,S,I,P){f.default.hash(_);const C=(0,E.checkOpts)({dkLen:32,asyncTick:10},P),{c:w,dkLen:U,asyncTick:D}=C;if(f.default.number(w),f.default.number(U),f.default.number(D),w<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const $=(0,E.toBytes)(S),ee=(0,E.toBytes)(I),Y=new Uint8Array(U),ye=l.hmac.create(_,$),W=ye._cloneInto().update(ee);return{c:w,dkLen:U,asyncTick:D,DK:Y,PRF:ye,PRFSalt:W}}function m(_,S,I,P,C){return _.destroy(),S.destroy(),P&&P.destroy(),C.fill(0),I}function y(_,S,I,P){const{c:C,dkLen:w,DK:U,PRF:D,PRFSalt:$}=g(_,S,I,P);let ee;const Y=new Uint8Array(4),ye=(0,E.createView)(Y),W=new Uint8Array(D.outputLen);for(let te=1,X=0;X<w;te++,X+=D.outputLen){const de=U.subarray(X,X+D.outputLen);ye.setInt32(0,te,!1),(ee=$._cloneInto(ee)).update(Y).digestInto(W),de.set(W.subarray(0,de.length));for(let Te=1;Te<C;Te++){D._cloneInto(ee).update(W).digestInto(W);for(let xe=0;xe<de.length;xe++)de[xe]^=W[xe]}}return m(D,$,U,ee,W)}u.pbkdf2=y;async function h(_,S,I,P){const{c:C,dkLen:w,asyncTick:U,DK:D,PRF:$,PRFSalt:ee}=g(_,S,I,P);let Y;const ye=new Uint8Array(4),W=(0,E.createView)(ye),te=new Uint8Array($.outputLen);for(let X=1,de=0;de<w;X++,de+=$.outputLen){const Te=D.subarray(de,de+$.outputLen);W.setInt32(0,X,!1),(Y=ee._cloneInto(Y)).update(ye).digestInto(te),Te.set(te.subarray(0,Te.length)),await(0,E.asyncLoop)(C-1,U,xe=>{$._cloneInto(Y).update(te).digestInto(te);for(let ve=0;ve<Te.length;ve++)Te[ve]^=te[ve]})}return m($,ee,D,Y,te)}u.pbkdf2Async=h},34357:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha256=void 0;const f=x(52606),l=x(17767),E=(S,I,P)=>S&I^~S&P,g=(S,I,P)=>S&I^S&P^I&P,m=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class _ extends f.SHA2{constructor(){super(64,32,8,!1),this.A=y[0]|0,this.B=y[1]|0,this.C=y[2]|0,this.D=y[3]|0,this.E=y[4]|0,this.F=y[5]|0,this.G=y[6]|0,this.H=y[7]|0}get(){const{A:I,B:P,C,D:w,E:U,F:D,G:$,H:ee}=this;return[I,P,C,w,U,D,$,ee]}set(I,P,C,w,U,D,$,ee){this.A=I|0,this.B=P|0,this.C=C|0,this.D=w|0,this.E=U|0,this.F=D|0,this.G=$|0,this.H=ee|0}process(I,P){for(let W=0;W<16;W++,P+=4)h[W]=I.getUint32(P,!1);for(let W=16;W<64;W++){const te=h[W-15],X=h[W-2],de=(0,l.rotr)(te,7)^(0,l.rotr)(te,18)^te>>>3,Te=(0,l.rotr)(X,17)^(0,l.rotr)(X,19)^X>>>10;h[W]=Te+h[W-7]+de+h[W-16]|0}let{A:C,B:w,C:U,D,E:$,F:ee,G:Y,H:ye}=this;for(let W=0;W<64;W++){const te=(0,l.rotr)($,6)^(0,l.rotr)($,11)^(0,l.rotr)($,25),X=ye+te+E($,ee,Y)+m[W]+h[W]|0,Te=((0,l.rotr)(C,2)^(0,l.rotr)(C,13)^(0,l.rotr)(C,22))+g(C,w,U)|0;ye=Y,Y=ee,ee=$,$=D+X|0,D=U,U=w,w=C,C=X+Te|0}C=C+this.A|0,w=w+this.B|0,U=U+this.C|0,D=D+this.D|0,$=$+this.E|0,ee=ee+this.F|0,Y=Y+this.G|0,ye=ye+this.H|0,this.set(C,w,U,D,$,ee,Y,ye)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}u.sha256=(0,l.wrapConstructor)(()=>new _)},54878:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha384=u.sha512_256=u.sha512=u.SHA512=void 0;const f=x(52606),l=x(59561),E=x(17767),[g,m]=l.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(P=>BigInt(P))),y=new Uint32Array(80),h=new Uint32Array(80);class _ extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:C,Al:w,Bh:U,Bl:D,Ch:$,Cl:ee,Dh:Y,Dl:ye,Eh:W,El:te,Fh:X,Fl:de,Gh:Te,Gl:xe,Hh:ve,Hl:F}=this;return[C,w,U,D,$,ee,Y,ye,W,te,X,de,Te,xe,ve,F]}set(C,w,U,D,$,ee,Y,ye,W,te,X,de,Te,xe,ve,F){this.Ah=C|0,this.Al=w|0,this.Bh=U|0,this.Bl=D|0,this.Ch=$|0,this.Cl=ee|0,this.Dh=Y|0,this.Dl=ye|0,this.Eh=W|0,this.El=te|0,this.Fh=X|0,this.Fl=de|0,this.Gh=Te|0,this.Gl=xe|0,this.Hh=ve|0,this.Hl=F|0}process(C,w){for(let he=0;he<16;he++,w+=4)y[he]=C.getUint32(w),h[he]=C.getUint32(w+=4);for(let he=16;he<80;he++){const Re=y[he-15]|0,Se=h[he-15]|0,V=l.default.rotrSH(Re,Se,1)^l.default.rotrSH(Re,Se,8)^l.default.shrSH(Re,Se,7),M=l.default.rotrSL(Re,Se,1)^l.default.rotrSL(Re,Se,8)^l.default.shrSL(Re,Se,7),z=y[he-2]|0,ae=h[he-2]|0,H=l.default.rotrSH(z,ae,19)^l.default.rotrBH(z,ae,61)^l.default.shrSH(z,ae,6),J=l.default.rotrSL(z,ae,19)^l.default.rotrBL(z,ae,61)^l.default.shrSL(z,ae,6),Ee=l.default.add4L(M,J,h[he-7],h[he-16]),We=l.default.add4H(Ee,V,H,y[he-7],y[he-16]);y[he]=We|0,h[he]=Ee|0}let{Ah:U,Al:D,Bh:$,Bl:ee,Ch:Y,Cl:ye,Dh:W,Dl:te,Eh:X,El:de,Fh:Te,Fl:xe,Gh:ve,Gl:F,Hh:ne,Hl:re}=this;for(let he=0;he<80;he++){const Re=l.default.rotrSH(X,de,14)^l.default.rotrSH(X,de,18)^l.default.rotrBH(X,de,41),Se=l.default.rotrSL(X,de,14)^l.default.rotrSL(X,de,18)^l.default.rotrBL(X,de,41),V=X&Te^~X&ve,M=de&xe^~de&F,z=l.default.add5L(re,Se,M,m[he],h[he]),ae=l.default.add5H(z,ne,Re,V,g[he],y[he]),H=z|0,J=l.default.rotrSH(U,D,28)^l.default.rotrBH(U,D,34)^l.default.rotrBH(U,D,39),Ee=l.default.rotrSL(U,D,28)^l.default.rotrBL(U,D,34)^l.default.rotrBL(U,D,39),We=U&$^U&Y^$&Y,Pe=D&ee^D&ye^ee&ye;ne=ve|0,re=F|0,ve=Te|0,F=xe|0,Te=X|0,xe=de|0,{h:X,l:de}=l.default.add(W|0,te|0,ae|0,H|0),W=Y|0,te=ye|0,Y=$|0,ye=ee|0,$=U|0,ee=D|0;const He=l.default.add3L(H,Ee,Pe);U=l.default.add3H(He,ae,J,We),D=He|0}({h:U,l:D}=l.default.add(this.Ah|0,this.Al|0,U|0,D|0)),{h:$,l:ee}=l.default.add(this.Bh|0,this.Bl|0,$|0,ee|0),{h:Y,l:ye}=l.default.add(this.Ch|0,this.Cl|0,Y|0,ye|0),{h:W,l:te}=l.default.add(this.Dh|0,this.Dl|0,W|0,te|0),{h:X,l:de}=l.default.add(this.Eh|0,this.El|0,X|0,de|0),{h:Te,l:xe}=l.default.add(this.Fh|0,this.Fl|0,Te|0,xe|0),{h:ve,l:F}=l.default.add(this.Gh|0,this.Gl|0,ve|0,F|0),{h:ne,l:re}=l.default.add(this.Hh|0,this.Hl|0,ne|0,re|0),this.set(U,D,$,ee,Y,ye,W,te,X,de,Te,xe,ve,F,ne,re)}roundClean(){y.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}u.SHA512=_;class S extends _{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends _{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}u.sha512=(0,E.wrapConstructor)(()=>new _),u.sha512_256=(0,E.wrapConstructor)(()=>new S),u.sha384=(0,E.wrapConstructor)(()=>new I)},17767:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.randomBytes=u.wrapConstructorWithOpts=u.wrapConstructor=u.checkOpts=u.Hash=u.concatBytes=u.toBytes=u.utf8ToBytes=u.asyncLoop=u.nextTick=u.hexToBytes=u.bytesToHex=u.isLE=u.rotr=u.createView=u.u32=u.u8=void 0;const f=x(31215),l=W=>new Uint8Array(W.buffer,W.byteOffset,W.byteLength);u.u8=l;const E=W=>new Uint32Array(W.buffer,W.byteOffset,Math.floor(W.byteLength/4));u.u32=E;const g=W=>new DataView(W.buffer,W.byteOffset,W.byteLength);u.createView=g;const m=(W,te)=>W<<32-te|W>>>te;if(u.rotr=m,u.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!u.isLE)throw new Error("Non little-endian hardware is not supported");const y=Array.from({length:256},(W,te)=>te.toString(16).padStart(2,"0"));function h(W){if(!(W instanceof Uint8Array))throw new Error("Uint8Array expected");let te="";for(let X=0;X<W.length;X++)te+=y[W[X]];return te}u.bytesToHex=h;function _(W){if(typeof W!="string")throw new TypeError("hexToBytes: expected string, got "+typeof W);if(W.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const te=new Uint8Array(W.length/2);for(let X=0;X<te.length;X++){const de=X*2,Te=W.slice(de,de+2),xe=Number.parseInt(Te,16);if(Number.isNaN(xe)||xe<0)throw new Error("Invalid byte sequence");te[X]=xe}return te}u.hexToBytes=_;const S=async()=>{};u.nextTick=S;async function I(W,te,X){let de=Date.now();for(let Te=0;Te<W;Te++){X(Te);const xe=Date.now()-de;xe>=0&&xe<te||(await(0,u.nextTick)(),de+=xe)}}u.asyncLoop=I;function P(W){if(typeof W!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof W}`);return new TextEncoder().encode(W)}u.utf8ToBytes=P;function C(W){if(typeof W=="string"&&(W=P(W)),!(W instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof W})`);return W}u.toBytes=C;function w(...W){if(!W.every(de=>de instanceof Uint8Array))throw new Error("Uint8Array list expected");if(W.length===1)return W[0];const te=W.reduce((de,Te)=>de+Te.length,0),X=new Uint8Array(te);for(let de=0,Te=0;de<W.length;de++){const xe=W[de];X.set(xe,Te),Te+=xe.length}return X}u.concatBytes=w;class U{clone(){return this._cloneInto()}}u.Hash=U;const D=W=>Object.prototype.toString.call(W)==="[object Object]"&&W.constructor===Object;function $(W,te){if(te!==void 0&&(typeof te!="object"||!D(te)))throw new TypeError("Options should be object or undefined");return Object.assign(W,te)}u.checkOpts=$;function ee(W){const te=de=>W().update(C(de)).digest(),X=W();return te.outputLen=X.outputLen,te.blockLen=X.blockLen,te.create=()=>W(),te}u.wrapConstructor=ee;function Y(W){const te=(de,Te)=>W(Te).update(C(de)).digest(),X=W({});return te.outputLen=X.outputLen,te.blockLen=X.blockLen,te.create=de=>W(de),te}u.wrapConstructorWithOpts=Y;function ye(W=32){if(f.crypto.web)return f.crypto.web.getRandomValues(new Uint8Array(W));if(f.crypto.node)return new Uint8Array(f.crypto.node.randomBytes(W).buffer);throw new Error("The environment doesn't have randomBytes function")}u.randomBytes=ye},40214:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bytes=u.stringToBytes=u.str=u.bytesToString=u.hex=u.utf8=u.bech32m=u.bech32=u.base58check=u.createBase58check=u.base58xmr=u.base58xrp=u.base58flickr=u.base58=u.base64urlnopad=u.base64url=u.base64=u.base32crockford=u.base32hex=u.base32=u.base16=u.utils=u.assertNumber=void 0;function x(F){if(!Number.isSafeInteger(F))throw new Error(`Wrong integer: ${F}`)}u.assertNumber=x;function f(F){return F instanceof Uint8Array||F!=null&&typeof F=="object"&&F.constructor.name==="Uint8Array"}function l(...F){const ne=Se=>Se,re=(Se,V)=>M=>Se(V(M)),he=F.map(Se=>Se.encode).reduceRight(re,ne),Re=F.map(Se=>Se.decode).reduce(re,ne);return{encode:he,decode:Re}}function E(F){return{encode:ne=>{if(!Array.isArray(ne)||ne.length&&typeof ne[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return ne.map(re=>{if(x(re),re<0||re>=F.length)throw new Error(`Digit index outside alphabet: ${re} (alphabet: ${F.length})`);return F[re]})},decode:ne=>{if(!Array.isArray(ne)||ne.length&&typeof ne[0]!="string")throw new Error("alphabet.decode input should be array of strings");return ne.map(re=>{if(typeof re!="string")throw new Error(`alphabet.decode: not string element=${re}`);const he=F.indexOf(re);if(he===-1)throw new Error(`Unknown letter: "${re}". Allowed: ${F}`);return he})}}}function g(F=""){if(typeof F!="string")throw new Error("join separator should be string");return{encode:ne=>{if(!Array.isArray(ne)||ne.length&&typeof ne[0]!="string")throw new Error("join.encode input should be array of strings");for(let re of ne)if(typeof re!="string")throw new Error(`join.encode: non-string input=${re}`);return ne.join(F)},decode:ne=>{if(typeof ne!="string")throw new Error("join.decode input should be string");return ne.split(F)}}}function m(F,ne="="){if(x(F),typeof ne!="string")throw new Error("padding chr should be string");return{encode(re){if(!Array.isArray(re)||re.length&&typeof re[0]!="string")throw new Error("padding.encode input should be array of strings");for(let he of re)if(typeof he!="string")throw new Error(`padding.encode: non-string input=${he}`);for(;re.length*F%8;)re.push(ne);return re},decode(re){if(!Array.isArray(re)||re.length&&typeof re[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Re of re)if(typeof Re!="string")throw new Error(`padding.decode: non-string input=${Re}`);let he=re.length;if(he*F%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;he>0&&re[he-1]===ne;he--)if(!((he-1)*F%8))throw new Error("Invalid padding: string has too much padding");return re.slice(0,he)}}}function y(F){if(typeof F!="function")throw new Error("normalize fn should be function");return{encode:ne=>ne,decode:ne=>F(ne)}}function h(F,ne,re){if(ne<2)throw new Error(`convertRadix: wrong from=${ne}, base cannot be less than 2`);if(re<2)throw new Error(`convertRadix: wrong to=${re}, base cannot be less than 2`);if(!Array.isArray(F))throw new Error("convertRadix: data should be array");if(!F.length)return[];let he=0;const Re=[],Se=Array.from(F);for(Se.forEach(V=>{if(x(V),V<0||V>=ne)throw new Error(`Wrong integer: ${V}`)});;){let V=0,M=!0;for(let z=he;z<Se.length;z++){const ae=Se[z],H=ne*V+ae;if(!Number.isSafeInteger(H)||ne*V/ne!==V||H-ae!==ne*V)throw new Error("convertRadix: carry overflow");V=H%re;const J=Math.floor(H/re);if(Se[z]=J,!Number.isSafeInteger(J)||J*re+V!==H)throw new Error("convertRadix: carry overflow");if(M)J?M=!1:he=z;else continue}if(Re.push(V),M)break}for(let V=0;V<F.length-1&&F[V]===0;V++)Re.push(0);return Re.reverse()}const _=(F,ne)=>ne?_(ne,F%ne):F,S=(F,ne)=>F+(ne-_(F,ne));function I(F,ne,re,he){if(!Array.isArray(F))throw new Error("convertRadix2: data should be array");if(ne<=0||ne>32)throw new Error(`convertRadix2: wrong from=${ne}`);if(re<=0||re>32)throw new Error(`convertRadix2: wrong to=${re}`);if(S(ne,re)>32)throw new Error(`convertRadix2: carry overflow from=${ne} to=${re} carryBits=${S(ne,re)}`);let Re=0,Se=0;const V=2**re-1,M=[];for(const z of F){if(x(z),z>=2**ne)throw new Error(`convertRadix2: invalid data word=${z} from=${ne}`);if(Re=Re<<ne|z,Se+ne>32)throw new Error(`convertRadix2: carry overflow pos=${Se} from=${ne}`);for(Se+=ne;Se>=re;Se-=re)M.push((Re>>Se-re&V)>>>0);Re&=2**Se-1}if(Re=Re<<re-Se&V,!he&&Se>=ne)throw new Error("Excess padding");if(!he&&Re)throw new Error(`Non-zero padding: ${Re}`);return he&&Se>0&&M.push(Re>>>0),M}function P(F){return x(F),{encode:ne=>{if(!f(ne))throw new Error("radix.encode input should be Uint8Array");return h(Array.from(ne),2**8,F)},decode:ne=>{if(!Array.isArray(ne)||ne.length&&typeof ne[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(h(ne,F,2**8))}}}function C(F,ne=!1){if(x(F),F<=0||F>32)throw new Error("radix2: bits should be in (0..32]");if(S(8,F)>32||S(F,8)>32)throw new Error("radix2: carry overflow");return{encode:re=>{if(!f(re))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(re),8,F,!ne)},decode:re=>{if(!Array.isArray(re)||re.length&&typeof re[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(I(re,F,8,ne))}}}function w(F){if(typeof F!="function")throw new Error("unsafeWrapper fn should be function");return function(...ne){try{return F.apply(null,ne)}catch{}}}function U(F,ne){if(x(F),typeof ne!="function")throw new Error("checksum fn should be function");return{encode(re){if(!f(re))throw new Error("checksum.encode: input should be Uint8Array");const he=ne(re).slice(0,F),Re=new Uint8Array(re.length+F);return Re.set(re),Re.set(he,re.length),Re},decode(re){if(!f(re))throw new Error("checksum.decode: input should be Uint8Array");const he=re.slice(0,-F),Re=ne(he).slice(0,F),Se=re.slice(-F);for(let V=0;V<F;V++)if(Re[V]!==Se[V])throw new Error("Invalid checksum");return he}}}u.utils={alphabet:E,chain:l,checksum:U,convertRadix:h,convertRadix2:I,radix:P,radix2:C,join:g,padding:m},u.base16=l(C(4),E("0123456789ABCDEF"),g("")),u.base32=l(C(5),E("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),m(5),g("")),u.base32hex=l(C(5),E("0123456789ABCDEFGHIJKLMNOPQRSTUV"),m(5),g("")),u.base32crockford=l(C(5),E("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),g(""),y(F=>F.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),u.base64=l(C(6),E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),m(6),g("")),u.base64url=l(C(6),E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),m(6),g("")),u.base64urlnopad=l(C(6),E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(""));const D=F=>l(P(58),E(F),g(""));u.base58=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),u.base58flickr=D("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),u.base58xrp=D("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const $=[0,2,3,5,6,7,9,10,11];u.base58xmr={encode(F){let ne="";for(let re=0;re<F.length;re+=8){const he=F.subarray(re,re+8);ne+=u.base58.encode(he).padStart($[he.length],"1")}return ne},decode(F){let ne=[];for(let re=0;re<F.length;re+=11){const he=F.slice(re,re+11),Re=$.indexOf(he.length),Se=u.base58.decode(he);for(let V=0;V<Se.length-Re;V++)if(Se[V]!==0)throw new Error("base58xmr: wrong padding");ne=ne.concat(Array.from(Se.slice(Se.length-Re)))}return Uint8Array.from(ne)}};const ee=F=>l(U(4,ne=>F(F(ne))),u.base58);u.createBase58check=ee,u.base58check=u.createBase58check;const Y=l(E("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),g("")),ye=[996825010,642813549,513874426,1027748829,705979059];function W(F){const ne=F>>25;let re=(F&33554431)<<5;for(let he=0;he<ye.length;he++)(ne>>he&1)===1&&(re^=ye[he]);return re}function te(F,ne,re=1){const he=F.length;let Re=1;for(let Se=0;Se<he;Se++){const V=F.charCodeAt(Se);if(V<33||V>126)throw new Error(`Invalid prefix (${F})`);Re=W(Re)^V>>5}Re=W(Re);for(let Se=0;Se<he;Se++)Re=W(Re)^F.charCodeAt(Se)&31;for(let Se of ne)Re=W(Re)^Se;for(let Se=0;Se<6;Se++)Re=W(Re);return Re^=re,Y.encode(I([Re%2**30],30,5,!1))}function X(F){const ne=F==="bech32"?1:734539939,re=C(5),he=re.decode,Re=re.encode,Se=w(he);function V(H,J,Ee=90){if(typeof H!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof H}`);if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof J}`);const We=H.length+7+J.length;if(Ee!==!1&&We>Ee)throw new TypeError(`Length ${We} exceeds limit ${Ee}`);const Pe=H.toLowerCase(),He=te(Pe,J,ne);return`${Pe}1${Y.encode(J)}${He}`}function M(H,J=90){if(typeof H!="string")throw new Error(`bech32.decode input should be string, not ${typeof H}`);if(H.length<8||J!==!1&&H.length>J)throw new TypeError(`Wrong string length: ${H.length} (${H}). Expected (8..${J})`);const Ee=H.toLowerCase();if(H!==Ee&&H!==H.toUpperCase())throw new Error("String must be lowercase or uppercase");H=Ee;const We=H.lastIndexOf("1");if(We===0||We===-1)throw new Error('Letter "1" must be present between prefix and data only');const Pe=H.slice(0,We),He=H.slice(We+1);if(He.length<6)throw new Error("Data must be at least 6 characters long");const Ct=Y.decode(He).slice(0,-6),kt=te(Pe,Ct,ne);if(!He.endsWith(kt))throw new Error(`Invalid checksum in ${H}: expected "${kt}"`);return{prefix:Pe,words:Ct}}const z=w(M);function ae(H){const{prefix:J,words:Ee}=M(H,!1);return{prefix:J,words:Ee,bytes:he(Ee)}}return{encode:V,decode:M,decodeToBytes:ae,decodeUnsafe:z,fromWords:he,fromWordsUnsafe:Se,toWords:Re}}u.bech32=X("bech32"),u.bech32m=X("bech32m"),u.utf8={encode:F=>new TextDecoder().decode(F),decode:F=>new TextEncoder().encode(F)},u.hex=l(C(4),E("0123456789abcdef"),g(""),y(F=>{if(typeof F!="string"||F.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof F} with length ${F.length}`);return F.toLowerCase()}));const de={utf8:u.utf8,hex:u.hex,base16:u.base16,base32:u.base32,base64:u.base64,base64url:u.base64url,base58:u.base58,base58xmr:u.base58xmr},Te="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",xe=(F,ne)=>{if(typeof F!="string"||!de.hasOwnProperty(F))throw new TypeError(Te);if(!f(ne))throw new TypeError("bytesToString() expects Uint8Array");return de[F].encode(ne)};u.bytesToString=xe,u.str=u.bytesToString;const ve=(F,ne)=>{if(!de.hasOwnProperty(F))throw new TypeError(Te);if(typeof ne!="string")throw new TypeError("stringToBytes() expects string");return de[F].decode(ne)};u.stringToBytes=ve,u.bytes=u.stringToBytes},98316:function(B,u,x){"use strict";var f;f={value:!0},u.Z1=f=f=f=f=f=void 0;const l=x(69031),E=x(53122),g=x(34357),m=x(54878),y=x(17767),h=x(40214),_=te=>te[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function S(te){if(typeof te!="string")throw new TypeError(`Invalid mnemonic type: ${typeof te}`);return te.normalize("NFKD")}function I(te){const X=S(te),de=X.split(" ");if(![12,15,18,21,24].includes(de.length))throw new Error("Invalid mnemonic");return{nfkd:X,words:de}}function P(te){l.default.bytes(te,16,20,24,28,32)}function C(te,X=128){if(l.default.number(X),X%32!==0||X>256)throw new TypeError("Invalid entropy");return $((0,y.randomBytes)(X/8),te)}f=C;const w=te=>{const X=8-te.length/4;return new Uint8Array([(0,g.sha256)(te)[0]>>X<<X])};function U(te){if(!Array.isArray(te)||te.length!==2**11||typeof te[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return te.forEach(X=>{if(typeof X!="string")throw new Error(`Wordlist: non-string element: ${X}`)}),h.utils.chain(h.utils.checksum(1,w),h.utils.radix2(11,!0),h.utils.alphabet(te))}function D(te,X){const{words:de}=I(te),Te=U(X).decode(de);return P(Te),Te}f=D;function $(te,X){return P(te),U(X).encode(te).join(_(X)?"\u3000":" ")}f=$;function ee(te,X){try{D(te,X)}catch{return!1}return!0}f=ee;const Y=te=>S(`mnemonic${te}`);function ye(te,X=""){return(0,E.pbkdf2Async)(m.sha512,I(te).nfkd,Y(X),{c:2048,dkLen:64})}f=ye;function W(te,X=""){return(0,E.pbkdf2)(m.sha512,I(te).nfkd,Y(X),{c:2048,dkLen:64})}u.Z1=W},33649:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},14676:function(B,u,x){"use strict";var f=this&&this.__createBinding||(Object.create?function(g,m,y,h){h===void 0&&(h=y);var _=Object.getOwnPropertyDescriptor(m,y);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(g,h,_)}:function(g,m,y,h){h===void 0&&(h=y),g[h]=m[y]}),l=this&&this.__exportStar||function(g,m){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&f(m,g,y)};Object.defineProperty(u,"__esModule",{value:!0});const E=x(67301);u.default=E.PromisePool,l(x(33649),u),l(x(67301),u),l(x(17090),u),l(x(58059),u),l(x(23457),u),l(x(12559),u)},17090:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolError=void 0;class x extends Error{constructor(l,E){super(),this.raw=l,this.item=E,this.name=this.constructor.name,this.message=this.messageFrom(l),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(l,E){return new this(l,E)}messageFrom(l){return l instanceof Error||typeof l=="object"?l.message:typeof l=="string"||typeof l=="number"?l.toString():""}}u.PromisePoolError=x},26610:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolExecutor=void 0;const f=x(67301),l=x(17090),E=x(23457),g=x(12559);class m{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(h){if(!this.isValidConcurrency(h))throw g.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${h}" (${typeof h})`);return this.meta.concurrency=h,this}isValidConcurrency(h){return typeof h=="number"&&h>=1}withTaskTimeout(h){return this.meta.taskTimeout=h,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(h){return this.meta.shouldResultsCorrespond=h,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(h){return this.meta.items=h,this}items(){return this.meta.items}itemsCount(){const h=this.items();return Array.isArray(h)?h.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(h){return this.handler=h,this}hasErrorHandler(){return!!this.errorHandler}handleError(h){return this.errorHandler=h,this}onTaskStarted(h){return this.onTaskStartedHandlers=h,this}onTaskFinished(h){return this.onTaskFinishedHandlers=h,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new E.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw g.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const h=this.taskTimeout();if(!(h==null||typeof h=="number"&&h>=0))throw g.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(h)}" (${typeof h})`);if(!this.areItemsValid())throw g.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw g.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(_=>{if(_&&typeof _!="function")throw g.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof _}"`)}),this.onTaskFinishedHandlers.forEach(_=>{if(_&&typeof _!="function")throw g.ValidationError.createFrom(`The error handler must be a function. Received "${typeof _}"`)}),this}areItemsValid(){const h=this.items();return!!(Array.isArray(h)||typeof h[Symbol.iterator]=="function"||typeof h[Symbol.asyncIterator]=="function")}prepareResultsArray(){const h=this.items();return Array.isArray(h)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(h.length).fill(f.PromisePool.notRun),this):this:this}async process(){let h=0;for await(const _ of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[h]=f.PromisePool.notRun),this.startProcessing(_,h),h+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(h,_){const S=this.createTaskFor(h,_).then(I=>{this.save(I,_).removeActive(S)}).catch(async I=>{await this.handleErrorFor(I,h,_),this.removeActive(S)}).finally(()=>{this.processedItems().push(h),this.runOnTaskFinishedHandlers(h)});this.tasks().push(S),this.runOnTaskStartedHandlers(h)}async createTaskFor(h,_){if(this.taskTimeout()===void 0)return this.handler(h,_,this);const[S,I]=this.createTaskTimeout(h);return Promise.race([this.handler(h,_,this),S()]).finally(I)}createTaskTimeout(h){let _;return[async()=>new Promise((P,C)=>{_=setTimeout(()=>{C(new l.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,h))},this.taskTimeout())}),()=>clearTimeout(_)]}save(h,_){return this.shouldUseCorrespondingResults()?this.results()[_]=h:this.results().push(h),this}removeActive(h){return this.tasks().splice(this.tasks().indexOf(h),1),this}async handleErrorFor(h,_,S){if(this.shouldUseCorrespondingResults()&&(this.results()[S]=f.PromisePool.failed),!this.isStoppingThePoolError(h)){if(this.isValidationError(h))throw this.markAsStopped(),h;this.hasErrorHandler()?await this.runErrorHandlerFor(h,_):this.saveErrorFor(h,_)}}isStoppingThePoolError(h){return h instanceof E.StopThePromisePoolError}isValidationError(h){return h instanceof g.ValidationError}async runErrorHandlerFor(h,_){var S;try{await((S=this.errorHandler)==null?void 0:S.call(this,h,_,this))}catch(I){this.rethrowIfNotStoppingThePool(I)}}runOnTaskStartedHandlers(h){this.onTaskStartedHandlers.forEach(_=>{_(h,this)})}runOnTaskFinishedHandlers(h){this.onTaskFinishedHandlers.forEach(_=>{_(h,this)})}rethrowIfNotStoppingThePool(h){if(!this.isStoppingThePoolError(h))throw h}saveErrorFor(h,_){this.errors().push(l.PromisePoolError.createFrom(h,_))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}u.PromisePoolExecutor=m},67301:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePool=void 0;const f=x(26610);class l{constructor(g){this.timeout=void 0,this.concurrency=10,this.items=g??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(g){return this.concurrency=g,this}static withConcurrency(g){return new this().withConcurrency(g)}withTaskTimeout(g){return this.timeout=g,this}static withTaskTimeout(g){return new this().withTaskTimeout(g)}for(g){const m=new l(g).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&m.handleError(this.errorHandler),typeof this.timeout=="number"?m.withTaskTimeout(this.timeout):m}static for(g){return new this().for(g)}handleError(g){return this.errorHandler=g,this}onTaskStarted(g){return this.onTaskStartedHandlers.push(g),this}onTaskFinished(g){return this.onTaskFinishedHandlers.push(g),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(g){return new f.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(g).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}u.PromisePool=l,l.notRun=Symbol("notRun"),l.failed=Symbol("failed")},58059:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},23457:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StopThePromisePoolError=void 0;class x extends Error{}u.StopThePromisePoolError=x},12559:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationError=void 0;class x extends Error{constructor(l){super(l),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(l){return new this(l)}}u.ValidationError=x},39556:function(B){"use strict";(function(u){function x(M){return parseInt(M)===M}function f(M){if(!x(M.length))return!1;for(var z=0;z<M.length;z++)if(!x(M[z])||M[z]<0||M[z]>255)return!1;return!0}function l(M,z){if(M.buffer&&ArrayBuffer.isView(M)&&M.name==="Uint8Array")return z&&(M.slice?M=M.slice():M=Array.prototype.slice.call(M)),M;if(Array.isArray(M)){if(!f(M))throw new Error("Array contains invalid value: "+M);return new Uint8Array(M)}if(x(M.length)&&f(M))return new Uint8Array(M);throw new Error("unsupported array-like object")}function E(M){return new Uint8Array(M)}function g(M,z,ae,H,J){(H!=null||J!=null)&&(M.slice?M=M.slice(H,J):M=Array.prototype.slice.call(M,H,J)),z.set(M,ae)}var m=function(){function M(ae){var H=[],J=0;for(ae=encodeURI(ae);J<ae.length;){var Ee=ae.charCodeAt(J++);Ee===37?(H.push(parseInt(ae.substr(J,2),16)),J+=2):H.push(Ee)}return l(H)}function z(ae){for(var H=[],J=0;J<ae.length;){var Ee=ae[J];Ee<128?(H.push(String.fromCharCode(Ee)),J++):Ee>191&&Ee<224?(H.push(String.fromCharCode((Ee&31)<<6|ae[J+1]&63)),J+=2):(H.push(String.fromCharCode((Ee&15)<<12|(ae[J+1]&63)<<6|ae[J+2]&63)),J+=3)}return H.join("")}return{toBytes:M,fromBytes:z}}(),y=function(){function M(H){for(var J=[],Ee=0;Ee<H.length;Ee+=2)J.push(parseInt(H.substr(Ee,2),16));return J}var z="0123456789abcdef";function ae(H){for(var J=[],Ee=0;Ee<H.length;Ee++){var We=H[Ee];J.push(z[(We&240)>>4]+z[We&15])}return J.join("")}return{toBytes:M,fromBytes:ae}}(),h={16:10,24:12,32:14},_=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],I=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],D=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],$=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ee=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Y=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ye=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],W=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],te=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],X=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function de(M){for(var z=[],ae=0;ae<M.length;ae+=4)z.push(M[ae]<<24|M[ae+1]<<16|M[ae+2]<<8|M[ae+3]);return z}var Te=function(M){if(!(this instanceof Te))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:l(M,!0)}),this._prepare()};Te.prototype._prepare=function(){var M=h[this.key.length];if(M==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var z=0;z<=M;z++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var ae=(M+1)*4,H=this.key.length/4,J=de(this.key),Ee,z=0;z<H;z++)Ee=z>>2,this._Ke[Ee][z%4]=J[z],this._Kd[M-Ee][z%4]=J[z];for(var We=0,Pe=H,He;Pe<ae;){if(He=J[H-1],J[0]^=S[He>>16&255]<<24^S[He>>8&255]<<16^S[He&255]<<8^S[He>>24&255]^_[We]<<24,We+=1,H!=8)for(var z=1;z<H;z++)J[z]^=J[z-1];else{for(var z=1;z<H/2;z++)J[z]^=J[z-1];He=J[H/2-1],J[H/2]^=S[He&255]^S[He>>8&255]<<8^S[He>>16&255]<<16^S[He>>24&255]<<24;for(var z=H/2+1;z<H;z++)J[z]^=J[z-1]}for(var z=0,Ct,kt;z<H&&Pe<ae;)Ct=Pe>>2,kt=Pe%4,this._Ke[Ct][kt]=J[z],this._Kd[M-Ct][kt]=J[z++],Pe++}for(var Ct=1;Ct<M;Ct++)for(var kt=0;kt<4;kt++)He=this._Kd[Ct][kt],this._Kd[Ct][kt]=ye[He>>24&255]^W[He>>16&255]^te[He>>8&255]^X[He&255]},Te.prototype.encrypt=function(M){if(M.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var z=this._Ke.length-1,ae=[0,0,0,0],H=de(M),J=0;J<4;J++)H[J]^=this._Ke[0][J];for(var Ee=1;Ee<z;Ee++){for(var J=0;J<4;J++)ae[J]=P[H[J]>>24&255]^C[H[(J+1)%4]>>16&255]^w[H[(J+2)%4]>>8&255]^U[H[(J+3)%4]&255]^this._Ke[Ee][J];H=ae.slice()}for(var We=E(16),Pe,J=0;J<4;J++)Pe=this._Ke[z][J],We[4*J]=(S[H[J]>>24&255]^Pe>>24)&255,We[4*J+1]=(S[H[(J+1)%4]>>16&255]^Pe>>16)&255,We[4*J+2]=(S[H[(J+2)%4]>>8&255]^Pe>>8)&255,We[4*J+3]=(S[H[(J+3)%4]&255]^Pe)&255;return We},Te.prototype.decrypt=function(M){if(M.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var z=this._Kd.length-1,ae=[0,0,0,0],H=de(M),J=0;J<4;J++)H[J]^=this._Kd[0][J];for(var Ee=1;Ee<z;Ee++){for(var J=0;J<4;J++)ae[J]=D[H[J]>>24&255]^$[H[(J+3)%4]>>16&255]^ee[H[(J+2)%4]>>8&255]^Y[H[(J+1)%4]&255]^this._Kd[Ee][J];H=ae.slice()}for(var We=E(16),Pe,J=0;J<4;J++)Pe=this._Kd[z][J],We[4*J]=(I[H[J]>>24&255]^Pe>>24)&255,We[4*J+1]=(I[H[(J+3)%4]>>16&255]^Pe>>16)&255,We[4*J+2]=(I[H[(J+2)%4]>>8&255]^Pe>>8)&255,We[4*J+3]=(I[H[(J+1)%4]&255]^Pe)&255;return We};var xe=function(M){if(!(this instanceof xe))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Te(M)};xe.prototype.encrypt=function(M){if(M=l(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var z=E(M.length),ae=E(16),H=0;H<M.length;H+=16)g(M,ae,0,H,H+16),ae=this._aes.encrypt(ae),g(ae,z,H);return z},xe.prototype.decrypt=function(M){if(M=l(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var z=E(M.length),ae=E(16),H=0;H<M.length;H+=16)g(M,ae,0,H,H+16),ae=this._aes.decrypt(ae),g(ae,z,H);return z};var ve=function(M,z){if(!(this instanceof ve))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!z)z=E(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=l(z,!0),this._aes=new Te(M)};ve.prototype.encrypt=function(M){if(M=l(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var z=E(M.length),ae=E(16),H=0;H<M.length;H+=16){g(M,ae,0,H,H+16);for(var J=0;J<16;J++)ae[J]^=this._lastCipherblock[J];this._lastCipherblock=this._aes.encrypt(ae),g(this._lastCipherblock,z,H)}return z},ve.prototype.decrypt=function(M){if(M=l(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var z=E(M.length),ae=E(16),H=0;H<M.length;H+=16){g(M,ae,0,H,H+16),ae=this._aes.decrypt(ae);for(var J=0;J<16;J++)z[H+J]=ae[J]^this._lastCipherblock[J];g(M,this._lastCipherblock,0,H,H+16)}return z};var F=function(M,z,ae){if(!(this instanceof F))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!z)z=E(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");ae||(ae=1),this.segmentSize=ae,this._shiftRegister=l(z,!0),this._aes=new Te(M)};F.prototype.encrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var z=l(M,!0),ae,H=0;H<z.length;H+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var J=0;J<this.segmentSize;J++)z[H+J]^=ae[J];g(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g(z,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return z},F.prototype.decrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var z=l(M,!0),ae,H=0;H<z.length;H+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var J=0;J<this.segmentSize;J++)z[H+J]^=ae[J];g(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g(M,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return z};var ne=function(M,z){if(!(this instanceof ne))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!z)z=E(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=l(z,!0),this._lastPrecipherIndex=16,this._aes=new Te(M)};ne.prototype.encrypt=function(M){for(var z=l(M,!0),ae=0;ae<z.length;ae++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),z[ae]^=this._lastPrecipher[this._lastPrecipherIndex++];return z},ne.prototype.decrypt=ne.prototype.encrypt;var re=function(M){if(!(this instanceof re))throw Error("Counter must be instanitated with `new`");M!==0&&!M&&(M=1),typeof M=="number"?(this._counter=E(16),this.setValue(M)):this.setBytes(M)};re.prototype.setValue=function(M){if(typeof M!="number"||parseInt(M)!=M)throw new Error("invalid counter value (must be an integer)");for(var z=15;z>=0;--z)this._counter[z]=M%256,M=M>>8},re.prototype.setBytes=function(M){if(M=l(M,!0),M.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=M},re.prototype.increment=function(){for(var M=15;M>=0;M--)if(this._counter[M]===255)this._counter[M]=0;else{this._counter[M]++;break}};var he=function(M,z){if(!(this instanceof he))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",z instanceof re||(z=new re(z)),this._counter=z,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Te(M)};he.prototype.encrypt=function(M){for(var z=l(M,!0),ae=0;ae<z.length;ae++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),z[ae]^=this._remainingCounter[this._remainingCounterIndex++];return z},he.prototype.decrypt=he.prototype.encrypt;function Re(M){M=l(M,!0);var z=16-M.length%16,ae=E(M.length+z);g(M,ae);for(var H=M.length;H<ae.length;H++)ae[H]=z;return ae}function Se(M){if(M=l(M,!0),M.length<16)throw new Error("PKCS#7 invalid length");var z=M[M.length-1];if(z>16)throw new Error("PKCS#7 padding byte out of range");for(var ae=M.length-z,H=0;H<z;H++)if(M[ae+H]!==z)throw new Error("PKCS#7 invalid padding byte");var J=E(ae);return g(M,J,0,0,ae),J}var V={AES:Te,Counter:re,ModeOfOperation:{ecb:xe,cbc:ve,cfb:F,ofb:ne,ctr:he},utils:{hex:y,utf8:m},padding:{pkcs7:{pad:Re,strip:Se}},_arrayTest:{coerceArray:l,createArray:E,copyArray:g}};B.exports=V})(this)},29938:function(B,u,x){var f=x(38032);function l(E,g){function m(y,h){var _=g||{},S;"randomize"in _||(_.randomize=!0),S=f.operation(_);function I(w){h(w||new Error("Aborted"))}function P(w,U){if(w.bail){I(w);return}S.retry(w)?_.onRetry&&_.onRetry(w,U):h(S.mainError())}function C(w){var U;try{U=E(I,w)}catch(D){P(D,w);return}Promise.resolve(U).then(y).catch(function($){P($,w)})}S.attempt(C)}return new Promise(m)}B.exports=l},67886:function(B,u,x){B.exports=x(24180)},52799:function(B,u,x){"use strict";var f=x(15013),l=x(10898),E=x(60823),g=x(90575),m=x(45456),y=x(76630),h=x(39736),_=x(1184),S=x(15763),I=x(34477),P=x(40480);B.exports=function(w){return new Promise(function(D,$){var ee=w.data,Y=w.headers,ye=w.responseType,W;function te(){w.cancelToken&&w.cancelToken.unsubscribe(W),w.signal&&w.signal.removeEventListener("abort",W)}f.isFormData(ee)&&f.isStandardBrowserEnv()&&delete Y["Content-Type"];var X=new XMLHttpRequest;if(w.auth){var de=w.auth.username||"",Te=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";Y.Authorization="Basic "+btoa(de+":"+Te)}var xe=m(w.baseURL,w.url);X.open(w.method.toUpperCase(),g(xe,w.params,w.paramsSerializer),!0),X.timeout=w.timeout;function ve(){if(X){var re="getAllResponseHeaders"in X?y(X.getAllResponseHeaders()):null,he=!ye||ye==="text"||ye==="json"?X.responseText:X.response,Re={data:he,status:X.status,statusText:X.statusText,headers:re,config:w,request:X};l(function(V){D(V),te()},function(V){$(V),te()},Re),X=null}}if("onloadend"in X?X.onloadend=ve:X.onreadystatechange=function(){!X||X.readyState!==4||X.status===0&&!(X.responseURL&&X.responseURL.indexOf("file:")===0)||setTimeout(ve)},X.onabort=function(){X&&($(new S("Request aborted",S.ECONNABORTED,w,X)),X=null)},X.onerror=function(){$(new S("Network Error",S.ERR_NETWORK,w,X,X)),X=null},X.ontimeout=function(){var he=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",Re=w.transitional||_;w.timeoutErrorMessage&&(he=w.timeoutErrorMessage),$(new S(he,Re.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,w,X)),X=null},f.isStandardBrowserEnv()){var F=(w.withCredentials||h(xe))&&w.xsrfCookieName?E.read(w.xsrfCookieName):void 0;F&&(Y[w.xsrfHeaderName]=F)}"setRequestHeader"in X&&f.forEach(Y,function(he,Re){typeof ee>"u"&&Re.toLowerCase()==="content-type"?delete Y[Re]:X.setRequestHeader(Re,he)}),f.isUndefined(w.withCredentials)||(X.withCredentials=!!w.withCredentials),ye&&ye!=="json"&&(X.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&X.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&X.upload&&X.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(W=function(re){X&&($(!re||re&&re.type?new I:re),X.abort(),X=null)},w.cancelToken&&w.cancelToken.subscribe(W),w.signal&&(w.signal.aborted?W():w.signal.addEventListener("abort",W))),ee||(ee=null);var ne=P(xe);if(ne&&["http","https","file"].indexOf(ne)===-1){$(new S("Unsupported protocol "+ne+":",S.ERR_BAD_REQUEST,w));return}X.send(ee)})}},24180:function(B,u,x){"use strict";var f=x(15013),l=x(40239),E=x(88800),g=x(8772),m=x(41639);function y(_){var S=new E(_),I=l(E.prototype.request,S);return f.extend(I,E.prototype,S),f.extend(I,S),I.create=function(C){return y(g(_,C))},I}var h=y(m);h.Axios=E,h.CanceledError=x(34477),h.CancelToken=x(86291),h.isCancel=x(70338),h.VERSION=x(98114).version,h.toFormData=x(60218),h.AxiosError=x(15763),h.Cancel=h.CanceledError,h.all=function(S){return Promise.all(S)},h.spread=x(60850),h.isAxiosError=x(1200),B.exports=h,B.exports.default=h},86291:function(B,u,x){"use strict";var f=x(34477);function l(E){if(typeof E!="function")throw new TypeError("executor must be a function.");var g;this.promise=new Promise(function(h){g=h});var m=this;this.promise.then(function(y){if(m._listeners){var h,_=m._listeners.length;for(h=0;h<_;h++)m._listeners[h](y);m._listeners=null}}),this.promise.then=function(y){var h,_=new Promise(function(S){m.subscribe(S),h=S}).then(y);return _.cancel=function(){m.unsubscribe(h)},_},E(function(h){m.reason||(m.reason=new f(h),g(m.reason))})}l.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},l.prototype.subscribe=function(g){if(this.reason){g(this.reason);return}this._listeners?this._listeners.push(g):this._listeners=[g]},l.prototype.unsubscribe=function(g){if(this._listeners){var m=this._listeners.indexOf(g);m!==-1&&this._listeners.splice(m,1)}},l.source=function(){var g,m=new l(function(h){g=h});return{token:m,cancel:g}},B.exports=l},34477:function(B,u,x){"use strict";var f=x(15763),l=x(15013);function E(g){f.call(this,g??"canceled",f.ERR_CANCELED),this.name="CanceledError"}l.inherits(E,f,{__CANCEL__:!0}),B.exports=E},70338:function(B){"use strict";B.exports=function(x){return!!(x&&x.__CANCEL__)}},88800:function(B,u,x){"use strict";var f=x(15013),l=x(90575),E=x(26037),g=x(11269),m=x(8772),y=x(45456),h=x(28942),_=h.validators;function S(I){this.defaults=I,this.interceptors={request:new E,response:new E}}S.prototype.request=function(P,C){typeof P=="string"?(C=C||{},C.url=P):C=P||{},C=m(this.defaults,C),C.method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var w=C.transitional;w!==void 0&&h.assertOptions(w,{silentJSONParsing:_.transitional(_.boolean),forcedJSONParsing:_.transitional(_.boolean),clarifyTimeoutError:_.transitional(_.boolean)},!1);var U=[],D=!0;this.interceptors.request.forEach(function(de){typeof de.runWhen=="function"&&de.runWhen(C)===!1||(D=D&&de.synchronous,U.unshift(de.fulfilled,de.rejected))});var $=[];this.interceptors.response.forEach(function(de){$.push(de.fulfilled,de.rejected)});var ee;if(!D){var Y=[g,void 0];for(Array.prototype.unshift.apply(Y,U),Y=Y.concat($),ee=Promise.resolve(C);Y.length;)ee=ee.then(Y.shift(),Y.shift());return ee}for(var ye=C;U.length;){var W=U.shift(),te=U.shift();try{ye=W(ye)}catch(X){te(X);break}}try{ee=g(ye)}catch(X){return Promise.reject(X)}for(;$.length;)ee=ee.then($.shift(),$.shift());return ee},S.prototype.getUri=function(P){P=m(this.defaults,P);var C=y(P.baseURL,P.url);return l(C,P.params,P.paramsSerializer)},f.forEach(["delete","get","head","options"],function(P){S.prototype[P]=function(C,w){return this.request(m(w||{},{method:P,url:C,data:(w||{}).data}))}}),f.forEach(["post","put","patch"],function(P){function C(w){return function(D,$,ee){return this.request(m(ee||{},{method:P,headers:w?{"Content-Type":"multipart/form-data"}:{},url:D,data:$}))}}S.prototype[P]=C(),S.prototype[P+"Form"]=C(!0)}),B.exports=S},15763:function(B,u,x){"use strict";var f=x(15013);function l(m,y,h,_,S){Error.call(this),this.message=m,this.name="AxiosError",y&&(this.code=y),h&&(this.config=h),_&&(this.request=_),S&&(this.response=S)}f.inherits(l,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var E=l.prototype,g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(m){g[m]={value:m}}),Object.defineProperties(l,g),Object.defineProperty(E,"isAxiosError",{value:!0}),l.from=function(m,y,h,_,S,I){var P=Object.create(E);return f.toFlatObject(m,P,function(w){return w!==Error.prototype}),l.call(P,m.message,y,h,_,S),P.name=m.name,I&&Object.assign(P,I),P},B.exports=l},26037:function(B,u,x){"use strict";var f=x(15013);function l(){this.handlers=[]}l.prototype.use=function(g,m,y){return this.handlers.push({fulfilled:g,rejected:m,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1},l.prototype.eject=function(g){this.handlers[g]&&(this.handlers[g]=null)},l.prototype.forEach=function(g){f.forEach(this.handlers,function(y){y!==null&&g(y)})},B.exports=l},45456:function(B,u,x){"use strict";var f=x(93378),l=x(10402);B.exports=function(g,m){return g&&!f(m)?l(g,m):m}},11269:function(B,u,x){"use strict";var f=x(15013),l=x(82349),E=x(70338),g=x(41639),m=x(34477);function y(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new m}B.exports=function(_){y(_),_.headers=_.headers||{},_.data=l.call(_,_.data,_.headers,_.transformRequest),_.headers=f.merge(_.headers.common||{},_.headers[_.method]||{},_.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(P){delete _.headers[P]});var S=_.adapter||g.adapter;return S(_).then(function(P){return y(_),P.data=l.call(_,P.data,P.headers,_.transformResponse),P},function(P){return E(P)||(y(_),P&&P.response&&(P.response.data=l.call(_,P.response.data,P.response.headers,_.transformResponse))),Promise.reject(P)})}},8772:function(B,u,x){"use strict";var f=x(15013);B.exports=function(E,g){g=g||{};var m={};function y(C,w){return f.isPlainObject(C)&&f.isPlainObject(w)?f.merge(C,w):f.isPlainObject(w)?f.merge({},w):f.isArray(w)?w.slice():w}function h(C){if(f.isUndefined(g[C])){if(!f.isUndefined(E[C]))return y(void 0,E[C])}else return y(E[C],g[C])}function _(C){if(!f.isUndefined(g[C]))return y(void 0,g[C])}function S(C){if(f.isUndefined(g[C])){if(!f.isUndefined(E[C]))return y(void 0,E[C])}else return y(void 0,g[C])}function I(C){if(C in g)return y(E[C],g[C]);if(C in E)return y(void 0,E[C])}var P={url:_,method:_,data:_,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:I};return f.forEach(Object.keys(E).concat(Object.keys(g)),function(w){var U=P[w]||h,D=U(w);f.isUndefined(D)&&U!==I||(m[w]=D)}),m}},10898:function(B,u,x){"use strict";var f=x(15763);B.exports=function(E,g,m){var y=m.config.validateStatus;!m.status||!y||y(m.status)?E(m):g(new f("Request failed with status code "+m.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}},82349:function(B,u,x){"use strict";var f=x(15013),l=x(41639);B.exports=function(g,m,y){var h=this||l;return f.forEach(y,function(S){g=S.call(h,g,m)}),g}},41639:function(B,u,x){"use strict";var f=x(14224),l=x(15013),E=x(19513),g=x(15763),m=x(1184),y=x(60218),h={"Content-Type":"application/x-www-form-urlencoded"};function _(C,w){!l.isUndefined(C)&&l.isUndefined(C["Content-Type"])&&(C["Content-Type"]=w)}function S(){var C;return(typeof XMLHttpRequest<"u"||typeof f<"u"&&Object.prototype.toString.call(f)==="[object process]")&&(C=x(52799)),C}function I(C,w,U){if(l.isString(C))try{return(w||JSON.parse)(C),l.trim(C)}catch(D){if(D.name!=="SyntaxError")throw D}return(U||JSON.stringify)(C)}var P={transitional:m,adapter:S(),transformRequest:[function(w,U){if(E(U,"Accept"),E(U,"Content-Type"),l.isFormData(w)||l.isArrayBuffer(w)||l.isBuffer(w)||l.isStream(w)||l.isFile(w)||l.isBlob(w))return w;if(l.isArrayBufferView(w))return w.buffer;if(l.isURLSearchParams(w))return _(U,"application/x-www-form-urlencoded;charset=utf-8"),w.toString();var D=l.isObject(w),$=U&&U["Content-Type"],ee;if((ee=l.isFileList(w))||D&&$==="multipart/form-data"){var Y=this.env&&this.env.FormData;return y(ee?{"files[]":w}:w,Y&&new Y)}else if(D||$==="application/json")return _(U,"application/json"),I(w);return w}],transformResponse:[function(w){var U=this.transitional||P.transitional,D=U&&U.silentJSONParsing,$=U&&U.forcedJSONParsing,ee=!D&&this.responseType==="json";if(ee||$&&l.isString(w)&&w.length)try{return JSON.parse(w)}catch(Y){if(ee)throw Y.name==="SyntaxError"?g.from(Y,g.ERR_BAD_RESPONSE,this,null,this.response):Y}return w}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:x(45965)},validateStatus:function(w){return w>=200&&w<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(w){P.headers[w]={}}),l.forEach(["post","put","patch"],function(w){P.headers[w]=l.merge(h)}),B.exports=P},1184:function(B){"use strict";B.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},98114:function(B){B.exports={version:"0.27.2"}},40239:function(B){"use strict";B.exports=function(x,f){return function(){for(var E=new Array(arguments.length),g=0;g<E.length;g++)E[g]=arguments[g];return x.apply(f,E)}}},90575:function(B,u,x){"use strict";var f=x(15013);function l(E){return encodeURIComponent(E).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}B.exports=function(g,m,y){if(!m)return g;var h;if(y)h=y(m);else if(f.isURLSearchParams(m))h=m.toString();else{var _=[];f.forEach(m,function(P,C){P===null||typeof P>"u"||(f.isArray(P)?C=C+"[]":P=[P],f.forEach(P,function(U){f.isDate(U)?U=U.toISOString():f.isObject(U)&&(U=JSON.stringify(U)),_.push(l(C)+"="+l(U))}))}),h=_.join("&")}if(h){var S=g.indexOf("#");S!==-1&&(g=g.slice(0,S)),g+=(g.indexOf("?")===-1?"?":"&")+h}return g}},10402:function(B){"use strict";B.exports=function(x,f){return f?x.replace(/\/+$/,"")+"/"+f.replace(/^\/+/,""):x}},60823:function(B,u,x){"use strict";var f=x(15013);B.exports=f.isStandardBrowserEnv()?function(){return{write:function(g,m,y,h,_,S){var I=[];I.push(g+"="+encodeURIComponent(m)),f.isNumber(y)&&I.push("expires="+new Date(y).toGMTString()),f.isString(h)&&I.push("path="+h),f.isString(_)&&I.push("domain="+_),S===!0&&I.push("secure"),document.cookie=I.join("; ")},read:function(g){var m=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},93378:function(B){"use strict";B.exports=function(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}},1200:function(B,u,x){"use strict";var f=x(15013);B.exports=function(E){return f.isObject(E)&&E.isAxiosError===!0}},39736:function(B,u,x){"use strict";var f=x(15013);B.exports=f.isStandardBrowserEnv()?function(){var E=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a"),m;function y(h){var _=h;return E&&(g.setAttribute("href",_),_=g.href),g.setAttribute("href",_),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:g.pathname.charAt(0)==="/"?g.pathname:"/"+g.pathname}}return m=y(window.location.href),function(_){var S=f.isString(_)?y(_):_;return S.protocol===m.protocol&&S.host===m.host}}():function(){return function(){return!0}}()},19513:function(B,u,x){"use strict";var f=x(15013);B.exports=function(E,g){f.forEach(E,function(y,h){h!==g&&h.toUpperCase()===g.toUpperCase()&&(E[g]=y,delete E[h])})}},45965:function(B){B.exports=null},76630:function(B,u,x){"use strict";var f=x(15013),l=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];B.exports=function(g){var m={},y,h,_;return g&&f.forEach(g.split(`
`),function(I){if(_=I.indexOf(":"),y=f.trim(I.substr(0,_)).toLowerCase(),h=f.trim(I.substr(_+1)),y){if(m[y]&&l.indexOf(y)>=0)return;y==="set-cookie"?m[y]=(m[y]?m[y]:[]).concat([h]):m[y]=m[y]?m[y]+", "+h:h}}),m}},40480:function(B){"use strict";B.exports=function(x){var f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return f&&f[1]||""}},60850:function(B){"use strict";B.exports=function(x){return function(l){return x.apply(null,l)}}},60218:function(B,u,x){"use strict";var f=x(55872).Buffer,l=x(15013);function E(g,m){m=m||new FormData;var y=[];function h(S){return S===null?"":l.isDate(S)?S.toISOString():l.isArrayBuffer(S)||l.isTypedArray(S)?typeof Blob=="function"?new Blob([S]):f.from(S):S}function _(S,I){if(l.isPlainObject(S)||l.isArray(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+I);y.push(S),l.forEach(S,function(C,w){if(!l.isUndefined(C)){var U=I?I+"."+w:w,D;if(C&&!I&&typeof C=="object"){if(l.endsWith(w,"{}"))C=JSON.stringify(C);else if(l.endsWith(w,"[]")&&(D=l.toArray(C))){D.forEach(function($){!l.isUndefined($)&&m.append(U,h($))});return}}_(C,U)}}),y.pop()}else m.append(I,h(S))}return _(g),m}B.exports=E},28942:function(B,u,x){"use strict";var f=x(98114).version,l=x(15763),E={};["object","boolean","number","function","string","symbol"].forEach(function(y,h){E[y]=function(S){return typeof S===y||"a"+(h<1?"n ":" ")+y}});var g={};E.transitional=function(h,_,S){function I(P,C){return"[Axios v"+f+"] Transitional option '"+P+"'"+C+(S?". "+S:"")}return function(P,C,w){if(h===!1)throw new l(I(C," has been removed"+(_?" in "+_:"")),l.ERR_DEPRECATED);return _&&!g[C]&&(g[C]=!0,console.warn(I(C," has been deprecated since v"+_+" and will be removed in the near future"))),h?h(P,C,w):!0}};function m(y,h,_){if(typeof y!="object")throw new l("options must be an object",l.ERR_BAD_OPTION_VALUE);for(var S=Object.keys(y),I=S.length;I-- >0;){var P=S[I],C=h[P];if(C){var w=y[P],U=w===void 0||C(w,P,y);if(U!==!0)throw new l("option "+P+" must be "+U,l.ERR_BAD_OPTION_VALUE);continue}if(_!==!0)throw new l("Unknown option "+P,l.ERR_BAD_OPTION)}}B.exports={assertOptions:m,validators:E}},15013:function(B,u,x){"use strict";var f=x(40239),l=Object.prototype.toString,E=function(V){return function(M){var z=l.call(M);return V[z]||(V[z]=z.slice(8,-1).toLowerCase())}}(Object.create(null));function g(V){return V=V.toLowerCase(),function(z){return E(z)===V}}function m(V){return Array.isArray(V)}function y(V){return typeof V>"u"}function h(V){return V!==null&&!y(V)&&V.constructor!==null&&!y(V.constructor)&&typeof V.constructor.isBuffer=="function"&&V.constructor.isBuffer(V)}var _=g("ArrayBuffer");function S(V){var M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(V):M=V&&V.buffer&&_(V.buffer),M}function I(V){return typeof V=="string"}function P(V){return typeof V=="number"}function C(V){return V!==null&&typeof V=="object"}function w(V){if(E(V)!=="object")return!1;var M=Object.getPrototypeOf(V);return M===null||M===Object.prototype}var U=g("Date"),D=g("File"),$=g("Blob"),ee=g("FileList");function Y(V){return l.call(V)==="[object Function]"}function ye(V){return C(V)&&Y(V.pipe)}function W(V){var M="[object FormData]";return V&&(typeof FormData=="function"&&V instanceof FormData||l.call(V)===M||Y(V.toString)&&V.toString()===M)}var te=g("URLSearchParams");function X(V){return V.trim?V.trim():V.replace(/^\s+|\s+$/g,"")}function de(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Te(V,M){if(!(V===null||typeof V>"u"))if(typeof V!="object"&&(V=[V]),m(V))for(var z=0,ae=V.length;z<ae;z++)M.call(null,V[z],z,V);else for(var H in V)Object.prototype.hasOwnProperty.call(V,H)&&M.call(null,V[H],H,V)}function xe(){var V={};function M(H,J){w(V[J])&&w(H)?V[J]=xe(V[J],H):w(H)?V[J]=xe({},H):m(H)?V[J]=H.slice():V[J]=H}for(var z=0,ae=arguments.length;z<ae;z++)Te(arguments[z],M);return V}function ve(V,M,z){return Te(M,function(H,J){z&&typeof H=="function"?V[J]=f(H,z):V[J]=H}),V}function F(V){return V.charCodeAt(0)===65279&&(V=V.slice(1)),V}function ne(V,M,z,ae){V.prototype=Object.create(M.prototype,ae),V.prototype.constructor=V,z&&Object.assign(V.prototype,z)}function re(V,M,z){var ae,H,J,Ee={};M=M||{};do{for(ae=Object.getOwnPropertyNames(V),H=ae.length;H-- >0;)J=ae[H],Ee[J]||(M[J]=V[J],Ee[J]=!0);V=Object.getPrototypeOf(V)}while(V&&(!z||z(V,M))&&V!==Object.prototype);return M}function he(V,M,z){V=String(V),(z===void 0||z>V.length)&&(z=V.length),z-=M.length;var ae=V.indexOf(M,z);return ae!==-1&&ae===z}function Re(V){if(!V)return null;var M=V.length;if(y(M))return null;for(var z=new Array(M);M-- >0;)z[M]=V[M];return z}var Se=function(V){return function(M){return V&&M instanceof V}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));B.exports={isArray:m,isArrayBuffer:_,isBuffer:h,isFormData:W,isArrayBufferView:S,isString:I,isNumber:P,isObject:C,isPlainObject:w,isUndefined:y,isDate:U,isFile:D,isBlob:$,isFunction:Y,isStream:ye,isURLSearchParams:te,isStandardBrowserEnv:de,forEach:Te,merge:xe,extend:ve,trim:X,stripBOM:F,inherits:ne,toFlatObject:re,kindOf:E,kindOfTest:g,endsWith:he,toArray:Re,isTypedArray:Se,isFileList:ee}},71504:function(B,u,x){"use strict";var f,l=x(55872).Buffer;f={value:!0};var E=x(50521);function g(I,P){return P===void 0&&(P="utf8"),l.isBuffer(I)?h(I.toString("base64")):h(l.from(I,P).toString("base64"))}function m(I,P){return P===void 0&&(P="utf8"),l.from(y(I),"base64").toString(P)}function y(I){return I=I.toString(),E.default(I).replace(/\-/g,"+").replace(/_/g,"/")}function h(I){return I.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _(I){return l.from(y(I),"base64")}var S=g;S.encode=g,S.decode=m,S.toBase64=y,S.fromBase64=h,S.toBuffer=_,u.default=S},50521:function(B,u,x){"use strict";var f=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0});function l(E){var g=4,m=E.length,y=m%g;if(!y)return E;var h=m,_=g-y,S=m+_,I=f.alloc(S);for(I.write(E);_--;)I.write("=",h++);return I.toString()}u.default=l},27220:function(B,u,x){B.exports=x(71504).default,B.exports.default=B.exports},36243:function(B){B.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var createOutputMethod=function(B,u){return function(x){return new Sha256(u,!0).update(x)[B]()}},createMethod=function(B){var u=createOutputMethod("hex",B);NODE_JS&&(u=nodeWrap(u,B)),u.create=function(){return new Sha256(B)},u.update=function(l){return u.create().update(l)};for(var x=0;x<OUTPUT_TYPES.length;++x){var f=OUTPUT_TYPES[x];u[f]=createOutputMethod(f,B)}return u},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(B){if(typeof B=="string")return crypto.createHash(algorithm).update(B,"utf8").digest("hex");if(B==null)throw new Error(ERROR);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),Array.isArray(B)||ArrayBuffer.isView(B)||B.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(B)).digest("hex"):method(B)};return nodeMethod},createHmacOutputMethod=function(B,u){return function(x,f){return new HmacSha256(x,u,!0).update(f)[B]()}},createHmacMethod=function(B){var u=createHmacOutputMethod("hex",B);u.create=function(l){return new HmacSha256(l,B)},u.update=function(l,E){return u.create(l).update(E)};for(var x=0;x<OUTPUT_TYPES.length;++x){var f=OUTPUT_TYPES[x];u[f]=createHmacOutputMethod(f,B)}return u};function Sha256(B,u){u?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}Sha256.prototype.update=function(B){if(!this.finalized){var u,x=typeof B;if(x!=="string"){if(x==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);u=!0}for(var f,l=0,E,g=B.length,m=this.blocks;l<g;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),u)for(E=this.start;l<g&&E<64;++l)m[E>>2]|=B[l]<<SHIFT[E++&3];else for(E=this.start;l<g&&E<64;++l)f=B.charCodeAt(l),f<128?m[E>>2]|=f<<SHIFT[E++&3]:f<2048?(m[E>>2]|=(192|f>>6)<<SHIFT[E++&3],m[E>>2]|=(128|f&63)<<SHIFT[E++&3]):f<55296||f>=57344?(m[E>>2]|=(224|f>>12)<<SHIFT[E++&3],m[E>>2]|=(128|f>>6&63)<<SHIFT[E++&3],m[E>>2]|=(128|f&63)<<SHIFT[E++&3]):(f=65536+((f&1023)<<10|B.charCodeAt(++l)&1023),m[E>>2]|=(240|f>>18)<<SHIFT[E++&3],m[E>>2]|=(128|f>>12&63)<<SHIFT[E++&3],m[E>>2]|=(128|f>>6&63)<<SHIFT[E++&3],m[E>>2]|=(128|f&63)<<SHIFT[E++&3]);this.lastByteIndex=E,this.bytes+=E-this.start,E>=64?(this.block=m[16],this.start=E-64,this.hash(),this.hashed=!0):this.start=E}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,u=this.lastByteIndex;B[16]=this.block,B[u>>2]|=EXTRA[u&3],this.block=B[16],u>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,E=this.h5,g=this.h6,m=this.h7,y=this.blocks,h,_,S,I,P,C,w,U,D,$,ee;for(h=16;h<64;++h)P=y[h-15],_=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,P=y[h-2],S=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,y[h]=y[h-16]+_+y[h-7]+S<<0;for(ee=u&x,h=0;h<64;h+=4)this.first?(this.is224?(U=300032,P=y[0]-1413257819,m=P-150054599<<0,f=P+24177077<<0):(U=704751109,P=y[0]-210244248,m=P-1521486534<<0,f=P+143694565<<0),this.first=!1):(_=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),S=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),U=B&u,I=U^B&x^ee,w=l&E^~l&g,P=m+S+w+K[h]+y[h],C=_+I,m=f+P<<0,f=P+C<<0),_=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),S=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),D=f&B,I=D^f&u^U,w=m&l^~m&E,P=g+S+w+K[h+1]+y[h+1],C=_+I,g=x+P<<0,x=P+C<<0,_=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),S=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),$=x&f,I=$^x&B^D,w=g&m^~g&l,P=E+S+w+K[h+2]+y[h+2],C=_+I,E=u+P<<0,u=P+C<<0,_=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),S=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),ee=u&x,I=ee^u&f^$,w=E&g^~E&m,P=l+S+w+K[h+3]+y[h+3],C=_+I,l=B+P<<0,B=P+C<<0;this.h0=this.h0+B<<0,this.h1=this.h1+u<<0,this.h2=this.h2+x<<0,this.h3=this.h3+f<<0,this.h4=this.h4+l<<0,this.h5=this.h5+E<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,E=this.h5,g=this.h6,m=this.h7,y=HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[x&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[E>>28&15]+HEX_CHARS[E>>24&15]+HEX_CHARS[E>>20&15]+HEX_CHARS[E>>16&15]+HEX_CHARS[E>>12&15]+HEX_CHARS[E>>8&15]+HEX_CHARS[E>>4&15]+HEX_CHARS[E&15]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15];return this.is224||(y+=HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,f=this.h3,l=this.h4,E=this.h5,g=this.h6,m=this.h7,y=[B>>24&255,B>>16&255,B>>8&255,B&255,u>>24&255,u>>16&255,u>>8&255,u&255,x>>24&255,x>>16&255,x>>8&255,x&255,f>>24&255,f>>16&255,f>>8&255,f&255,l>>24&255,l>>16&255,l>>8&255,l&255,E>>24&255,E>>16&255,E>>8&255,E&255,g>>24&255,g>>16&255,g>>8&255,g&255];return this.is224||y.push(m>>24&255,m>>16&255,m>>8&255,m&255),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),u=new DataView(B);return u.setUint32(0,this.h0),u.setUint32(4,this.h1),u.setUint32(8,this.h2),u.setUint32(12,this.h3),u.setUint32(16,this.h4),u.setUint32(20,this.h5),u.setUint32(24,this.h6),this.is224||u.setUint32(28,this.h7),B};function HmacSha256(B,u,x){var f,l=typeof B;if(l==="string"){var E=[],g=B.length,m=0,y;for(f=0;f<g;++f)y=B.charCodeAt(f),y<128?E[m++]=y:y<2048?(E[m++]=192|y>>6,E[m++]=128|y&63):y<55296||y>=57344?(E[m++]=224|y>>12,E[m++]=128|y>>6&63,E[m++]=128|y&63):(y=65536+((y&1023)<<10|B.charCodeAt(++f)&1023),E[m++]=240|y>>18,E[m++]=128|y>>12&63,E[m++]=128|y>>6&63,E[m++]=128|y&63);B=E}else if(l==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);B.length>64&&(B=new Sha256(u,!0).update(B).array());var h=[],_=[];for(f=0;f<64;++f){var S=B[f]||0;h[f]=92^S,_[f]=54^S}Sha256.call(this,u,x),this.update(_),this.oKeyPad=h,this.inner=!0,this.sharedMemory=x}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},41389:function(B,u,x){B.exports=x(69136)(x(91e3))},69136:function(B,u,x){const f=x(40704),l=x(70702);B.exports=function(E){const g=f(E),m=l(E);return function(y,h){switch(typeof y=="string"?y.toLowerCase():y){case"keccak224":return new g(1152,448,null,224,h);case"keccak256":return new g(1088,512,null,256,h);case"keccak384":return new g(832,768,null,384,h);case"keccak512":return new g(576,1024,null,512,h);case"sha3-224":return new g(1152,448,6,224,h);case"sha3-256":return new g(1088,512,6,256,h);case"sha3-384":return new g(832,768,6,384,h);case"sha3-512":return new g(576,1024,6,512,h);case"shake128":return new m(1344,256,31,h);case"shake256":return new m(1088,512,31,h);default:throw new Error("Invald algorithm: "+y)}}}},40704:function(B,u,x){var f=x(55872).Buffer;const{Transform:l}=x(62981);B.exports=E=>class nl extends l{constructor(m,y,h,_,S){super(S),this._rate=m,this._capacity=y,this._delimitedSuffix=h,this._hashBitLength=_,this._options=S,this._state=new E,this._state.initialize(m,y),this._finalized=!1}_transform(m,y,h){let _=null;try{this.update(m,y)}catch(S){_=S}h(_)}_flush(m){let y=null;try{this.push(this.digest())}catch(h){y=h}m(y)}update(m,y){if(!f.isBuffer(m)&&typeof m!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return f.isBuffer(m)||(m=f.from(m,y)),this._state.absorb(m),this}digest(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let y=this._state.squeeze(this._hashBitLength/8);return m!==void 0&&(y=y.toString(m)),this._resetState(),y}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const m=new nl(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(m._state),m._finalized=this._finalized,m}}},70702:function(B,u,x){var f=x(55872).Buffer;const{Transform:l}=x(62981);B.exports=E=>class il extends l{constructor(m,y,h,_){super(_),this._rate=m,this._capacity=y,this._delimitedSuffix=h,this._options=_,this._state=new E,this._state.initialize(m,y),this._finalized=!1}_transform(m,y,h){let _=null;try{this.update(m,y)}catch(S){_=S}h(_)}_flush(){}_read(m){this.push(this.squeeze(m))}update(m,y){if(!f.isBuffer(m)&&typeof m!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return f.isBuffer(m)||(m=f.from(m,y)),this._state.absorb(m),this}squeeze(m,y){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let h=this._state.squeeze(m);return y!==void 0&&(h=h.toString(y)),h}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const m=new il(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(m._state),m._finalized=this._finalized,m}}},26921:function(B,u){const x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];u.p1600=function(f){for(let l=0;l<24;++l){const E=f[0]^f[10]^f[20]^f[30]^f[40],g=f[1]^f[11]^f[21]^f[31]^f[41],m=f[2]^f[12]^f[22]^f[32]^f[42],y=f[3]^f[13]^f[23]^f[33]^f[43],h=f[4]^f[14]^f[24]^f[34]^f[44],_=f[5]^f[15]^f[25]^f[35]^f[45],S=f[6]^f[16]^f[26]^f[36]^f[46],I=f[7]^f[17]^f[27]^f[37]^f[47],P=f[8]^f[18]^f[28]^f[38]^f[48],C=f[9]^f[19]^f[29]^f[39]^f[49];let w=P^(m<<1|y>>>31),U=C^(y<<1|m>>>31);const D=f[0]^w,$=f[1]^U,ee=f[10]^w,Y=f[11]^U,ye=f[20]^w,W=f[21]^U,te=f[30]^w,X=f[31]^U,de=f[40]^w,Te=f[41]^U;w=E^(h<<1|_>>>31),U=g^(_<<1|h>>>31);const xe=f[2]^w,ve=f[3]^U,F=f[12]^w,ne=f[13]^U,re=f[22]^w,he=f[23]^U,Re=f[32]^w,Se=f[33]^U,V=f[42]^w,M=f[43]^U;w=m^(S<<1|I>>>31),U=y^(I<<1|S>>>31);const z=f[4]^w,ae=f[5]^U,H=f[14]^w,J=f[15]^U,Ee=f[24]^w,We=f[25]^U,Pe=f[34]^w,He=f[35]^U,Ct=f[44]^w,kt=f[45]^U;w=h^(P<<1|C>>>31),U=_^(C<<1|P>>>31);const wr=f[6]^w,vn=f[7]^U,hi=f[16]^w,En=f[17]^U,Ln=f[26]^w,Mi=f[27]^U,xi=f[36]^w,Di=f[37]^U,pi=f[46]^w,yi=f[47]^U;w=S^(E<<1|g>>>31),U=I^(g<<1|E>>>31);const Nr=f[8]^w,Jr=f[9]^U,Fn=f[18]^w,Sn=f[19]^U,Hn=f[28]^w,An=f[29]^U,Kn=f[38]^w,_n=f[39]^U,bi=f[48]^w,oe=f[49]^U,Rr=D,zn=$,fn=Y<<4|ee>>>28,lt=ee<<4|Y>>>28,Xr=ye<<3|W>>>29,Zr=W<<3|ye>>>29,vr=X<<9|te>>>23,Mr=te<<9|X>>>23,Yr=de<<18|Te>>>14,Qr=Te<<18|de>>>14,en=xe<<1|ve>>>31,Tn=ve<<1|xe>>>31,tn=ne<<12|F>>>20,$n=F<<12|ne>>>20,qn=re<<10|he>>>22,fr=he<<10|re>>>22,Er=Se<<13|Re>>>19,Dr=Re<<13|Se>>>19,dn=V<<2|M>>>30,Rn=M<<2|V>>>30,Pn=ae<<30|z>>>2,jn=z<<30|ae>>>2,Zt=H<<6|J>>>26,Gn=J<<6|H>>>26,b=We<<11|Ee>>>21,R=Ee<<11|We>>>21,T=Pe<<15|He>>>17,c=He<<15|Pe>>>17,k=kt<<29|Ct>>>3,j=Ct<<29|kt>>>3,Z=wr<<28|vn>>>4,ce=vn<<28|wr>>>4,me=En<<23|hi>>>9,Me=hi<<23|En>>>9,ke=Ln<<25|Mi>>>7,ct=Mi<<25|Ln>>>7,Be=xi<<21|Di>>>11,$e=Di<<21|xi>>>11,Ve=yi<<24|pi>>>8,Ye=pi<<24|yi>>>8,Xe=Nr<<27|Jr>>>5,ze=Jr<<27|Nr>>>5,qe=Fn<<20|Sn>>>12,Je=Sn<<20|Fn>>>12,Ue=An<<7|Hn>>>25,De=Hn<<7|An>>>25,Ie=Kn<<8|_n>>>24,Ne=_n<<8|Kn>>>24,Oe=bi<<14|oe>>>18,Ae=oe<<14|bi>>>18;f[0]=Rr^~tn&b,f[1]=zn^~$n&R,f[10]=Z^~qe&Xr,f[11]=ce^~Je&Zr,f[20]=en^~Zt&ke,f[21]=Tn^~Gn&ct,f[30]=Xe^~fn&qn,f[31]=ze^~lt&fr,f[40]=Pn^~me&Ue,f[41]=jn^~Me&De,f[2]=tn^~b&Be,f[3]=$n^~R&$e,f[12]=qe^~Xr&Er,f[13]=Je^~Zr&Dr,f[22]=Zt^~ke&Ie,f[23]=Gn^~ct&Ne,f[32]=fn^~qn&T,f[33]=lt^~fr&c,f[42]=me^~Ue&vr,f[43]=Me^~De&Mr,f[4]=b^~Be&Oe,f[5]=R^~$e&Ae,f[14]=Xr^~Er&k,f[15]=Zr^~Dr&j,f[24]=ke^~Ie&Yr,f[25]=ct^~Ne&Qr,f[34]=qn^~T&Ve,f[35]=fr^~c&Ye,f[44]=Ue^~vr&dn,f[45]=De^~Mr&Rn,f[6]=Be^~Oe&Rr,f[7]=$e^~Ae&zn,f[16]=Er^~k&Z,f[17]=Dr^~j&ce,f[26]=Ie^~Yr&en,f[27]=Ne^~Qr&Tn,f[36]=T^~Ve&Xe,f[37]=c^~Ye&ze,f[46]=vr^~dn&Pn,f[47]=Mr^~Rn&jn,f[8]=Oe^~Rr&tn,f[9]=Ae^~zn&$n,f[18]=k^~Z&qe,f[19]=j^~ce&Je,f[28]=Yr^~en&Zt,f[29]=Qr^~Tn&Gn,f[38]=Ve^~Xe&fn,f[39]=Ye^~ze&lt,f[48]=dn^~Pn&me,f[49]=Rn^~jn&Me,f[0]^=x[l*2],f[1]^=x[l*2+1]}}},91e3:function(B,u,x){var f=x(55872).Buffer;const l=x(26921);function E(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}E.prototype.initialize=function(g,m){for(let y=0;y<50;++y)this.state[y]=0;this.blockSize=g/8,this.count=0,this.squeezing=!1},E.prototype.absorb=function(g){for(let m=0;m<g.length;++m)this.state[~~(this.count/4)]^=g[m]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(l.p1600(this.state),this.count=0)},E.prototype.absorbLastFewBits=function(g){this.state[~~(this.count/4)]^=g<<8*(this.count%4),g&128&&this.count===this.blockSize-1&&l.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),l.p1600(this.state),this.count=0,this.squeezing=!0},E.prototype.squeeze=function(g){this.squeezing||this.absorbLastFewBits(1);const m=f.alloc(g);for(let y=0;y<g;++y)m[y]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(l.p1600(this.state),this.count=0);return m},E.prototype.copy=function(g){for(let m=0;m<50;++m)g.state[m]=this.state[m];g.blockSize=this.blockSize,g.count=this.count,g.squeezing=this.squeezing},B.exports=E},38032:function(B,u,x){B.exports=x(54215)},54215:function(B,u,x){var f=x(55310);u.operation=function(l){var E=u.timeouts(l);return new f(E,{forever:l&&(l.forever||l.retries===1/0),unref:l&&l.unref,maxRetryTime:l&&l.maxRetryTime})},u.timeouts=function(l){if(l instanceof Array)return[].concat(l);var E={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var g in l)E[g]=l[g];if(E.minTimeout>E.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var m=[],y=0;y<E.retries;y++)m.push(this.createTimeout(y,E));return l&&l.forever&&!m.length&&m.push(this.createTimeout(y,E)),m.sort(function(h,_){return h-_}),m},u.createTimeout=function(l,E){var g=E.randomize?Math.random()+1:1,m=Math.round(g*Math.max(E.minTimeout,1)*Math.pow(E.factor,l));return m=Math.min(m,E.maxTimeout),m},u.wrap=function(l,E,g){if(E instanceof Array&&(g=E,E=null),!g){g=[];for(var m in l)typeof l[m]=="function"&&g.push(m)}for(var y=0;y<g.length;y++){var h=g[y],_=l[h];l[h]=function(I){var P=u.operation(E),C=Array.prototype.slice.call(arguments,1),w=C.pop();C.push(function(U){P.retry(U)||(U&&(arguments[0]=P.mainError()),w.apply(this,arguments))}),P.attempt(function(){I.apply(l,C)})}.bind(l,_),l[h].options=E}}},55310:function(B){function u(x,f){typeof f=="boolean"&&(f={forever:f}),this._originalTimeouts=JSON.parse(JSON.stringify(x)),this._timeouts=x,this._options=f||{},this._maxRetryTime=f&&f.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=u,u.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},u.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},u.prototype.retry=function(x){if(this._timeout&&clearTimeout(this._timeout),!x)return!1;var f=new Date().getTime();if(x&&f-this._operationStart>=this._maxRetryTime)return this._errors.push(x),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(x);var l=this._timeouts.shift();if(l===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),l=this._cachedTimeouts.slice(-1);else return!1;var E=this;return this._timer=setTimeout(function(){E._attempts++,E._operationTimeoutCb&&(E._timeout=setTimeout(function(){E._operationTimeoutCb(E._attempts)},E._operationTimeout),E._options.unref&&E._timeout.unref()),E._fn(E._attempts)},l),this._options.unref&&this._timer.unref(),!0},u.prototype.attempt=function(x,f){this._fn=x,f&&(f.timeout&&(this._operationTimeout=f.timeout),f.cb&&(this._operationTimeoutCb=f.cb));var l=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){l._operationTimeoutCb()},l._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},u.prototype.try=function(x){console.log("Using RetryOperation.try() is deprecated"),this.attempt(x)},u.prototype.start=function(x){console.log("Using RetryOperation.start() is deprecated"),this.attempt(x)},u.prototype.start=u.prototype.try,u.prototype.errors=function(){return this._errors},u.prototype.attempts=function(){return this._attempts},u.prototype.mainError=function(){if(this._errors.length===0)return null;for(var x={},f=null,l=0,E=0;E<this._errors.length;E++){var g=this._errors[E],m=g.message,y=(x[m]||0)+1;x[m]=y,y>=l&&(f=g,l=y)}return f}},9495:function(B){"use strict";(function(u){function f(C){const w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,D=3144134277,$=1013904242,ee=2773480762,Y=1359893119,ye=2600822924,W=528734635,te=1541459225;const X=new Uint32Array(64);function de(he){let Re=0,Se=he.length;for(;Se>=64;){let V=U,M=D,z=$,ae=ee,H=Y,J=ye,Ee=W,We=te,Pe,He,Ct,kt,wr;for(He=0;He<16;He++)Ct=Re+He*4,X[He]=(he[Ct]&255)<<24|(he[Ct+1]&255)<<16|(he[Ct+2]&255)<<8|he[Ct+3]&255;for(He=16;He<64;He++)Pe=X[He-2],kt=(Pe>>>17|Pe<<32-17)^(Pe>>>19|Pe<<32-19)^Pe>>>10,Pe=X[He-15],wr=(Pe>>>7|Pe<<32-7)^(Pe>>>18|Pe<<32-18)^Pe>>>3,X[He]=(kt+X[He-7]|0)+(wr+X[He-16]|0)|0;for(He=0;He<64;He++)kt=(((H>>>6|H<<32-6)^(H>>>11|H<<32-11)^(H>>>25|H<<32-25))+(H&J^~H&Ee)|0)+(We+(w[He]+X[He]|0)|0)|0,wr=((V>>>2|V<<32-2)^(V>>>13|V<<32-13)^(V>>>22|V<<32-22))+(V&M^V&z^M&z)|0,We=Ee,Ee=J,J=H,H=ae+kt|0,ae=z,z=M,M=V,V=kt+wr|0;U=U+V|0,D=D+M|0,$=$+z|0,ee=ee+ae|0,Y=Y+H|0,ye=ye+J|0,W=W+Ee|0,te=te+We|0,Re+=64,Se-=64}}de(C);let Te,xe=C.length%64,ve=C.length/536870912|0,F=C.length<<3,ne=xe<56?56:120,re=C.slice(C.length-xe,C.length);for(re.push(128),Te=xe+1;Te<ne;Te++)re.push(0);return re.push(ve>>>24&255),re.push(ve>>>16&255),re.push(ve>>>8&255),re.push(ve>>>0&255),re.push(F>>>24&255),re.push(F>>>16&255),re.push(F>>>8&255),re.push(F>>>0&255),de(re),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255,ye>>>24&255,ye>>>16&255,ye>>>8&255,ye>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255,te>>>24&255,te>>>16&255,te>>>8&255,te>>>0&255]}function l(C,w,U){C=C.length<=64?C:f(C);const D=64+w.length+4,$=new Array(D),ee=new Array(64);let Y,ye=[];for(Y=0;Y<64;Y++)$[Y]=54;for(Y=0;Y<C.length;Y++)$[Y]^=C[Y];for(Y=0;Y<w.length;Y++)$[64+Y]=w[Y];for(Y=D-4;Y<D;Y++)$[Y]=0;for(Y=0;Y<64;Y++)ee[Y]=92;for(Y=0;Y<C.length;Y++)ee[Y]^=C[Y];function W(){for(let te=D-1;te>=D-4;te--){if($[te]++,$[te]<=255)return;$[te]=0}}for(;U>=32;)W(),ye=ye.concat(f(ee.concat(f($)))),U-=32;return U>0&&(W(),ye=ye.concat(f(ee.concat(f($))).slice(0,U))),ye}function E(C,w,U,D,$){let ee;for(h(C,(2*U-1)*16,$,0,16),ee=0;ee<2*U;ee++)y(C,ee*16,$,16),m($,D),h($,0,C,w+ee*16,16);for(ee=0;ee<U;ee++)h(C,w+ee*2*16,C,ee*16,16);for(ee=0;ee<U;ee++)h(C,w+(ee*2+1)*16,C,(ee+U)*16,16)}function g(C,w){return C<<w|C>>>32-w}function m(C,w){h(C,0,w,0,16);for(let U=8;U>0;U-=2)w[4]^=g(w[0]+w[12],7),w[8]^=g(w[4]+w[0],9),w[12]^=g(w[8]+w[4],13),w[0]^=g(w[12]+w[8],18),w[9]^=g(w[5]+w[1],7),w[13]^=g(w[9]+w[5],9),w[1]^=g(w[13]+w[9],13),w[5]^=g(w[1]+w[13],18),w[14]^=g(w[10]+w[6],7),w[2]^=g(w[14]+w[10],9),w[6]^=g(w[2]+w[14],13),w[10]^=g(w[6]+w[2],18),w[3]^=g(w[15]+w[11],7),w[7]^=g(w[3]+w[15],9),w[11]^=g(w[7]+w[3],13),w[15]^=g(w[11]+w[7],18),w[1]^=g(w[0]+w[3],7),w[2]^=g(w[1]+w[0],9),w[3]^=g(w[2]+w[1],13),w[0]^=g(w[3]+w[2],18),w[6]^=g(w[5]+w[4],7),w[7]^=g(w[6]+w[5],9),w[4]^=g(w[7]+w[6],13),w[5]^=g(w[4]+w[7],18),w[11]^=g(w[10]+w[9],7),w[8]^=g(w[11]+w[10],9),w[9]^=g(w[8]+w[11],13),w[10]^=g(w[9]+w[8],18),w[12]^=g(w[15]+w[14],7),w[13]^=g(w[12]+w[15],9),w[14]^=g(w[13]+w[12],13),w[15]^=g(w[14]+w[13],18);for(let U=0;U<16;++U)C[U]+=w[U]}function y(C,w,U,D){for(let $=0;$<D;$++)U[$]^=C[w+$]}function h(C,w,U,D,$){for(;$--;)U[D++]=C[w++]}function _(C){if(!C||typeof C.length!="number")return!1;for(let w=0;w<C.length;w++){const U=C[w];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function S(C,w){if(typeof C!="number"||C%1)throw new Error("invalid "+w);return C}function I(C,w,U,D,$,ee,Y){if(U=S(U,"N"),D=S(D,"r"),$=S($,"p"),ee=S(ee,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/D)throw new Error("N too large");if(D>2147483647/128/$)throw new Error("r too large");if(!_(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!_(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let ye=l(C,w,$*128*D);const W=new Uint32Array($*32*D);for(let H=0;H<W.length;H++){const J=H*4;W[H]=(ye[J+3]&255)<<24|(ye[J+2]&255)<<16|(ye[J+1]&255)<<8|(ye[J+0]&255)<<0}const te=new Uint32Array(64*D),X=new Uint32Array(32*D*U),de=32*D,Te=new Uint32Array(16),xe=new Uint32Array(16),ve=$*U*2;let F=0,ne=null,re=!1,he=0,Re=0,Se,V;const M=Y?parseInt(1e3/D):4294967295,z=typeof setImmediate<"u"?setImmediate:setTimeout,ae=function(){if(re)return Y(new Error("cancelled"),F/ve);let H;switch(he){case 0:V=Re*32*D,h(W,V,te,0,de),he=1,Se=0;case 1:H=U-Se,H>M&&(H=M);for(let Ee=0;Ee<H;Ee++)h(te,0,X,(Se+Ee)*de,de),E(te,de,D,Te,xe);if(Se+=H,F+=H,Y){const Ee=parseInt(1e3*F/ve);if(Ee!==ne){if(re=Y(null,F/ve),re)break;ne=Ee}}if(Se<U)break;Se=0,he=2;case 2:H=U-Se,H>M&&(H=M);for(let Ee=0;Ee<H;Ee++){const We=(2*D-1)*16,Pe=te[We]&U-1;y(X,Pe*de,te,de),E(te,de,D,Te,xe)}if(Se+=H,F+=H,Y){const Ee=parseInt(1e3*F/ve);if(Ee!==ne){if(re=Y(null,F/ve),re)break;ne=Ee}}if(Se<U)break;if(h(te,0,W,V,de),Re++,Re<$){he=0;break}ye=[];for(let Ee=0;Ee<W.length;Ee++)ye.push(W[Ee]>>0&255),ye.push(W[Ee]>>8&255),ye.push(W[Ee]>>16&255),ye.push(W[Ee]>>24&255);const J=l(C,ye,ee);return Y&&Y(null,1,J),J}Y&&z(ae)};if(!Y)for(;;){const H=ae();if(H!=null)return H}ae()}const P={scrypt:function(C,w,U,D,$,ee,Y){return new Promise(function(ye,W){let te=0;Y&&Y(0),I(C,w,U,D,$,ee,function(X,de,Te){if(X)W(X);else if(Te)Y&&te!==1&&Y(1),ye(new Uint8Array(Te));else if(Y&&de!==te)return te=de,Y(de)})})},syncScrypt:function(C,w,U,D,$,ee){return new Uint8Array(I(C,w,U,D,$,ee))}};B.exports=P})(this)},85323:function(B,u,x){B.exports=x(85830)(x(94235))},94235:function(B,u,x){const f=x(86677).ec,l=new f("secp256k1"),E=l.curve,g=E.n.constructor;function m(S,I){let P=new g(I);if(P.cmp(E.p)>=0)return null;P=P.toRed(E.red);let C=P.redSqr().redIMul(P).redIAdd(E.b).redSqrt();return S===3!==C.isOdd()&&(C=C.redNeg()),l.keyPair({pub:{x:P,y:C}})}function y(S,I,P){let C=new g(I),w=new g(P);if(C.cmp(E.p)>=0||w.cmp(E.p)>=0||(C=C.toRed(E.red),w=w.toRed(E.red),(S===6||S===7)&&w.isOdd()!==(S===7)))return null;const U=C.redSqr().redIMul(C);return w.redSqr().redISub(U.redIAdd(E.b)).isZero()?l.keyPair({pub:{x:C,y:w}}):null}function h(S){const I=S[0];switch(I){case 2:case 3:return S.length!==33?null:m(I,S.subarray(1,33));case 4:case 6:case 7:return S.length!==65?null:y(I,S.subarray(1,33),S.subarray(33,65));default:return null}}function _(S,I){const P=I.encode(null,S.length===33);for(let C=0;C<S.length;++C)S[C]=P[C]}B.exports={contextRandomize(){return 0},privateKeyVerify(S){const I=new g(S);return I.cmp(E.n)<0&&!I.isZero()?0:1},privateKeyNegate(S){const I=new g(S),P=E.n.sub(I).umod(E.n).toArrayLike(Uint8Array,"be",32);return S.set(P),0},privateKeyTweakAdd(S,I){const P=new g(I);if(P.cmp(E.n)>=0||(P.iadd(new g(S)),P.cmp(E.n)>=0&&P.isub(E.n),P.isZero()))return 1;const C=P.toArrayLike(Uint8Array,"be",32);return S.set(C),0},privateKeyTweakMul(S,I){let P=new g(I);if(P.cmp(E.n)>=0||P.isZero())return 1;P.imul(new g(S)),P.cmp(E.n)>=0&&(P=P.umod(E.n));const C=P.toArrayLike(Uint8Array,"be",32);return S.set(C),0},publicKeyVerify(S){return h(S)===null?1:0},publicKeyCreate(S,I){const P=new g(I);if(P.cmp(E.n)>=0||P.isZero())return 1;const C=l.keyFromPrivate(I).getPublic();return _(S,C),0},publicKeyConvert(S,I){const P=h(I);if(P===null)return 1;const C=P.getPublic();return _(S,C),0},publicKeyNegate(S,I){const P=h(I);if(P===null)return 1;const C=P.getPublic();return C.y=C.y.redNeg(),_(S,C),0},publicKeyCombine(S,I){const P=new Array(I.length);for(let w=0;w<I.length;++w)if(P[w]=h(I[w]),P[w]===null)return 1;let C=P[0].getPublic();for(let w=1;w<P.length;++w)C=C.add(P[w].pub);return C.isInfinity()?2:(_(S,C),0)},publicKeyTweakAdd(S,I,P){const C=h(I);if(C===null)return 1;if(P=new g(P),P.cmp(E.n)>=0)return 2;const w=C.getPublic().add(E.g.mul(P));return w.isInfinity()?2:(_(S,w),0)},publicKeyTweakMul(S,I,P){const C=h(I);if(C===null)return 1;if(P=new g(P),P.cmp(E.n)>=0||P.isZero())return 2;const w=C.getPublic().mul(P);return _(S,w),0},signatureNormalize(S){const I=new g(S.subarray(0,32)),P=new g(S.subarray(32,64));return I.cmp(E.n)>=0||P.cmp(E.n)>=0?1:(P.cmp(l.nh)===1&&S.set(E.n.sub(P).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(S,I){const P=I.subarray(0,32),C=I.subarray(32,64);if(new g(P).cmp(E.n)>=0||new g(C).cmp(E.n)>=0)return 1;const{output:w}=S;let U=w.subarray(4,4+33);U[0]=0,U.set(P,1);let D=33,$=0;for(;D>1&&U[$]===0&&!(U[$+1]&128);--D,++$);if(U=U.subarray($),U[0]&128||D>1&&U[0]===0&&!(U[1]&128))return 1;let ee=w.subarray(6+33,6+33+33);ee[0]=0,ee.set(C,1);let Y=33,ye=0;for(;Y>1&&ee[ye]===0&&!(ee[ye+1]&128);--Y,++ye);return ee=ee.subarray(ye),ee[0]&128||Y>1&&ee[0]===0&&!(ee[1]&128)?1:(S.outputlen=6+D+Y,w[0]=48,w[1]=S.outputlen-2,w[2]=2,w[3]=U.length,w.set(U,4),w[4+D]=2,w[5+D]=ee.length,w.set(ee,6+D),0)},signatureImport(S,I){if(I.length<8||I.length>72||I[0]!==48||I[1]!==I.length-2||I[2]!==2)return 1;const P=I[3];if(P===0||5+P>=I.length||I[4+P]!==2)return 1;const C=I[5+P];if(C===0||6+P+C!==I.length||I[4]&128||P>1&&I[4]===0&&!(I[5]&128)||I[P+6]&128||C>1&&I[P+6]===0&&!(I[P+7]&128))return 1;let w=I.subarray(4,4+P);if(w.length===33&&w[0]===0&&(w=w.subarray(1)),w.length>32)return 1;let U=I.subarray(6+P);if(U.length===33&&U[0]===0&&(U=U.slice(1)),U.length>32)throw new Error("S length is too long");let D=new g(w);D.cmp(E.n)>=0&&(D=new g(0));let $=new g(I.subarray(6+P));return $.cmp(E.n)>=0&&($=new g(0)),S.set(D.toArrayLike(Uint8Array,"be",32),0),S.set($.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(S,I,P,C,w){if(w){const $=w;w=ee=>{const Y=$(I,P,null,C,ee);if(!(Y instanceof Uint8Array&&Y.length===32))throw new Error("This is the way");return new g(Y)}}const U=new g(P);if(U.cmp(E.n)>=0||U.isZero())return 1;let D;try{D=l.sign(I,P,{canonical:!0,k:w,pers:C})}catch{return 1}return S.signature.set(D.r.toArrayLike(Uint8Array,"be",32),0),S.signature.set(D.s.toArrayLike(Uint8Array,"be",32),32),S.recid=D.recoveryParam,0},ecdsaVerify(S,I,P){const C={r:S.subarray(0,32),s:S.subarray(32,64)},w=new g(C.r),U=new g(C.s);if(w.cmp(E.n)>=0||U.cmp(E.n)>=0)return 1;if(U.cmp(l.nh)===1||w.isZero()||U.isZero())return 3;const D=h(P);if(D===null)return 2;const $=D.getPublic();return l.verify(I,C,$)?0:3},ecdsaRecover(S,I,P,C){const w={r:I.slice(0,32),s:I.slice(32,64)},U=new g(w.r),D=new g(w.s);if(U.cmp(E.n)>=0||D.cmp(E.n)>=0)return 1;if(U.isZero()||D.isZero())return 2;let $;try{$=l.recoverPubKey(C,w,P)}catch{return 2}return _(S,$),0},ecdh(S,I,P,C,w,U,D){const $=h(I);if($===null)return 1;const ee=new g(P);if(ee.cmp(E.n)>=0||ee.isZero())return 2;const Y=$.getPublic().mul(ee);if(w===void 0){const ye=Y.encode(null,!0),W=l.hash().update(ye).digest();for(let te=0;te<32;++te)S[te]=W[te]}else{U||(U=new Uint8Array(32));const ye=Y.getX().toArray("be",32);for(let de=0;de<32;++de)U[de]=ye[de];D||(D=new Uint8Array(32));const W=Y.getY().toArray("be",32);for(let de=0;de<32;++de)D[de]=W[de];const te=w(U,D,C);if(!(te instanceof Uint8Array&&te.length===S.length))return 2;S.set(te)}return 0}}},85830:function(B){const u={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function x(m,y){if(!m)throw new Error(y)}function f(m,y,h){if(x(y instanceof Uint8Array,`Expected ${m} to be an Uint8Array`),h!==void 0)if(Array.isArray(h)){const _=h.join(", "),S=`Expected ${m} to be an Uint8Array with length [${_}]`;x(h.includes(y.length),S)}else{const _=`Expected ${m} to be an Uint8Array with length ${h}`;x(y.length===h,_)}}function l(m){x(g(m)==="Boolean","Expected compressed to be a Boolean")}function E(m=h=>new Uint8Array(h),y){return typeof m=="function"&&(m=m(y)),f("output",m,y),m}function g(m){return Object.prototype.toString.call(m).slice(8,-1)}B.exports=m=>({contextRandomize(y){switch(x(y===null||y instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),y!==null&&f("seed",y,32),m.contextRandomize(y)){case 1:throw new Error(u.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(y){return f("private key",y,32),m.privateKeyVerify(y)===0},privateKeyNegate(y){switch(f("private key",y,32),m.privateKeyNegate(y)){case 0:return y;case 1:throw new Error(u.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(y,h){switch(f("private key",y,32),f("tweak",h,32),m.privateKeyTweakAdd(y,h)){case 0:return y;case 1:throw new Error(u.TWEAK_ADD)}},privateKeyTweakMul(y,h){switch(f("private key",y,32),f("tweak",h,32),m.privateKeyTweakMul(y,h)){case 0:return y;case 1:throw new Error(u.TWEAK_MUL)}},publicKeyVerify(y){return f("public key",y,[33,65]),m.publicKeyVerify(y)===0},publicKeyCreate(y,h=!0,_){switch(f("private key",y,32),l(h),_=E(_,h?33:65),m.publicKeyCreate(_,y)){case 0:return _;case 1:throw new Error(u.SECKEY_INVALID);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyConvert(y,h=!0,_){switch(f("public key",y,[33,65]),l(h),_=E(_,h?33:65),m.publicKeyConvert(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyNegate(y,h=!0,_){switch(f("public key",y,[33,65]),l(h),_=E(_,h?33:65),m.publicKeyNegate(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyCombine(y,h=!0,_){x(Array.isArray(y),"Expected public keys to be an Array"),x(y.length>0,"Expected public keys array will have more than zero items");for(const S of y)f("public key",S,[33,65]);switch(l(h),_=E(_,h?33:65),m.publicKeyCombine(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_COMBINE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(y,h,_=!0,S){switch(f("public key",y,[33,65]),f("tweak",h,32),l(_),S=E(S,_?33:65),m.publicKeyTweakAdd(S,y,h)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_ADD)}},publicKeyTweakMul(y,h,_=!0,S){switch(f("public key",y,[33,65]),f("tweak",h,32),l(_),S=E(S,_?33:65),m.publicKeyTweakMul(S,y,h)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_MUL)}},signatureNormalize(y){switch(f("signature",y,64),m.signatureNormalize(y)){case 0:return y;case 1:throw new Error(u.SIG_PARSE)}},signatureExport(y,h){f("signature",y,64),h=E(h,72);const _={output:h,outputlen:72};switch(m.signatureExport(_,y)){case 0:return h.slice(0,_.outputlen);case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},signatureImport(y,h){switch(f("signature",y),h=E(h,64),m.signatureImport(h,y)){case 0:return h;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaSign(y,h,_={},S){f("message",y,32),f("private key",h,32),x(g(_)==="Object","Expected options to be an Object"),_.data!==void 0&&f("options.data",_.data),_.noncefn!==void 0&&x(g(_.noncefn)==="Function","Expected options.noncefn to be a Function"),S=E(S,64);const I={signature:S,recid:null};switch(m.ecdsaSign(I,y,h,_.data,_.noncefn)){case 0:return I;case 1:throw new Error(u.SIGN);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaVerify(y,h,_){switch(f("signature",y,64),f("message",h,32),f("public key",_,[33,65]),m.ecdsaVerify(y,h,_)){case 0:return!0;case 3:return!1;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.PUBKEY_PARSE)}},ecdsaRecover(y,h,_,S=!0,I){switch(f("signature",y,64),x(g(h)==="Number"&&h>=0&&h<=3,"Expected recovery id to be a Number within interval [0, 3]"),f("message",_,32),l(S),I=E(I,S?33:65),m.ecdsaRecover(I,y,h,_)){case 0:return I;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.RECOVER);case 3:throw new Error(u.IMPOSSIBLE_CASE)}},ecdh(y,h,_={},S){switch(f("public key",y,[33,65]),f("private key",h,32),x(g(_)==="Object","Expected options to be an Object"),_.data!==void 0&&f("options.data",_.data),_.hashfn!==void 0?(x(g(_.hashfn)==="Function","Expected options.hashfn to be a Function"),_.xbuf!==void 0&&f("options.xbuf",_.xbuf,32),_.ybuf!==void 0&&f("options.ybuf",_.ybuf,32),f("output",S)):S=E(S,32),m.ecdh(S,y,h,_.data,_.hashfn,_.xbuf,_.ybuf)){case 0:return S;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.ECDH)}}})},15711:function(B,u,x){(function(f){"use strict";var l=function(b){var R,T=new Float64Array(16);if(b)for(R=0;R<b.length;R++)T[R]=b[R];return T},E=function(){throw new Error("no PRNG")},g=new Uint8Array(16),m=new Uint8Array(32);m[0]=9;var y=l(),h=l([1]),_=l([56129,1]),S=l([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),I=l([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),P=l([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),C=l([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=l([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(b,R,T,c){b[R]=T>>24&255,b[R+1]=T>>16&255,b[R+2]=T>>8&255,b[R+3]=T&255,b[R+4]=c>>24&255,b[R+5]=c>>16&255,b[R+6]=c>>8&255,b[R+7]=c&255}function D(b,R,T,c,k){var j,Z=0;for(j=0;j<k;j++)Z|=b[R+j]^T[c+j];return(1&Z-1>>>8)-1}function $(b,R,T,c){return D(b,R,T,c,16)}function ee(b,R,T,c){return D(b,R,T,c,32)}function Y(b,R,T,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,j=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Z=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ce=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,me=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,ke=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,ct=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Be=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,$e=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Ve=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Ye=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Xe=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,ze=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,qe=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Je=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=k,De=j,Ie=Z,Ne=ce,Oe=me,Ae=Me,ie=ke,se=ct,pe=Be,ue=$e,le=Ve,ge=Ye,je=Xe,rt=ze,nt=qe,it=Je,N,at=0;at<20;at+=2)N=Ue+je|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,pe^=N<<9|N>>>32-9,N=pe+Oe|0,je^=N<<13|N>>>32-13,N=je+pe|0,Ue^=N<<18|N>>>32-18,N=Ae+De|0,ue^=N<<7|N>>>32-7,N=ue+Ae|0,rt^=N<<9|N>>>32-9,N=rt+ue|0,De^=N<<13|N>>>32-13,N=De+rt|0,Ae^=N<<18|N>>>32-18,N=le+ie|0,nt^=N<<7|N>>>32-7,N=nt+le|0,Ie^=N<<9|N>>>32-9,N=Ie+nt|0,ie^=N<<13|N>>>32-13,N=ie+Ie|0,le^=N<<18|N>>>32-18,N=it+ge|0,Ne^=N<<7|N>>>32-7,N=Ne+it|0,se^=N<<9|N>>>32-9,N=se+Ne|0,ge^=N<<13|N>>>32-13,N=ge+se|0,it^=N<<18|N>>>32-18,N=Ue+Ne|0,De^=N<<7|N>>>32-7,N=De+Ue|0,Ie^=N<<9|N>>>32-9,N=Ie+De|0,Ne^=N<<13|N>>>32-13,N=Ne+Ie|0,Ue^=N<<18|N>>>32-18,N=Ae+Oe|0,ie^=N<<7|N>>>32-7,N=ie+Ae|0,se^=N<<9|N>>>32-9,N=se+ie|0,Oe^=N<<13|N>>>32-13,N=Oe+se|0,Ae^=N<<18|N>>>32-18,N=le+ue|0,ge^=N<<7|N>>>32-7,N=ge+le|0,pe^=N<<9|N>>>32-9,N=pe+ge|0,ue^=N<<13|N>>>32-13,N=ue+pe|0,le^=N<<18|N>>>32-18,N=it+nt|0,je^=N<<7|N>>>32-7,N=je+it|0,rt^=N<<9|N>>>32-9,N=rt+je|0,nt^=N<<13|N>>>32-13,N=nt+rt|0,it^=N<<18|N>>>32-18;Ue=Ue+k|0,De=De+j|0,Ie=Ie+Z|0,Ne=Ne+ce|0,Oe=Oe+me|0,Ae=Ae+Me|0,ie=ie+ke|0,se=se+ct|0,pe=pe+Be|0,ue=ue+$e|0,le=le+Ve|0,ge=ge+Ye|0,je=je+Xe|0,rt=rt+ze|0,nt=nt+qe|0,it=it+Je|0,b[0]=Ue>>>0&255,b[1]=Ue>>>8&255,b[2]=Ue>>>16&255,b[3]=Ue>>>24&255,b[4]=De>>>0&255,b[5]=De>>>8&255,b[6]=De>>>16&255,b[7]=De>>>24&255,b[8]=Ie>>>0&255,b[9]=Ie>>>8&255,b[10]=Ie>>>16&255,b[11]=Ie>>>24&255,b[12]=Ne>>>0&255,b[13]=Ne>>>8&255,b[14]=Ne>>>16&255,b[15]=Ne>>>24&255,b[16]=Oe>>>0&255,b[17]=Oe>>>8&255,b[18]=Oe>>>16&255,b[19]=Oe>>>24&255,b[20]=Ae>>>0&255,b[21]=Ae>>>8&255,b[22]=Ae>>>16&255,b[23]=Ae>>>24&255,b[24]=ie>>>0&255,b[25]=ie>>>8&255,b[26]=ie>>>16&255,b[27]=ie>>>24&255,b[28]=se>>>0&255,b[29]=se>>>8&255,b[30]=se>>>16&255,b[31]=se>>>24&255,b[32]=pe>>>0&255,b[33]=pe>>>8&255,b[34]=pe>>>16&255,b[35]=pe>>>24&255,b[36]=ue>>>0&255,b[37]=ue>>>8&255,b[38]=ue>>>16&255,b[39]=ue>>>24&255,b[40]=le>>>0&255,b[41]=le>>>8&255,b[42]=le>>>16&255,b[43]=le>>>24&255,b[44]=ge>>>0&255,b[45]=ge>>>8&255,b[46]=ge>>>16&255,b[47]=ge>>>24&255,b[48]=je>>>0&255,b[49]=je>>>8&255,b[50]=je>>>16&255,b[51]=je>>>24&255,b[52]=rt>>>0&255,b[53]=rt>>>8&255,b[54]=rt>>>16&255,b[55]=rt>>>24&255,b[56]=nt>>>0&255,b[57]=nt>>>8&255,b[58]=nt>>>16&255,b[59]=nt>>>24&255,b[60]=it>>>0&255,b[61]=it>>>8&255,b[62]=it>>>16&255,b[63]=it>>>24&255}function ye(b,R,T,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,j=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Z=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ce=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,me=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,ke=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,ct=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Be=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,$e=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Ve=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Ye=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Xe=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,ze=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,qe=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Je=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=k,De=j,Ie=Z,Ne=ce,Oe=me,Ae=Me,ie=ke,se=ct,pe=Be,ue=$e,le=Ve,ge=Ye,je=Xe,rt=ze,nt=qe,it=Je,N,at=0;at<20;at+=2)N=Ue+je|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,pe^=N<<9|N>>>32-9,N=pe+Oe|0,je^=N<<13|N>>>32-13,N=je+pe|0,Ue^=N<<18|N>>>32-18,N=Ae+De|0,ue^=N<<7|N>>>32-7,N=ue+Ae|0,rt^=N<<9|N>>>32-9,N=rt+ue|0,De^=N<<13|N>>>32-13,N=De+rt|0,Ae^=N<<18|N>>>32-18,N=le+ie|0,nt^=N<<7|N>>>32-7,N=nt+le|0,Ie^=N<<9|N>>>32-9,N=Ie+nt|0,ie^=N<<13|N>>>32-13,N=ie+Ie|0,le^=N<<18|N>>>32-18,N=it+ge|0,Ne^=N<<7|N>>>32-7,N=Ne+it|0,se^=N<<9|N>>>32-9,N=se+Ne|0,ge^=N<<13|N>>>32-13,N=ge+se|0,it^=N<<18|N>>>32-18,N=Ue+Ne|0,De^=N<<7|N>>>32-7,N=De+Ue|0,Ie^=N<<9|N>>>32-9,N=Ie+De|0,Ne^=N<<13|N>>>32-13,N=Ne+Ie|0,Ue^=N<<18|N>>>32-18,N=Ae+Oe|0,ie^=N<<7|N>>>32-7,N=ie+Ae|0,se^=N<<9|N>>>32-9,N=se+ie|0,Oe^=N<<13|N>>>32-13,N=Oe+se|0,Ae^=N<<18|N>>>32-18,N=le+ue|0,ge^=N<<7|N>>>32-7,N=ge+le|0,pe^=N<<9|N>>>32-9,N=pe+ge|0,ue^=N<<13|N>>>32-13,N=ue+pe|0,le^=N<<18|N>>>32-18,N=it+nt|0,je^=N<<7|N>>>32-7,N=je+it|0,rt^=N<<9|N>>>32-9,N=rt+je|0,nt^=N<<13|N>>>32-13,N=nt+rt|0,it^=N<<18|N>>>32-18;b[0]=Ue>>>0&255,b[1]=Ue>>>8&255,b[2]=Ue>>>16&255,b[3]=Ue>>>24&255,b[4]=Ae>>>0&255,b[5]=Ae>>>8&255,b[6]=Ae>>>16&255,b[7]=Ae>>>24&255,b[8]=le>>>0&255,b[9]=le>>>8&255,b[10]=le>>>16&255,b[11]=le>>>24&255,b[12]=it>>>0&255,b[13]=it>>>8&255,b[14]=it>>>16&255,b[15]=it>>>24&255,b[16]=ie>>>0&255,b[17]=ie>>>8&255,b[18]=ie>>>16&255,b[19]=ie>>>24&255,b[20]=se>>>0&255,b[21]=se>>>8&255,b[22]=se>>>16&255,b[23]=se>>>24&255,b[24]=pe>>>0&255,b[25]=pe>>>8&255,b[26]=pe>>>16&255,b[27]=pe>>>24&255,b[28]=ue>>>0&255,b[29]=ue>>>8&255,b[30]=ue>>>16&255,b[31]=ue>>>24&255}function W(b,R,T,c){Y(b,R,T,c)}function te(b,R,T,c){ye(b,R,T,c)}var X=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function de(b,R,T,c,k,j,Z){var ce=new Uint8Array(16),me=new Uint8Array(64),Me,ke;for(ke=0;ke<16;ke++)ce[ke]=0;for(ke=0;ke<8;ke++)ce[ke]=j[ke];for(;k>=64;){for(W(me,ce,Z,X),ke=0;ke<64;ke++)b[R+ke]=T[c+ke]^me[ke];for(Me=1,ke=8;ke<16;ke++)Me=Me+(ce[ke]&255)|0,ce[ke]=Me&255,Me>>>=8;k-=64,R+=64,c+=64}if(k>0)for(W(me,ce,Z,X),ke=0;ke<k;ke++)b[R+ke]=T[c+ke]^me[ke];return 0}function Te(b,R,T,c,k){var j=new Uint8Array(16),Z=new Uint8Array(64),ce,me;for(me=0;me<16;me++)j[me]=0;for(me=0;me<8;me++)j[me]=c[me];for(;T>=64;){for(W(Z,j,k,X),me=0;me<64;me++)b[R+me]=Z[me];for(ce=1,me=8;me<16;me++)ce=ce+(j[me]&255)|0,j[me]=ce&255,ce>>>=8;T-=64,R+=64}if(T>0)for(W(Z,j,k,X),me=0;me<T;me++)b[R+me]=Z[me];return 0}function xe(b,R,T,c,k){var j=new Uint8Array(32);te(j,c,k,X);for(var Z=new Uint8Array(8),ce=0;ce<8;ce++)Z[ce]=c[ce+16];return Te(b,R,T,Z,j)}function ve(b,R,T,c,k,j,Z){var ce=new Uint8Array(32);te(ce,j,Z,X);for(var me=new Uint8Array(8),Me=0;Me<8;Me++)me[Me]=j[Me+16];return de(b,R,T,c,k,me,ce)}var F=function(b){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,T,c,k,j,Z,ce,me;R=b[0]&255|(b[1]&255)<<8,this.r[0]=R&8191,T=b[2]&255|(b[3]&255)<<8,this.r[1]=(R>>>13|T<<3)&8191,c=b[4]&255|(b[5]&255)<<8,this.r[2]=(T>>>10|c<<6)&7939,k=b[6]&255|(b[7]&255)<<8,this.r[3]=(c>>>7|k<<9)&8191,j=b[8]&255|(b[9]&255)<<8,this.r[4]=(k>>>4|j<<12)&255,this.r[5]=j>>>1&8190,Z=b[10]&255|(b[11]&255)<<8,this.r[6]=(j>>>14|Z<<2)&8191,ce=b[12]&255|(b[13]&255)<<8,this.r[7]=(Z>>>11|ce<<5)&8065,me=b[14]&255|(b[15]&255)<<8,this.r[8]=(ce>>>8|me<<8)&8191,this.r[9]=me>>>5&127,this.pad[0]=b[16]&255|(b[17]&255)<<8,this.pad[1]=b[18]&255|(b[19]&255)<<8,this.pad[2]=b[20]&255|(b[21]&255)<<8,this.pad[3]=b[22]&255|(b[23]&255)<<8,this.pad[4]=b[24]&255|(b[25]&255)<<8,this.pad[5]=b[26]&255|(b[27]&255)<<8,this.pad[6]=b[28]&255|(b[29]&255)<<8,this.pad[7]=b[30]&255|(b[31]&255)<<8};F.prototype.blocks=function(b,R,T){for(var c=this.fin?0:2048,k,j,Z,ce,me,Me,ke,ct,Be,$e,Ve,Ye,Xe,ze,qe,Je,Ue,De,Ie,Ne=this.h[0],Oe=this.h[1],Ae=this.h[2],ie=this.h[3],se=this.h[4],pe=this.h[5],ue=this.h[6],le=this.h[7],ge=this.h[8],je=this.h[9],rt=this.r[0],nt=this.r[1],it=this.r[2],N=this.r[3],at=this.r[4],yt=this.r[5],ht=this.r[6],ot=this.r[7],xt=this.r[8],ft=this.r[9];T>=16;)k=b[R+0]&255|(b[R+1]&255)<<8,Ne+=k&8191,j=b[R+2]&255|(b[R+3]&255)<<8,Oe+=(k>>>13|j<<3)&8191,Z=b[R+4]&255|(b[R+5]&255)<<8,Ae+=(j>>>10|Z<<6)&8191,ce=b[R+6]&255|(b[R+7]&255)<<8,ie+=(Z>>>7|ce<<9)&8191,me=b[R+8]&255|(b[R+9]&255)<<8,se+=(ce>>>4|me<<12)&8191,pe+=me>>>1&8191,Me=b[R+10]&255|(b[R+11]&255)<<8,ue+=(me>>>14|Me<<2)&8191,ke=b[R+12]&255|(b[R+13]&255)<<8,le+=(Me>>>11|ke<<5)&8191,ct=b[R+14]&255|(b[R+15]&255)<<8,ge+=(ke>>>8|ct<<8)&8191,je+=ct>>>5|c,Be=0,$e=Be,$e+=Ne*rt,$e+=Oe*(5*ft),$e+=Ae*(5*xt),$e+=ie*(5*ot),$e+=se*(5*ht),Be=$e>>>13,$e&=8191,$e+=pe*(5*yt),$e+=ue*(5*at),$e+=le*(5*N),$e+=ge*(5*it),$e+=je*(5*nt),Be+=$e>>>13,$e&=8191,Ve=Be,Ve+=Ne*nt,Ve+=Oe*rt,Ve+=Ae*(5*ft),Ve+=ie*(5*xt),Ve+=se*(5*ot),Be=Ve>>>13,Ve&=8191,Ve+=pe*(5*ht),Ve+=ue*(5*yt),Ve+=le*(5*at),Ve+=ge*(5*N),Ve+=je*(5*it),Be+=Ve>>>13,Ve&=8191,Ye=Be,Ye+=Ne*it,Ye+=Oe*nt,Ye+=Ae*rt,Ye+=ie*(5*ft),Ye+=se*(5*xt),Be=Ye>>>13,Ye&=8191,Ye+=pe*(5*ot),Ye+=ue*(5*ht),Ye+=le*(5*yt),Ye+=ge*(5*at),Ye+=je*(5*N),Be+=Ye>>>13,Ye&=8191,Xe=Be,Xe+=Ne*N,Xe+=Oe*it,Xe+=Ae*nt,Xe+=ie*rt,Xe+=se*(5*ft),Be=Xe>>>13,Xe&=8191,Xe+=pe*(5*xt),Xe+=ue*(5*ot),Xe+=le*(5*ht),Xe+=ge*(5*yt),Xe+=je*(5*at),Be+=Xe>>>13,Xe&=8191,ze=Be,ze+=Ne*at,ze+=Oe*N,ze+=Ae*it,ze+=ie*nt,ze+=se*rt,Be=ze>>>13,ze&=8191,ze+=pe*(5*ft),ze+=ue*(5*xt),ze+=le*(5*ot),ze+=ge*(5*ht),ze+=je*(5*yt),Be+=ze>>>13,ze&=8191,qe=Be,qe+=Ne*yt,qe+=Oe*at,qe+=Ae*N,qe+=ie*it,qe+=se*nt,Be=qe>>>13,qe&=8191,qe+=pe*rt,qe+=ue*(5*ft),qe+=le*(5*xt),qe+=ge*(5*ot),qe+=je*(5*ht),Be+=qe>>>13,qe&=8191,Je=Be,Je+=Ne*ht,Je+=Oe*yt,Je+=Ae*at,Je+=ie*N,Je+=se*it,Be=Je>>>13,Je&=8191,Je+=pe*nt,Je+=ue*rt,Je+=le*(5*ft),Je+=ge*(5*xt),Je+=je*(5*ot),Be+=Je>>>13,Je&=8191,Ue=Be,Ue+=Ne*ot,Ue+=Oe*ht,Ue+=Ae*yt,Ue+=ie*at,Ue+=se*N,Be=Ue>>>13,Ue&=8191,Ue+=pe*it,Ue+=ue*nt,Ue+=le*rt,Ue+=ge*(5*ft),Ue+=je*(5*xt),Be+=Ue>>>13,Ue&=8191,De=Be,De+=Ne*xt,De+=Oe*ot,De+=Ae*ht,De+=ie*yt,De+=se*at,Be=De>>>13,De&=8191,De+=pe*N,De+=ue*it,De+=le*nt,De+=ge*rt,De+=je*(5*ft),Be+=De>>>13,De&=8191,Ie=Be,Ie+=Ne*ft,Ie+=Oe*xt,Ie+=Ae*ot,Ie+=ie*ht,Ie+=se*yt,Be=Ie>>>13,Ie&=8191,Ie+=pe*at,Ie+=ue*N,Ie+=le*it,Ie+=ge*nt,Ie+=je*rt,Be+=Ie>>>13,Ie&=8191,Be=(Be<<2)+Be|0,Be=Be+$e|0,$e=Be&8191,Be=Be>>>13,Ve+=Be,Ne=$e,Oe=Ve,Ae=Ye,ie=Xe,se=ze,pe=qe,ue=Je,le=Ue,ge=De,je=Ie,R+=16,T-=16;this.h[0]=Ne,this.h[1]=Oe,this.h[2]=Ae,this.h[3]=ie,this.h[4]=se,this.h[5]=pe,this.h[6]=ue,this.h[7]=le,this.h[8]=ge,this.h[9]=je},F.prototype.finish=function(b,R){var T=new Uint16Array(10),c,k,j,Z;if(this.leftover){for(Z=this.leftover,this.buffer[Z++]=1;Z<16;Z++)this.buffer[Z]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,Z=2;Z<10;Z++)this.h[Z]+=c,c=this.h[Z]>>>13,this.h[Z]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,T[0]=this.h[0]+5,c=T[0]>>>13,T[0]&=8191,Z=1;Z<10;Z++)T[Z]=this.h[Z]+c,c=T[Z]>>>13,T[Z]&=8191;for(T[9]-=8192,k=(c^1)-1,Z=0;Z<10;Z++)T[Z]&=k;for(k=~k,Z=0;Z<10;Z++)this.h[Z]=this.h[Z]&k|T[Z];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,j=this.h[0]+this.pad[0],this.h[0]=j&65535,Z=1;Z<8;Z++)j=(this.h[Z]+this.pad[Z]|0)+(j>>>16)|0,this.h[Z]=j&65535;b[R+0]=this.h[0]>>>0&255,b[R+1]=this.h[0]>>>8&255,b[R+2]=this.h[1]>>>0&255,b[R+3]=this.h[1]>>>8&255,b[R+4]=this.h[2]>>>0&255,b[R+5]=this.h[2]>>>8&255,b[R+6]=this.h[3]>>>0&255,b[R+7]=this.h[3]>>>8&255,b[R+8]=this.h[4]>>>0&255,b[R+9]=this.h[4]>>>8&255,b[R+10]=this.h[5]>>>0&255,b[R+11]=this.h[5]>>>8&255,b[R+12]=this.h[6]>>>0&255,b[R+13]=this.h[6]>>>8&255,b[R+14]=this.h[7]>>>0&255,b[R+15]=this.h[7]>>>8&255},F.prototype.update=function(b,R,T){var c,k;if(this.leftover){for(k=16-this.leftover,k>T&&(k=T),c=0;c<k;c++)this.buffer[this.leftover+c]=b[R+c];if(T-=k,R+=k,this.leftover+=k,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(k=T-T%16,this.blocks(b,R,k),R+=k,T-=k),T){for(c=0;c<T;c++)this.buffer[this.leftover+c]=b[R+c];this.leftover+=T}};function ne(b,R,T,c,k,j){var Z=new F(j);return Z.update(T,c,k),Z.finish(b,R),0}function re(b,R,T,c,k,j){var Z=new Uint8Array(16);return ne(Z,0,T,c,k,j),$(b,R,Z,0)}function he(b,R,T,c,k){var j;if(T<32)return-1;for(ve(b,0,R,0,T,c,k),ne(b,16,b,32,T-32,b),j=0;j<16;j++)b[j]=0;return 0}function Re(b,R,T,c,k){var j,Z=new Uint8Array(32);if(T<32||(xe(Z,0,32,c,k),re(R,16,R,32,T-32,Z)!==0))return-1;for(ve(b,0,R,0,T,c,k),j=0;j<32;j++)b[j]=0;return 0}function Se(b,R){var T;for(T=0;T<16;T++)b[T]=R[T]|0}function V(b){var R,T,c=1;for(R=0;R<16;R++)T=b[R]+c+65535,c=Math.floor(T/65536),b[R]=T-c*65536;b[0]+=c-1+37*(c-1)}function M(b,R,T){for(var c,k=~(T-1),j=0;j<16;j++)c=k&(b[j]^R[j]),b[j]^=c,R[j]^=c}function z(b,R){var T,c,k,j=l(),Z=l();for(T=0;T<16;T++)Z[T]=R[T];for(V(Z),V(Z),V(Z),c=0;c<2;c++){for(j[0]=Z[0]-65517,T=1;T<15;T++)j[T]=Z[T]-65535-(j[T-1]>>16&1),j[T-1]&=65535;j[15]=Z[15]-32767-(j[14]>>16&1),k=j[15]>>16&1,j[14]&=65535,M(Z,j,1-k)}for(T=0;T<16;T++)b[2*T]=Z[T]&255,b[2*T+1]=Z[T]>>8}function ae(b,R){var T=new Uint8Array(32),c=new Uint8Array(32);return z(T,b),z(c,R),ee(T,0,c,0)}function H(b){var R=new Uint8Array(32);return z(R,b),R[0]&1}function J(b,R){var T;for(T=0;T<16;T++)b[T]=R[2*T]+(R[2*T+1]<<8);b[15]&=32767}function Ee(b,R,T){for(var c=0;c<16;c++)b[c]=R[c]+T[c]}function We(b,R,T){for(var c=0;c<16;c++)b[c]=R[c]-T[c]}function Pe(b,R,T){var c,k,j=0,Z=0,ce=0,me=0,Me=0,ke=0,ct=0,Be=0,$e=0,Ve=0,Ye=0,Xe=0,ze=0,qe=0,Je=0,Ue=0,De=0,Ie=0,Ne=0,Oe=0,Ae=0,ie=0,se=0,pe=0,ue=0,le=0,ge=0,je=0,rt=0,nt=0,it=0,N=T[0],at=T[1],yt=T[2],ht=T[3],ot=T[4],xt=T[5],ft=T[6],Mt=T[7],At=T[8],It=T[9],Pt=T[10],Bt=T[11],qt=T[12],Dt=T[13],Yt=T[14],Vt=T[15];c=R[0],j+=c*N,Z+=c*at,ce+=c*yt,me+=c*ht,Me+=c*ot,ke+=c*xt,ct+=c*ft,Be+=c*Mt,$e+=c*At,Ve+=c*It,Ye+=c*Pt,Xe+=c*Bt,ze+=c*qt,qe+=c*Dt,Je+=c*Yt,Ue+=c*Vt,c=R[1],Z+=c*N,ce+=c*at,me+=c*yt,Me+=c*ht,ke+=c*ot,ct+=c*xt,Be+=c*ft,$e+=c*Mt,Ve+=c*At,Ye+=c*It,Xe+=c*Pt,ze+=c*Bt,qe+=c*qt,Je+=c*Dt,Ue+=c*Yt,De+=c*Vt,c=R[2],ce+=c*N,me+=c*at,Me+=c*yt,ke+=c*ht,ct+=c*ot,Be+=c*xt,$e+=c*ft,Ve+=c*Mt,Ye+=c*At,Xe+=c*It,ze+=c*Pt,qe+=c*Bt,Je+=c*qt,Ue+=c*Dt,De+=c*Yt,Ie+=c*Vt,c=R[3],me+=c*N,Me+=c*at,ke+=c*yt,ct+=c*ht,Be+=c*ot,$e+=c*xt,Ve+=c*ft,Ye+=c*Mt,Xe+=c*At,ze+=c*It,qe+=c*Pt,Je+=c*Bt,Ue+=c*qt,De+=c*Dt,Ie+=c*Yt,Ne+=c*Vt,c=R[4],Me+=c*N,ke+=c*at,ct+=c*yt,Be+=c*ht,$e+=c*ot,Ve+=c*xt,Ye+=c*ft,Xe+=c*Mt,ze+=c*At,qe+=c*It,Je+=c*Pt,Ue+=c*Bt,De+=c*qt,Ie+=c*Dt,Ne+=c*Yt,Oe+=c*Vt,c=R[5],ke+=c*N,ct+=c*at,Be+=c*yt,$e+=c*ht,Ve+=c*ot,Ye+=c*xt,Xe+=c*ft,ze+=c*Mt,qe+=c*At,Je+=c*It,Ue+=c*Pt,De+=c*Bt,Ie+=c*qt,Ne+=c*Dt,Oe+=c*Yt,Ae+=c*Vt,c=R[6],ct+=c*N,Be+=c*at,$e+=c*yt,Ve+=c*ht,Ye+=c*ot,Xe+=c*xt,ze+=c*ft,qe+=c*Mt,Je+=c*At,Ue+=c*It,De+=c*Pt,Ie+=c*Bt,Ne+=c*qt,Oe+=c*Dt,Ae+=c*Yt,ie+=c*Vt,c=R[7],Be+=c*N,$e+=c*at,Ve+=c*yt,Ye+=c*ht,Xe+=c*ot,ze+=c*xt,qe+=c*ft,Je+=c*Mt,Ue+=c*At,De+=c*It,Ie+=c*Pt,Ne+=c*Bt,Oe+=c*qt,Ae+=c*Dt,ie+=c*Yt,se+=c*Vt,c=R[8],$e+=c*N,Ve+=c*at,Ye+=c*yt,Xe+=c*ht,ze+=c*ot,qe+=c*xt,Je+=c*ft,Ue+=c*Mt,De+=c*At,Ie+=c*It,Ne+=c*Pt,Oe+=c*Bt,Ae+=c*qt,ie+=c*Dt,se+=c*Yt,pe+=c*Vt,c=R[9],Ve+=c*N,Ye+=c*at,Xe+=c*yt,ze+=c*ht,qe+=c*ot,Je+=c*xt,Ue+=c*ft,De+=c*Mt,Ie+=c*At,Ne+=c*It,Oe+=c*Pt,Ae+=c*Bt,ie+=c*qt,se+=c*Dt,pe+=c*Yt,ue+=c*Vt,c=R[10],Ye+=c*N,Xe+=c*at,ze+=c*yt,qe+=c*ht,Je+=c*ot,Ue+=c*xt,De+=c*ft,Ie+=c*Mt,Ne+=c*At,Oe+=c*It,Ae+=c*Pt,ie+=c*Bt,se+=c*qt,pe+=c*Dt,ue+=c*Yt,le+=c*Vt,c=R[11],Xe+=c*N,ze+=c*at,qe+=c*yt,Je+=c*ht,Ue+=c*ot,De+=c*xt,Ie+=c*ft,Ne+=c*Mt,Oe+=c*At,Ae+=c*It,ie+=c*Pt,se+=c*Bt,pe+=c*qt,ue+=c*Dt,le+=c*Yt,ge+=c*Vt,c=R[12],ze+=c*N,qe+=c*at,Je+=c*yt,Ue+=c*ht,De+=c*ot,Ie+=c*xt,Ne+=c*ft,Oe+=c*Mt,Ae+=c*At,ie+=c*It,se+=c*Pt,pe+=c*Bt,ue+=c*qt,le+=c*Dt,ge+=c*Yt,je+=c*Vt,c=R[13],qe+=c*N,Je+=c*at,Ue+=c*yt,De+=c*ht,Ie+=c*ot,Ne+=c*xt,Oe+=c*ft,Ae+=c*Mt,ie+=c*At,se+=c*It,pe+=c*Pt,ue+=c*Bt,le+=c*qt,ge+=c*Dt,je+=c*Yt,rt+=c*Vt,c=R[14],Je+=c*N,Ue+=c*at,De+=c*yt,Ie+=c*ht,Ne+=c*ot,Oe+=c*xt,Ae+=c*ft,ie+=c*Mt,se+=c*At,pe+=c*It,ue+=c*Pt,le+=c*Bt,ge+=c*qt,je+=c*Dt,rt+=c*Yt,nt+=c*Vt,c=R[15],Ue+=c*N,De+=c*at,Ie+=c*yt,Ne+=c*ht,Oe+=c*ot,Ae+=c*xt,ie+=c*ft,se+=c*Mt,pe+=c*At,ue+=c*It,le+=c*Pt,ge+=c*Bt,je+=c*qt,rt+=c*Dt,nt+=c*Yt,it+=c*Vt,j+=38*De,Z+=38*Ie,ce+=38*Ne,me+=38*Oe,Me+=38*Ae,ke+=38*ie,ct+=38*se,Be+=38*pe,$e+=38*ue,Ve+=38*le,Ye+=38*ge,Xe+=38*je,ze+=38*rt,qe+=38*nt,Je+=38*it,k=1,c=j+k+65535,k=Math.floor(c/65536),j=c-k*65536,c=Z+k+65535,k=Math.floor(c/65536),Z=c-k*65536,c=ce+k+65535,k=Math.floor(c/65536),ce=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Me+k+65535,k=Math.floor(c/65536),Me=c-k*65536,c=ke+k+65535,k=Math.floor(c/65536),ke=c-k*65536,c=ct+k+65535,k=Math.floor(c/65536),ct=c-k*65536,c=Be+k+65535,k=Math.floor(c/65536),Be=c-k*65536,c=$e+k+65535,k=Math.floor(c/65536),$e=c-k*65536,c=Ve+k+65535,k=Math.floor(c/65536),Ve=c-k*65536,c=Ye+k+65535,k=Math.floor(c/65536),Ye=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=ze+k+65535,k=Math.floor(c/65536),ze=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=Ue+k+65535,k=Math.floor(c/65536),Ue=c-k*65536,j+=k-1+37*(k-1),k=1,c=j+k+65535,k=Math.floor(c/65536),j=c-k*65536,c=Z+k+65535,k=Math.floor(c/65536),Z=c-k*65536,c=ce+k+65535,k=Math.floor(c/65536),ce=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Me+k+65535,k=Math.floor(c/65536),Me=c-k*65536,c=ke+k+65535,k=Math.floor(c/65536),ke=c-k*65536,c=ct+k+65535,k=Math.floor(c/65536),ct=c-k*65536,c=Be+k+65535,k=Math.floor(c/65536),Be=c-k*65536,c=$e+k+65535,k=Math.floor(c/65536),$e=c-k*65536,c=Ve+k+65535,k=Math.floor(c/65536),Ve=c-k*65536,c=Ye+k+65535,k=Math.floor(c/65536),Ye=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=ze+k+65535,k=Math.floor(c/65536),ze=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=Ue+k+65535,k=Math.floor(c/65536),Ue=c-k*65536,j+=k-1+37*(k-1),b[0]=j,b[1]=Z,b[2]=ce,b[3]=me,b[4]=Me,b[5]=ke,b[6]=ct,b[7]=Be,b[8]=$e,b[9]=Ve,b[10]=Ye,b[11]=Xe,b[12]=ze,b[13]=qe,b[14]=Je,b[15]=Ue}function He(b,R){Pe(b,R,R)}function Ct(b,R){var T=l(),c;for(c=0;c<16;c++)T[c]=R[c];for(c=253;c>=0;c--)He(T,T),c!==2&&c!==4&&Pe(T,T,R);for(c=0;c<16;c++)b[c]=T[c]}function kt(b,R){var T=l(),c;for(c=0;c<16;c++)T[c]=R[c];for(c=250;c>=0;c--)He(T,T),c!==1&&Pe(T,T,R);for(c=0;c<16;c++)b[c]=T[c]}function wr(b,R,T){var c=new Uint8Array(32),k=new Float64Array(80),j,Z,ce=l(),me=l(),Me=l(),ke=l(),ct=l(),Be=l();for(Z=0;Z<31;Z++)c[Z]=R[Z];for(c[31]=R[31]&127|64,c[0]&=248,J(k,T),Z=0;Z<16;Z++)me[Z]=k[Z],ke[Z]=ce[Z]=Me[Z]=0;for(ce[0]=ke[0]=1,Z=254;Z>=0;--Z)j=c[Z>>>3]>>>(Z&7)&1,M(ce,me,j),M(Me,ke,j),Ee(ct,ce,Me),We(ce,ce,Me),Ee(Me,me,ke),We(me,me,ke),He(ke,ct),He(Be,ce),Pe(ce,Me,ce),Pe(Me,me,ct),Ee(ct,ce,Me),We(ce,ce,Me),He(me,ce),We(Me,ke,Be),Pe(ce,Me,_),Ee(ce,ce,ke),Pe(Me,Me,ce),Pe(ce,ke,Be),Pe(ke,me,k),He(me,ct),M(ce,me,j),M(Me,ke,j);for(Z=0;Z<16;Z++)k[Z+16]=ce[Z],k[Z+32]=Me[Z],k[Z+48]=me[Z],k[Z+64]=ke[Z];var $e=k.subarray(32),Ve=k.subarray(16);return Ct($e,$e),Pe(Ve,Ve,$e),z(b,Ve),0}function vn(b,R){return wr(b,R,m)}function hi(b,R){return E(R,32),vn(b,R)}function En(b,R,T){var c=new Uint8Array(32);return wr(c,T,R),te(b,g,c,X)}var Ln=he,Mi=Re;function xi(b,R,T,c,k,j){var Z=new Uint8Array(32);return En(Z,k,j),Ln(b,R,T,c,Z)}function Di(b,R,T,c,k,j){var Z=new Uint8Array(32);return En(Z,k,j),Mi(b,R,T,c,Z)}var pi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function yi(b,R,T,c){for(var k=new Int32Array(16),j=new Int32Array(16),Z,ce,me,Me,ke,ct,Be,$e,Ve,Ye,Xe,ze,qe,Je,Ue,De,Ie,Ne,Oe,Ae,ie,se,pe,ue,le,ge,je=b[0],rt=b[1],nt=b[2],it=b[3],N=b[4],at=b[5],yt=b[6],ht=b[7],ot=R[0],xt=R[1],ft=R[2],Mt=R[3],At=R[4],It=R[5],Pt=R[6],Bt=R[7],qt=0;c>=128;){for(Oe=0;Oe<16;Oe++)Ae=8*Oe+qt,k[Oe]=T[Ae+0]<<24|T[Ae+1]<<16|T[Ae+2]<<8|T[Ae+3],j[Oe]=T[Ae+4]<<24|T[Ae+5]<<16|T[Ae+6]<<8|T[Ae+7];for(Oe=0;Oe<80;Oe++)if(Z=je,ce=rt,me=nt,Me=it,ke=N,ct=at,Be=yt,$e=ht,Ve=ot,Ye=xt,Xe=ft,ze=Mt,qe=At,Je=It,Ue=Pt,De=Bt,ie=ht,se=Bt,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=(N>>>14|At<<32-14)^(N>>>18|At<<32-18)^(At>>>41-32|N<<32-(41-32)),se=(At>>>14|N<<32-14)^(At>>>18|N<<32-18)^(N>>>41-32|At<<32-(41-32)),pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ie=N&at^~N&yt,se=At&It^~At&Pt,pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ie=pi[Oe*2],se=pi[Oe*2+1],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ie=k[Oe%16],se=j[Oe%16],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,Ie=le&65535|ge<<16,Ne=pe&65535|ue<<16,ie=Ie,se=Ne,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=(je>>>28|ot<<32-28)^(ot>>>34-32|je<<32-(34-32))^(ot>>>39-32|je<<32-(39-32)),se=(ot>>>28|je<<32-28)^(je>>>34-32|ot<<32-(34-32))^(je>>>39-32|ot<<32-(39-32)),pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ie=je&rt^je&nt^rt&nt,se=ot&xt^ot&ft^xt&ft,pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,$e=le&65535|ge<<16,De=pe&65535|ue<<16,ie=Me,se=ze,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=Ie,se=Ne,pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,Me=le&65535|ge<<16,ze=pe&65535|ue<<16,rt=Z,nt=ce,it=me,N=Me,at=ke,yt=ct,ht=Be,je=$e,xt=Ve,ft=Ye,Mt=Xe,At=ze,It=qe,Pt=Je,Bt=Ue,ot=De,Oe%16===15)for(Ae=0;Ae<16;Ae++)ie=k[Ae],se=j[Ae],pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=k[(Ae+9)%16],se=j[(Ae+9)%16],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,Ie=k[(Ae+1)%16],Ne=j[(Ae+1)%16],ie=(Ie>>>1|Ne<<32-1)^(Ie>>>8|Ne<<32-8)^Ie>>>7,se=(Ne>>>1|Ie<<32-1)^(Ne>>>8|Ie<<32-8)^(Ne>>>7|Ie<<32-7),pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,Ie=k[(Ae+14)%16],Ne=j[(Ae+14)%16],ie=(Ie>>>19|Ne<<32-19)^(Ne>>>61-32|Ie<<32-(61-32))^Ie>>>6,se=(Ne>>>19|Ie<<32-19)^(Ie>>>61-32|Ne<<32-(61-32))^(Ne>>>6|Ie<<32-6),pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,k[Ae]=le&65535|ge<<16,j[Ae]=pe&65535|ue<<16;ie=je,se=ot,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[0],se=R[0],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[0]=je=le&65535|ge<<16,R[0]=ot=pe&65535|ue<<16,ie=rt,se=xt,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[1],se=R[1],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[1]=rt=le&65535|ge<<16,R[1]=xt=pe&65535|ue<<16,ie=nt,se=ft,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[2],se=R[2],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[2]=nt=le&65535|ge<<16,R[2]=ft=pe&65535|ue<<16,ie=it,se=Mt,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[3],se=R[3],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[3]=it=le&65535|ge<<16,R[3]=Mt=pe&65535|ue<<16,ie=N,se=At,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[4],se=R[4],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[4]=N=le&65535|ge<<16,R[4]=At=pe&65535|ue<<16,ie=at,se=It,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[5],se=R[5],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[5]=at=le&65535|ge<<16,R[5]=It=pe&65535|ue<<16,ie=yt,se=Pt,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[6],se=R[6],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[6]=yt=le&65535|ge<<16,R[6]=Pt=pe&65535|ue<<16,ie=ht,se=Bt,pe=se&65535,ue=se>>>16,le=ie&65535,ge=ie>>>16,ie=b[7],se=R[7],pe+=se&65535,ue+=se>>>16,le+=ie&65535,ge+=ie>>>16,ue+=pe>>>16,le+=ue>>>16,ge+=le>>>16,b[7]=ht=le&65535|ge<<16,R[7]=Bt=pe&65535|ue<<16,qt+=128,c-=128}return c}function Nr(b,R,T){var c=new Int32Array(8),k=new Int32Array(8),j=new Uint8Array(256),Z,ce=T;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,k[0]=4089235720,k[1]=2227873595,k[2]=4271175723,k[3]=1595750129,k[4]=2917565137,k[5]=725511199,k[6]=4215389547,k[7]=327033209,yi(c,k,R,T),T%=128,Z=0;Z<T;Z++)j[Z]=R[ce-T+Z];for(j[T]=128,T=256-128*(T<112?1:0),j[T-9]=0,U(j,T-8,ce/536870912|0,ce<<3),yi(c,k,j,T),Z=0;Z<8;Z++)U(b,8*Z,c[Z],k[Z]);return 0}function Jr(b,R){var T=l(),c=l(),k=l(),j=l(),Z=l(),ce=l(),me=l(),Me=l(),ke=l();We(T,b[1],b[0]),We(ke,R[1],R[0]),Pe(T,T,ke),Ee(c,b[0],b[1]),Ee(ke,R[0],R[1]),Pe(c,c,ke),Pe(k,b[3],R[3]),Pe(k,k,I),Pe(j,b[2],R[2]),Ee(j,j,j),We(Z,c,T),We(ce,j,k),Ee(me,j,k),Ee(Me,c,T),Pe(b[0],Z,ce),Pe(b[1],Me,me),Pe(b[2],me,ce),Pe(b[3],Z,Me)}function Fn(b,R,T){var c;for(c=0;c<4;c++)M(b[c],R[c],T)}function Sn(b,R){var T=l(),c=l(),k=l();Ct(k,R[2]),Pe(T,R[0],k),Pe(c,R[1],k),z(b,c),b[31]^=H(T)<<7}function Hn(b,R,T){var c,k;for(Se(b[0],y),Se(b[1],h),Se(b[2],h),Se(b[3],y),k=255;k>=0;--k)c=T[k/8|0]>>(k&7)&1,Fn(b,R,c),Jr(R,b),Jr(b,b),Fn(b,R,c)}function An(b,R){var T=[l(),l(),l(),l()];Se(T[0],P),Se(T[1],C),Se(T[2],h),Pe(T[3],P,C),Hn(b,T,R)}function Kn(b,R,T){var c=new Uint8Array(64),k=[l(),l(),l(),l()],j;for(T||E(R,32),Nr(c,R,32),c[0]&=248,c[31]&=127,c[31]|=64,An(k,c),Sn(b,k),j=0;j<32;j++)R[j+32]=b[j];return 0}var _n=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function bi(b,R){var T,c,k,j;for(c=63;c>=32;--c){for(T=0,k=c-32,j=c-12;k<j;++k)R[k]+=T-16*R[c]*_n[k-(c-32)],T=Math.floor((R[k]+128)/256),R[k]-=T*256;R[k]+=T,R[c]=0}for(T=0,k=0;k<32;k++)R[k]+=T-(R[31]>>4)*_n[k],T=R[k]>>8,R[k]&=255;for(k=0;k<32;k++)R[k]-=T*_n[k];for(c=0;c<32;c++)R[c+1]+=R[c]>>8,b[c]=R[c]&255}function oe(b){var R=new Float64Array(64),T;for(T=0;T<64;T++)R[T]=b[T];for(T=0;T<64;T++)b[T]=0;bi(b,R)}function Rr(b,R,T,c){var k=new Uint8Array(64),j=new Uint8Array(64),Z=new Uint8Array(64),ce,me,Me=new Float64Array(64),ke=[l(),l(),l(),l()];Nr(k,c,32),k[0]&=248,k[31]&=127,k[31]|=64;var ct=T+64;for(ce=0;ce<T;ce++)b[64+ce]=R[ce];for(ce=0;ce<32;ce++)b[32+ce]=k[32+ce];for(Nr(Z,b.subarray(32),T+32),oe(Z),An(ke,Z),Sn(b,ke),ce=32;ce<64;ce++)b[ce]=c[ce];for(Nr(j,b,T+64),oe(j),ce=0;ce<64;ce++)Me[ce]=0;for(ce=0;ce<32;ce++)Me[ce]=Z[ce];for(ce=0;ce<32;ce++)for(me=0;me<32;me++)Me[ce+me]+=j[ce]*k[me];return bi(b.subarray(32),Me),ct}function zn(b,R){var T=l(),c=l(),k=l(),j=l(),Z=l(),ce=l(),me=l();return Se(b[2],h),J(b[1],R),He(k,b[1]),Pe(j,k,S),We(k,k,b[2]),Ee(j,b[2],j),He(Z,j),He(ce,Z),Pe(me,ce,Z),Pe(T,me,k),Pe(T,T,j),kt(T,T),Pe(T,T,k),Pe(T,T,j),Pe(T,T,j),Pe(b[0],T,j),He(c,b[0]),Pe(c,c,j),ae(c,k)&&Pe(b[0],b[0],w),He(c,b[0]),Pe(c,c,j),ae(c,k)?-1:(H(b[0])===R[31]>>7&&We(b[0],y,b[0]),Pe(b[3],b[0],b[1]),0)}function fn(b,R,T,c){var k,j=new Uint8Array(32),Z=new Uint8Array(64),ce=[l(),l(),l(),l()],me=[l(),l(),l(),l()];if(T<64||zn(me,c))return-1;for(k=0;k<T;k++)b[k]=R[k];for(k=0;k<32;k++)b[k+32]=c[k];if(Nr(Z,b,T),oe(Z),Hn(ce,me,Z),An(me,R.subarray(32)),Jr(ce,me),Sn(j,ce),T-=64,ee(R,0,j,0)){for(k=0;k<T;k++)b[k]=0;return-1}for(k=0;k<T;k++)b[k]=R[k+64];return T}var lt=32,Xr=24,Zr=32,vr=16,Mr=32,Yr=32,Qr=32,en=32,Tn=32,tn=Xr,$n=Zr,qn=vr,fr=64,Er=32,Dr=64,dn=32,Rn=64;f.lowlevel={crypto_core_hsalsa20:te,crypto_stream_xor:ve,crypto_stream:xe,crypto_stream_salsa20_xor:de,crypto_stream_salsa20:Te,crypto_onetimeauth:ne,crypto_onetimeauth_verify:re,crypto_verify_16:$,crypto_verify_32:ee,crypto_secretbox:he,crypto_secretbox_open:Re,crypto_scalarmult:wr,crypto_scalarmult_base:vn,crypto_box_beforenm:En,crypto_box_afternm:Ln,crypto_box:xi,crypto_box_open:Di,crypto_box_keypair:hi,crypto_hash:Nr,crypto_sign:Rr,crypto_sign_keypair:Kn,crypto_sign_open:fn,crypto_secretbox_KEYBYTES:lt,crypto_secretbox_NONCEBYTES:Xr,crypto_secretbox_ZEROBYTES:Zr,crypto_secretbox_BOXZEROBYTES:vr,crypto_scalarmult_BYTES:Mr,crypto_scalarmult_SCALARBYTES:Yr,crypto_box_PUBLICKEYBYTES:Qr,crypto_box_SECRETKEYBYTES:en,crypto_box_BEFORENMBYTES:Tn,crypto_box_NONCEBYTES:tn,crypto_box_ZEROBYTES:$n,crypto_box_BOXZEROBYTES:qn,crypto_sign_BYTES:fr,crypto_sign_PUBLICKEYBYTES:Er,crypto_sign_SECRETKEYBYTES:Dr,crypto_sign_SEEDBYTES:dn,crypto_hash_BYTES:Rn,gf:l,D:S,L:_n,pack25519:z,unpack25519:J,M:Pe,A:Ee,S:He,Z:We,pow2523:kt,add:Jr,set25519:Se,modL:bi,scalarmult:Hn,scalarbase:An};function Pn(b,R){if(b.length!==lt)throw new Error("bad key size");if(R.length!==Xr)throw new Error("bad nonce size")}function jn(b,R){if(b.length!==Qr)throw new Error("bad public key size");if(R.length!==en)throw new Error("bad secret key size")}function Zt(){for(var b=0;b<arguments.length;b++)if(!(arguments[b]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Gn(b){for(var R=0;R<b.length;R++)b[R]=0}f.randomBytes=function(b){var R=new Uint8Array(b);return E(R,b),R},f.secretbox=function(b,R,T){Zt(b,R,T),Pn(T,R);for(var c=new Uint8Array(Zr+b.length),k=new Uint8Array(c.length),j=0;j<b.length;j++)c[j+Zr]=b[j];return he(k,c,c.length,R,T),k.subarray(vr)},f.secretbox.open=function(b,R,T){Zt(b,R,T),Pn(T,R);for(var c=new Uint8Array(vr+b.length),k=new Uint8Array(c.length),j=0;j<b.length;j++)c[j+vr]=b[j];return c.length<32||Re(k,c,c.length,R,T)!==0?null:k.subarray(Zr)},f.secretbox.keyLength=lt,f.secretbox.nonceLength=Xr,f.secretbox.overheadLength=vr,f.scalarMult=function(b,R){if(Zt(b,R),b.length!==Yr)throw new Error("bad n size");if(R.length!==Mr)throw new Error("bad p size");var T=new Uint8Array(Mr);return wr(T,b,R),T},f.scalarMult.base=function(b){if(Zt(b),b.length!==Yr)throw new Error("bad n size");var R=new Uint8Array(Mr);return vn(R,b),R},f.scalarMult.scalarLength=Yr,f.scalarMult.groupElementLength=Mr,f.box=function(b,R,T,c){var k=f.box.before(T,c);return f.secretbox(b,R,k)},f.box.before=function(b,R){Zt(b,R),jn(b,R);var T=new Uint8Array(Tn);return En(T,b,R),T},f.box.after=f.secretbox,f.box.open=function(b,R,T,c){var k=f.box.before(T,c);return f.secretbox.open(b,R,k)},f.box.open.after=f.secretbox.open,f.box.keyPair=function(){var b=new Uint8Array(Qr),R=new Uint8Array(en);return hi(b,R),{publicKey:b,secretKey:R}},f.box.keyPair.fromSecretKey=function(b){if(Zt(b),b.length!==en)throw new Error("bad secret key size");var R=new Uint8Array(Qr);return vn(R,b),{publicKey:R,secretKey:new Uint8Array(b)}},f.box.publicKeyLength=Qr,f.box.secretKeyLength=en,f.box.sharedKeyLength=Tn,f.box.nonceLength=tn,f.box.overheadLength=f.secretbox.overheadLength,f.sign=function(b,R){if(Zt(b,R),R.length!==Dr)throw new Error("bad secret key size");var T=new Uint8Array(fr+b.length);return Rr(T,b,b.length,R),T},f.sign.open=function(b,R){if(Zt(b,R),R.length!==Er)throw new Error("bad public key size");var T=new Uint8Array(b.length),c=fn(T,b,b.length,R);if(c<0)return null;for(var k=new Uint8Array(c),j=0;j<k.length;j++)k[j]=T[j];return k},f.sign.detached=function(b,R){for(var T=f.sign(b,R),c=new Uint8Array(fr),k=0;k<c.length;k++)c[k]=T[k];return c},f.sign.detached.verify=function(b,R,T){if(Zt(b,R,T),R.length!==fr)throw new Error("bad signature size");if(T.length!==Er)throw new Error("bad public key size");var c=new Uint8Array(fr+b.length),k=new Uint8Array(fr+b.length),j;for(j=0;j<fr;j++)c[j]=R[j];for(j=0;j<b.length;j++)c[j+fr]=b[j];return fn(k,c,c.length,T)>=0},f.sign.keyPair=function(){var b=new Uint8Array(Er),R=new Uint8Array(Dr);return Kn(b,R),{publicKey:b,secretKey:R}},f.sign.keyPair.fromSecretKey=function(b){if(Zt(b),b.length!==Dr)throw new Error("bad secret key size");for(var R=new Uint8Array(Er),T=0;T<R.length;T++)R[T]=b[32+T];return{publicKey:R,secretKey:new Uint8Array(b)}},f.sign.keyPair.fromSeed=function(b){if(Zt(b),b.length!==dn)throw new Error("bad seed size");for(var R=new Uint8Array(Er),T=new Uint8Array(Dr),c=0;c<32;c++)T[c]=b[c];return Kn(R,T,!0),{publicKey:R,secretKey:T}},f.sign.publicKeyLength=Er,f.sign.secretKeyLength=Dr,f.sign.seedLength=dn,f.sign.signatureLength=fr,f.hash=function(b){Zt(b);var R=new Uint8Array(Rn);return Nr(R,b,b.length),R},f.hash.hashLength=Rn,f.verify=function(b,R){return Zt(b,R),b.length===0||R.length===0||b.length!==R.length?!1:D(b,0,R,0,b.length)===0},f.setPRNG=function(b){E=b},function(){var b=typeof self<"u"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var R=65536;f.setPRNG(function(T,c){var k,j=new Uint8Array(c);for(k=0;k<c;k+=R)b.getRandomValues(j.subarray(k,k+Math.min(c-k,R)));for(k=0;k<c;k++)T[k]=j[k];Gn(j)})}else b=x(39201),b&&b.randomBytes&&f.setPRNG(function(T,c){var k,j=b.randomBytes(c);for(k=0;k<c;k++)T[k]=j[k];Gn(j)})}()})(B.exports?B.exports:self.nacl=self.nacl||{})},25812:function(B,u,x){var X0,Z0,Y0,Q0,el,tl;"use strict";x.r(u),x.d(u,{WebIrys:function(){return J0},default:function(){return J0}});var f={};x.r(f),x.d(f,{hasBrowserEnv:function(){return T},hasStandardBrowserEnv:function(){return c},hasStandardBrowserWebWorkerEnv:function(){return k}});var l={};x.r(l),x.d(l,{arToWinston:function(){return Rl},b64UrlDecode:function(){return zu},b64UrlEncode:function(){return Ku},b64UrlToBuffer:function(){return nn},b64UrlToString:function(){return Fu},bufferToString:function(){return Xo},bufferTob64:function(){return Hu},bufferTob64Url:function(){return sn},concatBuffers:function(){return yr},stringToB64Url:function(){return Zo},stringToBuffer:function(){return mt},winstonToAr:function(){return Tl}});var E={};x.r(E),x.d(E,{AVSCTap:function(){return Lc},AlgorandSigner:function(){return Mx},AptosSigner:function(){return Lx},ArconnectSigner:function(){return Fx},Arweave:function(){return Yo},ArweaveSigner:function(){return ma},Bundle:function(){return md},BundleItem:function(){return qx},CryptoDriver:function(){return ef},Curve25519:function(){return As},DataItem:function(){return Xi},EthereumSigner:function(){return Da},HexInjectedSolanaSigner:function(){return Fa},HexSolanaSigner:function(){return Dx},InjectedAptosSigner:function(){return Ka},InjectedEthereumSigner:function(){return Bx},InjectedSolanaSigner:function(){return ff},InjectedTypedEthereumSigner:function(){return Uc},MAX_TAG_BYTES:function(){return Hc},MIN_BINARY_SIZE:function(){return Fc},MultiSignatureAptosSigner:function(){return hd},NearSigner:function(){return Bc},PolygonSigner:function(){return Nx},Rsa4096:function(){return tf},SIG_CONFIG:function(){return Ut},SignatureConfig:function(){return bt},Signer:function(){return _l},SolanaSigner:function(){return Pc},TypedEthereumSigner:function(){return pd},bundleAndSignData:function(){return vd},byteArrayToLong:function(){return Qt},concatBuffers:function(){return yr},createData:function(){return zc},deepHash:function(){return Hi},deserializeTags:function(){return Ga},exportForTesting:function(){return Ox},getCryptoDriver:function(){return or},getSignatureAndId:function(){return Ed},indexToType:function(){return Oc},keccak256:function(){return Cc},longTo16ByteArray:function(){return Kx},longTo32ByteArray:function(){return Dc},longTo8ByteArray:function(){return Mc},longToNByteArray:function(){return zs},secp256k1:function(){return fd},serializeTags:function(){return gd},shortTo2ByteArray:function(){return bd},sign:function(){return Kc},stringToBuffer:function(){return mt},unbundleData:function(){return $x}});var g={};x.r(g),x.d(g,{default:function(){return Gx},processStream:function(){return Sd},streamExportForTesting:function(){return Wx},streamSigner:function(){return jx}});var m={};x.r(m),x.d(m,{DataItem:function(){return Xi},bundleAndSignData:function(){return vd},createData:function(){return zc},deepHash:function(){return Hi},getCryptoDriver:function(){return or},stringToBuffer:function(){return mt}});const y=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(X0=globalThis.crypto).subtle??(X0.subtle={}),(Z0=globalThis.crypto.subtle).generateKey??(Z0.generateKey=y),(Y0=globalThis.crypto.subtle).importKey??(Y0.importKey=y),(Q0=globalThis.crypto.subtle).exportKey??(Q0.exportKey=y),(el=globalThis.crypto.subtle).digest??(el.digest=y),(tl=globalThis.crypto.subtle).sign??(tl.sign=y);var h=null;function _(t,e){return function(){return t.apply(e,arguments)}}const{toString:S}=Object.prototype,{getPrototypeOf:I}=Object,P=(t=>e=>{const r=S.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),C=t=>(t=t.toLowerCase(),e=>P(e)===t),w=t=>e=>typeof e===t,{isArray:U}=Array,D=w("undefined");function $(t){return t!==null&&!D(t)&&t.constructor!==null&&!D(t.constructor)&&W(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ee=C("ArrayBuffer");function Y(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ee(t.buffer),e}const ye=w("string"),W=w("function"),te=w("number"),X=t=>t!==null&&typeof t=="object",de=t=>t===!0||t===!1,Te=t=>{if(P(t)!=="object")return!1;const e=I(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xe=C("Date"),ve=C("File"),F=C("Blob"),ne=C("FileList"),re=t=>X(t)&&W(t.pipe),he=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||W(t.append)&&((e=P(t))==="formdata"||e==="object"&&W(t.toString)&&t.toString()==="[object FormData]"))},Re=C("URLSearchParams"),Se=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function V(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),U(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function M(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const z=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ae=t=>!D(t)&&t!==z;function H(){const{caseless:t}=ae(this)&&this||{},e={},r=(n,i)=>{const s=t&&M(e,i)||i;Te(e[s])&&Te(n)?e[s]=H(e[s],n):Te(n)?e[s]=H({},n):U(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&V(arguments[n],r);return e}const J=(t,e,r,{allOwnKeys:n}={})=>(V(e,(i,s)=>{r&&W(i)?t[s]=_(i,r):t[s]=i},{allOwnKeys:n}),t),Ee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),We=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Pe=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&I(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},He=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Ct=t=>{if(!t)return null;if(U(t))return t;let e=t.length;if(!te(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&I(Uint8Array)),wr=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},vn=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},hi=C("HTMLFormElement"),En=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Ln=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Mi=C("RegExp"),xi=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};V(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Di=t=>{xi(t,(e,r)=>{if(W(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(W(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},pi=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return U(t)?n(t):n(String(t).split(e)),r},yi=()=>{},Nr=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Jr="abcdefghijklmnopqrstuvwxyz",Fn="0123456789",Sn={DIGIT:Fn,ALPHA:Jr,ALPHA_DIGIT:Jr+Jr.toUpperCase()+Fn},Hn=(t=16,e=Sn.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function An(t){return!!(t&&W(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Kn=t=>{const e=new Array(10),r=(n,i)=>{if(X(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=U(n)?[]:{};return V(n,(a,o)=>{const d=r(a,i+1);!D(d)&&(s[o]=d)}),e[i]=void 0,s}}return n};return r(t,0)},_n=C("AsyncFunction");var oe={isArray:U,isArrayBuffer:ee,isBuffer:$,isFormData:he,isArrayBufferView:Y,isString:ye,isNumber:te,isBoolean:de,isObject:X,isPlainObject:Te,isUndefined:D,isDate:xe,isFile:ve,isBlob:F,isRegExp:Mi,isFunction:W,isStream:re,isURLSearchParams:Re,isTypedArray:kt,isFileList:ne,forEach:V,merge:H,extend:J,trim:Se,stripBOM:Ee,inherits:We,toFlatObject:Pe,kindOf:P,kindOfTest:C,endsWith:He,toArray:Ct,forEachEntry:wr,matchAll:vn,isHTMLForm:hi,hasOwnProperty:Ln,hasOwnProp:Ln,reduceDescriptors:xi,freezeMethods:Di,toObjectSet:pi,toCamelCase:En,noop:yi,toFiniteNumber:Nr,findKey:M,global:z,isContextDefined:ae,ALPHABET:Sn,generateString:Hn,isSpecCompliantForm:An,toJSONObject:Kn,isAsyncFn:_n,isThenable:t=>t&&(X(t)||W(t))&&W(t.then)&&W(t.catch)};function Rr(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}oe.inherits(Rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zn=Rr.prototype,fn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fn[t]={value:t}}),Object.defineProperties(Rr,fn),Object.defineProperty(zn,"isAxiosError",{value:!0}),Rr.from=(t,e,r,n,i,s)=>{const a=Object.create(zn);return oe.toFlatObject(t,a,function(d){return d!==Error.prototype},o=>o!=="isAxiosError"),Rr.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var lt=Rr,Xr=null,Zr=x(55872).Buffer;function vr(t){return oe.isPlainObject(t)||oe.isArray(t)}function Mr(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function Yr(t,e,r){return t?t.concat(e).map(function(i,s){return i=Mr(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Qr(t){return oe.isArray(t)&&!t.some(vr)}const en=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Tn(t,e,r){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new(Xr||FormData),r=oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,fe){return!oe.isUndefined(fe[Q])});const n=r.metaTokens,i=r.visitor||v,s=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function p(q){if(q===null)return"";if(oe.isDate(q))return q.toISOString();if(!d&&oe.isBlob(q))throw new lt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(q)||oe.isTypedArray(q)?d&&typeof Blob=="function"?new Blob([q]):Zr.from(q):q}function v(q,Q,fe){let Ce=q;if(q&&!fe&&typeof q=="object"){if(oe.endsWith(Q,"{}"))Q=n?Q:Q.slice(0,-2),q=JSON.stringify(q);else if(oe.isArray(q)&&Qr(q)||(oe.isFileList(q)||oe.endsWith(Q,"[]"))&&(Ce=oe.toArray(q)))return Q=Mr(Q),Ce.forEach(function(Ke,Et){!(oe.isUndefined(Ke)||Ke===null)&&e.append(a===!0?Yr([Q],Et,s):a===null?Q:Q+"[]",p(Ke))}),!1}return vr(q)?!0:(e.append(Yr(fe,Q,s),p(q)),!1)}const A=[],L=Object.assign(en,{defaultVisitor:v,convertValue:p,isVisitable:vr});function G(q,Q){if(!oe.isUndefined(q)){if(A.indexOf(q)!==-1)throw Error("Circular reference detected in "+Q.join("."));A.push(q),oe.forEach(q,function(Ce,Ge){(!(oe.isUndefined(Ce)||Ce===null)&&i.call(e,Ce,oe.isString(Ge)?Ge.trim():Ge,Q,L))===!0&&G(Ce,Q?Q.concat(Ge):[Ge])}),A.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return G(t),e}var tn=Tn;function $n(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function qn(t,e){this._pairs=[],t&&tn(t,this,e)}const fr=qn.prototype;fr.append=function(e,r){this._pairs.push([e,r])},fr.toString=function(e){const r=e?function(n){return e.call(this,n,$n)}:$n;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var Er=qn;function Dr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dn(t,e,r){if(!e)return t;const n=r&&r.encode||Dr,i=r&&r.serialize;let s;if(i?s=i(e,r):s=oe.isURLSearchParams(e)?e.toString():new Er(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Rn{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}var Pn=Rn,jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zt=typeof URLSearchParams<"u"?URLSearchParams:Er,Gn=typeof FormData<"u"?FormData:null,b=typeof Blob<"u"?Blob:null,R={isBrowser:!0,classes:{URLSearchParams:Zt,FormData:Gn,Blob:b},protocols:["http","https","file","blob","url","data"]};const T=typeof window<"u"&&typeof document<"u",c=(t=>T&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),k=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var j={...f,...R};function Z(t,e){return tn(t,new j.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return j.isNode&&oe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ce(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function me(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Me(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),d=s>=r.length;return a=!a&&oe.isArray(i)?i.length:a,d?(oe.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!oe.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&oe.isArray(i[a])&&(i[a]=me(i[a])),!o)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const r={};return oe.forEachEntry(t,(n,i)=>{e(ce(n),i,r,0)}),r}return null}var ke=Me;function ct(t,e,r){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Be={transitional:jn,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(ke(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Z(e,this.formSerializer).toString();if((o=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return tn(o?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),ct(e)):e}],transformResponse:[function(e){const r=this.transitional||Be.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&oe.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?lt.from(o,lt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:j.classes.FormData,Blob:j.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{Be.headers[t]={}});var $e=Be;const Ve=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ye=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Ve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const Xe=Symbol("internals");function ze(t){return t&&String(t).trim().toLowerCase()}function qe(t){return t===!1||t==null?t:oe.isArray(t)?t.map(qe):String(t)}function Je(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Ue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function De(t,e,r,n,i){if(oe.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!oe.isString(e)){if(oe.isString(n))return e.indexOf(n)!==-1;if(oe.isRegExp(n))return n.test(e)}}function Ie(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ne(t,e){const r=oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Oe{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,d,p){const v=ze(d);if(!v)throw new Error("header name must be a non-empty string");const A=oe.findKey(i,v);(!A||i[A]===void 0||p===!0||p===void 0&&i[A]!==!1)&&(i[A||d]=qe(o))}const a=(o,d)=>oe.forEach(o,(p,v)=>s(p,v,d));return oe.isPlainObject(e)||e instanceof this.constructor?a(e,r):oe.isString(e)&&(e=e.trim())&&!Ue(e)?a(Ye(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=ze(e),e){const n=oe.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Je(i);if(oe.isFunction(r))return r.call(this,i,n);if(oe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ze(e),e){const n=oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||De(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=ze(a),a){const o=oe.findKey(n,a);o&&(!r||De(n,n[o],o,r))&&(delete n[o],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||De(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return oe.forEach(this,(i,s)=>{const a=oe.findKey(n,s);if(a){r[a]=qe(i),delete r[s];return}const o=e?Ie(s):String(s).trim();o!==s&&delete r[s],r[o]=qe(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return oe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&oe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Xe]=this[Xe]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=ze(a);n[o]||(Ne(i,a),n[o]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oe.reduceDescriptors(Oe.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),oe.freezeMethods(Oe);var Ae=Oe;function ie(t,e){const r=this||$e,n=e||r,i=Ae.from(n.headers);let s=n.data;return oe.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function se(t){return!!(t&&t.__CANCEL__)}function pe(t,e,r){lt.call(this,t??"canceled",lt.ERR_CANCELED,e,r),this.name="CanceledError"}oe.inherits(pe,lt,{__CANCEL__:!0});var ue=pe;function le(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new lt("Request failed with status code "+r.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var ge=j.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),oe.isString(n)&&a.push("path="+n),oe.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function je(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nt(t,e){return t&&!je(e)?rt(t,e):e}var it=j.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const o=oe.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function N(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function at(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),v=n[s];a||(a=p),r[i]=d,n[i]=p;let A=s,L=0;for(;A!==i;)L+=r[A++],A=A%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),p-a<e)return;const G=v&&p-v;return G?Math.round(L*1e3/G):void 0}}var yt=at;function ht(t,e){let r=0;const n=yt(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-r,d=n(o),p=s<=a;r=s;const v={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:d||void 0,estimated:d&&a&&p?(a-s)/d:void 0,event:i};v[e?"download":"upload"]=!0,t(v)}}var xt=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){let i=t.data;const s=Ae.from(t.headers).normalize();let{responseType:a,withXSRFToken:o}=t,d;function p(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}let v;if(oe.isFormData(i)){if(j.hasStandardBrowserEnv||j.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((v=s.getContentType())!==!1){const[Q,...fe]=v?v.split(";").map(Ce=>Ce.trim()).filter(Boolean):[];s.setContentType([Q||"multipart/form-data",...fe].join("; "))}}let A=new XMLHttpRequest;if(t.auth){const Q=t.auth.username||"",fe=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(Q+":"+fe))}const L=nt(t.baseURL,t.url);A.open(t.method.toUpperCase(),dn(L,t.params,t.paramsSerializer),!0),A.timeout=t.timeout;function G(){if(!A)return;const Q=Ae.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),Ce={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:Q,config:t,request:A};le(function(Ke){r(Ke),p()},function(Ke){n(Ke),p()},Ce),A=null}if("onloadend"in A?A.onloadend=G:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(G)},A.onabort=function(){A&&(n(new lt("Request aborted",lt.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new lt("Network Error",lt.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let fe=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const Ce=t.transitional||jn;t.timeoutErrorMessage&&(fe=t.timeoutErrorMessage),n(new lt(fe,Ce.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,A)),A=null},j.hasStandardBrowserEnv&&(o&&oe.isFunction(o)&&(o=o(t)),o||o!==!1&&it(L))){const Q=t.xsrfHeaderName&&t.xsrfCookieName&&ge.read(t.xsrfCookieName);Q&&s.set(t.xsrfHeaderName,Q)}i===void 0&&s.setContentType(null),"setRequestHeader"in A&&oe.forEach(s.toJSON(),function(fe,Ce){A.setRequestHeader(Ce,fe)}),oe.isUndefined(t.withCredentials)||(A.withCredentials=!!t.withCredentials),a&&a!=="json"&&(A.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&A.addEventListener("progress",ht(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",ht(t.onUploadProgress)),(t.cancelToken||t.signal)&&(d=Q=>{A&&(n(!Q||Q.type?new ue(null,t,A):Q),A.abort(),A=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));const q=N(L);if(q&&j.protocols.indexOf(q)===-1){n(new lt("Unsupported protocol "+q+":",lt.ERR_BAD_REQUEST,t));return}A.send(i||null)})};const ft={http:Xr,xhr:xt};oe.forEach(ft,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mt=t=>`- ${t}`,At=t=>oe.isFunction(t)||t===null||t===!1;var It={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!At(r)&&(n=ft[(a=String(r)).toLowerCase()],n===void 0))throw new lt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,d])=>`adapter ${o} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Mt).join(`
`):" "+Mt(s[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:ft};function Pt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ue(null,t)}function Bt(t){return Pt(t),t.headers=Ae.from(t.headers),t.data=ie.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),It.getAdapter(t.adapter||$e.adapter)(t).then(function(n){return Pt(t),n.data=ie.call(t,t.transformResponse,n),n.headers=Ae.from(n.headers),n},function(n){return se(n)||(Pt(t),n&&n.response&&(n.response.data=ie.call(t,t.transformResponse,n.response),n.response.headers=Ae.from(n.response.headers))),Promise.reject(n)})}const qt=t=>t instanceof Ae?t.toJSON():t;function Dt(t,e){e=e||{};const r={};function n(p,v,A){return oe.isPlainObject(p)&&oe.isPlainObject(v)?oe.merge.call({caseless:A},p,v):oe.isPlainObject(v)?oe.merge({},v):oe.isArray(v)?v.slice():v}function i(p,v,A){if(oe.isUndefined(v)){if(!oe.isUndefined(p))return n(void 0,p,A)}else return n(p,v,A)}function s(p,v){if(!oe.isUndefined(v))return n(void 0,v)}function a(p,v){if(oe.isUndefined(v)){if(!oe.isUndefined(p))return n(void 0,p)}else return n(void 0,v)}function o(p,v,A){if(A in e)return n(p,v);if(A in t)return n(void 0,p)}const d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(p,v)=>i(qt(p),qt(v),!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(v){const A=d[v]||i,L=A(t[v],e[v],v);oe.isUndefined(L)&&A!==o||(r[v]=L)}),r}const Yt="1.6.7",Vt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const vu={};Vt.transitional=function(e,r,n){function i(s,a){return"[Axios v"+Yt+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new lt(i(a," has been removed"+(r?" in "+r:"")),lt.ERR_DEPRECATED);return r&&!vu[a]&&(vu[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};function sl(t,e,r){if(typeof t!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],d=o===void 0||a(o,s,t);if(d!==!0)throw new lt("option "+s+" must be "+d,lt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new lt("Unknown option "+s,lt.ERR_BAD_OPTION)}}var Ho={assertOptions:sl,validators:Vt};const Wn=Ho.validators;class la{constructor(e){this.defaults=e,this.interceptors={request:new Pn,response:new Pn}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Dt(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ho.assertOptions(n,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),i!=null&&(oe.isFunction(i)?r.paramsSerializer={serialize:i}:Ho.assertOptions(i,{encode:Wn.function,serialize:Wn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&oe.merge(s.common,s[r.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],q=>{delete s[q]}),r.headers=Ae.concat(a,s);const o=[];let d=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(r)===!1||(d=d&&Q.synchronous,o.unshift(Q.fulfilled,Q.rejected))});const p=[];this.interceptors.response.forEach(function(Q){p.push(Q.fulfilled,Q.rejected)});let v,A=0,L;if(!d){const q=[Bt.bind(this),void 0];for(q.unshift.apply(q,o),q.push.apply(q,p),L=q.length,v=Promise.resolve(r);A<L;)v=v.then(q[A++],q[A++]);return v}L=o.length;let G=r;for(A=0;A<L;){const q=o[A++],Q=o[A++];try{G=q(G)}catch(fe){Q.call(this,fe);break}}try{v=Bt.call(this,G)}catch(q){return Promise.reject(q)}for(A=0,L=p.length;A<L;)v=v.then(p[A++],p[A++]);return v}getUri(e){e=Dt(this.defaults,e);const r=nt(e.baseURL,e.url);return dn(r,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){la.prototype[e]=function(r,n){return this.request(Dt(n||{},{method:e,url:r,data:(n||{}).data}))}}),oe.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Dt(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}la.prototype[e]=r(),la.prototype[e+"Form"]=r(!0)});var ha=la;class Ko{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new ue(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Ko(function(i){e=i}),cancel:e}}}var al=Ko;function ol(t){return function(r){return t.apply(null,r)}}function cl(t){return oe.isObject(t)&&t.isAxiosError===!0}const zo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zo).forEach(([t,e])=>{zo[e]=t});var ul=zo;function Eu(t){const e=new ha(t),r=_(ha.prototype.request,e);return oe.extend(r,ha.prototype,e,{allOwnKeys:!0}),oe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Eu(Dt(t,i))},r}const Jt=Eu($e);Jt.Axios=ha,Jt.CanceledError=ue,Jt.CancelToken=al,Jt.isCancel=se,Jt.VERSION=Yt,Jt.toFormData=tn,Jt.AxiosError=lt,Jt.Cancel=Jt.CanceledError,Jt.all=function(e){return Promise.all(e)},Jt.spread=ol,Jt.isAxiosError=cl,Jt.mergeConfig=Dt,Jt.AxiosHeaders=Ae,Jt.formToJSON=t=>ke(oe.isHTMLForm(t)?new FormData(t):t),Jt.getAdapter=It.getAdapter,Jt.HttpStatusCode=ul,Jt.default=Jt;var bs=Jt,Vn=x(29938),Cn=x(35906),fl=x(55872).Buffer;function dl(t){class e extends t.arbundles.DataItem{constructor(i,s,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?fl.from(i):s.arbundles.createData(i,s.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??Cn.randomBytes(32).toString("base64").slice(0,32)}).getRaw());O(this,"Irys");O(this,"signer");this.Irys=s,this.signer=s.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(i){return(await this.Irys.uploader.uploadTransaction(this,{...i,getReceiptSignature:!0})).data}async upload(i){return(await this.Irys.uploader.uploadTransaction(this,i)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return t.arbundles.DataItem.verify(this.getRaw())}}return e}var ut=x(27220),Qe=x(1562);Qe.Z.set({DECIMAL_PLACES:50});const Su=t=>new Promise(e=>setTimeout(e,t));class ar{constructor(e,r,n){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"arbundles");this.api=e,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,r,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${r}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return ar.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const r=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return ar.checkAndThrow(r,"Getting balance"),new Qe.Z(r.data.balance)}async getBundlerAddress(e){const r=await this.api.get("/info");ar.checkAndThrow(r,"Getting Bundler address");const n=r.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,r){const n=await this.api.get(`/price/${e}/${r}`);return ar.checkAndThrow(n,"Getting storage cost"),new Qe.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const r=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,i=(await this.getPrice(this.tokenConfig.name,r)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(i).decimalPlaces(0)}toAtomic(e){return new Qe.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new Qe.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,r=30){if(this.tokenConfig.isSlow)return;r<0&&(r=0);let n,i;const s=async()=>{for(;!i;){if(await this.tokenConfig.getTx(e).then(p=>p==null?void 0:p.confirmed).catch(p=>(n=p,!1)))return!0;await Su(1e3)}return!1},a=async()=>(await Su(r*1e3),i=!0,"RACE"),o=await Promise.race([a(),s()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${r} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new Qe.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return ar.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,r){const{id:n,deadlineHeight:i,timestamp:s,public:a,signature:o,version:d}=r,p=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(d),e.stringToBuffer(n),e.stringToBuffer(i.toString()),e.stringToBuffer(s.toString())]);return await e.getCryptoDriver().verify(a,p,ut.toBuffer(o))}async getReceipt(e){var o,d,p,v,A,L;const r=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await Vn(async()=>await this.api.post("/graphql",{query:r},{headers:{"content-type":"application/json"},validateStatus:G=>G===200})),i=(L=(A=(v=(p=(d=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:d.transactions)==null?void 0:p.edges)==null?void 0:v.at(0))==null?void 0:A.node)==null?void 0:L.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:i.version,id:e,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var $o=x(55872).Buffer;async function ll(t,e,r){const n=t.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:t.token,amount:new Qe.Z(r).toString(),nonce:await t.getNonce(),signature:"",sigType:n.getSigner().signatureType},d=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);$o.isBuffer(o.publicKey)||(o.publicKey=$o.from(o.publicKey));const p=await n.sign(d),v=await n.verify(o.publicKey,d,p);o.publicKey=ut.encode(o.publicKey),o.signature=ut.encode($o.from(p));const A=ut.toBuffer(o.publicKey),L=ut.toBuffer(o.signature),G=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),q=await n.verify(A,G,L),Q=n.ownerToAddress(n.name=="arweave"?ut.decode(o.publicKey):ut.toBuffer(o.publicKey))===n.address;if(!(v||q||Q))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const fe=await e.post("/account/withdraw",o);if(fe.status===202){const Ce=fe.data.tx_id,Ge=await t.confirmationPoll(Ce);if(Ge!==!0)throw new Error(`Unable to confirm withdrawal tx ${Ce} ${Ge?Ge==null?void 0:Ge.toString():""}`)}else ar.checkAndThrow(fe,"Withdrawing balance");return fe.data}var gs=x(26748);class hl{constructor({url:e,retryConfig:r,query:n,queryName:i,opts:s}){O(this,"queryVars",{});O(this,"queryFields");O(this,"queryInfo");O(this,"_query");O(this,"url");O(this,"config");O(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...r}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(s!=null&&s.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var d,p;if(this.config.userProvided)return this;const e=v=>JSON.stringify(v,(A,L)=>{if(L instanceof Array)return L[0];if(typeof L=="object")return L;if(L!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),r=e(this.queryFields),n=e({pageInfo:{[((d=this.queryInfo.paging)==null?void 0:d.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,s={...this.queryInfo.vars,...this.queryVars};for(const[v,A]of Object.entries(this.queryInfo.remapVars??{}))if((s==null?void 0:s[v])!==void 0){if(typeof A=="function"){const L=A(v,s[v],s);if(!L)continue;const[G,q]=L;if(s[G]=q,G===v)continue}else s[A]=s[v];s[v]=void 0}const a=JSON.stringify(s,function(v,A){return A===void 0||A instanceof Array||typeof A=="object"||typeof A=="number"||i!=null&&i.includes(v)?A:`'${A}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((p=this==null?void 0:this.queryInfo)!=null&&p.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${r}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${r}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await Vn(async i=>{const s=await bs(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(s.data.errors)throw s;return s},this.config.retryOpts)}catch(i){throw new Error(`Error running query
 ${this._query} - ${i.message?i.message+" -":""} (${JSON.stringify(((n=i==null?void 0:i.data)==null?void 0:n.errors.map(s=>s.message))??(i==null?void 0:i.errors)??i)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const r=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const i=r.pageInfo[this.queryInfo.paging.hasNextPage]?r.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=i,this.trimmer(r.edges.map(s=>s.node))}return this.trimmer([r].flat(20))}trimmer(e){var i,s;const r=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(r>=((i=this==null?void 0:this.config)==null?void 0:i.numPages)&&(this.resultTracker.done=!0),n>=((s=this==null?void 0:this.config)==null?void 0:s.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const r=await this.getPage();if(!r)break;e.push(...r)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const r of e)yield r}while(this.queryVars.after)}stream(){return gs.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,r=!1){const n=(i,s,a)=>{for(const o of Object.keys(a)){let d=s[o];Array.isArray(d)&&(d=d[0]);const p=a[o];if(d===void 0)throw new Error(`Illegal field ${i}${o}`);typeof p=="object"&&n(i+o+".",d,p)}};return r||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,r){return this.all().then(e,r)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const Au={id:"",timestamp:0,height:"",previous:""},e2={name:"block",query:Au,vars:{id:void 0}},xl={name:"blocks",query:Au,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.height={...r.height,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.height={...r.height,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},_u={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},n2={name:"transaction",query:_u,vars:{id:void 0}},pl={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,from:new Date(e).getTime()},r.fromTimestamp=void 0},toTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,to:new Date(e).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:_u,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.block={...r.block,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.block={...r.block,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":xl};class Tu{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){O(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,r){const n=(r==null?void 0:r.query)??pl[e];return new hl({...this.opts,query:n,queryName:e})}}var u2=null;class qo{constructor({url:e,arbundles:r}){O(this,"api");O(this,"utils");O(this,"uploader");O(this,"funder");O(this,"address");O(this,"token");O(this,"tokenConfig");O(this,"provenance");O(this,"transactions");O(this,"_readyPromise");O(this,"url");O(this,"arbundles");O(this,"IrysTransaction");this.url=e,this.arbundles=r,this.IrysTransaction=dl(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new Tu({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new Tu(e??{url:this.url})}async withdrawBalance(e){return ll(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,r){return this.funder.fund(e,r)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return ar.verifyReceipt(this.arbundles,e)}createTransaction(e,r){return new this.IrysTransaction(e,this,r)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,r){return this.uploader.uploadData(e,r)}async uploadWithReceipt(e,r){return this.uploader.uploadData(e,{...r,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(r){return new e.IrysTransaction(r,e,{dataIsRawTransaction:!0})}}}}O(qo,"VERSION","0.0.2");class yl{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":qo.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,r,n){var i;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=bs.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,i=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Vn(s=>n({...r,url:i}),{...this.config.retry,...r==null?void 0:r.retry})}}class bl{constructor(e){O(this,"utils");this.utils=e}async fund(e,r=1){const n=new Qe.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let a;if(i.needsFee){const A=await i.getFee(i.base[0]==="winston"?0:n,s);a=Qe.Z.isBigNumber(A)?A.multipliedBy(r).integerValue(Qe.Z.ROUND_CEIL):A}const o=await i.createTx(n,s,a);let d;try{d=await i.sendTx(o.tx)}catch(A){throw A}if(o.txId??(o.txId=d),!o.txId)throw new Error("Undefined transaction ID");ar.checkAndThrow(d,`Sending transaction to the ${this.utils.token} network`);let p=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(A=>{p=A}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${p?` - ${(p==null?void 0:p.message)??p}`:""}`);return{reward:Qe.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:s,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await Vn(async()=>{const r=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return ar.checkAndThrow(r,`Posting transaction ${e} information to the bundler`,[202]),r},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var ms=x(39098),st=x.n(ms);const gl="logger/5.7.0";let Ru=!1,Pu=!1;const xa={debug:1,default:2,info:2,warning:3,error:4,off:5};let Cu=xa.default,jo=null;function ml(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const ku=ml();var Go;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Go||(Go={}));var rn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(rn||(rn={}));const Iu="0123456789abcdef";class we{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xa[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Cu>xa[n])&&console.log.apply(console,r)}debug(...e){this._log(we.levels.DEBUG,e)}info(...e){this._log(we.levels.INFO,e)}warn(...e){this._log(we.levels.WARNING,e)}makeError(e,r,n){if(Pu)return this.makeError("censored error",r,{});r||(r=we.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(d=>{const p=n[d];try{if(p instanceof Uint8Array){let v="";for(let A=0;A<p.length;A++)v+=Iu[p[A]>>4],v+=Iu[p[A]&15];i.push(d+"=Uint8Array(0x"+v+")")}else i.push(d+"="+JSON.stringify(p))}catch{i.push(d+"="+JSON.stringify(n[d].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let a="";switch(r){case rn.NUMERIC_FAULT:{a="NUMERIC_FAULT";const d=e;switch(d){case"overflow":case"underflow":case"division-by-zero":a+="-"+d;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case rn.CALL_EXCEPTION:case rn.INSUFFICIENT_FUNDS:case rn.MISSING_NEW:case rn.NONCE_EXPIRED:case rn.REPLACEMENT_UNDERPRICED:case rn.TRANSACTION_REPLACED:case rn.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=r,Object.keys(n).forEach(function(d){o[d]=n[d]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,we.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),ku&&this.throwError("platform missing String.prototype.normalize",we.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ku})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,we.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,we.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",we.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return jo||(jo=new we(gl)),jo}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ru){if(!e)return;this.globalLogger().throwError("error censorship permanent",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Pu=!!e,Ru=!!r}static setLogLevel(e){const r=xa[e.toLowerCase()];if(r==null){we.globalLogger().warn("invalid log level - "+e);return}Cu=r}static from(e){return new we(e)}}we.errors=rn,we.levels=Go;const wl="bytes/5.7.0",jt=new we(wl);function Bu(t){return!!t.toHexString}function Li(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Li(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Wo(t){return Gt(t)&&!(t.length%2)||pa(t)}function Uu(t){return typeof t=="number"&&t==t&&t%1===0}function pa(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Uu(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Uu(r)||r<0||r>=256)return!1}return!0}function _e(t,e){if(e||(e={}),typeof t=="number"){jt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Li(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bu(t)&&(t=t.toHexString()),Gt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":jt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Li(new Uint8Array(n))}return pa(t)?Li(new Uint8Array(t)):jt.throwArgumentError("invalid arrayify value","value",t)}function Sr(t){const e=t.map(i=>_e(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Li(n)}function kn(t){let e=_e(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function vl(t,e){t=_e(t),t.length>e&&jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Li(r)}function Gt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Vo="0123456789abcdef";function Le(t,e){if(e||(e={}),typeof t=="number"){jt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Vo[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bu(t))return t.toHexString();if(Gt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":jt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(pa(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Vo[(i&240)>>4]+Vo[i&15]}return r}return jt.throwArgumentError("invalid hexlify value","value",t)}function Ou(t){if(typeof t!="string")t=Le(t);else if(!Gt(t)||t.length%2)return null;return(t.length-2)/2}function gi(t,e,r){return typeof t!="string"?t=Le(t):(!Gt(t)||t.length%2)&&jt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function mi(t){let e="0x";return t.forEach(r=>{e+=Le(r).substring(2)}),e}function f2(t){const e=El(Le(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function El(t){typeof t!="string"&&(t=Le(t)),Gt(t)||jt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Ar(t,e){for(typeof t!="string"?t=Le(t):Gt(t)||jt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&jt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Fi(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Wo(t)){let r=_e(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Le(r.slice(0,32)),e.s=Le(r.slice(32,64))):r.length===65?(e.r=Le(r.slice(0,32)),e.s=Le(r.slice(32,64)),e.v=r[64]):jt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:jt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Le(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=vl(_e(e._vs),32);e._vs=Le(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const a=Le(i);e.s==null?e.s=a:e.s!==a&&jt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?jt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&jt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Gt(e.r)?jt.throwArgumentError("signature missing or invalid r","signature",t):e.r=Ar(e.r,32),e.s==null||!Gt(e.s)?jt.throwArgumentError("signature missing or invalid s","signature",t):e.s=Ar(e.s,32);const r=_e(e.s);r[0]>=128&&jt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Le(r);e._vs&&(Gt(e._vs)||jt.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ar(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&jt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Nu(t){return t=Fi(t),Le(Sr([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Sl="bignumber/5.7.0";var ws=st().BN;const In=new we(Sl),Jo={},Mu=9007199254740991;function d2(t){return t!=null&&(Ze.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||isHexString(t)||typeof t=="bigint"||isBytes(t))}let Du=!1;class Ze{constructor(e,r){e!==Jo&&In.throwError("cannot call constructor directly; use BigNumber.from",we.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return _r(pt(this).fromTwos(e))}toTwos(e){return _r(pt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ze.from(this._hex.substring(1)):this}add(e){return _r(pt(this).add(pt(e)))}sub(e){return _r(pt(this).sub(pt(e)))}div(e){return Ze.from(e).isZero()&&Lr("division-by-zero","div"),_r(pt(this).div(pt(e)))}mul(e){return _r(pt(this).mul(pt(e)))}mod(e){const r=pt(e);return r.isNeg()&&Lr("division-by-zero","mod"),_r(pt(this).umod(r))}pow(e){const r=pt(e);return r.isNeg()&&Lr("negative-power","pow"),_r(pt(this).pow(r))}and(e){const r=pt(e);return(this.isNegative()||r.isNeg())&&Lr("unbound-bitwise-result","and"),_r(pt(this).and(r))}or(e){const r=pt(e);return(this.isNegative()||r.isNeg())&&Lr("unbound-bitwise-result","or"),_r(pt(this).or(r))}xor(e){const r=pt(e);return(this.isNegative()||r.isNeg())&&Lr("unbound-bitwise-result","xor"),_r(pt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Lr("negative-width","mask"),_r(pt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Lr("negative-width","shl"),_r(pt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Lr("negative-width","shr"),_r(pt(this).shrn(e))}eq(e){return pt(this).eq(pt(e))}lt(e){return pt(this).lt(pt(e))}lte(e){return pt(this).lte(pt(e))}gt(e){return pt(this).gt(pt(e))}gte(e){return pt(this).gte(pt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return pt(this).isZero()}toNumber(){try{return pt(this).toNumber()}catch{Lr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return In.throwError("this platform does not support BigInt",we.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Du||(Du=!0,In.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?In.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",we.errors.UNEXPECTED_ARGUMENT,{}):In.throwError("BigNumber.toString does not accept parameters",we.errors.UNEXPECTED_ARGUMENT,{})),pt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ze)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ze(Jo,vs(e)):e.match(/^-?[0-9]+$/)?new Ze(Jo,vs(new ws(e))):In.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Lr("underflow","BigNumber.from",e),(e>=Mu||e<=-Mu)&&Lr("overflow","BigNumber.from",e),Ze.from(String(e));const r=e;if(typeof r=="bigint")return Ze.from(r.toString());if(pa(r))return Ze.from(Le(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ze.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Gt(n)||n[0]==="-"&&Gt(n.substring(1))))return Ze.from(n)}return In.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function vs(t){if(typeof t!="string")return vs(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&In.throwArgumentError("invalid hex","value",t),t=vs(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function _r(t){return Ze.from(vs(t))}function pt(t){const e=Ze.from(t).toHexString();return e[0]==="-"?new ws("-"+e.substring(3),16):new ws(e.substring(2),16)}function Lr(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),In.throwError(t,we.errors.NUMERIC_FAULT,n)}function Al(t){return new ws(t,36).toString(16)}function l2(t){return new ws(t,16).toString(36)}class _l{constructor(){O(this,"publicKey");O(this,"signatureType");O(this,"signatureLength");O(this,"ownerLength");O(this,"pem")}static verify(e,r,n,i){throw new Error("You must implement verify method on child")}}var bt;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(bt||(bt={}));const Ut={[bt.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[bt.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[bt.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[bt.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[bt.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[bt.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[bt.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var Es=x(4909),Ss=x(55872).Buffer;class As{constructor(e,r){O(this,"_key");O(this,"pk");O(this,"ownerLength",Ut[2].pubLength);O(this,"signatureLength",Ut[2].sigLength);O(this,"_publicKey");O(this,"signatureType",2);this._key=e,this.pk=r}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,Es.Xx)(Ss.from(e),Ss.from(this.key))}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=ut.toBuffer(e)),(0,Es.T)(Ss.from(n),Ss.from(r),Ss.from(i))}}var Lu=x(65415);function yr(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let i=1;i<t.length;i++)r.set(new Uint8Array(t[i]),n),n+=t[i].byteLength;return r}function Fu(t){const e=nn(t);return Xo(e)}function Xo(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function mt(t){return new TextEncoder().encode(t)}function Zo(t){return sn(mt(t))}function nn(t){return new Uint8Array((0,Lu.toByteArray)(zu(t)))}function Hu(t){return(0,Lu.fromByteArray)(new Uint8Array(t))}function sn(t){return Ku(Hu(t))}function Ku(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function zu(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}function Tl(t){return new Qe.Z(t).shiftedBy(-12)}function Rl(t){return new Qe.Z(t).shiftedBy(12)}class ya{constructor(){O(this,"keyLength",4096);O(this,"publicExponent",65537);O(this,"hashAlgorithm","sha256");O(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),r);return new Uint8Array(i)}async hash(e,r="SHA-256"){const n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){const i={kty:"RSA",e:"AQAB",n:e},s=await this.jwkToPublicCryptoKey(i),a=await this.driver.digest("SHA-256",r),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,r),d=await this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,r),p=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((s.algorithm.modulusLength-1)/8)-a.byteLength-2},s,n,r);return o||d||p}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,r,n){const i=await this.driver.importKey("raw",typeof r=="string"?mt(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:mt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},s,e);return yr([a,o])}async decrypt(e,r,n){const i=await this.driver.importKey("raw",typeof r=="string"?mt(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:mt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},s,e.slice(16));return yr([o])}}async function Hi(t){if(typeof t[Symbol.asyncIterator]=="function"){const i=t,s=(0,Cn.createHash)("sha384");let a=0;for await(const p of i)a+=p.byteLength,s.update(p);const o=yr([mt("blob"),mt(a.toString())]),d=yr([await or().hash(o,"SHA-384"),s.digest()]);return await or().hash(d,"SHA-384")}else if(Array.isArray(t)){const i=yr([mt("list"),mt(t.length.toString())]);return await $u(t,await or().hash(i,"SHA-384"))}const e=t,r=yr([mt("blob"),mt(e.byteLength.toString())]),n=yr([await or().hash(r,"SHA-384"),await or().hash(e,"SHA-384")]);return await or().hash(n,"SHA-384")}async function $u(t,e){if(t.length<1)return e;const r=yr([e,await Hi(t[0])]),n=await or().hash(r,"SHA-384");return await $u(t.slice(1),n)}async function h2(t){const e=createHash("sha384");for await(const r of t)e.update(r);return e.digest()}var x2=null;class _s extends Error{constructor(r,n={}){var e=(...A6)=>{super(...A6);O(this,"type");O(this,"response")};n.message?e(n.message):e(),this.type=r,this.response=n.response}getType(){return this.type}}function Ts(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}class Pl{constructor(e,r){O(this,"api");O(this,"network");this.api=e,this.network=r}async getByHash(e){const r=await this.api.get(`block/hash/${e}`);if(r.status===200)return r.data;throw r.status===404?new _s("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){const r=await this.api.get(`block/height/${e}`);if(r.status===200)return r.data;throw r.status===404?new _s("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var qu=x(55872).Buffer;const Jn=256*1024,Cl=32*1024,Rs=32,Ki=32;class kl{constructor(e){O(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const r=[];let n=e,i=0;for(;n.byteLength>=Jn;){let s=Jn;const a=n.byteLength-Jn;a>0&&a<Cl&&(s=Math.ceil(n.byteLength/2));const o=n.slice(0,s),d=await this.crypto.hash(o);i+=o.byteLength,r.push({dataHash:d,minByteRange:i-o.byteLength,maxByteRange:i}),n=n.slice(s)}return r.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),r}async generateLeaves(e){return Promise.all(e.map(async({dataHash:r,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(r),this.hash(ba(i))])),dataHash:r,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const r=await this.chunkData(e),n=await this.generateLeaves(r),i=await this.buildLayers(n),s=await this.generateProofs(i),a=r.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(r.splice(r.length-1,1),s.splice(s.length-1,1)),{data_root:i.id,chunks:r,proofs:s}}async buildLayers(e,r=0){if(e.length<2)return e[0];const n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,r+1)}generateProofs(e){const r=this.resolveBranchProofs(e);return Array.isArray(r)?ju(r):[r]}resolveBranchProofs(e,r=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:yr([r,e.dataHash,ba(e.maxByteRange)])};if(e.type=="branch"){const i=yr([r,e.leftChild.id,e.rightChild.id,ba(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,r,n,i,s){if(i<=0)return!1;if(r>=i)return this.validatePath(e,0,i-1,i,s);if(r<0)return this.validatePath(e,0,0,i,s);if(s.length==Ki+Rs){const L=s.slice(0,Ki),G=s.slice(L.length,L.length+Rs),q=await this.hash([await this.hash(L),await this.hash(G)]);return Wu(e,q)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}const a=s.slice(0,Ki),o=s.slice(a.length,a.length+Ki),d=s.slice(a.length+o.length,a.length+o.length+Rs),p=Gu(d),v=s.slice(a.length+o.length+d.length),A=await this.hash([await this.hash(a),await this.hash(o),await this.hash(d)]);return Wu(e,A)?r<p?await this.validatePath(a,r,n,Math.min(i,p),v):await this.validatePath(o,r,Math.max(n,p),i,v):!1}async hashBranch(e,r){return r?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(r.id),await this.hash(ba(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:r.maxByteRange,leftChild:e,rightChild:r}:e}async hash(e){return Array.isArray(e)&&(e=Qu.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,r=""){if(e.byteLength<1)return r;const n=e.slice(0,Ki),i=e.slice(n.length,n.length+Ki),s=e.slice(n.length+i.length,n.length+i.length+Rs),a=Gu(s),o=e.slice(n.length+i.length+s.length),d=await this.hash([await this.hash(n),await this.hash(i),await this.hash(s)]),p=`${r}
${JSON.stringify(qu.from(n))},${JSON.stringify(qu.from(i))},${a} => ${JSON.stringify(d)}`;return this.debug(o,p)}}function ju(t){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...ju(r)):e.push(r)}),e}function ba(t){const e=new Uint8Array(Rs);for(let r=e.length-1;r>=0;r--){const n=t%256;e[r]=n,t=(t-n)/256}return e}function Gu(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}const Wu=(t,e)=>t.every((r,n)=>e[n]===r);var Il=kl;class Bl{constructor(e){O(this,"api");this.api=e}async getTransactionMetadata(e){const r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${Ts(r)}`)}async getChunk(e){const r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${Ts(r)}`)}async getChunkData(e){const r=await this.getChunk(e);return nn(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,r){const n=await this.getTransactionMetadata(e),i=parseInt(n.size),s=new Uint8Array(i);let a=0;for await(const o of this.concurrentChunkDownloader(e,r))s.set(o,a),a+=o.length;return s}async*concurrentChunkDownloader(e,r){const n={concurrency:10,...r},i=await this.getTransactionMetadata(e),s=new Qe.Z(i.offset),a=new Qe.Z(i.size),o=s.minus(a).plus(1);let d=0;const p=Math.ceil(a.dividedBy(Jn).toNumber()),v=Q=>this.getChunkData(Q.toString()).then(fe=>(d+=fe.length,fe)),A=[],L=p-2,G=Math.min(L,n.concurrency);let q=0;for(let Q=0;Q<G;Q++)A.push(v(o.plus(Jn*q++)));for(;q<L;)A.push(v(o.plus(Jn*q++))),yield A.shift();for(;A.length>0;)yield A.shift();if(yield v(o.plus(Jn*q++)),a.isGreaterThan(d)&&(yield v(o.plus(Jn*q++))),!a.isEqualTo(d))throw new Error(`got ${d}B, expected ${a.toString()}B`)}}function Ul(t,e){const r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:mt,concatBuffers:yr},crypto:t}}),r}class Ol{constructor({deps:e}){O(this,"crypto");O(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}const r=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(r,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,r){if(e.length<1)return r;const n=this.utils.concatBuffers([r,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}}class Vu{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":Qu.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,r,n){var i;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=bs.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,i=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Vn(s=>n({...r,url:i}),{...this.config.retry,...r==null?void 0:r.retry})}}const Ju=t=>typeof t!="string"&&"url"in t,Nl={maxAttempts:15,randomlySelect:!0};class Ml{constructor({gateways:e,miners:r,opts:n}){O(this,"minerInstances",[]);O(this,"globalConfig");O(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},r&&this.addMiners(r),e&&this.addGateways(e)}async addPeersFrom(e,r){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,r==null?void 0:r.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(r=>this.minerInstances.push(new Vu(Ju(r)?r:{url:new URL(r),...this.globalConfig})))}addGateways(e){e.forEach(r=>this.gatewayInstances.push(new Vu(Ju(r)?r:{url:new URL(r),...this.globalConfig})))}async get(e,r){return this.request(e,{...r,method:"GET"})}async post(e,r,n){return this.request(e,{data:r,...n,method:"POST"})}async request(e,r){const n={...Nl,...r==null?void 0:r.fallback};let i=0;const s=[],a=r!=null&&r.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),d=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const p=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):i-1);if(p)try{return await p.request(e,{...r})}catch(v){if(d==null||d(v,p),s.push(v),i>=o)throw v}}throw new Error("unreachable")}}var Dl=Ml;class Xu{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?Xo(this[e]):r&&r.decode&&!r.string?this[e]:sn(this[e]);if(this[e]instanceof Array){if((r==null?void 0:r.decode)!==void 0||(r==null?void 0:r.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?Fu(this[e]):nn(this[e]):this[e]}}class Ll extends Xu{constructor(r,n){super();O(this,"name");O(this,"value");this.name=r,this.value=n}}class Fr extends Xu{constructor({attributes:r,deps:n}){super();O(this,"format",2);O(this,"id","");O(this,"last_tx","");O(this,"owner","");O(this,"tags",[]);O(this,"target","");O(this,"quantity","0");O(this,"data_size","0");O(this,"data",new Uint8Array);O(this,"data_root","");O(this,"reward","0");O(this,"signature","");O(this,"merkle");O(this,"deepHash");O(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,r),typeof this.data=="string"&&(this.data=nn(this.data)),r.tags&&(this.tags=r.tags)}addTag(r,n){this.tags.push({name:Zo(r),value:Zo(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:sn(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(r){this.owner=r}setSignature({id:r,owner:n,reward:i,tags:s,signature:a}){this.id=r,this.owner=n,i&&(this.reward=i),s&&(this.tags=s),this.signature=a}async prepareChunks(r){!this.chunks&&r.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(r),this.data_root=sn(this.chunks.data_root)),!this.chunks&&r.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(r,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const i=this.chunks.proofs[r],s=this.chunks.chunks[r];return{data_root:this.data_root,data_size:this.data_size,data_path:sn(i.proof),offset:i.offset.toString(),chunk:sn(n.slice(s.minByteRange,s.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const r=this.tags.reduce((i,s)=>yr([i,nn(s.name),nn(s.value)]),new Uint8Array);return yr([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),mt(this.quantity),mt(this.reward),this.get("last_tx",{decode:!0,string:!1}),r]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(i=>[nn(i.name),nn(i.value)]);return await this.deepHash.deepHash([mt(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),mt(this.quantity),mt(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,mt(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Fl{constructor(e){O(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const Zu=1,Hl=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],Yu=1e3*40;class Ps{constructor({deps:e,transaction:r}){O(this,"chunkIndex",0);O(this,"txPosted",!1);O(this,"transaction");O(this,"lastRequestTimeEnd",0);O(this,"totalErrors",0);O(this,"data");O(this,"lastResponseStatus",0);O(this,"lastResponseError","");O(this,"crypto");O(this,"api");O(this,"merkle");O(this,"deepHash");if(!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=r.data,this.transaction=new Fr({attributes:Object.assign({},r,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+Yu-Date.now(),Yu);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(a=>setTimeout(a,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),nn(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=Ts(s),Hl.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:r,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const i=new Fr(e.transaction);i.chunks||await i.prepareChunks(r);const s=new Ps({deps:n,transaction:i});if(s.chunkIndex=e.chunkIndex,s.lastRequestTimeEnd=e.lastRequestTimeEnd,s.lastResponseError=e.lastResponseError,s.lastResponseStatus=e.lastResponseStatus,s.txPosted=e.txPosted,s.data=r,s.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,r){const n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);const i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Zu){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Zu;return}throw this.lastResponseError=Ts(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=Ts(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}}class Kl{constructor({deps:e}){O(this,"api");O(this,"crypto");O(this,"chunks");O(this,"merkle");O(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,r){const n=r?`price/${e}/${r}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){const r=await this.api.get(`tx/${e}`);if(r.status==200){const n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){const i=await this.getData(e);return new Fr({attributes:{...r.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Fr({attributes:{...r.data,format:r.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw r.status===404?new _s("TX_NOT_FOUND"):r.status===410?new _s("TX_FAILED"):new _s("TX_INVALID")}fromRaw(e){return new Fr({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status===200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e){let r;try{r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async getDataStream(e){let r;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;r=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async sign(e,r,n){const s=typeof r=="object"&&(o=>{let d=!0;return["n","e","d","p","q","dp","dq","qi"].map(p=>!(p in o)&&(d=!1)),d})(r),a=typeof arweaveWallet=="object";if(!s&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(d=>new Ll(d.name,d.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(s){e.setOwner(r.n);const o=await e.getSignatureData(),d=await this.crypto.sign(r,o,n),p=await this.crypto.hash(d);e.setSignature({id:sn(p),owner:r.n,signature:sn(d)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=sn(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new Fr({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new Fr({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof Fr)&&(e=new Fr({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof Fr))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof Fr){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new Ps({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await Ps.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await Ps.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:r})}return n}async*upload(e,r){const n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class zl{constructor(e,r){O(this,"api");O(this,"crypto");this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return sn(await this.crypto.hash(nn(e)))}}const mu=class{constructor(e){O(this,"config");O(this,"api");O(this,"wallets");O(this,"transactions");O(this,"network");O(this,"blocks");O(this,"chunks");O(this,"crypto");O(this,"deepHash");O(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=Ul(e.crypto,{deepHash:Ol}),this.deepHash=this.crypto.deepHash;const r=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new Dl({gateways:r,miners:e.miners}),this.wallets=new zl(this.api,this.crypto),this.chunks=new Bl(this.api),this.network=new Fl(this.api),this.blocks=new Pl(this.api,this.network),this.merkle=new Il({deps:{crypto:this.crypto}}),this.transactions=new Kl({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return mu.utils}getConfig(){return this.config}async createTransaction(e,r){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=mt(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const i=new Fr({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}};let wi=mu;O(wi,"init"),O(wi,"utils",l),O(wi,"VERSION","0.0.1");var Qu=wi;class Yo extends wi{constructor(e,r){super({crypto:(r==null?void 0:r.crypto)??new ya,...r,gateways:e??"https://arweave.net"})}static init(e){return new Yo(e)}}const p2=null;var y2=null;const $l=ya.default?ya.default:ya;class ef extends $l{getPublicKey(e){throw new Error("Unimplemented")}}let ql;function or(){return ql??(ql=new ef)}var jl=x(55872).Buffer;class tf{constructor(e,r){O(this,"_key");O(this,"pk");O(this,"signatureType",1);O(this,"ownerLength",Ut[1].pubLength);O(this,"signatureLength",Ut[1].sigLength);O(this,"_publicKey");this._key=e,this.pk=r,r||(this.pk=or().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,Cn.createSign)("sha256").update(e).sign({key:this._key,padding:Cn.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,r,n){return await or().verify(jl.isBuffer(e)?ut.encode(e):e,r,n)}}var Gl=x(16632),ga=x(55872).Buffer;const vi=Gl.define;function Wl(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qo(t){return Wl(ga.from(t,"hex").toString("base64"))}const rf=vi("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),nf=vi("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),Vl=vi("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nf),this.key("publicKey").bitstr())}),sf=vi("Version",function(){this.int({0:"two-prime",1:"multi"})}),Jl=vi("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),af=vi("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(sf),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(Jl))}),Xl=vi("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(sf),this.key("algorithm").use(nf),this.key("privateKey").bitstr())}),b2="1.2.840.113549.1.1.1";function of(t,e){return e=e||{},Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function ec(t){return t.length%2===1?"0"+t:t}function cf(t,e){const r=rf.decode(t,"der"),n=ec(r.e.toString(16)),i={kty:"RSA",n:Xn(r.n),e:Qo(n)};return of(i,e)}function uf(t,e){const r=af.decode(t,"der"),n=ec(r.e.toString(16)),i={kty:"RSA",n:Xn(r.n),e:Qo(n),d:Xn(r.d),p:Xn(r.p),q:Xn(r.q),dp:Xn(r.dp),dq:Xn(r.dq),qi:Xn(r.qi)};return of(i,e)}function Zl(t,e){const r=Vl.decode(t,"der");return cf(r.publicKey.data,e)}function Yl(t,e){const r=Xl.decode(t,"der");return uf(r.privateKey.data,e)}function Ql(t){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(t);if(!e)return null;const r=!!e[1];return e[2]==="PRIVATE"?r?uf:Yl:r?cf:Zl}function eh(t){return{n:Zn(t.n),e:Zn(t.e),d:t.d&&Zn(t.d),p:t.p&&Zn(t.p),q:t.q&&Zn(t.q),dp:t.dp&&Zn(t.dp),dq:t.dq&&Zn(t.dq),qi:t.qi&&Zn(t.qi)}}function Xn(t){return Qo(ec(t.toString(16)))}function th(t){return new ms(ga.from(t,"base64"))}function Zn(t){return/^[0-9]+$/.test(t)?new ms(t,10):th(t)}function g2(t,e){let r=t.toString().split(/(\r\n|\r|\n)+/g);r=r.filter(function(i){return i.trim().length!==0});const n=Ql(r[0]);return r=r.slice(1,-1).join(""),n(ga.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function rh(t){const e=eh(t),r=!!e.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`;let a=ga.alloc(0);r?(e.version="two-prime",a=af.encode(e,"der")):a=rf.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}class ma extends tf{constructor(r){super(rh(r),r.n);O(this,"jwk");this.jwk=r}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return ut.toBuffer(this.pk)}sign(r){return or().sign(this.jwk,r)}static async verify(r,n,i){return await or().verify(r,n,i)}}var tc=x(55872).Buffer;class ff{constructor(e){O(this,"_publicKey");O(this,"ownerLength",Ut[2].pubLength);O(this,"signatureLength",Ut[2].sigLength);O(this,"signatureType",2);O(this,"pem");O(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=ut.toBuffer(e)),(0,Es.T)(tc.from(n),tc.from(r),tc.from(i))}}var df=x(40954),nh=x.n(df);function tr(t){return"0x"+nh().keccak_256(_e(t))}const ih="strings/5.7.0",lf=new we(ih);var Yn;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Yn||(Yn={}));var Pr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Pr||(Pr={}));function sh(t,e,r,n,i){return lf.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function hf(t,e,r,n,i){if(t===Pr.BAD_PREFIX||t===Pr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===Pr.OVERRUN?r.length-e-1:0}function ah(t,e,r,n,i){return t===Pr.OVERLONG?(n.push(i),0):(n.push(65533),hf(t,e,r,n,i))}const oh=Object.freeze({error:sh,ignore:hf,replace:ah});function rc(t,e){e==null&&(e=oh.error),t=_e(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Pr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Pr.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Pr.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-s-1)-1;for(let d=0;d<s;d++){let p=t[n];if((p&192)!=128){n+=e(Pr.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|p&63,n++}if(o!==null){if(o>1114111){n+=e(Pr.OUT_OF_RANGE,n-1-s,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(Pr.UTF16_SURROGATE,n-1-s,t,r,o);continue}if(o<=a){n+=e(Pr.OVERLONG,n-1-s,t,r,o);continue}r.push(o)}}return r}function an(t,e=Yn.current){e!=Yn.current&&(lf.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return _e(r)}function nc(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function m2(t,e){return'"'+rc(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?nc(r):(r-=65536,nc((r>>10&1023)+55296)+nc((r&1023)+56320))}).join("")+'"'}function ch(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function uh(t,e){return ch(rc(t,e))}function w2(t,e=Yn.current){return rc(an(t,e))}const fh=`Ethereum Signed Message:
`;function wa(t){return typeof t=="string"&&(t=an(t)),tr(Sr([an(fh),an(String(t.length)),t]))}var dh=x(14751),Cr=x.n(dh),v2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof x.g<"u"?x.g:typeof self<"u"?self:{};function E2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zi(t,e,r){return r={path:e,exports:{},require:function(n,i){return lh(n,i??r.path)}},t(r,r.exports),r.exports}function S2(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function A2(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}function _2(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function lh(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ic=xf;function xf(t,e){if(!t)throw new Error(e||"Assertion failed")}xf.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var on=zi(function(t,e){"use strict";var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var d=[];if(typeof a!="string"){for(var p=0;p<a.length;p++)d[p]=a[p]|0;return d}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var p=0;p<a.length;p+=2)d.push(parseInt(a[p]+a[p+1],16))}else for(var p=0;p<a.length;p++){var v=a.charCodeAt(p),A=v>>8,L=v&255;A?d.push(A,L):d.push(L)}return d}r.toArray=n;function i(a){return a.length===1?"0"+a:a}r.zero2=i;function s(a){for(var o="",d=0;d<a.length;d++)o+=i(a[d].toString(16));return o}r.toHex=s,r.encode=function(o,d){return d==="hex"?s(o):o}}),kr=zi(function(t,e){"use strict";var r=e;r.assert=ic,r.toArray=on.toArray,r.zero2=on.zero2,r.toHex=on.toHex,r.encode=on.encode;function n(d,p,v){var A=new Array(Math.max(d.bitLength(),v)+1);A.fill(0);for(var L=1<<p+1,G=d.clone(),q=0;q<A.length;q++){var Q,fe=G.andln(L-1);G.isOdd()?(fe>(L>>1)-1?Q=(L>>1)-fe:Q=fe,G.isubn(Q)):Q=0,A[q]=Q,G.iushrn(1)}return A}r.getNAF=n;function i(d,p){var v=[[],[]];d=d.clone(),p=p.clone();for(var A=0,L=0,G;d.cmpn(-A)>0||p.cmpn(-L)>0;){var q=d.andln(3)+A&3,Q=p.andln(3)+L&3;q===3&&(q=-1),Q===3&&(Q=-1);var fe;q&1?(G=d.andln(7)+A&7,(G===3||G===5)&&Q===2?fe=-q:fe=q):fe=0,v[0].push(fe);var Ce;Q&1?(G=p.andln(7)+L&7,(G===3||G===5)&&q===2?Ce=-Q:Ce=Q):Ce=0,v[1].push(Ce),2*A===fe+1&&(A=1-A),2*L===Ce+1&&(L=1-L),d.iushrn(1),p.iushrn(1)}return v}r.getJSF=i;function s(d,p,v){var A="_"+p;d.prototype[p]=function(){return this[A]!==void 0?this[A]:this[A]=v.call(this)}}r.cachedProperty=s;function a(d){return typeof d=="string"?r.toArray(d,"hex"):d}r.parseBytes=a;function o(d){return new(st())(d,"hex","le")}r.intFromLE=o}),va=kr.getNAF,hh=kr.getJSF,Ea=kr.assert;function Qn(t,e){this.type=t,this.p=new(st())(e.p,16),this.red=e.prime?st().red(e.prime):st().mont(this.p),this.zero=new(st())(0).toRed(this.red),this.one=new(st())(1).toRed(this.red),this.two=new(st())(2).toRed(this.red),this.n=e.n&&new(st())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ei=Qn;Qn.prototype.point=function(){throw new Error("Not implemented")},Qn.prototype.validate=function(){throw new Error("Not implemented")},Qn.prototype._fixedNafMul=function(e,r){Ea(e.precomputed);var n=e._getDoubles(),i=va(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,d;for(o=0;o<i.length;o+=n.step){d=0;for(var p=o+n.step-1;p>=o;p--)d=(d<<1)+i[p];a.push(d)}for(var v=this.jpoint(null,null,null),A=this.jpoint(null,null,null),L=s;L>0;L--){for(o=0;o<a.length;o++)d=a[o],d===L?A=A.mixedAdd(n.points[o]):d===-L&&(A=A.mixedAdd(n.points[o].neg()));v=v.add(A)}return v.toP()},Qn.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=va(r,n,this._bitLength),o=this.jpoint(null,null,null),d=a.length-1;d>=0;d--){for(var p=0;d>=0&&a[d]===0;d--)p++;if(d>=0&&p++,o=o.dblp(p),d<0)break;var v=a[d];Ea(v!==0),e.type==="affine"?v>0?o=o.mixedAdd(s[v-1>>1]):o=o.mixedAdd(s[-v-1>>1].neg()):v>0?o=o.add(s[v-1>>1]):o=o.add(s[-v-1>>1].neg())}return e.type==="affine"?o.toP():o},Qn.prototype._wnafMulAdd=function(e,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,d=this._wnafT3,p=0,v,A,L;for(v=0;v<i;v++){L=r[v];var G=L._getNAFPoints(e);a[v]=G.wnd,o[v]=G.points}for(v=i-1;v>=1;v-=2){var q=v-1,Q=v;if(a[q]!==1||a[Q]!==1){d[q]=va(n[q],a[q],this._bitLength),d[Q]=va(n[Q],a[Q],this._bitLength),p=Math.max(d[q].length,p),p=Math.max(d[Q].length,p);continue}var fe=[r[q],null,null,r[Q]];r[q].y.cmp(r[Q].y)===0?(fe[1]=r[q].add(r[Q]),fe[2]=r[q].toJ().mixedAdd(r[Q].neg())):r[q].y.cmp(r[Q].y.redNeg())===0?(fe[1]=r[q].toJ().mixedAdd(r[Q]),fe[2]=r[q].add(r[Q].neg())):(fe[1]=r[q].toJ().mixedAdd(r[Q]),fe[2]=r[q].toJ().mixedAdd(r[Q].neg()));var Ce=[-3,-1,-5,-7,0,7,5,1,3],Ge=hh(n[q],n[Q]);for(p=Math.max(Ge[0].length,p),d[q]=new Array(p),d[Q]=new Array(p),A=0;A<p;A++){var Ke=Ge[0][A]|0,Et=Ge[1][A]|0;d[q][A]=Ce[(Ke+1)*3+(Et+1)],d[Q][A]=0,o[q]=fe}}var wt=this.jpoint(null,null,null),er=this._wnafT4;for(v=p;v>=0;v--){for(var sr=0;v>=0;){var St=!0;for(A=0;A<i;A++)er[A]=d[A][v]|0,er[A]!==0&&(St=!1);if(!St)break;sr++,v--}if(v>=0&&sr++,wt=wt.dblp(sr),v<0)break;for(A=0;A<i;A++){var $t=er[A];$t!==0&&($t>0?L=o[A][$t-1>>1]:$t<0&&(L=o[A][-$t-1>>1].neg()),L.type==="affine"?wt=wt.mixedAdd(L):wt=wt.add(L))}}for(v=0;v<i;v++)o[v]=null;return s?wt:wt.toP()};function Hr(t,e){this.curve=t,this.type=e,this.precomputed=null}Qn.BasePoint=Hr,Hr.prototype.eq=function(){throw new Error("Not implemented")},Hr.prototype.validate=function(){return this.curve.validate(this)},Qn.prototype.decodePoint=function(e,r){e=kr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ea(e[e.length-1]%2===0):e[0]===7&&Ea(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},Hr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Hr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},Hr.prototype.encode=function(e,r){return kr.encode(this._encode(r),e)},Hr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Hr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},Hr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},Hr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},Hr.prototype._getBeta=function(){return null},Hr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var sc=zi(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),xh=kr.assert;function Kr(t){Ei.call(this,"short",t),this.a=new(st())(t.a,16).toRed(this.red),this.b=new(st())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}sc(Kr,Ei);var ph=Kr;Kr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new(st())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new(st())(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],xh(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(st())(o.a,16),b:new(st())(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},Kr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:st().mont(e),n=new(st())(2).toRed(r).redInvm(),i=n.redNeg(),s=new(st())(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},Kr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new(st())(1),a=new(st())(0),o=new(st())(0),d=new(st())(1),p,v,A,L,G,q,Q,fe=0,Ce,Ge;n.cmpn(0)!==0;){var Ke=i.div(n);Ce=i.sub(Ke.mul(n)),Ge=o.sub(Ke.mul(s));var Et=d.sub(Ke.mul(a));if(!A&&Ce.cmp(r)<0)p=Q.neg(),v=s,A=Ce.neg(),L=Ge;else if(A&&++fe===2)break;Q=Ce,i=n,n=Ce,o=s,s=Ge,d=a,a=Et}G=Ce.neg(),q=Ge;var wt=A.sqr().add(L.sqr()),er=G.sqr().add(q.sqr());return er.cmp(wt)>=0&&(G=p,q=v),A.negative&&(A=A.neg(),L=L.neg()),G.negative&&(G=G.neg(),q=q.neg()),[{a:A,b:L},{a:G,b:q}]},Kr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),d=a.mul(i.a),p=s.mul(n.b),v=a.mul(i.b),A=e.sub(o).sub(d),L=p.add(v).neg();return{k1:A,k2:L}},Kr.prototype.pointFromX=function(e,r){e=new(st())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},Kr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},Kr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),d=e[a],p=d._getBeta();o.k1.negative&&(o.k1.ineg(),d=d.neg(!0)),o.k2.negative&&(o.k2.ineg(),p=p.neg(!0)),i[a*2]=d,i[a*2+1]=p,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var v=this._wnafMulAdd(1,i,s,a*2,n),A=0;A<a*2;A++)i[A]=null,s[A]=null;return v};function rr(t,e,r,n){Ei.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(st())(e,16),this.y=new(st())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}sc(rr,Ei.BasePoint),Kr.prototype.point=function(e,r,n){return new rr(this,e,r,n)},Kr.prototype.pointFromJSON=function(e,r){return rr.fromJSON(this,e,r)},rr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},rr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},rr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},rr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},rr.prototype.isInfinity=function(){return this.inf},rr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},rr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},rr.prototype.getX=function(){return this.x.fromRed()},rr.prototype.getY=function(){return this.y.fromRed()},rr.prototype.mul=function(e){return e=new(st())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},rr.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},rr.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},rr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},rr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},rr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function cr(t,e,r,n){Ei.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(st())(0)):(this.x=new(st())(e,16),this.y=new(st())(r,16),this.z=new(st())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}sc(cr,Ei.BasePoint),Kr.prototype.jpoint=function(e,r,n){return new cr(this,e,r,n)},cr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},cr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},cr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),d=i.redSub(s),p=a.redSub(o);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=d.redSqr(),A=v.redMul(d),L=i.redMul(v),G=p.redSqr().redIAdd(A).redISub(L).redISub(L),q=p.redMul(L.redISub(G)).redISub(a.redMul(A)),Q=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(G,q,Q)},cr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(i),d=s.redSub(a);if(o.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=o.redSqr(),v=p.redMul(o),A=n.redMul(p),L=d.redSqr().redIAdd(v).redISub(A).redISub(A),G=d.redMul(A.redISub(L)).redISub(s.redMul(v)),q=this.z.redMul(o);return this.curve.jpoint(L,G,q)},cr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,d=this.z,p=d.redSqr().redSqr(),v=o.redAdd(o);for(r=0;r<e;r++){var A=a.redSqr(),L=v.redSqr(),G=L.redSqr(),q=A.redAdd(A).redIAdd(A).redIAdd(i.redMul(p)),Q=a.redMul(L),fe=q.redSqr().redISub(Q.redAdd(Q)),Ce=Q.redISub(fe),Ge=q.redMul(Ce);Ge=Ge.redIAdd(Ge).redISub(G);var Ke=v.redMul(d);r+1<e&&(p=p.redMul(G)),a=fe,d=Ke,v=Ge}return this.curve.jpoint(a,v.redMul(s),d)},cr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},cr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i),p=d.redSqr().redISub(o).redISub(o),v=a.redIAdd(a);v=v.redIAdd(v),v=v.redIAdd(v),e=p,r=d.redMul(o.redISub(p)).redISub(v),n=this.y.redAdd(this.y)}else{var A=this.x.redSqr(),L=this.y.redSqr(),G=L.redSqr(),q=this.x.redAdd(L).redSqr().redISub(A).redISub(G);q=q.redIAdd(q);var Q=A.redAdd(A).redIAdd(A),fe=Q.redSqr(),Ce=G.redIAdd(G);Ce=Ce.redIAdd(Ce),Ce=Ce.redIAdd(Ce),e=fe.redISub(q).redISub(q),r=Q.redMul(q.redISub(e)).redISub(Ce),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},cr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),p=d.redSqr().redISub(o).redISub(o);e=p;var v=a.redIAdd(a);v=v.redIAdd(v),v=v.redIAdd(v),r=d.redMul(o.redISub(p)).redISub(v),n=this.y.redAdd(this.y)}else{var A=this.z.redSqr(),L=this.y.redSqr(),G=this.x.redMul(L),q=this.x.redSub(A).redMul(this.x.redAdd(A));q=q.redAdd(q).redIAdd(q);var Q=G.redIAdd(G);Q=Q.redIAdd(Q);var fe=Q.redAdd(Q);e=q.redSqr().redISub(fe),n=this.y.redAdd(this.z).redSqr().redISub(L).redISub(A);var Ce=L.redSqr();Ce=Ce.redIAdd(Ce),Ce=Ce.redIAdd(Ce),Ce=Ce.redIAdd(Ce),r=q.redMul(Q.redISub(e)).redISub(Ce)}return this.curve.jpoint(e,r,n)},cr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),d=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),p=r.redAdd(r);p=p.redIAdd(p);var v=p.redMul(o),A=d.redSqr().redISub(v.redAdd(v)),L=v.redISub(A),G=o.redSqr();G=G.redIAdd(G),G=G.redIAdd(G),G=G.redIAdd(G);var q=d.redMul(L).redISub(G),Q=n.redAdd(n).redMul(i);return this.curve.jpoint(A,q,Q)},cr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var d=o.redSqr(),p=i.redIAdd(i);p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var v=s.redIAdd(o).redSqr().redISub(a).redISub(d).redISub(p),A=r.redMul(v);A=A.redIAdd(A),A=A.redIAdd(A);var L=this.x.redMul(d).redISub(A);L=L.redIAdd(L),L=L.redIAdd(L);var G=this.y.redMul(v.redMul(p.redISub(v)).redISub(o.redMul(d)));G=G.redIAdd(G),G=G.redIAdd(G),G=G.redIAdd(G);var q=this.z.redAdd(o).redSqr().redISub(n).redISub(d);return this.curve.jpoint(L,G,q)},cr.prototype.mul=function(e,r){return e=new(st())(e,r),this.curve._wnafMul(this,e)},cr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},cr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},cr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},cr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Sa=zi(function(t,e){"use strict";var r=e;r.base=Ei,r.short=ph,r.mont=null,r.edwards=null}),Aa=zi(function(t,e){"use strict";var r=e,n=kr.assert;function i(o){o.type==="short"?this.curve=new Sa.short(o):o.type==="edwards"?this.curve=new Sa.edwards(o):this.curve=new Sa.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(o,d){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var p=new i(d);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:p}),p}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cr().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function ei(t){if(!(this instanceof ei))return new ei(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=on.toArray(t.entropy,t.entropyEnc||"hex"),r=on.toArray(t.nonce,t.nonceEnc||"hex"),n=on.toArray(t.pers,t.persEnc||"hex");ic(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var pf=ei;ei.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ei.prototype._hmac=function(){return new(Cr()).hmac(this.hash,this.K)},ei.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ei.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=on.toArray(e,r),n=on.toArray(n,i),ic(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},ei.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=on.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,on.encode(a,r)};var ac=kr.assert;function dr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var oc=dr;dr.fromPublic=function(e,r,n){return r instanceof dr?r:new dr(e,{pub:r,pubEnc:n})},dr.fromPrivate=function(e,r,n){return r instanceof dr?r:new dr(e,{priv:r,privEnc:n})},dr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},dr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},dr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},dr.prototype._importPrivate=function(e,r){this.priv=new(st())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},dr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?ac(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ac(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},dr.prototype.derive=function(e){return e.validate()||ac(e.validate(),"public point not validated"),e.mul(this.priv).getX()},dr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)},dr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},dr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var yh=kr.assert;function _a(t,e){if(t instanceof _a)return t;this._importDER(t,e)||(yh(t.r&&t.s,"Signature without r or s"),this.r=new(st())(t.r,16),this.s=new(st())(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ta=_a;function bh(){this.place=0}function cc(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function yf(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}_a.prototype._importDER=function(e,r){e=kr.toArray(e,r);var n=new bh;if(e[n.place++]!==48)return!1;var i=cc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cc(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=cc(e,n);if(o===!1||e.length!==o+n.place)return!1;var d=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new(st())(a),this.s=new(st())(d),this.recoveryParam=null,!0};function uc(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}_a.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=yf(r),n=yf(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uc(i,r.length),i=i.concat(r),i.push(2),uc(i,n.length);var s=i.concat(n),a=[48];return uc(a,s.length),a=a.concat(s),kr.encode(a,e)};var gh=function(){throw new Error("unsupported")},bf=kr.assert;function zr(t){if(!(this instanceof zr))return new zr(t);typeof t=="string"&&(bf(Object.prototype.hasOwnProperty.call(Aa,t),"Unknown curve "+t),t=Aa[t]),t instanceof Aa.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var mh=zr;zr.prototype.keyPair=function(e){return new oc(this,e)},zr.prototype.keyFromPrivate=function(e,r){return oc.fromPrivate(this,e,r)},zr.prototype.keyFromPublic=function(e,r){return oc.fromPublic(this,e,r)},zr.prototype.genKeyPair=function(e){e||(e={});for(var r=new pf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gh(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new(st())(2));;){var s=new(st())(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},zr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},zr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new(st())(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),d=new pf({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),p=this.n.sub(new(st())(1)),v=0;;v++){var A=i.k?i.k(v):new(st())(d.generate(this.n.byteLength()));if(A=this._truncateToN(A,!0),!(A.cmpn(1)<=0||A.cmp(p)>=0)){var L=this.g.mul(A);if(!L.isInfinity()){var G=L.getX(),q=G.umod(this.n);if(q.cmpn(0)!==0){var Q=A.invm(this.n).mul(q.mul(r.getPrivate()).iadd(e));if(Q=Q.umod(this.n),Q.cmpn(0)!==0){var fe=(L.getY().isOdd()?1:0)|(G.cmp(q)!==0?2:0);return i.canonical&&Q.cmp(this.nh)>0&&(Q=this.n.sub(Q),fe^=1),new Ta({r:q,s:Q,recoveryParam:fe})}}}}}},zr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new(st())(e,16)),n=this.keyFromPublic(n,i),r=new Ta(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),d=o.mul(e).umod(this.n),p=o.mul(s).umod(this.n),v;return this.curve._maxwellTrick?(v=this.g.jmulAdd(d,n.getPublic(),p),v.isInfinity()?!1:v.eqXToP(s)):(v=this.g.mulAdd(d,n.getPublic(),p),v.isInfinity()?!1:v.getX().umod(this.n).cmp(s)===0)},zr.prototype.recoverPubKey=function(t,e,r,n){bf((3&r)===r,"The recovery param is more than two bits"),e=new Ta(e,n);var i=this.n,s=new(st())(t),a=e.r,o=e.s,d=r&1,p=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?a=this.curve.pointFromX(a.add(this.curve.n),d):a=this.curve.pointFromX(a,d);var v=e.r.invm(i),A=i.sub(s).mul(v).umod(i),L=o.mul(v).umod(i);return this.g.mulAdd(A,a,L)},zr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Ta(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var wh=zi(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=kr,r.rand=function(){throw new Error("unsupported")},r.curve=Sa,r.curves=Aa,r.ec=mh,r.eddsa=null}),vh=wh.ec;const Eh="properties/5.7.0";var Sh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const Ra=new we(Eh);function be(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Cs(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Bn(t){return Sh(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Ah(t,e){(!t||typeof t!="object")&&Ra.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Ra.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function ti(t){const e={};for(const r in t)e[r]=t[r];return e}const _h={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function gf(t){if(t==null||_h[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!gf(n))return!1}return!0}return Ra.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Th(t){if(gf(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>$i(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&be(e,r,$i(n))}return e}return Ra.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function $i(t){return Th(t)}class qi{constructor(e){for(const r in e)this[r]=$i(e[r])}}const Rh="signing-key/5.7.0",fc=new we(Rh);let dc=null;function ln(){return dc||(dc=new vh("secp256k1")),dc}class ji{constructor(e){be(this,"curve","secp256k1"),be(this,"privateKey",Le(e)),Ou(this.privateKey)!==32&&fc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=ln().keyFromPrivate(_e(this.privateKey));be(this,"publicKey","0x"+r.getPublic(!1,"hex")),be(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),be(this,"_isSigningKey",!0)}_addPoint(e){const r=ln().keyFromPublic(_e(this.publicKey)),n=ln().keyFromPublic(_e(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=ln().keyFromPrivate(_e(this.privateKey)),n=_e(e);n.length!==32&&fc.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Fi({recoveryParam:i.recoveryParam,r:Ar("0x"+i.r.toString(16),32),s:Ar("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=ln().keyFromPrivate(_e(this.privateKey)),n=ln().keyFromPublic(_e(wf(e)));return Ar("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function mf(t,e){const r=Fi(e),n={r:_e(r.r),s:_e(r.s)};return"0x"+ln().recoverPubKey(_e(t),n,r.recoveryParam).encode("hex",!1)}function wf(t,e){const r=_e(t);if(r.length===32){const n=new ji(r);return e?"0x"+ln().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Le(r):"0x"+ln().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+ln().keyFromPublic(r).getPublic(!0,"hex"):Le(r)}return fc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Ph="rlp/5.7.0",hn=new we(Ph);function vf(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Ef(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Sf(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Sf(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=vf(n.length);return i.unshift(247+i.length),i.concat(n)}Wo(t)||hn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(_e(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=vf(e.length);return r.unshift(183+r.length),r.concat(e)}function ks(t){return Le(Sf(t))}function Af(t,e,r,n){const i=[];for(;r<e+1+n;){const s=_f(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&hn.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _f(t,e){if(t.length===0&&hn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&hn.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=Ef(t,e+1,r);return e+1+r+n>t.length&&hn.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),Af(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&hn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),Af(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&hn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=Ef(t,e+1,r);e+1+r+n>t.length&&hn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const i=hexlify(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&hn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:hexlify(t[e])}}function T2(t){const e=arrayify(t),r=_f(e,0);return r.consumed!==e.length&&hn.throwArgumentError("invalid rlp data","data",t),r.result}const Ch="address/5.7.0",ri=new we(Ch);function Tf(t){Gt(t,20)||ri.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=_e(tr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const kh=9007199254740991;function Ih(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const lc={};for(let t=0;t<10;t++)lc[String(t)]=String(t);for(let t=0;t<26;t++)lc[String.fromCharCode(65+t)]=String(10+t);const Rf=Math.floor(Ih(kh));function Pf(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>lc[n]).join("");for(;e.length>=Rf;){let n=e.substring(0,Rf);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Lt(t){let e=null;if(typeof t!="string"&&ri.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Tf(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ri.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Pf(t)&&ri.throwArgumentError("bad icap checksum","address",t),e=Al(t.substring(4));e.length<40;)e="0"+e;e=Tf("0x"+e)}else ri.throwArgumentError("invalid address","address",t);return e}function R2(t){try{return Lt(t),!0}catch{}return!1}function P2(t){let e=_base16To36(Lt(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Pf("XE00"+e)+e}function Bh(t){let e=null;try{e=Lt(t.from)}catch{ri.throwArgumentError("missing from address","transaction",t)}const r=kn(_e(Ze.from(t.nonce).toHexString()));return Lt(gi(tr(ks([e,r])),12))}function C2(t,e,r){return hexDataLength(e)!==32&&ri.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(r)!==32&&ri.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Lt(hexDataSlice(keccak256(concat(["0xff",Lt(t),e,r])),12))}const Uh="transactions/5.7.0",lr=new we(Uh);var Cf;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Cf||(Cf={}));function hc(t){return t==="0x"?null:getAddress(t)}function hr(t){return t==="0x"?Zero:BigNumber.from(t)}const Oh=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Nh={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ni(t){const e=wf(t);return Lt(gi(tr(gi(e,1)),12))}function Pa(t,e){return ni(mf(_e(t),e))}function Ir(t,e){const r=kn(Ze.from(t).toHexString());return r.length>32&&lr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function xc(t,e){return{address:Lt(t),storageKeys:(e||[]).map((r,n)=>(Ou(r)!==32&&lr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Ca(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&lr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),xc(r[0],r[1])):xc(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return xc(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function kf(t){return Ca(t).map(e=>[e.address,e.storageKeys])}function If(t,e){if(t.gasPrice!=null){const n=Ze.from(t.gasPrice),i=Ze.from(t.maxFeePerGas||0);n.eq(i)||lr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Ir(t.chainId||0,"chainId"),Ir(t.nonce||0,"nonce"),Ir(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ir(t.maxFeePerGas||0,"maxFeePerGas"),Ir(t.gasLimit||0,"gasLimit"),t.to!=null?Lt(t.to):"0x",Ir(t.value||0,"value"),t.data||"0x",kf(t.accessList||[])];if(e){const n=Fi(e);r.push(Ir(n.recoveryParam,"recoveryParam")),r.push(kn(n.r)),r.push(kn(n.s))}return mi(["0x02",ks(r)])}function Bf(t,e){const r=[Ir(t.chainId||0,"chainId"),Ir(t.nonce||0,"nonce"),Ir(t.gasPrice||0,"gasPrice"),Ir(t.gasLimit||0,"gasLimit"),t.to!=null?Lt(t.to):"0x",Ir(t.value||0,"value"),t.data||"0x",kf(t.accessList||[])];if(e){const n=Fi(e);r.push(Ir(n.recoveryParam,"recoveryParam")),r.push(kn(n.r)),r.push(kn(n.s))}return mi(["0x01",ks(r)])}function Mh(t,e){Ah(t,Nh);const r=[];Oh.forEach(function(a){let o=t[a.name]||[];const d={};a.numeric&&(d.hexPad="left"),o=_e(Le(o,d)),a.length&&o.length!==a.length&&o.length>0&&lr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=kn(o),o.length>a.maxLength&&lr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),r.push(Le(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&lr.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Wo(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(Le(n)),r.push("0x"),r.push("0x")),!e)return ks(r);const i=Fi(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&lr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&lr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(Le(s)),r.push(kn(_e(i.r))),r.push(kn(_e(i.s))),ks(r)}function Uf(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&lr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Mh(t,e);switch(t.type){case 1:return Bf(t,e);case 2:return If(t,e);default:break}return lr.throwError(`unsupported transaction type: ${t.type}`,we.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Of(t,e,r){try{const n=hr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{lr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=hexZeroPad(e[1],32),t.s=hexZeroPad(e[2],32);try{const n=keccak256(r(t));t.from=Pa(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Dh(t){const e=RLP.decode(t.slice(1));e.length!==9&&e.length!==12&&lr.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(t));const r=hr(e[2]),n=hr(e[3]),i={type:2,chainId:hr(e[0]).toNumber(),nonce:hr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:hr(e[4]),to:hc(e[5]),value:hr(e[6]),data:e[7],accessList:Ca(e[8])};return e.length===9||(i.hash=keccak256(t),Of(i,e.slice(9),If)),i}function Lh(t){const e=RLP.decode(t.slice(1));e.length!==8&&e.length!==11&&lr.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(t));const r={type:1,chainId:hr(e[0]).toNumber(),nonce:hr(e[1]).toNumber(),gasPrice:hr(e[2]),gasLimit:hr(e[3]),to:hc(e[4]),value:hr(e[5]),data:e[6],accessList:Ca(e[7])};return e.length===8||(r.hash=keccak256(t),Of(r,e.slice(8),Bf)),r}function Fh(t){const e=RLP.decode(t);e.length!==9&&e.length!==6&&lr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:hr(e[0]).toNumber(),gasPrice:hr(e[1]),gasLimit:hr(e[2]),to:hc(e[3]),value:hr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=BigNumber.from(e[6]).toNumber()}catch{return r}if(r.r=hexZeroPad(e[7],32),r.s=hexZeroPad(e[8],32),BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(hexlify(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=keccak256(RLP.encode(i));try{r.from=Pa(s,{r:hexlify(r.r),s:hexlify(r.s),recoveryParam:n})}catch{}r.hash=keccak256(t)}return r.type=null,r}function k2(t){const e=arrayify(t);if(e[0]>127)return Fh(e);switch(e[0]){case 1:return Lh(e);case 2:return Dh(e);default:break}return lr.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Hh="abstract-provider/5.7.0";var Kh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const Is=new we(Hh);class I2 extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class B2 extends null{constructor(e,r){isHexString(e,32)||Is.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:r||0,blockHash:e})}}class U2 extends null{constructor(e,r){isHexString(e,32)||Is.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:r||0,hash:e})}}class O2 extends null{constructor(e,r,n){isHexString(e,32)||Is.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(r,32)||Is.throwArgumentError("invalid transaction hash","afterHash",r),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:r})}}class ka{constructor(){Is.checkAbstract(new.target,ka),be(this,"_isProvider",!0)}getFeeData(){return Kh(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Bn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ze.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const zh="abstract-signer/5.7.0";var cn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const $r=new we(zh),$h=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],qh=[we.errors.INSUFFICIENT_FUNDS,we.errors.NONCE_EXPIRED,we.errors.REPLACEMENT_UNDERPRICED];class Bs{constructor(){$r.checkAbstract(new.target,Bs),be(this,"_isSigner",!0)}getBalance(e){return cn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return cn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return cn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Bn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return cn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Bn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return cn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return cn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return cn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return cn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return cn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)$h.indexOf(n)===-1&&$r.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=ti(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&$r.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return cn(this,void 0,void 0,function*(){const r=yield Bn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>cn(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&$r.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?$r.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&$r.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&$r.throwError("network does not support EIP-1559",we.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):$r.throwError("failed to get consistent fee data",we.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(qh.indexOf(i.code)>=0)throw i;return $r.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",we.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&$r.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Bn(r)})}_checkProvider(e){this.provider||$r.throwError("missing provider",we.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class pc extends Bs{constructor(e,r){super(),be(this,"address",e),be(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{$r.throwError(e,we.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new pc(this.address,e)}}const jh="hash/5.7.0";function Si(t){return tr(an(t))}var Gh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const Ft=new we(jh),Nf=new Uint8Array(32);Nf.fill(0);const Wh=Ze.from(-1),Mf=Ze.from(0),Df=Ze.from(1),Vh=Ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Jh(t){const e=_e(t),r=e.length%32;return r?mi([e,Nf.slice(r)]):Le(e)}const Xh=Ar(Df.toHexString(),32),Zh=Ar(Mf.toHexString(),32),Lf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yc=["name","version","chainId","verifyingContract","salt"];function Ff(t){return function(e){return typeof e!="string"&&Ft.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Yh={name:Ff("name"),version:Ff("version"),chainId:function(t){try{return Ze.from(t).toString()}catch{}return Ft.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Lt(t).toLowerCase()}catch{}return Ft.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=_e(t);if(e.length!==32)throw new Error("bad length");return Le(e)}catch{}return Ft.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function bc(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ft.throwArgumentError("invalid numeric width","type",t);const i=Vh.mask(r?n-1:n),s=r?i.add(Df).mul(Wh):Mf;return function(a){const o=Ze.from(a);return(o.lt(s)||o.gt(i))&&Ft.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),Ar(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ft.throwArgumentError("invalid bytes width","type",t),function(n){return _e(n).length!==r&&Ft.throwArgumentError(`invalid length for ${t}`,"value",n),Jh(n)}}}switch(t){case"address":return function(e){return Ar(Lt(e),32)};case"bool":return function(e){return e?Xh:Zh};case"bytes":return function(e){return tr(e)};case"string":return function(e){return Si(e)}}return null}function Hf(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Tr{constructor(e){be(this,"types",Object.freeze($i(e))),be(this,"_encoderCache",{}),be(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const d={};e[o].forEach(p=>{d[p.name]&&Ft.throwArgumentError(`duplicate variable name ${JSON.stringify(p.name)} in ${JSON.stringify(o)}`,"types",e),d[p.name]=!0;const v=p.type.match(/^([^\x5b]*)(\x5b|$)/)[1];v===o&&Ft.throwArgumentError(`circular type reference to ${JSON.stringify(v)}`,"types",e),!bc(v)&&(n[v]||Ft.throwArgumentError(`unknown type ${JSON.stringify(v)}`,"types",e),n[v].push(o),r[o][v]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?Ft.throwArgumentError("missing primary type","types",e):s.length>1&&Ft.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),be(this,"primaryType",s[0]);function a(o,d){d[o]&&Ft.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),d[o]=!0,Object.keys(r[o]).forEach(p=>{n[p]&&(a(p,d),Object.keys(d).forEach(v=>{i[v][p]=!0}))}),delete d[o]}a(this.primaryType,{});for(const o in i){const d=Object.keys(i[o]);d.sort(),this._types[o]=Hf(o,e[o])+d.map(p=>Hf(p,e[p])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=bc(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return o=>{a>=0&&o.length!==a&&Ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let d=o.map(s);return this._types[i]&&(d=d.map(tr)),tr(mi(d))}}const n=this.types[e];if(n){const i=Si(this._types[e]);return s=>{const a=n.map(({name:o,type:d})=>{const p=this.getEncoder(d)(s[o]);return this._types[d]?tr(p):p});return a.unshift(i),mi(a)}}return Ft.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Ft.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return tr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(bc(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&Ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(d=>this._visit(a,d,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:d})=>(a[o]=this._visit(d,r[o],n),a),{}):Ft.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Tr(e)}static getPrimaryType(e){return Tr.from(e).primaryType}static hashStruct(e,r,n){return Tr.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Lf[n];i||Ft.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>yc.indexOf(n.name)-yc.indexOf(i.name)),Tr.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return mi(["0x1901",Tr.hashDomain(e),Tr.from(r).hash(n)])}static hash(e,r,n){return tr(Tr.encode(e,r,n))}static resolveNames(e,r,n,i){return Gh(this,void 0,void 0,function*(){e=ti(e);const s={};e.verifyingContract&&!Gt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Tr.from(r);a.visit(n,(o,d)=>(o==="address"&&!Gt(d,20)&&(s[d]="0x"),d));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,d)=>o==="address"&&s[d]?s[d]:d),{domain:e,value:n}})}static getPayload(e,r,n){Tr.hashDomain(e);const i={},s=[];yc.forEach(d=>{const p=e[d];p!=null&&(i[d]=Yh[d](p),s.push({name:d,type:Lf[d]}))});const a=Tr.from(r),o=ti(r);return o.EIP712Domain?Ft.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(d,p)=>{if(d.match(/^bytes(\d*)/))return Le(_e(p));if(d.match(/^u?int/))return Ze.from(p).toString();switch(d){case"address":return p.toLowerCase();case"bool":return!!p;case"string":return typeof p!="string"&&Ft.throwArgumentError("invalid string","value",p),p}return Ft.throwArgumentError("unsupported type","type",d)})}}}class Kf{constructor(e){be(this,"alphabet",e),be(this,"base",e.length),be(this,"_alphabetMap",{}),be(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=_e(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return _e(new Uint8Array(r.reverse()))}}const N2=new Kf("abcdefghijklmnopqrstuvwxyz234567"),zf=new Kf("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Us;(function(t){t.sha256="sha256",t.sha512="sha512"})(Us||(Us={}));const Qh="sha2/5.7.0",ex=new we(Qh);function tx(t){return"0x"+Cr().ripemd160().update(_e(t)).digest("hex")}function Os(t){return"0x"+Cr().sha256().update(_e(t)).digest("hex")}function M2(t){return"0x"+hash.sha512().update(arrayify(t)).digest("hex")}function Ia(t,e,r){return Us[t]||ex.throwError("unsupported algorithm "+t,we.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Cr().hmac(Cr()[t],_e(e)).update(_e(r)).digest("hex")}function gc(t,e,r,n,i){t=_e(t),e=_e(e);let s,a=1;const o=new Uint8Array(n),d=new Uint8Array(e.length+4);d.set(e);let p,v;for(let A=1;A<=a;A++){d[e.length]=A>>24&255,d[e.length+1]=A>>16&255,d[e.length+2]=A>>8&255,d[e.length+3]=A&255;let L=_e(Ia(i,t,d));s||(s=L.length,v=new Uint8Array(s),a=Math.ceil(n/s),p=n-(a-1)*s),v.set(L);for(let Q=1;Q<r;Q++){L=_e(Ia(i,t,L));for(let fe=0;fe<s;fe++)v[fe]^=L[fe]}const G=(A-1)*s,q=A===a?p:s;o.set(_e(v).slice(0,q),G)}return Le(o)}const rx="wordlists/5.7.0",nx=!1,ix=new we(rx);class Ns{constructor(e){ix.checkAbstract(new.target,Ns),be(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Si(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),nx)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||be(n._ethers.wordlists,r,e))}catch{}}}const sx="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ms=null;function $f(t){if(Ms==null&&(Ms=sx.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ns.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ms=null,new Error("BIP39 Wordlist for en (English) FAILED")}class ax extends Ns{constructor(){super("en")}getWord(e){return $f(this),Ms[e]}getWordIndex(e){return $f(this),Ms.indexOf(e)}}const qf=new ax;Ns.register(qf);const jf={en:qf},ox="hdnode/5.7.0",Ds=new we(ox),cx=Ze.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ux=an("Bitcoin seed"),Gi=2147483648;function Gf(t){return(1<<t)-1<<8-t}function fx(t){return(1<<t)-1}function Ba(t){return Ar(Le(t),32)}function Wf(t){return zf.encode(Sr([t,gi(Os(Os(t)),0,4)]))}function mc(t){if(t==null)return jf.en;if(typeof t=="string"){const e=jf[t];return e==null&&Ds.throwArgumentError("unknown locale","wordlist",t),e}return t}const Wi={},Ls="m/44'/60'/0'/0/0";class qr{constructor(e,r,n,i,s,a,o,d){if(e!==Wi)throw new Error("HDNode constructor cannot be called directly");if(r){const p=new ji(r);be(this,"privateKey",p.privateKey),be(this,"publicKey",p.compressedPublicKey)}else be(this,"privateKey",null),be(this,"publicKey",Le(n));be(this,"parentFingerprint",i),be(this,"fingerprint",gi(tx(Os(this.publicKey)),0,4)),be(this,"address",ni(this.publicKey)),be(this,"chainCode",s),be(this,"index",a),be(this,"depth",o),d==null?(be(this,"mnemonic",null),be(this,"path",null)):typeof d=="string"?(be(this,"mnemonic",null),be(this,"path",d)):(be(this,"mnemonic",d),be(this,"path",d.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Wf(Sr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Le(this.depth),this.parentFingerprint,Ar(Le(this.index),4),this.chainCode,this.privateKey!=null?Sr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new qr(Wi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Gi));const n=new Uint8Array(37);if(e&Gi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(_e(this.privateKey),1),r&&(r+="'")}else n.set(_e(this.publicKey));for(let A=24;A>=0;A-=8)n[33+(A>>3)]=e>>24-A&255;const i=_e(Ia(Us.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,d=null;this.privateKey?o=Ba(Ze.from(s).add(this.privateKey).mod(cx)):d=new ji(Le(s))._addPoint(this.publicKey);let p=r;const v=this.mnemonic;return v&&(p=Object.freeze({phrase:v.phrase,path:r,locale:v.locale||"en"})),new qr(Wi,o,d,this.fingerprint,Ba(a),e,this.depth+1,p)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=Gi)throw new Error("invalid path index - "+s);n=n._derive(Gi+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=Gi)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=_e(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=_e(Ia(Us.sha512,ux,n));return new qr(Wi,Ba(i.slice(0,32)),null,"0x00000000",Ba(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=mc(n),e=vc(wc(e,n),n),qr._fromSeed(dx(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return qr._fromSeed(e,null)}static fromExtendedKey(e){const r=zf.decode(e);(r.length!==82||Wf(r.slice(0,78))!==e)&&Ds.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=Le(r.slice(5,9)),s=parseInt(Le(r.slice(9,13)).substring(2),16),a=Le(r.slice(13,45)),o=r.slice(45,78);switch(Le(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new qr(Wi,null,Le(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new qr(Wi,Le(o.slice(1)),null,i,a,s,n,null)}return Ds.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function dx(t,e){e||(e="");const r=an("mnemonic"+e,Yn.NFKD);return gc(an(t,Yn.NFKD),r,2048,64,"sha512")}function wc(t,e){e=mc(e),Ds.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=_e(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let p=0;p<r.length;p++){let v=e.getWordIndex(r[p].normalize("NFKD"));if(v===-1)throw new Error("invalid mnemonic");for(let A=0;A<11;A++)v&1<<10-A&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,a=r.length/3,o=Gf(a);if((_e(Os(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return Le(n.slice(0,s/8))}function vc(t,e){if(e=mc(e),t=_e(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&fx(8-n)),n+=3);const i=t.length/4,s=_e(Os(t))[0]&Gf(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}function D2(t,e){try{return wc(t,e),!0}catch{}return!1}function L2(t){return(typeof t!="number"||t<0||t>=Gi||t%1)&&Ds.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const lx="random/5.7.0",Ec=new we(lx);function hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof x.g<"u")return x.g;throw new Error("unable to locate global object")}const Vf=hx();let Ua=Vf.crypto||Vf.msCrypto;(!Ua||!Ua.getRandomValues)&&(Ec.warn("WARNING: Missing strong random number source"),Ua={getRandomValues:function(t){return Ec.throwError("no secure random source avaialble",we.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Fs(t){(t<=0||t>1024||t%1||t!=t)&&Ec.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Ua.getRandomValues(e),_e(e)}var xx=x(39556),xn=x.n(xx),px=x(9495),Sc=x.n(px);function Ai(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_e(t)}function Hs(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Ac(t){return typeof t=="string"?an(t,Yn.NFKC):_e(t)}function Wt(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}function yx(t){const e=_e(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Le(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Jf="json-wallets/5.7.0";var bx=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const _c=new we(Jf);function Xf(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class gx extends qi{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function mx(t,e,r){if(Wt(t,"crypto/cipher")==="aes-128-ctr"){const i=Ai(Wt(t,"crypto/cipherparams/iv")),s=new(xn()).Counter(i),a=new(xn()).ModeOfOperation.ctr(e,s);return _e(a.decrypt(r))}return null}function Zf(t,e){const r=Ai(Wt(t,"crypto/ciphertext"));if(Le(tr(Sr([e.slice(16,32),r]))).substring(2)!==Wt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=mx(t,e.slice(0,16),r);i||_c.throwError("unsupported cipher",we.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=ni(i);if(t.address){let d=t.address.toLowerCase();if(d.substring(0,2)!=="0x"&&(d="0x"+d),Lt(d)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:Le(i)};if(Wt(t,"x-ethers/version")==="0.1"){const d=Ai(Wt(t,"x-ethers/mnemonicCiphertext")),p=Ai(Wt(t,"x-ethers/mnemonicCounter")),v=new(xn()).Counter(p),A=new(xn()).ModeOfOperation.ctr(s,v),L=Wt(t,"x-ethers/path")||Ls,G=Wt(t,"x-ethers/locale")||"en",q=_e(A.decrypt(d));try{const Q=vc(q,G),fe=qr.fromMnemonic(Q,null,G).derivePath(L);if(fe.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=fe.mnemonic}catch(Q){if(Q.code!==we.errors.INVALID_ARGUMENT||Q.argument!=="wordlist")throw Q}}return new gx(o)}function Yf(t,e,r,n,i){return _e(gc(t,e,r,n,i))}function wx(t,e,r,n,i){return Promise.resolve(Yf(t,e,r,n,i))}function Qf(t,e,r,n,i){const s=Ac(e),a=Wt(t,"crypto/kdf");if(a&&typeof a=="string"){const o=function(d,p){return _c.throwArgumentError("invalid key-derivation function parameters",d,p)};if(a.toLowerCase()==="scrypt"){const d=Ai(Wt(t,"crypto/kdfparams/salt")),p=parseInt(Wt(t,"crypto/kdfparams/n")),v=parseInt(Wt(t,"crypto/kdfparams/r")),A=parseInt(Wt(t,"crypto/kdfparams/p"));(!p||!v||!A)&&o("kdf",a),p&p-1&&o("N",p);const L=parseInt(Wt(t,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),n(s,d,p,v,A,64,i)}else if(a.toLowerCase()==="pbkdf2"){const d=Ai(Wt(t,"crypto/kdfparams/salt"));let p=null;const v=Wt(t,"crypto/kdfparams/prf");v==="hmac-sha256"?p="sha256":v==="hmac-sha512"?p="sha512":o("prf",v);const A=parseInt(Wt(t,"crypto/kdfparams/c")),L=parseInt(Wt(t,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),r(s,d,A,L,p)}}return _c.throwArgumentError("unsupported key-derivation function","kdf",a)}function vx(t,e){const r=JSON.parse(t),n=Qf(r,e,Yf,Sc().syncScrypt);return Zf(r,n)}function Ex(t,e,r){return bx(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Qf(n,e,wx,Sc().scrypt,r);return Zf(n,i)})}function Sx(t,e,r,n){try{if(Lt(t.address)!==ni(t.privateKey))throw new Error("address/privateKey mismatch");if(Xf(t)){const fe=t.mnemonic;if(qr.fromMnemonic(fe.phrase,null,fe.locale).derivePath(fe.path||Ls).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(fe){return Promise.reject(fe)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=_e(t.privateKey),s=Ac(e);let a=null,o=null,d=null;if(Xf(t)){const fe=t.mnemonic;a=_e(wc(fe.phrase,fe.locale||"en")),o=fe.path||Ls,d=fe.locale||"en"}let p=r.client;p||(p="ethers.js");let v=null;r.salt?v=_e(r.salt):v=Fs(32);let A=null;if(r.iv){if(A=_e(r.iv),A.length!==16)throw new Error("invalid iv")}else A=Fs(16);let L=null;if(r.uuid){if(L=_e(r.uuid),L.length!==16)throw new Error("invalid uuid")}else L=Fs(16);let G=1<<17,q=8,Q=1;return r.scrypt&&(r.scrypt.N&&(G=r.scrypt.N),r.scrypt.r&&(q=r.scrypt.r),r.scrypt.p&&(Q=r.scrypt.p)),Sc().scrypt(s,v,G,q,Q,64,n).then(fe=>{fe=_e(fe);const Ce=fe.slice(0,16),Ge=fe.slice(16,32),Ke=fe.slice(32,64),Et=new(xn()).Counter(A),wt=new(xn()).ModeOfOperation.ctr(Ce,Et),er=_e(wt.encrypt(i)),sr=tr(Sr([Ge,er])),St={address:t.address.substring(2).toLowerCase(),id:yx(L),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Le(A).substring(2)},ciphertext:Le(er).substring(2),kdf:"scrypt",kdfparams:{salt:Le(v).substring(2),n:G,dklen:32,p:Q,r:q},mac:sr.substring(2)}};if(a){const $t=Fs(16),mr=new(xn()).Counter($t),Ot=new(xn()).ModeOfOperation.ctr(Ke,mr),wn=_e(Ot.encrypt(a)),et=new Date,Nt=et.getUTCFullYear()+"-"+Hs(et.getUTCMonth()+1,2)+"-"+Hs(et.getUTCDate(),2)+"T"+Hs(et.getUTCHours(),2)+"-"+Hs(et.getUTCMinutes(),2)+"-"+Hs(et.getUTCSeconds(),2)+".0Z";St["x-ethers"]={client:p,gethFilename:"UTC--"+Nt+"--"+St.address,mnemonicCounter:Le($t).substring(2),mnemonicCiphertext:Le(wn).substring(2),path:o,locale:d,version:"0.1"}}return JSON.stringify(St)})}const Ax=new we(Jf);class _x extends qi{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function ed(t,e){const r=JSON.parse(t);e=Ac(e);const n=Lt(Wt(r,"ethaddr")),i=Ai(Wt(r,"encseed"));(!i||i.length%16!==0)&&Ax.throwArgumentError("invalid encseed","json",t);const s=_e(gc(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),d=new(xn()).ModeOfOperation.cbc(s,a),p=xn().padding.pkcs7.strip(_e(d.decrypt(o)));let v="";for(let G=0;G<p.length;G++)v+=String.fromCharCode(p[G]);const A=an(v),L=tr(A);return new _x({_isCrowdsaleAccount:!0,address:n,privateKey:L})}function Tc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Rc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function F2(t){if(Tc(t))try{return getAddress(JSON.parse(t).ethaddr)}catch{return null}if(Rc(t))try{return getAddress(JSON.parse(t).address)}catch{return null}return null}function Tx(t,e,r){if(Tc(t)){r&&r(0);const n=ed(t,e);return r&&r(1),Promise.resolve(n)}return Rc(t)?Ex(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Rx(t,e){if(Tc(t))return ed(t,e);if(Rc(t))return vx(t,e);throw new Error("invalid JSON wallet")}const Px="wallet/5.7.0";var td=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const Vi=new we(Px);function Cx(t){return t!=null&&Gt(t.privateKey,32)&&t.address!=null}function kx(t){const e=t.mnemonic;return e&&e.phrase}class ii extends Bs{constructor(e,r){if(super(),Cx(e)){const n=new ji(e.privateKey);if(be(this,"_signingKey",()=>n),be(this,"address",ni(this.publicKey)),this.address!==Lt(e.address)&&Vi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),kx(e)){const i=e.mnemonic;be(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Ls,locale:i.locale||"en"}));const s=this.mnemonic,a=qr.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);ni(a.privateKey)!==this.address&&Vi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else be(this,"_mnemonic",()=>null)}else{if(ji.isSigningKey(e))e.curve!=="secp256k1"&&Vi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),be(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ji(e);be(this,"_signingKey",()=>n)}be(this,"_mnemonic",()=>null),be(this,"address",ni(this.publicKey))}r&&!ka.isProvider(r)&&Vi.throwArgumentError("invalid provider","provider",r),be(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ii(this,e)}signTransaction(e){return Bn(e).then(r=>{r.from!=null&&(Lt(r.from)!==this.address&&Vi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(tr(Uf(r)));return Uf(r,n)})}signMessage(e){return td(this,void 0,void 0,function*(){return Nu(this._signingKey().signDigest(wa(e)))})}_signTypedData(e,r,n){return td(this,void 0,void 0,function*(){const i=yield Tr.resolveNames(e,r,n,s=>(this.provider==null&&Vi.throwError("cannot resolve ENS names without a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Nu(this._signingKey().signDigest(Tr.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Sx(this,e,r,n)}static createRandom(e){let r=Fs(16);e||(e={}),e.extraEntropy&&(r=_e(gi(tr(Sr([r,e.extraEntropy])),0,16)));const n=vc(r,e.locale);return ii.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Tx(e,r,n).then(i=>new ii(i))}static fromEncryptedJsonSync(e,r){return new ii(Rx(e,r))}static fromMnemonic(e,r,n){return r||(r=Ls),new ii(qr.fromMnemonic(e,null,n).derivePath(r))}}function Ix(t,e){return Pa(wa(t),e)}function rd(t,e,r,n){return Pa(Tr.hash(t,e,r),n)}var nd=x(55872).Buffer;class Bx{constructor(e){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",Ut[bt.ETHEREUM].pubLength);O(this,"signatureLength",Ut[bt.ETHEREUM].sigLength);O(this,"signatureType",bt.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",r=await this.signer.signMessage(e),n=await wa(e),i=mf(_e(n),r);this.publicKey=nd.from(_e(i))}async sign(e){this.publicKey||await this.setPublicKey();const r=await this.signer.signMessage(e);return nd.from(r.slice(2),"hex")}static verify(e,r,n){const i=ni(e);return Ix(r,n)===i}}var H2=null,Ks=x(31511);class Pc extends As{get publicKey(){return Ks.decode(this.pk)}get key(){return Ks.decode(this._key)}constructor(e){const r=Ks.decode(e);super(Ks.encode(r.subarray(0,32)),Ks.encode(r.subarray(32,64)))}}var Oa=x(85323),Br=x(55872),Ux=x(41389);function Cc(t){return t=id(t),Ux("keccak256").update(t).digest()}function id(t){if(!Br.Buffer.isBuffer(t))if(Array.isArray(t))t=Br.Buffer.from(t);else if(typeof t=="string")sd(t)?t=Br.Buffer.from(kc(ad(t)),"hex"):t=Br.Buffer.from(t);else if(typeof t=="number")t=cd(t);else if(t==null)t=Br.Buffer.allocUnsafe(0);else if(ms.isBN(t))t=t.toArrayLike(Br.Buffer);else if(t.toArray)t=Br.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function sd(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function kc(t){if(typeof t!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function ad(t){return typeof t!="string"?t:od(t)?t.slice(2):t}function od(t){if(typeof t!="string")throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function cd(t){const e=ud(t);return Br.Buffer.from(kc(e.slice(2)),"hex")}function ud(t){return`0x${t.toString(16)}`}typeof window<"u"&&(window.keccak256=Cc);var Ic=Cc;const Ox={intToBuffer:cd,intToHex:ud,isHexPrefixed:od,stripHexPrefix:ad,padToEven:kc,isHexString:sd,toBuffer:id};var Na=x(55872).Buffer;class fd{constructor(e,r){O(this,"_key");O(this,"ownerLength",Ut[bt.ETHEREUM].pubLength);O(this,"signatureLength",Ut[bt.ETHEREUM].sigLength);O(this,"signatureType",bt.ETHEREUM);O(this,"pk");this._key=e,this.pk=r.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Na.from(this._key,"hex")}static async verify(e,r,n){let i=e;typeof e=="string"&&(i=ut.toBuffer(e));let s=!1;try{s=Oa.ecdsaVerify(n,Ic(Na.from(r)),i)}catch{}return s}async sign(e){return Oa.ecdsaSign(Ic(Na.from(e)),Na.from(this.key)).signature}}var Ma=x(55872).Buffer;class Da extends fd{get publicKey(){return Ma.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const r=Ma.from(e,"hex"),n=Oa.publicKeyCreate(r,!1);super(e,Ma.from(n))}async sign(e){return new ii(this._key).signMessage(e).then(n=>Ma.from(n.slice(2),"hex"))}static async verify(e,r,n){return Oa.ecdsaVerify(n.length===65?n.slice(0,-1):n,_e(wa(r)),typeof e=="string"?ut.toBuffer(e):e)}}class Nx extends Da{}class Bc extends Pc{constructor(e){super(e.replace("ed25519:",""))}}var dd=x(55872).Buffer;class Mx extends As{get publicKey(){return dd.from(this.pk)}get key(){return dd.from(this._key)}constructor(e,r){super(e.subarray(0,32),r)}}var La=x(55872).Buffer;class Fa extends ff{constructor(r){super(r);O(this,"signatureType",4)}async sign(r){return super.sign(La.from(La.from(r).toString("hex")))}static async verify(r,n,i){return super.verify(r,La.from(La.from(n).toString("hex")),i)}}var Ha=x(55872).Buffer;class Dx extends Pc{constructor(r){super(r);O(this,"signatureType",4)}async sign(r){return super.sign(Ha.from(Ha.from(r).toString("hex")))}static async verify(r,n,i){return super.verify(r,Ha.from(Ha.from(n).toString("hex")),i)}}var ld=x(55872).Buffer;class Lx extends As{constructor(e,r){super(e,r)}get publicKey(){return ld.from(this.pk.slice(2),"hex")}get key(){return ld.from(this._key.slice(2),"hex")}}var Ji=x(55872).Buffer;class Ka{constructor(e,r){O(this,"_publicKey");O(this,"ownerLength",Ut[bt.INJECTEDAPTOS].pubLength);O(this,"signatureLength",Ut[bt.INJECTEDAPTOS].sigLength);O(this,"signatureType",bt.INJECTEDAPTOS);O(this,"pem");O(this,"provider");this.provider=e,this._publicKey=r}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const r=await this.provider.signMessage({message:Ji.from(e).toString("hex"),nonce:"bundlr"});return Ji.from(r.signature,"hex")}static async verify(e,r,n){const i=e;return(0,Es.T)(Ji.from(n),Ji.from(`APTOS
message: ${Ji.from(r).toString("hex")}
nonce: bundlr`),Ji.from(i))}}var za=x(55872).Buffer;class hd{constructor(e,r){O(this,"_publicKey");O(this,"ownerLength",Ut[bt.MULTIAPTOS].pubLength);O(this,"signatureLength",Ut[bt.MULTIAPTOS].sigLength);O(this,"signatureType",bt.MULTIAPTOS);O(this,"collectSignatures");O(this,"provider");this._publicKey=e,this.collectSignatures=r}get publicKey(){return this._publicKey}async sign(e){const{signatures:r,bitmap:n}=await this.collectSignatures(e),i=128,s=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(p=>{if(p>=32)throw new Error(`Invalid bit value ${p}.`);if(a.has(p))throw new Error("Duplicated bits detected.");a.add(p);const v=Math.floor(p/8);let A=s[v];A|=i>>p%8,s[v]=A});const o=za.alloc(this.signatureLength);let d=0;for(let p=0;p<32;p++)n.includes(p)&&o.set(r[d++],p*64);return o.set(s,this.signatureLength-4),o}static async verify(e,r,n){const s=Ut[bt.MULTIAPTOS].sigLength-4,a=n.slice(0,s),o=n.slice(s);let d=!1;for(let p=0;p<32;p++){const v=Math.floor(p/8),A=p-v*8;if((o[v]&128>>A)!==0){const G=a.slice(p*64,(p+1)*64),q=e.slice(p*32,(p+1)*32);await(0,Es.T)(za.from(G),za.from(r),za.from(q))||(d=!0)}}return!d}}var xd=x(55872).Buffer;class pd extends Da{constructor(r){super(r);O(this,"ownerLength",Ut[bt.TYPEDETHEREUM].pubLength);O(this,"signatureLength",Ut[bt.TYPEDETHEREUM].sigLength);O(this,"signatureType",bt.TYPEDETHEREUM);O(this,"address");O(this,"signer");this.address="0x"+Ic(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new ii(r)}get publicKey(){return xd.from(this.address)}async sign(r){const n=await this.signer._signTypedData($a,qa,{address:this.address,"Transaction hash":r});return xd.from(n.slice(2),"hex")}static async verify(r,n,i){const s=r.toString(),a=rd($a,qa,{address:s,"Transaction hash":n},i);return s.toLowerCase()===a.toLowerCase()}}const $a={name:"Bundlr",version:"1"},qa={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},K2="Bundlr(bytes Transaction hash, address address)",z2="EIP712Domain(string name,string version)";var yd=x(55872).Buffer;class Uc{constructor(e){O(this,"ownerLength",Ut[bt.TYPEDETHEREUM].pubLength);O(this,"signatureLength",Ut[bt.TYPEDETHEREUM].sigLength);O(this,"signatureType",bt.TYPEDETHEREUM);O(this,"address");O(this,"signer");O(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=yd.from(this.address)}async sign(e){const r=await this.signer._signTypedData($a,qa,{address:this.address,"Transaction hash":e});return yd.from(r.slice(2),"hex")}static verify(e,r,n){const i=e.toString(),s=rd($a,qa,{address:i,"Transaction hash":r},n);return i.toLowerCase()===s.toLowerCase()}}var $2=null;class Fx{constructor(e,r){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",Ut[bt.ARWEAVE].pubLength);O(this,"signatureLength",Ut[bt.ARWEAVE].sigLength);O(this,"signatureType",bt.ARWEAVE);O(this,"arweave");this.signer=e,this.arweave=r}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=ut.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const r={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,r);return new Uint8Array(Object.values(n).map(s=>+s))}static async verify(e,r,n){return await or().verify(e,r,n)}}const Oc={1:ma,2:As,3:Da,4:Fa,5:Ka,6:hd,7:pd};async function Hx(t){return Hi([mt("dataitem"),mt("1"),mt(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}var Nc=Hx;function zs(t,e){const r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(t*8)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let n=0;n<r.length;n++){const i=e&255;r[n]=i,e=(e-i)/256}return r}function Mc(t){return zs(8,t)}function bd(t){return zs(2,t)}function Kx(t){return zs(16,t)}function Dc(t){return zs(32,t)}function Qt(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}var ja=x(55872).Buffer;class Lc{constructor(e=ja.alloc(Hc),r=0){O(this,"buf");O(this,"pos");this.buf=e,this.pos=r}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const r=e.length;let n;if(r)for(this.writeLong(r),n=0;n<r;n++){const i=e[n];if(typeof(i==null?void 0:i.name)!="string"||typeof(i==null?void 0:i.value)!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){const e=ja.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const r=this.buf;let n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do r[this.pos]=i&127,i>>=7;while(i&&(r[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do r[this.pos]=n&127,n/=128;while(n>=1&&(r[this.pos++]|=128))}this.pos++,this.buf=r}writeString(e){const r=ja.byteLength(e),n=this.buf;this.writeLong(r);let i=this.pos;if(this.pos+=r,!(this.pos>n.length)){if(r>64)this.buf.write(e,this.pos-r,r,"utf8");else{let s,a,o,d;for(s=0,a=r;s<a;s++)o=e.charCodeAt(s),o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=o&63|128):(o&64512)===55296&&((d=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(d&1023),s++,n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=o&63|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=o&63|128)}this.buf=n}}readLong(){let e=0,r=0;const n=this.buf;let i,s,a,o;do i=n[this.pos++],s=i&128,e|=(i&127)<<r,r+=7;while(s&&r<28);if(s){a=e,o=268435456;do i=n[this.pos++],a+=(i&127)*o,o*=128;while(i&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let r;for(;r=this.readLong();)for(r<0&&(r=-r,this.skipLong());r--;){const n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){const e=this.readLong(),r=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(r,r+e).toString()}}function gd(t){if((t==null?void 0:t.length)===0)return ja.allocUnsafe(0);const e=new Lc;return e.writeTags(t),e.toBuffer()}function Ga(t){return new Lc(t).readTags()}const Fc=80,Hc=4096;class Xi{constructor(e){O(this,"binary");O(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=Qt(this.binary.subarray(0,2));if((bt==null?void 0:bt[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Xi.verify(this.binary)}get id(){return ut.encode(this.rawId)}set id(e){this._id=ut.toBuffer(e)}get rawId(){return(0,Cn.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return ut.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Ut[this.signatureType].sigLength}get owner(){return ut.encode(this.rawOwner)}get ownerLength(){return Ut[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Br.Buffer.alloc(0)}get target(){return ut.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Br.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),r=Qt(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+r)}get tags(){const e=this.getTagsStart();if(Qt(this.binary.subarray(e,e+8))==0)return[];const n=Qt(this.binary.subarray(e+8,e+16));return Ga(Br.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(r=>({name:ut.encode(r.name),value:ut.encode(r.value)}))}getStartOfData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=Qt(r);return e+16+n}get rawData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=Qt(r),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return ut.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Kc(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Br.Buffer.from(await or().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:ut.encode(e.name),value:ut.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<Fc)return!1;const r=new Xi(e),n=r.signatureType,i=r.getTagsStart(),s=Qt(e.subarray(i,i+8)),a=e.subarray(i+8,i+16),o=Qt(a);if(o>Hc)return!1;if(s>0)try{if(Ga(Br.Buffer.from(e.subarray(i+16,i+16+o))).length!==s)return!1}catch{return!1}const d=Oc[n],p=await Nc(r);return await d.verify(r.rawOwner,p,r.rawSignature)}async getSignatureData(){return Nc(this)}getTagsStart(){const e=this.getTargetStart(),r=this.binary[e]==1;let n=e+(r?33:1);const i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const r=this.binary[this.getTargetStart()]==1;return e+=r?32:0,e}}var Wa=Xi,zx=x(55872).Buffer;const pn=32;class md{constructor(e){O(this,"length");O(this,"items");O(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let r=pn;r<pn+64*this.length;r+=64)e.push(Qt(this.binary.subarray(r,r+32)));return e}getIds(){const e=[];for(let r=pn;r<pn+64*this.length;r+=64){const n=this.binary.subarray(r+32,r+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(ut.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const r=64+64*e;return ut.encode(this.binary.subarray(r,r+32))}async toTransaction(e,r,n){const i=await r.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const e of this.items){const r=await e.isValid(),n=ut((0,Cn.createHash)("sha256").update(e.rawSignature).digest());if(!(r&&e.id===n))return!1}return!0}getOffset(e){let r=0;for(let n=pn;n<pn+64*this.length;n+=64){const i=Qt(this.binary.subarray(n,n+32));r+=i;const s=this.binary.subarray(n+32,n+64);if(zx.compare(s,e)===0)return{startOffset:r,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let r=0;const n=this.getBundleStart();let i=0,s,a;for(let v=pn;v<pn+64*this.length;v+=64){if(s=Qt(this.binary.subarray(v,v+32)),i++===e){a=this.binary.subarray(v+32,v+64);break}r+=s}const o=n+r,d=this.binary.subarray(o,o+s),p=new Wa(d);return p.rawId=a,p}getById(e){const r=ut.toBuffer(e),n=this.getOffset(r);if(n.startOffset===-1)throw new Error("Transaction not found");const s=this.getBundleStart()+n.startOffset;return new Wa(this.binary.subarray(s,s+n.size))}getDataItemCount(){return Qt(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let r=0;const n=this.getBundleStart();let i=0;for(let s=pn;s<pn+64*this.length;s+=64){const a=Qt(this.binary.subarray(s,s+32)),o=this.binary.subarray(s+32,s+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const d=n+r,p=this.binary.subarray(d,d+a);r+=a;const v=new Wa(p);v.rawId=o,e[i]=v,i++}return e}}var wd=md,Zi=x(55872).Buffer;function $x(t){return new wd(t)}async function vd(t,e){const r=new Uint8Array(64*t.length),n=await Promise.all(t.map(async(s,a)=>{const o=s.isSigned()?s.rawId:await Kc(s,e),d=new Uint8Array(64);return d.set(Dc(s.getRaw().byteLength),0),d.set(o,32),r.set(d,64*a),s.getRaw()})).then(s=>Zi.concat(s)),i=Zi.concat([Zi.from(Dc(t.length)),Zi.from(r),n]);return new wd(i)}async function Ed(t,e){const r=await Nc(t),n=await e.sign(r),i=await or().hash(n);return{signature:Zi.from(n),id:Zi.from(i)}}async function Kc(t,e){const{signature:r,id:n}=await Ed(t,e);return t.getRaw().set(r,2),n}var Va=x(55872).Buffer;function zc(t,e,r){var Ke,Et;const n=e.publicKey,i=r!=null&&r.target?ut.toBuffer(r.target):null,s=1+((i==null?void 0:i.byteLength)??0),a=r!=null&&r.anchor?Va.from(r.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),d=(((Ke=r==null?void 0:r.tags)==null?void 0:Ke.length)??0)>0?gd(r==null?void 0:r.tags):null,p=16+(d?d.byteLength:0),v=Va.from(t),A=v.byteLength,L=2+e.signatureLength+e.ownerLength+s+o+p+A,G=Va.alloc(L);if(G.set(bd(e.signatureType),0),G.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);G.set(n,2+e.signatureLength);const q=2+e.signatureLength+e.ownerLength;if(G[q]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);G.set(i,q+1)}const Q=q+s;let fe=Q+1;if(G[Q]=a?1:0,a){if(fe+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");G.set(a,Q+1)}G.set(Mc(((Et=r==null?void 0:r.tags)==null?void 0:Et.length)??0),fe);const Ce=Mc((d==null?void 0:d.byteLength)??0);G.set(Ce,fe+8),d&&G.set(d,fe+16);const Ge=fe+p;return G.set(v,Ge),new Wa(G)}class qx{constructor(){O(this,"signatureType");O(this,"rawSignature");O(this,"signature");O(this,"signatureLength");O(this,"rawOwner");O(this,"owner");O(this,"ownerLength");O(this,"rawTarget");O(this,"target");O(this,"rawAnchor");O(this,"anchor");O(this,"rawTags");O(this,"tags");O(this,"rawData");O(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var jr=x(55872).Buffer;async function Sd(t){const e=Ad(t);let r=(await e.next()).value;r=await br(e,r,32);const n=Qt(r.subarray(0,32));r=r.subarray(32);const i=64*n;r=await br(e,r,i);const s=new Array(n);for(let d=0;d<i;d+=64)s[d/64]=[Qt(r.subarray(d,d+32)),ut(jr.from(r.subarray(d+32,d+64)))];r=r.subarray(i);let a=32+i;const o=[];for(const[d,p]of s){r=await br(e,r,Fc),r=await br(e,r,2);const v=Qt(r.subarray(0,2));r=r.subarray(2);const{sigLength:A,pubLength:L,sigName:G}=Ut[v];r=await br(e,r,A);const q=r.subarray(0,A);r=r.subarray(A),r=await br(e,r,L);const Q=r.subarray(0,L);r=r.subarray(L),r=await br(e,r,1);const fe=r[0]===1;fe&&(r=await br(e,r,33));const Ce=fe?r.subarray(1,33):jr.allocUnsafe(0);r=r.subarray(fe?33:1),r=await br(e,r,1);const Ge=r[0]===1;Ge&&(r=await br(e,r,33));const Ke=Ge?r.subarray(1,33):jr.allocUnsafe(0);r=r.subarray(Ge?33:1),r=await br(e,r,8);const Et=Qt(r.subarray(0,8));r=r.subarray(8),r=await br(e,r,8);const wt=Qt(r.subarray(0,8));r=r.subarray(8),r=await br(e,r,wt);const er=r.subarray(0,wt),sr=Et!==0&&wt!==0?Ga(jr.from(er)):[];if(sr.length!==Et)throw new Error("Tags lengths don't match");r=r.subarray(wt);const St=new gs.Transform;St._transform=function(et,Nt,pr){this.push(et),pr()};const $t=Hi([mt("dataitem"),mt("1"),mt(v.toString()),Q,Ce,Ke,er,St]),mr=2+A+L+(fe?33:1)+(Ge?33:1)+16+wt,Ot=d-mr;if(r.byteLength>Ot)St.write(r.subarray(0,Ot)),r=r.subarray(Ot);else{let et=r.byteLength;for(St.write(r);Ot>et;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${Ot} received: ${et}`);et+=r.byteLength,et>Ot?St.write(r.subarray(0,r.byteLength-(et-Ot))):St.write(r)}r=r.subarray(r.byteLength-(et-Ot))}if(St.end(),p!==ut((0,Cn.createHash)("sha256").update(q).digest()))throw new Error("ID doesn't match signature");if(!await Oc[v].verify(Q,await $t,q))throw new Error("Invalid signature");o.push({id:p,sigName:G,signature:ut(jr.from(q)),target:ut(jr.from(Ce)),anchor:ut(jr.from(Ke)),owner:ut(jr.from(Q)),tags:sr,dataOffset:a+mr,dataSize:Ot}),a+=mr+Ot}return o}async function jx(t,e,r,n){const i=zc("",r,n),s=new gs.PassThrough,a=[mt("dataitem"),mt("1"),mt(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,t],o=await Hi(a),d=jr.from(await r.sign(o));return i.setSignature(d),s.write(i.getRaw()),e.pipe(s)}async function br(t,e,r){if(e.byteLength>=r)return e;const{done:n,value:i}=await t.next();if(n&&!i)throw new Error("Invalid buffer");return br(t,jr.concat([jr.from(e),jr.from(i)]),r)}async function*Ad(t){for await(const e of t)yield e}var Gx=Sd;const Wx={readBytes:br,getReader:Ad},Vx={...E,stream:g};globalThis.arbundles??(globalThis.arbundles=Vx);var q2=null;const j2=null;var Jx=x(55872).Buffer;class Ja{constructor(e){O(this,"base");O(this,"wallet");O(this,"_address");O(this,"providerUrl");O(this,"providerInstance");O(this,"ticker");O(this,"name");O(this,"irys");O(this,"minConfirm",5);O(this,"isSlow",!1);O(this,"needsFee",!0);O(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return ut.encode(Jx.from(await or().hash(await e.rawSignature())))}async price(){return _d(this.ticker)}}async function _d(t){const e=await bs.get(`https://api.redstone.finance/prices?symbol=${t}&provider=redstone&limit=1`);return await ar.checkAndThrow(e,"Getting price data"),e.data[0].value}const Xx=Uc;class Xa extends Ja{constructor(r){super(r);O(this,"signer");O(this,"w3signer");O(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(r){const i=await this.providerInstance.getTransaction(r);if(!i)throw new Error("Tx doesn't exist");if(!i.to)throw new Error(`Unable to resolve transactions ${r} receiver`);return{from:i.from,to:i.to,blockHeight:i.blockNumber?new Qe.Z(i.blockNumber):void 0,amount:new Qe.Z(i.value.toHexString(),16),pending:!i.blockNumber,confirmed:i.confirmations>=this.minConfirm}}ownerToAddress(r){return r.toString().toLowerCase()}async sign(r){return(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new Uc(this.wallet)),this.signer}async verify(r,n,i){return Xx.verify(r,n,i)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new Qe.Z(n,16)}async getFee(r,n){const i=this.providerInstance,s={to:n,from:this.address,value:"0x"+new Qe.Z(r).toString(16)},a=await i.estimateGas(s),o=await i.getGasPrice();return new Qe.Z(a.mul(o).toString())}async sendTx(r){const i=await this.w3signer.sendTransaction(r);return i?i.hash:void 0}async createTx(r,n,i){const s=Ze.from(new Qe.Z(r).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:s.toHexString()});let d=await a.getGasPrice();return this.name==="matic"&&(d=Ze.from(new Qe.Z(d.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:s.toHexString(),gasPrice:d,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var r,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(r=this.providerInstance)==null?void 0:r._ready)==null?void 0:n.call(r))}}var Zx=x(61125),Yx=x(67265),$s=x(7782),qs=x(11565),Qx=x(48797),ep=x(3541),$c=x(55872).Buffer;class tp extends Ja{constructor(r){super(r);O(this,"keyPair");O(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const r=new Yx.X,n=this.wallet.account();if(this.keyPair=await r.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=Zx.KeyPair.fromRandom("ed25519");const i=this.keyPair.getPublicKey().toString();await r.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(i)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(r){const n=await this.providerInstance,[i,s]=r.split(":"),a=await n.txStatusReceipts(qs.decode(s),i),o=await n.block(a.transaction_outcome.block_hash),d=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const p=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:i,to:a.transaction.receiver_id,amount:new Qe.Z(p),blockHeight:new Qe.Z(o.header.height),pending:!1,confirmed:d-o.header.height>=this.minConfirm}}ownerToAddress(r){const n=typeof r=="string"?r:qs.encode(r);return $c.from(qs.decode(n.replace("ed25519:",""))).toString("hex")}async sign(r){return this.getSigner().sign(r)}getSigner(){return new Bc(this.keyPair.secretKey)}async verify(r,n,i){return Bc.verify(r,n,i)}async getCurrentHeight(){const r=await this.providerInstance.status();return new Qe.Z(r.sync_info.latest_block_height)}async getFee(r,n){const i=(await this.providerInstance.block({finality:"final"})).header.height,s=await this.providerInstance.gasPrice(i);return new Qe.Z(s.gas_price).multipliedBy(45e10)}async sendTx(r){const n=await this.providerInstance.sendTransaction(r);return`${this.address}:${n.transaction.hash}`}async createTx(r,n,i){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const s=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++s.nonce,o=$c.from(qs.decode(s.block_hash)),d=[$s.actionCreators.transfer(new ms(new Qe.Z(r).toString()))],p=(0,$s.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,d,o),v=(0,Qx.serialize)($s.SCHEMA,p),A=new Uint8Array(ep.sha256.array(v)),L=this.keyPair.sign(A);return{tx:new $s.SignedTransaction({transaction:p,signature:new $s.Signature({keyType:p.publicKey.keyType,data:L.signature})}),txId:void 0}}async getPublicKey(){return $c.from(this.keyPair.getPublicKey().data)}}var js=x(36520),rp=x(55872).Buffer;class np extends Ja{constructor(r){super(r);O(this,"signer");O(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new js.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(r){const n=await this.getProvider(),i=await n.getTransaction(r,{commitment:"confirmed"});if(!i)throw new Error("Confirmed tx not found");const s=await n.getSlot("confirmed");if(!i.meta)throw new Error(`Unable to resolve transaction ${r}`);const a=new Qe.Z(i.meta.postBalances[1]).minus(new Qe.Z(i.meta.preBalances[1]));return{from:i.transaction.message.accountKeys[0].toBase58(),to:i.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new Qe.Z(i.slot),pending:!1,confirmed:s-i.slot>=1}}ownerToAddress(r){return typeof r=="string"&&(r=rp.from(r)),qs.encode(r)}async sign(r){return await(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new Fa(this.wallet)),this.signer}verify(r,n,i){return Fa.verify(r,n,i)}async getCurrentHeight(){return new Qe.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(r,n){return new Qe.Z(5e3)}async sendTx(r){return await this.wallet.sendTransaction(r,await this.getProvider(),{skipPreflight:!0})}async createTx(r,n,i){const s=new js.PublicKey(await this.getPublicKey()),a=await Vn(async d=>{var p;try{return await(await this.getProvider()).getRecentBlockhash()}catch(v){throw(p=v.message)!=null&&p.includes("blockhash")?v:(d(v),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new js.Transaction({recentBlockhash:a.blockhash,feePayer:s});return o.add(js.SystemProgram.transfer({fromPubkey:s,toPubkey:new js.PublicKey(n),lamports:+new Qe.Z(r).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const Gs="abi/5.7.0",qc=new we(Gs);function ip(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{r(a,i[s])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}class Un{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){qc.throwArgumentError(e,this.localName,r)}}class jc{constructor(e){be(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return mi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Sr(e._data))}writeBytes(e){let r=_e(e);const n=r.length%this.wordSize;return n&&(r=Sr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=_e(Ze.from(e));return r.length>this.wordSize&&qc.throwError("value out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Sr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Za{constructor(e,r,n,i){be(this,"_data",_e(e)),be(this,"wordSize",r||32),be(this,"_coerceFunc",n),be(this,"allowLoose",i),this._offset=0}get data(){return Le(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Za.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:qc.throwError("data out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Za(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ze.from(this.readBytes(this.wordSize))}}class sp extends Un{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Lt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Lt(Ar(e.readValue().toHexString(),20))}}class ap extends Un{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Yi=new we(Gs);function Td(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let d={};n=e.map(p=>{const v=p.localName;return v||Yi.throwError("cannot encode object for signature with missing names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:p,value:r}),d[v]&&Yi.throwError("cannot encode object for signature with duplicate names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:p,value:r}),d[v]=!0,r[v]})}else Yi.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Yi.throwArgumentError("types/value length mismatch","tuple",r);let i=new jc(t.wordSize),s=new jc(t.wordSize),a=[];e.forEach((d,p)=>{let v=n[p];if(d.dynamic){let A=s.length;d.encode(s,v);let L=i.writeUpdatableValue();a.push(G=>{L(G+A)})}else d.encode(i,v)}),a.forEach(d=>{d(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(s),o}function Rd(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=t.readValue(),d=n.subReader(o.toNumber());try{a=s.decode(d)}catch(p){if(p.code===we.errors.BUFFER_OVERRUN)throw p;a=p,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(o){if(o.code===we.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&r.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const d=r[a];d instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw d}}):r[o]=d});for(let s=0;s<r.length;s++){const a=r[s];a instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(r)}class op extends Un{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Yi.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Td(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Yi.throwError("insufficient data length",we.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new ap(this.coder));return e.coerce(this.name,Rd(e,n))}}class cp extends Un{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Pd extends Un{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=_e(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class up extends Pd{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Le(super.decode(e)))}}class fp extends Un{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=_e(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Le(e.readBytes(this.size)))}}class dp extends Un{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const lp=Ze.from(-1),hp=Ze.from(0),xp=Ze.from(1),G2=null,W2=null,pp=Ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),V2=null,J2=null;class yp extends Un{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ze.from(r),i=pp.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(xp).mul(lp)))&&this._throwError("value out-of-bounds",r)}else(n.lt(hp)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class bp extends Pd{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,an(r))}decode(e){return uh(super.decode(e))}}class Ya extends Un{constructor(e,r){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return Td(e,this.coders,r)}decode(e){return e.coerce(this.name,Rd(e,this.coders))}}const gt=new we(Gs),_i={};let Cd={calldata:!0,memory:!0,storage:!0},gp={calldata:!0,memory:!0};function Qa(t,e){if(t==="bytes"||t==="string"){if(Cd[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&gp[e])return!0;return(Cd[e]||e==="payable")&&gt.throwArgumentError("invalid modifier","name",e),!1}function mp(t,e){let r=t;function n(o){gt.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let d={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(d.indexed=!1),d}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<t.length;o++){let d=t[o];switch(d){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=Qi(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Qa(a.type,a.name)&&(a.name=""),a.type=Qi(a.type);let p=a;a=a.parent,a||n(o),delete p.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Qa(a.type,a.name)&&(a.name=""),a.type=Qi(a.type);let v=i(a.parent);a.parent.components.push(v),delete a.parent,a=v;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Qi(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):Qa(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=d,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=d,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=d,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=d,delete a.state.allowArray):a.state.readArray?a.type+=d:n(o)}}return a.parent&&gt.throwArgumentError("unexpected eof","param",t),delete s.state,a.name==="indexed"?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):Qa(a.type,a.name)&&(a.name=""),s.type=Qi(s.type),s}function eo(t,e){for(let r in e)be(t,r,e[r])}const vt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),wp=new RegExp(/^(.*)\[([0-9]*)\]$/);class nr{constructor(e,r){e!==_i&&gt.throwError("use fromString",we.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),eo(this,r);let n=this.type.match(wp);n?eo(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:nr.fromObject({type:n[1],components:this.components}),baseType:"array"}):eo(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==vt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===vt.full?", ":",")+")"):r+=this.type,e!==vt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===vt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?nr.fromString(e,r):nr.fromObject(e)}static fromObject(e){return nr.isParamType(e)?e:new nr(_i,{name:e.name||null,type:Qi(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(nr.fromObject):null})}static fromString(e,r){function n(i){return nr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(mp(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ws(t,e){return Ep(t).map(r=>nr.fromString(r,e))}class On{constructor(e,r){e!==_i&&gt.throwError("use a static from method",we.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),eo(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return On.isFragment(e)?e:typeof e=="string"?On.fromString(e):On.fromObject(e)}static fromObject(e){if(On.isFragment(e))return e;switch(e.type){case"function":return bn.fromObject(e);case"event":return Nn.fromObject(e);case"constructor":return yn.fromObject(e);case"error":return si.fromObject(e);case"fallback":case"receive":return null}return gt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Nn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?bn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?yn.fromString(e.trim()):e.split(" ")[0]==="error"?si.fromString(e.substring(5).trim()):gt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Nn extends On{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Nn.fromString(e):Nn.fromObject(e)}static fromObject(e){if(Nn.isEventFragment(e))return e;e.type!=="event"&&gt.throwArgumentError("invalid event object","value",e);const r={name:Vs(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(nr.fromObject):[],type:"event"};return new Nn(_i,r)}static fromString(e){let r=e.match(Js);r||gt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:gt.warn("unknown modifier: "+i)}}),Nn.fromObject({name:r[1].trim(),anonymous:n,inputs:Ws(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function kd(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&gt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||gt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ze.from(r[1]),r[0]):t}function Id(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Bd(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&gt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&gt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&gt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&gt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&gt.throwArgumentError("unable to determine stateMutability","value",t),e}class yn extends On{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===vt.sighash&&gt.throwError("cannot format a constructor for sighash",we.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?yn.fromString(e):yn.fromObject(e)}static fromObject(e){if(yn.isConstructorFragment(e))return e;e.type!=="constructor"&&gt.throwArgumentError("invalid constructor object","value",e);let r=Bd(e);r.constant&&gt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(nr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ze.from(e.gas):null};return new yn(_i,n)}static fromString(e){let r={type:"constructor"};e=kd(e,r);let n=e.match(Js);return(!n||n[1].trim()!=="constructor")&&gt.throwArgumentError("invalid constructor string","value",e),r.inputs=Ws(n[2].trim(),!1),Id(n[3].trim(),r),yn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class bn extends yn{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?bn.fromString(e):bn.fromObject(e)}static fromObject(e){if(bn.isFunctionFragment(e))return e;e.type!=="function"&&gt.throwArgumentError("invalid function object","value",e);let r=Bd(e);const n={type:e.type,name:Vs(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(nr.fromObject):[],outputs:e.outputs?e.outputs.map(nr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ze.from(e.gas):null};return new bn(_i,n)}static fromString(e){let r={type:"function"};e=kd(e,r);let n=e.split(" returns ");n.length>2&&gt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Js);if(i||gt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Vs(r.name),r.inputs=Ws(i[2],!1),Id(i[3].trim(),r),n.length>1){let s=n[1].match(Js);(s[1].trim()!=""||s[3].trim()!="")&&gt.throwArgumentError("unexpected tokens","value",e),r.outputs=Ws(s[2],!1)}else r.outputs=[];return bn.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Ud(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&gt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class si extends On{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?si.fromString(e):si.fromObject(e)}static fromObject(e){if(si.isErrorFragment(e))return e;e.type!=="error"&&gt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Vs(e.name),inputs:e.inputs?e.inputs.map(nr.fromObject):[]};return Ud(new si(_i,r))}static fromString(e){let r={type:"error"},n=e.match(Js);return n||gt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Vs(r.name),r.inputs=Ws(n[2],!1),Ud(si.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Qi(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const vp=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Vs(t){return(!t||!t.match(vp))&&gt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Js=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Ep(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&gt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const to=new we(Gs),Sp=new RegExp(/^bytes([0-9]*)$/),Ap=new RegExp(/^(u?int)([0-9]*)$/);class _p{constructor(e){be(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new sp(e.name);case"bool":return new cp(e.name);case"string":return new bp(e.name);case"bytes":return new up(e.name);case"array":return new op(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ya((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new dp(e.name)}let r=e.type.match(Ap);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&to.throwArgumentError("invalid "+r[1]+" bit length","param",e),new yp(n/8,r[1]==="int",e.name)}if(r=e.type.match(Sp),r){let n=parseInt(r[1]);return(n===0||n>32)&&to.throwArgumentError("invalid bytes length","param",e),new fp(n,e.name)}return to.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Za(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new jc(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(nr.from(i)));return new Ya(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&to.throwError("types/values length mismatch",we.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(a=>this._getCoder(nr.from(a))),i=new Ya(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(a=>this._getCoder(nr.from(a)));return new Ya(i,"_").decode(this._getReader(_e(r),n))}}const Tp=new _p,Ht=new we(Gs);class Rp extends qi{}class Pp extends qi{}class Cp extends qi{}class Gc extends qi{static isIndexed(e){return!!(e&&e._isIndexed)}}const kp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Od(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Nd{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,be(this,"fragments",r.map(n=>On.from(n)).filter(n=>n!=null)),be(this,"_abiCoder",Cs(new.target,"getAbiCoder")()),be(this,"functions",{}),be(this,"errors",{}),be(this,"events",{}),be(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Ht.warn("duplicate definition - constructor");return}be(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Ht.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||be(this,"deploy",yn.from({payable:!1,type:"constructor"})),be(this,"_isInterface",!0)}format(e){e||(e=vt.full),e===vt.sighash&&Ht.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===vt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Tp}static getAddress(e){return Lt(e)}static getSighash(e){return gi(Si(e.format()),0,4)}static getEventTopic(e){return Si(e.format())}getFunction(e){if(Gt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Ht.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Ht.throwArgumentError("no matching function","name",n):i.length>1&&Ht.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[bn.fromString(e).format()];return r||Ht.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Gt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Ht.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Ht.throwArgumentError("no matching event","name",n):i.length>1&&Ht.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Nn.fromString(e).format()];return r||Ht.throwArgumentError("no matching event","signature",e),r}getError(e){if(Gt(e)){const n=Cs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Ht.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Ht.throwArgumentError("no matching error","name",n):i.length>1&&Ht.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[bn.fromString(e).format()];return r||Ht.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Cs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Cs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=_e(r);return Le(n.slice(0,4))!==this.getSighash(e)&&Ht.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Le(Sr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=_e(r);return Le(n.slice(0,4))!==this.getSighash(e)&&Ht.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Le(Sr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=_e(r),i=null,s="",a=null,o=null,d=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const p=Le(n.slice(0,4)),v=kp[p];if(v)a=this._abiCoder.decode(v.inputs,n.slice(4)),o=v.name,d=v.signature,v.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const A=this.getError(p);a=this._abiCoder.decode(A.inputs,n.slice(4)),o=A.name,d=A.format()}catch{}break}}return Ht.throwError("call revert exception"+s,we.errors.CALL_EXCEPTION,{method:e.format(),data:Le(r),errorArgs:a,errorName:o,errorSignature:d,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Le(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Ht.throwError("too many arguments for "+e.format(),we.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?Si(a):s.type==="bytes"?tr(Le(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=Ze.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),Ar(Le(a),32));for(r.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&Ht.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Ht.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(d=>i(o,d))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Ht.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const d=r[o];if(a.indexed)if(a.type==="string")n.push(Si(d));else if(a.type==="bytes")n.push(tr(d));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[d]))}else i.push(a),s.push(d)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let L=this.getEventTopic(e);(!Gt(n[0],32)||n[0].toLowerCase()!==L)&&Ht.throwError("fragment/topic mismatch",we.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:L,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((L,G)=>{L.indexed?L.type==="string"||L.type==="bytes"||L.baseType==="tuple"||L.baseType==="array"?(i.push(nr.fromObject({type:"bytes32",name:L.name})),a.push(!0)):(i.push(L),a.push(!1)):(s.push(L),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,Sr(n)):null,d=this._abiCoder.decode(s,r,!0),p=[],v=0,A=0;e.inputs.forEach((L,G)=>{if(L.indexed)if(o==null)p[G]=new Gc({_isIndexed:!0,hash:null});else if(a[G])p[G]=new Gc({_isIndexed:!0,hash:o[A++]});else try{p[G]=o[A++]}catch(q){p[G]=q}else try{p[G]=d[v++]}catch(q){p[G]=q}if(L.name&&p[L.name]==null){const q=p[G];q instanceof Error?Object.defineProperty(p,L.name,{enumerable:!0,get:()=>{throw Od(`property ${JSON.stringify(L.name)}`,q)}}):p[L.name]=q}});for(let L=0;L<p.length;L++){const G=p[L];G instanceof Error&&Object.defineProperty(p,L,{enumerable:!0,get:()=>{throw Od(`index ${L}`,G)}})}return Object.freeze(p)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Pp({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ze.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Rp({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Le(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Cp({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Ip="contracts/5.7.0";var ai=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(v){try{p(n.next(v))}catch(A){a(A)}}function d(v){try{p(n.throw(v))}catch(A){a(A)}}function p(v){v.done?s(v.value):i(v.value).then(o,d)}p((n=n.apply(t,e||[])).next())})};const Rt=new we(Ip),Bp={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function ro(t,e){return ai(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Rt.throwArgumentError("invalid address or ENS name","name",r);try{return Lt(r)}catch{}t||Rt.throwError("a provider or signer is needed to resolve ENS names",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Rt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Xs(t,e,r){return ai(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Xs(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield ro(t,e):r.type==="tuple"?yield Xs(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Xs(t,n,r.arrayChildren))):Promise.reject(Rt.makeError("invalid value for array",we.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function no(t,e,r){return ai(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=ti(r.pop())),Rt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Bn({override:ro(t.signer,n.from),signer:t.signer.getAddress()}).then(p=>ai(this,void 0,void 0,function*(){return Lt(p.signer)!==p.override&&Rt.throwError("Contract with a Signer cannot override from",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),p.override})):n.from=t.signer.getAddress():n.from&&(n.from=ro(t.provider,n.from));const i=yield Bn({args:Xs(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Bn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=Ze.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=Ze.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=Ze.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=Ze.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=Ze.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Ca(o.accessList)),a.gasLimit==null&&e.gas!=null){let p=21e3;const v=_e(s);for(let A=0;A<v.length;A++)p+=4,v[A]&&(p+=64);a.gasLimit=Ze.from(e.gas).add(p)}if(o.value){const p=Ze.from(o.value);!p.isZero()&&!e.payable&&Rt.throwError("non-payable method cannot override value",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=p}o.customData&&(a.customData=ti(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const d=Object.keys(n).filter(p=>n[p]!=null);return d.length&&Rt.throwError(`cannot override ${d.map(p=>JSON.stringify(p)).join(",")}`,we.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),a})}function Up(t,e){return function(...r){return no(t,e,r)}}function Op(t,e){const r=t.signer||t.provider;return function(...n){return ai(this,void 0,void 0,function*(){r||Rt.throwError("estimate require a provider or signer",we.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield no(t,e,n);return yield r.estimateGas(i)})}}function Md(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let a=$i(s),o=null;try{o=t.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(d,p)=>t.interface.decodeEventLog(o.eventFragment,d,p),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(i.blockHash),a.getTransaction=()=>t.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function Dd(t,e,r){const n=t.signer||t.provider;return function(...i){return ai(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const d=ti(i.pop());d.blockTag!=null&&(s=yield d.blockTag),delete d.blockTag,i.push(d)}t.deployTransaction!=null&&(yield t._deployed(s));const a=yield no(t,e,i),o=yield n.call(a,s);try{let d=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(d=d[0]),d}catch(d){throw d.code===we.errors.CALL_EXCEPTION&&(d.address=t.address,d.args=i,d.transaction=a),d}})}}function Np(t,e){return function(...r){return ai(this,void 0,void 0,function*(){t.signer||Rt.throwError("sending a transaction requires a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield no(t,e,r),i=yield t.signer.sendTransaction(n);return Md(t,i),i})}}function Ld(t,e,r){return e.constant?Dd(t,e,r):Np(t,e)}function Fd(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Zs{constructor(e,r){be(this,"tag",e),be(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class Mp extends Zs{constructor(){super("error",null)}}class Hd extends Zs{constructor(e,r,n,i){const s={address:e};let a=r.getEventTopic(n);i?(a!==i[0]&&Rt.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(Fd(s),s),be(this,"address",e),be(this,"interface",r),be(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=ip(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Kd extends Zs{constructor(e,r){super("*",{address:e}),be(this,"address",e),be(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Dp{constructor(e,r,n){be(this,"interface",Cs(new.target,"getInterface")(r)),n==null?(be(this,"provider",null),be(this,"signer",null)):Bs.isSigner(n)?(be(this,"provider",n.provider||null),be(this,"signer",n)):ka.isProvider(n)?(be(this,"provider",n),be(this,"signer",null)):Rt.throwArgumentError("invalid signer or provider","signerOrProvider",n),be(this,"callStatic",{}),be(this,"estimateGas",{}),be(this,"functions",{}),be(this,"populateTransaction",{}),be(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const d=this.interface.events[o];be(this.filters,o,(...p)=>({address:this.address,topics:this.interface.encodeFilterTopics(d,p)})),a[d.name]||(a[d.name]=[]),a[d.name].push(o)}),Object.keys(a).forEach(o=>{const d=a[o];d.length===1?be(this.filters,o,this.filters[d[0]]):Rt.warn(`Duplicate definition of ${o} (${d.join(", ")})`)})}if(be(this,"_runningEvents",{}),be(this,"_wrappedEmits",{}),e==null&&Rt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),be(this,"address",e),this.provider)be(this,"resolvedAddress",ro(this.provider,e));else try{be(this,"resolvedAddress",Promise.resolve(Lt(e)))}catch{Rt.throwError("provider is required to use ENS name as contract address",we.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){Rt.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const d=o.name;i[`%${d}`]||(i[`%${d}`]=[]),i[`%${d}`].push(a)}this[a]==null&&be(this,a,Ld(this,o,!0)),this.functions[a]==null&&be(this.functions,a,Ld(this,o,!1)),this.callStatic[a]==null&&be(this.callStatic,a,Dd(this,o,!0)),this.populateTransaction[a]==null&&be(this.populateTransaction,a,Up(this,o)),this.estimateGas[a]==null&&be(this.estimateGas,a,Op(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const d=o[0];try{this[a]==null&&be(this,a,this[d])}catch{}this.functions[a]==null&&be(this.functions,a,this.functions[d]),this.callStatic[a]==null&&be(this.callStatic,a,this.callStatic[d]),this.populateTransaction[a]==null&&be(this.populateTransaction,a,this.populateTransaction[d]),this.estimateGas[a]==null&&be(this.estimateGas,a,this.estimateGas[d])})}static getContractAddress(e){return Bh(e)}static getInterface(e){return Nd.isInterface(e)?e:new Nd(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Rt.throwError("contract not deployed",we.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Rt.throwError("sending a transactions require a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=ti(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Rt.throwError("cannot override "+n,we.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new pc(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&be(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Gc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Mp);if(e==="event")return this._normalizeRunningEvent(new Zs("event",null));if(e==="*")return this._normalizeRunningEvent(new Kd(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Hd(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Hd(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Zs(Fd(r),r))}return this._normalizeRunningEvent(new Kd(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=$i(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Rt.throwError("events require a provider or a signer with a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,r);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=ti(i.filter);return typeof r=="string"&&Gt(r,32)?(n!=null&&Rt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Wc extends Dp{}class X2{constructor(e,r,n){let i=null;typeof r=="string"?i=r:isBytes(r)?i=hexlify(r):r&&typeof r.object=="string"?i=r.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!isHexString(i)||i.length%2)&&Rt.throwArgumentError("invalid bytecode","bytecode",r),n&&!Signer.isSigner(n)&&Rt.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=shallowCopy(e.pop());for(const n in r)if(!Bp[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&Rt.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!BigNumber.from(r.value).isZero()&&!this.interface.deploy.payable&&Rt.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),Rt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return ai(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),Rt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Xs(this.signer,e,this.interface.deploy.inputs);n.push(r);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=getStatic(this.constructor,"getContractAddress")(s),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Md(o,s),defineReadOnly(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&Rt.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}static getInterface(e){return Wc.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,r,n){return new Wc(e,r,n)}}class Lp extends Xa{constructor(r){super(r);O(this,"contractInstance");O(this,"contractAddress");this.contractAddress=r.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Wc(this.contractAddress,Fp,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(r){const n=await this.providerInstance.getTransaction(r);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const i=`0x${n.data.slice(34,74)}`,s=new Qe.Z(n.data.slice(74),16);return{from:n.from,to:i,blockHeight:n.blockNumber?new Qe.Z(n.blockNumber):void 0,amount:s,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(r,n){const i="0x"+new Qe.Z(r).toString(16),s=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await s.estimateGas.transfer(n,i),d=new Qe.Z(a.mul(o).toString()),[p]=await this.getGas(),v=p.multipliedBy(d),A=new Qe.Z(await this.price());return new Qe.Z(v).dividedToIntegerBy(A)}async createTx(r,n,i){const s=await this.getContract(),a="0x"+new Qe.Z(r).toString(16),o=await s.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await s.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new Qe.Z(await _d("ETH")),1e18]}}const Fp=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var io=x(15711),Hp=x(98316);const Z2={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const Y2=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Kp=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Vc=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Q2=(t,e)=>t<<32-e|t>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const zp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zd(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zp[t[r]];return e}function $d(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}const $p=async()=>{};async function tm(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);const s=Date.now()-n;s>=0&&s<e||(await $p(),n+=s)}}function qp(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Ys(t){if(typeof t=="string"&&(t=qp(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function rm(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class Jc{clone(){return this._cloneInto()}}const jp=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function nm(t,e){if(e!==void 0&&(typeof e!="object"||!jp(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function so(t){const e=n=>t().update(Ys(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Gp(t){const e=(n,i)=>t(i).update(Ys(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function im(t=32){if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(t));if(crypto.node)return new Uint8Array(crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}function Xc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Wp(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function qd(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Vp(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xc(t.outputLen),Xc(t.blockLen)}function Jp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xp(t,e){qd(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Ur={number:Xc,bool:Wp,bytes:qd,hash:Vp,exists:Jp,output:Xp};const ao=BigInt(2**32-1),Zc=BigInt(32);function jd(t,e=!1){return e?{h:Number(t&ao),l:Number(t>>Zc&ao)}:{h:Number(t>>Zc&ao)|0,l:Number(t&ao)|0}}function Zp(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=jd(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}const Yp=(t,e)=>BigInt(t>>>0)<<Zc|BigInt(e>>>0),Qp=(t,e,r)=>t>>>r,ey=(t,e,r)=>t<<32-r|e>>>r,ty=(t,e,r)=>t>>>r|e<<32-r,ry=(t,e,r)=>t<<32-r|e>>>r,ny=(t,e,r)=>t<<64-r|e>>>r-32,iy=(t,e,r)=>t>>>r-32|e<<64-r,sy=(t,e)=>e,ay=(t,e)=>t,oy=(t,e,r)=>t<<r|e>>>32-r,cy=(t,e,r)=>e<<r|t>>>32-r,uy=(t,e,r)=>e<<r-32|t>>>64-r,fy=(t,e,r)=>t<<r-32|e>>>64-r;function dy(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var tt={fromBig:jd,split:Zp,toBig:Yp,shrSH:Qp,shrSL:ey,rotrSH:ty,rotrSL:ry,rotrBH:ny,rotrBL:iy,rotr32H:sy,rotr32L:ay,rotlSH:oy,rotlSL:cy,rotlBH:uy,rotlBL:fy,add:dy,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};const[Gd,Wd,Vd]=[[],[],[]],ly=BigInt(0),Qs=BigInt(1),hy=BigInt(2),xy=BigInt(7),py=BigInt(256),yy=BigInt(113);for(let t=0,e=Qs,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Gd.push(2*(5*n+r)),Wd.push((t+1)*(t+2)/2%64);let i=ly;for(let s=0;s<7;s++)e=(e<<Qs^(e>>xy)*yy)%py,e&hy&&(i^=Qs<<(Qs<<BigInt(s))-Qs);Vd.push(i)}const[by,gy]=tt.split(Vd,!0),Jd=(t,e,r)=>r>32?tt.rotlBH(t,e,r):tt.rotlSH(t,e,r),Xd=(t,e,r)=>r>32?tt.rotlBL(t,e,r):tt.rotlSL(t,e,r);function my(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,d=(a+2)%10,p=r[d],v=r[d+1],A=Jd(p,v,1)^r[o],L=Xd(p,v,1)^r[o+1];for(let G=0;G<50;G+=10)t[a+G]^=A,t[a+G+1]^=L}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=Wd[a],d=Jd(i,s,o),p=Xd(i,s,o),v=Gd[a];i=t[v],s=t[v+1],t[v]=d,t[v+1]=p}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=by[n],t[1]^=gy[n]}r.fill(0)}class oo extends Jc{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ur.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kp(this.state)}keccak(){my(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ur.exists(this);const{blockLen:r,state:n}=this;e=Ys(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ur.exists(this,!1),Ur.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ur.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ur.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new oo(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const oi=(t,e,r)=>so(()=>new oo(e,t,r)),hm=oi(6,144,224/8),es=oi(6,136,256/8),xm=oi(6,104,384/8),pm=oi(6,72,512/8),ym=oi(1,144,224/8),bm=oi(1,136,256/8),gm=oi(1,104,384/8),mm=oi(1,72,512/8),Zd=(t,e,r)=>Gp((n={})=>new oo(e,t,n.dkLen===void 0?r:n.dkLen,!0)),wm=Zd(31,168,128/8),vm=Zd(31,136,256/8);class Yd extends Jc{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Ur.hash(e);const n=Ys(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ur.exists(this),this.iHash.update(e),this}digestInto(e){Ur.exists(this),Ur.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yc=(t,e,r)=>new Yd(t,e).update(r).digest();Yc.create=(t,e)=>new Yd(t,e);function wy(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),d=n?4:0,p=n?0:4;t.setUint32(e+d,a,n),t.setUint32(e+p,o,n)}class vy extends Jc{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Vc(this.buffer)}update(e){Ur.exists(this);const{view:r,buffer:n,blockLen:i}=this;e=Ys(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const d=Vc(e);for(;i<=s-a;a+=i)this.process(d,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ur.exists(this),Ur.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;wy(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=Vc(e);this.get().forEach((d,p)=>o.setUint32(4*p,d,s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const[Ey,Sy]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ci=new Uint32Array(80),ui=new Uint32Array(80);class Qc extends vy{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:d,Eh:p,El:v,Fh:A,Fl:L,Gh:G,Gl:q,Hh:Q,Hl:fe}=this;return[e,r,n,i,s,a,o,d,p,v,A,L,G,q,Q,fe]}set(e,r,n,i,s,a,o,d,p,v,A,L,G,q,Q,fe){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=d|0,this.Eh=p|0,this.El=v|0,this.Fh=A|0,this.Fl=L|0,this.Gh=G|0,this.Gl=q|0,this.Hh=Q|0,this.Hl=fe|0}process(e,r){for(let Ke=0;Ke<16;Ke++,r+=4)ci[Ke]=e.getUint32(r),ui[Ke]=e.getUint32(r+=4);for(let Ke=16;Ke<80;Ke++){const Et=ci[Ke-15]|0,wt=ui[Ke-15]|0,er=tt.rotrSH(Et,wt,1)^tt.rotrSH(Et,wt,8)^tt.shrSH(Et,wt,7),sr=tt.rotrSL(Et,wt,1)^tt.rotrSL(Et,wt,8)^tt.shrSL(Et,wt,7),St=ci[Ke-2]|0,$t=ui[Ke-2]|0,mr=tt.rotrSH(St,$t,19)^tt.rotrBH(St,$t,61)^tt.shrSH(St,$t,6),Ot=tt.rotrSL(St,$t,19)^tt.rotrBL(St,$t,61)^tt.shrSL(St,$t,6),wn=tt.add4L(sr,Ot,ui[Ke-7],ui[Ke-16]),et=tt.add4H(wn,er,mr,ci[Ke-7],ci[Ke-16]);ci[Ke]=et|0,ui[Ke]=wn|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:d,Dh:p,Dl:v,Eh:A,El:L,Fh:G,Fl:q,Gh:Q,Gl:fe,Hh:Ce,Hl:Ge}=this;for(let Ke=0;Ke<80;Ke++){const Et=tt.rotrSH(A,L,14)^tt.rotrSH(A,L,18)^tt.rotrBH(A,L,41),wt=tt.rotrSL(A,L,14)^tt.rotrSL(A,L,18)^tt.rotrBL(A,L,41),er=A&G^~A&Q,sr=L&q^~L&fe,St=tt.add5L(Ge,wt,sr,Sy[Ke],ui[Ke]),$t=tt.add5H(St,Ce,Et,er,Ey[Ke],ci[Ke]),mr=St|0,Ot=tt.rotrSH(n,i,28)^tt.rotrBH(n,i,34)^tt.rotrBH(n,i,39),wn=tt.rotrSL(n,i,28)^tt.rotrBL(n,i,34)^tt.rotrBL(n,i,39),et=n&s^n&o^s&o,Nt=i&a^i&d^a&d;Ce=Q|0,Ge=fe|0,Q=G|0,fe=q|0,G=A|0,q=L|0,{h:A,l:L}=tt.add(p|0,v|0,$t|0,mr|0),p=o|0,v=d|0,o=s|0,d=a|0,s=n|0,a=i|0;const pr=tt.add3L(mr,wn,Nt);n=tt.add3H(pr,$t,Ot,et),i=pr|0}({h:n,l:i}=tt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=tt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:d}=tt.add(this.Ch|0,this.Cl|0,o|0,d|0),{h:p,l:v}=tt.add(this.Dh|0,this.Dl|0,p|0,v|0),{h:A,l:L}=tt.add(this.Eh|0,this.El|0,A|0,L|0),{h:G,l:q}=tt.add(this.Fh|0,this.Fl|0,G|0,q|0),{h:Q,l:fe}=tt.add(this.Gh|0,this.Gl|0,Q|0,fe|0),{h:Ce,l:Ge}=tt.add(this.Hh|0,this.Hl|0,Ce|0,Ge|0),this.set(n,i,s,a,o,d,p,v,A,L,G,q,Q,fe,Ce,Ge)}roundClean(){ci.fill(0),ui.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ay extends Qc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class _y extends Qc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Qd=so(()=>new Qc),Em=so(()=>new Ay),Sm=so(()=>new _y);var ea=x(67886),e0=x(36243),t0=Object.defineProperty,Ty=Object.getOwnPropertyDescriptor,co=(t,e)=>{for(var r in e)t0(t,r,{get:e[r],enumerable:!0})},_t=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ty(e,r):e,s=t.length-1,a;s>=0;s--)(a=t[s])&&(i=(n?a(e,r,i):a(i))||i);return n&&i&&t0(e,r,i),i},Ry=/^m(\/[0-9]+')+$/,r0=t=>t.replace("'",""),Py="ed25519 seed",Cy=2147483648,ky=t=>{const r=Yc.create(Qd,Py).update($d(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Iy=({key:t,chainCode:e},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...t,...i]),o=Yc.create(Qd,e).update(a).digest(),d=o.slice(0,32),p=o.slice(32);return{key:d,chainCode:p}},By=t=>Ry.test(t)?!t.split("/").slice(1).map(r0).some(Number.isNaN):!1,Uy=(t,e,r=Cy)=>{if(!By(t))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=ky(e);return t.split("/").slice(1).map(r0).map(a=>parseInt(a,10)).reduce((a,o)=>Iy(a,o+r),{key:n,chainCode:i})};async function Oy(t){return new Promise(e=>{setTimeout(e,t)})}var n0="/v1";function Ny(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(n0)||(e=`${e}${n0}`),e}var i0=2e5,s0=20,a0=20,eu="0x1::aptos_coin::AptosCoin";function uo(t){let e,r,n;return typeof t=="object"?(e=t.hashFunction,r=t.ttlMs,n=t.tags):e=t,(i,s,a)=>{if(a.value!=null)a.value=o0(a.value,e,r,n);else if(a.get!=null)a.get=o0(a.get,e,r,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function My(t,e){return uo({ttlMs:t,hashFunction:e})}var fo=new Map;function Dy(t){const e=new Set;for(const r of t){const n=fo.get(r);if(n)for(const i of n)e.has(i)||(i.clear(),e.add(i))}return e.size}function o0(t,e,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let a;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const d=o[i];if(Array.isArray(n))for(const p of n)fo.has(p)?fo.get(p).push(d):fo.set(p,[d]);if(e||s.length>0||r>0){let p;e===!0?p=s.map(L=>L.toString()).join("!"):e?p=e.apply(o,s):p=s[0];const v=`${p}__timestamp`;let A=!1;if(r>0)if(!d.has(v))A=!0;else{const L=d.get(v);A=Date.now()-L>r}d.has(p)&&!A?a=d.get(p):(a=t.apply(o,s),d.set(p,a),r>0&&d.set(v,Date.now()))}else{const p=o;d.has(p)?a=d.get(p):(a=t.apply(o,s),d.set(p,a))}return a}}var Fe=class{static fromBuffer(t){return Fe.fromUint8Array(t)}static fromUint8Array(t){return new Fe(zd(t))}static ensure(t){return typeof t=="string"?new Fe(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from($d(this.noPrefix()))}};async function c0(t,e,r,n){var i;const s=[];let a;for(;;){const o=await t(Fe.ensure(e).hex(),(i=n==null?void 0:n.ledgerVersion)==null?void 0:i.toString(),a,r);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,s.push(...o),a==null)break}return s}var Ly={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Fy={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Hy=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t))(Hy||{}),Tt={};co(Tt,{AccountAddress:()=>zt,AccountAuthenticator:()=>sa,AccountAuthenticatorEd25519:()=>su,AccountAuthenticatorMultiEd25519:()=>au,ArgumentABI:()=>ua,AuthenticationKey:()=>Oi,ChainId:()=>vo,ChangeSet:()=>rb,Ed25519PublicKey:()=>Vr,Ed25519Signature:()=>gn,EntryFunction:()=>Bi,EntryFunctionABI:()=>us,Identifier:()=>gr,Module:()=>x0,ModuleId:()=>Ui,MultiAgentRawTransaction:()=>go,MultiEd25519PublicKey:()=>ra,MultiEd25519Signature:()=>xo,MultiSig:()=>uu,MultiSigTransactionPayload:()=>cu,RawTransaction:()=>cs,RawTransactionWithData:()=>p0,RotationProofChallenge:()=>ib,Script:()=>bo,ScriptABI:()=>Io,SignedTransaction:()=>aa,StructTag:()=>Ii,Transaction:()=>y0,TransactionArgument:()=>un,TransactionArgumentAddress:()=>Po,TransactionArgumentBool:()=>ko,TransactionArgumentU128:()=>To,TransactionArgumentU16:()=>So,TransactionArgumentU256:()=>Ro,TransactionArgumentU32:()=>Ao,TransactionArgumentU64:()=>_o,TransactionArgumentU8:()=>Eo,TransactionArgumentU8Vector:()=>Co,TransactionAuthenticator:()=>ia,TransactionAuthenticatorEd25519:()=>po,TransactionAuthenticatorMultiAgent:()=>iu,TransactionAuthenticatorMultiEd25519:()=>yo,TransactionPayload:()=>oa,TransactionPayloadEntryFunction:()=>wo,TransactionPayloadMultisig:()=>fu,TransactionPayloadScript:()=>mo,TransactionScriptABI:()=>Bo,TypeArgumentABI:()=>ca,TypeTag:()=>ur,TypeTagAddress:()=>fi,TypeTagBool:()=>Ri,TypeTagParser:()=>os,TypeTagParserError:()=>h0,TypeTagSigner:()=>ou,TypeTagStruct:()=>ki,TypeTagU128:()=>Ci,TypeTagU16:()=>ns,TypeTagU256:()=>ss,TypeTagU32:()=>is,TypeTagU64:()=>Pi,TypeTagU8:()=>Dn,TypeTagVector:()=>as,UserTransaction:()=>du,WriteSet:()=>nb,stringStructTag:()=>f0});var Ky={};co(Ky,{Deserializer:()=>tu,Serializer:()=>Kt,bcsSerializeBool:()=>Xy,bcsSerializeBytes:()=>rs,bcsSerializeFixedBytes:()=>Yy,bcsSerializeStr:()=>Zy,bcsSerializeU128:()=>Jy,bcsSerializeU16:()=>Wy,bcsSerializeU32:()=>Vy,bcsSerializeU8:()=>ru,bcsSerializeUint64:()=>Gy,bcsToBytes:()=>Mn,deserializeVector:()=>Gr,serializeVector:()=>Or,serializeVectorWithFunc:()=>jy});var zy=2**8-1,$y=2**16-1,ta=2**32-1,ts=BigInt(2**64)-BigInt(1),u0=BigInt(2**128)-BigInt(1),qy=BigInt(2**256)-BigInt(1),Kt=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,r){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);t.apply(n,[0,r,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(ta),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(r))}serializeU128(t){const e=BigInt(t.toString())&ts,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(r)}serializeU256(t){const e=BigInt(t.toString())&u0,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(r)}serializeU32AsUleb128(t){let e=t;const r=[];for(;e>>>7;)r.push(e&127|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};_t([Ti(0,zy)],Kt.prototype,"serializeU8",1),_t([Ti(0,$y)],Kt.prototype,"serializeU16",1),_t([Ti(0,ta)],Kt.prototype,"serializeU32",1),_t([Ti(BigInt(0),ts)],Kt.prototype,"serializeU64",1),_t([Ti(BigInt(0),u0)],Kt.prototype,"serializeU128",1),_t([Ti(BigInt(0),qy)],Kt.prototype,"serializeU256",1),_t([Ti(0,ta)],Kt.prototype,"serializeU32AsUleb128",1);function Ti(t,e,r){return(n,i,s)=>{const a=s.value;return s.value=function(d){const p=BigInt(d.toString());if(p>BigInt(e.toString())||p<BigInt(t.toString()))throw new Error(r||"Value is out of range");a.apply(this,[d])},s}}var tu=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<ta;){const r=this.deserializeU8();if(t|=BigInt(r&127)<<BigInt(e),!(r&128))break;e+=7}if(t>ta)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Or(t,e){e.serializeU32AsUleb128(t.length),t.forEach(r=>{r.serialize(e)})}function jy(t,e){const r=new Kt;r.serializeU32AsUleb128(t.length);const n=r[e];return t.forEach(i=>{n.call(r,i)}),r.getBytes()}function Gr(t,e){const r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(e.deserialize(t));return n}function Mn(t){const e=new Kt;return t.serialize(e),e.getBytes()}function Gy(t){const e=new Kt;return e.serializeU64(t),e.getBytes()}function ru(t){const e=new Kt;return e.serializeU8(t),e.getBytes()}function Wy(t){const e=new Kt;return e.serializeU16(t),e.getBytes()}function Vy(t){const e=new Kt;return e.serializeU32(t),e.getBytes()}function Jy(t){const e=new Kt;return e.serializeU128(t),e.getBytes()}function Xy(t){const e=new Kt;return e.serializeBool(t),e.getBytes()}function Zy(t){const e=new Kt;return e.serializeStr(t),e.getBytes()}function rs(t){const e=new Kt;return e.serializeBytes(t),e.getBytes()}function Yy(t){const e=new Kt;return e.serializeFixedBytes(t),e.getBytes()}var Wr=class{constructor(t){if(t.length!==Wr.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=Fe.ensure(t);e.noPrefix().length%2!==0&&(e=new Fe(`0${e.noPrefix()}`));const r=e.toUint8Array();if(r.length>Wr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Wr.LENGTH)return new Wr(r);const n=new Uint8Array(Wr.LENGTH);return n.set(r,Wr.LENGTH-r.length),new Wr(n)}static isValid(t){if(t==="")return!1;let e=Fe.ensure(t);return e.noPrefix().length%2!==0&&(e=new Fe(`0${e.noPrefix()}`)),e.toUint8Array().length<=Wr.LENGTH}toHexString(){return Fe.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Wr(t.deserializeFixedBytes(Wr.LENGTH))}},zt=Wr;zt.LENGTH=32,zt.CORE_CODE_ADDRESS=Wr.fromHex("0x1");var lo=class{constructor(t){if(t.length!==lo.LENGTH)throw new Error(`Ed25519PublicKey length should be ${lo.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new lo(e)}},Vr=lo;Vr.LENGTH=32;var ho=class{constructor(t){if(this.value=t,t.length!==ho.LENGTH)throw new Error(`Ed25519Signature length should be ${ho.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new ho(e)}},gn=ho;gn.LENGTH=64;var nu=32,ra=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>nu)throw new Error(`"threshold" cannot be larger than ${nu}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*Vr.LENGTH+1);return this.public_keys.forEach((e,r)=>{t.set(e.value,r*Vr.LENGTH)}),t[this.public_keys.length*Vr.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e[e.length-1],n=[];for(let i=0;i<e.length-1;i+=Vr.LENGTH){const s=i;n.push(new Vr(e.subarray(s,s+Vr.LENGTH)))}return new ra(n,r)}},na=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==na.BITMAP_LEN)throw new Error(`"bitmap" length should be ${na.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*gn.LENGTH+na.BITMAP_LEN);return this.signatures.forEach((e,r)=>{t.set(e.value,r*gn.LENGTH)}),t.set(this.bitmap,this.signatures.length*gn.LENGTH),t}static createBitmap(t){const r=new Uint8Array([0,0,0,0]),n=new Set;return t.forEach(i=>{if(i>=nu)throw new Error(`Invalid bit value ${i}.`);if(n.has(i))throw new Error("Duplicated bits detected.");n.add(i);const s=Math.floor(i/8);let a=r[s];a|=128>>i%8,r[s]=a}),r}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e.subarray(e.length-4),n=[];for(let i=0;i<e.length-r.length;i+=gn.LENGTH){const s=i;n.push(new gn(e.subarray(s,s+gn.LENGTH)))}return new na(n,r)}},xo=na;xo.BITMAP_LEN=4;var ia=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return po.load(t);case 1:return yo.load(t);case 2:return iu.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},po=class extends ia{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Vr.deserialize(t),r=gn.deserialize(t);return new po(e,r)}},yo=class extends ia{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=ra.deserialize(t),r=xo.deserialize(t);return new yo(e,r)}},iu=class extends ia{constructor(t,e,r){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),Or(this.secondary_signer_addresses,t),Or(this.secondary_signers,t)}static load(t){const e=sa.deserialize(t),r=Gr(t,zt),n=Gr(t,sa);return new iu(e,r,n)}},sa=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return su.load(t);case 1:return au.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},su=class extends sa{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Vr.deserialize(t),r=gn.deserialize(t);return new su(e,r)}},au=class extends sa{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=ra.deserialize(t),r=xo.deserialize(t);return new au(e,r)}},gr=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new gr(e)}},ur=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Ri.load(t);case 1:return Dn.load(t);case 2:return Pi.load(t);case 3:return Ci.load(t);case 4:return fi.load(t);case 5:return ou.load(t);case 6:return as.load(t);case 7:return ki.load(t);case 8:return ns.load(t);case 9:return is.load(t);case 10:return ss.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Ri=class extends ur{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Ri}},Dn=class extends ur{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Dn}},ns=class extends ur{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new ns}},is=class extends ur{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new is}},Pi=class extends ur{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Pi}},Ci=class extends ur{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Ci}},ss=class extends ur{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new ss}},fi=class extends ur{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new fi}},ou=class extends ur{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new ou}},as=class extends ur{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=ur.deserialize(t);return new as(e)}},ki=class extends ur{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=Ii.deserialize(t);return new ki(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===zt.fromHex("0x1").toHexString()}},Ii=class{constructor(t,e,r,n){this.address=t,this.module_name=e,this.name=r,this.type_args=n}static fromString(t){const e=new os(t).parseTypeTag();return new Ii(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),Or(this.type_args,t)}static deserialize(t){const e=zt.deserialize(t),r=gr.deserialize(t),n=gr.deserialize(t),i=Gr(t,ur);return new Ii(e,r,n,i)}},f0=new Ii(zt.fromHex("0x1"),new gr("string"),new gr("String"),[]);function di(t){throw new h0(t)}function d0(t){return!!t.match(/\s/)}function l0(t){return!!t.match(/[_A-Za-z0-9]/g)}function Qy(t){return!!t.match(/T\d+/g)}function eb(t,e){const r=t[e];if(r===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];di("Unrecognized token.")}else{if(r==="<")return[["LT","<"],1];if(r===">")return[["GT",">"],1];if(r===",")return[["COMMA",","],1];if(d0(r)){let n="";for(let i=e;i<t.length;i+=1){const s=t[i];if(d0(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(l0(r)){let n="";for(let i=e;i<t.length;i+=1){const s=t[i];if(l0(s))n=`${n}${s}`;else break}return Qy(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function tb(t){let e=0;const r=[];for(;e<t.length;){const[n,i]=eb(t,e);n[0]!=="SPACE"&&r.push(n),e+=i}return r}var os=class{constructor(t,e){this.typeTags=[],this.tokens=tb(t),this.typeTags=e||[]}consume(t){const e=this.tokens.shift();(!e||e[1]!==t)&&di("Invalid type tag.")}parseCommaList(t,e){const r=[];for(this.tokens.length<=0&&di("Invalid type tag.");this.tokens[0][1]!==t&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e)));)this.tokens.length<=0&&di("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&di("Invalid type tag.");const[t,e]=this.tokens.shift();if(e==="u8")return new Dn;if(e==="u16")return new ns;if(e==="u32")return new is;if(e==="u64")return new Pi;if(e==="u128")return new Ci;if(e==="u256")return new ss;if(e==="bool")return new Ri;if(e==="address")return new fi;if(e==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new as(r)}if(e==="string")return new Ii(zt.fromHex("0x1"),new gr("string"),new gr("String"),[]);if(t==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const r=e;this.consume("::");const[n,i]=this.tokens.shift();n!=="IDENT"&&di("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&di("Invalid type tag."),i==="object"&&a==="Object")return this.tokens.splice(0,3),new fi;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const d=new Ii(zt.fromHex(r),new gr(i),new gr(a),o);return new ki(d)}if(t==="GENERIC"){this.typeTags.length===0&&di("Can't convert generic type since no typeTags were specified.");const r=parseInt(e.substring(1),10);return new os(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},h0=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},cs=class{constructor(t,e,r,n,i,s,a){this.sender=t,this.sequence_number=e,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=zt.deserialize(t),r=t.deserializeU64(),n=oa.deserialize(t),i=t.deserializeU64(),s=t.deserializeU64(),a=t.deserializeU64(),o=vo.deserialize(t);return new cs(e,r,n,i,s,a,o)}},bo=class{constructor(t,e,r){this.code=t,this.ty_args=e,this.args=r}serialize(t){t.serializeBytes(this.code),Or(this.ty_args,t),Or(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),r=Gr(t,ur),n=Gr(t,un);return new bo(e,r,n)}},Bi=class{constructor(t,e,r,n){this.module_name=t,this.function_name=e,this.ty_args=r,this.args=n}static natural(t,e,r,n){return new Bi(Ui.fromStr(t),new gr(e),r,n)}static natual(t,e,r,n){return Bi.natural(t,e,r,n)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),Or(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{t.serializeBytes(e)})}static deserialize(t){const e=Ui.deserialize(t),r=gr.deserialize(t),n=Gr(t,ur),i=t.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(t.deserializeBytes());const a=s;return new Bi(e,r,n,a)}},cu=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new cu(Bi.deserialize(t))}},uu=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=zt.deserialize(t),r=t.deserializeBool();let n;return r&&(n=cu.deserialize(t)),new uu(e,n)}},x0=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new x0(e)}},Ui=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new Ui(zt.fromHex(new Fe(e[0])),new gr(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=zt.deserialize(t),r=gr.deserialize(t);return new Ui(e,r)}},rb=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},nb=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},aa=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=cs.deserialize(t),r=ia.deserialize(t);return new aa(e,r)}},p0=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return go.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},go=class extends p0{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),Or(this.secondary_signer_addresses,t)}static load(t){const e=cs.deserialize(t),r=Gr(t,zt);return new go(e,r)}},oa=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return mo.load(t);case 2:return wo.load(t);case 3:return fu.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},mo=class extends oa{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=bo.deserialize(t);return new mo(e)}},wo=class extends oa{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=Bi.deserialize(t);return new wo(e)}},fu=class extends oa{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=uu.deserialize(t);return new fu(e)}},vo=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new vo(e)}},un=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Eo.load(t);case 1:return _o.load(t);case 2:return To.load(t);case 3:return Po.load(t);case 4:return Co.load(t);case 5:return ko.load(t);case 6:return So.load(t);case 7:return Ao.load(t);case 8:return Ro.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},Eo=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new Eo(e)}},So=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new So(e)}},Ao=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Ao(e)}},_o=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new _o(e)}},To=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new To(e)}},Ro=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new Ro(e)}},Po=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=zt.deserialize(t);return new Po(e)}},Co=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new Co(e)}},ko=class extends un{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new ko(e)}},y0=class{getHashSalt(){const t=es.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return du.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},du=class extends y0{constructor(t){super(),this.value=t}hash(){const t=es.create();return t.update(this.getHashSalt()),t.update(Mn(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new du(aa.deserialize(t))}},ca=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new ca(e)}},ua=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),r=ur.deserialize(t);return new ua(e,r)}},Io=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Bo.load(t);case 1:return us.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Bo=class extends Io{constructor(t,e,r,n,i){super(),this.name=t,this.doc=e,this.code=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),Or(this.ty_args,t),Or(this.args,t)}static load(t){const e=t.deserializeStr(),r=t.deserializeStr(),n=t.deserializeBytes(),i=Gr(t,ca),s=Gr(t,ua);return new Bo(e,r,n,i,s)}},us=class extends Io{constructor(t,e,r,n,i){super(),this.name=t,this.module_name=e,this.doc=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),Or(this.ty_args,t),Or(this.args,t)}static load(t){const e=t.deserializeStr(),r=Ui.deserialize(t),n=t.deserializeStr(),i=Gr(t,ca),s=Gr(t,ua);return new us(e,r,n,i,s)}},fs=class{constructor(t){if(t.length!==fs.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),r=new Uint8Array(e.length+1);r.set(e),r.set([fs.MULTI_ED25519_SCHEME],e.length);const n=es.create();return n.update(r),new fs(n.digest())}static fromEd25519PublicKey(t){const e=t.value,r=new Uint8Array(e.length+1);r.set(e),r.set([fs.ED25519_SCHEME],e.length);const n=es.create();return n.update(r),new fs(n.digest())}derivedAddress(){return Fe.fromUint8Array(this.bytes)}},Oi=fs;Oi.LENGTH=32,Oi.MULTI_ED25519_SCHEME=1,Oi.ED25519_SCHEME=0,Oi.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var ib=class{constructor(t,e,r,n,i,s,a){this.accountAddress=t,this.moduleName=e,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},Uo=class{static fromAptosAccountObject(t){return new Uo(Fe.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,e){if(!Uo.isValidPath(t))throw new Error("Invalid derivation path");const r=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:n}=Uy(t,zd(Hp.Z1(r)));return new Uo(n)}constructor(t,e){t?this.signingKey=io.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=io.sign.keyPair(),this.accountAddress=Fe.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Vr(this.signingKey.publicKey);return Oi.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const r=Mn(zt.fromHex(t)),n=new Uint8Array([...r,...e,Oi.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=es.create();return i.update(n),Fe.fromUint8Array(i.digest())}pubKey(){return Fe.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=io.sign.detached(t,this.signingKey.secretKey);return Fe.fromUint8Array(e)}signHexString(t){const e=Fe.ensure(t).toUint8Array();return this.signBuffer(e)}verifySignature(t,e){const r=Fe.ensure(t).toUint8Array(),n=Fe.ensure(e).toUint8Array();return io.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Fe.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Oo=Uo;_t([uo()],Oo.prototype,"authKey",1);function b0(t){return t instanceof Oo?t.address():Fe.ensure(t)}var sb=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,ab=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,ob=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,cb=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${sb}
${ab}`,ub=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,fb=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,db=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,lb=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,hb=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,xb=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,pb=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,yb=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,bb=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,gb=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,mb=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,wb=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,mn=class{constructor(t){this.endpoint=t}static validateAddress(t){if(t.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(t){const{data:e}=await ea.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const t={query:xb};return this.queryIndexer(t)}async getAccountNFTs(t,e){const r=Fe.ensure(t).hex();mn.validateAddress(r);const n={query:cb,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t,e){const r={query:pb,variables:{idHash:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getAccountCoinsData(t,e){const r=Fe.ensure(t).hex();mn.validateAddress(r);const n={query:ob,variables:{owner_address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(t){const e=Fe.ensure(t).hex();mn.validateAddress(e);const r={query:ub,variables:{owner_address:e}};return this.queryIndexer(r)}async getAccountTransactionsCount(t){const e=Fe.ensure(t).hex();mn.validateAddress(e);const r={query:fb,variables:{address:e}};return this.queryIndexer(r)}async getAccountTransactionsData(t,e){const r=Fe.ensure(t).hex();mn.validateAddress(r);const n={query:db,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(t,e){const r=Fe.ensure(t).hex(),n=Fe.ensure(e).hex();mn.validateAddress(r),mn.validateAddress(n);const i={query:hb,variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(t){const e={query:yb,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenData(t){const e={query:bb,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenOwnersData(t,e){const r={query:gb,variables:{token_id:t,property_version:e}};return this.queryIndexer(r)}async getTopUserTransactions(t){const e={query:mb,variables:{limit:t}};return this.queryIndexer(e)}async getUserTransactions(t,e){const r={query:wb,variables:{start_version:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(t){const e=Fe.ensure(t).hex();mn.validateAddress(e);const r={query:lb,variables:{poolAddress:e}};return this.queryIndexer(r)}},vb={};co(vb,{$AccountData:()=>Mb,$AccountSignature:()=>Db,$AccountSignature_Ed25519Signature:()=>Lb,$AccountSignature_MultiEd25519Signature:()=>Fb,$Address:()=>Hb,$AptosError:()=>Kb,$AptosErrorCode:()=>zb,$Block:()=>$b,$BlockMetadataTransaction:()=>qb,$DecodedTableData:()=>jb,$DeleteModule:()=>Wb,$DeleteResource:()=>Vb,$DeleteTableItem:()=>Jb,$DeletedTableData:()=>Gb,$DirectWriteSet:()=>Xb,$Ed25519Signature:()=>Zb,$EncodeSubmissionRequest:()=>Yb,$EntryFunctionId:()=>Qb,$EntryFunctionPayload:()=>eg,$Event:()=>tg,$EventGuid:()=>rg,$GasEstimation:()=>ng,$GenesisPayload:()=>ig,$GenesisPayload_WriteSetPayload:()=>sg,$GenesisTransaction:()=>ag,$HashValue:()=>og,$HealthCheckSuccess:()=>cg,$HexEncodedBytes:()=>ug,$IdentifierWrapper:()=>fg,$IndexResponse:()=>dg,$ModuleBundlePayload:()=>lg,$MoveAbility:()=>hg,$MoveFunction:()=>xg,$MoveFunctionGenericTypeParam:()=>pg,$MoveFunctionVisibility:()=>yg,$MoveModule:()=>bg,$MoveModuleBytecode:()=>gg,$MoveModuleId:()=>mg,$MoveResource:()=>wg,$MoveScriptBytecode:()=>vg,$MoveStruct:()=>Eg,$MoveStructField:()=>Sg,$MoveStructGenericTypeParam:()=>Ag,$MoveStructTag:()=>_g,$MoveStructValue:()=>Tg,$MoveType:()=>Rg,$MoveValue:()=>Pg,$MultiAgentSignature:()=>Cg,$MultiEd25519Signature:()=>kg,$MultisigPayload:()=>Ig,$MultisigTransactionPayload:()=>Bg,$PendingTransaction:()=>Ug,$RawTableItemRequest:()=>Og,$RoleType:()=>Ng,$ScriptPayload:()=>Mg,$ScriptWriteSet:()=>Dg,$StateCheckpointTransaction:()=>Lg,$StateKeyWrapper:()=>Fg,$SubmitTransactionRequest:()=>Hg,$TableItemRequest:()=>Kg,$Transaction:()=>zg,$TransactionPayload:()=>Vg,$TransactionPayload_EntryFunctionPayload:()=>Jg,$TransactionPayload_ModuleBundlePayload:()=>Xg,$TransactionPayload_MultisigPayload:()=>Zg,$TransactionPayload_ScriptPayload:()=>Yg,$TransactionSignature:()=>t1,$TransactionSignature_Ed25519Signature:()=>r1,$TransactionSignature_MultiAgentSignature:()=>n1,$TransactionSignature_MultiEd25519Signature:()=>i1,$Transaction_BlockMetadataTransaction:()=>$g,$Transaction_GenesisTransaction:()=>qg,$Transaction_PendingTransaction:()=>jg,$Transaction_StateCheckpointTransaction:()=>Gg,$Transaction_UserTransaction:()=>Wg,$TransactionsBatchSingleSubmissionFailure:()=>Qg,$TransactionsBatchSubmissionResult:()=>e1,$U128:()=>s1,$U256:()=>a1,$U64:()=>o1,$UserTransaction:()=>c1,$VersionedEvent:()=>u1,$ViewRequest:()=>f1,$WriteModule:()=>d1,$WriteResource:()=>l1,$WriteSet:()=>h1,$WriteSetChange:()=>y1,$WriteSetChange_DeleteModule:()=>b1,$WriteSetChange_DeleteResource:()=>g1,$WriteSetChange_DeleteTableItem:()=>m1,$WriteSetChange_WriteModule:()=>w1,$WriteSetChange_WriteResource:()=>v1,$WriteSetChange_WriteTableItem:()=>E1,$WriteSetPayload:()=>S1,$WriteSet_DirectWriteSet:()=>x1,$WriteSet_ScriptWriteSet:()=>p1,$WriteTableItem:()=>A1,AccountsService:()=>_0,ApiError:()=>fa,AptosErrorCode:()=>U0,AptosGeneratedClient:()=>B0,BaseHttpRequest:()=>g0,BlocksService:()=>T0,CancelError:()=>m0,CancelablePromise:()=>w0,EventsService:()=>R0,GeneralService:()=>P0,MoveFunctionVisibility:()=>O0,OpenAPI:()=>Nb,RoleType:()=>N0,TablesService:()=>C0,TransactionsService:()=>k0,ViewService:()=>I0});var g0=class{constructor(t){this.config=t}},fa=class extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},m0=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},w0=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},i=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},s=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),t(n,i,s)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new m0("Request aborted"))}}get isCancelled(){return this._isCancelled}},v0=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var r;const n=t.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=v0.parse(e);this.jar.set(n,[...((r=this.jar.get(n))==null?void 0:r.filter(s=>s.name!==i.name))||[],i])}getCookies(t){var e;const r=t.origin.toLowerCase();return this.jar.get(r)?((e=this.jar.get(r))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const e=t.split(";").map(n=>n.trim());let r;if(e.length>0){const[n,i]=e[0].split("=");if(!n||!i)throw new Error("Invalid cookie");r={name:n,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[i,s]=n.split("=");if(!i.trim())throw new Error("Invalid cookie");const a=i.toLowerCase(),o=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(a==="expires"&&(r.expires=new Date(o)),a==="path"&&(r.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=o}a==="secure"&&(r.secure=!0)}),r}},E0=new v0;ea.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{E0.setCookie(new URL(t.config.url),e)}),t)),ea.interceptors.request.use(function(t){const e=E0.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(r=>`${r.name}=${r.value}`).join("; ")),t});var lu=t=>t!=null,No=t=>typeof t=="string",hu=t=>No(t)&&t!=="",S0=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),Eb=t=>t instanceof e0,Sb=t=>t>=200&&t<300,Ab=t=>btoa(t),_b=t=>{const e=[],r=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{lu(s)&&(Array.isArray(s)?s.forEach(a=>{n(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,o])=>{n(`${i}[${a}]`,o)}):r(i,s))};return Object.entries(t).forEach(([i,s])=>{n(i,s)}),e.length>0?`?${e.join("&")}`:""},Tb=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?r(String(e.path[a])):s}),i=`${t.BASE}${n}`;return e.query?`${i}${_b(e.query)}`:i},Rb=t=>{if(t.formData){const e=new e0,r=(n,i)=>{No(i)||S0(i)?e.append(n,i):e.append(n,JSON.stringify(i))};return Object.entries(t.formData).filter(([n,i])=>lu(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r(n,s)):r(n,i)}),e}},Mo=async(t,e)=>typeof e=="function"?e(t):e,Pb=async(t,e,r)=>{const n=await Mo(e,t.TOKEN),i=await Mo(e,t.USERNAME),s=await Mo(e,t.PASSWORD),a=await Mo(e,t.HEADERS),o=typeof(r==null?void 0:r.getHeaders)=="function"&&(r==null?void 0:r.getHeaders())||{},d=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([p,v])=>lu(v)).reduce((p,[v,A])=>({...p,[v]:String(A)}),{});if(hu(n)&&(d.Authorization=`Bearer ${n}`),hu(i)&&hu(s)){const p=Ab(`${i}:${s}`);d.Authorization=`Basic ${p}`}return e.body&&(e.mediaType?d["Content-Type"]=e.mediaType:S0(e.body)?d["Content-Type"]=e.body.type||"application/octet-stream":No(e.body)?d["Content-Type"]="text/plain":Eb(e.body)||(d["Content-Type"]="application/json")),d},Cb=t=>{if(t.body)return t.body},kb=async(t,e,r,n,i,s,a)=>{const o=ea.CancelToken.source(),d={url:r,headers:s,data:n??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(t.HEADERS||{}).filter(v=>v.toLowerCase()==="accept").map(v=>t.HEADERS[v]).includes("application/x-bcs")&&(d.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await ea.request(d)}catch(v){const A=v;if(A.response)return A.response;throw v}},Ib=(t,e)=>{if(e){const r=t.headers[e];if(No(r))return r}},Bb=t=>{if(t.status!==204)return t.data},Ub=(t,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(n)throw new fa(t,e,n);if(!e.ok)throw new fa(t,e,"Generic Error")},Ob=(t,e)=>new w0(async(r,n,i)=>{try{const s=Tb(t,e),a=Rb(e),o=Cb(e),d=await Pb(t,e,a);if(!i.isCancelled){const p=await kb(t,e,s,o,a,d,i),v=Bb(p),A=Ib(p,e.responseHeader),L={url:s,ok:Sb(p.status),status:p.status,statusText:p.statusText,body:A??v};Ub(e,L);const G=L.body;try{G.__headers=p.headers}catch{}r(G)}}catch(s){n(s)}}),A0=class extends g0{constructor(t){super(t)}request(t){return Ob(this.config,t)}},_0=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountModules(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountResource(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:r}})}getAccountModule(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:r}})}},T0=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},R0=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:r,limit:n}})}getEventsByEventHandle(t,e,r,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:r},query:{start:n,limit:i}})}},P0=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},C0=class{constructor(t){this.httpRequest=t}getTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}getRawTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}},k0=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},I0=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},B0=class{constructor(t,e=A0){var r,n,i,s;this.request=new e({BASE:(r=t==null?void 0:t.BASE)!=null?r:"/v1",VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new _0(this.request),this.blocks=new T0(this.request),this.events=new R0(this.request),this.general=new P0(this.request),this.tables=new C0(this.request),this.transactions=new k0(this.request),this.view=new I0(this.request)}},Nb={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},U0=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(U0||{}),O0=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(O0||{}),N0=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(N0||{}),Mb={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Db={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Lb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Fb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Hb={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},Kb={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},zb={type:"Enum"},$b={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},qb={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},jb={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Gb={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Wb={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Vb={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Jb={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Xb={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Zb={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Yb={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Qb={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},eg={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},tg={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},rg={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},ng={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},ig={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},sg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},ag={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},og={type:"string"},cg={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},ug={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},fg={type:"string"},dg={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},lg={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},hg={type:"string"},xg={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},pg={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},yg={type:"Enum"},bg={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},gg={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},mg={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},wg={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},vg={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Eg={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Sg={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},Ag={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},_g={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},Tg={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},Rg={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},Pg={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},Cg={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},kg={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},Ig={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},Bg={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},Ug={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},Og={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Ng={type:"Enum"},Mg={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Dg={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Lg={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Fg={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Hg={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Kg={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},zg={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},$g={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},qg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},jg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},Gg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Wg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},Vg={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Jg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Xg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Zg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Yg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Qg={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},e1={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},t1={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},r1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},n1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},i1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},s1={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},a1={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},o1={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},c1={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},u1={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},f1={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},d1={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},l1={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},h1={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},x1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},p1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},y1={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},b1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},g1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},m1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},w1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},v1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},E1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},S1={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},A1={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function Do(t,e,r){if(!(e!=null&&e.includes(typeof t)))throw new Error(r||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function M0(t){if(Do(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function ds(t){if(Do(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function ls(t){return Do(t,["number","bigint","string"]),BigInt(t)}function Lo(t,e,r){if(e instanceof Ri){r.serializeBool(M0(t));return}if(e instanceof Dn){r.serializeU8(ds(t));return}if(e instanceof ns){r.serializeU16(ds(t));return}if(e instanceof is){r.serializeU32(ds(t));return}if(e instanceof Pi){r.serializeU64(ls(t));return}if(e instanceof Ci){r.serializeU128(ls(t));return}if(e instanceof ss){r.serializeU256(ls(t));return}if(e instanceof fi){let n;if(typeof t=="string"||t instanceof Fe)n=zt.fromHex(t);else if(t instanceof zt)n=t;else throw new Error("Invalid account address.");n.serialize(r);return}if(e instanceof as){if(e.value instanceof Dn){if(t instanceof Uint8Array){r.serializeBytes(t);return}if(typeof t=="string"){r.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(t.length),t.forEach(n=>Lo(n,e.value,r));return}if(e instanceof ki){const{address:n,module_name:i,name:s}=e.value;if(`${Fe.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Do(t,["string"]),r.serializeStr(t);return}throw new Error("Unsupported arg type.")}function _1(t,e){if(e instanceof Ri)return new ko(M0(t));if(e instanceof Dn)return new Eo(ds(t));if(e instanceof ns)return new So(ds(t));if(e instanceof is)return new Ao(ds(t));if(e instanceof Pi)return new _o(ls(t));if(e instanceof Ci)return new To(ls(t));if(e instanceof ss)return new Ro(ls(t));if(e instanceof fi){let r;if(typeof t=="string"||t instanceof Fe)r=zt.fromHex(t);else if(t instanceof zt)r=t;else throw new Error("Invalid account address.");return new Po(r)}if(e instanceof as&&e.value instanceof Dn){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Co(t)}throw new Error("Unknown type for TransactionArgument.")}var T1="APTOS::RawTransaction",R1="APTOS::RawTransactionWithData",hs=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,r)}static getSigningMessage(t){const e=es.create();if(t instanceof cs)e.update(T1);else if(t instanceof go)e.update(R1);else throw new Error("Unknown transaction type.");const r=e.digest(),n=Mn(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},Fo=class extends hs{constructor(t,e,r){super(t,r),this.publicKey=e}rawToSigned(t){const e=hs.getSigningMessage(t),r=this.signingFunction(e),n=new po(new Vr(this.publicKey),r);return new aa(t,n)}sign(t){return Mn(this.rawToSigned(t))}},P1=class extends hs{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=hs.getSigningMessage(t),r=this.signingFunction(e),n=new yo(this.publicKey,r);return new aa(t,n)}sign(t){return Mn(this.rawToSigned(t))}},xu=class{constructor(t,e){this.abiMap=new Map,t.forEach(r=>{const n=new tu(r),i=Io.deserialize(n);let s;if(i instanceof us){const a=i,{address:o,name:d}=a.module_name;s=`${Fe.fromUint8Array(o.address).toShortString()}::${d.value}::${a.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(i0),expSecFromNow:s0,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>{const i=new Kt;return Lo(r,t[n].type_tag,i),i.getBytes()})}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>_1(r,t[n].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,r){const n=e.map(a=>new os(a).parseTypeTag());let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof us){const a=s,o=xu.toBCSArgs(a.args,r);i=new wo(new Bi(a.module_name,new gr(a.name),n,o))}else if(s instanceof Bo){const a=s,o=xu.toTransactionArguments(a.args,r);i=new mo(new bo(a.code,n,o))}else throw new Error("Unknown ABI format.");return i}build(t,e,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:d}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const p=n instanceof zt?n:zt.fromHex(n),v=BigInt(Math.floor(Date.now()/1e3)+Number(o)),A=this.buildTransactionPayload(t,e,r);if(A)return new cs(p,BigInt(i),A,BigInt(a),BigInt(s),v,new vo(Number(d)));throw new Error("Invalid ABI.")}},ir=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const r=(await this.aptosClient.getAccountModules(t)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return r.forEach(i=>{n.set(i.fullName,i)}),n}async build(t,e,r){if(t=(Ke=>Ke.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,a]=t.split("::"),o=await this.fetchABI(s);if(!o.has(t))throw new Error(`${t} doesn't exist.`);const d=o.get(t),v=d.params.filter(Ke=>Ke!=="signer"&&Ke!=="&signer").map((Ke,Et)=>new ua(`var${Et}`,new os(Ke,e).parseTypeTag())),A=new us(d.name,Ui.fromStr(`${s}::${a}`),"",d.generic_type_params.map((Ke,Et)=>new ca(`${Et}`)),v),{sender:L,...G}=this.builderConfig,q=L instanceof zt?Fe.fromUint8Array(L.address):L,[{sequence_number:Q},fe,{gas_estimate:Ce}]=await Promise.all([G!=null&&G.sequenceNumber?Promise.resolve({sequence_number:G==null?void 0:G.sequenceNumber}):this.aptosClient.getAccount(q),G!=null&&G.chainId?Promise.resolve(G==null?void 0:G.chainId):this.aptosClient.getChainId(),G!=null&&G.gasUnitPrice?Promise.resolve({gas_estimate:G==null?void 0:G.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new xu([Mn(A)],{sender:L,sequenceNumber:Q,chainId:fe,gasUnitPrice:BigInt(Ce),...G}).build(t,e,r)}};_t([My(10*60*1e3)],ir.prototype,"fetchABI",1);var da=class{constructor(t,e,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};r?this.nodeUrl=t:this.nodeUrl=Ny(t),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new B0(n)}async getAccount(t){return this.client.accounts.getAccount(Fe.ensure(t).hex())}async getAccountTransactions(t,e){var r;return this.client.transactions.getAccountTransactions(Fe.ensure(t).hex(),(r=e==null?void 0:e.start)==null?void 0:r.toString(),e==null?void 0:e.limit)}async getAccountModules(t,e){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await c0(r,t,1e3,e)}async getAccountModule(t,e,r){var n;return this.client.accounts.getAccountModule(Fe.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(t,e){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await c0(r,t,9999,e)}async getAccountResource(t,e,r){var n;return this.client.accounts.getAccountResource(Fe.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(t,e){return new Fo(n=>{const i=t.signBuffer(n);return new Tt.Ed25519Signature(i.toUint8Array())},t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new Fo(n=>{const i=new Uint8Array(64);return new Tt.Ed25519Signature(i)},t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,r){const n={sender:t};if(r!=null&&r.sequence_number&&(n.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(n.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(n.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const s=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new ir(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(da.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,r){var n;return this.client.events.getEventsByCreationNumber(Fe.ensure(t).hex(),e.toString(),(n=r==null?void 0:r.start)==null?void 0:n.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(t,e,r,n){var i;return this.client.events.getEventsByEventHandle(Fe.ensure(t).hex(),e,r,(i=n==null?void 0:n.start)==null?void 0:i.toString(),n==null?void 0:n.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,r){let n;return t instanceof Oo?n=da.generateBCSSimulation(t,e):t instanceof ra?n=new P1(()=>{const{threshold:s}=t,a=[],o=[];for(let p=0;p<s;p+=1)a.push(p),o.push(new Tt.Ed25519Signature(new Uint8Array(64)));const d=Tt.MultiEd25519Signature.createBitmap(a);return new Tt.MultiEd25519Signature(o,d)},t).sign(e):n=new Fo(()=>{const s=new Uint8Array(64);return new Tt.Ed25519Signature(s)},t.toBytes()).sign(e),this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var r,n,i;const s={estimate_gas_unit_price:(r=e==null?void 0:e.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions((e=t==null?void 0:t.start)==null?void 0:e.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(t,e){var r,n;const i=(r=e==null?void 0:e.timeoutSecs)!=null?r:a0,s=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,d;for(;a&&!(o>=i);){try{if(d=await this.client.transactions.getTransactionByHash(t),a=d.type==="pending_transaction",!a)break}catch(p){const v=p instanceof fa,A=v&&p.status!==404&&p.status>=400&&p.status<500;if(!v||A)throw p}await Oy(1e3),o+=1}if(d===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new k1(`Waiting for transaction ${t} timed out after ${i} seconds`,d);if(!s)return d;if(!(d!=null&&d.success))throw new I1(`Transaction ${t} committed to the blockchain but execution failed`,d);return d}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,r){var n;return await this.client.tables.getTableItem(t,e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(t,e,r){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:d}={maxGasAmount:BigInt(i0),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+s0),...r};return new Tt.RawTransaction(Tt.AccountAddress.fromHex(t),BigInt(n),e,a,o,d,new Tt.ChainId(i))}async generateSignSubmitTransaction(t,e,r){const n=await this.generateRawTransaction(t.address(),e,r),i=da.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(t,e,r,n){const i=new Kt;Or(r,i);const s=new Tt.TransactionPayloadEntryFunction(Tt.EntryFunction.natural("0x1::code","publish_package_txn",[],[rs(e),i.getBytes()]));return this.generateSignSubmitTransaction(t,s,n)}async generateSignSubmitWaitForTransaction(t,e,r){const n=await this.generateSignSubmitTransaction(t,e,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const e=`0x1::coin::CoinStore<${eu}>`,[{gas_estimate:r},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),i=n.find(a=>a.type===e);return BigInt(i.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(t,e,r){const{sequence_number:n,authentication_key:i}=await this.getAccount(t.address()),s=new Oo(e),a=new Tt.RotationProofChallenge(Tt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),Tt.AccountAddress.fromHex(t.address()),new Tt.AccountAddress(new Fe(i).toUint8Array()),s.pubKey().toUint8Array()),o=Fe.fromUint8Array(Mn(a)),d=t.signHexString(o),p=s.signHexString(o),v=new Tt.TransactionPayloadEntryFunction(Tt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[ru(0),rs(t.pubKey().toUint8Array()),ru(0),rs(s.pubKey().toUint8Array()),rs(d.toUint8Array()),rs(p.toUint8Array())])),A=await this.generateRawTransaction(t.address(),v,r),L=da.generateBCSTransaction(t,A);return this.submitSignedBCSTransaction(L)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=e.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:Fe.ensure(t).hex()});return new Fe(n)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){Dy(t)}},dt=da;_t([Xt],dt.prototype,"getAccount",1),_t([Xt],dt.prototype,"getAccountTransactions",1),_t([Xt],dt.prototype,"getAccountModules",1),_t([Xt],dt.prototype,"getAccountModule",1),_t([Xt],dt.prototype,"getAccountResources",1),_t([Xt],dt.prototype,"getAccountResource",1),_t([Xt],dt.prototype,"getEventsByCreationNumber",1),_t([Xt],dt.prototype,"getEventsByEventHandle",1),_t([Xt],dt.prototype,"submitSignedBCSTransaction",1),_t([Xt],dt.prototype,"submitBCSSimulation",1),_t([Xt],dt.prototype,"getTransactions",1),_t([Xt],dt.prototype,"getTransactionByHash",1),_t([Xt],dt.prototype,"getTransactionByVersion",1),_t([Xt],dt.prototype,"getLedgerInfo",1),_t([uo()],dt.prototype,"getChainId",1),_t([Xt],dt.prototype,"getTableItem",1),_t([Xt,uo({ttlMs:5*60*1e3,tags:["gas_estimates"]})],dt.prototype,"estimateGasPrice",1),_t([Xt],dt.prototype,"estimateMaxGasAmount",1),_t([Xt],dt.prototype,"getBlockByHeight",1),_t([Xt],dt.prototype,"getBlockByVersion",1),_t([Xt],dt.prototype,"view",1);var C1=class extends Error{constructor(t,e,r,n){super(e),this.status=t,this.message=e,this.errorCode=r,this.vmErrorCode=n}},k1=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},I1=class extends Error{constructor(t,e){super(t),this.transaction=e}};function Xt(t,e,r){const n=r.value;return r.value=async function(...s){var a,o;try{return await n.apply(this,[...s])}catch(d){throw d instanceof fa?new C1(d.status,JSON.stringify({message:d.message,...d.body}),(a=d.body)==null?void 0:a.error_code,(o=d.body)==null?void 0:o.vm_error_code):d}},r}var D0=class{constructor(t,e,r=!1){let n=null,i=null;if(typeof t=="object"&&B1(t)?(n=t.fullnodeUrl,i=t.indexerUrl,this.network="CUSTOM"):(n=Fy[t],i=Ly[t],this.network=t),!n||!i)throw new Error("network is not provided");this.aptosClient=new dt(n,e,r),this.indexerClient=new mn(i)}};function L0(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...s){return this[r][n](...s)},Object.defineProperty(t.prototype,n,i))})}L0(D0,dt,"aptosClient"),L0(D0,mn,"indexerClient");function B1(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var F0=class{constructor(t,e){this.type=t,this.value=e}},pu=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function yu(t){let e;return t==="string"||t==="String"?e=new ki(f0):e=new os(t).parseTypeTag(),e}function bu(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const r=new Array;return e.forEach((n,i)=>{try{const s=yu(n),a=new Kt;Lo(t[i],s,a),r.push(a.getBytes())}catch{r.push(new TextEncoder().encode(t[i]))}}),r}function H0(t,e){if(!t||!e)throw new Error("value or type can not be empty");try{const r=yu(e),n=new Kt;return Lo(t,r,n),n.getBytes()}catch{return new TextEncoder().encode(t)}}function K0(t){const e=t.map.data,r=new pu;return e.forEach(n=>{const{key:i}=n,s=n.value.value,a=n.value.type,o=yu(a),d=U1(o,s),p=new F0(a,d);r.setProperty(i,p)}),r}function U1(t,e){const r=new tu(new Fe(e).toUint8Array());let n="";return t instanceof Dn?n=r.deserializeU8().toString():t instanceof Pi?n=r.deserializeU64().toString():t instanceof Ci?n=r.deserializeU128().toString():t instanceof Ri?n=r.deserializeBool()?"true":"false":t instanceof fi?n=Fe.fromUint8Array(r.deserializeFixedBytes(32)).hex():t instanceof ki&&t.isStringTypeTag()?n=r.deserializeStr():n=e,n}var O1={};co(O1,{PropertyMap:()=>pu,PropertyValue:()=>F0,Token:()=>$0,TokenData:()=>z0});var z0=class{constructor(t,e,r,n,i,s,a,o){this.collection=t,this.description=e,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=K0(a),this.mutability_config=o}},$0=class{constructor(t,e,r){this.id=t,this.amount=e,this.token_properties=K0(r)}},Am=class{constructor(t){this.aptosClient=t}async createCollection(t,e,r,n,i=ts,s){const o=await new ir(this.aptosClient,{sender:t.address(),...s}).build("0x3::token::create_collection_script",[],[e,r,n,i,[!1,!1,!1]]),d=dt.generateBCSTransaction(t,o);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async createToken(t,e,r,n,i,s,a=ts,o=t.address(),d=0,p=0,v=[],A=[],L=[],G){const Q=await new ir(this.aptosClient,{sender:t.address(),...G}).build("0x3::token::create_token_script",[],[e,r,n,i,a,s,o,d,p,[!1,!1,!1,!1,!1],v,bu(A,L),L]),fe=dt.generateBCSTransaction(t,Q);return(await this.aptosClient.submitSignedBCSTransaction(fe)).hash}async createTokenWithMutabilityConfig(t,e,r,n,i,s,a=ts,o=t.address(),d=0,p=0,v=[],A=[],L=[],G=[!1,!1,!1,!1,!1],q){const fe=await new ir(this.aptosClient,{sender:t.address(),...q}).build("0x3::token::create_token_script",[],[e,r,n,i,a,s,o,d,p,G,v,A,L]),Ce=dt.generateBCSTransaction(t,fe);return(await this.aptosClient.submitSignedBCSTransaction(Ce)).hash}async offerToken(t,e,r,n,i,s,a=0,o){const p=await new ir(this.aptosClient,{sender:t.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,r,n,i,a,s]),v=dt.generateBCSTransaction(t,p);return(await this.aptosClient.submitSignedBCSTransaction(v)).hash}async claimToken(t,e,r,n,i,s=0,a){const d=await new ir(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,r,n,i,s]),p=dt.generateBCSTransaction(t,d);return(await this.aptosClient.submitSignedBCSTransaction(p)).hash}async cancelTokenOffer(t,e,r,n,i,s=0,a){const d=await new ir(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,r,n,i,s]),p=dt.generateBCSTransaction(t,d);return(await this.aptosClient.submitSignedBCSTransaction(p)).hash}async directTransferToken(t,e,r,n,i,s,a=0,o){const p=await new ir(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::direct_transfer_script",[],[r,n,i,a,s]),v=new Tt.MultiAgentRawTransaction(p,[Tt.AccountAddress.fromHex(e.address())]),A=new Tt.Ed25519Signature(t.signBuffer(hs.getSigningMessage(v)).toUint8Array()),L=new Tt.AccountAuthenticatorEd25519(new Tt.Ed25519PublicKey(t.signingKey.publicKey),A),G=new Tt.Ed25519Signature(e.signBuffer(hs.getSigningMessage(v)).toUint8Array()),q=new Tt.AccountAuthenticatorEd25519(new Tt.Ed25519PublicKey(e.signingKey.publicKey),G),Q=new Tt.TransactionAuthenticatorMultiAgent(L,[Tt.AccountAddress.fromHex(e.address())],[q]),fe=Mn(new Tt.SignedTransaction(p,Q));return(await this.aptosClient.submitSignedBCSTransaction(fe)).hash}async optInTokenTransfer(t,e,r){const i=await new ir(this.aptosClient,{sender:t.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[e]),s=dt.generateBCSTransaction(t,i);return(await this.aptosClient.submitSignedBCSTransaction(s)).hash}async transferWithOptIn(t,e,r,n,i,s,a,o){const p=await new ir(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,r,n,i,s,a]),v=dt.generateBCSTransaction(t,p);return(await this.aptosClient.submitSignedBCSTransaction(v)).hash}async burnByCreator(t,e,r,n,i,s,a){const d=await new ir(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn_by_creator",[],[e,r,n,i,s]),p=dt.generateBCSTransaction(t,d);return(await this.aptosClient.submitSignedBCSTransaction(p)).hash}async burnByOwner(t,e,r,n,i,s,a){const d=await new ir(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn",[],[e,r,n,i,s]),p=dt.generateBCSTransaction(t,d);return(await this.aptosClient.submitSignedBCSTransaction(p)).hash}async mutateTokenProperties(t,e,r,n,i,s,a,o,d,p,v){const L=await new ir(this.aptosClient,{sender:t.address(),...v}).build("0x3::token::mutate_token_properties",[],[e,r,n,i,s,a,o,d,p]),G=dt.generateBCSTransaction(t,L);return(await this.aptosClient.submitSignedBCSTransaction(G)).hash}async getCollectionData(t,e){const n=(await this.aptosClient.getAccountResources(t)).find(o=>o.type==="0x3::token::Collections"),{handle:i}=n.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(t,e,r){const n=t instanceof Fe?t.hex():t,i=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:s}=i.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:r}},d=await this.aptosClient.getTableItem(s,o);return new z0(d.collection,d.description,d.name,d.maximum,d.supply,d.uri,d.default_properties,d.mutability_config)}async getToken(t,e,r,n="0"){const i={creator:t instanceof Fe?t.hex():t,collection:e,name:r};return this.getTokenForAccount(t,{token_data_id:i,property_version:n})}async getTokenForAccount(t,e){const r=await this.aptosClient.getAccountResource(t instanceof Fe?t.hex():t,"0x3::token::TokenStore"),{handle:n}=r.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(n,i);return new $0(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new pu}:s}}},xs={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},_m=class{constructor(t){this.tokenType="0x4::token::Token",this.provider=t}async submitTransaction(t,e,r,n,i){const a=await new ir(this.provider,{sender:t.address(),...i}).build(`0x4::aptos_token::${e}`,r,n),o=dt.generateBCSTransaction(t,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(t,e,r,n,i=ts,s,a){var o,d,p,v,A,L,G,q,Q,fe,Ce;return this.submitTransaction(t,"create_collection",[],[e,i,r,n,(o=s==null?void 0:s.mutableDescription)!=null?o:!0,(d=s==null?void 0:s.mutableRoyalty)!=null?d:!0,(p=s==null?void 0:s.mutableURI)!=null?p:!0,(v=s==null?void 0:s.mutableTokenDescription)!=null?v:!0,(A=s==null?void 0:s.mutableTokenName)!=null?A:!0,(L=s==null?void 0:s.mutableTokenProperties)!=null?L:!0,(G=s==null?void 0:s.mutableTokenURI)!=null?G:!0,(q=s==null?void 0:s.tokensBurnableByCreator)!=null?q:!0,(Q=s==null?void 0:s.tokensFreezableByCreator)!=null?Q:!0,(fe=s==null?void 0:s.royaltyNumerator)!=null?fe:0,(Ce=s==null?void 0:s.royaltyDenominator)!=null?Ce:0],a)}async mint(t,e,r,n,i,s=[],a=[],o=[],d){return this.submitTransaction(t,"mint",[],[e,r,n,i,s,a,bu(o,a)],d)}async mintSoulBound(t,e,r,n,i,s,a=[],o=[],d=[],p){return this.submitTransaction(t,"mint_soul_bound",[],[e,r,n,i,a,o,bu(d,o),s.address().hex()],p)}async burnToken(t,e,r,n){return this.submitTransaction(t,"burn",[r||this.tokenType],[Fe.ensure(e).hex()],n)}async freezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"freeze_transfer",[r||this.tokenType],[Fe.ensure(e).hex()],n)}async unfreezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"unfreeze_transfer",[r||this.tokenType],[Fe.ensure(e).hex()],n)}async setTokenDescription(t,e,r,n,i){return this.submitTransaction(t,"set_description",[n||this.tokenType],[Fe.ensure(e).hex(),r],i)}async setTokenName(t,e,r,n,i){return this.submitTransaction(t,"set_name",[n||this.tokenType],[Fe.ensure(e).hex(),r],i)}async setTokenURI(t,e,r,n,i){return this.submitTransaction(t,"set_uri",[n||this.tokenType],[Fe.ensure(e).hex(),r],i)}async addTokenProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"add_property",[s||this.tokenType],[Fe.ensure(e).hex(),r,xs[n],H0(i,xs[n])],a)}async removeTokenProperty(t,e,r,n,i){return this.submitTransaction(t,"remove_property",[n||this.tokenType],[Fe.ensure(e).hex(),r],i)}async updateTokenProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"update_property",[s||this.tokenType],[Fe.ensure(e).hex(),r,xs[n],H0(i,xs[n])],a)}async addTypedProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"add_typed_property",[s||this.tokenType,xs[n]],[Fe.ensure(e).hex(),r,i],a)}async updateTypedProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"update_typed_property",[s||this.tokenType,xs[n]],[Fe.ensure(e).hex(),r,i],a)}async transferTokenOwnership(t,e,r,n,i){const a=await new ir(this.provider.aptosClient,{sender:t.address(),...i}).build("0x1::object::transfer",[n||this.tokenType],[Fe.ensure(e).hex(),Fe.ensure(r).hex()]),o=dt.generateBCSTransaction(t,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},Tm=class{constructor(t){this.aptosClient=t}async transfer(t,e,r,n){var i;const s=(i=n==null?void 0:n.coinType)!=null?i:eu,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=b0(e),p=await new ir(this.aptosClient,{sender:t.address(),...n}).build(a,[s],[o,r]),v=dt.generateBCSTransaction(t,p);return(await this.aptosClient.submitSignedBCSTransaction(v)).hash}async checkBalance(t,e){var r;const i=`0x1::coin::CoinStore<${(r=e==null?void 0:e.coinType)!=null?r:eu}>`,s=b0(t),a=await this.aptosClient.getAccountResource(s,i);return BigInt(a.data.coin.value)}},Rm=class extends null{constructor(t,e,r){var n,i,s;if(super(t,r),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new A0({BASE:e,VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(i=r==null?void 0:r.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=r==null?void 0:r.CREDENTIALS)!=null?s:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH})}async fundAccount(t,e,r=a0){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:Fe.ensure(t).noPrefix(),amount:e}}),i=[];for(let s=0;s<n.length;s+=1){const a=n[s];i.push(this.waitForTransaction(a,{timeoutSecs:r}))}return await Promise.all(i),n}},q0=x(55872).Buffer;class N1 extends Ja{constructor(r){super(r);O(this,"signerInstance");O(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new dt(this.providerUrl))}async getTx(r){const i=await(await this.getProvider()).waitForTransactionWithResult(r,{timeoutSecs:1,checkSuccess:!0}),s=i==null?void 0:i.payload;if(!i.success)throw new Error((i==null?void 0:i.vm_status)??"Unknown Aptos error");if(!((s==null?void 0:s.function)==="0x1::coin::transfer"&&(s==null?void 0:s.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(i==null?void 0:i.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${r} failed validation`);const a=i.type==="pending_transaction";return{to:s.arguments[0],from:i.sender,amount:new Qe.Z(s.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(r){const n=df.sha3_256.create();return n.update(q0.from(r)),n.update("\0"),`0x${n.hex()}`}async sign(r){return await this.getSigner().sign(r)}getSigner(){return this.signerInstance??(this.signerInstance=new Ka(this.wallet,this._publicKey))}async verify(r,n,i){return await Ka.verify(r,n,i)}async getCurrentHeight(){return new Qe.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(r,n){const i=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new ir(i,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new Qe.Z(r).toNumber()]),d=new Fo(A=>{const L=new Uint8Array(64);return new Tt.Ed25519Signature(L)},await this.getPublicKey()).sign(a),p={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},v=await i.client.request.request({url:"/transactions/simulate",query:p,method:"POST",body:d,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+v[0].gas_unit_price,maxGasAmount:+v[0].max_gas_amount}}async sendTx(r){return(await this.wallet.signAndSubmitTransaction(r)).hash}async createTx(r,n,i){return{txId:void 0,tx:{arguments:[n,new Qe.Z(r).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=q0.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const r=await this.getProvider();this._address=await r.lookupOriginalAddress(this.address??"").then(i=>i.toString()).catch(i=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class M1 extends Xa{}class D1 extends Xa{async createTx(e,r,n){const i=this.w3signer,s={to:r,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(s);return s.gasLimit=a,{tx:await i.populateTransaction(s),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new Qe.Z(n.blockNumber):void 0,amount:new Qe.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const r=await e.getSigner();r._signTypedData=async(n,i,s)=>r.signTypedData(n,i,s),e.getSigner=()=>r,this.wallet=e,await super.ready()}}function L1(t){switch(t.token){case"ethereum":return ps("ethereum",t.providerName,{irys:t.irys,name:"ethereum",ticker:"ETH",providerUrl:t.providerUrl??"https://cloudflare-eth.com/",wallet:t.wallet});case"matic":return ps("ethereum",t.providerName,{irys:t.irys,name:"matic",ticker:"MATIC",providerUrl:t.providerUrl??"https://polygon-rpc.com",wallet:t.wallet,minConfirm:1});case"arbitrum":return ps("ethereum",t.providerName,{irys:t.irys,name:"arbitrum",ticker:"ETH",providerUrl:t.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:t.wallet});case"bnb":return ps("ethereum",t.providerName,{irys:t.irys,name:"bnb",ticker:"BNB",providerUrl:t.providerUrl??"https://bsc-dataseed.binance.org",wallet:t.wallet});case"avalanche":return ps("ethereum",t.providerName,{irys:t.irys,name:"avalanche",ticker:"AVAX",providerUrl:t.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:t.wallet});case"boba-eth":return ps("ethereum",t.providerName,{irys:t.irys,name:"boba-eth",ticker:"ETH",providerUrl:t.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:t.wallet});case"boba":{const e=new Lp({irys:t.irys,name:"boba",ticker:"BOBA",providerUrl:t.providerUrl??"https://mainnet.boba.network/",contractAddress:t.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t.wallet});return e.price=async()=>{var n;const r=await bs.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await ar.checkAndThrow(r,"Getting price data"),!((n=r==null?void 0:r.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+r.data.rate},e}case"solana":return new np({irys:t.irys,name:"solana",ticker:"SOL",providerUrl:t.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:t.wallet});case"near":return new tp({irys:t.irys,name:"near",ticker:"NEAR",providerUrl:t.providerUrl??"https://rpc.mainnet.near.org",wallet:t.wallet});case"aptos":return new N1({irys:t.irys,name:"aptos",ticker:"APTOS",providerUrl:t.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:t.wallet});default:throw new Error(`Unknown/Unsupported token ${t.token}`)}}function ps(t,e,r){switch(t){case"ethereum":switch(e){case"ethersv5":return new M1(r);case"ethersv6":return new D1(r);default:return new Xa(r)}}}class F1{constructor(e){O(this,"irys");this.irys=e}async upload(e,r){return this.irys.uploadWithReceipt(e,r)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([r,n])=>({name:j0[r],value:n}))})}async getAllProofs(e,r){var o,d;const n=Object.entries(e).map(([p,v])=>({name:j0[p],values:[v]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const i=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,s=[];let a=null;do{const p=await this.irys.api.post("/graphql",{query:i,variables:{tags:n,limit:(r==null?void 0:r.limit)??null,after:a}},void 0);a=(d=(o=p.data.data.transactions)==null?void 0:o.pageInfo)!=null&&d.hasNextPage?p.data.data.transactions.pageInfo.endCursor:null,s.push(...p.data.data.transactions.edges.map(v=>v.node))}while(a);return s}async getProof(e){const r=(await this.getAllProofs(e,{limit:1})).at(0);if(!r)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return r}}const j0={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class H1{constructor(e){O(this,"irys");this.irys=e}async getById(e){const r=(await this.query({ids:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with id ${e}`);return r}async getByOwner(e){const r=(await this.query({owners:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with owner ${e}`);return r}async getByTag(e,r){const n=(await this.query({tags:[{name:e,values:[r]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${r}`);return n}async query(e){var s,a;const r=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let i=null;do{const o=await this.irys.api.post("/graphql",{query:r,variables:{...e,after:i??e.after}},void 0);i=(a=(s=o.data.data.transactions)==null?void 0:s.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(d=>d.node))}while(i);return n}}var K1=x(14676),z1=x(72100);const $1=Symbol("not readable"),q1=Symbol("readable"),j1=Symbol("ended"),G1=Symbol("errored"),xr={notReadable:$1,readable:q1,ended:j1,errored:G1};class W1{constructor(e,{size:r}={}){O(this,"_stream");O(this,"_error");O(this,"_state",xr.notReadable);O(this,"_size");O(this,"_rejections",new Set);this._stream=e,this._size=r;const n=["_handleStreamEnd","_handleStreamError"];for(const i of n)Object.defineProperty(this,i,{configurable:!0,writable:!0,value:this[i].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=xr.readable})}get closed(){return this._state===xr.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case xr.notReadable:{let e,r;try{e=this._untilReadable(),r=this._untilEnd(),await Promise.race([e.promise,r.promise])}finally{e!=null&&e.close(),r!=null&&r.close()}return this.next()}case xr.ended:return this.close(),{done:!0,value:void 0};case xr.errored:throw this.close(),this._error;case xr.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=xr.notReadable,await new Promise(r=>setTimeout(n=>n(!0),0,r)),this.next())}}}_untilReadable(){let e;const r=new Promise((i,s)=>{e=()=>{this._state=xr.readable,this._rejections.delete(s),i()},this._state,xr.readable,this._stream.once("readable",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:r}}_untilEnd(){let e;const r=new Promise((i,s)=>{e=()=>{this._state=xr.ended,this._rejections.delete(s),i()},this._stream.once("end",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:r}}return(){return this._state=xr.ended,this.next()}throw(e){return this._error=e,this._state=xr.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=xr.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=xr.errored;for(const r of this._rejections)r(e)}_handleStreamEnd(){this._state=xr.ended}get state(){return this._state}}var ys=x(55872).Buffer;class V1 extends z1.EventEmitter{constructor(r,n){super({captureRejections:!0});O(this,"tokenConfig");O(this,"api");O(this,"uploadID");O(this,"token");O(this,"chunkSize");O(this,"batchSize");O(this,"paused",!1);O(this,"isResume",!1);O(this,"uploadOptions");O(this,"arbundles");this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(r){return r&&(this.uploadID=r,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(r){if(r<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=r,this}setBatchSize(r){if(r<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=r,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(r,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(r)?this.runUpload(r.getRaw()):this.runUpload(r)}async uploadData(r,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(r,{...n})}async runUpload(r,n){var wn;let i=this.uploadID;const s=n===void 0,a={"x-chunking-version":"2"};let o;if(!i)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),ar.checkAndThrow(o,"Getting upload token"),this.uploadID=i=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${i}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(ar.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:d,min:p}=o.data;if(this.chunkSize<+p||this.chunkSize>+d)throw new Error(`Chunk size out of allowed range: ${p} - ${d}`);let v=0;const A=(et,Nt,pr)=>new Promise(Ni=>{Vn(async wu=>{await this.api.post(`/chunks/${this.token}/${i}/${Nt}`,et,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(li=>{if((li==null?void 0:li.status)>=300){const rl={res:li,id:pr,offset:Nt,size:et.length};throw this.emit("chunkError",rl),(li==null?void 0:li.status)===402&&wu(new Error("Not enough funds to send data")),rl}this.emit("chunkUpload",{id:pr,offset:Nt,size:et.length,totalUploaded:v+=et.length}),Ni({o:Nt,d:li})})})}),L=o.data.chunks??[],G=new gs.PassThrough;let q=ys.alloc(0),Q=!1,fe=!0;G.on("end",()=>Q=!0),G.on("error",et=>{throw new Error(`Error processing readable: ${et}`)});const Ce=async et=>{for(;!Q;){if(q.length>=et)return Nt=ys.from(q.slice(0,et)),q=q.slice(et),Nt;var Nt=G.read(et);if(Nt===null){await new Promise(pr=>setTimeout(Ni=>Ni(!0),0,pr));continue}if(Nt.length===et)return Nt;q=ys.concat([q,Nt])}for(;q.length>=et;)return Nt=ys.from(q.slice(0,et)),q=q.slice(et),Nt;return fe=!1,q};let Ge,Ke;if(!s){Ge=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??Cn.randomBytes(32).toString("base64").slice(0,32)});const et=Ge.getRaw();Ke=et.length,G.write(et),v-=et.length}if(ys.isBuffer(r))G.write(r),G.end();else if("pipe"in r)r.pipe(G);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let Et=0;const wt=new Set;let er=0,sr,St,$t;if(!s){St=new gs.PassThrough;const et=Ge.getRaw().length;if(this.chunkSize<Ke)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${Ke})`);sr=await Ce(this.chunkSize),er++,Et+=sr.length,St.write(sr.slice(et));const Nt=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(Ge.signatureType.toString()),Ge.rawOwner,Ge.rawTarget,Ge.rawAnchor,Ge.rawTags,new W1(St)];$t=this.arbundles.deepHash(Nt)}let mr=L.pop();for(;fe;){if(this.paused&&await new Promise(pr=>this.on("resume",()=>pr(void 0))),mr&&+mr[0]-Et<=this.chunkSize){const Ni=mr[1],wu=await Ce(Ni);s||St.write(wu),Et+=Ni,mr=L.pop(),er++,v+=Ni;continue}const et=await Ce(this.chunkSize);for(s||St.write(et);wt.size>=this.batchSize;){const[pr]=await Promise.race(wt);wt.delete(pr)}const Nt=(async()=>await A(et,Et,++er))().then(pr=>[Nt,pr]);wt.add(Nt),Et+=et.length}if(St&&St.end(),await Promise.all(wt),!s){const et=await $t,Nt=ys.from(await this.tokenConfig.getSigner().sign(et));sr.set(Nt,2),await A(sr,0,0)}const Ot=await this.api.post(`/chunks/${this.token}/${i}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((wn=this.api.config)==null?void 0:wn.timeout)??4e4*10});if(Ot.status===402)throw new Error("Not enough funds to send data");if(ar.checkAndThrow(Ot,"Finalising upload",[201]),Ot.status===201)throw new Error(Ot.data);return Ot.data.verify=ar.verifyReceipt.bind({},this.arbundles,Ot.data.data),this.emit("done",Ot),Ot}get completionPromise(){return new Promise(r=>this.on("done",r))}}var gu=x(55872).Buffer;const Pm=t=>new Promise(e=>setTimeout(e,t)),G0=5e7;class J1{constructor(e,r,n,i,s){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"utils");O(this,"contentTypeOverride");O(this,"forceUseChunking");O(this,"arbundles");O(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=r,this.irysTransaction=s}async uploadTransaction(e,r){let n;const i=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||i&&e.getRaw().length>=G0||!i)n=await this.chunkedUploader.uploadTransaction(i?e.getRaw():e,r);else{const{url:s,timeout:a,headers:o}=this.api.getConfig(),d={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,s).toString(),e.getRaw(),{headers:d,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,r){if(typeof e=="string"&&(e=gu.from(e)),gu.isBuffer(e)&&e.length<=G0){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...r,anchor:(r==null?void 0:r.anchor)??(0,Cn.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...r==null?void 0:r.upload})).data}return(await this.chunkedUploader.uploadData(e,r)).data}async concurrentUploader(e,r){const n=[],i=r!=null&&r.logFunction?r==null?void 0:r.logFunction:async o=>{},s=(r==null?void 0:r.concurrency)??5,a=await K1.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError(async(o,d)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,d,p)=>{await Vn(async v=>{try{const A=await this.processItem(o,r==null?void 0:r.itemOptions);return d%s==0&&await i(`Processed ${d} Items`),r!=null&&r.resultProcessor?await r.resultProcessor({item:o,res:A,i:d}):{item:o,res:A,i:d}}catch(A){throw(A==null?void 0:A.message)==="Not enough funds to send data"&&v(A),A}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,r){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...r==null?void 0:r.upload}):this.uploadData(e,r)}async generateManifest(e){const{items:r,indexFile:n}=e,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!r.has(n))throw new Error(`Unable to access item: ${n}`);i.index={path:n}}for(const[s,a]of r.entries())i.paths[s]={id:a};return i}get chunkedUploader(){return new V1(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,r){const n=(r==null?void 0:r.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),i=new ma(n),s=e.map(v=>this.arbundles.DataItem.isDataItem(v)?v:this.arbundles.createData(v,i)),a=await this.arbundles.bundleAndSignData(s,i),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const d=await this.uploadTransaction(o,r),p=ut(gu.from(await this.arbundles.getCryptoDriver().hash(ut.toBuffer(ut(i.publicKey)))));return{...d,txs:s,throwawayKey:n,throwawayKeyAddress:p}}}var W0=x(55872).Buffer;class V0 extends J1{constructor(r){super(r.api,r.utils,r.token,r.tokenConfig,r.IrysTransaction);O(this,"irys");this.irys=r}async uploadFile(r,n){const s=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:r.type}];return this.uploadData(W0.from(await r.arrayBuffer()),{tags:s,...n})}async uploadFolder(r,n){const i=[],s=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new ma(a);for(const A of r){const L=A.webkitRelativePath?A.webkitRelativePath:A.name,q=(A.tags?A.tags.some(({name:fe})=>fe.toLowerCase()==="content-type"):!1)?A.tags:[...A.tags??[],{name:"Content-Type",value:A.type}],Q=this.irys.arbundles.createData(W0.from(await A.arrayBuffer()),o,{tags:q});await Q.sign(o),i.push(Q),s.set(L,Q.id)}const d=await this.generateManifest({items:s,indexFile:n==null?void 0:n.indexFileRelPath}),p=this.irys.arbundles.createData(JSON.stringify(d),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await p.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(p,{...n})):(await p.sign(o),i.push(p));const v=await this.uploadBundle(i,{...n});return{...v.data,manifestId:p.id,manifest:d,throwawayKey:v.throwawayKey,throwawayKeyAddress:v.throwawayKeyAddress,txs:v.txs}}}class X1 extends qo{constructor({url:r,token:n,wallet:i,config:s}){switch(r){case void 0:case"node1":r="https://node1.irys.xyz";break;case"node2":r="https://node2.irys.xyz";break;case"devnet":r="https://devnet.irys.xyz";break}const a=new URL(r);super({url:a,arbundles:m});O(this,"tokenConfig");O(this,"uploader");O(this,"uploadFolder");O(this,"uploadFile");if(this.api=new yl({url:a,timeout:(s==null?void 0:s.timeout)??1e5,headers:s==null?void 0:s.headers}),this.tokenConfig=L1({irys:this,token:n.toLowerCase(),wallet:i==null?void 0:i.provider,providerUrl:(s==null?void 0:s.providerUrl)??(i==null?void 0:i.rpcUrl),contractAddress:s==null?void 0:s.contractAddress,providerName:i==null?void 0:i.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((s==null?void 0:s.providerUrl)??((i==null?void 0:i.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new ar(this.api,this.token,this.tokenConfig),this.uploader=new V0(this),this.funder=new bl(this.utils),this.uploader=new V0(this),this.provenance=new F1(this),this.transactions=new H1(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var J0=X1}}]);
}());