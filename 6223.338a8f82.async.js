"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[6223],{76223:function(Bn,z,e){e.d(z,{h:function(){return Pn}});var J=e(26068),E=e.n(J),V=e(15558),L=e.n(V),Y=e(67825),x=e.n(Y),b=e(50959),k=e(74016),q=e(65122),_=e(15826),nn=e(59869),en=e(31759),an=e.n(en),rn=e(90228),v=e.n(rn),tn=e(87999),p=e.n(tn),un=e(48305),U=e.n(un),G=e(51958),sn=e(57481),ln=e(12124),on=e(71161),cn=e(85054),dn=e(95562),vn=e(518),fn=e(45036),On=e(11742),hn=e(80602),Ln=function(t){return debug("antd-web3:wagmi:".concat(t))},S=function(t){return!!(t.type===hn.L.type&&t.icon&&t.id&&t.name)},mn="EIP6963",gn=function(t){return{connectors:[mn],create:function(d){var a=d==null?void 0:d[0],C={icon:a==null?void 0:a.icon,name:a.name,remark:"Wallet ".concat(a==null?void 0:a.name," detected"),key:a==null?void 0:a.id};return E()(E()({},C),{},{hasWalletReady:function(){var o=p()(v()().mark(function f(){return v()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a==null?void 0:a.getProvider();case 2:return i.abrupt("return",!!i.sent);case 3:case"end":return i.stop()}},f)}));function W(){return o.apply(this,arguments)}return W}(),hasExtensionInstalled:function(){var o=p()(v()().mark(function f(){return v()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a==null?void 0:a.getProvider();case 2:return i.abrupt("return",!!i.sent);case 3:case"end":return i.stop()}},f)}));function W(){return o.apply(this,arguments)}return W}()},t)}}},Cn=e(7209);function yn(l,t,g){return T.apply(this,arguments)}function T(){return T=p()(v()().mark(function l(t,g,d){var a;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,Cn.w)(t,{address:g.address,chainId:d});case 2:return a=o.sent,o.abrupt("return",E()(E()({},g),{},{name:a??void 0}));case 4:case"end":return o.stop()}},l)})),T.apply(this,arguments)}var pn=e(89905),Wn=e(38393);function An(l,t,g,d){return F.apply(this,arguments)}function F(){return F=p()(v()().mark(function l(t,g,d,a){var C,o;return v()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,Wn.L)(t,{address:(0,G.O)(g),args:[d],chainId:a,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return C=f.sent,f.next=5,(0,pn.X)(C);case 5:return o=f.sent,f.abrupt("return",o);case 7:case"end":return f.stop()}},l)})),F.apply(this,arguments)}var R=e(11527),In=function(t){var g=t.children,d=t.chainAssets,a=t.walletFactorys,C=t.availableChains,o=t.availableConnectors,W=t.ens,f=t.balance,P=t.locale,i=t.eip6963,$=(0,ln.m)(),j=$.address,N=$.isDisconnected,h=$.chain,Q=(0,on.Z)(),wn=b.useState(),H=U()(wn,2),D=H[0],M=H[1],En=(0,cn.$)(),$n=En.connectAsync,jn=(0,dn.o)(),B=jn.switchChain,Rn=(0,vn.q)(),Nn=Rn.disconnectAsync,Sn=b.useState(void 0),K=U()(Sn,2),A=K[0],X=K[1],Tn=(0,fn.K)({address:f&&D?(0,G.O)(D.address):void 0}),I=Tn.data;b.useEffect(function(){if(!j||N){M(void 0);return}var s=function(){var r=p()(v()().mark(function n(){var c;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c={address:j},M(c),!W){m.next=8;break}return m.t0=M,m.next=6,yn(Q,c);case 6:m.t1=m.sent,(0,m.t0)(m.t1);case 8:case"end":return m.stop()}},n)}));return function(){return r.apply(this,arguments)}}();s()},[j,N,h,W]);var Z=function(r){var n=o.find(function(u){return u.name===r&&!S(u)});if(!i)return n;var c=o.find(function(u){return u.name===r&&S(u)});return c||n},Fn=b.useMemo(function(){var s=[];o.forEach(function(n){if(S(n)){an()(i)==="object"&&i!==null&&i!==void 0&&i.autoAddInjectedWallets&&!a.find(function(u){return u.connectors.includes(n.name)})&&s.push(gn().create([n]));return}var c=a.find(function(u){return u.connectors.includes(n.name)});c!=null&&c.create||console.error("Can not find wallet factory for ".concat(n.name,", you should config it in WagmiWeb3ConfigProvider 'wallets'."))});var r=a.map(function(n){var c=n.connectors.map(Z).filter(function(u){return!!u});return c.length===0&&!i?(console.error("Can not find connector for ".concat(n.connectors.join(","),", ignore the wallet. Please config connectors or add eip6963 config in WagmiWeb3ConfigProvider.")),null):n.create(c)}).filter(function(n){return n!==null});return[].concat(L()(r),s)},[o,a,i]),Dn=b.useMemo(function(){return C.map(function(s){var r=d==null?void 0:d.find(function(n){return n.id===s.id});return r!=null&&r.id?{id:r.id,name:r.name,icon:r.icon}:(console.error("Can not find chain ".concat(s.id,", you should config it in WagmiWeb3ConfigProvider 'chains'.")),null)}).filter(function(s){return s!==null})},[C,d]);b.useEffect(function(){var s;if(!(!h&&A)){var r=h??C[0];if(r){var n=d==null?void 0:d.find(function(c){return c.id===(r==null?void 0:r.id)});(s=n)!==null&&s!==void 0&&s.id||(n={id:r.id,name:r.name}),X(n)}}},[h,d,C,A]);var O=A==null?void 0:A.nativeCurrency,Mn=b.useCallback(function(){var s=p()(v()().mark(function r(n){var c,u;return v()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c=n.address,u=n.tokenId,y.abrupt("return",An(Q,c,u,h==null?void 0:h.id));case 2:case"end":return y.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),[h==null?void 0:h.id]);return(0,R.jsx)(sn.B,{locale:P,availableChains:Dn,chain:A,account:D,balance:f?{symbol:I==null?void 0:I.symbol,value:I==null?void 0:I.value,decimals:I==null?void 0:I.decimals,icon:O==null?void 0:O.icon}:void 0,availableWallets:Fn,addressPrefix:"0x",connect:function(){var s=p()(v()().mark(function r(n,c){var u,m,y;return v()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,n==null||(u=(m=n).getWagmiConnector)===null||u===void 0?void 0:u.call(m,c);case 2:if(y=w.sent,!y&&n&&(y=Z(n.name)),y){w.next=6;break}throw new Error("Can not find connector for ".concat(n==null?void 0:n.name));case 6:return w.next=8,$n({connector:y,chainId:A==null?void 0:A.id});case 8:case"end":return w.stop()}},r)}));return function(r,n){return s.apply(this,arguments)}}(),disconnect:p()(v()().mark(function s(){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nn();case 2:case"end":return n.stop()}},s)})),switchChain:function(){var s=p()(v()().mark(function r(n){return v()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h){u.next=3;break}return X(n),u.abrupt("return");case 3:B==null||B({chainId:n.id});case 4:case"end":return u.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),getNFTMetadata:Mn,children:g})},bn=["children","wallets","chains","ens","locale","balance","config","queryClient","eip6963"];function Pn(l){var t=l.children,g=l.wallets,d=g===void 0?[]:g,a=l.chains,C=a===void 0?[]:a,o=l.ens,W=l.locale,f=l.balance,P=l.config,i=l.queryClient,$=l.eip6963,j=x()(l,bn),N=[].concat(L()(C),[k.ny]),h=b.useMemo(function(){return i??new q.S},[i]);return(0,R.jsx)(nn.F,E()(E()({config:P},j),{},{children:(0,R.jsx)(_.aH,{client:h,children:(0,R.jsx)(In,{locale:W,chainAssets:N,walletFactorys:d,availableChains:P.chains,availableConnectors:P.connectors,ens:o,balance:f,eip6963:$,children:t})})}))}}}]);
