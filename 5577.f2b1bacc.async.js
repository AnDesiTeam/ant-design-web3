"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[5577],{17453:function(nt,B,a){a.d(B,{Z:function(){return l}});var t=a(50959),P=a(71349),U=a(67536),I=a(21916),z=a(39388),A=a(37639),T=a(84875),w=a.n(T),x=a(10091),O=a(35019),M=a(70268),d=a(11145),o=a(41930),m=a(66050);const g=(n,e,s,i,c)=>({backgroundColor:n,border:`${i.lineWidth}px ${i.lineType} ${e}`,[`${c}-icon`]:{color:s}}),N=n=>{const{componentCls:e,motionDurationSlow:s,marginXS:i,marginSM:c,fontSize:h,fontSizeLG:u,lineHeight:p,borderRadiusLG:C,motionEaseInOutCirc:E,withDescriptionIconSize:D,colorText:$,colorTextHeading:v,withDescriptionPadding:f,defaultPadding:X}=n;return{[e]:Object.assign(Object.assign({},(0,o.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:X,wordWrap:"break-word",borderRadius:C,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:i,lineHeight:0},["&-description"]:{display:"none",fontSize:h,lineHeight:p},"&-message":{color:v},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${s} ${E}, opacity ${s} ${E},
        padding-top ${s} ${E}, padding-bottom ${s} ${E},
        margin-bottom ${s} ${E}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:f,[`${e}-icon`]:{marginInlineEnd:c,fontSize:D,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:i,color:v,fontSize:u},[`${e}-description`]:{display:"block",color:$}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},W=n=>{const{componentCls:e,colorSuccess:s,colorSuccessBorder:i,colorSuccessBg:c,colorWarning:h,colorWarningBorder:u,colorWarningBg:p,colorError:C,colorErrorBorder:E,colorErrorBg:D,colorInfo:$,colorInfoBorder:v,colorInfoBg:f}=n;return{[e]:{"&-success":g(c,i,s,n,e),"&-info":g(f,v,$,n,e),"&-warning":g(p,u,h,n,e),"&-error":Object.assign(Object.assign({},g(D,E,C,n,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},S=n=>{const{componentCls:e,iconCls:s,motionDurationMid:i,marginXS:c,fontSizeIcon:h,colorIcon:u,colorIconHover:p}=n;return{[e]:{["&-action"]:{marginInlineStart:c},[`${e}-close-icon`]:{marginInlineStart:c,padding:0,overflow:"hidden",fontSize:h,lineHeight:`${h}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${s}-close`]:{color:u,transition:`color ${i}`,"&:hover":{color:p}}},"&-close-text":{color:u,transition:`color ${i}`,"&:hover":{color:p}}}}},k=n=>[N(n),W(n),S(n)];var Z=(0,m.Z)("Alert",n=>[k(n)],n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`})),q=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(n);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(n,i[c])&&(s[i[c]]=n[i[c]]);return s};const b={success:P.Z,info:A.Z,error:U.Z,warning:z.Z},F=n=>{const{icon:e,prefixCls:s,type:i}=n,c=b[i]||null;return e?(0,M.wm)(e,t.createElement("span",{className:`${s}-icon`},e),()=>({className:w()(`${s}-icon`,{[e.props.className]:e.props.className})})):t.createElement(c,{className:`${s}-icon`})},L=n=>{const{isClosable:e,prefixCls:s,closeIcon:i,handleClose:c}=n,h=i===!0||i===void 0?t.createElement(I.Z,null):i;return e?t.createElement("button",{type:"button",onClick:c,className:`${s}-close-icon`,tabIndex:0},h):null};var K=n=>{const{description:e,prefixCls:s,message:i,banner:c,className:h,rootClassName:u,style:p,onMouseEnter:C,onMouseLeave:E,onClick:D,afterClose:$,showIcon:v,closable:f,closeText:X,closeIcon:Y,action:st}=n,rt=q(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[it,ct]=t.useState(!1),lt=t.useRef(null),{getPrefixCls:dt,direction:ht,alert:H}=t.useContext(d.E_),y=dt("alert",s),[ut,ft]=Z(y),pt=Q=>{var J;ct(!0),(J=n.onClose)===null||J===void 0||J.call(n,Q)},ot=t.useMemo(()=>n.type!==void 0?n.type:c?"warning":"info",[n.type,c]),mt=t.useMemo(()=>X?!0:typeof f=="boolean"?f:Y!==!1&&Y!==null&&Y!==void 0,[X,Y,f]),at=c&&v===void 0?!0:v,gt=w()(y,`${y}-${ot}`,{[`${y}-with-description`]:!!e,[`${y}-no-icon`]:!at,[`${y}-banner`]:!!c,[`${y}-rtl`]:ht==="rtl"},H==null?void 0:H.className,h,u,ft),Ct=(0,O.Z)(rt,{aria:!0,data:!0});return ut(t.createElement(x.default,{visible:!it,motionName:`${y}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Q=>({maxHeight:Q.offsetHeight}),onLeaveEnd:$},Q=>{let{className:J,style:vt}=Q;return t.createElement("div",Object.assign({ref:lt,"data-show":!it,className:w()(gt,J),style:Object.assign(Object.assign(Object.assign({},H==null?void 0:H.style),p),vt),onMouseEnter:C,onMouseLeave:E,onClick:D,role:"alert"},Ct),at?t.createElement(F,{description:e,icon:n.icon,prefixCls:y,type:ot}):null,t.createElement("div",{className:`${y}-content`},i?t.createElement("div",{className:`${y}-message`},i):null,e?t.createElement("div",{className:`${y}-description`},e):null),st?t.createElement("div",{className:`${y}-action`},st):null,t.createElement(L,{isClosable:mt,prefixCls:y,closeIcon:X||Y,handleClose:pt}))}))},G=a(21953),_=a(99044),V=a(85700),j=a(82686),et=function(n){(0,V.Z)(s,n);var e=(0,j.Z)(s);function s(){var i;return(0,G.Z)(this,s),i=e.apply(this,arguments),i.state={error:void 0,info:{componentStack:""}},i}return(0,_.Z)(s,[{key:"componentDidCatch",value:function(c,h){this.setState({error:c,info:h})}},{key:"render",value:function(){const{message:c,description:h,children:u}=this.props,{error:p,info:C}=this.state,E=C&&C.componentStack?C.componentStack:null,D=typeof c>"u"?(p||"").toString():c,$=typeof h>"u"?E:h;return p?t.createElement(K,{type:"error",message:D,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},$)}):u}}]),s}(t.Component);const r=K;r.ErrorBoundary=et;var l=r},56845:function(nt,B,a){a.d(B,{i:function(){return T}});var t=a(11163),P=a(80713),U=a(31043),I=a(296),z=a(56907),A,T=class extends t._{constructor({chains:w,options:x}={}){const O={name:"MetaMask",shimDisconnect:!0,getProvider(){function M(o){if(o!=null&&o.isMetaMask&&!(o.isBraveWallet&&!o._events&&!o._state)&&!o.isApexWallet&&!o.isAvalanche&&!o.isBitKeep&&!o.isBlockWallet&&!o.isCoin98&&!o.isFordefi&&!o.isMathWallet&&!(o.isOkxWallet||o.isOKExWallet)&&!(o.isOneInchIOSWallet||o.isOneInchAndroidWallet)&&!o.isOpera&&!o.isPortal&&!o.isRabby&&!o.isDefiant&&!o.isTokenPocket&&!o.isTokenary&&!o.isZeal&&!o.isZerion)return o}if(typeof window>"u")return;const d=window.ethereum;return d!=null&&d.providers?d.providers.find(M):M(d)},...x};super({chains:w,options:O}),this.id="metaMask",this.shimDisconnectKey=`${this.id}.shimDisconnect`,(0,U.Ko)(this,A,void 0),(0,U.qx)(this,A,O.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:w}={}){var x,O,M,d;try{const o=await this.getProvider();if(!o)throw new P.N;o.on&&(o.on("accountsChanged",this.onAccountsChanged),o.on("chainChanged",this.onChainChanged),o.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let m=null;if((0,U.ac)(this,A)&&((x=this.options)!=null&&x.shimDisconnect)&&!((O=this.storage)!=null&&O.getItem(this.shimDisconnectKey))&&(m=await this.getAccount().catch(()=>null),!!m))try{await o.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),m=await this.getAccount()}catch(S){if(this.isUserRejectedRequestError(S))throw new I.ab(S);if(S.code===new I.pT(S).code)throw S}if(!m){const W=await o.request({method:"eth_requestAccounts"});m=(0,z.K)(W[0])}let g=await this.getChainId(),N=this.isChainUnsupported(g);return w&&g!==w&&(g=(await this.switchChain(w)).id,N=this.isChainUnsupported(g)),(M=this.options)!=null&&M.shimDisconnect&&((d=this.storage)==null||d.setItem(this.shimDisconnectKey,!0)),{account:m,chain:{id:g,unsupported:N},provider:o}}catch(o){throw this.isUserRejectedRequestError(o)?new I.ab(o):o.code===-32002?new I.pT(o):o}}};A=new WeakMap},22949:function(nt,B,a){a.d(B,{z:function(){return et}});var t=a(31043),P=a(3332),U=a(56907),I=a(296),z=a(9474),A=a(86427),T=a(30460),w="eip155",x="store",O="requestedChains",M="wallet_addEthereumChain",d,o,m,g,N,W,S,k,Z,q,b,F,L,R,K,G,_,V,j,tt,et=class extends t.wR{constructor(r){super({...r,options:{isNewChainsStale:!0,...r.options}}),(0,t.Ko)(this,m),(0,t.Ko)(this,N),(0,t.Ko)(this,S),(0,t.Ko)(this,Z),(0,t.Ko)(this,b),(0,t.Ko)(this,L),(0,t.Ko)(this,K),(0,t.Ko)(this,_),(0,t.Ko)(this,j),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,(0,t.Ko)(this,d,void 0),(0,t.Ko)(this,o,void 0),this.onAccountsChanged=l=>{l.length===0?this.emit("disconnect"):this.emit("change",{account:(0,U.K)(l[0])})},this.onChainChanged=l=>{const n=Number(l),e=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:e}})},this.onDisconnect=()=>{(0,t.U9)(this,L,R).call(this,[]),this.emit("disconnect")},this.onDisplayUri=l=>{this.emit("message",{type:"display_uri",data:l})},this.onConnect=()=>{this.emit("connect",{})},(0,t.U9)(this,m,g).call(this)}async connect({chainId:r,pairingTopic:l}={}){var n,e,s,i,c;try{let h=r;if(!h){const v=(n=this.storage)==null?void 0:n.getItem(x),f=(i=(s=(e=v==null?void 0:v.state)==null?void 0:e.data)==null?void 0:s.chain)==null?void 0:i.id;f&&!this.isChainUnsupported(f)?h=f:h=(c=this.chains[0])==null?void 0:c.id}if(!h)throw new Error("No chains found on connector.");const u=await this.getProvider();(0,t.U9)(this,Z,q).call(this);const p=(0,t.U9)(this,S,k).call(this);if(u.session&&p&&await u.disconnect(),!u.session||p){const v=this.chains.filter(f=>f.id!==h).map(f=>f.id);this.emit("message",{type:"connecting"}),await u.connect({pairingTopic:l,chains:[h],optionalChains:v.length?v:void 0}),(0,t.U9)(this,L,R).call(this,this.chains.map(({id:f})=>f))}const C=await u.enable(),E=(0,U.K)(C[0]),D=await this.getChainId(),$=this.isChainUnsupported(D);return{account:E,chain:{id:D,unsupported:$}}}catch(h){throw/user rejected/i.test(h==null?void 0:h.message)?new I.ab(h):h}}async disconnect(){const r=await this.getProvider();try{await r.disconnect()}catch(l){if(!/No matching key/i.test(l.message))throw l}finally{(0,t.U9)(this,b,F).call(this),(0,t.U9)(this,L,R).call(this,[])}}async getAccount(){const{accounts:r}=await this.getProvider();return(0,U.K)(r[0])}async getChainId(){const{chainId:r}=await this.getProvider();return r}async getProvider({chainId:r}={}){return(0,t.ac)(this,d)||await(0,t.U9)(this,m,g).call(this),r&&await this.switchChain(r),(0,t.ac)(this,d)}async getWalletClient({chainId:r}={}){const[l,n]=await Promise.all([this.getProvider({chainId:r}),this.getAccount()]),e=this.chains.find(s=>s.id===r);if(!l)throw new Error("provider is required.");return(0,z.K)({account:n,chain:e,transport:(0,A.P)(l)})}async isAuthorized(){try{const[r,l]=await Promise.all([this.getAccount(),this.getProvider()]),n=(0,t.U9)(this,S,k).call(this);if(!r)return!1;if(n&&l.session){try{await l.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(r){var n,e;const l=this.chains.find(s=>s.id===r);if(!l)throw new I.x3(new Error("chain not found on connector."));try{const s=await this.getProvider(),i=(0,t.U9)(this,_,V).call(this),c=(0,t.U9)(this,j,tt).call(this);if(!i.includes(r)&&c.includes(M)){await s.request({method:M,params:[{chainId:(0,T.eC)(l.id),blockExplorerUrls:[(e=(n=l.blockExplorers)==null?void 0:n.default)==null?void 0:e.url],chainName:l.name,nativeCurrency:l.nativeCurrency,rpcUrls:[...l.rpcUrls.default.http]}]});const u=(0,t.U9)(this,K,G).call(this);u.push(r),(0,t.U9)(this,L,R).call(this,u)}return await s.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,T.eC)(r)}]}),l}catch(s){const i=typeof s=="string"?s:s==null?void 0:s.message;throw/user rejected request/i.test(i)?new I.ab(s):new I.x3(s)}}};d=new WeakMap,o=new WeakMap,m=new WeakSet,g=async function(){return!(0,t.ac)(this,o)&&typeof window<"u"&&(0,t.qx)(this,o,(0,t.U9)(this,N,W).call(this)),(0,t.ac)(this,o)},N=new WeakSet,W=async function(){const{EthereumProvider:r,OPTIONAL_EVENTS:l,OPTIONAL_METHODS:n}=await a.e(5217).then(a.bind(a,85217)),[e,...s]=this.chains.map(({id:i})=>i);if(e){const{projectId:i,showQrModal:c=!0,qrModalOptions:h,metadata:u,relayUrl:p}=this.options;(0,t.qx)(this,d,await r.init({showQrModal:c,qrModalOptions:h,projectId:i,optionalMethods:n,optionalEvents:l,chains:[e],optionalChains:s.length?s:void 0,rpcMap:Object.fromEntries(this.chains.map(C=>[C.id,C.rpcUrls.default.http[0]])),metadata:u,relayUrl:p}))}},S=new WeakSet,k=function(){if((0,t.U9)(this,j,tt).call(this).includes(M)||!this.options.isNewChainsStale)return!1;const l=(0,t.U9)(this,K,G).call(this),n=this.chains.map(({id:s})=>s),e=(0,t.U9)(this,_,V).call(this);return e.length&&!e.some(s=>n.includes(s))?!1:!n.every(s=>l.includes(s))},Z=new WeakSet,q=function(){(0,t.ac)(this,d)&&((0,t.U9)(this,b,F).call(this),(0,t.ac)(this,d).on("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,d).on("chainChanged",this.onChainChanged),(0,t.ac)(this,d).on("disconnect",this.onDisconnect),(0,t.ac)(this,d).on("session_delete",this.onDisconnect),(0,t.ac)(this,d).on("display_uri",this.onDisplayUri),(0,t.ac)(this,d).on("connect",this.onConnect))},b=new WeakSet,F=function(){(0,t.ac)(this,d)&&((0,t.ac)(this,d).removeListener("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,d).removeListener("chainChanged",this.onChainChanged),(0,t.ac)(this,d).removeListener("disconnect",this.onDisconnect),(0,t.ac)(this,d).removeListener("session_delete",this.onDisconnect),(0,t.ac)(this,d).removeListener("display_uri",this.onDisplayUri),(0,t.ac)(this,d).removeListener("connect",this.onConnect))},L=new WeakSet,R=function(r){var l;(l=this.storage)==null||l.setItem(O,r)},K=new WeakSet,G=function(){var r;return((r=this.storage)==null?void 0:r.getItem(O))??[]},_=new WeakSet,V=function(){var e,s,i;if(!(0,t.ac)(this,d))return[];const r=(e=(0,t.ac)(this,d).session)==null?void 0:e.namespaces;return r?((i=(s=(0,P.fK)(r)[w])==null?void 0:s.chains)==null?void 0:i.map(c=>parseInt(c.split(":")[1]||"")))??[]:[]},j=new WeakSet,tt=function(){var e,s;if(!(0,t.ac)(this,d))return[];const r=(e=(0,t.ac)(this,d).session)==null?void 0:e.namespaces;return r?((s=(0,P.fK)(r)[w])==null?void 0:s.methods)??[]:[]}},8851:function(nt,B,a){a.d(B,{I:function(){return t}});function t(){return function(P){return P.rpcUrls.public.http[0]?{chain:P,rpcUrls:P.rpcUrls.public}:null}}}}]);
