"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1964],{81964:function(Bn,J,u){u.d(J,{GU:function(){return Wn},MV:function(){return Cn},Yw:function(){return En},mg:function(){return M.mg},VX:function(){return Pn},gV:function(){return Mn},M6:function(){return O},hm:function(){return gn},be:function(){return wn}});var K=u(77117),$=u.n(K),Y=u(67855),z=u.n(Y),x=u(95530),B=u.n(x),P=u(50959),M=u(41947),q=u(25433),_=u(14842),nn=u(48978),en=u(13448),r=u.n(en),rn=u(74815),C=u.n(rn),an=u(28152),G=u.n(an),S=u(18661),tn=u(65998),un=u(33944),ln=u(17114),sn=u(8326),cn=u(78086),on=u(14861),dn=u(58037);function vn(h,l,m){return Q.apply(this,arguments)}function Q(){return Q=C()(r()().mark(function h(l,m,o){var a;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,dn.w)(l,{address:m.address,chainId:o});case 2:return a=c.sent,c.abrupt("return",$()($()({},m),{},{name:a??void 0}));case 4:case"end":return c.stop()}},h)})),Q.apply(this,arguments)}var fn=u(52660);function hn(h,l,m,o){return F.apply(this,arguments)}function F(){return F=C()(r()().mark(function h(l,m,o,a){var d,c;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,fn.L)(l,{address:(0,S.O_)(m),args:[o],chainId:a,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return d=n.sent,n.next=5,(0,S.Xw)(d);case 5:return c=n.sent,n.abrupt("return",c);case 7:case"end":return n.stop()}},h)})),F.apply(this,arguments)}var T=u(11527),mn=function(l){var m,o=l.children,a=l.chainAssets,d=l.walletFactorys,c=l.availableChains,v=l.availableConnectors,n=l.ens,t=l.balance,f=l.locale,b=(0,tn.m)(),e=b.address,y=b.isDisconnected,w=b.chain,j=(0,un.Z)(),D=P.useState(),L=G()(D,2),N=L[0],X=L[1],kn=(0,ln.$)(),Sn=kn.connectAsync,Tn=(0,sn.o)(),U=Tn.switchChain,jn=(0,cn.q)(),Qn=jn.disconnectAsync,Fn=P.useState(void 0),Z=G()(Fn,2),A=Z[0],H=Z[1],On=(0,on.K)({address:t&&N?(0,S.O_)(N.address):void 0}),I=On.data;P.useEffect(function(){if(!e||y){X(void 0);return}var g=function(){var s=C()(r()().mark(function i(){var W;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(W={address:e},p.t0=X,!n){p.next=8;break}return p.next=5,vn(j,W);case 5:p.t1=p.sent,p.next=9;break;case 8:p.t1=W;case 9:p.t2=p.t1,(0,p.t0)(p.t2);case 11:case"end":return p.stop()}},i)}));return function(){return s.apply(this,arguments)}}();g()},[e,y,w,n]);var Dn=P.useMemo(function(){v.forEach(function(s){var i=d==null?void 0:d.find(function(W){var R;return(R=W.connectors)===null||R===void 0?void 0:R.includes(s.name)});i!=null&&i.create||console.error("Can not find wallet factory for ".concat(s.name,", you should config it in WagmiWeb3ConfigProvider 'wallets'."))});var g=d==null?void 0:d.map(function(s){var i=s.connectors.map(function(W){return v.find(function(R){return R.name===W})}).filter(function(W){return!!W});return i.length===0?null:s.create(i)}).filter(function(s){return s!==null});return g},[v,d]),Nn=P.useMemo(function(){return c.map(function(g){var s=a==null?void 0:a.find(function(i){return i.id===g.id});return s!=null&&s.id?{id:s.id,name:s.name,icon:s.icon}:(console.error("Can not find chain ".concat(g.id,", you should config it in WagmiWeb3ConfigProvider 'assets'.")),null)}).filter(function(g){return g!==null})},[c,a]);return P.useEffect(function(){var g;if(!(!w&&A)){var s=w??c[0];if(s){var i=a==null?void 0:a.find(function(W){return W.id===(s==null?void 0:s.id)});(g=i)!==null&&g!==void 0&&g.id||(i={id:s.id,name:s.name}),H(i)}}},[w,a,c,A]),(0,T.jsx)(S.BQ,{locale:f,availableChains:Nn,chain:A,account:N,balance:t?{symbol:I==null?void 0:I.symbol,value:I==null?void 0:I.value,decimals:I==null?void 0:I.decimals,icon:A==null||(m=A.nativeCurrency)===null||m===void 0?void 0:m.icon}:void 0,availableWallets:Dn,connect:function(){var g=C()(r()().mark(function s(i){var W,R,p;return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,i==null||(W=(R=i).getWagmiConnector)===null||W===void 0?void 0:W.call(R);case 2:if(p=E.sent,p||(p=v.find(function(Un){return Un.name===(i==null?void 0:i.name)})),p){E.next=6;break}throw new Error("Can not find connector for ".concat(i==null?void 0:i.name));case 6:return E.next=8,Sn({connector:p,chainId:A==null?void 0:A.id});case 8:case"end":return E.stop()}},s)}));return function(s){return g.apply(this,arguments)}}(),disconnect:C()(r()().mark(function g(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Qn();case 2:case"end":return i.stop()}},g)})),switchChain:function(){var g=C()(r()().mark(function s(i){return r()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:w?U==null||U({chainId:i.id}):H(i);case 1:case"end":return R.stop()}},s)}));return function(s){return g.apply(this,arguments)}}(),getNFTMetadata:function(){var g=C()(r()().mark(function s(i){var W,R;return r()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return W=i.address,R=i.tokenId,k.abrupt("return",hn(j,W,R,w==null?void 0:w.id));case 2:case"end":return k.stop()}},s)}));return function(s){return g.apply(this,arguments)}}(),children:o})},pn=["children","wallets","chains","ens","locale","balance","config","queryClient"];function gn(h){var l=h.children,m=h.wallets,o=m===void 0?[]:m,a=h.chains,d=a===void 0?[]:a,c=h.ens,v=h.locale,n=h.balance,t=h.config,f=h.queryClient,b=B()(h,pn),e=[].concat(z()(d),[M.ny]),y=P.useMemo(function(){return f??new q.S},[f]);return(0,T.jsx)(nn.F,$()($()({config:t},b),{},{children:(0,T.jsx)(_.aH,{client:y,children:(0,T.jsx)(mn,{locale:v,chainAssets:e,walletFactorys:o,availableChains:t.chains,availableConnectors:t.connectors,ens:c,balance:n,children:l})})}))}var Cn=function(l){return{connectors:["MetaMask"],create:function(){return $()($()({},M.Zv),{},{hasWalletReady:function(){var o=C()(r()().mark(function d(){var c;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",!!((c=window.ethereum)!==null&&c!==void 0&&c.isMetaMask));case 1:case"end":return n.stop()}},d)}));function a(){return o.apply(this,arguments)}return a}(),hasExtensionInstalled:function(){var o=C()(r()().mark(function d(){var c;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",!!((c=window.ethereum)!==null&&c!==void 0&&c.isMetaMask));case 1:case"end":return n.stop()}},d)}));function a(){return o.apply(this,arguments)}return a}()},l)}}},yn=["useWalletConnectOfficialModal"],wn=function(l){var m=l||{},o=m.useWalletConnectOfficialModal,a=o===void 0?!1:o,d=B()(m,yn);return{connectors:["WalletConnect"],create:function(v){var n=function(){var t=C()(r()().mark(function f(){var b,e;return r()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,v==null||(b=v[0])===null||b===void 0?void 0:b.getProvider();case 2:return e=w.sent,w.abrupt("return",new Promise(function(j){e==null||e.on("display_uri",function(D){j({uri:D})})}));case 4:case"end":return w.stop()}},f)}));return function(){return t.apply(this,arguments)}}();return $()($()({},M.Tl),{},{hasWalletReady:function(){var t=C()(r()().mark(function b(){return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",!0);case 1:case"end":return y.stop()}},b)}));function f(){return t.apply(this,arguments)}return f}(),getQrCode:a?void 0:n},d)}}},Wn=function(l){return{connectors:["Coinbase Wallet"],create:function(){return $()($()({},M.p_),{},{hasWalletReady:function(){var o=C()(r()().mark(function d(){return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",!0);case 1:case"end":return v.stop()}},d)}));function a(){return o.apply(this,arguments)}return a}()},l)}}},$n=u(96345),bn=u.n($n),Rn=u(15033),An=u.n(Rn),In=u(21320),V=u.n(In),O=bn()(function h(l){var m=this;An()(this,h),V()(this,"connectors",[]),V()(this,"create",function(o){var a=o==null?void 0:o.find(function(n){return n.name==="WalletConnect"}),d=o==null?void 0:o.find(function(n){return n.name===m.wallet.name}),c=function(){var n=C()(r()().mark(function t(){var f;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a==null?void 0:a.getProvider();case 2:return f=e.sent,e.abrupt("return",new Promise(function(y){f==null||f.on("display_uri",function(w){y({uri:w})})}));case 4:case"end":return e.stop()}},t)}));return function(){return n.apply(this,arguments)}}(),v=function(){var n=C()(r()().mark(function t(){var f;return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d==null?void 0:d.getProvider();case 2:return f=e.sent,e.abrupt("return",!!f);case 4:case"end":return e.stop()}},t)}));return function(){return n.apply(this,arguments)}}();return $()($()({},m.wallet),{},{getWagmiConnector:function(){var n=C()(r()().mark(function f(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",d);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}},f)}));function t(){return n.apply(this,arguments)}return t}(),hasExtensionInstalled:function(){var n=C()(r()().mark(function f(){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v());case 1:case"end":return e.stop()}},f)}));function t(){return n.apply(this,arguments)}return t}(),hasWalletReady:function(){var n=C()(r()().mark(function f(){var b;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,v();case 2:return b=y.sent,y.abrupt("return",!!(b||a));case 4:case"end":return y.stop()}},f)}));function t(){return n.apply(this,arguments)}return t}(),getQrCode:a?c:void 0})}),this.wallet=l,l.extensions&&this.connectors.push(l.name),l.app&&this.connectors.push("WalletConnect")}),Mn=function(l){return new O($()($()({},M.eu),l))},Pn=function(l){return{connectors:["Safeheron"],create:function(o){return $()($()({},M.OJ),{},{hasWalletReady:function(){var a=C()(r()().mark(function c(){var v;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o==null||(v=o[0])===null||v===void 0?void 0:v.getProvider();case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}},c)}));function d(){return a.apply(this,arguments)}return d}(),hasExtensionInstalled:function(){var a=C()(r()().mark(function c(){var v;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o==null||(v=o[0])===null||v===void 0?void 0:v.getProvider();case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}},c)}));function d(){return a.apply(this,arguments)}return d}()},l)}}},En=function(l){return new O($()($()({},M.tw),l))}}}]);
