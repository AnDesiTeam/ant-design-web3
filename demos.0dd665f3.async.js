"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[2433],{28013:function(I,l,n){n.r(l);var t=n(34352),h=n(99661),c=n(11527),r=(0,h.Qz)({rpcs:[new h.ic({apiKey:"d0eeefc2a4da4a8ba707889259b437d6"})],wallets:[new h.AX({projectId:"c07c0051c2055890eade3556618e38a6"}),new h.Y8],chains:[h.p5.RJ]}),m=function(){return(0,c.jsx)(h.Gn,{provider:r,children:(0,c.jsx)(t.NL,{})})};l.default=m},96653:function(I,l,n){n.r(l);var t=n(34352),h=n(11527),c=function(){return(0,h.jsx)(t.NL,{})};l.default=c},15558:function(I,l,n){n.r(l);var t=n(14433),h=n(51990),c=n(39848),r=n(8851),m=n(56845),v=n(22949),U=n(82748),M=n(34352),P=n(11527),f=(0,t.QB)([h.R],[(0,r.I)()]),C=f.publicClient,e=f.chains,s=(0,c._g)({autoConnect:!0,publicClient:C,connectors:[new m.i,new v.z({chains:e,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),u=function(){return(0,P.jsx)(U.h,{config:s,children:(0,P.jsx)(M.NL,{})})};l.default=u},30840:function(I,l,n){n.r(l);var t=n(14433),h=n(51990),c=n(39848),r=n(8851),m=n(56845),v=n(22949),U=n(82748),M=n(34352),P=n(11527),f=(0,t.QB)([h.R],[(0,r.I)()]),C=f.publicClient,e=f.chains,s=(0,c._g)({autoConnect:!0,publicClient:C,connectors:[new m.i,new v.z({chains:e,options:{projectId:"c07c0051c2055890eade3556618e38a6"}})]}),u=function(){return(0,P.jsx)(U.h,{config:s,children:(0,P.jsx)(M.NL,{})})};l.default=u},44697:function(I,l,n){n.r(l);var t=n(96450),h=n(16933),c=n(11527),r={fontSize:64},m=function(){return(0,c.jsxs)(h.Z,{children:[(0,c.jsx)(t.Tv,{style:r}),(0,c.jsx)(t.QO,{style:r}),(0,c.jsx)(t.p$,{style:r}),(0,c.jsx)(t.Nf,{style:r}),(0,c.jsx)(t.R6,{style:r}),(0,c.jsx)(t.kJ,{style:r}),(0,c.jsx)(t.wT,{style:r}),(0,c.jsx)(t.AA,{style:r}),(0,c.jsx)(t.oW,{style:r})]})};l.default=m},56845:function(I,l,n){n.d(l,{i:function(){return U}});var t=n(11163),h=n(80713),c=n(31043),r=n(296),m=n(56907),v,U=class extends t._{constructor({chains:M,options:P}={}){const f={name:"MetaMask",shimDisconnect:!0,getProvider(){function C(s){if(s!=null&&s.isMetaMask&&!(s.isBraveWallet&&!s._events&&!s._state)&&!s.isApexWallet&&!s.isAvalanche&&!s.isBitKeep&&!s.isBlockWallet&&!s.isCoin98&&!s.isFordefi&&!s.isMathWallet&&!(s.isOkxWallet||s.isOKExWallet)&&!(s.isOneInchIOSWallet||s.isOneInchAndroidWallet)&&!s.isOpera&&!s.isPortal&&!s.isRabby&&!s.isDefiant&&!s.isTokenPocket&&!s.isTokenary&&!s.isZeal&&!s.isZerion)return s}if(typeof window>"u")return;const e=window.ethereum;return e!=null&&e.providers?e.providers.find(C):C(e)},...P};super({chains:M,options:f}),this.id="metaMask",this.shimDisconnectKey=`${this.id}.shimDisconnect`,(0,c.Ko)(this,v,void 0),(0,c.qx)(this,v,f.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:M}={}){var P,f,C,e;try{const s=await this.getProvider();if(!s)throw new h.N;s.on&&(s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let u=null;if((0,c.ac)(this,v)&&((P=this.options)!=null&&P.shimDisconnect)&&!((f=this.storage)!=null&&f.getItem(this.shimDisconnectKey))&&(u=await this.getAccount().catch(()=>null),!!u))try{await s.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),u=await this.getAccount()}catch(g){if(this.isUserRejectedRequestError(g))throw new r.ab(g);if(g.code===new r.pT(g).code)throw g}if(!u){const W=await s.request({method:"eth_requestAccounts"});u=(0,m.K)(W[0])}let D=await this.getChainId(),K=this.isChainUnsupported(D);return M&&D!==M&&(D=(await this.switchChain(M)).id,K=this.isChainUnsupported(D)),(C=this.options)!=null&&C.shimDisconnect&&((e=this.storage)==null||e.setItem(this.shimDisconnectKey,!0)),{account:u,chain:{id:D,unsupported:K},provider:s}}catch(s){throw this.isUserRejectedRequestError(s)?new r.ab(s):s.code===-32002?new r.pT(s):s}}};v=new WeakMap},22949:function(I,l,n){n.d(l,{z:function(){return F}});var t=n(31043),h=n(3332),c=n(56907),r=n(296),m=n(9474),v=n(86427),U=n(30460),M="eip155",P="store",f="requestedChains",C="wallet_addEthereumChain",e,s,u,D,K,W,g,z,H,G,y,Q,L,R,B,Y,j,b,x,k,F=class extends t.wR{constructor(i){super({...i,options:{isNewChainsStale:!0,...i.options}}),(0,t.Ko)(this,u),(0,t.Ko)(this,K),(0,t.Ko)(this,g),(0,t.Ko)(this,H),(0,t.Ko)(this,y),(0,t.Ko)(this,L),(0,t.Ko)(this,B),(0,t.Ko)(this,j),(0,t.Ko)(this,x),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,(0,t.Ko)(this,e,void 0),(0,t.Ko)(this,s,void 0),this.onAccountsChanged=a=>{a.length===0?this.emit("disconnect"):this.emit("change",{account:(0,c.K)(a[0])})},this.onChainChanged=a=>{const _=Number(a),d=this.isChainUnsupported(_);this.emit("change",{chain:{id:_,unsupported:d}})},this.onDisconnect=()=>{(0,t.U9)(this,L,R).call(this,[]),this.emit("disconnect")},this.onDisplayUri=a=>{this.emit("message",{type:"display_uri",data:a})},this.onConnect=()=>{this.emit("connect",{})},(0,t.U9)(this,u,D).call(this)}async connect({chainId:i,pairingTopic:a}={}){var _,d,o,p,A;try{let E=i;if(!E){const T=(_=this.storage)==null?void 0:_.getItem(P),w=(p=(o=(d=T==null?void 0:T.state)==null?void 0:d.data)==null?void 0:o.chain)==null?void 0:p.id;w&&!this.isChainUnsupported(w)?E=w:E=(A=this.chains[0])==null?void 0:A.id}if(!E)throw new Error("No chains found on connector.");const O=await this.getProvider();(0,t.U9)(this,H,G).call(this);const N=(0,t.U9)(this,g,z).call(this);if(O.session&&N&&await O.disconnect(),!O.session||N){const T=this.chains.filter(w=>w.id!==E).map(w=>w.id);this.emit("message",{type:"connecting"}),await O.connect({pairingTopic:a,chains:[E],optionalChains:T.length?T:void 0}),(0,t.U9)(this,L,R).call(this,this.chains.map(({id:w})=>w))}const S=await O.enable(),J=(0,c.K)(S[0]),Z=await this.getChainId(),V=this.isChainUnsupported(Z);return{account:J,chain:{id:Z,unsupported:V}}}catch(E){throw/user rejected/i.test(E==null?void 0:E.message)?new r.ab(E):E}}async disconnect(){const i=await this.getProvider();try{await i.disconnect()}catch(a){if(!/No matching key/i.test(a.message))throw a}finally{(0,t.U9)(this,y,Q).call(this),(0,t.U9)(this,L,R).call(this,[])}}async getAccount(){const{accounts:i}=await this.getProvider();return(0,c.K)(i[0])}async getChainId(){const{chainId:i}=await this.getProvider();return i}async getProvider({chainId:i}={}){return(0,t.ac)(this,e)||await(0,t.U9)(this,u,D).call(this),i&&await this.switchChain(i),(0,t.ac)(this,e)}async getWalletClient({chainId:i}={}){const[a,_]=await Promise.all([this.getProvider({chainId:i}),this.getAccount()]),d=this.chains.find(o=>o.id===i);if(!a)throw new Error("provider is required.");return(0,m.K)({account:_,chain:d,transport:(0,v.P)(a)})}async isAuthorized(){try{const[i,a]=await Promise.all([this.getAccount(),this.getProvider()]),_=(0,t.U9)(this,g,z).call(this);if(!i)return!1;if(_&&a.session){try{await a.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(i){var _,d;const a=this.chains.find(o=>o.id===i);if(!a)throw new r.x3(new Error("chain not found on connector."));try{const o=await this.getProvider(),p=(0,t.U9)(this,j,b).call(this),A=(0,t.U9)(this,x,k).call(this);if(!p.includes(i)&&A.includes(C)){await o.request({method:C,params:[{chainId:(0,U.eC)(a.id),blockExplorerUrls:[(d=(_=a.blockExplorers)==null?void 0:_.default)==null?void 0:d.url],chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[...a.rpcUrls.default.http]}]});const O=(0,t.U9)(this,B,Y).call(this);O.push(i),(0,t.U9)(this,L,R).call(this,O)}return await o.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,U.eC)(i)}]}),a}catch(o){const p=typeof o=="string"?o:o==null?void 0:o.message;throw/user rejected request/i.test(p)?new r.ab(o):new r.x3(o)}}};e=new WeakMap,s=new WeakMap,u=new WeakSet,D=async function(){return!(0,t.ac)(this,s)&&typeof window<"u"&&(0,t.qx)(this,s,(0,t.U9)(this,K,W).call(this)),(0,t.ac)(this,s)},K=new WeakSet,W=async function(){const{EthereumProvider:i,OPTIONAL_EVENTS:a,OPTIONAL_METHODS:_}=await Promise.resolve().then(n.bind(n,85217)),[d,...o]=this.chains.map(({id:p})=>p);if(d){const{projectId:p,showQrModal:A=!0,qrModalOptions:E,metadata:O,relayUrl:N}=this.options;(0,t.qx)(this,e,await i.init({showQrModal:A,qrModalOptions:E,projectId:p,optionalMethods:_,optionalEvents:a,chains:[d],optionalChains:o.length?o:void 0,rpcMap:Object.fromEntries(this.chains.map(S=>[S.id,S.rpcUrls.default.http[0]])),metadata:O,relayUrl:N}))}},g=new WeakSet,z=function(){if((0,t.U9)(this,x,k).call(this).includes(C)||!this.options.isNewChainsStale)return!1;const a=(0,t.U9)(this,B,Y).call(this),_=this.chains.map(({id:o})=>o),d=(0,t.U9)(this,j,b).call(this);return d.length&&!d.some(o=>_.includes(o))?!1:!_.every(o=>a.includes(o))},H=new WeakSet,G=function(){(0,t.ac)(this,e)&&((0,t.U9)(this,y,Q).call(this),(0,t.ac)(this,e).on("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,e).on("chainChanged",this.onChainChanged),(0,t.ac)(this,e).on("disconnect",this.onDisconnect),(0,t.ac)(this,e).on("session_delete",this.onDisconnect),(0,t.ac)(this,e).on("display_uri",this.onDisplayUri),(0,t.ac)(this,e).on("connect",this.onConnect))},y=new WeakSet,Q=function(){(0,t.ac)(this,e)&&((0,t.ac)(this,e).removeListener("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,e).removeListener("chainChanged",this.onChainChanged),(0,t.ac)(this,e).removeListener("disconnect",this.onDisconnect),(0,t.ac)(this,e).removeListener("session_delete",this.onDisconnect),(0,t.ac)(this,e).removeListener("display_uri",this.onDisplayUri),(0,t.ac)(this,e).removeListener("connect",this.onConnect))},L=new WeakSet,R=function(i){var a;(a=this.storage)==null||a.setItem(f,i)},B=new WeakSet,Y=function(){var i;return((i=this.storage)==null?void 0:i.getItem(f))??[]},j=new WeakSet,b=function(){var d,o,p;if(!(0,t.ac)(this,e))return[];const i=(d=(0,t.ac)(this,e).session)==null?void 0:d.namespaces;return i?((p=(o=(0,h.fK)(i)[M])==null?void 0:o.chains)==null?void 0:p.map(A=>parseInt(A.split(":")[1]||"")))??[]:[]},x=new WeakSet,k=function(){var d,o;if(!(0,t.ac)(this,e))return[];const i=(d=(0,t.ac)(this,e).session)==null?void 0:d.namespaces;return i?((o=(0,h.fK)(i)[M])==null?void 0:o.methods)??[]:[]}},8851:function(I,l,n){n.d(l,{I:function(){return t}});function t(){return function(h){return h.rpcUrls.public.http[0]?{chain:h,rpcUrls:h.rpcUrls.public}:null}}}}]);
