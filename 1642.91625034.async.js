!(function(){var a1=Object.defineProperty;var o1=(B,h,l)=>h in B?a1(B,h,{enumerable:!0,configurable:!0,writable:!0,value:l}):B[h]=l;var O=(B,h,l)=>(o1(B,typeof h!="symbol"?h+"":h,l),l);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1642],{64230:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyType=void 0;var l;(function(u){u[u.ED25519=0]="ED25519"})(l=h.KeyType||(h.KeyType={}))},61125:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PublicKey=h.KeyPairEd25519=h.KeyPair=h.KeyType=void 0;var u=l(64230);Object.defineProperty(h,"KeyType",{enumerable:!0,get:function(){return u.KeyType}});var d=l(20181);Object.defineProperty(h,"KeyPair",{enumerable:!0,get:function(){return d.KeyPair}});var v=l(29624);Object.defineProperty(h,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var m=l(61624);Object.defineProperty(h,"PublicKey",{enumerable:!0,get:function(){return m.PublicKey}})},20181:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPair=void 0;const u=l(61736),d=l(29624);class v extends u.KeyPairBase{static fromRandom(b){switch(b.toUpperCase()){case"ED25519":return d.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${b}`)}}static fromString(b){const p=b.split(":");if(p.length===1)return new d.KeyPairEd25519(p[0]);if(p.length===2)switch(p[0].toUpperCase()){case"ED25519":return new d.KeyPairEd25519(p[1]);default:throw new Error(`Unknown curve: ${p[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}h.KeyPair=v},61736:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPairBase=void 0;class l{}h.KeyPairBase=l},29624:function(B,h,l){"use strict";var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPairEd25519=void 0;const d=l(48797),v=u(l(15711)),m=l(64230),b=l(61736),p=l(61624);class x extends b.KeyPairBase{constructor(_){super();const I=v.default.sign.keyPair.fromSecretKey((0,d.baseDecode)(_));this.publicKey=new p.PublicKey({keyType:m.KeyType.ED25519,data:I.publicKey}),this.secretKey=_}static fromRandom(){const _=v.default.sign.keyPair();return new x((0,d.baseEncode)(_.secretKey))}sign(_){return{signature:v.default.sign.detached(_,(0,d.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(_,I){return this.publicKey.verify(_,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}h.KeyPairEd25519=x},61624:function(B,h,l){"use strict";var u=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(h,"__esModule",{value:!0}),h.PublicKey=void 0;const d=l(95036),v=l(48797),m=u(l(15711)),b=l(64230);function p(_){switch(_){case b.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${_}`)}}function x(_){switch(_.toLowerCase()){case"ed25519":return b.KeyType.ED25519;default:throw new Error(`Unknown key type ${_}`)}}class S extends d.Assignable{static from(I){return typeof I=="string"?S.fromString(I):I}static fromString(I){const R=I.split(":");if(R.length===1)return new S({keyType:b.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new S({keyType:x(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${p(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,R){switch(this.keyType){case b.KeyType.ED25519:return m.default.sign.detached.verify(I,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}h.PublicKey=S},76895:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyType=void 0;var l;(function(u){u[u.ED25519=0]="ED25519"})(l=h.KeyType||(h.KeyType={}))},38369:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PublicKey=h.KeyPairEd25519=h.KeyPair=h.KeyType=void 0;var u=l(76895);Object.defineProperty(h,"KeyType",{enumerable:!0,get:function(){return u.KeyType}});var d=l(89055);Object.defineProperty(h,"KeyPair",{enumerable:!0,get:function(){return d.KeyPair}});var v=l(75713);Object.defineProperty(h,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var m=l(21833);Object.defineProperty(h,"PublicKey",{enumerable:!0,get:function(){return m.PublicKey}})},89055:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPair=void 0;const u=l(34980),d=l(75713);class v extends u.KeyPairBase{static fromRandom(b){switch(b.toUpperCase()){case"ED25519":return d.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${b}`)}}static fromString(b){const p=b.split(":");if(p.length===1)return new d.KeyPairEd25519(p[0]);if(p.length===2)switch(p[0].toUpperCase()){case"ED25519":return new d.KeyPairEd25519(p[1]);default:throw new Error(`Unknown curve: ${p[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}h.KeyPair=v},34980:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPairBase=void 0;class l{}h.KeyPairBase=l},75713:function(B,h,l){"use strict";var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(h,"__esModule",{value:!0}),h.KeyPairEd25519=void 0;const d=l(48797),v=u(l(15711)),m=l(76895),b=l(34980),p=l(21833);class x extends b.KeyPairBase{constructor(_){super();const I=v.default.sign.keyPair.fromSecretKey((0,d.baseDecode)(_));this.publicKey=new p.PublicKey({keyType:m.KeyType.ED25519,data:I.publicKey}),this.secretKey=_}static fromRandom(){const _=v.default.sign.keyPair();return new x((0,d.baseEncode)(_.secretKey))}sign(_){return{signature:v.default.sign.detached(_,(0,d.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(_,I){return this.publicKey.verify(_,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}h.KeyPairEd25519=x},21833:function(B,h,l){"use strict";var u=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(h,"__esModule",{value:!0}),h.PublicKey=void 0;const d=l(85918),v=l(48797),m=u(l(15711)),b=l(76895);function p(_){switch(_){case b.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${_}`)}}function x(_){switch(_.toLowerCase()){case"ed25519":return b.KeyType.ED25519;default:throw new Error(`Unknown key type ${_}`)}}class S extends d.Assignable{static from(I){return typeof I=="string"?S.fromString(I):I}static fromString(I){const R=I.split(":");if(R.length===1)return new S({keyType:b.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new S({keyType:x(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${p(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,R){switch(this.keyType){case b.KeyType.ED25519:return m.default.sign.detached.verify(I,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}h.PublicKey=S},64091:function(B,h,l){"use strict";var u=this&&this.__awaiter||function(p,x,S,_){function I(R){return R instanceof S?R:new S(function(k){k(R)})}return new(S||(S=Promise))(function(R,k){function w($){try{D(_.next($))}catch(V){k(V)}}function U($){try{D(_.throw($))}catch(V){k(V)}}function D($){$.done?R($.value):I($.value).then(w,U)}D((_=_.apply(p,x||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0}),h.BrowserLocalStorageKeyStore=void 0;const d=l(61125),v=l(38149),m="near-api-js:keystore:";class b extends v.KeyStore{constructor(x=window.localStorage,S=m){super(),this.localStorage=x,this.prefix=S}setKey(x,S,_){return u(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(x,S),_.toString())})}getKey(x,S){return u(this,void 0,void 0,function*(){const _=this.localStorage.getItem(this.storageKeyForSecretKey(x,S));return _?d.KeyPair.fromString(_):null})}removeKey(x,S){return u(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(x,S))})}clear(){return u(this,void 0,void 0,function*(){for(const x of this.storageKeys())x.startsWith(this.prefix)&&this.localStorage.removeItem(x)})}getNetworks(){return u(this,void 0,void 0,function*(){const x=new Set;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const _=S.substring(this.prefix.length).split(":");x.add(_[1])}return Array.from(x.values())})}getAccounts(x){return u(this,void 0,void 0,function*(){const S=new Array;for(const _ of this.storageKeys())if(_.startsWith(this.prefix)){const I=_.substring(this.prefix.length).split(":");I[1]===x&&S.push(I[0])}return S})}storageKeyForSecretKey(x,S){return`${this.prefix}${S}:${x}`}*storageKeys(){for(let x=0;x<this.localStorage.length;x++)yield this.localStorage.key(x)}}h.BrowserLocalStorageKeyStore=b},67265:function(B,h,l){"use strict";var u;u={value:!0},h.X=void 0;var d=l(64091);Object.defineProperty(h,"X",{enumerable:!0,get:function(){return d.BrowserLocalStorageKeyStore}})},62384:function(B,h,l){"use strict";var u=this&&this.__awaiter||function(b,p,x,S){function _(I){return I instanceof x?I:new x(function(R){R(I)})}return new(x||(x=Promise))(function(I,R){function k(D){try{U(S.next(D))}catch($){R($)}}function w(D){try{U(S.throw(D))}catch($){R($)}}function U(D){D.done?I(D.value):_(D.value).then(k,w)}U((S=S.apply(b,p||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0}),h.InMemoryKeyStore=void 0;const d=l(61125),v=l(56363);class m extends v.KeyStore{constructor(){super(),this.keys={}}setKey(p,x,S){return u(this,void 0,void 0,function*(){this.keys[`${x}:${p}`]=S.toString()})}getKey(p,x){return u(this,void 0,void 0,function*(){const S=this.keys[`${x}:${p}`];return S?d.KeyPair.fromString(S):null})}removeKey(p,x){return u(this,void 0,void 0,function*(){delete this.keys[`${x}:${p}`]})}clear(){return u(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return u(this,void 0,void 0,function*(){const p=new Set;return Object.keys(this.keys).forEach(x=>{const S=x.split(":");p.add(S[1])}),Array.from(p.values())})}getAccounts(p){return u(this,void 0,void 0,function*(){const x=new Array;return Object.keys(this.keys).forEach(S=>{const _=S.split(":");_[_.length-1]===p&&x.push(_.slice(0,_.length-1).join(":"))}),x})}toString(){return"InMemoryKeyStore"}}h.InMemoryKeyStore=m},38149:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MergeKeyStore=h.KeyStore=h.InMemoryKeyStore=void 0;var u=l(62384);Object.defineProperty(h,"InMemoryKeyStore",{enumerable:!0,get:function(){return u.InMemoryKeyStore}});var d=l(56363);Object.defineProperty(h,"KeyStore",{enumerable:!0,get:function(){return d.KeyStore}});var v=l(73917);Object.defineProperty(h,"MergeKeyStore",{enumerable:!0,get:function(){return v.MergeKeyStore}})},56363:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.KeyStore=void 0;class l{}h.KeyStore=l},73917:function(B,h,l){"use strict";var u=this&&this.__awaiter||function(m,b,p,x){function S(_){return _ instanceof p?_:new p(function(I){I(_)})}return new(p||(p=Promise))(function(_,I){function R(U){try{w(x.next(U))}catch(D){I(D)}}function k(U){try{w(x.throw(U))}catch(D){I(D)}}function w(U){U.done?_(U.value):S(U.value).then(R,k)}w((x=x.apply(m,b||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0}),h.MergeKeyStore=void 0;const d=l(56363);class v extends d.KeyStore{constructor(b,p={writeKeyStoreIndex:0}){super(),this.options=p,this.keyStores=b}setKey(b,p,x){return u(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(b,p,x)})}getKey(b,p){return u(this,void 0,void 0,function*(){for(const x of this.keyStores){const S=yield x.getKey(b,p);if(S)return S}return null})}removeKey(b,p){return u(this,void 0,void 0,function*(){for(const x of this.keyStores)yield x.removeKey(b,p)})}clear(){return u(this,void 0,void 0,function*(){for(const b of this.keyStores)yield b.clear()})}getNetworks(){return u(this,void 0,void 0,function*(){const b=new Set;for(const p of this.keyStores)for(const x of yield p.getNetworks())b.add(x);return Array.from(b)})}getAccounts(b){return u(this,void 0,void 0,function*(){const p=new Set;for(const x of this.keyStores)for(const S of yield x.getAccounts(b))p.add(S);return Array.from(p)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}h.MergeKeyStore=v},48788:function(B,h,l){"use strict";var u=l(55872).Buffer;Object.defineProperty(h,"__esModule",{value:!0}),h.actionCreators=h.stringifyJsonOrBytes=void 0;const d=l(7632);function v(){return new d.AccessKey({permission:new d.AccessKeyPermission({fullAccess:new d.FullAccessPermission({})})})}function m(D,$,V){return new d.AccessKey({permission:new d.AccessKeyPermission({functionCall:new d.FunctionCallPermission({receiverId:D,allowance:V,methodNames:$})})})}function b(){return new d.Action({createAccount:new d.CreateAccount({})})}function p(D){return new d.Action({deployContract:new d.DeployContract({code:D})})}function x(D){return D.byteLength!==void 0&&D.byteLength===D.length?D:u.from(JSON.stringify(D))}h.stringifyJsonOrBytes=x;function S(D,$,V,j,xe=x,ue=!1){return ue?new d.Action({functionCall:new d.FunctionCall({methodName:D,args:$,gas:V,deposit:j})}):new d.Action({functionCall:new d.FunctionCall({methodName:D,args:xe($),gas:V,deposit:j})})}function _(D){return new d.Action({transfer:new d.Transfer({deposit:D})})}function I(D,$){return new d.Action({stake:new d.Stake({stake:D,publicKey:$})})}function R(D,$){return new d.Action({addKey:new d.AddKey({publicKey:D,accessKey:$})})}function k(D){return new d.Action({deleteKey:new d.DeleteKey({publicKey:D})})}function w(D){return new d.Action({deleteAccount:new d.DeleteAccount({beneficiaryId:D})})}function U({delegateAction:D,signature:$}){return new d.Action({signedDelegate:new d.SignedDelegate({delegateAction:D,signature:$})})}h.actionCreators={addKey:R,createAccount:b,deleteAccount:w,deleteKey:k,deployContract:p,fullAccessKey:v,functionCall:S,functionCallAccessKey:m,signedDelegate:U,stake:I,transfer:_}},7632:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Action=h.SignedDelegate=h.DeleteAccount=h.DeleteKey=h.AddKey=h.Stake=h.Transfer=h.FunctionCall=h.DeployContract=h.CreateAccount=h.IAction=h.AccessKey=h.AccessKeyPermission=h.FullAccessPermission=h.FunctionCallPermission=void 0;const u=l(85918);class d{constructor(xe){if(Object.keys(xe).length!==1)throw new Error("Enum can only take single value");Object.keys(xe).map(ue=>{this[ue]=xe[ue],this.enum=ue})}}class v extends u.Assignable{}h.FunctionCallPermission=v;class m extends u.Assignable{}h.FullAccessPermission=m;class b extends d{}h.AccessKeyPermission=b;class p extends u.Assignable{}h.AccessKey=p;class x extends u.Assignable{}h.IAction=x;class S extends x{}h.CreateAccount=S;class _ extends x{}h.DeployContract=_;class I extends x{}h.FunctionCall=I;class R extends x{}h.Transfer=R;class k extends x{}h.Stake=k;class w extends x{}h.AddKey=w;class U extends x{}h.DeleteKey=U;class D extends x{}h.DeleteAccount=D;class $ extends x{}h.SignedDelegate=$;class V extends d{}h.Action=V},51084:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createTransaction=void 0;const u=l(56855);function d(v,m,b,p,x,S){return new u.Transaction({signerId:v,publicKey:m,nonce:p,receiverId:b,actions:x,blockHash:S})}h.createTransaction=d},72864:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.buildDelegateAction=h.DelegateAction=void 0;const u=l(85918);class d extends u.Assignable{}h.DelegateAction=d;function v({actions:m,maxBlockHeight:b,nonce:p,publicKey:x,receiverId:S,senderId:_}){return new d({senderId:_,receiverId:S,actions:m,nonce:p,maxBlockHeight:b,publicKey:x})}h.buildDelegateAction=v},7782:function(B,h,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,p){p===void 0&&(p=b);var x=Object.getOwnPropertyDescriptor(m,b);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,p,x)}:function(v,m,b,p){p===void 0&&(p=b),v[p]=m[b]}),d=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(h,"__esModule",{value:!0}),d(l(48788),h),d(l(7632),h),d(l(51084),h),d(l(72864),h),d(l(56855),h),d(l(65086),h),d(l(6409),h)},59659:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DelegateActionPrefix=void 0;const u=l(85918),d=Math.pow(2,30),v={MetaTransactions:366};class m extends u.Assignable{}class b extends m{constructor(S){super({prefix:d+S})}}class p extends b{constructor(){super(v.MetaTransactions)}}h.DelegateActionPrefix=p},56855:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SCHEMA=h.SignedTransaction=h.Transaction=h.decodeSignedTransaction=h.decodeTransaction=h.encodeTransaction=h.encodeSignedDelegate=h.encodeDelegateAction=void 0;const u=l(38369),d=l(85918),v=l(48797),m=l(7632),b=l(72864),p=l(59659),x=l(6409);function S(D){return new Uint8Array([...(0,v.serialize)(h.SCHEMA,new p.DelegateActionPrefix),...(0,v.serialize)(h.SCHEMA,D)])}h.encodeDelegateAction=S;function _(D){return(0,v.serialize)(h.SCHEMA,D)}h.encodeSignedDelegate=_;function I(D){return(0,v.serialize)(h.SCHEMA,D)}h.encodeTransaction=I;function R(D){return(0,v.deserialize)(h.SCHEMA,w,D)}h.decodeTransaction=R;function k(D){return(0,v.deserialize)(h.SCHEMA,U,D)}h.decodeSignedTransaction=k;class w extends d.Assignable{encode(){return I(this)}static decode($){return R($)}}h.Transaction=w;class U extends d.Assignable{encode(){return I(this)}static decode($){return k($)}}h.SignedTransaction=U,h.SCHEMA=new Map([[x.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[U,{kind:"struct",fields:[["transaction",w],["signature",x.Signature]]}],[w,{kind:"struct",fields:[["signerId","string"],["publicKey",u.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[m.Action]]]}],[u.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[m.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",m.AccessKeyPermission]]}],[m.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",m.FunctionCallPermission],["fullAccess",m.FullAccessPermission]]}],[m.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[m.FullAccessPermission,{kind:"struct",fields:[]}],[m.Action,{kind:"enum",field:"enum",values:[["createAccount",m.CreateAccount],["deployContract",m.DeployContract],["functionCall",m.FunctionCall],["transfer",m.Transfer],["stake",m.Stake],["addKey",m.AddKey],["deleteKey",m.DeleteKey],["deleteAccount",m.DeleteAccount],["signedDelegate",m.SignedDelegate]]}],[m.CreateAccount,{kind:"struct",fields:[]}],[m.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[m.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[m.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[m.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",u.PublicKey]]}],[m.AddKey,{kind:"struct",fields:[["publicKey",u.PublicKey],["accessKey",m.AccessKey]]}],[m.DeleteKey,{kind:"struct",fields:[["publicKey",u.PublicKey]]}],[m.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[b.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[m.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",u.PublicKey]]}],[p.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[m.SignedDelegate,{kind:"struct",fields:[["delegateAction",b.DelegateAction],["signature",x.Signature]]}]])},65086:function(B,h,l){"use strict";var u=this&&this.__awaiter||function(R,k,w,U){function D($){return $ instanceof w?$:new w(function(V){V($)})}return new(w||(w=Promise))(function($,V){function j(L){try{ue(U.next(L))}catch(W){V(W)}}function xe(L){try{ue(U.throw(L))}catch(W){V(W)}}function ue(L){L.done?$(L.value):D(L.value).then(j,xe)}ue((U=U.apply(R,k||[])).next())})},d=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(h,"__esModule",{value:!0}),h.signDelegateAction=h.signTransaction=void 0;const v=d(l(3541)),m=l(7632),b=l(51084),p=l(56855),x=l(6409);function S(R,k,w,U){return u(this,void 0,void 0,function*(){const D=(0,p.encodeTransaction)(R),$=new Uint8Array(v.default.sha256.array(D)),V=yield k.signMessage(D,w,U),j=new p.SignedTransaction({transaction:R,signature:new x.Signature({keyType:R.publicKey.keyType,data:V.signature})});return[$,j]})}function _(...R){return u(this,void 0,void 0,function*(){if(R[0].constructor===p.Transaction){const[k,w,U,D]=R;return S(k,w,U,D)}else{const[k,w,U,D,$,V,j]=R,xe=yield $.getPublicKey(V,j),ue=(0,b.createTransaction)(V,xe,k,w,U,D);return S(ue,$,V,j)}})}h.signTransaction=_;function I({delegateAction:R,signer:k}){return u(this,void 0,void 0,function*(){const w=(0,p.encodeDelegateAction)(R),U=yield k.sign(w),D=new m.SignedDelegate({delegateAction:R,signature:new x.Signature({keyType:R.publicKey.keyType,data:U})});return{hash:new Uint8Array(v.default.sha256.array(w)),signedDelegateAction:D}})}h.signDelegateAction=I},6409:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Signature=void 0;const u=l(85918);class d extends u.Assignable{}h.Signature=d},99491:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Assignable=void 0;class l{constructor(d){Object.keys(d).map(v=>{this[v]=d[v]})}}h.Assignable=l},84770:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ErrorContext=h.TypedError=h.ArgumentTypeError=h.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}h.PositionalArgsError=l;class u extends Error{constructor(b,p,x){super(`Expected ${p} for '${b}' argument, but got '${JSON.stringify(x)}'`)}}h.ArgumentTypeError=u;class d extends Error{constructor(b,p,x){super(b),this.type=p||"UntypedError",this.context=x}}h.TypedError=d;class v{constructor(b){this.transactionHash=b}}h.ErrorContext=v},95036:function(B,h,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,p){p===void 0&&(p=b);var x=Object.getOwnPropertyDescriptor(m,b);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,p,x)}:function(v,m,b,p){p===void 0&&(p=b),v[p]=m[b]}),d=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(h,"__esModule",{value:!0}),d(l(99491),h),d(l(84770),h),d(l(61721),h)},61721:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FinalExecutionStatusBasic=h.ExecutionStatusBasic=h.IdType=void 0;var u=l(88297);Object.defineProperty(h,"IdType",{enumerable:!0,get:function(){return u.IdType}});var d=l(20862);Object.defineProperty(h,"ExecutionStatusBasic",{enumerable:!0,get:function(){return d.ExecutionStatusBasic}}),Object.defineProperty(h,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return d.FinalExecutionStatusBasic}})},88297:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IdType=void 0;var l;(function(u){u.Transaction="transaction",u.Receipt="receipt"})(l=h.IdType||(h.IdType={}))},20862:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FinalExecutionStatusBasic=h.ExecutionStatusBasic=void 0;var l;(function(d){d.Unknown="Unknown",d.Pending="Pending",d.Failure="Failure"})(l=h.ExecutionStatusBasic||(h.ExecutionStatusBasic={}));var u;(function(d){d.NotStarted="NotStarted",d.Started="Started",d.Failure="Failure"})(u=h.FinalExecutionStatusBasic||(h.FinalExecutionStatusBasic={}))},94510:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Assignable=void 0;class l{constructor(d){Object.keys(d).map(v=>{this[v]=d[v]})}}h.Assignable=l},65499:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ErrorContext=h.TypedError=h.ArgumentTypeError=h.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}h.PositionalArgsError=l;class u extends Error{constructor(b,p,x){super(`Expected ${p} for '${b}' argument, but got '${JSON.stringify(x)}'`)}}h.ArgumentTypeError=u;class d extends Error{constructor(b,p,x){super(b),this.type=p||"UntypedError",this.context=x}}h.TypedError=d;class v{constructor(b){this.transactionHash=b}}h.ErrorContext=v},85918:function(B,h,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,p){p===void 0&&(p=b);var x=Object.getOwnPropertyDescriptor(m,b);(!x||("get"in x?!m.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,p,x)}:function(v,m,b,p){p===void 0&&(p=b),v[p]=m[b]}),d=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(h,"__esModule",{value:!0}),d(l(94510),h),d(l(65499),h),d(l(90835),h)},90835:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FinalExecutionStatusBasic=h.ExecutionStatusBasic=h.IdType=void 0;var u=l(42164);Object.defineProperty(h,"IdType",{enumerable:!0,get:function(){return u.IdType}});var d=l(6595);Object.defineProperty(h,"ExecutionStatusBasic",{enumerable:!0,get:function(){return d.ExecutionStatusBasic}}),Object.defineProperty(h,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return d.FinalExecutionStatusBasic}})},42164:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IdType=void 0;var l;(function(u){u.Transaction="transaction",u.Receipt="receipt"})(l=h.IdType||(h.IdType={}))},6595:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FinalExecutionStatusBasic=h.ExecutionStatusBasic=void 0;var l;(function(d){d.Unknown="Unknown",d.Pending="Pending",d.Failure="Failure"})(l=h.ExecutionStatusBasic||(h.ExecutionStatusBasic={}));var u;(function(d){d.NotStarted="NotStarted",d.Started="Started",d.Failure="Failure"})(u=h.FinalExecutionStatusBasic||(h.FinalExecutionStatusBasic={}))},98316:function(B,h,l){"use strict";var u;u={value:!0},h.Z1=u=u=u=u=u=void 0;const d=l(29415),v=l(14400),m=l(40117),b=l(45018),p=l(79426),x=l(27449),S=L=>L[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function _(L){if(typeof L!="string")throw new TypeError(`Invalid mnemonic type: ${typeof L}`);return L.normalize("NFKD")}function I(L){const W=_(L),fe=W.split(" ");if(![12,15,18,21,24].includes(fe.length))throw new Error("Invalid mnemonic");return{nfkd:W,words:fe}}function R(L){d.default.bytes(L,16,20,24,28,32)}function k(L,W=128){if(d.default.number(W),W%32!==0||W>256)throw new TypeError("Invalid entropy");return $((0,p.randomBytes)(W/8),L)}u=k;const w=L=>{const W=8-L.length/4;return new Uint8Array([(0,m.sha256)(L)[0]>>W<<W])};function U(L){if(!Array.isArray(L)||L.length!==2**11||typeof L[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return L.forEach(W=>{if(typeof W!="string")throw new Error(`Wordlist: non-string element: ${W}`)}),x.utils.chain(x.utils.checksum(1,w),x.utils.radix2(11,!0),x.utils.alphabet(L))}function D(L,W){const{words:fe}=I(L),_e=U(W).decode(fe);return R(_e),_e}u=D;function $(L,W){return R(L),U(W).encode(L).join(S(W)?"\u3000":" ")}u=$;function V(L,W){try{D(L,W)}catch{return!1}return!0}u=V;const j=L=>_(`mnemonic${L}`);function xe(L,W=""){return(0,v.pbkdf2Async)(b.sha512,I(L).nfkd,j(W),{c:2048,dkLen:64})}u=xe;function ue(L,W=""){return(0,v.pbkdf2)(b.sha512,I(L).nfkd,j(W),{c:2048,dkLen:64})}h.Z1=ue},33649:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0})},14676:function(B,h,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(m,b,p,x){x===void 0&&(x=p);var S=Object.getOwnPropertyDescriptor(b,p);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[p]}}),Object.defineProperty(m,x,S)}:function(m,b,p,x){x===void 0&&(x=p),m[x]=b[p]}),d=this&&this.__exportStar||function(m,b){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(b,p)&&u(b,m,p)};Object.defineProperty(h,"__esModule",{value:!0});const v=l(67301);h.default=v.PromisePool,d(l(33649),h),d(l(67301),h),d(l(17090),h),d(l(58059),h),d(l(23457),h),d(l(12559),h)},17090:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PromisePoolError=void 0;class l extends Error{constructor(d,v){super(),this.raw=d,this.item=v,this.name=this.constructor.name,this.message=this.messageFrom(d),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(d,v){return new this(d,v)}messageFrom(d){return d instanceof Error||typeof d=="object"?d.message:typeof d=="string"||typeof d=="number"?d.toString():""}}h.PromisePoolError=l},26610:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PromisePoolExecutor=void 0;const u=l(67301),d=l(17090),v=l(23457),m=l(12559);class b{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(x){if(!this.isValidConcurrency(x))throw m.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${x}" (${typeof x})`);return this.meta.concurrency=x,this}isValidConcurrency(x){return typeof x=="number"&&x>=1}withTaskTimeout(x){return this.meta.taskTimeout=x,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(x){return this.meta.shouldResultsCorrespond=x,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(x){return this.meta.items=x,this}items(){return this.meta.items}itemsCount(){const x=this.items();return Array.isArray(x)?x.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(x){return this.handler=x,this}hasErrorHandler(){return!!this.errorHandler}handleError(x){return this.errorHandler=x,this}onTaskStarted(x){return this.onTaskStartedHandlers=x,this}onTaskFinished(x){return this.onTaskFinishedHandlers=x,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new v.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw m.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const x=this.taskTimeout();if(!(x==null||typeof x=="number"&&x>=0))throw m.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(x)}" (${typeof x})`);if(!this.areItemsValid())throw m.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw m.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(S=>{if(S&&typeof S!="function")throw m.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof S}"`)}),this.onTaskFinishedHandlers.forEach(S=>{if(S&&typeof S!="function")throw m.ValidationError.createFrom(`The error handler must be a function. Received "${typeof S}"`)}),this}areItemsValid(){const x=this.items();return!!(Array.isArray(x)||typeof x[Symbol.iterator]=="function"||typeof x[Symbol.asyncIterator]=="function")}prepareResultsArray(){const x=this.items();return Array.isArray(x)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(x.length).fill(u.PromisePool.notRun),this):this:this}async process(){let x=0;for await(const S of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[x]=u.PromisePool.notRun),this.startProcessing(S,x),x+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(x,S){const _=this.createTaskFor(x,S).then(I=>{this.save(I,S).removeActive(_)}).catch(async I=>{await this.handleErrorFor(I,x,S),this.removeActive(_)}).finally(()=>{this.processedItems().push(x),this.runOnTaskFinishedHandlers(x)});this.tasks().push(_),this.runOnTaskStartedHandlers(x)}async createTaskFor(x,S){if(this.taskTimeout()===void 0)return this.handler(x,S,this);const[_,I]=this.createTaskTimeout(x);return Promise.race([this.handler(x,S,this),_()]).finally(I)}createTaskTimeout(x){let S;return[async()=>new Promise((R,k)=>{S=setTimeout(()=>{k(new d.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,x))},this.taskTimeout())}),()=>clearTimeout(S)]}save(x,S){return this.shouldUseCorrespondingResults()?this.results()[S]=x:this.results().push(x),this}removeActive(x){return this.tasks().splice(this.tasks().indexOf(x),1),this}async handleErrorFor(x,S,_){if(this.shouldUseCorrespondingResults()&&(this.results()[_]=u.PromisePool.failed),!this.isStoppingThePoolError(x)){if(this.isValidationError(x))throw this.markAsStopped(),x;this.hasErrorHandler()?await this.runErrorHandlerFor(x,S):this.saveErrorFor(x,S)}}isStoppingThePoolError(x){return x instanceof v.StopThePromisePoolError}isValidationError(x){return x instanceof m.ValidationError}async runErrorHandlerFor(x,S){var _;try{await((_=this.errorHandler)==null?void 0:_.call(this,x,S,this))}catch(I){this.rethrowIfNotStoppingThePool(I)}}runOnTaskStartedHandlers(x){this.onTaskStartedHandlers.forEach(S=>{S(x,this)})}runOnTaskFinishedHandlers(x){this.onTaskFinishedHandlers.forEach(S=>{S(x,this)})}rethrowIfNotStoppingThePool(x){if(!this.isStoppingThePoolError(x))throw x}saveErrorFor(x,S){this.errors().push(d.PromisePoolError.createFrom(x,S))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}h.PromisePoolExecutor=b},67301:function(B,h,l){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PromisePool=void 0;const u=l(26610);class d{constructor(m){this.timeout=void 0,this.concurrency=10,this.items=m??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(m){return this.concurrency=m,this}static withConcurrency(m){return new this().withConcurrency(m)}withTaskTimeout(m){return this.timeout=m,this}static withTaskTimeout(m){return new this().withTaskTimeout(m)}for(m){const b=new d(m).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&b.handleError(this.errorHandler),typeof this.timeout=="number"?b.withTaskTimeout(this.timeout):b}static for(m){return new this().for(m)}handleError(m){return this.errorHandler=m,this}onTaskStarted(m){return this.onTaskStartedHandlers.push(m),this}onTaskFinished(m){return this.onTaskFinishedHandlers.push(m),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(m){return new u.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(m).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}h.PromisePool=d,d.notRun=Symbol("notRun"),d.failed=Symbol("failed")},58059:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0})},23457:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StopThePromisePoolError=void 0;class l extends Error{}h.StopThePromisePoolError=l},12559:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ValidationError=void 0;class l extends Error{constructor(d){super(d),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(d){return new this(d)}}h.ValidationError=l},39556:function(B){"use strict";(function(h){function l(M){return parseInt(M)===M}function u(M){if(!l(M.length))return!1;for(var z=0;z<M.length;z++)if(!l(M[z])||M[z]<0||M[z]>255)return!1;return!0}function d(M,z){if(M.buffer&&ArrayBuffer.isView(M)&&M.name==="Uint8Array")return z&&(M.slice?M=M.slice():M=Array.prototype.slice.call(M)),M;if(Array.isArray(M)){if(!u(M))throw new Error("Array contains invalid value: "+M);return new Uint8Array(M)}if(l(M.length)&&u(M))return new Uint8Array(M);throw new Error("unsupported array-like object")}function v(M){return new Uint8Array(M)}function m(M,z,se,X,Y){(X!=null||Y!=null)&&(M.slice?M=M.slice(X,Y):M=Array.prototype.slice.call(M,X,Y)),z.set(M,se)}var b=function(){function M(se){var X=[],Y=0;for(se=encodeURI(se);Y<se.length;){var Ee=se.charCodeAt(Y++);Ee===37?(X.push(parseInt(se.substr(Y,2),16)),Y+=2):X.push(Ee)}return d(X)}function z(se){for(var X=[],Y=0;Y<se.length;){var Ee=se[Y];Ee<128?(X.push(String.fromCharCode(Ee)),Y++):Ee>191&&Ee<224?(X.push(String.fromCharCode((Ee&31)<<6|se[Y+1]&63)),Y+=2):(X.push(String.fromCharCode((Ee&15)<<12|(se[Y+1]&63)<<6|se[Y+2]&63)),Y+=3)}return X.join("")}return{toBytes:M,fromBytes:z}}(),p=function(){function M(X){for(var Y=[],Ee=0;Ee<X.length;Ee+=2)Y.push(parseInt(X.substr(Ee,2),16));return Y}var z="0123456789abcdef";function se(X){for(var Y=[],Ee=0;Ee<X.length;Ee++){var Qe=X[Ee];Y.push(z[(Qe&240)>>4]+z[Qe&15])}return Y.join("")}return{toBytes:M,fromBytes:se}}(),x={16:10,24:12,32:14},S=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],I=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],R=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],k=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],D=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],$=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],V=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],j=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],xe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ue=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],L=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],W=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function fe(M){for(var z=[],se=0;se<M.length;se+=4)z.push(M[se]<<24|M[se+1]<<16|M[se+2]<<8|M[se+3]);return z}var _e=function(M){if(!(this instanceof _e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:d(M,!0)}),this._prepare()};_e.prototype._prepare=function(){var M=x[this.key.length];if(M==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var z=0;z<=M;z++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var se=(M+1)*4,X=this.key.length/4,Y=fe(this.key),Ee,z=0;z<X;z++)Ee=z>>2,this._Ke[Ee][z%4]=Y[z],this._Kd[M-Ee][z%4]=Y[z];for(var Qe=0,Ae=X,Ke;Ae<se;){if(Ke=Y[X-1],Y[0]^=_[Ke>>16&255]<<24^_[Ke>>8&255]<<16^_[Ke&255]<<8^_[Ke>>24&255]^S[Qe]<<24,Qe+=1,X!=8)for(var z=1;z<X;z++)Y[z]^=Y[z-1];else{for(var z=1;z<X/2;z++)Y[z]^=Y[z-1];Ke=Y[X/2-1],Y[X/2]^=_[Ke&255]^_[Ke>>8&255]<<8^_[Ke>>16&255]<<16^_[Ke>>24&255]<<24;for(var z=X/2+1;z<X;z++)Y[z]^=Y[z-1]}for(var z=0,It,Ot;z<X&&Ae<se;)It=Ae>>2,Ot=Ae%4,this._Ke[It][Ot]=Y[z],this._Kd[M-It][Ot]=Y[z++],Ae++}for(var It=1;It<M;It++)for(var Ot=0;Ot<4;Ot++)Ke=this._Kd[It][Ot],this._Kd[It][Ot]=xe[Ke>>24&255]^ue[Ke>>16&255]^L[Ke>>8&255]^W[Ke&255]},_e.prototype.encrypt=function(M){if(M.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var z=this._Ke.length-1,se=[0,0,0,0],X=fe(M),Y=0;Y<4;Y++)X[Y]^=this._Ke[0][Y];for(var Ee=1;Ee<z;Ee++){for(var Y=0;Y<4;Y++)se[Y]=R[X[Y]>>24&255]^k[X[(Y+1)%4]>>16&255]^w[X[(Y+2)%4]>>8&255]^U[X[(Y+3)%4]&255]^this._Ke[Ee][Y];X=se.slice()}for(var Qe=v(16),Ae,Y=0;Y<4;Y++)Ae=this._Ke[z][Y],Qe[4*Y]=(_[X[Y]>>24&255]^Ae>>24)&255,Qe[4*Y+1]=(_[X[(Y+1)%4]>>16&255]^Ae>>16)&255,Qe[4*Y+2]=(_[X[(Y+2)%4]>>8&255]^Ae>>8)&255,Qe[4*Y+3]=(_[X[(Y+3)%4]&255]^Ae)&255;return Qe},_e.prototype.decrypt=function(M){if(M.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var z=this._Kd.length-1,se=[0,0,0,0],X=fe(M),Y=0;Y<4;Y++)X[Y]^=this._Kd[0][Y];for(var Ee=1;Ee<z;Ee++){for(var Y=0;Y<4;Y++)se[Y]=D[X[Y]>>24&255]^$[X[(Y+3)%4]>>16&255]^V[X[(Y+2)%4]>>8&255]^j[X[(Y+1)%4]&255]^this._Kd[Ee][Y];X=se.slice()}for(var Qe=v(16),Ae,Y=0;Y<4;Y++)Ae=this._Kd[z][Y],Qe[4*Y]=(I[X[Y]>>24&255]^Ae>>24)&255,Qe[4*Y+1]=(I[X[(Y+3)%4]>>16&255]^Ae>>16)&255,Qe[4*Y+2]=(I[X[(Y+2)%4]>>8&255]^Ae>>8)&255,Qe[4*Y+3]=(I[X[(Y+1)%4]&255]^Ae)&255;return Qe};var Re=function(M){if(!(this instanceof Re))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new _e(M)};Re.prototype.encrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var z=v(M.length),se=v(16),X=0;X<M.length;X+=16)m(M,se,0,X,X+16),se=this._aes.encrypt(se),m(se,z,X);return z},Re.prototype.decrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var z=v(M.length),se=v(16),X=0;X<M.length;X+=16)m(M,se,0,X,X+16),se=this._aes.decrypt(se),m(se,z,X);return z};var ae=function(M,z){if(!(this instanceof ae))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!z)z=v(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=d(z,!0),this._aes=new _e(M)};ae.prototype.encrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var z=v(M.length),se=v(16),X=0;X<M.length;X+=16){m(M,se,0,X,X+16);for(var Y=0;Y<16;Y++)se[Y]^=this._lastCipherblock[Y];this._lastCipherblock=this._aes.encrypt(se),m(this._lastCipherblock,z,X)}return z},ae.prototype.decrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var z=v(M.length),se=v(16),X=0;X<M.length;X+=16){m(M,se,0,X,X+16),se=this._aes.decrypt(se);for(var Y=0;Y<16;Y++)z[X+Y]=se[Y]^this._lastCipherblock[Y];m(M,this._lastCipherblock,0,X,X+16)}return z};var we=function(M,z,se){if(!(this instanceof we))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!z)z=v(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");se||(se=1),this.segmentSize=se,this._shiftRegister=d(z,!0),this._aes=new _e(M)};we.prototype.encrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var z=d(M,!0),se,X=0;X<z.length;X+=this.segmentSize){se=this._aes.encrypt(this._shiftRegister);for(var Y=0;Y<this.segmentSize;Y++)z[X+Y]^=se[Y];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(z,this._shiftRegister,16-this.segmentSize,X,X+this.segmentSize)}return z},we.prototype.decrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var z=d(M,!0),se,X=0;X<z.length;X+=this.segmentSize){se=this._aes.encrypt(this._shiftRegister);for(var Y=0;Y<this.segmentSize;Y++)z[X+Y]^=se[Y];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(M,this._shiftRegister,16-this.segmentSize,X,X+this.segmentSize)}return z};var ve=function(M,z){if(!(this instanceof ve))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!z)z=v(16);else if(z.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=d(z,!0),this._lastPrecipherIndex=16,this._aes=new _e(M)};ve.prototype.encrypt=function(M){for(var z=d(M,!0),se=0;se<z.length;se++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),z[se]^=this._lastPrecipher[this._lastPrecipherIndex++];return z},ve.prototype.decrypt=ve.prototype.encrypt;var Ce=function(M){if(!(this instanceof Ce))throw Error("Counter must be instanitated with `new`");M!==0&&!M&&(M=1),typeof M=="number"?(this._counter=v(16),this.setValue(M)):this.setBytes(M)};Ce.prototype.setValue=function(M){if(typeof M!="number"||parseInt(M)!=M)throw new Error("invalid counter value (must be an integer)");for(var z=15;z>=0;--z)this._counter[z]=M%256,M=M>>8},Ce.prototype.setBytes=function(M){if(M=d(M,!0),M.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=M},Ce.prototype.increment=function(){for(var M=15;M>=0;M--)if(this._counter[M]===255)this._counter[M]=0;else{this._counter[M]++;break}};var Fe=function(M,z){if(!(this instanceof Fe))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",z instanceof Ce||(z=new Ce(z)),this._counter=z,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new _e(M)};Fe.prototype.encrypt=function(M){for(var z=d(M,!0),se=0;se<z.length;se++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),z[se]^=this._remainingCounter[this._remainingCounterIndex++];return z},Fe.prototype.decrypt=Fe.prototype.encrypt;function lt(M){M=d(M,!0);var z=16-M.length%16,se=v(M.length+z);m(M,se);for(var X=M.length;X<se.length;X++)se[X]=z;return se}function nt(M){if(M=d(M,!0),M.length<16)throw new Error("PKCS#7 invalid length");var z=M[M.length-1];if(z>16)throw new Error("PKCS#7 padding byte out of range");for(var se=M.length-z,X=0;X<z;X++)if(M[se+X]!==z)throw new Error("PKCS#7 invalid padding byte");var Y=v(se);return m(M,Y,0,0,se),Y}var J={AES:_e,Counter:Ce,ModeOfOperation:{ecb:Re,cbc:ae,cfb:we,ofb:ve,ctr:Fe},utils:{hex:p,utf8:b},padding:{pkcs7:{pad:lt,strip:nt}},_arrayTest:{coerceArray:d,createArray:v,copyArray:m}};B.exports=J})(this)},29938:function(B,h,l){var u=l(38032);function d(v,m){function b(p,x){var S=m||{},_;"randomize"in S||(S.randomize=!0),_=u.operation(S);function I(w){x(w||new Error("Aborted"))}function R(w,U){if(w.bail){I(w);return}_.retry(w)?S.onRetry&&S.onRetry(w,U):x(_.mainError())}function k(w){var U;try{U=v(I,w)}catch(D){R(D,w);return}Promise.resolve(U).then(p).catch(function($){R($,w)})}_.attempt(k)}return new Promise(b)}B.exports=d},67886:function(B,h,l){B.exports=l(24180)},52799:function(B,h,l){"use strict";var u=l(15013),d=l(10898),v=l(60823),m=l(90575),b=l(45456),p=l(76630),x=l(39736),S=l(1184),_=l(15763),I=l(34477),R=l(40480);B.exports=function(w){return new Promise(function(D,$){var V=w.data,j=w.headers,xe=w.responseType,ue;function L(){w.cancelToken&&w.cancelToken.unsubscribe(ue),w.signal&&w.signal.removeEventListener("abort",ue)}u.isFormData(V)&&u.isStandardBrowserEnv()&&delete j["Content-Type"];var W=new XMLHttpRequest;if(w.auth){var fe=w.auth.username||"",_e=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";j.Authorization="Basic "+btoa(fe+":"+_e)}var Re=b(w.baseURL,w.url);W.open(w.method.toUpperCase(),m(Re,w.params,w.paramsSerializer),!0),W.timeout=w.timeout;function ae(){if(W){var Ce="getAllResponseHeaders"in W?p(W.getAllResponseHeaders()):null,Fe=!xe||xe==="text"||xe==="json"?W.responseText:W.response,lt={data:Fe,status:W.status,statusText:W.statusText,headers:Ce,config:w,request:W};d(function(J){D(J),L()},function(J){$(J),L()},lt),W=null}}if("onloadend"in W?W.onloadend=ae:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(ae)},W.onabort=function(){W&&($(new _("Request aborted",_.ECONNABORTED,w,W)),W=null)},W.onerror=function(){$(new _("Network Error",_.ERR_NETWORK,w,W,W)),W=null},W.ontimeout=function(){var Fe=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",lt=w.transitional||S;w.timeoutErrorMessage&&(Fe=w.timeoutErrorMessage),$(new _(Fe,lt.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,w,W)),W=null},u.isStandardBrowserEnv()){var we=(w.withCredentials||x(Re))&&w.xsrfCookieName?v.read(w.xsrfCookieName):void 0;we&&(j[w.xsrfHeaderName]=we)}"setRequestHeader"in W&&u.forEach(j,function(Fe,lt){typeof V>"u"&&lt.toLowerCase()==="content-type"?delete j[lt]:W.setRequestHeader(lt,Fe)}),u.isUndefined(w.withCredentials)||(W.withCredentials=!!w.withCredentials),xe&&xe!=="json"&&(W.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&W.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&W.upload&&W.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(ue=function(Ce){W&&($(!Ce||Ce&&Ce.type?new I:Ce),W.abort(),W=null)},w.cancelToken&&w.cancelToken.subscribe(ue),w.signal&&(w.signal.aborted?ue():w.signal.addEventListener("abort",ue))),V||(V=null);var ve=R(Re);if(ve&&["http","https","file"].indexOf(ve)===-1){$(new _("Unsupported protocol "+ve+":",_.ERR_BAD_REQUEST,w));return}W.send(V)})}},24180:function(B,h,l){"use strict";var u=l(15013),d=l(40239),v=l(88800),m=l(8772),b=l(41639);function p(S){var _=new v(S),I=d(v.prototype.request,_);return u.extend(I,v.prototype,_),u.extend(I,_),I.create=function(k){return p(m(S,k))},I}var x=p(b);x.Axios=v,x.CanceledError=l(34477),x.CancelToken=l(86291),x.isCancel=l(70338),x.VERSION=l(98114).version,x.toFormData=l(71453),x.AxiosError=l(15763),x.Cancel=x.CanceledError,x.all=function(_){return Promise.all(_)},x.spread=l(60850),x.isAxiosError=l(1200),B.exports=x,B.exports.default=x},86291:function(B,h,l){"use strict";var u=l(34477);function d(v){if(typeof v!="function")throw new TypeError("executor must be a function.");var m;this.promise=new Promise(function(x){m=x});var b=this;this.promise.then(function(p){if(b._listeners){var x,S=b._listeners.length;for(x=0;x<S;x++)b._listeners[x](p);b._listeners=null}}),this.promise.then=function(p){var x,S=new Promise(function(_){b.subscribe(_),x=_}).then(p);return S.cancel=function(){b.unsubscribe(x)},S},v(function(x){b.reason||(b.reason=new u(x),m(b.reason))})}d.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},d.prototype.subscribe=function(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]},d.prototype.unsubscribe=function(m){if(this._listeners){var b=this._listeners.indexOf(m);b!==-1&&this._listeners.splice(b,1)}},d.source=function(){var m,b=new d(function(x){m=x});return{token:b,cancel:m}},B.exports=d},34477:function(B,h,l){"use strict";var u=l(15763),d=l(15013);function v(m){u.call(this,m??"canceled",u.ERR_CANCELED),this.name="CanceledError"}d.inherits(v,u,{__CANCEL__:!0}),B.exports=v},70338:function(B){"use strict";B.exports=function(l){return!!(l&&l.__CANCEL__)}},88800:function(B,h,l){"use strict";var u=l(15013),d=l(90575),v=l(26037),m=l(11269),b=l(8772),p=l(45456),x=l(28942),S=x.validators;function _(I){this.defaults=I,this.interceptors={request:new v,response:new v}}_.prototype.request=function(R,k){typeof R=="string"?(k=k||{},k.url=R):k=R||{},k=b(this.defaults,k),k.method?k.method=k.method.toLowerCase():this.defaults.method?k.method=this.defaults.method.toLowerCase():k.method="get";var w=k.transitional;w!==void 0&&x.assertOptions(w,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1);var U=[],D=!0;this.interceptors.request.forEach(function(fe){typeof fe.runWhen=="function"&&fe.runWhen(k)===!1||(D=D&&fe.synchronous,U.unshift(fe.fulfilled,fe.rejected))});var $=[];this.interceptors.response.forEach(function(fe){$.push(fe.fulfilled,fe.rejected)});var V;if(!D){var j=[m,void 0];for(Array.prototype.unshift.apply(j,U),j=j.concat($),V=Promise.resolve(k);j.length;)V=V.then(j.shift(),j.shift());return V}for(var xe=k;U.length;){var ue=U.shift(),L=U.shift();try{xe=ue(xe)}catch(W){L(W);break}}try{V=m(xe)}catch(W){return Promise.reject(W)}for(;$.length;)V=V.then($.shift(),$.shift());return V},_.prototype.getUri=function(R){R=b(this.defaults,R);var k=p(R.baseURL,R.url);return d(k,R.params,R.paramsSerializer)},u.forEach(["delete","get","head","options"],function(R){_.prototype[R]=function(k,w){return this.request(b(w||{},{method:R,url:k,data:(w||{}).data}))}}),u.forEach(["post","put","patch"],function(R){function k(w){return function(D,$,V){return this.request(b(V||{},{method:R,headers:w?{"Content-Type":"multipart/form-data"}:{},url:D,data:$}))}}_.prototype[R]=k(),_.prototype[R+"Form"]=k(!0)}),B.exports=_},15763:function(B,h,l){"use strict";var u=l(15013);function d(b,p,x,S,_){Error.call(this),this.message=b,this.name="AxiosError",p&&(this.code=p),x&&(this.config=x),S&&(this.request=S),_&&(this.response=_)}u.inherits(d,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var v=d.prototype,m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(b){m[b]={value:b}}),Object.defineProperties(d,m),Object.defineProperty(v,"isAxiosError",{value:!0}),d.from=function(b,p,x,S,_,I){var R=Object.create(v);return u.toFlatObject(b,R,function(w){return w!==Error.prototype}),d.call(R,b.message,p,x,S,_),R.name=b.name,I&&Object.assign(R,I),R},B.exports=d},26037:function(B,h,l){"use strict";var u=l(15013);function d(){this.handlers=[]}d.prototype.use=function(m,b,p){return this.handlers.push({fulfilled:m,rejected:b,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1},d.prototype.eject=function(m){this.handlers[m]&&(this.handlers[m]=null)},d.prototype.forEach=function(m){u.forEach(this.handlers,function(p){p!==null&&m(p)})},B.exports=d},45456:function(B,h,l){"use strict";var u=l(93378),d=l(10402);B.exports=function(m,b){return m&&!u(b)?d(m,b):b}},11269:function(B,h,l){"use strict";var u=l(15013),d=l(82349),v=l(70338),m=l(41639),b=l(34477);function p(x){if(x.cancelToken&&x.cancelToken.throwIfRequested(),x.signal&&x.signal.aborted)throw new b}B.exports=function(S){p(S),S.headers=S.headers||{},S.data=d.call(S,S.data,S.headers,S.transformRequest),S.headers=u.merge(S.headers.common||{},S.headers[S.method]||{},S.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(R){delete S.headers[R]});var _=S.adapter||m.adapter;return _(S).then(function(R){return p(S),R.data=d.call(S,R.data,R.headers,S.transformResponse),R},function(R){return v(R)||(p(S),R&&R.response&&(R.response.data=d.call(S,R.response.data,R.response.headers,S.transformResponse))),Promise.reject(R)})}},8772:function(B,h,l){"use strict";var u=l(15013);B.exports=function(v,m){m=m||{};var b={};function p(k,w){return u.isPlainObject(k)&&u.isPlainObject(w)?u.merge(k,w):u.isPlainObject(w)?u.merge({},w):u.isArray(w)?w.slice():w}function x(k){if(u.isUndefined(m[k])){if(!u.isUndefined(v[k]))return p(void 0,v[k])}else return p(v[k],m[k])}function S(k){if(!u.isUndefined(m[k]))return p(void 0,m[k])}function _(k){if(u.isUndefined(m[k])){if(!u.isUndefined(v[k]))return p(void 0,v[k])}else return p(void 0,m[k])}function I(k){if(k in m)return p(v[k],m[k]);if(k in v)return p(void 0,v[k])}var R={url:S,method:S,data:S,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:I};return u.forEach(Object.keys(v).concat(Object.keys(m)),function(w){var U=R[w]||x,D=U(w);u.isUndefined(D)&&U!==I||(b[w]=D)}),b}},10898:function(B,h,l){"use strict";var u=l(15763);B.exports=function(v,m,b){var p=b.config.validateStatus;!b.status||!p||p(b.status)?v(b):m(new u("Request failed with status code "+b.status,[u.ERR_BAD_REQUEST,u.ERR_BAD_RESPONSE][Math.floor(b.status/100)-4],b.config,b.request,b))}},82349:function(B,h,l){"use strict";var u=l(15013),d=l(41639);B.exports=function(m,b,p){var x=this||d;return u.forEach(p,function(_){m=_.call(x,m,b)}),m}},41639:function(B,h,l){"use strict";var u=l(14224),d=l(15013),v=l(19513),m=l(15763),b=l(1184),p=l(71453),x={"Content-Type":"application/x-www-form-urlencoded"};function S(k,w){!d.isUndefined(k)&&d.isUndefined(k["Content-Type"])&&(k["Content-Type"]=w)}function _(){var k;return(typeof XMLHttpRequest<"u"||typeof u<"u"&&Object.prototype.toString.call(u)==="[object process]")&&(k=l(52799)),k}function I(k,w,U){if(d.isString(k))try{return(w||JSON.parse)(k),d.trim(k)}catch(D){if(D.name!=="SyntaxError")throw D}return(U||JSON.stringify)(k)}var R={transitional:b,adapter:_(),transformRequest:[function(w,U){if(v(U,"Accept"),v(U,"Content-Type"),d.isFormData(w)||d.isArrayBuffer(w)||d.isBuffer(w)||d.isStream(w)||d.isFile(w)||d.isBlob(w))return w;if(d.isArrayBufferView(w))return w.buffer;if(d.isURLSearchParams(w))return S(U,"application/x-www-form-urlencoded;charset=utf-8"),w.toString();var D=d.isObject(w),$=U&&U["Content-Type"],V;if((V=d.isFileList(w))||D&&$==="multipart/form-data"){var j=this.env&&this.env.FormData;return p(V?{"files[]":w}:w,j&&new j)}else if(D||$==="application/json")return S(U,"application/json"),I(w);return w}],transformResponse:[function(w){var U=this.transitional||R.transitional,D=U&&U.silentJSONParsing,$=U&&U.forcedJSONParsing,V=!D&&this.responseType==="json";if(V||$&&d.isString(w)&&w.length)try{return JSON.parse(w)}catch(j){if(V)throw j.name==="SyntaxError"?m.from(j,m.ERR_BAD_RESPONSE,this,null,this.response):j}return w}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l(45965)},validateStatus:function(w){return w>=200&&w<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(w){R.headers[w]={}}),d.forEach(["post","put","patch"],function(w){R.headers[w]=d.merge(x)}),B.exports=R},1184:function(B){"use strict";B.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},98114:function(B){B.exports={version:"0.27.2"}},40239:function(B){"use strict";B.exports=function(l,u){return function(){for(var v=new Array(arguments.length),m=0;m<v.length;m++)v[m]=arguments[m];return l.apply(u,v)}}},90575:function(B,h,l){"use strict";var u=l(15013);function d(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}B.exports=function(m,b,p){if(!b)return m;var x;if(p)x=p(b);else if(u.isURLSearchParams(b))x=b.toString();else{var S=[];u.forEach(b,function(R,k){R===null||typeof R>"u"||(u.isArray(R)?k=k+"[]":R=[R],u.forEach(R,function(U){u.isDate(U)?U=U.toISOString():u.isObject(U)&&(U=JSON.stringify(U)),S.push(d(k)+"="+d(U))}))}),x=S.join("&")}if(x){var _=m.indexOf("#");_!==-1&&(m=m.slice(0,_)),m+=(m.indexOf("?")===-1?"?":"&")+x}return m}},10402:function(B){"use strict";B.exports=function(l,u){return u?l.replace(/\/+$/,"")+"/"+u.replace(/^\/+/,""):l}},60823:function(B,h,l){"use strict";var u=l(15013);B.exports=u.isStandardBrowserEnv()?function(){return{write:function(m,b,p,x,S,_){var I=[];I.push(m+"="+encodeURIComponent(b)),u.isNumber(p)&&I.push("expires="+new Date(p).toGMTString()),u.isString(x)&&I.push("path="+x),u.isString(S)&&I.push("domain="+S),_===!0&&I.push("secure"),document.cookie=I.join("; ")},read:function(m){var b=document.cookie.match(new RegExp("(^|;\\s*)("+m+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(m){this.write(m,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},93378:function(B){"use strict";B.exports=function(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}},1200:function(B,h,l){"use strict";var u=l(15013);B.exports=function(v){return u.isObject(v)&&v.isAxiosError===!0}},39736:function(B,h,l){"use strict";var u=l(15013);B.exports=u.isStandardBrowserEnv()?function(){var v=/(msie|trident)/i.test(navigator.userAgent),m=document.createElement("a"),b;function p(x){var S=x;return v&&(m.setAttribute("href",S),S=m.href),m.setAttribute("href",S),{href:m.href,protocol:m.protocol?m.protocol.replace(/:$/,""):"",host:m.host,search:m.search?m.search.replace(/^\?/,""):"",hash:m.hash?m.hash.replace(/^#/,""):"",hostname:m.hostname,port:m.port,pathname:m.pathname.charAt(0)==="/"?m.pathname:"/"+m.pathname}}return b=p(window.location.href),function(S){var _=u.isString(S)?p(S):S;return _.protocol===b.protocol&&_.host===b.host}}():function(){return function(){return!0}}()},19513:function(B,h,l){"use strict";var u=l(15013);B.exports=function(v,m){u.forEach(v,function(p,x){x!==m&&x.toUpperCase()===m.toUpperCase()&&(v[m]=p,delete v[x])})}},45965:function(B){B.exports=null},76630:function(B,h,l){"use strict";var u=l(15013),d=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];B.exports=function(m){var b={},p,x,S;return m&&u.forEach(m.split(`
`),function(I){if(S=I.indexOf(":"),p=u.trim(I.substr(0,S)).toLowerCase(),x=u.trim(I.substr(S+1)),p){if(b[p]&&d.indexOf(p)>=0)return;p==="set-cookie"?b[p]=(b[p]?b[p]:[]).concat([x]):b[p]=b[p]?b[p]+", "+x:x}}),b}},40480:function(B){"use strict";B.exports=function(l){var u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return u&&u[1]||""}},60850:function(B){"use strict";B.exports=function(l){return function(d){return l.apply(null,d)}}},71453:function(B,h,l){"use strict";var u=l(55872).Buffer,d=l(15013);function v(m,b){b=b||new FormData;var p=[];function x(_){return _===null?"":d.isDate(_)?_.toISOString():d.isArrayBuffer(_)||d.isTypedArray(_)?typeof Blob=="function"?new Blob([_]):u.from(_):_}function S(_,I){if(d.isPlainObject(_)||d.isArray(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+I);p.push(_),d.forEach(_,function(k,w){if(!d.isUndefined(k)){var U=I?I+"."+w:w,D;if(k&&!I&&typeof k=="object"){if(d.endsWith(w,"{}"))k=JSON.stringify(k);else if(d.endsWith(w,"[]")&&(D=d.toArray(k))){D.forEach(function($){!d.isUndefined($)&&b.append(U,x($))});return}}S(k,U)}}),p.pop()}else b.append(I,x(_))}return S(m),b}B.exports=v},28942:function(B,h,l){"use strict";var u=l(98114).version,d=l(15763),v={};["object","boolean","number","function","string","symbol"].forEach(function(p,x){v[p]=function(_){return typeof _===p||"a"+(x<1?"n ":" ")+p}});var m={};v.transitional=function(x,S,_){function I(R,k){return"[Axios v"+u+"] Transitional option '"+R+"'"+k+(_?". "+_:"")}return function(R,k,w){if(x===!1)throw new d(I(k," has been removed"+(S?" in "+S:"")),d.ERR_DEPRECATED);return S&&!m[k]&&(m[k]=!0,console.warn(I(k," has been deprecated since v"+S+" and will be removed in the near future"))),x?x(R,k,w):!0}};function b(p,x,S){if(typeof p!="object")throw new d("options must be an object",d.ERR_BAD_OPTION_VALUE);for(var _=Object.keys(p),I=_.length;I-- >0;){var R=_[I],k=x[R];if(k){var w=p[R],U=w===void 0||k(w,R,p);if(U!==!0)throw new d("option "+R+" must be "+U,d.ERR_BAD_OPTION_VALUE);continue}if(S!==!0)throw new d("Unknown option "+R,d.ERR_BAD_OPTION)}}B.exports={assertOptions:b,validators:v}},15013:function(B,h,l){"use strict";var u=l(40239),d=Object.prototype.toString,v=function(J){return function(M){var z=d.call(M);return J[z]||(J[z]=z.slice(8,-1).toLowerCase())}}(Object.create(null));function m(J){return J=J.toLowerCase(),function(z){return v(z)===J}}function b(J){return Array.isArray(J)}function p(J){return typeof J>"u"}function x(J){return J!==null&&!p(J)&&J.constructor!==null&&!p(J.constructor)&&typeof J.constructor.isBuffer=="function"&&J.constructor.isBuffer(J)}var S=m("ArrayBuffer");function _(J){var M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(J):M=J&&J.buffer&&S(J.buffer),M}function I(J){return typeof J=="string"}function R(J){return typeof J=="number"}function k(J){return J!==null&&typeof J=="object"}function w(J){if(v(J)!=="object")return!1;var M=Object.getPrototypeOf(J);return M===null||M===Object.prototype}var U=m("Date"),D=m("File"),$=m("Blob"),V=m("FileList");function j(J){return d.call(J)==="[object Function]"}function xe(J){return k(J)&&j(J.pipe)}function ue(J){var M="[object FormData]";return J&&(typeof FormData=="function"&&J instanceof FormData||d.call(J)===M||j(J.toString)&&J.toString()===M)}var L=m("URLSearchParams");function W(J){return J.trim?J.trim():J.replace(/^\s+|\s+$/g,"")}function fe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function _e(J,M){if(!(J===null||typeof J>"u"))if(typeof J!="object"&&(J=[J]),b(J))for(var z=0,se=J.length;z<se;z++)M.call(null,J[z],z,J);else for(var X in J)Object.prototype.hasOwnProperty.call(J,X)&&M.call(null,J[X],X,J)}function Re(){var J={};function M(X,Y){w(J[Y])&&w(X)?J[Y]=Re(J[Y],X):w(X)?J[Y]=Re({},X):b(X)?J[Y]=X.slice():J[Y]=X}for(var z=0,se=arguments.length;z<se;z++)_e(arguments[z],M);return J}function ae(J,M,z){return _e(M,function(X,Y){z&&typeof X=="function"?J[Y]=u(X,z):J[Y]=X}),J}function we(J){return J.charCodeAt(0)===65279&&(J=J.slice(1)),J}function ve(J,M,z,se){J.prototype=Object.create(M.prototype,se),J.prototype.constructor=J,z&&Object.assign(J.prototype,z)}function Ce(J,M,z){var se,X,Y,Ee={};M=M||{};do{for(se=Object.getOwnPropertyNames(J),X=se.length;X-- >0;)Y=se[X],Ee[Y]||(M[Y]=J[Y],Ee[Y]=!0);J=Object.getPrototypeOf(J)}while(J&&(!z||z(J,M))&&J!==Object.prototype);return M}function Fe(J,M,z){J=String(J),(z===void 0||z>J.length)&&(z=J.length),z-=M.length;var se=J.indexOf(M,z);return se!==-1&&se===z}function lt(J){if(!J)return null;var M=J.length;if(p(M))return null;for(var z=new Array(M);M-- >0;)z[M]=J[M];return z}var nt=function(J){return function(M){return J&&M instanceof J}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));B.exports={isArray:b,isArrayBuffer:S,isBuffer:x,isFormData:ue,isArrayBufferView:_,isString:I,isNumber:R,isObject:k,isPlainObject:w,isUndefined:p,isDate:U,isFile:D,isBlob:$,isFunction:j,isStream:xe,isURLSearchParams:L,isStandardBrowserEnv:fe,forEach:_e,merge:Re,extend:ae,trim:W,stripBOM:we,inherits:ve,toFlatObject:Ce,kindOf:v,kindOfTest:m,endsWith:Fe,toArray:lt,isTypedArray:nt,isFileList:V}},71504:function(B,h,l){"use strict";var u,d=l(55872).Buffer;u={value:!0};var v=l(50521);function m(I,R){return R===void 0&&(R="utf8"),d.isBuffer(I)?x(I.toString("base64")):x(d.from(I,R).toString("base64"))}function b(I,R){return R===void 0&&(R="utf8"),d.from(p(I),"base64").toString(R)}function p(I){return I=I.toString(),v.default(I).replace(/\-/g,"+").replace(/_/g,"/")}function x(I){return I.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(I){return d.from(p(I),"base64")}var _=m;_.encode=m,_.decode=b,_.toBase64=p,_.fromBase64=x,_.toBuffer=S,h.default=_},50521:function(B,h,l){"use strict";var u=l(55872).Buffer;Object.defineProperty(h,"__esModule",{value:!0});function d(v){var m=4,b=v.length,p=b%m;if(!p)return v;var x=b,S=m-p,_=b+S,I=u.alloc(_);for(I.write(v);S--;)I.write("=",x++);return I.toString()}h.default=d},27220:function(B,h,l){B.exports=l(71504).default,B.exports.default=B.exports},36243:function(B){B.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var createOutputMethod=function(B,h){return function(l){return new Sha256(h,!0).update(l)[B]()}},createMethod=function(B){var h=createOutputMethod("hex",B);NODE_JS&&(h=nodeWrap(h,B)),h.create=function(){return new Sha256(B)},h.update=function(d){return h.create().update(d)};for(var l=0;l<OUTPUT_TYPES.length;++l){var u=OUTPUT_TYPES[l];h[u]=createOutputMethod(u,B)}return h},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(B){if(typeof B=="string")return crypto.createHash(algorithm).update(B,"utf8").digest("hex");if(B==null)throw new Error(ERROR);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),Array.isArray(B)||ArrayBuffer.isView(B)||B.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(B)).digest("hex"):method(B)};return nodeMethod},createHmacOutputMethod=function(B,h){return function(l,u){return new HmacSha256(l,h,!0).update(u)[B]()}},createHmacMethod=function(B){var h=createHmacOutputMethod("hex",B);h.create=function(d){return new HmacSha256(d,B)},h.update=function(d,v){return h.create(d).update(v)};for(var l=0;l<OUTPUT_TYPES.length;++l){var u=OUTPUT_TYPES[l];h[u]=createHmacOutputMethod(u,B)}return h};function Sha256(B,h){h?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}Sha256.prototype.update=function(B){if(!this.finalized){var h,l=typeof B;if(l!=="string"){if(l==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);h=!0}for(var u,d=0,v,m=B.length,b=this.blocks;d<m;){if(this.hashed&&(this.hashed=!1,b[0]=this.block,b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0),h)for(v=this.start;d<m&&v<64;++d)b[v>>2]|=B[d]<<SHIFT[v++&3];else for(v=this.start;d<m&&v<64;++d)u=B.charCodeAt(d),u<128?b[v>>2]|=u<<SHIFT[v++&3]:u<2048?(b[v>>2]|=(192|u>>6)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]):u<55296||u>=57344?(b[v>>2]|=(224|u>>12)<<SHIFT[v++&3],b[v>>2]|=(128|u>>6&63)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]):(u=65536+((u&1023)<<10|B.charCodeAt(++d)&1023),b[v>>2]|=(240|u>>18)<<SHIFT[v++&3],b[v>>2]|=(128|u>>12&63)<<SHIFT[v++&3],b[v>>2]|=(128|u>>6&63)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=b[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,h=this.lastByteIndex;B[16]=this.block,B[h>>2]|=EXTRA[h&3],this.block=B[16],h>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var B=this.h0,h=this.h1,l=this.h2,u=this.h3,d=this.h4,v=this.h5,m=this.h6,b=this.h7,p=this.blocks,x,S,_,I,R,k,w,U,D,$,V;for(x=16;x<64;++x)R=p[x-15],S=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,R=p[x-2],_=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,p[x]=p[x-16]+S+p[x-7]+_<<0;for(V=h&l,x=0;x<64;x+=4)this.first?(this.is224?(U=300032,R=p[0]-1413257819,b=R-150054599<<0,u=R+24177077<<0):(U=704751109,R=p[0]-210244248,b=R-1521486534<<0,u=R+143694565<<0),this.first=!1):(S=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),_=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),U=B&h,I=U^B&l^V,w=d&v^~d&m,R=b+_+w+K[x]+p[x],k=S+I,b=u+R<<0,u=R+k<<0),S=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),_=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),D=u&B,I=D^u&h^U,w=b&d^~b&v,R=m+_+w+K[x+1]+p[x+1],k=S+I,m=l+R<<0,l=R+k<<0,S=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),_=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),$=l&u,I=$^l&B^D,w=m&b^~m&d,R=v+_+w+K[x+2]+p[x+2],k=S+I,v=h+R<<0,h=R+k<<0,S=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),_=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),V=h&l,I=V^h&u^$,w=v&m^~v&b,R=d+_+w+K[x+3]+p[x+3],k=S+I,d=B+R<<0,B=R+k<<0;this.h0=this.h0+B<<0,this.h1=this.h1+h<<0,this.h2=this.h2+l<<0,this.h3=this.h3+u<<0,this.h4=this.h4+d<<0,this.h5=this.h5+v<<0,this.h6=this.h6+m<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var B=this.h0,h=this.h1,l=this.h2,u=this.h3,d=this.h4,v=this.h5,m=this.h6,b=this.h7,p=HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[h&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[v&15]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15];return this.is224||(p+=HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[b&15]),p},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var B=this.h0,h=this.h1,l=this.h2,u=this.h3,d=this.h4,v=this.h5,m=this.h6,b=this.h7,p=[B>>24&255,B>>16&255,B>>8&255,B&255,h>>24&255,h>>16&255,h>>8&255,h&255,l>>24&255,l>>16&255,l>>8&255,l&255,u>>24&255,u>>16&255,u>>8&255,u&255,d>>24&255,d>>16&255,d>>8&255,d&255,v>>24&255,v>>16&255,v>>8&255,v&255,m>>24&255,m>>16&255,m>>8&255,m&255];return this.is224||p.push(b>>24&255,b>>16&255,b>>8&255,b&255),p},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),h=new DataView(B);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),B};function HmacSha256(B,h,l){var u,d=typeof B;if(d==="string"){var v=[],m=B.length,b=0,p;for(u=0;u<m;++u)p=B.charCodeAt(u),p<128?v[b++]=p:p<2048?(v[b++]=192|p>>6,v[b++]=128|p&63):p<55296||p>=57344?(v[b++]=224|p>>12,v[b++]=128|p>>6&63,v[b++]=128|p&63):(p=65536+((p&1023)<<10|B.charCodeAt(++u)&1023),v[b++]=240|p>>18,v[b++]=128|p>>12&63,v[b++]=128|p>>6&63,v[b++]=128|p&63);B=v}else if(d==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);B.length>64&&(B=new Sha256(h,!0).update(B).array());var x=[],S=[];for(u=0;u<64;++u){var _=B[u]||0;x[u]=92^_,S[u]=54^_}Sha256.call(this,h,l),this.update(S),this.oKeyPad=x,this.inner=!0,this.sharedMemory=l}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},41389:function(B,h,l){B.exports=l(69136)(l(91e3))},69136:function(B,h,l){const u=l(40704),d=l(70702);B.exports=function(v){const m=u(v),b=d(v);return function(p,x){switch(typeof p=="string"?p.toLowerCase():p){case"keccak224":return new m(1152,448,null,224,x);case"keccak256":return new m(1088,512,null,256,x);case"keccak384":return new m(832,768,null,384,x);case"keccak512":return new m(576,1024,null,512,x);case"sha3-224":return new m(1152,448,6,224,x);case"sha3-256":return new m(1088,512,6,256,x);case"sha3-384":return new m(832,768,6,384,x);case"sha3-512":return new m(576,1024,6,512,x);case"shake128":return new b(1344,256,31,x);case"shake256":return new b(1088,512,31,x);default:throw new Error("Invald algorithm: "+p)}}}},40704:function(B,h,l){var u=l(55872).Buffer;const{Transform:d}=l(62981);B.exports=v=>class $0 extends d{constructor(b,p,x,S,_){super(_),this._rate=b,this._capacity=p,this._delimitedSuffix=x,this._hashBitLength=S,this._options=_,this._state=new v,this._state.initialize(b,p),this._finalized=!1}_transform(b,p,x){let S=null;try{this.update(b,p)}catch(_){S=_}x(S)}_flush(b){let p=null;try{this.push(this.digest())}catch(x){p=x}b(p)}update(b,p){if(!u.isBuffer(b)&&typeof b!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return u.isBuffer(b)||(b=u.from(b,p)),this._state.absorb(b),this}digest(b){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let p=this._state.squeeze(this._hashBitLength/8);return b!==void 0&&(p=p.toString(b)),this._resetState(),p}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const b=new $0(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(b._state),b._finalized=this._finalized,b}}},70702:function(B,h,l){var u=l(55872).Buffer;const{Transform:d}=l(62981);B.exports=v=>class q0 extends d{constructor(b,p,x,S){super(S),this._rate=b,this._capacity=p,this._delimitedSuffix=x,this._options=S,this._state=new v,this._state.initialize(b,p),this._finalized=!1}_transform(b,p,x){let S=null;try{this.update(b,p)}catch(_){S=_}x(S)}_flush(){}_read(b){this.push(this.squeeze(b))}update(b,p){if(!u.isBuffer(b)&&typeof b!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return u.isBuffer(b)||(b=u.from(b,p)),this._state.absorb(b),this}squeeze(b,p){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let x=this._state.squeeze(b);return p!==void 0&&(x=x.toString(p)),x}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const b=new q0(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(b._state),b._finalized=this._finalized,b}}},26921:function(B,h){const l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];h.p1600=function(u){for(let d=0;d<24;++d){const v=u[0]^u[10]^u[20]^u[30]^u[40],m=u[1]^u[11]^u[21]^u[31]^u[41],b=u[2]^u[12]^u[22]^u[32]^u[42],p=u[3]^u[13]^u[23]^u[33]^u[43],x=u[4]^u[14]^u[24]^u[34]^u[44],S=u[5]^u[15]^u[25]^u[35]^u[45],_=u[6]^u[16]^u[26]^u[36]^u[46],I=u[7]^u[17]^u[27]^u[37]^u[47],R=u[8]^u[18]^u[28]^u[38]^u[48],k=u[9]^u[19]^u[29]^u[39]^u[49];let w=R^(b<<1|p>>>31),U=k^(p<<1|b>>>31);const D=u[0]^w,$=u[1]^U,V=u[10]^w,j=u[11]^U,xe=u[20]^w,ue=u[21]^U,L=u[30]^w,W=u[31]^U,fe=u[40]^w,_e=u[41]^U;w=v^(x<<1|S>>>31),U=m^(S<<1|x>>>31);const Re=u[2]^w,ae=u[3]^U,we=u[12]^w,ve=u[13]^U,Ce=u[22]^w,Fe=u[23]^U,lt=u[32]^w,nt=u[33]^U,J=u[42]^w,M=u[43]^U;w=b^(_<<1|I>>>31),U=p^(I<<1|_>>>31);const z=u[4]^w,se=u[5]^U,X=u[14]^w,Y=u[15]^U,Ee=u[24]^w,Qe=u[25]^U,Ae=u[34]^w,Ke=u[35]^U,It=u[44]^w,Ot=u[45]^U;w=x^(R<<1|k>>>31),U=S^(k<<1|R>>>31);const nr=u[6]^w,cn=u[7]^U,oe=u[16]^w,de=u[17]^U,ge=u[26]^w,Je=u[27]^U,Xe=u[36]^w,Ge=u[37]^U,it=u[46]^w,Qt=u[47]^U;w=_^(v<<1|m>>>31),U=I^(m<<1|v>>>31);const Mt=u[8]^w,wr=u[9]^U,gt=u[18]^w,Bt=u[19]^U,fr=u[28]^w,pr=u[29]^U,Ir=u[38]^w,Tr=u[39]^U,En=u[48]^w,re=u[49]^U,Lr=D,Wn=$,Sn=j<<4|V>>>28,bt=V<<4|j>>>28,un=xe<<3|ue>>>29,fn=ue<<3|xe>>>29,Br=W<<9|L>>>23,Vr=L<<9|W>>>23,dn=fe<<18|_e>>>14,ln=_e<<18|fe>>>14,hn=Re<<1|ae>>>31,On=ae<<1|Re>>>31,xn=ve<<12|we>>>20,Vn=we<<12|ve>>>20,Jn=Ce<<10|Fe>>>22,vr=Fe<<10|Ce>>>22,Ur=nt<<13|lt>>>19,Jr=lt<<13|nt>>>19,_n=J<<2|M>>>30,Nn=M<<2|J>>>30,Mn=se<<30|z>>>2,Xn=z<<30|se>>>2,or=X<<6|Y>>>26,Zn=Y<<6|X>>>26,g=Qe<<11|Ee>>>21,P=Ee<<11|Qe>>>21,T=Ae<<15|Ke>>>17,c=Ke<<15|Ae>>>17,C=Ot<<29|It>>>3,H=It<<29|Ot>>>3,Z=nr<<28|cn>>>4,ne=cn<<28|nr>>>4,be=de<<23|oe>>>9,Me=oe<<23|de>>>9,Pe=ge<<25|Je>>>7,ht=Je<<25|ge>>>7,Ie=Xe<<21|Ge>>>11,$e=Ge<<21|Xe>>>11,We=Qt<<24|it>>>8,et=it<<24|Qt>>>8,Ze=Mt<<27|wr>>>5,ze=wr<<27|Mt>>>5,qe=gt<<20|Bt>>>12,Ve=Bt<<20|gt>>>12,Ue=pr<<7|fr>>>25,De=fr<<7|pr>>>25,ke=Ir<<8|Tr>>>24,Ne=Tr<<8|Ir>>>24,Oe=En<<14|re>>>18,Se=re<<14|En>>>18;u[0]=Lr^~xn&g,u[1]=Wn^~Vn&P,u[10]=Z^~qe&un,u[11]=ne^~Ve&fn,u[20]=hn^~or&Pe,u[21]=On^~Zn&ht,u[30]=Ze^~Sn&Jn,u[31]=ze^~bt&vr,u[40]=Mn^~be&Ue,u[41]=Xn^~Me&De,u[2]=xn^~g&Ie,u[3]=Vn^~P&$e,u[12]=qe^~un&Ur,u[13]=Ve^~fn&Jr,u[22]=or^~Pe&ke,u[23]=Zn^~ht&Ne,u[32]=Sn^~Jn&T,u[33]=bt^~vr&c,u[42]=be^~Ue&Br,u[43]=Me^~De&Vr,u[4]=g^~Ie&Oe,u[5]=P^~$e&Se,u[14]=un^~Ur&C,u[15]=fn^~Jr&H,u[24]=Pe^~ke&dn,u[25]=ht^~Ne&ln,u[34]=Jn^~T&We,u[35]=vr^~c&et,u[44]=Ue^~Br&_n,u[45]=De^~Vr&Nn,u[6]=Ie^~Oe&Lr,u[7]=$e^~Se&Wn,u[16]=Ur^~C&Z,u[17]=Jr^~H&ne,u[26]=ke^~dn&hn,u[27]=Ne^~ln&On,u[36]=T^~We&Ze,u[37]=c^~et&ze,u[46]=Br^~_n&Mn,u[47]=Vr^~Nn&Xn,u[8]=Oe^~Lr&xn,u[9]=Se^~Wn&Vn,u[18]=C^~Z&qe,u[19]=H^~ne&Ve,u[28]=dn^~hn&or,u[29]=ln^~On&Zn,u[38]=We^~Ze&Sn,u[39]=et^~ze&bt,u[48]=_n^~Mn&be,u[49]=Nn^~Xn&Me,u[0]^=l[d*2],u[1]^=l[d*2+1]}}},91e3:function(B,h,l){var u=l(55872).Buffer;const d=l(26921);function v(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}v.prototype.initialize=function(m,b){for(let p=0;p<50;++p)this.state[p]=0;this.blockSize=m/8,this.count=0,this.squeezing=!1},v.prototype.absorb=function(m){for(let b=0;b<m.length;++b)this.state[~~(this.count/4)]^=m[b]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(d.p1600(this.state),this.count=0)},v.prototype.absorbLastFewBits=function(m){this.state[~~(this.count/4)]^=m<<8*(this.count%4),m&128&&this.count===this.blockSize-1&&d.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),d.p1600(this.state),this.count=0,this.squeezing=!0},v.prototype.squeeze=function(m){this.squeezing||this.absorbLastFewBits(1);const b=u.alloc(m);for(let p=0;p<m;++p)b[p]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(d.p1600(this.state),this.count=0);return b},v.prototype.copy=function(m){for(let b=0;b<50;++b)m.state[b]=this.state[b];m.blockSize=this.blockSize,m.count=this.count,m.squeezing=this.squeezing},B.exports=v},38032:function(B,h,l){B.exports=l(54215)},54215:function(B,h,l){var u=l(55310);h.operation=function(d){var v=h.timeouts(d);return new u(v,{forever:d&&(d.forever||d.retries===1/0),unref:d&&d.unref,maxRetryTime:d&&d.maxRetryTime})},h.timeouts=function(d){if(d instanceof Array)return[].concat(d);var v={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var m in d)v[m]=d[m];if(v.minTimeout>v.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var b=[],p=0;p<v.retries;p++)b.push(this.createTimeout(p,v));return d&&d.forever&&!b.length&&b.push(this.createTimeout(p,v)),b.sort(function(x,S){return x-S}),b},h.createTimeout=function(d,v){var m=v.randomize?Math.random()+1:1,b=Math.round(m*Math.max(v.minTimeout,1)*Math.pow(v.factor,d));return b=Math.min(b,v.maxTimeout),b},h.wrap=function(d,v,m){if(v instanceof Array&&(m=v,v=null),!m){m=[];for(var b in d)typeof d[b]=="function"&&m.push(b)}for(var p=0;p<m.length;p++){var x=m[p],S=d[x];d[x]=function(I){var R=h.operation(v),k=Array.prototype.slice.call(arguments,1),w=k.pop();k.push(function(U){R.retry(U)||(U&&(arguments[0]=R.mainError()),w.apply(this,arguments))}),R.attempt(function(){I.apply(d,k)})}.bind(d,S),d[x].options=v}}},55310:function(B){function h(l,u){typeof u=="boolean"&&(u={forever:u}),this._originalTimeouts=JSON.parse(JSON.stringify(l)),this._timeouts=l,this._options=u||{},this._maxRetryTime=u&&u.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=h,h.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},h.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},h.prototype.retry=function(l){if(this._timeout&&clearTimeout(this._timeout),!l)return!1;var u=new Date().getTime();if(l&&u-this._operationStart>=this._maxRetryTime)return this._errors.push(l),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(l);var d=this._timeouts.shift();if(d===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),d=this._cachedTimeouts.slice(-1);else return!1;var v=this;return this._timer=setTimeout(function(){v._attempts++,v._operationTimeoutCb&&(v._timeout=setTimeout(function(){v._operationTimeoutCb(v._attempts)},v._operationTimeout),v._options.unref&&v._timeout.unref()),v._fn(v._attempts)},d),this._options.unref&&this._timer.unref(),!0},h.prototype.attempt=function(l,u){this._fn=l,u&&(u.timeout&&(this._operationTimeout=u.timeout),u.cb&&(this._operationTimeoutCb=u.cb));var d=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){d._operationTimeoutCb()},d._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},h.prototype.try=function(l){console.log("Using RetryOperation.try() is deprecated"),this.attempt(l)},h.prototype.start=function(l){console.log("Using RetryOperation.start() is deprecated"),this.attempt(l)},h.prototype.start=h.prototype.try,h.prototype.errors=function(){return this._errors},h.prototype.attempts=function(){return this._attempts},h.prototype.mainError=function(){if(this._errors.length===0)return null;for(var l={},u=null,d=0,v=0;v<this._errors.length;v++){var m=this._errors[v],b=m.message,p=(l[b]||0)+1;l[b]=p,p>=d&&(u=m,d=p)}return u}},9495:function(B){"use strict";(function(h){function u(k){const w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,D=3144134277,$=1013904242,V=2773480762,j=1359893119,xe=2600822924,ue=528734635,L=1541459225;const W=new Uint32Array(64);function fe(Fe){let lt=0,nt=Fe.length;for(;nt>=64;){let J=U,M=D,z=$,se=V,X=j,Y=xe,Ee=ue,Qe=L,Ae,Ke,It,Ot,nr;for(Ke=0;Ke<16;Ke++)It=lt+Ke*4,W[Ke]=(Fe[It]&255)<<24|(Fe[It+1]&255)<<16|(Fe[It+2]&255)<<8|Fe[It+3]&255;for(Ke=16;Ke<64;Ke++)Ae=W[Ke-2],Ot=(Ae>>>17|Ae<<32-17)^(Ae>>>19|Ae<<32-19)^Ae>>>10,Ae=W[Ke-15],nr=(Ae>>>7|Ae<<32-7)^(Ae>>>18|Ae<<32-18)^Ae>>>3,W[Ke]=(Ot+W[Ke-7]|0)+(nr+W[Ke-16]|0)|0;for(Ke=0;Ke<64;Ke++)Ot=(((X>>>6|X<<32-6)^(X>>>11|X<<32-11)^(X>>>25|X<<32-25))+(X&Y^~X&Ee)|0)+(Qe+(w[Ke]+W[Ke]|0)|0)|0,nr=((J>>>2|J<<32-2)^(J>>>13|J<<32-13)^(J>>>22|J<<32-22))+(J&M^J&z^M&z)|0,Qe=Ee,Ee=Y,Y=X,X=se+Ot|0,se=z,z=M,M=J,J=Ot+nr|0;U=U+J|0,D=D+M|0,$=$+z|0,V=V+se|0,j=j+X|0,xe=xe+Y|0,ue=ue+Ee|0,L=L+Qe|0,lt+=64,nt-=64}}fe(k);let _e,Re=k.length%64,ae=k.length/536870912|0,we=k.length<<3,ve=Re<56?56:120,Ce=k.slice(k.length-Re,k.length);for(Ce.push(128),_e=Re+1;_e<ve;_e++)Ce.push(0);return Ce.push(ae>>>24&255),Ce.push(ae>>>16&255),Ce.push(ae>>>8&255),Ce.push(ae>>>0&255),Ce.push(we>>>24&255),Ce.push(we>>>16&255),Ce.push(we>>>8&255),Ce.push(we>>>0&255),fe(Ce),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,xe>>>24&255,xe>>>16&255,xe>>>8&255,xe>>>0&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255]}function d(k,w,U){k=k.length<=64?k:u(k);const D=64+w.length+4,$=new Array(D),V=new Array(64);let j,xe=[];for(j=0;j<64;j++)$[j]=54;for(j=0;j<k.length;j++)$[j]^=k[j];for(j=0;j<w.length;j++)$[64+j]=w[j];for(j=D-4;j<D;j++)$[j]=0;for(j=0;j<64;j++)V[j]=92;for(j=0;j<k.length;j++)V[j]^=k[j];function ue(){for(let L=D-1;L>=D-4;L--){if($[L]++,$[L]<=255)return;$[L]=0}}for(;U>=32;)ue(),xe=xe.concat(u(V.concat(u($)))),U-=32;return U>0&&(ue(),xe=xe.concat(u(V.concat(u($))).slice(0,U))),xe}function v(k,w,U,D,$){let V;for(x(k,(2*U-1)*16,$,0,16),V=0;V<2*U;V++)p(k,V*16,$,16),b($,D),x($,0,k,w+V*16,16);for(V=0;V<U;V++)x(k,w+V*2*16,k,V*16,16);for(V=0;V<U;V++)x(k,w+(V*2+1)*16,k,(V+U)*16,16)}function m(k,w){return k<<w|k>>>32-w}function b(k,w){x(k,0,w,0,16);for(let U=8;U>0;U-=2)w[4]^=m(w[0]+w[12],7),w[8]^=m(w[4]+w[0],9),w[12]^=m(w[8]+w[4],13),w[0]^=m(w[12]+w[8],18),w[9]^=m(w[5]+w[1],7),w[13]^=m(w[9]+w[5],9),w[1]^=m(w[13]+w[9],13),w[5]^=m(w[1]+w[13],18),w[14]^=m(w[10]+w[6],7),w[2]^=m(w[14]+w[10],9),w[6]^=m(w[2]+w[14],13),w[10]^=m(w[6]+w[2],18),w[3]^=m(w[15]+w[11],7),w[7]^=m(w[3]+w[15],9),w[11]^=m(w[7]+w[3],13),w[15]^=m(w[11]+w[7],18),w[1]^=m(w[0]+w[3],7),w[2]^=m(w[1]+w[0],9),w[3]^=m(w[2]+w[1],13),w[0]^=m(w[3]+w[2],18),w[6]^=m(w[5]+w[4],7),w[7]^=m(w[6]+w[5],9),w[4]^=m(w[7]+w[6],13),w[5]^=m(w[4]+w[7],18),w[11]^=m(w[10]+w[9],7),w[8]^=m(w[11]+w[10],9),w[9]^=m(w[8]+w[11],13),w[10]^=m(w[9]+w[8],18),w[12]^=m(w[15]+w[14],7),w[13]^=m(w[12]+w[15],9),w[14]^=m(w[13]+w[12],13),w[15]^=m(w[14]+w[13],18);for(let U=0;U<16;++U)k[U]+=w[U]}function p(k,w,U,D){for(let $=0;$<D;$++)U[$]^=k[w+$]}function x(k,w,U,D,$){for(;$--;)U[D++]=k[w++]}function S(k){if(!k||typeof k.length!="number")return!1;for(let w=0;w<k.length;w++){const U=k[w];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function _(k,w){if(typeof k!="number"||k%1)throw new Error("invalid "+w);return k}function I(k,w,U,D,$,V,j){if(U=_(U,"N"),D=_(D,"r"),$=_($,"p"),V=_(V,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/D)throw new Error("N too large");if(D>2147483647/128/$)throw new Error("r too large");if(!S(k))throw new Error("password must be an array or buffer");if(k=Array.prototype.slice.call(k),!S(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let xe=d(k,w,$*128*D);const ue=new Uint32Array($*32*D);for(let X=0;X<ue.length;X++){const Y=X*4;ue[X]=(xe[Y+3]&255)<<24|(xe[Y+2]&255)<<16|(xe[Y+1]&255)<<8|(xe[Y+0]&255)<<0}const L=new Uint32Array(64*D),W=new Uint32Array(32*D*U),fe=32*D,_e=new Uint32Array(16),Re=new Uint32Array(16),ae=$*U*2;let we=0,ve=null,Ce=!1,Fe=0,lt=0,nt,J;const M=j?parseInt(1e3/D):4294967295,z=typeof setImmediate<"u"?setImmediate:setTimeout,se=function(){if(Ce)return j(new Error("cancelled"),we/ae);let X;switch(Fe){case 0:J=lt*32*D,x(ue,J,L,0,fe),Fe=1,nt=0;case 1:X=U-nt,X>M&&(X=M);for(let Ee=0;Ee<X;Ee++)x(L,0,W,(nt+Ee)*fe,fe),v(L,fe,D,_e,Re);if(nt+=X,we+=X,j){const Ee=parseInt(1e3*we/ae);if(Ee!==ve){if(Ce=j(null,we/ae),Ce)break;ve=Ee}}if(nt<U)break;nt=0,Fe=2;case 2:X=U-nt,X>M&&(X=M);for(let Ee=0;Ee<X;Ee++){const Qe=(2*D-1)*16,Ae=L[Qe]&U-1;p(W,Ae*fe,L,fe),v(L,fe,D,_e,Re)}if(nt+=X,we+=X,j){const Ee=parseInt(1e3*we/ae);if(Ee!==ve){if(Ce=j(null,we/ae),Ce)break;ve=Ee}}if(nt<U)break;if(x(L,0,ue,J,fe),lt++,lt<$){Fe=0;break}xe=[];for(let Ee=0;Ee<ue.length;Ee++)xe.push(ue[Ee]>>0&255),xe.push(ue[Ee]>>8&255),xe.push(ue[Ee]>>16&255),xe.push(ue[Ee]>>24&255);const Y=d(k,xe,V);return j&&j(null,1,Y),Y}j&&z(se)};if(!j)for(;;){const X=se();if(X!=null)return X}se()}const R={scrypt:function(k,w,U,D,$,V,j){return new Promise(function(xe,ue){let L=0;j&&j(0),I(k,w,U,D,$,V,function(W,fe,_e){if(W)ue(W);else if(_e)j&&L!==1&&j(1),xe(new Uint8Array(_e));else if(j&&fe!==L)return L=fe,j(fe)})})},syncScrypt:function(k,w,U,D,$,V){return new Uint8Array(I(k,w,U,D,$,V))}};B.exports=R})(this)},85323:function(B,h,l){B.exports=l(85830)(l(94235))},94235:function(B,h,l){const u=l(86677).ec,d=new u("secp256k1"),v=d.curve,m=v.n.constructor;function b(_,I){let R=new m(I);if(R.cmp(v.p)>=0)return null;R=R.toRed(v.red);let k=R.redSqr().redIMul(R).redIAdd(v.b).redSqrt();return _===3!==k.isOdd()&&(k=k.redNeg()),d.keyPair({pub:{x:R,y:k}})}function p(_,I,R){let k=new m(I),w=new m(R);if(k.cmp(v.p)>=0||w.cmp(v.p)>=0||(k=k.toRed(v.red),w=w.toRed(v.red),(_===6||_===7)&&w.isOdd()!==(_===7)))return null;const U=k.redSqr().redIMul(k);return w.redSqr().redISub(U.redIAdd(v.b)).isZero()?d.keyPair({pub:{x:k,y:w}}):null}function x(_){const I=_[0];switch(I){case 2:case 3:return _.length!==33?null:b(I,_.subarray(1,33));case 4:case 6:case 7:return _.length!==65?null:p(I,_.subarray(1,33),_.subarray(33,65));default:return null}}function S(_,I){const R=I.encode(null,_.length===33);for(let k=0;k<_.length;++k)_[k]=R[k]}B.exports={contextRandomize(){return 0},privateKeyVerify(_){const I=new m(_);return I.cmp(v.n)<0&&!I.isZero()?0:1},privateKeyNegate(_){const I=new m(_),R=v.n.sub(I).umod(v.n).toArrayLike(Uint8Array,"be",32);return _.set(R),0},privateKeyTweakAdd(_,I){const R=new m(I);if(R.cmp(v.n)>=0||(R.iadd(new m(_)),R.cmp(v.n)>=0&&R.isub(v.n),R.isZero()))return 1;const k=R.toArrayLike(Uint8Array,"be",32);return _.set(k),0},privateKeyTweakMul(_,I){let R=new m(I);if(R.cmp(v.n)>=0||R.isZero())return 1;R.imul(new m(_)),R.cmp(v.n)>=0&&(R=R.umod(v.n));const k=R.toArrayLike(Uint8Array,"be",32);return _.set(k),0},publicKeyVerify(_){return x(_)===null?1:0},publicKeyCreate(_,I){const R=new m(I);if(R.cmp(v.n)>=0||R.isZero())return 1;const k=d.keyFromPrivate(I).getPublic();return S(_,k),0},publicKeyConvert(_,I){const R=x(I);if(R===null)return 1;const k=R.getPublic();return S(_,k),0},publicKeyNegate(_,I){const R=x(I);if(R===null)return 1;const k=R.getPublic();return k.y=k.y.redNeg(),S(_,k),0},publicKeyCombine(_,I){const R=new Array(I.length);for(let w=0;w<I.length;++w)if(R[w]=x(I[w]),R[w]===null)return 1;let k=R[0].getPublic();for(let w=1;w<R.length;++w)k=k.add(R[w].pub);return k.isInfinity()?2:(S(_,k),0)},publicKeyTweakAdd(_,I,R){const k=x(I);if(k===null)return 1;if(R=new m(R),R.cmp(v.n)>=0)return 2;const w=k.getPublic().add(v.g.mul(R));return w.isInfinity()?2:(S(_,w),0)},publicKeyTweakMul(_,I,R){const k=x(I);if(k===null)return 1;if(R=new m(R),R.cmp(v.n)>=0||R.isZero())return 2;const w=k.getPublic().mul(R);return S(_,w),0},signatureNormalize(_){const I=new m(_.subarray(0,32)),R=new m(_.subarray(32,64));return I.cmp(v.n)>=0||R.cmp(v.n)>=0?1:(R.cmp(d.nh)===1&&_.set(v.n.sub(R).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(_,I){const R=I.subarray(0,32),k=I.subarray(32,64);if(new m(R).cmp(v.n)>=0||new m(k).cmp(v.n)>=0)return 1;const{output:w}=_;let U=w.subarray(4,4+33);U[0]=0,U.set(R,1);let D=33,$=0;for(;D>1&&U[$]===0&&!(U[$+1]&128);--D,++$);if(U=U.subarray($),U[0]&128||D>1&&U[0]===0&&!(U[1]&128))return 1;let V=w.subarray(6+33,6+33+33);V[0]=0,V.set(k,1);let j=33,xe=0;for(;j>1&&V[xe]===0&&!(V[xe+1]&128);--j,++xe);return V=V.subarray(xe),V[0]&128||j>1&&V[0]===0&&!(V[1]&128)?1:(_.outputlen=6+D+j,w[0]=48,w[1]=_.outputlen-2,w[2]=2,w[3]=U.length,w.set(U,4),w[4+D]=2,w[5+D]=V.length,w.set(V,6+D),0)},signatureImport(_,I){if(I.length<8||I.length>72||I[0]!==48||I[1]!==I.length-2||I[2]!==2)return 1;const R=I[3];if(R===0||5+R>=I.length||I[4+R]!==2)return 1;const k=I[5+R];if(k===0||6+R+k!==I.length||I[4]&128||R>1&&I[4]===0&&!(I[5]&128)||I[R+6]&128||k>1&&I[R+6]===0&&!(I[R+7]&128))return 1;let w=I.subarray(4,4+R);if(w.length===33&&w[0]===0&&(w=w.subarray(1)),w.length>32)return 1;let U=I.subarray(6+R);if(U.length===33&&U[0]===0&&(U=U.slice(1)),U.length>32)throw new Error("S length is too long");let D=new m(w);D.cmp(v.n)>=0&&(D=new m(0));let $=new m(I.subarray(6+R));return $.cmp(v.n)>=0&&($=new m(0)),_.set(D.toArrayLike(Uint8Array,"be",32),0),_.set($.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(_,I,R,k,w){if(w){const $=w;w=V=>{const j=$(I,R,null,k,V);if(!(j instanceof Uint8Array&&j.length===32))throw new Error("This is the way");return new m(j)}}const U=new m(R);if(U.cmp(v.n)>=0||U.isZero())return 1;let D;try{D=d.sign(I,R,{canonical:!0,k:w,pers:k})}catch{return 1}return _.signature.set(D.r.toArrayLike(Uint8Array,"be",32),0),_.signature.set(D.s.toArrayLike(Uint8Array,"be",32),32),_.recid=D.recoveryParam,0},ecdsaVerify(_,I,R){const k={r:_.subarray(0,32),s:_.subarray(32,64)},w=new m(k.r),U=new m(k.s);if(w.cmp(v.n)>=0||U.cmp(v.n)>=0)return 1;if(U.cmp(d.nh)===1||w.isZero()||U.isZero())return 3;const D=x(R);if(D===null)return 2;const $=D.getPublic();return d.verify(I,k,$)?0:3},ecdsaRecover(_,I,R,k){const w={r:I.slice(0,32),s:I.slice(32,64)},U=new m(w.r),D=new m(w.s);if(U.cmp(v.n)>=0||D.cmp(v.n)>=0)return 1;if(U.isZero()||D.isZero())return 2;let $;try{$=d.recoverPubKey(k,w,R)}catch{return 2}return S(_,$),0},ecdh(_,I,R,k,w,U,D){const $=x(I);if($===null)return 1;const V=new m(R);if(V.cmp(v.n)>=0||V.isZero())return 2;const j=$.getPublic().mul(V);if(w===void 0){const xe=j.encode(null,!0),ue=d.hash().update(xe).digest();for(let L=0;L<32;++L)_[L]=ue[L]}else{U||(U=new Uint8Array(32));const xe=j.getX().toArray("be",32);for(let fe=0;fe<32;++fe)U[fe]=xe[fe];D||(D=new Uint8Array(32));const ue=j.getY().toArray("be",32);for(let fe=0;fe<32;++fe)D[fe]=ue[fe];const L=w(U,D,k);if(!(L instanceof Uint8Array&&L.length===_.length))return 2;_.set(L)}return 0}}},85830:function(B){const h={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function l(b,p){if(!b)throw new Error(p)}function u(b,p,x){if(l(p instanceof Uint8Array,`Expected ${b} to be an Uint8Array`),x!==void 0)if(Array.isArray(x)){const S=x.join(", "),_=`Expected ${b} to be an Uint8Array with length [${S}]`;l(x.includes(p.length),_)}else{const S=`Expected ${b} to be an Uint8Array with length ${x}`;l(p.length===x,S)}}function d(b){l(m(b)==="Boolean","Expected compressed to be a Boolean")}function v(b=x=>new Uint8Array(x),p){return typeof b=="function"&&(b=b(p)),u("output",b,p),b}function m(b){return Object.prototype.toString.call(b).slice(8,-1)}B.exports=b=>({contextRandomize(p){switch(l(p===null||p instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),p!==null&&u("seed",p,32),b.contextRandomize(p)){case 1:throw new Error(h.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(p){return u("private key",p,32),b.privateKeyVerify(p)===0},privateKeyNegate(p){switch(u("private key",p,32),b.privateKeyNegate(p)){case 0:return p;case 1:throw new Error(h.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(p,x){switch(u("private key",p,32),u("tweak",x,32),b.privateKeyTweakAdd(p,x)){case 0:return p;case 1:throw new Error(h.TWEAK_ADD)}},privateKeyTweakMul(p,x){switch(u("private key",p,32),u("tweak",x,32),b.privateKeyTweakMul(p,x)){case 0:return p;case 1:throw new Error(h.TWEAK_MUL)}},publicKeyVerify(p){return u("public key",p,[33,65]),b.publicKeyVerify(p)===0},publicKeyCreate(p,x=!0,S){switch(u("private key",p,32),d(x),S=v(S,x?33:65),b.publicKeyCreate(S,p)){case 0:return S;case 1:throw new Error(h.SECKEY_INVALID);case 2:throw new Error(h.PUBKEY_SERIALIZE)}},publicKeyConvert(p,x=!0,S){switch(u("public key",p,[33,65]),d(x),S=v(S,x?33:65),b.publicKeyConvert(S,p)){case 0:return S;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.PUBKEY_SERIALIZE)}},publicKeyNegate(p,x=!0,S){switch(u("public key",p,[33,65]),d(x),S=v(S,x?33:65),b.publicKeyNegate(S,p)){case 0:return S;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.IMPOSSIBLE_CASE);case 3:throw new Error(h.PUBKEY_SERIALIZE)}},publicKeyCombine(p,x=!0,S){l(Array.isArray(p),"Expected public keys to be an Array"),l(p.length>0,"Expected public keys array will have more than zero items");for(const _ of p)u("public key",_,[33,65]);switch(d(x),S=v(S,x?33:65),b.publicKeyCombine(S,p)){case 0:return S;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.PUBKEY_COMBINE);case 3:throw new Error(h.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(p,x,S=!0,_){switch(u("public key",p,[33,65]),u("tweak",x,32),d(S),_=v(_,S?33:65),b.publicKeyTweakAdd(_,p,x)){case 0:return _;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.TWEAK_ADD)}},publicKeyTweakMul(p,x,S=!0,_){switch(u("public key",p,[33,65]),u("tweak",x,32),d(S),_=v(_,S?33:65),b.publicKeyTweakMul(_,p,x)){case 0:return _;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.TWEAK_MUL)}},signatureNormalize(p){switch(u("signature",p,64),b.signatureNormalize(p)){case 0:return p;case 1:throw new Error(h.SIG_PARSE)}},signatureExport(p,x){u("signature",p,64),x=v(x,72);const S={output:x,outputlen:72};switch(b.signatureExport(S,p)){case 0:return x.slice(0,S.outputlen);case 1:throw new Error(h.SIG_PARSE);case 2:throw new Error(h.IMPOSSIBLE_CASE)}},signatureImport(p,x){switch(u("signature",p),x=v(x,64),b.signatureImport(x,p)){case 0:return x;case 1:throw new Error(h.SIG_PARSE);case 2:throw new Error(h.IMPOSSIBLE_CASE)}},ecdsaSign(p,x,S={},_){u("message",p,32),u("private key",x,32),l(m(S)==="Object","Expected options to be an Object"),S.data!==void 0&&u("options.data",S.data),S.noncefn!==void 0&&l(m(S.noncefn)==="Function","Expected options.noncefn to be a Function"),_=v(_,64);const I={signature:_,recid:null};switch(b.ecdsaSign(I,p,x,S.data,S.noncefn)){case 0:return I;case 1:throw new Error(h.SIGN);case 2:throw new Error(h.IMPOSSIBLE_CASE)}},ecdsaVerify(p,x,S){switch(u("signature",p,64),u("message",x,32),u("public key",S,[33,65]),b.ecdsaVerify(p,x,S)){case 0:return!0;case 3:return!1;case 1:throw new Error(h.SIG_PARSE);case 2:throw new Error(h.PUBKEY_PARSE)}},ecdsaRecover(p,x,S,_=!0,I){switch(u("signature",p,64),l(m(x)==="Number"&&x>=0&&x<=3,"Expected recovery id to be a Number within interval [0, 3]"),u("message",S,32),d(_),I=v(I,_?33:65),b.ecdsaRecover(I,p,x,S)){case 0:return I;case 1:throw new Error(h.SIG_PARSE);case 2:throw new Error(h.RECOVER);case 3:throw new Error(h.IMPOSSIBLE_CASE)}},ecdh(p,x,S={},_){switch(u("public key",p,[33,65]),u("private key",x,32),l(m(S)==="Object","Expected options to be an Object"),S.data!==void 0&&u("options.data",S.data),S.hashfn!==void 0?(l(m(S.hashfn)==="Function","Expected options.hashfn to be a Function"),S.xbuf!==void 0&&u("options.xbuf",S.xbuf,32),S.ybuf!==void 0&&u("options.ybuf",S.ybuf,32),u("output",_)):_=v(_,32),b.ecdh(_,p,x,S.data,S.hashfn,S.xbuf,S.ybuf)){case 0:return _;case 1:throw new Error(h.PUBKEY_PARSE);case 2:throw new Error(h.ECDH)}}})},15711:function(B,h,l){(function(u){"use strict";var d=function(g){var P,T=new Float64Array(16);if(g)for(P=0;P<g.length;P++)T[P]=g[P];return T},v=function(){throw new Error("no PRNG")},m=new Uint8Array(16),b=new Uint8Array(32);b[0]=9;var p=d(),x=d([1]),S=d([56129,1]),_=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),I=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),R=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),k=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(g,P,T,c){g[P]=T>>24&255,g[P+1]=T>>16&255,g[P+2]=T>>8&255,g[P+3]=T&255,g[P+4]=c>>24&255,g[P+5]=c>>16&255,g[P+6]=c>>8&255,g[P+7]=c&255}function D(g,P,T,c,C){var H,Z=0;for(H=0;H<C;H++)Z|=g[P+H]^T[c+H];return(1&Z-1>>>8)-1}function $(g,P,T,c){return D(g,P,T,c,16)}function V(g,P,T,c){return D(g,P,T,c,32)}function j(g,P,T,c){for(var C=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,H=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Z=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ne=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,be=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Pe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ht=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Ie=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,$e=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,We=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,et=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Ze=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,ze=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,qe=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Ve=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=C,De=H,ke=Z,Ne=ne,Oe=be,Se=Me,ee=Pe,te=ht,he=Ie,ie=$e,ce=We,ye=et,je=Ze,st=ze,at=qe,ot=Ve,N,ft=0;ft<20;ft+=2)N=Ue+je|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,he^=N<<9|N>>>32-9,N=he+Oe|0,je^=N<<13|N>>>32-13,N=je+he|0,Ue^=N<<18|N>>>32-18,N=Se+De|0,ie^=N<<7|N>>>32-7,N=ie+Se|0,st^=N<<9|N>>>32-9,N=st+ie|0,De^=N<<13|N>>>32-13,N=De+st|0,Se^=N<<18|N>>>32-18,N=ce+ee|0,at^=N<<7|N>>>32-7,N=at+ce|0,ke^=N<<9|N>>>32-9,N=ke+at|0,ee^=N<<13|N>>>32-13,N=ee+ke|0,ce^=N<<18|N>>>32-18,N=ot+ye|0,Ne^=N<<7|N>>>32-7,N=Ne+ot|0,te^=N<<9|N>>>32-9,N=te+Ne|0,ye^=N<<13|N>>>32-13,N=ye+te|0,ot^=N<<18|N>>>32-18,N=Ue+Ne|0,De^=N<<7|N>>>32-7,N=De+Ue|0,ke^=N<<9|N>>>32-9,N=ke+De|0,Ne^=N<<13|N>>>32-13,N=Ne+ke|0,Ue^=N<<18|N>>>32-18,N=Se+Oe|0,ee^=N<<7|N>>>32-7,N=ee+Se|0,te^=N<<9|N>>>32-9,N=te+ee|0,Oe^=N<<13|N>>>32-13,N=Oe+te|0,Se^=N<<18|N>>>32-18,N=ce+ie|0,ye^=N<<7|N>>>32-7,N=ye+ce|0,he^=N<<9|N>>>32-9,N=he+ye|0,ie^=N<<13|N>>>32-13,N=ie+he|0,ce^=N<<18|N>>>32-18,N=ot+at|0,je^=N<<7|N>>>32-7,N=je+ot|0,st^=N<<9|N>>>32-9,N=st+je|0,at^=N<<13|N>>>32-13,N=at+st|0,ot^=N<<18|N>>>32-18;Ue=Ue+C|0,De=De+H|0,ke=ke+Z|0,Ne=Ne+ne|0,Oe=Oe+be|0,Se=Se+Me|0,ee=ee+Pe|0,te=te+ht|0,he=he+Ie|0,ie=ie+$e|0,ce=ce+We|0,ye=ye+et|0,je=je+Ze|0,st=st+ze|0,at=at+qe|0,ot=ot+Ve|0,g[0]=Ue>>>0&255,g[1]=Ue>>>8&255,g[2]=Ue>>>16&255,g[3]=Ue>>>24&255,g[4]=De>>>0&255,g[5]=De>>>8&255,g[6]=De>>>16&255,g[7]=De>>>24&255,g[8]=ke>>>0&255,g[9]=ke>>>8&255,g[10]=ke>>>16&255,g[11]=ke>>>24&255,g[12]=Ne>>>0&255,g[13]=Ne>>>8&255,g[14]=Ne>>>16&255,g[15]=Ne>>>24&255,g[16]=Oe>>>0&255,g[17]=Oe>>>8&255,g[18]=Oe>>>16&255,g[19]=Oe>>>24&255,g[20]=Se>>>0&255,g[21]=Se>>>8&255,g[22]=Se>>>16&255,g[23]=Se>>>24&255,g[24]=ee>>>0&255,g[25]=ee>>>8&255,g[26]=ee>>>16&255,g[27]=ee>>>24&255,g[28]=te>>>0&255,g[29]=te>>>8&255,g[30]=te>>>16&255,g[31]=te>>>24&255,g[32]=he>>>0&255,g[33]=he>>>8&255,g[34]=he>>>16&255,g[35]=he>>>24&255,g[36]=ie>>>0&255,g[37]=ie>>>8&255,g[38]=ie>>>16&255,g[39]=ie>>>24&255,g[40]=ce>>>0&255,g[41]=ce>>>8&255,g[42]=ce>>>16&255,g[43]=ce>>>24&255,g[44]=ye>>>0&255,g[45]=ye>>>8&255,g[46]=ye>>>16&255,g[47]=ye>>>24&255,g[48]=je>>>0&255,g[49]=je>>>8&255,g[50]=je>>>16&255,g[51]=je>>>24&255,g[52]=st>>>0&255,g[53]=st>>>8&255,g[54]=st>>>16&255,g[55]=st>>>24&255,g[56]=at>>>0&255,g[57]=at>>>8&255,g[58]=at>>>16&255,g[59]=at>>>24&255,g[60]=ot>>>0&255,g[61]=ot>>>8&255,g[62]=ot>>>16&255,g[63]=ot>>>24&255}function xe(g,P,T,c){for(var C=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,H=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Z=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ne=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,be=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Pe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ht=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Ie=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,$e=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,We=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,et=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Ze=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,ze=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,qe=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Ve=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=C,De=H,ke=Z,Ne=ne,Oe=be,Se=Me,ee=Pe,te=ht,he=Ie,ie=$e,ce=We,ye=et,je=Ze,st=ze,at=qe,ot=Ve,N,ft=0;ft<20;ft+=2)N=Ue+je|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,he^=N<<9|N>>>32-9,N=he+Oe|0,je^=N<<13|N>>>32-13,N=je+he|0,Ue^=N<<18|N>>>32-18,N=Se+De|0,ie^=N<<7|N>>>32-7,N=ie+Se|0,st^=N<<9|N>>>32-9,N=st+ie|0,De^=N<<13|N>>>32-13,N=De+st|0,Se^=N<<18|N>>>32-18,N=ce+ee|0,at^=N<<7|N>>>32-7,N=at+ce|0,ke^=N<<9|N>>>32-9,N=ke+at|0,ee^=N<<13|N>>>32-13,N=ee+ke|0,ce^=N<<18|N>>>32-18,N=ot+ye|0,Ne^=N<<7|N>>>32-7,N=Ne+ot|0,te^=N<<9|N>>>32-9,N=te+Ne|0,ye^=N<<13|N>>>32-13,N=ye+te|0,ot^=N<<18|N>>>32-18,N=Ue+Ne|0,De^=N<<7|N>>>32-7,N=De+Ue|0,ke^=N<<9|N>>>32-9,N=ke+De|0,Ne^=N<<13|N>>>32-13,N=Ne+ke|0,Ue^=N<<18|N>>>32-18,N=Se+Oe|0,ee^=N<<7|N>>>32-7,N=ee+Se|0,te^=N<<9|N>>>32-9,N=te+ee|0,Oe^=N<<13|N>>>32-13,N=Oe+te|0,Se^=N<<18|N>>>32-18,N=ce+ie|0,ye^=N<<7|N>>>32-7,N=ye+ce|0,he^=N<<9|N>>>32-9,N=he+ye|0,ie^=N<<13|N>>>32-13,N=ie+he|0,ce^=N<<18|N>>>32-18,N=ot+at|0,je^=N<<7|N>>>32-7,N=je+ot|0,st^=N<<9|N>>>32-9,N=st+je|0,at^=N<<13|N>>>32-13,N=at+st|0,ot^=N<<18|N>>>32-18;g[0]=Ue>>>0&255,g[1]=Ue>>>8&255,g[2]=Ue>>>16&255,g[3]=Ue>>>24&255,g[4]=Se>>>0&255,g[5]=Se>>>8&255,g[6]=Se>>>16&255,g[7]=Se>>>24&255,g[8]=ce>>>0&255,g[9]=ce>>>8&255,g[10]=ce>>>16&255,g[11]=ce>>>24&255,g[12]=ot>>>0&255,g[13]=ot>>>8&255,g[14]=ot>>>16&255,g[15]=ot>>>24&255,g[16]=ee>>>0&255,g[17]=ee>>>8&255,g[18]=ee>>>16&255,g[19]=ee>>>24&255,g[20]=te>>>0&255,g[21]=te>>>8&255,g[22]=te>>>16&255,g[23]=te>>>24&255,g[24]=he>>>0&255,g[25]=he>>>8&255,g[26]=he>>>16&255,g[27]=he>>>24&255,g[28]=ie>>>0&255,g[29]=ie>>>8&255,g[30]=ie>>>16&255,g[31]=ie>>>24&255}function ue(g,P,T,c){j(g,P,T,c)}function L(g,P,T,c){xe(g,P,T,c)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function fe(g,P,T,c,C,H,Z){var ne=new Uint8Array(16),be=new Uint8Array(64),Me,Pe;for(Pe=0;Pe<16;Pe++)ne[Pe]=0;for(Pe=0;Pe<8;Pe++)ne[Pe]=H[Pe];for(;C>=64;){for(ue(be,ne,Z,W),Pe=0;Pe<64;Pe++)g[P+Pe]=T[c+Pe]^be[Pe];for(Me=1,Pe=8;Pe<16;Pe++)Me=Me+(ne[Pe]&255)|0,ne[Pe]=Me&255,Me>>>=8;C-=64,P+=64,c+=64}if(C>0)for(ue(be,ne,Z,W),Pe=0;Pe<C;Pe++)g[P+Pe]=T[c+Pe]^be[Pe];return 0}function _e(g,P,T,c,C){var H=new Uint8Array(16),Z=new Uint8Array(64),ne,be;for(be=0;be<16;be++)H[be]=0;for(be=0;be<8;be++)H[be]=c[be];for(;T>=64;){for(ue(Z,H,C,W),be=0;be<64;be++)g[P+be]=Z[be];for(ne=1,be=8;be<16;be++)ne=ne+(H[be]&255)|0,H[be]=ne&255,ne>>>=8;T-=64,P+=64}if(T>0)for(ue(Z,H,C,W),be=0;be<T;be++)g[P+be]=Z[be];return 0}function Re(g,P,T,c,C){var H=new Uint8Array(32);L(H,c,C,W);for(var Z=new Uint8Array(8),ne=0;ne<8;ne++)Z[ne]=c[ne+16];return _e(g,P,T,Z,H)}function ae(g,P,T,c,C,H,Z){var ne=new Uint8Array(32);L(ne,H,Z,W);for(var be=new Uint8Array(8),Me=0;Me<8;Me++)be[Me]=H[Me+16];return fe(g,P,T,c,C,be,ne)}var we=function(g){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var P,T,c,C,H,Z,ne,be;P=g[0]&255|(g[1]&255)<<8,this.r[0]=P&8191,T=g[2]&255|(g[3]&255)<<8,this.r[1]=(P>>>13|T<<3)&8191,c=g[4]&255|(g[5]&255)<<8,this.r[2]=(T>>>10|c<<6)&7939,C=g[6]&255|(g[7]&255)<<8,this.r[3]=(c>>>7|C<<9)&8191,H=g[8]&255|(g[9]&255)<<8,this.r[4]=(C>>>4|H<<12)&255,this.r[5]=H>>>1&8190,Z=g[10]&255|(g[11]&255)<<8,this.r[6]=(H>>>14|Z<<2)&8191,ne=g[12]&255|(g[13]&255)<<8,this.r[7]=(Z>>>11|ne<<5)&8065,be=g[14]&255|(g[15]&255)<<8,this.r[8]=(ne>>>8|be<<8)&8191,this.r[9]=be>>>5&127,this.pad[0]=g[16]&255|(g[17]&255)<<8,this.pad[1]=g[18]&255|(g[19]&255)<<8,this.pad[2]=g[20]&255|(g[21]&255)<<8,this.pad[3]=g[22]&255|(g[23]&255)<<8,this.pad[4]=g[24]&255|(g[25]&255)<<8,this.pad[5]=g[26]&255|(g[27]&255)<<8,this.pad[6]=g[28]&255|(g[29]&255)<<8,this.pad[7]=g[30]&255|(g[31]&255)<<8};we.prototype.blocks=function(g,P,T){for(var c=this.fin?0:2048,C,H,Z,ne,be,Me,Pe,ht,Ie,$e,We,et,Ze,ze,qe,Ve,Ue,De,ke,Ne=this.h[0],Oe=this.h[1],Se=this.h[2],ee=this.h[3],te=this.h[4],he=this.h[5],ie=this.h[6],ce=this.h[7],ye=this.h[8],je=this.h[9],st=this.r[0],at=this.r[1],ot=this.r[2],N=this.r[3],ft=this.r[4],St=this.r[5],mt=this.r[6],dt=this.r[7],wt=this.r[8],pt=this.r[9];T>=16;)C=g[P+0]&255|(g[P+1]&255)<<8,Ne+=C&8191,H=g[P+2]&255|(g[P+3]&255)<<8,Oe+=(C>>>13|H<<3)&8191,Z=g[P+4]&255|(g[P+5]&255)<<8,Se+=(H>>>10|Z<<6)&8191,ne=g[P+6]&255|(g[P+7]&255)<<8,ee+=(Z>>>7|ne<<9)&8191,be=g[P+8]&255|(g[P+9]&255)<<8,te+=(ne>>>4|be<<12)&8191,he+=be>>>1&8191,Me=g[P+10]&255|(g[P+11]&255)<<8,ie+=(be>>>14|Me<<2)&8191,Pe=g[P+12]&255|(g[P+13]&255)<<8,ce+=(Me>>>11|Pe<<5)&8191,ht=g[P+14]&255|(g[P+15]&255)<<8,ye+=(Pe>>>8|ht<<8)&8191,je+=ht>>>5|c,Ie=0,$e=Ie,$e+=Ne*st,$e+=Oe*(5*pt),$e+=Se*(5*wt),$e+=ee*(5*dt),$e+=te*(5*mt),Ie=$e>>>13,$e&=8191,$e+=he*(5*St),$e+=ie*(5*ft),$e+=ce*(5*N),$e+=ye*(5*ot),$e+=je*(5*at),Ie+=$e>>>13,$e&=8191,We=Ie,We+=Ne*at,We+=Oe*st,We+=Se*(5*pt),We+=ee*(5*wt),We+=te*(5*dt),Ie=We>>>13,We&=8191,We+=he*(5*mt),We+=ie*(5*St),We+=ce*(5*ft),We+=ye*(5*N),We+=je*(5*ot),Ie+=We>>>13,We&=8191,et=Ie,et+=Ne*ot,et+=Oe*at,et+=Se*st,et+=ee*(5*pt),et+=te*(5*wt),Ie=et>>>13,et&=8191,et+=he*(5*dt),et+=ie*(5*mt),et+=ce*(5*St),et+=ye*(5*ft),et+=je*(5*N),Ie+=et>>>13,et&=8191,Ze=Ie,Ze+=Ne*N,Ze+=Oe*ot,Ze+=Se*at,Ze+=ee*st,Ze+=te*(5*pt),Ie=Ze>>>13,Ze&=8191,Ze+=he*(5*wt),Ze+=ie*(5*dt),Ze+=ce*(5*mt),Ze+=ye*(5*St),Ze+=je*(5*ft),Ie+=Ze>>>13,Ze&=8191,ze=Ie,ze+=Ne*ft,ze+=Oe*N,ze+=Se*ot,ze+=ee*at,ze+=te*st,Ie=ze>>>13,ze&=8191,ze+=he*(5*pt),ze+=ie*(5*wt),ze+=ce*(5*dt),ze+=ye*(5*mt),ze+=je*(5*St),Ie+=ze>>>13,ze&=8191,qe=Ie,qe+=Ne*St,qe+=Oe*ft,qe+=Se*N,qe+=ee*ot,qe+=te*at,Ie=qe>>>13,qe&=8191,qe+=he*st,qe+=ie*(5*pt),qe+=ce*(5*wt),qe+=ye*(5*dt),qe+=je*(5*mt),Ie+=qe>>>13,qe&=8191,Ve=Ie,Ve+=Ne*mt,Ve+=Oe*St,Ve+=Se*ft,Ve+=ee*N,Ve+=te*ot,Ie=Ve>>>13,Ve&=8191,Ve+=he*at,Ve+=ie*st,Ve+=ce*(5*pt),Ve+=ye*(5*wt),Ve+=je*(5*dt),Ie+=Ve>>>13,Ve&=8191,Ue=Ie,Ue+=Ne*dt,Ue+=Oe*mt,Ue+=Se*St,Ue+=ee*ft,Ue+=te*N,Ie=Ue>>>13,Ue&=8191,Ue+=he*ot,Ue+=ie*at,Ue+=ce*st,Ue+=ye*(5*pt),Ue+=je*(5*wt),Ie+=Ue>>>13,Ue&=8191,De=Ie,De+=Ne*wt,De+=Oe*dt,De+=Se*mt,De+=ee*St,De+=te*ft,Ie=De>>>13,De&=8191,De+=he*N,De+=ie*ot,De+=ce*at,De+=ye*st,De+=je*(5*pt),Ie+=De>>>13,De&=8191,ke=Ie,ke+=Ne*pt,ke+=Oe*wt,ke+=Se*dt,ke+=ee*mt,ke+=te*St,Ie=ke>>>13,ke&=8191,ke+=he*ft,ke+=ie*N,ke+=ce*ot,ke+=ye*at,ke+=je*st,Ie+=ke>>>13,ke&=8191,Ie=(Ie<<2)+Ie|0,Ie=Ie+$e|0,$e=Ie&8191,Ie=Ie>>>13,We+=Ie,Ne=$e,Oe=We,Se=et,ee=Ze,te=ze,he=qe,ie=Ve,ce=Ue,ye=De,je=ke,P+=16,T-=16;this.h[0]=Ne,this.h[1]=Oe,this.h[2]=Se,this.h[3]=ee,this.h[4]=te,this.h[5]=he,this.h[6]=ie,this.h[7]=ce,this.h[8]=ye,this.h[9]=je},we.prototype.finish=function(g,P){var T=new Uint16Array(10),c,C,H,Z;if(this.leftover){for(Z=this.leftover,this.buffer[Z++]=1;Z<16;Z++)this.buffer[Z]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,Z=2;Z<10;Z++)this.h[Z]+=c,c=this.h[Z]>>>13,this.h[Z]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,T[0]=this.h[0]+5,c=T[0]>>>13,T[0]&=8191,Z=1;Z<10;Z++)T[Z]=this.h[Z]+c,c=T[Z]>>>13,T[Z]&=8191;for(T[9]-=8192,C=(c^1)-1,Z=0;Z<10;Z++)T[Z]&=C;for(C=~C,Z=0;Z<10;Z++)this.h[Z]=this.h[Z]&C|T[Z];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,H=this.h[0]+this.pad[0],this.h[0]=H&65535,Z=1;Z<8;Z++)H=(this.h[Z]+this.pad[Z]|0)+(H>>>16)|0,this.h[Z]=H&65535;g[P+0]=this.h[0]>>>0&255,g[P+1]=this.h[0]>>>8&255,g[P+2]=this.h[1]>>>0&255,g[P+3]=this.h[1]>>>8&255,g[P+4]=this.h[2]>>>0&255,g[P+5]=this.h[2]>>>8&255,g[P+6]=this.h[3]>>>0&255,g[P+7]=this.h[3]>>>8&255,g[P+8]=this.h[4]>>>0&255,g[P+9]=this.h[4]>>>8&255,g[P+10]=this.h[5]>>>0&255,g[P+11]=this.h[5]>>>8&255,g[P+12]=this.h[6]>>>0&255,g[P+13]=this.h[6]>>>8&255,g[P+14]=this.h[7]>>>0&255,g[P+15]=this.h[7]>>>8&255},we.prototype.update=function(g,P,T){var c,C;if(this.leftover){for(C=16-this.leftover,C>T&&(C=T),c=0;c<C;c++)this.buffer[this.leftover+c]=g[P+c];if(T-=C,P+=C,this.leftover+=C,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(C=T-T%16,this.blocks(g,P,C),P+=C,T-=C),T){for(c=0;c<T;c++)this.buffer[this.leftover+c]=g[P+c];this.leftover+=T}};function ve(g,P,T,c,C,H){var Z=new we(H);return Z.update(T,c,C),Z.finish(g,P),0}function Ce(g,P,T,c,C,H){var Z=new Uint8Array(16);return ve(Z,0,T,c,C,H),$(g,P,Z,0)}function Fe(g,P,T,c,C){var H;if(T<32)return-1;for(ae(g,0,P,0,T,c,C),ve(g,16,g,32,T-32,g),H=0;H<16;H++)g[H]=0;return 0}function lt(g,P,T,c,C){var H,Z=new Uint8Array(32);if(T<32||(Re(Z,0,32,c,C),Ce(P,16,P,32,T-32,Z)!==0))return-1;for(ae(g,0,P,0,T,c,C),H=0;H<32;H++)g[H]=0;return 0}function nt(g,P){var T;for(T=0;T<16;T++)g[T]=P[T]|0}function J(g){var P,T,c=1;for(P=0;P<16;P++)T=g[P]+c+65535,c=Math.floor(T/65536),g[P]=T-c*65536;g[0]+=c-1+37*(c-1)}function M(g,P,T){for(var c,C=~(T-1),H=0;H<16;H++)c=C&(g[H]^P[H]),g[H]^=c,P[H]^=c}function z(g,P){var T,c,C,H=d(),Z=d();for(T=0;T<16;T++)Z[T]=P[T];for(J(Z),J(Z),J(Z),c=0;c<2;c++){for(H[0]=Z[0]-65517,T=1;T<15;T++)H[T]=Z[T]-65535-(H[T-1]>>16&1),H[T-1]&=65535;H[15]=Z[15]-32767-(H[14]>>16&1),C=H[15]>>16&1,H[14]&=65535,M(Z,H,1-C)}for(T=0;T<16;T++)g[2*T]=Z[T]&255,g[2*T+1]=Z[T]>>8}function se(g,P){var T=new Uint8Array(32),c=new Uint8Array(32);return z(T,g),z(c,P),V(T,0,c,0)}function X(g){var P=new Uint8Array(32);return z(P,g),P[0]&1}function Y(g,P){var T;for(T=0;T<16;T++)g[T]=P[2*T]+(P[2*T+1]<<8);g[15]&=32767}function Ee(g,P,T){for(var c=0;c<16;c++)g[c]=P[c]+T[c]}function Qe(g,P,T){for(var c=0;c<16;c++)g[c]=P[c]-T[c]}function Ae(g,P,T){var c,C,H=0,Z=0,ne=0,be=0,Me=0,Pe=0,ht=0,Ie=0,$e=0,We=0,et=0,Ze=0,ze=0,qe=0,Ve=0,Ue=0,De=0,ke=0,Ne=0,Oe=0,Se=0,ee=0,te=0,he=0,ie=0,ce=0,ye=0,je=0,st=0,at=0,ot=0,N=T[0],ft=T[1],St=T[2],mt=T[3],dt=T[4],wt=T[5],pt=T[6],Ht=T[7],Rt=T[8],Dt=T[9],Nt=T[10],Ft=T[11],Xt=T[12],zt=T[13],cr=T[14],ir=T[15];c=P[0],H+=c*N,Z+=c*ft,ne+=c*St,be+=c*mt,Me+=c*dt,Pe+=c*wt,ht+=c*pt,Ie+=c*Ht,$e+=c*Rt,We+=c*Dt,et+=c*Nt,Ze+=c*Ft,ze+=c*Xt,qe+=c*zt,Ve+=c*cr,Ue+=c*ir,c=P[1],Z+=c*N,ne+=c*ft,be+=c*St,Me+=c*mt,Pe+=c*dt,ht+=c*wt,Ie+=c*pt,$e+=c*Ht,We+=c*Rt,et+=c*Dt,Ze+=c*Nt,ze+=c*Ft,qe+=c*Xt,Ve+=c*zt,Ue+=c*cr,De+=c*ir,c=P[2],ne+=c*N,be+=c*ft,Me+=c*St,Pe+=c*mt,ht+=c*dt,Ie+=c*wt,$e+=c*pt,We+=c*Ht,et+=c*Rt,Ze+=c*Dt,ze+=c*Nt,qe+=c*Ft,Ve+=c*Xt,Ue+=c*zt,De+=c*cr,ke+=c*ir,c=P[3],be+=c*N,Me+=c*ft,Pe+=c*St,ht+=c*mt,Ie+=c*dt,$e+=c*wt,We+=c*pt,et+=c*Ht,Ze+=c*Rt,ze+=c*Dt,qe+=c*Nt,Ve+=c*Ft,Ue+=c*Xt,De+=c*zt,ke+=c*cr,Ne+=c*ir,c=P[4],Me+=c*N,Pe+=c*ft,ht+=c*St,Ie+=c*mt,$e+=c*dt,We+=c*wt,et+=c*pt,Ze+=c*Ht,ze+=c*Rt,qe+=c*Dt,Ve+=c*Nt,Ue+=c*Ft,De+=c*Xt,ke+=c*zt,Ne+=c*cr,Oe+=c*ir,c=P[5],Pe+=c*N,ht+=c*ft,Ie+=c*St,$e+=c*mt,We+=c*dt,et+=c*wt,Ze+=c*pt,ze+=c*Ht,qe+=c*Rt,Ve+=c*Dt,Ue+=c*Nt,De+=c*Ft,ke+=c*Xt,Ne+=c*zt,Oe+=c*cr,Se+=c*ir,c=P[6],ht+=c*N,Ie+=c*ft,$e+=c*St,We+=c*mt,et+=c*dt,Ze+=c*wt,ze+=c*pt,qe+=c*Ht,Ve+=c*Rt,Ue+=c*Dt,De+=c*Nt,ke+=c*Ft,Ne+=c*Xt,Oe+=c*zt,Se+=c*cr,ee+=c*ir,c=P[7],Ie+=c*N,$e+=c*ft,We+=c*St,et+=c*mt,Ze+=c*dt,ze+=c*wt,qe+=c*pt,Ve+=c*Ht,Ue+=c*Rt,De+=c*Dt,ke+=c*Nt,Ne+=c*Ft,Oe+=c*Xt,Se+=c*zt,ee+=c*cr,te+=c*ir,c=P[8],$e+=c*N,We+=c*ft,et+=c*St,Ze+=c*mt,ze+=c*dt,qe+=c*wt,Ve+=c*pt,Ue+=c*Ht,De+=c*Rt,ke+=c*Dt,Ne+=c*Nt,Oe+=c*Ft,Se+=c*Xt,ee+=c*zt,te+=c*cr,he+=c*ir,c=P[9],We+=c*N,et+=c*ft,Ze+=c*St,ze+=c*mt,qe+=c*dt,Ve+=c*wt,Ue+=c*pt,De+=c*Ht,ke+=c*Rt,Ne+=c*Dt,Oe+=c*Nt,Se+=c*Ft,ee+=c*Xt,te+=c*zt,he+=c*cr,ie+=c*ir,c=P[10],et+=c*N,Ze+=c*ft,ze+=c*St,qe+=c*mt,Ve+=c*dt,Ue+=c*wt,De+=c*pt,ke+=c*Ht,Ne+=c*Rt,Oe+=c*Dt,Se+=c*Nt,ee+=c*Ft,te+=c*Xt,he+=c*zt,ie+=c*cr,ce+=c*ir,c=P[11],Ze+=c*N,ze+=c*ft,qe+=c*St,Ve+=c*mt,Ue+=c*dt,De+=c*wt,ke+=c*pt,Ne+=c*Ht,Oe+=c*Rt,Se+=c*Dt,ee+=c*Nt,te+=c*Ft,he+=c*Xt,ie+=c*zt,ce+=c*cr,ye+=c*ir,c=P[12],ze+=c*N,qe+=c*ft,Ve+=c*St,Ue+=c*mt,De+=c*dt,ke+=c*wt,Ne+=c*pt,Oe+=c*Ht,Se+=c*Rt,ee+=c*Dt,te+=c*Nt,he+=c*Ft,ie+=c*Xt,ce+=c*zt,ye+=c*cr,je+=c*ir,c=P[13],qe+=c*N,Ve+=c*ft,Ue+=c*St,De+=c*mt,ke+=c*dt,Ne+=c*wt,Oe+=c*pt,Se+=c*Ht,ee+=c*Rt,te+=c*Dt,he+=c*Nt,ie+=c*Ft,ce+=c*Xt,ye+=c*zt,je+=c*cr,st+=c*ir,c=P[14],Ve+=c*N,Ue+=c*ft,De+=c*St,ke+=c*mt,Ne+=c*dt,Oe+=c*wt,Se+=c*pt,ee+=c*Ht,te+=c*Rt,he+=c*Dt,ie+=c*Nt,ce+=c*Ft,ye+=c*Xt,je+=c*zt,st+=c*cr,at+=c*ir,c=P[15],Ue+=c*N,De+=c*ft,ke+=c*St,Ne+=c*mt,Oe+=c*dt,Se+=c*wt,ee+=c*pt,te+=c*Ht,he+=c*Rt,ie+=c*Dt,ce+=c*Nt,ye+=c*Ft,je+=c*Xt,st+=c*zt,at+=c*cr,ot+=c*ir,H+=38*De,Z+=38*ke,ne+=38*Ne,be+=38*Oe,Me+=38*Se,Pe+=38*ee,ht+=38*te,Ie+=38*he,$e+=38*ie,We+=38*ce,et+=38*ye,Ze+=38*je,ze+=38*st,qe+=38*at,Ve+=38*ot,C=1,c=H+C+65535,C=Math.floor(c/65536),H=c-C*65536,c=Z+C+65535,C=Math.floor(c/65536),Z=c-C*65536,c=ne+C+65535,C=Math.floor(c/65536),ne=c-C*65536,c=be+C+65535,C=Math.floor(c/65536),be=c-C*65536,c=Me+C+65535,C=Math.floor(c/65536),Me=c-C*65536,c=Pe+C+65535,C=Math.floor(c/65536),Pe=c-C*65536,c=ht+C+65535,C=Math.floor(c/65536),ht=c-C*65536,c=Ie+C+65535,C=Math.floor(c/65536),Ie=c-C*65536,c=$e+C+65535,C=Math.floor(c/65536),$e=c-C*65536,c=We+C+65535,C=Math.floor(c/65536),We=c-C*65536,c=et+C+65535,C=Math.floor(c/65536),et=c-C*65536,c=Ze+C+65535,C=Math.floor(c/65536),Ze=c-C*65536,c=ze+C+65535,C=Math.floor(c/65536),ze=c-C*65536,c=qe+C+65535,C=Math.floor(c/65536),qe=c-C*65536,c=Ve+C+65535,C=Math.floor(c/65536),Ve=c-C*65536,c=Ue+C+65535,C=Math.floor(c/65536),Ue=c-C*65536,H+=C-1+37*(C-1),C=1,c=H+C+65535,C=Math.floor(c/65536),H=c-C*65536,c=Z+C+65535,C=Math.floor(c/65536),Z=c-C*65536,c=ne+C+65535,C=Math.floor(c/65536),ne=c-C*65536,c=be+C+65535,C=Math.floor(c/65536),be=c-C*65536,c=Me+C+65535,C=Math.floor(c/65536),Me=c-C*65536,c=Pe+C+65535,C=Math.floor(c/65536),Pe=c-C*65536,c=ht+C+65535,C=Math.floor(c/65536),ht=c-C*65536,c=Ie+C+65535,C=Math.floor(c/65536),Ie=c-C*65536,c=$e+C+65535,C=Math.floor(c/65536),$e=c-C*65536,c=We+C+65535,C=Math.floor(c/65536),We=c-C*65536,c=et+C+65535,C=Math.floor(c/65536),et=c-C*65536,c=Ze+C+65535,C=Math.floor(c/65536),Ze=c-C*65536,c=ze+C+65535,C=Math.floor(c/65536),ze=c-C*65536,c=qe+C+65535,C=Math.floor(c/65536),qe=c-C*65536,c=Ve+C+65535,C=Math.floor(c/65536),Ve=c-C*65536,c=Ue+C+65535,C=Math.floor(c/65536),Ue=c-C*65536,H+=C-1+37*(C-1),g[0]=H,g[1]=Z,g[2]=ne,g[3]=be,g[4]=Me,g[5]=Pe,g[6]=ht,g[7]=Ie,g[8]=$e,g[9]=We,g[10]=et,g[11]=Ze,g[12]=ze,g[13]=qe,g[14]=Ve,g[15]=Ue}function Ke(g,P){Ae(g,P,P)}function It(g,P){var T=d(),c;for(c=0;c<16;c++)T[c]=P[c];for(c=253;c>=0;c--)Ke(T,T),c!==2&&c!==4&&Ae(T,T,P);for(c=0;c<16;c++)g[c]=T[c]}function Ot(g,P){var T=d(),c;for(c=0;c<16;c++)T[c]=P[c];for(c=250;c>=0;c--)Ke(T,T),c!==1&&Ae(T,T,P);for(c=0;c<16;c++)g[c]=T[c]}function nr(g,P,T){var c=new Uint8Array(32),C=new Float64Array(80),H,Z,ne=d(),be=d(),Me=d(),Pe=d(),ht=d(),Ie=d();for(Z=0;Z<31;Z++)c[Z]=P[Z];for(c[31]=P[31]&127|64,c[0]&=248,Y(C,T),Z=0;Z<16;Z++)be[Z]=C[Z],Pe[Z]=ne[Z]=Me[Z]=0;for(ne[0]=Pe[0]=1,Z=254;Z>=0;--Z)H=c[Z>>>3]>>>(Z&7)&1,M(ne,be,H),M(Me,Pe,H),Ee(ht,ne,Me),Qe(ne,ne,Me),Ee(Me,be,Pe),Qe(be,be,Pe),Ke(Pe,ht),Ke(Ie,ne),Ae(ne,Me,ne),Ae(Me,be,ht),Ee(ht,ne,Me),Qe(ne,ne,Me),Ke(be,ne),Qe(Me,Pe,Ie),Ae(ne,Me,S),Ee(ne,ne,Pe),Ae(Me,Me,ne),Ae(ne,Pe,Ie),Ae(Pe,be,C),Ke(be,ht),M(ne,be,H),M(Me,Pe,H);for(Z=0;Z<16;Z++)C[Z+16]=ne[Z],C[Z+32]=Me[Z],C[Z+48]=be[Z],C[Z+64]=Pe[Z];var $e=C.subarray(32),We=C.subarray(16);return It($e,$e),Ae(We,We,$e),z(g,We),0}function cn(g,P){return nr(g,P,b)}function oe(g,P){return v(P,32),cn(g,P)}function de(g,P,T){var c=new Uint8Array(32);return nr(c,T,P),L(g,m,c,W)}var ge=Fe,Je=lt;function Xe(g,P,T,c,C,H){var Z=new Uint8Array(32);return de(Z,C,H),ge(g,P,T,c,Z)}function Ge(g,P,T,c,C,H){var Z=new Uint8Array(32);return de(Z,C,H),Je(g,P,T,c,Z)}var it=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qt(g,P,T,c){for(var C=new Int32Array(16),H=new Int32Array(16),Z,ne,be,Me,Pe,ht,Ie,$e,We,et,Ze,ze,qe,Ve,Ue,De,ke,Ne,Oe,Se,ee,te,he,ie,ce,ye,je=g[0],st=g[1],at=g[2],ot=g[3],N=g[4],ft=g[5],St=g[6],mt=g[7],dt=P[0],wt=P[1],pt=P[2],Ht=P[3],Rt=P[4],Dt=P[5],Nt=P[6],Ft=P[7],Xt=0;c>=128;){for(Oe=0;Oe<16;Oe++)Se=8*Oe+Xt,C[Oe]=T[Se+0]<<24|T[Se+1]<<16|T[Se+2]<<8|T[Se+3],H[Oe]=T[Se+4]<<24|T[Se+5]<<16|T[Se+6]<<8|T[Se+7];for(Oe=0;Oe<80;Oe++)if(Z=je,ne=st,be=at,Me=ot,Pe=N,ht=ft,Ie=St,$e=mt,We=dt,et=wt,Ze=pt,ze=Ht,qe=Rt,Ve=Dt,Ue=Nt,De=Ft,ee=mt,te=Ft,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=(N>>>14|Rt<<32-14)^(N>>>18|Rt<<32-18)^(Rt>>>41-32|N<<32-(41-32)),te=(Rt>>>14|N<<32-14)^(Rt>>>18|N<<32-18)^(N>>>41-32|Rt<<32-(41-32)),he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=N&ft^~N&St,te=Rt&Dt^~Rt&Nt,he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=it[Oe*2],te=it[Oe*2+1],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=C[Oe%16],te=H[Oe%16],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,ke=ce&65535|ye<<16,Ne=he&65535|ie<<16,ee=ke,te=Ne,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=(je>>>28|dt<<32-28)^(dt>>>34-32|je<<32-(34-32))^(dt>>>39-32|je<<32-(39-32)),te=(dt>>>28|je<<32-28)^(je>>>34-32|dt<<32-(34-32))^(je>>>39-32|dt<<32-(39-32)),he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=je&st^je&at^st&at,te=dt&wt^dt&pt^wt&pt,he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,$e=ce&65535|ye<<16,De=he&65535|ie<<16,ee=Me,te=ze,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=ke,te=Ne,he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,Me=ce&65535|ye<<16,ze=he&65535|ie<<16,st=Z,at=ne,ot=be,N=Me,ft=Pe,St=ht,mt=Ie,je=$e,wt=We,pt=et,Ht=Ze,Rt=ze,Dt=qe,Nt=Ve,Ft=Ue,dt=De,Oe%16===15)for(Se=0;Se<16;Se++)ee=C[Se],te=H[Se],he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[(Se+9)%16],te=H[(Se+9)%16],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ke=C[(Se+1)%16],Ne=H[(Se+1)%16],ee=(ke>>>1|Ne<<32-1)^(ke>>>8|Ne<<32-8)^ke>>>7,te=(Ne>>>1|ke<<32-1)^(Ne>>>8|ke<<32-8)^(Ne>>>7|ke<<32-7),he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ke=C[(Se+14)%16],Ne=H[(Se+14)%16],ee=(ke>>>19|Ne<<32-19)^(Ne>>>61-32|ke<<32-(61-32))^ke>>>6,te=(Ne>>>19|ke<<32-19)^(ke>>>61-32|Ne<<32-(61-32))^(Ne>>>6|ke<<32-6),he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,C[Se]=ce&65535|ye<<16,H[Se]=he&65535|ie<<16;ee=je,te=dt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[0],te=P[0],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[0]=je=ce&65535|ye<<16,P[0]=dt=he&65535|ie<<16,ee=st,te=wt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[1],te=P[1],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[1]=st=ce&65535|ye<<16,P[1]=wt=he&65535|ie<<16,ee=at,te=pt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[2],te=P[2],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[2]=at=ce&65535|ye<<16,P[2]=pt=he&65535|ie<<16,ee=ot,te=Ht,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[3],te=P[3],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[3]=ot=ce&65535|ye<<16,P[3]=Ht=he&65535|ie<<16,ee=N,te=Rt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[4],te=P[4],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[4]=N=ce&65535|ye<<16,P[4]=Rt=he&65535|ie<<16,ee=ft,te=Dt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[5],te=P[5],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[5]=ft=ce&65535|ye<<16,P[5]=Dt=he&65535|ie<<16,ee=St,te=Nt,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[6],te=P[6],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[6]=St=ce&65535|ye<<16,P[6]=Nt=he&65535|ie<<16,ee=mt,te=Ft,he=te&65535,ie=te>>>16,ce=ee&65535,ye=ee>>>16,ee=g[7],te=P[7],he+=te&65535,ie+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ie+=he>>>16,ce+=ie>>>16,ye+=ce>>>16,g[7]=mt=ce&65535|ye<<16,P[7]=Ft=he&65535|ie<<16,Xt+=128,c-=128}return c}function Mt(g,P,T){var c=new Int32Array(8),C=new Int32Array(8),H=new Uint8Array(256),Z,ne=T;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,C[0]=4089235720,C[1]=2227873595,C[2]=4271175723,C[3]=1595750129,C[4]=2917565137,C[5]=725511199,C[6]=4215389547,C[7]=327033209,Qt(c,C,P,T),T%=128,Z=0;Z<T;Z++)H[Z]=P[ne-T+Z];for(H[T]=128,T=256-128*(T<112?1:0),H[T-9]=0,U(H,T-8,ne/536870912|0,ne<<3),Qt(c,C,H,T),Z=0;Z<8;Z++)U(g,8*Z,c[Z],C[Z]);return 0}function wr(g,P){var T=d(),c=d(),C=d(),H=d(),Z=d(),ne=d(),be=d(),Me=d(),Pe=d();Qe(T,g[1],g[0]),Qe(Pe,P[1],P[0]),Ae(T,T,Pe),Ee(c,g[0],g[1]),Ee(Pe,P[0],P[1]),Ae(c,c,Pe),Ae(C,g[3],P[3]),Ae(C,C,I),Ae(H,g[2],P[2]),Ee(H,H,H),Qe(Z,c,T),Qe(ne,H,C),Ee(be,H,C),Ee(Me,c,T),Ae(g[0],Z,ne),Ae(g[1],Me,be),Ae(g[2],be,ne),Ae(g[3],Z,Me)}function gt(g,P,T){var c;for(c=0;c<4;c++)M(g[c],P[c],T)}function Bt(g,P){var T=d(),c=d(),C=d();It(C,P[2]),Ae(T,P[0],C),Ae(c,P[1],C),z(g,c),g[31]^=X(T)<<7}function fr(g,P,T){var c,C;for(nt(g[0],p),nt(g[1],x),nt(g[2],x),nt(g[3],p),C=255;C>=0;--C)c=T[C/8|0]>>(C&7)&1,gt(g,P,c),wr(P,g),wr(g,g),gt(g,P,c)}function pr(g,P){var T=[d(),d(),d(),d()];nt(T[0],R),nt(T[1],k),nt(T[2],x),Ae(T[3],R,k),fr(g,T,P)}function Ir(g,P,T){var c=new Uint8Array(64),C=[d(),d(),d(),d()],H;for(T||v(P,32),Mt(c,P,32),c[0]&=248,c[31]&=127,c[31]|=64,pr(C,c),Bt(g,C),H=0;H<32;H++)P[H+32]=g[H];return 0}var Tr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function En(g,P){var T,c,C,H;for(c=63;c>=32;--c){for(T=0,C=c-32,H=c-12;C<H;++C)P[C]+=T-16*P[c]*Tr[C-(c-32)],T=Math.floor((P[C]+128)/256),P[C]-=T*256;P[C]+=T,P[c]=0}for(T=0,C=0;C<32;C++)P[C]+=T-(P[31]>>4)*Tr[C],T=P[C]>>8,P[C]&=255;for(C=0;C<32;C++)P[C]-=T*Tr[C];for(c=0;c<32;c++)P[c+1]+=P[c]>>8,g[c]=P[c]&255}function re(g){var P=new Float64Array(64),T;for(T=0;T<64;T++)P[T]=g[T];for(T=0;T<64;T++)g[T]=0;En(g,P)}function Lr(g,P,T,c){var C=new Uint8Array(64),H=new Uint8Array(64),Z=new Uint8Array(64),ne,be,Me=new Float64Array(64),Pe=[d(),d(),d(),d()];Mt(C,c,32),C[0]&=248,C[31]&=127,C[31]|=64;var ht=T+64;for(ne=0;ne<T;ne++)g[64+ne]=P[ne];for(ne=0;ne<32;ne++)g[32+ne]=C[32+ne];for(Mt(Z,g.subarray(32),T+32),re(Z),pr(Pe,Z),Bt(g,Pe),ne=32;ne<64;ne++)g[ne]=c[ne];for(Mt(H,g,T+64),re(H),ne=0;ne<64;ne++)Me[ne]=0;for(ne=0;ne<32;ne++)Me[ne]=Z[ne];for(ne=0;ne<32;ne++)for(be=0;be<32;be++)Me[ne+be]+=H[ne]*C[be];return En(g.subarray(32),Me),ht}function Wn(g,P){var T=d(),c=d(),C=d(),H=d(),Z=d(),ne=d(),be=d();return nt(g[2],x),Y(g[1],P),Ke(C,g[1]),Ae(H,C,_),Qe(C,C,g[2]),Ee(H,g[2],H),Ke(Z,H),Ke(ne,Z),Ae(be,ne,Z),Ae(T,be,C),Ae(T,T,H),Ot(T,T),Ae(T,T,C),Ae(T,T,H),Ae(T,T,H),Ae(g[0],T,H),Ke(c,g[0]),Ae(c,c,H),se(c,C)&&Ae(g[0],g[0],w),Ke(c,g[0]),Ae(c,c,H),se(c,C)?-1:(X(g[0])===P[31]>>7&&Qe(g[0],p,g[0]),Ae(g[3],g[0],g[1]),0)}function Sn(g,P,T,c){var C,H=new Uint8Array(32),Z=new Uint8Array(64),ne=[d(),d(),d(),d()],be=[d(),d(),d(),d()];if(T<64||Wn(be,c))return-1;for(C=0;C<T;C++)g[C]=P[C];for(C=0;C<32;C++)g[C+32]=c[C];if(Mt(Z,g,T),re(Z),fr(ne,be,Z),pr(be,P.subarray(32)),wr(ne,be),Bt(H,ne),T-=64,V(P,0,H,0)){for(C=0;C<T;C++)g[C]=0;return-1}for(C=0;C<T;C++)g[C]=P[C+64];return T}var bt=32,un=24,fn=32,Br=16,Vr=32,dn=32,ln=32,hn=32,On=32,xn=un,Vn=fn,Jn=Br,vr=64,Ur=32,Jr=64,_n=32,Nn=64;u.lowlevel={crypto_core_hsalsa20:L,crypto_stream_xor:ae,crypto_stream:Re,crypto_stream_salsa20_xor:fe,crypto_stream_salsa20:_e,crypto_onetimeauth:ve,crypto_onetimeauth_verify:Ce,crypto_verify_16:$,crypto_verify_32:V,crypto_secretbox:Fe,crypto_secretbox_open:lt,crypto_scalarmult:nr,crypto_scalarmult_base:cn,crypto_box_beforenm:de,crypto_box_afternm:ge,crypto_box:Xe,crypto_box_open:Ge,crypto_box_keypair:oe,crypto_hash:Mt,crypto_sign:Lr,crypto_sign_keypair:Ir,crypto_sign_open:Sn,crypto_secretbox_KEYBYTES:bt,crypto_secretbox_NONCEBYTES:un,crypto_secretbox_ZEROBYTES:fn,crypto_secretbox_BOXZEROBYTES:Br,crypto_scalarmult_BYTES:Vr,crypto_scalarmult_SCALARBYTES:dn,crypto_box_PUBLICKEYBYTES:ln,crypto_box_SECRETKEYBYTES:hn,crypto_box_BEFORENMBYTES:On,crypto_box_NONCEBYTES:xn,crypto_box_ZEROBYTES:Vn,crypto_box_BOXZEROBYTES:Jn,crypto_sign_BYTES:vr,crypto_sign_PUBLICKEYBYTES:Ur,crypto_sign_SECRETKEYBYTES:Jr,crypto_sign_SEEDBYTES:_n,crypto_hash_BYTES:Nn,gf:d,D:_,L:Tr,pack25519:z,unpack25519:Y,M:Ae,A:Ee,S:Ke,Z:Qe,pow2523:Ot,add:wr,set25519:nt,modL:En,scalarmult:fr,scalarbase:pr};function Mn(g,P){if(g.length!==bt)throw new Error("bad key size");if(P.length!==un)throw new Error("bad nonce size")}function Xn(g,P){if(g.length!==ln)throw new Error("bad public key size");if(P.length!==hn)throw new Error("bad secret key size")}function or(){for(var g=0;g<arguments.length;g++)if(!(arguments[g]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Zn(g){for(var P=0;P<g.length;P++)g[P]=0}u.randomBytes=function(g){var P=new Uint8Array(g);return v(P,g),P},u.secretbox=function(g,P,T){or(g,P,T),Mn(T,P);for(var c=new Uint8Array(fn+g.length),C=new Uint8Array(c.length),H=0;H<g.length;H++)c[H+fn]=g[H];return Fe(C,c,c.length,P,T),C.subarray(Br)},u.secretbox.open=function(g,P,T){or(g,P,T),Mn(T,P);for(var c=new Uint8Array(Br+g.length),C=new Uint8Array(c.length),H=0;H<g.length;H++)c[H+Br]=g[H];return c.length<32||lt(C,c,c.length,P,T)!==0?null:C.subarray(fn)},u.secretbox.keyLength=bt,u.secretbox.nonceLength=un,u.secretbox.overheadLength=Br,u.scalarMult=function(g,P){if(or(g,P),g.length!==dn)throw new Error("bad n size");if(P.length!==Vr)throw new Error("bad p size");var T=new Uint8Array(Vr);return nr(T,g,P),T},u.scalarMult.base=function(g){if(or(g),g.length!==dn)throw new Error("bad n size");var P=new Uint8Array(Vr);return cn(P,g),P},u.scalarMult.scalarLength=dn,u.scalarMult.groupElementLength=Vr,u.box=function(g,P,T,c){var C=u.box.before(T,c);return u.secretbox(g,P,C)},u.box.before=function(g,P){or(g,P),Xn(g,P);var T=new Uint8Array(On);return de(T,g,P),T},u.box.after=u.secretbox,u.box.open=function(g,P,T,c){var C=u.box.before(T,c);return u.secretbox.open(g,P,C)},u.box.open.after=u.secretbox.open,u.box.keyPair=function(){var g=new Uint8Array(ln),P=new Uint8Array(hn);return oe(g,P),{publicKey:g,secretKey:P}},u.box.keyPair.fromSecretKey=function(g){if(or(g),g.length!==hn)throw new Error("bad secret key size");var P=new Uint8Array(ln);return cn(P,g),{publicKey:P,secretKey:new Uint8Array(g)}},u.box.publicKeyLength=ln,u.box.secretKeyLength=hn,u.box.sharedKeyLength=On,u.box.nonceLength=xn,u.box.overheadLength=u.secretbox.overheadLength,u.sign=function(g,P){if(or(g,P),P.length!==Jr)throw new Error("bad secret key size");var T=new Uint8Array(vr+g.length);return Lr(T,g,g.length,P),T},u.sign.open=function(g,P){if(or(g,P),P.length!==Ur)throw new Error("bad public key size");var T=new Uint8Array(g.length),c=Sn(T,g,g.length,P);if(c<0)return null;for(var C=new Uint8Array(c),H=0;H<C.length;H++)C[H]=T[H];return C},u.sign.detached=function(g,P){for(var T=u.sign(g,P),c=new Uint8Array(vr),C=0;C<c.length;C++)c[C]=T[C];return c},u.sign.detached.verify=function(g,P,T){if(or(g,P,T),P.length!==vr)throw new Error("bad signature size");if(T.length!==Ur)throw new Error("bad public key size");var c=new Uint8Array(vr+g.length),C=new Uint8Array(vr+g.length),H;for(H=0;H<vr;H++)c[H]=P[H];for(H=0;H<g.length;H++)c[H+vr]=g[H];return Sn(C,c,c.length,T)>=0},u.sign.keyPair=function(){var g=new Uint8Array(Ur),P=new Uint8Array(Jr);return Ir(g,P),{publicKey:g,secretKey:P}},u.sign.keyPair.fromSecretKey=function(g){if(or(g),g.length!==Jr)throw new Error("bad secret key size");for(var P=new Uint8Array(Ur),T=0;T<P.length;T++)P[T]=g[32+T];return{publicKey:P,secretKey:new Uint8Array(g)}},u.sign.keyPair.fromSeed=function(g){if(or(g),g.length!==_n)throw new Error("bad seed size");for(var P=new Uint8Array(Ur),T=new Uint8Array(Jr),c=0;c<32;c++)T[c]=g[c];return Ir(P,T,!0),{publicKey:P,secretKey:T}},u.sign.publicKeyLength=Ur,u.sign.secretKeyLength=Jr,u.sign.seedLength=_n,u.sign.signatureLength=vr,u.hash=function(g){or(g);var P=new Uint8Array(Nn);return Mt(P,g,g.length),P},u.hash.hashLength=Nn,u.verify=function(g,P){return or(g,P),g.length===0||P.length===0||g.length!==P.length?!1:D(g,0,P,0,g.length)===0},u.setPRNG=function(g){v=g},function(){var g=typeof self<"u"?self.crypto||self.msCrypto:null;if(g&&g.getRandomValues){var P=65536;u.setPRNG(function(T,c){var C,H=new Uint8Array(c);for(C=0;C<c;C+=P)g.getRandomValues(H.subarray(C,C+Math.min(c-C,P)));for(C=0;C<c;C++)T[C]=H[C];Zn(H)})}else g=l(39201),g&&g.randomBytes&&u.setPRNG(function(T,c){var C,H=g.randomBytes(c);for(C=0;C<c;C++)T[C]=H[C];Zn(H)})}()})(B.exports?B.exports:self.nacl=self.nacl||{})},51642:function(B,h,l){var M0,D0,F0,L0,H0,K0;"use strict";l.r(h),l.d(h,{WebIrys:function(){return N0},default:function(){return N0}});var u={};l.r(u),l.d(u,{hasBrowserEnv:function(){return T},hasStandardBrowserEnv:function(){return c},hasStandardBrowserWebWorkerEnv:function(){return C}});var d={};l.r(d),l.d(d,{arToWinston:function(){return hl},b64UrlDecode:function(){return Bu},b64UrlEncode:function(){return Iu},b64UrlToBuffer:function(){return yn},b64UrlToString:function(){return Cu},bufferToString:function(){return Go},bufferTob64:function(){return ku},bufferTob64Url:function(){return gn},concatBuffers:function(){return Pr},stringToB64Url:function(){return Wo},stringToBuffer:function(){return Tt},winstonToAr:function(){return ll}});var v={};l.r(v),l.d(v,{AVSCTap:function(){return Oc},AlgorandSigner:function(){return Ex},AptosSigner:function(){return _x},ArconnectSigner:function(){return Ax},Arweave:function(){return Vo},ArweaveSigner:function(){return ga},Bundle:function(){return ud},BundleItem:function(){return kx},CryptoDriver:function(){return qu},Curve25519:function(){return vs},DataItem:function(){return Gi},EthereumSigner:function(){return Na},HexInjectedSolanaSigner:function(){return Da},HexSolanaSigner:function(){return Sx},InjectedAptosSigner:function(){return La},InjectedEthereumSigner:function(){return bx},InjectedSolanaSigner:function(){return Qu},InjectedTypedEthereumSigner:function(){return Cc},MAX_TAG_BYTES:function(){return Mc},MIN_BINARY_SIZE:function(){return Nc},MultiSignatureAptosSigner:function(){return nd},NearSigner:function(){return Rc},PolygonSigner:function(){return vx},Rsa4096:function(){return ju},SIG_CONFIG:function(){return Lt},SignatureConfig:function(){return _t},Signer:function(){return dl},SolanaSigner:function(){return _c},TypedEthereumSigner:function(){return sd},bundleAndSignData:function(){return dd},byteArrayToLong:function(){return ur},concatBuffers:function(){return Pr},createData:function(){return Fc},deepHash:function(){return Mi},deserializeTags:function(){return qa},exportForTesting:function(){return wx},getCryptoDriver:function(){return gr},getSignatureAndId:function(){return ld},indexToType:function(){return kc},keccak256:function(){return Ac},longTo16ByteArray:function(){return Px},longTo32ByteArray:function(){return Uc},longTo8ByteArray:function(){return Bc},longToNByteArray:function(){return Ls},secp256k1:function(){return ed},serializeTags:function(){return cd},shortTo2ByteArray:function(){return od},sign:function(){return Dc},stringToBuffer:function(){return Tt},unbundleData:function(){return Cx}});var m={};l.r(m),l.d(m,{default:function(){return Bx},processStream:function(){return hd},streamExportForTesting:function(){return Ux},streamSigner:function(){return Ix}});var b={};l.r(b),l.d(b,{DataItem:function(){return Gi},bundleAndSignData:function(){return dd},createData:function(){return Fc},deepHash:function(){return Mi},getCryptoDriver:function(){return gr},stringToBuffer:function(){return Tt}});const p=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(M0=globalThis.crypto).subtle??(M0.subtle={}),(D0=globalThis.crypto.subtle).generateKey??(D0.generateKey=p),(F0=globalThis.crypto.subtle).importKey??(F0.importKey=p),(L0=globalThis.crypto.subtle).exportKey??(L0.exportKey=p),(H0=globalThis.crypto.subtle).digest??(H0.digest=p),(K0=globalThis.crypto.subtle).sign??(K0.sign=p);var x=null;function S(r,e){return function(){return r.apply(e,arguments)}}const{toString:_}=Object.prototype,{getPrototypeOf:I}=Object,R=(r=>e=>{const t=_.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),k=r=>(r=r.toLowerCase(),e=>R(e)===r),w=r=>e=>typeof e===r,{isArray:U}=Array,D=w("undefined");function $(r){return r!==null&&!D(r)&&r.constructor!==null&&!D(r.constructor)&&ue(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const V=k("ArrayBuffer");function j(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&V(r.buffer),e}const xe=w("string"),ue=w("function"),L=w("number"),W=r=>r!==null&&typeof r=="object",fe=r=>r===!0||r===!1,_e=r=>{if(R(r)!=="object")return!1;const e=I(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Re=k("Date"),ae=k("File"),we=k("Blob"),ve=k("FileList"),Ce=r=>W(r)&&ue(r.pipe),Fe=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ue(r.append)&&((e=R(r))==="formdata"||e==="object"&&ue(r.toString)&&r.toString()==="[object FormData]"))},lt=k("URLSearchParams"),nt=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),U(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,r[o],o,r)}}function M(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const z=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),se=r=>!D(r)&&r!==z;function X(){const{caseless:r}=se(this)&&this||{},e={},t=(n,i)=>{const s=r&&M(e,i)||i;_e(e[s])&&_e(n)?e[s]=X(e[s],n):_e(n)?e[s]=X({},n):U(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&J(arguments[n],t);return e}const Y=(r,e,t,{allOwnKeys:n}={})=>(J(e,(i,s)=>{t&&ue(i)?r[s]=S(i,t):r[s]=i},{allOwnKeys:n}),r),Ee=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Qe=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Ae=(r,e,t,n)=>{let i,s,a;const o={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)a=i[s],(!n||n(a,r,e))&&!o[a]&&(e[a]=r[a],o[a]=!0);r=t!==!1&&I(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Ke=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},It=r=>{if(!r)return null;if(U(r))return r;let e=r.length;if(!L(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Ot=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&I(Uint8Array)),nr=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},cn=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},oe=k("HTMLFormElement"),de=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),ge=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Je=k("RegExp"),Xe=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};J(t,(i,s)=>{let a;(a=e(i,s,r))!==!1&&(n[s]=a||i)}),Object.defineProperties(r,n)},Ge=r=>{Xe(r,(e,t)=>{if(ue(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(ue(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},it=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return U(r)?n(r):n(String(r).split(e)),t},Qt=()=>{},Mt=(r,e)=>(r=+r,Number.isFinite(r)?r:e),wr="abcdefghijklmnopqrstuvwxyz",gt="0123456789",Bt={DIGIT:gt,ALPHA:wr,ALPHA_DIGIT:wr+wr.toUpperCase()+gt},fr=(r=16,e=Bt.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function pr(r){return!!(r&&ue(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Ir=r=>{const e=new Array(10),t=(n,i)=>{if(W(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=U(n)?[]:{};return J(n,(a,o)=>{const f=t(a,i+1);!D(f)&&(s[o]=f)}),e[i]=void 0,s}}return n};return t(r,0)},Tr=k("AsyncFunction");var re={isArray:U,isArrayBuffer:V,isBuffer:$,isFormData:Fe,isArrayBufferView:j,isString:xe,isNumber:L,isBoolean:fe,isObject:W,isPlainObject:_e,isUndefined:D,isDate:Re,isFile:ae,isBlob:we,isRegExp:Je,isFunction:ue,isStream:Ce,isURLSearchParams:lt,isTypedArray:Ot,isFileList:ve,forEach:J,merge:X,extend:Y,trim:nt,stripBOM:Ee,inherits:Qe,toFlatObject:Ae,kindOf:R,kindOfTest:k,endsWith:Ke,toArray:It,forEachEntry:nr,matchAll:cn,isHTMLForm:oe,hasOwnProperty:ge,hasOwnProp:ge,reduceDescriptors:Xe,freezeMethods:Ge,toObjectSet:it,toCamelCase:de,noop:Qt,toFiniteNumber:Mt,findKey:M,global:z,isContextDefined:se,ALPHABET:Bt,generateString:fr,isSpecCompliantForm:pr,toJSONObject:Ir,isAsyncFn:Tr,isThenable:r=>r&&(W(r)||ue(r))&&ue(r.then)&&ue(r.catch)};function Lr(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i)}re.inherits(Lr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wn=Lr.prototype,Sn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Sn[r]={value:r}}),Object.defineProperties(Lr,Sn),Object.defineProperty(Wn,"isAxiosError",{value:!0}),Lr.from=(r,e,t,n,i,s)=>{const a=Object.create(Wn);return re.toFlatObject(r,a,function(f){return f!==Error.prototype},o=>o!=="isAxiosError"),Lr.call(a,r.message,e,t,n,i),a.cause=r,a.name=r.name,s&&Object.assign(a,s),a};var bt=Lr,un=null,fn=l(55872).Buffer;function Br(r){return re.isPlainObject(r)||re.isArray(r)}function Vr(r){return re.endsWith(r,"[]")?r.slice(0,-2):r}function dn(r,e,t){return r?r.concat(e).map(function(i,s){return i=Vr(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function ln(r){return re.isArray(r)&&!r.some(Br)}const hn=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function On(r,e,t){if(!re.isObject(r))throw new TypeError("target must be an object");e=e||new(un||FormData),t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,le){return!re.isUndefined(le[Q])});const n=t.metaTokens,i=t.visitor||E,s=t.dots,a=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function y(q){if(q===null)return"";if(re.isDate(q))return q.toISOString();if(!f&&re.isBlob(q))throw new bt("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(q)||re.isTypedArray(q)?f&&typeof Blob=="function"?new Blob([q]):fn.from(q):q}function E(q,Q,le){let Be=q;if(q&&!le&&typeof q=="object"){if(re.endsWith(Q,"{}"))Q=n?Q:Q.slice(0,-2),q=JSON.stringify(q);else if(re.isArray(q)&&ln(q)||(re.isFileList(q)||re.endsWith(Q,"[]"))&&(Be=re.toArray(q)))return Q=Vr(Q),Be.forEach(function(Et,Vt){!(re.isUndefined(Et)||Et===null)&&e.append(a===!0?dn([Q],Vt,s):a===null?Q:Q+"[]",y(Et))}),!1}return Br(q)?!0:(e.append(dn(le,Q,s),y(q)),!1)}const A=[],F=Object.assign(hn,{defaultVisitor:E,convertValue:y,isVisitable:Br});function G(q,Q){if(!re.isUndefined(q)){if(A.indexOf(q)!==-1)throw Error("Circular reference detected in "+Q.join("."));A.push(q),re.forEach(q,function(Be,tt){(!(re.isUndefined(Be)||Be===null)&&i.call(e,Be,re.isString(tt)?tt.trim():tt,Q,F))===!0&&G(Be,Q?Q.concat(tt):[tt])}),A.pop()}}if(!re.isObject(r))throw new TypeError("data must be an object");return G(r),e}var xn=On;function Vn(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Jn(r,e){this._pairs=[],r&&xn(r,this,e)}const vr=Jn.prototype;vr.append=function(e,t){this._pairs.push([e,t])},vr.toString=function(e){const t=e?function(n){return e.call(this,n,Vn)}:Vn;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var Ur=Jn;function Jr(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _n(r,e,t){if(!e)return r;const n=t&&t.encode||Jr,i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new Ur(e,t).toString(n),s){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class Nn{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}}var Mn=Nn,Xn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},or=typeof URLSearchParams<"u"?URLSearchParams:Ur,Zn=typeof FormData<"u"?FormData:null,g=typeof Blob<"u"?Blob:null,P={isBrowser:!0,classes:{URLSearchParams:or,FormData:Zn,Blob:g},protocols:["http","https","file","blob","url","data"]};const T=typeof window<"u"&&typeof document<"u",c=(r=>T&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),C=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var H={...u,...P};function Z(r,e){return xn(r,new H.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return H.isNode&&re.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ne(r){return re.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function be(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function Me(r){function e(t,n,i,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),f=s>=t.length;return a=!a&&re.isArray(i)?i.length:a,f?(re.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!re.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],s)&&re.isArray(i[a])&&(i[a]=be(i[a])),!o)}if(re.isFormData(r)&&re.isFunction(r.entries)){const t={};return re.forEachEntry(r,(n,i)=>{e(ne(n),i,t,0)}),t}return null}var Pe=Me;function ht(r,e,t){if(re.isString(r))try{return(e||JSON.parse)(r),re.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Ie={transitional:Xn,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(Pe(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Z(e,this.formSerializer).toString();if((o=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return xn(o?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),ht(e)):e}],transformResponse:[function(e){const t=this.transitional||Ie.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&re.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?bt.from(o,bt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:H.classes.FormData,Blob:H.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],r=>{Ie.headers[r]={}});var $e=Ie;const We=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var et=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&We[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e};const Ze=Symbol("internals");function ze(r){return r&&String(r).trim().toLowerCase()}function qe(r){return r===!1||r==null?r:re.isArray(r)?r.map(qe):String(r)}function Ve(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Ue=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function De(r,e,t,n,i){if(re.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function ke(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Ne(r,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Oe{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(o,f,y){const E=ze(f);if(!E)throw new Error("header name must be a non-empty string");const A=re.findKey(i,E);(!A||i[A]===void 0||y===!0||y===void 0&&i[A]!==!1)&&(i[A||f]=qe(o))}const a=(o,f)=>re.forEach(o,(y,E)=>s(y,E,f));return re.isPlainObject(e)||e instanceof this.constructor?a(e,t):re.isString(e)&&(e=e.trim())&&!Ue(e)?a(et(e),t):e!=null&&s(t,e,n),this}get(e,t){if(e=ze(e),e){const n=re.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return Ve(i);if(re.isFunction(t))return t.call(this,i,n);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ze(e),e){const n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||De(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(a){if(a=ze(a),a){const o=re.findKey(n,a);o&&(!t||De(n,n[o],o,t))&&(delete n[o],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||De(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return re.forEach(this,(i,s)=>{const a=re.findKey(n,s);if(a){t[a]=qe(i),delete t[s];return}const o=e?ke(s):String(s).trim();o!==s&&delete t[s],t[o]=qe(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&re.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Ze]=this[Ze]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=ze(a);n[o]||(Ne(i,a),n[o]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}}Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),re.reduceDescriptors(Oe.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}}),re.freezeMethods(Oe);var Se=Oe;function ee(r,e){const t=this||$e,n=e||t,i=Se.from(n.headers);let s=n.data;return re.forEach(r,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function te(r){return!!(r&&r.__CANCEL__)}function he(r,e,t){bt.call(this,r??"canceled",bt.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(he,bt,{__CANCEL__:!0});var ie=he;function ce(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new bt("Request failed with status code "+t.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}var ye=H.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const a=[r+"="+encodeURIComponent(e)];re.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),re.isString(n)&&a.push("path="+n),re.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function je(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function st(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function at(r,e){return r&&!je(e)?st(r,e):e}var ot=H.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function i(s){let a=s;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(a){const o=re.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function N(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ft(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(f){const y=Date.now(),E=n[s];a||(a=y),t[i]=f,n[i]=y;let A=s,F=0;for(;A!==i;)F+=t[A++],A=A%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),y-a<e)return;const G=E&&y-E;return G?Math.round(F*1e3/G):void 0}}var St=ft;function mt(r,e){let t=0;const n=St(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-t,f=n(o),y=s<=a;t=s;const E={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:f||void 0,estimated:f&&a&&y?(a-s)/f:void 0,event:i};E[e?"download":"upload"]=!0,r(E)}}var wt=typeof XMLHttpRequest<"u"&&function(r){return new Promise(function(t,n){let i=r.data;const s=Se.from(r.headers).normalize();let{responseType:a,withXSRFToken:o}=r,f;function y(){r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let E;if(re.isFormData(i)){if(H.hasStandardBrowserEnv||H.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((E=s.getContentType())!==!1){const[Q,...le]=E?E.split(";").map(Be=>Be.trim()).filter(Boolean):[];s.setContentType([Q||"multipart/form-data",...le].join("; "))}}let A=new XMLHttpRequest;if(r.auth){const Q=r.auth.username||"",le=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";s.set("Authorization","Basic "+btoa(Q+":"+le))}const F=at(r.baseURL,r.url);A.open(r.method.toUpperCase(),_n(F,r.params,r.paramsSerializer),!0),A.timeout=r.timeout;function G(){if(!A)return;const Q=Se.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),Be={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:Q,config:r,request:A};ce(function(Et){t(Et),y()},function(Et){n(Et),y()},Be),A=null}if("onloadend"in A?A.onloadend=G:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(G)},A.onabort=function(){A&&(n(new bt("Request aborted",bt.ECONNABORTED,r,A)),A=null)},A.onerror=function(){n(new bt("Network Error",bt.ERR_NETWORK,r,A)),A=null},A.ontimeout=function(){let le=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const Be=r.transitional||Xn;r.timeoutErrorMessage&&(le=r.timeoutErrorMessage),n(new bt(le,Be.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,r,A)),A=null},H.hasStandardBrowserEnv&&(o&&re.isFunction(o)&&(o=o(r)),o||o!==!1&&ot(F))){const Q=r.xsrfHeaderName&&r.xsrfCookieName&&ye.read(r.xsrfCookieName);Q&&s.set(r.xsrfHeaderName,Q)}i===void 0&&s.setContentType(null),"setRequestHeader"in A&&re.forEach(s.toJSON(),function(le,Be){A.setRequestHeader(Be,le)}),re.isUndefined(r.withCredentials)||(A.withCredentials=!!r.withCredentials),a&&a!=="json"&&(A.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&A.addEventListener("progress",mt(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",mt(r.onUploadProgress)),(r.cancelToken||r.signal)&&(f=Q=>{A&&(n(!Q||Q.type?new ie(null,r,A):Q),A.abort(),A=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const q=N(F);if(q&&H.protocols.indexOf(q)===-1){n(new bt("Unsupported protocol "+q+":",bt.ERR_BAD_REQUEST,r));return}A.send(i||null)})};const pt={http:un,xhr:wt};re.forEach(pt,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Ht=r=>`- ${r}`,Rt=r=>re.isFunction(r)||r===null||r===!1;var Dt={getAdapter:r=>{r=re.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let a;if(n=t,!Rt(t)&&(n=pt[(a=String(t)).toLowerCase()],n===void 0))throw new bt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,f])=>`adapter ${o} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Ht).join(`
`):" "+Ht(s[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:pt};function Nt(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ie(null,r)}function Ft(r){return Nt(r),r.headers=Se.from(r.headers),r.data=ee.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Dt.getAdapter(r.adapter||$e.adapter)(r).then(function(n){return Nt(r),n.data=ee.call(r,r.transformResponse,n),n.headers=Se.from(n.headers),n},function(n){return te(n)||(Nt(r),n&&n.response&&(n.response.data=ee.call(r,r.transformResponse,n.response),n.response.headers=Se.from(n.response.headers))),Promise.reject(n)})}const Xt=r=>r instanceof Se?r.toJSON():r;function zt(r,e){e=e||{};const t={};function n(y,E,A){return re.isPlainObject(y)&&re.isPlainObject(E)?re.merge.call({caseless:A},y,E):re.isPlainObject(E)?re.merge({},E):re.isArray(E)?E.slice():E}function i(y,E,A){if(re.isUndefined(E)){if(!re.isUndefined(y))return n(void 0,y,A)}else return n(y,E,A)}function s(y,E){if(!re.isUndefined(E))return n(void 0,E)}function a(y,E){if(re.isUndefined(E)){if(!re.isUndefined(y))return n(void 0,y)}else return n(void 0,E)}function o(y,E,A){if(A in e)return n(y,E);if(A in r)return n(void 0,y)}const f={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(y,E)=>i(Xt(y),Xt(E),!0)};return re.forEach(Object.keys(Object.assign({},r,e)),function(E){const A=f[E]||i,F=A(r[E],e[E],E);re.isUndefined(F)&&A!==o||(t[E]=F)}),t}const cr="1.6.7",ir={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ir[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const du={};ir.transitional=function(e,t,n){function i(s,a){return"[Axios v"+cr+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new bt(i(a," has been removed"+(t?" in "+t:"")),bt.ERR_DEPRECATED);return t&&!du[a]&&(du[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};function j0(r,e,t){if(typeof r!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=r[s],f=o===void 0||a(o,s,r);if(f!==!0)throw new bt("option "+s+" must be "+f,bt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new bt("Unknown option "+s,bt.ERR_BAD_OPTION)}}var Mo={assertOptions:j0,validators:ir};const Yn=Mo.validators;class fa{constructor(e){this.defaults=e,this.interceptors={request:new Mn,response:new Mn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zt(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&Mo.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Mo.assertOptions(i,{encode:Yn.function,serialize:Yn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],q=>{delete s[q]}),t.headers=Se.concat(a,s);const o=[];let f=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(t)===!1||(f=f&&Q.synchronous,o.unshift(Q.fulfilled,Q.rejected))});const y=[];this.interceptors.response.forEach(function(Q){y.push(Q.fulfilled,Q.rejected)});let E,A=0,F;if(!f){const q=[Ft.bind(this),void 0];for(q.unshift.apply(q,o),q.push.apply(q,y),F=q.length,E=Promise.resolve(t);A<F;)E=E.then(q[A++],q[A++]);return E}F=o.length;let G=t;for(A=0;A<F;){const q=o[A++],Q=o[A++];try{G=q(G)}catch(le){Q.call(this,le);break}}try{E=Ft.call(this,G)}catch(q){return Promise.reject(q)}for(A=0,F=y.length;A<F;)E=E.then(y[A++],y[A++]);return E}getUri(e){e=zt(this.defaults,e);const t=at(e.baseURL,e.url);return _n(t,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(t,n){return this.request(zt(n||{},{method:e,url:t,data:(n||{}).data}))}}),re.forEach(["post","put","patch"],function(e){function t(n){return function(s,a,o){return this.request(zt(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}fa.prototype[e]=t(),fa.prototype[e+"Form"]=t(!0)});var da=fa;class Do{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new ie(s,a,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Do(function(i){e=i}),cancel:e}}}var G0=Do;function W0(r){return function(t){return r.apply(null,t)}}function V0(r){return re.isObject(r)&&r.isAxiosError===!0}const Fo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fo).forEach(([r,e])=>{Fo[e]=r});var J0=Fo;function lu(r){const e=new da(r),t=S(da.prototype.request,e);return re.extend(t,da.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return lu(zt(r,i))},t}const sr=lu($e);sr.Axios=da,sr.CanceledError=ie,sr.CancelToken=G0,sr.isCancel=te,sr.VERSION=cr,sr.toFormData=xn,sr.AxiosError=bt,sr.Cancel=sr.CanceledError,sr.all=function(e){return Promise.all(e)},sr.spread=W0,sr.isAxiosError=V0,sr.mergeConfig=zt,sr.AxiosHeaders=Se,sr.formToJSON=r=>Pe(re.isHTMLForm(r)?new FormData(r):r),sr.getAdapter=Dt.getAdapter,sr.HttpStatusCode=J0,sr.default=sr;var xs=sr,Qn=l(29938),Dn=l(35906),X0=l(55872).Buffer;function Z0(r){class e extends r.arbundles.DataItem{constructor(i,s,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?X0.from(i):s.arbundles.createData(i,s.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??Dn.randomBytes(32).toString("base64").slice(0,32)}).getRaw());O(this,"Irys");O(this,"signer");this.Irys=s,this.signer=s.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(i){return(await this.Irys.uploader.uploadTransaction(this,{...i,getReceiptSignature:!0})).data}async upload(i){return(await this.Irys.uploader.uploadTransaction(this,i)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return r.arbundles.DataItem.verify(this.getRaw())}}return e}var xt=l(27220),rt=l(1562);rt.Z.set({DECIMAL_PLACES:50});const hu=r=>new Promise(e=>setTimeout(e,r));class yr{constructor(e,t,n){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"arbundles");this.api=e,this.token=t,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,t,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${t}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return yr.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return yr.checkAndThrow(t,"Getting balance"),new rt.Z(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");yr.checkAndThrow(t,"Getting Bundler address");const n=t.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,t){const n=await this.api.get(`/price/${e}/${t}`);return yr.checkAndThrow(n,"Getting storage cost"),new rt.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const t=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,i=(await this.getPrice(this.tokenConfig.name,t)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(i).decimalPlaces(0)}toAtomic(e){return new rt.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new rt.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,t=30){if(this.tokenConfig.isSlow)return;t<0&&(t=0);let n,i;const s=async()=>{for(;!i;){if(await this.tokenConfig.getTx(e).then(y=>y==null?void 0:y.confirmed).catch(y=>(n=y,!1)))return!0;await hu(1e3)}return!1},a=async()=>(await hu(t*1e3),i=!0,"RACE"),o=await Promise.race([a(),s()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${t} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new rt.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return yr.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,t){const{id:n,deadlineHeight:i,timestamp:s,public:a,signature:o,version:f}=t,y=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(f),e.stringToBuffer(n),e.stringToBuffer(i.toString()),e.stringToBuffer(s.toString())]);return await e.getCryptoDriver().verify(a,y,xt.toBuffer(o))}async getReceipt(e){var o,f,y,E,A,F;const t=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await Qn(async()=>await this.api.post("/graphql",{query:t},{headers:{"content-type":"application/json"},validateStatus:G=>G===200})),i=(F=(A=(E=(y=(f=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:f.transactions)==null?void 0:y.edges)==null?void 0:E.at(0))==null?void 0:A.node)==null?void 0:F.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:i.version,id:e,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var Lo=l(55872).Buffer;async function Y0(r,e,t){const n=r.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:r.token,amount:new rt.Z(t).toString(),nonce:await r.getNonce(),signature:"",sigType:n.getSigner().signatureType},f=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);Lo.isBuffer(o.publicKey)||(o.publicKey=Lo.from(o.publicKey));const y=await n.sign(f),E=await n.verify(o.publicKey,f,y);o.publicKey=xt.encode(o.publicKey),o.signature=xt.encode(Lo.from(y));const A=xt.toBuffer(o.publicKey),F=xt.toBuffer(o.signature),G=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),q=await n.verify(A,G,F),Q=n.ownerToAddress(n.name=="arweave"?xt.decode(o.publicKey):xt.toBuffer(o.publicKey))===n.address;if(!(E||q||Q))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const le=await e.post("/account/withdraw",o);if(le.status===202){const Be=le.data.tx_id,tt=await r.confirmationPoll(Be);if(tt!==!0)throw new Error(`Unable to confirm withdrawal tx ${Be} ${tt?tt==null?void 0:tt.toString():""}`)}else yr.checkAndThrow(le,"Withdrawing balance");return le.data}var ps=l(26748);class Q0{constructor({url:e,retryConfig:t,query:n,queryName:i,opts:s}){O(this,"queryVars",{});O(this,"queryFields");O(this,"queryInfo");O(this,"_query");O(this,"url");O(this,"config");O(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...t}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(s!=null&&s.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var f,y;if(this.config.userProvided)return this;const e=E=>JSON.stringify(E,(A,F)=>{if(F instanceof Array)return F[0];if(typeof F=="object")return F;if(F!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),t=e(this.queryFields),n=e({pageInfo:{[((f=this.queryInfo.paging)==null?void 0:f.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,s={...this.queryInfo.vars,...this.queryVars};for(const[E,A]of Object.entries(this.queryInfo.remapVars??{}))if((s==null?void 0:s[E])!==void 0){if(typeof A=="function"){const F=A(E,s[E],s);if(!F)continue;const[G,q]=F;if(s[G]=q,G===E)continue}else s[A]=s[E];s[E]=void 0}const a=JSON.stringify(s,function(E,A){return A===void 0||A instanceof Array||typeof A=="object"||typeof A=="number"||i!=null&&i.includes(E)?A:`'${A}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((y=this==null?void 0:this.queryInfo)!=null&&y.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${t}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${t}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await Qn(async i=>{const s=await xs(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(s.data.errors)throw s;return s},this.config.retryOpts)}catch(i){throw new Error(`Error running query
 ${this._query} - ${i.message?i.message+" -":""} (${JSON.stringify(((n=i==null?void 0:i.data)==null?void 0:n.errors.map(s=>s.message))??(i==null?void 0:i.errors)??i)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const t=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const i=t.pageInfo[this.queryInfo.paging.hasNextPage]?t.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=i,this.trimmer(t.edges.map(s=>s.node))}return this.trimmer([t].flat(20))}trimmer(e){var i,s;const t=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(t>=((i=this==null?void 0:this.config)==null?void 0:i.numPages)&&(this.resultTracker.done=!0),n>=((s=this==null?void 0:this.config)==null?void 0:s.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const t=await this.getPage();if(!t)break;e.push(...t)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const t of e)yield t}while(this.queryVars.after)}stream(){return ps.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,t=!1){const n=(i,s,a)=>{for(const o of Object.keys(a)){let f=s[o];Array.isArray(f)&&(f=f[0]);const y=a[o];if(f===void 0)throw new Error(`Illegal field ${i}${o}`);typeof y=="object"&&n(i+o+".",f,y)}};return t||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,t){return this.all().then(e,t)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const xu={id:"",timestamp:0,height:"",previous:""},u1={name:"block",query:xu,vars:{id:void 0}},el={name:"blocks",query:xu,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.height={...t.height,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.height={...t.height,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},pu={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},l1={name:"transaction",query:pu,vars:{id:void 0}},tl={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,from:new Date(e).getTime()},t.fromTimestamp=void 0},toTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,to:new Date(e).getTime()},t.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:pu,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.block={...t.block,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.block={...t.block,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":el};class yu{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){O(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,t){const n=(t==null?void 0:t.query)??tl[e];return new Q0({...this.opts,query:n,queryName:e})}}var b1=null;class Ho{constructor({url:e,arbundles:t}){O(this,"api");O(this,"utils");O(this,"uploader");O(this,"funder");O(this,"address");O(this,"token");O(this,"tokenConfig");O(this,"provenance");O(this,"transactions");O(this,"_readyPromise");O(this,"url");O(this,"arbundles");O(this,"IrysTransaction");this.url=e,this.arbundles=t,this.IrysTransaction=Z0(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new yu({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new yu(e??{url:this.url})}async withdrawBalance(e){return Y0(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return yr.verifyReceipt(this.arbundles,e)}createTransaction(e,t){return new this.IrysTransaction(e,this,t)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,t){return this.uploader.uploadData(e,t)}async uploadWithReceipt(e,t){return this.uploader.uploadData(e,{...t,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(t){return new e.IrysTransaction(t,e,{dataIsRawTransaction:!0})}}}}O(Ho,"VERSION","0.0.2");class rl{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":Ho.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=xs.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return Qn(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}class nl{constructor(e){O(this,"utils");this.utils=e}async fund(e,t=1){const n=new rt.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let a;if(i.needsFee){const A=await i.getFee(i.base[0]==="winston"?0:n,s);a=rt.Z.isBigNumber(A)?A.multipliedBy(t).integerValue(rt.Z.ROUND_CEIL):A}const o=await i.createTx(n,s,a);let f;try{f=await i.sendTx(o.tx)}catch(A){throw A}if(o.txId??(o.txId=f),!o.txId)throw new Error("Undefined transaction ID");yr.checkAndThrow(f,`Sending transaction to the ${this.utils.token} network`);let y=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(A=>{y=A}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${y?` - ${(y==null?void 0:y.message)??y}`:""}`);return{reward:rt.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:s,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await Qn(async()=>{const t=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return yr.checkAndThrow(t,`Posting transaction ${e} information to the bundler`,[202]),t},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var ys=l(39098),ct=l.n(ys);const il="logger/5.7.0";let gu=!1,bu=!1;const la={debug:1,default:2,info:2,warning:3,error:4,off:5};let mu=la.default,Ko=null;function sl(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const wu=sl();var zo;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(zo||(zo={}));var pn;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(pn||(pn={}));const vu="0123456789abcdef";class me{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();la[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(mu>la[n])&&console.log.apply(console,t)}debug(...e){this._log(me.levels.DEBUG,e)}info(...e){this._log(me.levels.INFO,e)}warn(...e){this._log(me.levels.WARNING,e)}makeError(e,t,n){if(bu)return this.makeError("censored error",t,{});t||(t=me.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const y=n[f];try{if(y instanceof Uint8Array){let E="";for(let A=0;A<y.length;A++)E+=vu[y[A]>>4],E+=vu[y[A]&15];i.push(f+"=Uint8Array(0x"+E+")")}else i.push(f+"="+JSON.stringify(y))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let a="";switch(t){case pn.NUMERIC_FAULT:{a="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":a+="-"+f;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case pn.CALL_EXCEPTION:case pn.INSUFFICIENT_FUNDS:case pn.MISSING_NEW:case pn.NONCE_EXPIRED:case pn.REPLACEMENT_UNDERPRICED:case pn.TRANSACTION_REPLACED:case pn.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=t,Object.keys(n).forEach(function(f){o[f]=n[f]}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,me.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),wu&&this.throwError("platform missing String.prototype.normalize",me.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wu})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,me.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,me.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,me.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",me.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",me.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ko||(Ko=new me(il)),Ko}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gu){if(!e)return;this.globalLogger().throwError("error censorship permanent",me.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bu=!!e,gu=!!t}static setLogLevel(e){const t=la[e.toLowerCase()];if(t==null){me.globalLogger().warn("invalid log level - "+e);return}mu=t}static from(e){return new me(e)}}me.errors=pn,me.levels=zo;const al="bytes/5.7.0",Zt=new me(al);function Eu(r){return!!r.toHexString}function Oi(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Oi(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function $o(r){return er(r)&&!(r.length%2)||ha(r)}function Su(r){return typeof r=="number"&&r==r&&r%1===0}function ha(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Su(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Su(t)||t<0||t>=256)return!1}return!0}function Te(r,e){if(e||(e={}),typeof r=="number"){Zt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Oi(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Eu(r)&&(r=r.toHexString()),er(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Zt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Oi(new Uint8Array(n))}return ha(r)?Oi(new Uint8Array(r)):Zt.throwArgumentError("invalid arrayify value","value",r)}function Or(r){const e=r.map(i=>Te(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Oi(n)}function Fn(r){let e=Te(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function ol(r,e){r=Te(r),r.length>e&&Zt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Oi(t)}function er(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const qo="0123456789abcdef";function Le(r,e){if(e||(e={}),typeof r=="number"){Zt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=qo[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Eu(r))return r.toHexString();if(er(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Zt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ha(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=qo[(i&240)>>4]+qo[i&15]}return t}return Zt.throwArgumentError("invalid hexlify value","value",r)}function _u(r){if(typeof r!="string")r=Le(r);else if(!er(r)||r.length%2)return null;return(r.length-2)/2}function yi(r,e,t){return typeof r!="string"?r=Le(r):(!er(r)||r.length%2)&&Zt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function gi(r){let e="0x";return r.forEach(t=>{e+=Le(t).substring(2)}),e}function m1(r){const e=cl(Le(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function cl(r){typeof r!="string"&&(r=Le(r)),er(r)||Zt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Nr(r,e){for(typeof r!="string"?r=Le(r):er(r)||Zt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Zt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Ni(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if($o(r)){let t=Te(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Le(t.slice(0,32)),e.s=Le(t.slice(32,64))):t.length===65?(e.r=Le(t.slice(0,32)),e.s=Le(t.slice(32,64)),e.v=t[64]):Zt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Zt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Le(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=ol(Te(e._vs),32);e._vs=Le(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Zt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const a=Le(i);e.s==null?e.s=a:e.s!==a&&Zt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Zt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Zt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!er(e.r)?Zt.throwArgumentError("signature missing or invalid r","signature",r):e.r=Nr(e.r,32),e.s==null||!er(e.s)?Zt.throwArgumentError("signature missing or invalid s","signature",r):e.s=Nr(e.s,32);const t=Te(e.s);t[0]>=128&&Zt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=Le(t);e._vs&&(er(e._vs)||Zt.throwArgumentError("signature invalid _vs","signature",r),e._vs=Nr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Zt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Au(r){return r=Ni(r),Le(Or([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const ul="bignumber/5.7.0";var gs=ct().BN;const Ln=new me(ul),jo={},Tu=9007199254740991;function w1(r){return r!=null&&(Ye.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||isHexString(r)||typeof r=="bigint"||isBytes(r))}let Pu=!1;class Ye{constructor(e,t){e!==jo&&Ln.throwError("cannot call constructor directly; use BigNumber.from",me.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Mr(vt(this).fromTwos(e))}toTwos(e){return Mr(vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ye.from(this._hex.substring(1)):this}add(e){return Mr(vt(this).add(vt(e)))}sub(e){return Mr(vt(this).sub(vt(e)))}div(e){return Ye.from(e).isZero()&&Xr("division-by-zero","div"),Mr(vt(this).div(vt(e)))}mul(e){return Mr(vt(this).mul(vt(e)))}mod(e){const t=vt(e);return t.isNeg()&&Xr("division-by-zero","mod"),Mr(vt(this).umod(t))}pow(e){const t=vt(e);return t.isNeg()&&Xr("negative-power","pow"),Mr(vt(this).pow(t))}and(e){const t=vt(e);return(this.isNegative()||t.isNeg())&&Xr("unbound-bitwise-result","and"),Mr(vt(this).and(t))}or(e){const t=vt(e);return(this.isNegative()||t.isNeg())&&Xr("unbound-bitwise-result","or"),Mr(vt(this).or(t))}xor(e){const t=vt(e);return(this.isNegative()||t.isNeg())&&Xr("unbound-bitwise-result","xor"),Mr(vt(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Xr("negative-width","mask"),Mr(vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xr("negative-width","shl"),Mr(vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xr("negative-width","shr"),Mr(vt(this).shrn(e))}eq(e){return vt(this).eq(vt(e))}lt(e){return vt(this).lt(vt(e))}lte(e){return vt(this).lte(vt(e))}gt(e){return vt(this).gt(vt(e))}gte(e){return vt(this).gte(vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return vt(this).isZero()}toNumber(){try{return vt(this).toNumber()}catch{Xr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ln.throwError("this platform does not support BigInt",me.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Pu||(Pu=!0,Ln.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ln.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",me.errors.UNEXPECTED_ARGUMENT,{}):Ln.throwError("BigNumber.toString does not accept parameters",me.errors.UNEXPECTED_ARGUMENT,{})),vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ye)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ye(jo,bs(e)):e.match(/^-?[0-9]+$/)?new Ye(jo,bs(new gs(e))):Ln.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xr("underflow","BigNumber.from",e),(e>=Tu||e<=-Tu)&&Xr("overflow","BigNumber.from",e),Ye.from(String(e));const t=e;if(typeof t=="bigint")return Ye.from(t.toString());if(ha(t))return Ye.from(Le(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Ye.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(er(n)||n[0]==="-"&&er(n.substring(1))))return Ye.from(n)}return Ln.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function bs(r){if(typeof r!="string")return bs(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ln.throwArgumentError("invalid hex","value",r),r=bs(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Mr(r){return Ye.from(bs(r))}function vt(r){const e=Ye.from(r).toHexString();return e[0]==="-"?new gs("-"+e.substring(3),16):new gs(e.substring(2),16)}function Xr(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),Ln.throwError(r,me.errors.NUMERIC_FAULT,n)}function fl(r){return new gs(r,36).toString(16)}function v1(r){return new gs(r,16).toString(36)}class dl{constructor(){O(this,"publicKey");O(this,"signatureType");O(this,"signatureLength");O(this,"ownerLength");O(this,"pem")}static verify(e,t,n,i){throw new Error("You must implement verify method on child")}}var _t;(function(r){r[r.ARWEAVE=1]="ARWEAVE",r[r.ED25519=2]="ED25519",r[r.ETHEREUM=3]="ETHEREUM",r[r.SOLANA=4]="SOLANA",r[r.INJECTEDAPTOS=5]="INJECTEDAPTOS",r[r.MULTIAPTOS=6]="MULTIAPTOS",r[r.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(_t||(_t={}));const Lt={[_t.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[_t.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[_t.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[_t.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[_t.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[_t.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[_t.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var ms=l(64693),ws=l(55872).Buffer;class vs{constructor(e,t){O(this,"_key");O(this,"pk");O(this,"ownerLength",Lt[2].pubLength);O(this,"signatureLength",Lt[2].sigLength);O(this,"_publicKey");O(this,"signatureType",2);this._key=e,this.pk=t}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,ms.Xx)(ws.from(e),ws.from(this.key))}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=xt.toBuffer(e)),(0,ms.T)(ws.from(n),ws.from(t),ws.from(i))}}var Ru=l(65415);function Pr(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;t.set(new Uint8Array(r[0]),n),n+=r[0].byteLength;for(let i=1;i<r.length;i++)t.set(new Uint8Array(r[i]),n),n+=r[i].byteLength;return t}function Cu(r){const e=yn(r);return Go(e)}function Go(r){return new TextDecoder("utf-8",{fatal:!0}).decode(r)}function Tt(r){return new TextEncoder().encode(r)}function Wo(r){return gn(Tt(r))}function yn(r){return new Uint8Array((0,Ru.toByteArray)(Bu(r)))}function ku(r){return(0,Ru.fromByteArray)(new Uint8Array(r))}function gn(r){return Iu(ku(r))}function Iu(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Bu(r){r=r.replace(/\-/g,"+").replace(/\_/g,"/");let e;return r.length%4==0?e=0:e=4-r.length%4,r.concat("=".repeat(e))}function ll(r){return new rt.Z(r).shiftedBy(-12)}function hl(r){return new rt.Z(r).shiftedBy(12)}class xa{constructor(){O(this,"keyLength",4096);O(this,"publicExponent",65537);O(this,"hashAlgorithm","sha256");O(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t,{saltLength:n}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),t);return new Uint8Array(i)}async hash(e,t="SHA-256"){const n=await this.driver.digest(t,e);return new Uint8Array(n)}async verify(e,t,n){const i={kty:"RSA",e:"AQAB",n:e},s=await this.jwkToPublicCryptoKey(i),a=await this.driver.digest("SHA-256",t),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,t),f=await this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,t),y=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((s.algorithm.modulusLength-1)/8)-a.byteLength-2},s,n,t);return o||f||y}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?Tt(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:Tt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},s,e);return Pr([a,o])}async decrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?Tt(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:Tt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},s,e.slice(16));return Pr([o])}}async function Mi(r){if(typeof r[Symbol.asyncIterator]=="function"){const i=r,s=(0,Dn.createHash)("sha384");let a=0;for await(const y of i)a+=y.byteLength,s.update(y);const o=Pr([Tt("blob"),Tt(a.toString())]),f=Pr([await gr().hash(o,"SHA-384"),s.digest()]);return await gr().hash(f,"SHA-384")}else if(Array.isArray(r)){const i=Pr([Tt("list"),Tt(r.length.toString())]);return await Uu(r,await gr().hash(i,"SHA-384"))}const e=r,t=Pr([Tt("blob"),Tt(e.byteLength.toString())]),n=Pr([await gr().hash(t,"SHA-384"),await gr().hash(e,"SHA-384")]);return await gr().hash(n,"SHA-384")}async function Uu(r,e){if(r.length<1)return e;const t=Pr([e,await Mi(r[0])]),n=await gr().hash(t,"SHA-384");return await Uu(r.slice(1),n)}async function E1(r){const e=createHash("sha384");for await(const t of r)e.update(t);return e.digest()}var S1=null;class Es extends Error{constructor(t,n={}){var e=(...pw)=>{super(...pw);O(this,"type");O(this,"response")};n.message?e(n.message):e(),this.type=t,this.response=n.response}getType(){return this.type}}function Ss(r){let e=r.data;if(typeof r.data=="string")try{e=JSON.parse(r.data)}catch{}if(r.data instanceof ArrayBuffer||r.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:r.statusText||"unknown"}class xl{constructor(e,t){O(this,"api");O(this,"network");this.api=e,this.network=t}async getByHash(e){const t=await this.api.get(`block/hash/${e}`);if(t.status===200)return t.data;throw t.status===404?new Es("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getByHeight(e){const t=await this.api.get(`block/height/${e}`);if(t.status===200)return t.data;throw t.status===404?new Es("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var Ou=l(55872).Buffer;const ei=256*1024,pl=32*1024,_s=32,Di=32;class yl{constructor(e){O(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const t=[];let n=e,i=0;for(;n.byteLength>=ei;){let s=ei;const a=n.byteLength-ei;a>0&&a<pl&&(s=Math.ceil(n.byteLength/2));const o=n.slice(0,s),f=await this.crypto.hash(o);i+=o.byteLength,t.push({dataHash:f,minByteRange:i-o.byteLength,maxByteRange:i}),n=n.slice(s)}return t.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),t}async generateLeaves(e){return Promise.all(e.map(async({dataHash:t,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(pa(i))])),dataHash:t,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const t=await this.chunkData(e),n=await this.generateLeaves(t),i=await this.buildLayers(n),s=await this.generateProofs(i),a=t.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(t.splice(t.length-1,1),s.splice(s.length-1,1)),{data_root:i.id,chunks:t,proofs:s}}async buildLayers(e,t=0){if(e.length<2)return e[0];const n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,t+1)}generateProofs(e){const t=this.resolveBranchProofs(e);return Array.isArray(t)?Nu(t):[t]}resolveBranchProofs(e,t=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:Pr([t,e.dataHash,pa(e.maxByteRange)])};if(e.type=="branch"){const i=Pr([t,e.leftChild.id,e.rightChild.id,pa(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,t,n,i,s){if(i<=0)return!1;if(t>=i)return this.validatePath(e,0,i-1,i,s);if(t<0)return this.validatePath(e,0,0,i,s);if(s.length==Di+_s){const F=s.slice(0,Di),G=s.slice(F.length,F.length+_s),q=await this.hash([await this.hash(F),await this.hash(G)]);return Du(e,q)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}const a=s.slice(0,Di),o=s.slice(a.length,a.length+Di),f=s.slice(a.length+o.length,a.length+o.length+_s),y=Mu(f),E=s.slice(a.length+o.length+f.length),A=await this.hash([await this.hash(a),await this.hash(o),await this.hash(f)]);return Du(e,A)?t<y?await this.validatePath(a,t,n,Math.min(i,y),E):await this.validatePath(o,t,Math.max(n,y),i,E):!1}async hashBranch(e,t){return t?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(t.id),await this.hash(pa(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}:e}async hash(e){return Array.isArray(e)&&(e=$u.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,t=""){if(e.byteLength<1)return t;const n=e.slice(0,Di),i=e.slice(n.length,n.length+Di),s=e.slice(n.length+i.length,n.length+i.length+_s),a=Mu(s),o=e.slice(n.length+i.length+s.length),f=await this.hash([await this.hash(n),await this.hash(i),await this.hash(s)]),y=`${t}
${JSON.stringify(Ou.from(n))},${JSON.stringify(Ou.from(i))},${a} => ${JSON.stringify(f)}`;return this.debug(o,y)}}function Nu(r){const e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...Nu(t)):e.push(t)}),e}function pa(r){const e=new Uint8Array(_s);for(let t=e.length-1;t>=0;t--){const n=r%256;e[t]=n,r=(r-n)/256}return e}function Mu(r){let e=0;for(let t=0;t<r.length;t++)e*=256,e+=r[t];return e}const Du=(r,e)=>r.every((t,n)=>e[n]===t);var gl=yl;class bl{constructor(e){O(this,"api");this.api=e}async getTransactionMetadata(e){const t=await this.api.get(`tx/${e}/offset`);if(t.status===200)return t.data;throw new Error(`Unable to get transaction offset: ${Ss(t)}`)}async getChunk(e){const t=await this.api.get(`chunk/${e}`);if(t.status===200)return t.data;throw new Error(`Unable to get chunk: ${Ss(t)}`)}async getChunkData(e){const t=await this.getChunk(e);return yn(t.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,t){const n=await this.getTransactionMetadata(e),i=parseInt(n.size),s=new Uint8Array(i);let a=0;for await(const o of this.concurrentChunkDownloader(e,t))s.set(o,a),a+=o.length;return s}async*concurrentChunkDownloader(e,t){const n={concurrency:10,...t},i=await this.getTransactionMetadata(e),s=new rt.Z(i.offset),a=new rt.Z(i.size),o=s.minus(a).plus(1);let f=0;const y=Math.ceil(a.dividedBy(ei).toNumber()),E=Q=>this.getChunkData(Q.toString()).then(le=>(f+=le.length,le)),A=[],F=y-2,G=Math.min(F,n.concurrency);let q=0;for(let Q=0;Q<G;Q++)A.push(E(o.plus(ei*q++)));for(;q<F;)A.push(E(o.plus(ei*q++))),yield A.shift();for(;A.length>0;)yield A.shift();if(yield E(o.plus(ei*q++)),a.isGreaterThan(f)&&(yield E(o.plus(ei*q++))),!a.isEqualTo(f))throw new Error(`got ${f}B, expected ${a.toString()}B`)}}function ml(r,e){const t=r;return t.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:Tt,concatBuffers:Pr},crypto:r}}),t}class wl{constructor({deps:e}){O(this,"crypto");O(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}const t=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(t,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,t){if(e.length<1)return t;const n=this.utils.concatBuffers([t,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}}class Fu{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":$u.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=xs.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return Qn(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}const Lu=r=>typeof r!="string"&&"url"in r,vl={maxAttempts:15,randomlySelect:!0};class El{constructor({gateways:e,miners:t,opts:n}){O(this,"minerInstances",[]);O(this,"globalConfig");O(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},t&&this.addMiners(t),e&&this.addGateways(e)}async addPeersFrom(e,t){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,t==null?void 0:t.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(t=>this.minerInstances.push(new Fu(Lu(t)?t:{url:new URL(t),...this.globalConfig})))}addGateways(e){e.forEach(t=>this.gatewayInstances.push(new Fu(Lu(t)?t:{url:new URL(t),...this.globalConfig})))}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{data:t,...n,method:"POST"})}async request(e,t){const n={...vl,...t==null?void 0:t.fallback};let i=0;const s=[],a=t!=null&&t.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),f=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const y=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):i-1);if(y)try{return await y.request(e,{...t})}catch(E){if(f==null||f(E,y),s.push(E),i>=o)throw E}}throw new Error("unreachable")}}var Sl=El;class Hu{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?Go(this[e]):t&&t.decode&&!t.string?this[e]:gn(this[e]);if(this[e]instanceof Array){if((t==null?void 0:t.decode)!==void 0||(t==null?void 0:t.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return t&&t.decode==!0?t&&t.string?Cu(this[e]):yn(this[e]):this[e]}}class _l extends Hu{constructor(t,n){super();O(this,"name");O(this,"value");this.name=t,this.value=n}}class Zr extends Hu{constructor({attributes:t,deps:n}){super();O(this,"format",2);O(this,"id","");O(this,"last_tx","");O(this,"owner","");O(this,"tags",[]);O(this,"target","");O(this,"quantity","0");O(this,"data_size","0");O(this,"data",new Uint8Array);O(this,"data_root","");O(this,"reward","0");O(this,"signature","");O(this,"merkle");O(this,"deepHash");O(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,t),typeof this.data=="string"&&(this.data=yn(this.data)),t.tags&&(this.tags=t.tags)}addTag(t,n){this.tags.push({name:Wo(t),value:Wo(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:gn(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:n,reward:i,tags:s,signature:a}){this.id=t,this.owner=n,i&&(this.reward=i),s&&(this.tags=s),this.signature=a}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(t),this.data_root=gn(this.chunks.data_root)),!this.chunks&&t.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const i=this.chunks.proofs[t],s=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:gn(i.proof),offset:i.offset.toString(),chunk:gn(n.slice(s.minByteRange,s.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const t=this.tags.reduce((i,s)=>Pr([i,yn(s.name),yn(s.value)]),new Uint8Array);return Pr([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Tt(this.quantity),Tt(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(i=>[yn(i.name),yn(i.value)]);return await this.deepHash.deepHash([Tt(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Tt(this.quantity),Tt(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,Tt(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Al{constructor(e){O(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const Ku=1,Tl=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],zu=1e3*40;class As{constructor({deps:e,transaction:t}){O(this,"chunkIndex",0);O(this,"txPosted",!1);O(this,"transaction");O(this,"lastRequestTimeEnd",0);O(this,"totalErrors",0);O(this,"data");O(this,"lastResponseStatus",0);O(this,"lastResponseError","");O(this,"crypto");O(this,"api");O(this,"merkle");O(this,"deepHash");if(!t.id)throw new Error("Transaction is not signed");if(!t.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=t.data,this.transaction=new Zr({attributes:Object.assign({},t,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+zu-Date.now(),zu);if(t>0&&(t=t-t*Math.random()*.3,await new Promise(a=>setTimeout(a,t))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),yn(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=Ss(s),Tl.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:t,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const i=new Zr(e.transaction);i.chunks||await i.prepareChunks(t);const s=new As({deps:n,transaction:i});if(s.chunkIndex=e.chunkIndex,s.lastRequestTimeEnd=e.lastRequestTimeEnd,s.lastResponseError=e.lastResponseError,s.lastResponseStatus=e.lastResponseStatus,s.txPosted=e.txPosted,s.data=t,s.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,t){const n=await e.get(`tx/${t}`);if(n.status!==200)throw new Error(`Tx ${t} not found: ${n.status}`);const i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Ku){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Ku;return}throw this.lastResponseError=Ss(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=Ss(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}class Pl{constructor({deps:e}){O(this,"api");O(this,"crypto");O(this,"chunks");O(this,"merkle");O(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,t){const n=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){const t=await this.api.get(`tx/${e}`);if(t.status==200){const n=parseInt(t.data.data_size);if(t.data.format>=2&&n>0&&n<=1024*1024*12){const i=await this.getData(e);return new Zr({attributes:{...t.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Zr({attributes:{...t.data,format:t.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw t.status===404?new Es("TX_NOT_FOUND"):t.status===410?new Es("TX_FAILED"):new Es("TX_INVALID")}fromRaw(e){return new Zr({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(t=>t.status===200?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(e){let t;try{t=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async getDataStream(e){let t;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;t=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async sign(e,t,n){const s=typeof t=="object"&&(o=>{let f=!0;return["n","e","d","p","q","dp","dq","qi"].map(y=>!(y in o)&&(f=!1)),f})(t),a=typeof arweaveWallet=="object";if(!s&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(f=>new _l(f.name,f.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(s){e.setOwner(t.n);const o=await e.getSignatureData(),f=await this.crypto.sign(t,o,n),y=await this.crypto.hash(f);e.setSignature({id:gn(y),owner:t.n,signature:gn(f)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const t=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=gn(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,n)}async post(e){if(typeof e=="string"?e=new Zr({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new Zr({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof Zr)&&(e=new Zr({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof Zr))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(n){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let n;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof Zr){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),n=new As({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=t)}else{if(typeof e=="string"&&(e=await As.fromTransactionId(this.api,e)),!t||!(t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await As.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:t})}return n}async*upload(e,t){const n=await this.getUploader(e,t);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class Rl{constructor(e,t){O(this,"api");O(this,"crypto");this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(t){return t}]}).then(t=>t.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return gn(await this.crypto.hash(yn(e)))}}const uu=class{constructor(e){O(this,"config");O(this,"api");O(this,"wallets");O(this,"transactions");O(this,"network");O(this,"blocks");O(this,"chunks");O(this,"crypto");O(this,"deepHash");O(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=ml(e.crypto,{deepHash:wl}),this.deepHash=this.crypto.deepHash;const t=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new Sl({gateways:t,miners:e.miners}),this.wallets=new Rl(this.api,this.crypto),this.chunks=new bl(this.api),this.network=new Al(this.api),this.blocks=new xl(this.api,this.network),this.merkle=new gl({deps:{crypto:this.crypto}}),this.transactions=new Pl({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return uu.utils}getConfig(){return this.config}async createTransaction(e,t){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&t&&t!=="use_wallet"&&(n.owner=t.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=Tt(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const i=new Zr({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}};let bi=uu;O(bi,"init"),O(bi,"utils",d),O(bi,"VERSION","0.0.1");var $u=bi;class Vo extends bi{constructor(e,t){super({crypto:(t==null?void 0:t.crypto)??new xa,...t,gateways:e??"https://arweave.net"})}static init(e){return new Vo(e)}}const _1=null;var A1=null;const Cl=xa.default?xa.default:xa;class qu extends Cl{getPublicKey(e){throw new Error("Unimplemented")}}let kl;function gr(){return kl??(kl=new qu)}var Il=l(55872).Buffer;class ju{constructor(e,t){O(this,"_key");O(this,"pk");O(this,"signatureType",1);O(this,"ownerLength",Lt[1].pubLength);O(this,"signatureLength",Lt[1].sigLength);O(this,"_publicKey");this._key=e,this.pk=t,t||(this.pk=gr().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,Dn.createSign)("sha256").update(e).sign({key:this._key,padding:Dn.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,t,n){return await gr().verify(Il.isBuffer(e)?xt.encode(e):e,t,n)}}var Bl=l(65209),ya=l(55872).Buffer;const mi=Bl.define;function Ul(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Jo(r){return Ul(ya.from(r,"hex").toString("base64"))}const Gu=mi("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),Wu=mi("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),Ol=mi("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Wu),this.key("publicKey").bitstr())}),Vu=mi("Version",function(){this.int({0:"two-prime",1:"multi"})}),Nl=mi("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),Ju=mi("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(Vu),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(Nl))}),Ml=mi("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(Vu),this.key("algorithm").use(Wu),this.key("privateKey").bitstr())}),T1="1.2.840.113549.1.1.1";function Xu(r,e){return e=e||{},Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function Xo(r){return r.length%2===1?"0"+r:r}function Zu(r,e){const t=Gu.decode(r,"der"),n=Xo(t.e.toString(16)),i={kty:"RSA",n:ti(t.n),e:Jo(n)};return Xu(i,e)}function Yu(r,e){const t=Ju.decode(r,"der"),n=Xo(t.e.toString(16)),i={kty:"RSA",n:ti(t.n),e:Jo(n),d:ti(t.d),p:ti(t.p),q:ti(t.q),dp:ti(t.dp),dq:ti(t.dq),qi:ti(t.qi)};return Xu(i,e)}function Dl(r,e){const t=Ol.decode(r,"der");return Zu(t.publicKey.data,e)}function Fl(r,e){const t=Ml.decode(r,"der");return Yu(t.privateKey.data,e)}function Ll(r){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(r);if(!e)return null;const t=!!e[1];return e[2]==="PRIVATE"?t?Yu:Fl:t?Zu:Dl}function Hl(r){return{n:ri(r.n),e:ri(r.e),d:r.d&&ri(r.d),p:r.p&&ri(r.p),q:r.q&&ri(r.q),dp:r.dp&&ri(r.dp),dq:r.dq&&ri(r.dq),qi:r.qi&&ri(r.qi)}}function ti(r){return Jo(Xo(r.toString(16)))}function Kl(r){return new ys(ya.from(r,"base64"))}function ri(r){return/^[0-9]+$/.test(r)?new ys(r,10):Kl(r)}function P1(r,e){let t=r.toString().split(/(\r\n|\r|\n)+/g);t=t.filter(function(i){return i.trim().length!==0});const n=Ll(t[0]);return t=t.slice(1,-1).join(""),n(ya.from(t.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function zl(r){const e=Hl(r),t=!!e.d,n=t?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`;let a=ya.alloc(0);t?(e.version="two-prime",a=Ju.encode(e,"der")):a=Gu.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}class ga extends ju{constructor(t){super(zl(t),t.n);O(this,"jwk");this.jwk=t}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return xt.toBuffer(this.pk)}sign(t){return gr().sign(this.jwk,t)}static async verify(t,n,i){return await gr().verify(t,n,i)}}var Zo=l(55872).Buffer;class Qu{constructor(e){O(this,"_publicKey");O(this,"ownerLength",Lt[2].pubLength);O(this,"signatureLength",Lt[2].sigLength);O(this,"signatureType",2);O(this,"pem");O(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=xt.toBuffer(e)),(0,ms.T)(Zo.from(n),Zo.from(t),Zo.from(i))}}var ef=l(40954),$l=l.n(ef);function dr(r){return"0x"+$l().keccak_256(Te(r))}const ql="strings/5.7.0",tf=new me(ql);var ni;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(ni||(ni={}));var Hr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Hr||(Hr={}));function jl(r,e,t,n,i){return tf.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function rf(r,e,t,n,i){if(r===Hr.BAD_PREFIX||r===Hr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===Hr.OVERRUN?t.length-e-1:0}function Gl(r,e,t,n,i){return r===Hr.OVERLONG?(n.push(i),0):(n.push(65533),rf(r,e,t,n,i))}const Wl=Object.freeze({error:jl,ignore:rf,replace:Gl});function Yo(r,e){e==null&&(e=Wl.error),r=Te(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Hr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Hr.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Hr.OVERRUN,n-1,r,t);continue}let o=i&(1<<8-s-1)-1;for(let f=0;f<s;f++){let y=r[n];if((y&192)!=128){n+=e(Hr.MISSING_CONTINUE,n,r,t),o=null;break}o=o<<6|y&63,n++}if(o!==null){if(o>1114111){n+=e(Hr.OUT_OF_RANGE,n-1-s,r,t,o);continue}if(o>=55296&&o<=57343){n+=e(Hr.UTF16_SURROGATE,n-1-s,r,t,o);continue}if(o<=a){n+=e(Hr.OVERLONG,n-1-s,r,t,o);continue}t.push(o)}}return t}function bn(r,e=ni.current){e!=ni.current&&(tf.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Te(t)}function Qo(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function R1(r,e){return'"'+Yo(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Qo(t):(t-=65536,Qo((t>>10&1023)+55296)+Qo((t&1023)+56320))}).join("")+'"'}function Vl(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jl(r,e){return Vl(Yo(r,e))}function C1(r,e=ni.current){return Yo(bn(r,e))}const Xl=`Ethereum Signed Message:
`;function ba(r){return typeof r=="string"&&(r=bn(r)),dr(Or([bn(Xl),bn(String(r.length)),r]))}var Zl=l(14751),Kr=l.n(Zl),k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof l.g<"u"?l.g:typeof self<"u"?self:{};function I1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Fi(r,e,t){return t={path:e,exports:{},require:function(n,i){return Yl(n,i??t.path)}},r(t,t.exports),t.exports}function B1(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function U1(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}function O1(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function Yl(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ec=nf;function nf(r,e){if(!r)throw new Error(e||"Assertion failed")}nf.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var mn=Fi(function(r,e){"use strict";var t=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var f=[];if(typeof a!="string"){for(var y=0;y<a.length;y++)f[y]=a[y]|0;return f}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var y=0;y<a.length;y+=2)f.push(parseInt(a[y]+a[y+1],16))}else for(var y=0;y<a.length;y++){var E=a.charCodeAt(y),A=E>>8,F=E&255;A?f.push(A,F):f.push(F)}return f}t.toArray=n;function i(a){return a.length===1?"0"+a:a}t.zero2=i;function s(a){for(var o="",f=0;f<a.length;f++)o+=i(a[f].toString(16));return o}t.toHex=s,t.encode=function(o,f){return f==="hex"?s(o):o}}),zr=Fi(function(r,e){"use strict";var t=e;t.assert=ec,t.toArray=mn.toArray,t.zero2=mn.zero2,t.toHex=mn.toHex,t.encode=mn.encode;function n(f,y,E){var A=new Array(Math.max(f.bitLength(),E)+1);A.fill(0);for(var F=1<<y+1,G=f.clone(),q=0;q<A.length;q++){var Q,le=G.andln(F-1);G.isOdd()?(le>(F>>1)-1?Q=(F>>1)-le:Q=le,G.isubn(Q)):Q=0,A[q]=Q,G.iushrn(1)}return A}t.getNAF=n;function i(f,y){var E=[[],[]];f=f.clone(),y=y.clone();for(var A=0,F=0,G;f.cmpn(-A)>0||y.cmpn(-F)>0;){var q=f.andln(3)+A&3,Q=y.andln(3)+F&3;q===3&&(q=-1),Q===3&&(Q=-1);var le;q&1?(G=f.andln(7)+A&7,(G===3||G===5)&&Q===2?le=-q:le=q):le=0,E[0].push(le);var Be;Q&1?(G=y.andln(7)+F&7,(G===3||G===5)&&q===2?Be=-Q:Be=Q):Be=0,E[1].push(Be),2*A===le+1&&(A=1-A),2*F===Be+1&&(F=1-F),f.iushrn(1),y.iushrn(1)}return E}t.getJSF=i;function s(f,y,E){var A="_"+y;f.prototype[y]=function(){return this[A]!==void 0?this[A]:this[A]=E.call(this)}}t.cachedProperty=s;function a(f){return typeof f=="string"?t.toArray(f,"hex"):f}t.parseBytes=a;function o(f){return new(ct())(f,"hex","le")}t.intFromLE=o}),ma=zr.getNAF,Ql=zr.getJSF,wa=zr.assert;function ii(r,e){this.type=r,this.p=new(ct())(e.p,16),this.red=e.prime?ct().red(e.prime):ct().mont(this.p),this.zero=new(ct())(0).toRed(this.red),this.one=new(ct())(1).toRed(this.red),this.two=new(ct())(2).toRed(this.red),this.n=e.n&&new(ct())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var wi=ii;ii.prototype.point=function(){throw new Error("Not implemented")},ii.prototype.validate=function(){throw new Error("Not implemented")},ii.prototype._fixedNafMul=function(e,t){wa(e.precomputed);var n=e._getDoubles(),i=ma(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var y=o+n.step-1;y>=o;y--)f=(f<<1)+i[y];a.push(f)}for(var E=this.jpoint(null,null,null),A=this.jpoint(null,null,null),F=s;F>0;F--){for(o=0;o<a.length;o++)f=a[o],f===F?A=A.mixedAdd(n.points[o]):f===-F&&(A=A.mixedAdd(n.points[o].neg()));E=E.add(A)}return E.toP()},ii.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=ma(t,n,this._bitLength),o=this.jpoint(null,null,null),f=a.length-1;f>=0;f--){for(var y=0;f>=0&&a[f]===0;f--)y++;if(f>=0&&y++,o=o.dblp(y),f<0)break;var E=a[f];wa(E!==0),e.type==="affine"?E>0?o=o.mixedAdd(s[E-1>>1]):o=o.mixedAdd(s[-E-1>>1].neg()):E>0?o=o.add(s[E-1>>1]):o=o.add(s[-E-1>>1].neg())}return e.type==="affine"?o.toP():o},ii.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,o=this._wnafT2,f=this._wnafT3,y=0,E,A,F;for(E=0;E<i;E++){F=t[E];var G=F._getNAFPoints(e);a[E]=G.wnd,o[E]=G.points}for(E=i-1;E>=1;E-=2){var q=E-1,Q=E;if(a[q]!==1||a[Q]!==1){f[q]=ma(n[q],a[q],this._bitLength),f[Q]=ma(n[Q],a[Q],this._bitLength),y=Math.max(f[q].length,y),y=Math.max(f[Q].length,y);continue}var le=[t[q],null,null,t[Q]];t[q].y.cmp(t[Q].y)===0?(le[1]=t[q].add(t[Q]),le[2]=t[q].toJ().mixedAdd(t[Q].neg())):t[q].y.cmp(t[Q].y.redNeg())===0?(le[1]=t[q].toJ().mixedAdd(t[Q]),le[2]=t[q].add(t[Q].neg())):(le[1]=t[q].toJ().mixedAdd(t[Q]),le[2]=t[q].toJ().mixedAdd(t[Q].neg()));var Be=[-3,-1,-5,-7,0,7,5,1,3],tt=Ql(n[q],n[Q]);for(y=Math.max(tt[0].length,y),f[q]=new Array(y),f[Q]=new Array(y),A=0;A<y;A++){var Et=tt[0][A]|0,Vt=tt[1][A]|0;f[q][A]=Be[(Et+1)*3+(Vt+1)],f[Q][A]=0,o[q]=le}}var Kt=this.jpoint(null,null,null),kr=this._wnafT4;for(E=y;E>=0;E--){for(var Fr=0;E>=0;){var Yt=!0;for(A=0;A<i;A++)kr[A]=f[A][E]|0,kr[A]!==0&&(Yt=!1);if(!Yt)break;Fr++,E--}if(E>=0&&Fr++,Kt=Kt.dblp(Fr),E<0)break;for(A=0;A<i;A++){var Gr=kr[A];Gr!==0&&(Gr>0?F=o[A][Gr-1>>1]:Gr<0&&(F=o[A][-Gr-1>>1].neg()),F.type==="affine"?Kt=Kt.mixedAdd(F):Kt=Kt.add(F))}}for(E=0;E<i;E++)o[E]=null;return s?Kt:Kt.toP()};function Yr(r,e){this.curve=r,this.type=e,this.precomputed=null}ii.BasePoint=Yr,Yr.prototype.eq=function(){throw new Error("Not implemented")},Yr.prototype.validate=function(){return this.curve.validate(this)},ii.prototype.decodePoint=function(e,t){e=zr.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?wa(e[e.length-1]%2===0):e[0]===7&&wa(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},Yr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Yr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},Yr.prototype.encode=function(e,t){return zr.encode(this._encode(t),e)},Yr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Yr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Yr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},Yr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},Yr.prototype._getBeta=function(){return null},Yr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var tc=Fi(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),eh=zr.assert;function Qr(r){wi.call(this,"short",r),this.a=new(ct())(r.a,16).toRed(this.red),this.b=new(ct())(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tc(Qr,wi);var th=Qr;Qr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new(ct())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new(ct())(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],eh(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(ct())(o.a,16),b:new(ct())(o.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}},Qr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ct().mont(e),n=new(ct())(2).toRed(t).redInvm(),i=n.redNeg(),s=new(ct())(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},Qr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new(ct())(1),a=new(ct())(0),o=new(ct())(0),f=new(ct())(1),y,E,A,F,G,q,Q,le=0,Be,tt;n.cmpn(0)!==0;){var Et=i.div(n);Be=i.sub(Et.mul(n)),tt=o.sub(Et.mul(s));var Vt=f.sub(Et.mul(a));if(!A&&Be.cmp(t)<0)y=Q.neg(),E=s,A=Be.neg(),F=tt;else if(A&&++le===2)break;Q=Be,i=n,n=Be,o=s,s=tt,f=a,a=Vt}G=Be.neg(),q=tt;var Kt=A.sqr().add(F.sqr()),kr=G.sqr().add(q.sqr());return kr.cmp(Kt)>=0&&(G=y,q=E),A.negative&&(A=A.neg(),F=F.neg()),G.negative&&(G=G.neg(),q=q.neg()),[{a:A,b:F},{a:G,b:q}]},Qr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),f=a.mul(i.a),y=s.mul(n.b),E=a.mul(i.b),A=e.sub(o).sub(f),F=y.add(E).neg();return{k1:A,k2:F}},Qr.prototype.pointFromX=function(e,t){e=new(ct())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},Qr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},Qr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),f=e[a],y=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),y=y.neg(!0)),i[a*2]=f,i[a*2+1]=y,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var E=this._wnafMulAdd(1,i,s,a*2,n),A=0;A<a*2;A++)i[A]=null,s[A]=null;return E};function lr(r,e,t,n){wi.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ct())(e,16),this.y=new(ct())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tc(lr,wi.BasePoint),Qr.prototype.point=function(e,t,n){return new lr(this,e,t,n)},Qr.prototype.pointFromJSON=function(e,t){return lr.fromJSON(this,e,t)},lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},lr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},lr.prototype.isInfinity=function(){return this.inf},lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},lr.prototype.getX=function(){return this.x.fromRed()},lr.prototype.getY=function(){return this.y.fromRed()},lr.prototype.mul=function(e){return e=new(ct())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},lr.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},lr.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},lr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function br(r,e,t,n){wi.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ct())(0)):(this.x=new(ct())(e,16),this.y=new(ct())(t,16),this.z=new(ct())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tc(br,wi.BasePoint),Qr.prototype.jpoint=function(e,t,n){return new br(this,e,t,n)},br.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},br.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},br.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),y=a.redSub(o);if(f.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=f.redSqr(),A=E.redMul(f),F=i.redMul(E),G=y.redSqr().redIAdd(A).redISub(F).redISub(F),q=y.redMul(F.redISub(G)).redISub(a.redMul(A)),Q=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(G,q,Q)},br.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(i),f=s.redSub(a);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=o.redSqr(),E=y.redMul(o),A=n.redMul(y),F=f.redSqr().redIAdd(E).redISub(A).redISub(A),G=f.redMul(A.redISub(F)).redISub(s.redMul(E)),q=this.z.redMul(o);return this.curve.jpoint(F,G,q)},br.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,f=this.z,y=f.redSqr().redSqr(),E=o.redAdd(o);for(t=0;t<e;t++){var A=a.redSqr(),F=E.redSqr(),G=F.redSqr(),q=A.redAdd(A).redIAdd(A).redIAdd(i.redMul(y)),Q=a.redMul(F),le=q.redSqr().redISub(Q.redAdd(Q)),Be=Q.redISub(le),tt=q.redMul(Be);tt=tt.redIAdd(tt).redISub(G);var Et=E.redMul(f);t+1<e&&(y=y.redMul(G)),a=le,f=Et,E=tt}return this.curve.jpoint(a,E.redMul(s),f)},br.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},br.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),y=f.redSqr().redISub(o).redISub(o),E=a.redIAdd(a);E=E.redIAdd(E),E=E.redIAdd(E),e=y,t=f.redMul(o.redISub(y)).redISub(E),n=this.y.redAdd(this.y)}else{var A=this.x.redSqr(),F=this.y.redSqr(),G=F.redSqr(),q=this.x.redAdd(F).redSqr().redISub(A).redISub(G);q=q.redIAdd(q);var Q=A.redAdd(A).redIAdd(A),le=Q.redSqr(),Be=G.redIAdd(G);Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),e=le.redISub(q).redISub(q),t=Q.redMul(q.redISub(e)).redISub(Be),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},br.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),y=f.redSqr().redISub(o).redISub(o);e=y;var E=a.redIAdd(a);E=E.redIAdd(E),E=E.redIAdd(E),t=f.redMul(o.redISub(y)).redISub(E),n=this.y.redAdd(this.y)}else{var A=this.z.redSqr(),F=this.y.redSqr(),G=this.x.redMul(F),q=this.x.redSub(A).redMul(this.x.redAdd(A));q=q.redAdd(q).redIAdd(q);var Q=G.redIAdd(G);Q=Q.redIAdd(Q);var le=Q.redAdd(Q);e=q.redSqr().redISub(le),n=this.y.redAdd(this.z).redSqr().redISub(F).redISub(A);var Be=F.redSqr();Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),t=q.redMul(Q.redISub(e)).redISub(Be)}return this.curve.jpoint(e,t,n)},br.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),f=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),y=t.redAdd(t);y=y.redIAdd(y);var E=y.redMul(o),A=f.redSqr().redISub(E.redAdd(E)),F=E.redISub(A),G=o.redSqr();G=G.redIAdd(G),G=G.redIAdd(G),G=G.redIAdd(G);var q=f.redMul(F).redISub(G),Q=n.redAdd(n).redMul(i);return this.curve.jpoint(A,q,Q)},br.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var f=o.redSqr(),y=i.redIAdd(i);y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var E=s.redIAdd(o).redSqr().redISub(a).redISub(f).redISub(y),A=t.redMul(E);A=A.redIAdd(A),A=A.redIAdd(A);var F=this.x.redMul(f).redISub(A);F=F.redIAdd(F),F=F.redIAdd(F);var G=this.y.redMul(E.redMul(y.redISub(E)).redISub(o.redMul(f)));G=G.redIAdd(G),G=G.redIAdd(G),G=G.redIAdd(G);var q=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(F,G,q)},br.prototype.mul=function(e,t){return e=new(ct())(e,t),this.curve._wnafMul(this,e)},br.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},br.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},br.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},br.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var va=Fi(function(r,e){"use strict";var t=e;t.base=wi,t.short=th,t.mont=null,t.edwards=null}),Ea=Fi(function(r,e){"use strict";var t=e,n=zr.assert;function i(o){o.type==="short"?this.curve=new va.short(o):o.type==="edwards"?this.curve=new va.edwards(o):this.curve=new va.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(o,f){Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){var y=new i(f);return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:y}),y}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Kr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Kr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Kr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Kr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Kr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kr().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Kr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function si(r){if(!(this instanceof si))return new si(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=mn.toArray(r.entropy,r.entropyEnc||"hex"),t=mn.toArray(r.nonce,r.nonceEnc||"hex"),n=mn.toArray(r.pers,r.persEnc||"hex");ec(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var sf=si;si.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},si.prototype._hmac=function(){return new(Kr()).hmac(this.hash,this.K)},si.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},si.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=mn.toArray(e,t),n=mn.toArray(n,i),ec(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},si.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=mn.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,mn.encode(a,t)};var rc=zr.assert;function Er(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var nc=Er;Er.fromPublic=function(e,t,n){return t instanceof Er?t:new Er(e,{pub:t,pubEnc:n})},Er.fromPrivate=function(e,t,n){return t instanceof Er?t:new Er(e,{priv:t,privEnc:n})},Er.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Er.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Er.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Er.prototype._importPrivate=function(e,t){this.priv=new(ct())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Er.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?rc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&rc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Er.prototype.derive=function(e){return e.validate()||rc(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Er.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},Er.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Er.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rh=zr.assert;function Sa(r,e){if(r instanceof Sa)return r;this._importDER(r,e)||(rh(r.r&&r.s,"Signature without r or s"),this.r=new(ct())(r.r,16),this.s=new(ct())(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var _a=Sa;function nh(){this.place=0}function ic(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function af(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Sa.prototype._importDER=function(e,t){e=zr.toArray(e,t);var n=new nh;if(e[n.place++]!==48)return!1;var i=ic(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=ic(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=ic(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new(ct())(a),this.s=new(ct())(f),this.recoveryParam=null,!0};function sc(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Sa.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=af(t),n=af(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];sc(i,t.length),i=i.concat(t),i.push(2),sc(i,n.length);var s=i.concat(n),a=[48];return sc(a,s.length),a=a.concat(s),zr.encode(a,e)};var ih=function(){throw new Error("unsupported")},of=zr.assert;function en(r){if(!(this instanceof en))return new en(r);typeof r=="string"&&(of(Object.prototype.hasOwnProperty.call(Ea,r),"Unknown curve "+r),r=Ea[r]),r instanceof Ea.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var sh=en;en.prototype.keyPair=function(e){return new nc(this,e)},en.prototype.keyFromPrivate=function(e,t){return nc.fromPrivate(this,e,t)},en.prototype.keyFromPublic=function(e,t){return nc.fromPublic(this,e,t)},en.prototype.genKeyPair=function(e){e||(e={});for(var t=new sf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ih(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new(ct())(2));;){var s=new(ct())(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},en.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},en.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(ct())(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),o=e.toArray("be",s),f=new sf({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),y=this.n.sub(new(ct())(1)),E=0;;E++){var A=i.k?i.k(E):new(ct())(f.generate(this.n.byteLength()));if(A=this._truncateToN(A,!0),!(A.cmpn(1)<=0||A.cmp(y)>=0)){var F=this.g.mul(A);if(!F.isInfinity()){var G=F.getX(),q=G.umod(this.n);if(q.cmpn(0)!==0){var Q=A.invm(this.n).mul(q.mul(t.getPrivate()).iadd(e));if(Q=Q.umod(this.n),Q.cmpn(0)!==0){var le=(F.getY().isOdd()?1:0)|(G.cmp(q)!==0?2:0);return i.canonical&&Q.cmp(this.nh)>0&&(Q=this.n.sub(Q),le^=1),new _a({r:q,s:Q,recoveryParam:le})}}}}}},en.prototype.verify=function(e,t,n,i){e=this._truncateToN(new(ct())(e,16)),n=this.keyFromPublic(n,i),t=new _a(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),f=o.mul(e).umod(this.n),y=o.mul(s).umod(this.n),E;return this.curve._maxwellTrick?(E=this.g.jmulAdd(f,n.getPublic(),y),E.isInfinity()?!1:E.eqXToP(s)):(E=this.g.mulAdd(f,n.getPublic(),y),E.isInfinity()?!1:E.getX().umod(this.n).cmp(s)===0)},en.prototype.recoverPubKey=function(r,e,t,n){of((3&t)===t,"The recovery param is more than two bits"),e=new _a(e,n);var i=this.n,s=new(ct())(r),a=e.r,o=e.s,f=t&1,y=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&y)throw new Error("Unable to find sencond key candinate");y?a=this.curve.pointFromX(a.add(this.curve.n),f):a=this.curve.pointFromX(a,f);var E=e.r.invm(i),A=i.sub(s).mul(E).umod(i),F=o.mul(E).umod(i);return this.g.mulAdd(A,a,F)},en.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new _a(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var ah=Fi(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=zr,t.rand=function(){throw new Error("unsupported")},t.curve=va,t.curves=Ea,t.ec=sh,t.eddsa=null}),oh=ah.ec;const ch="properties/5.7.0";var uh=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const Aa=new me(ch);function pe(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ts(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Hn(r){return uh(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function fh(r,e){(!r||typeof r!="object")&&Aa.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Aa.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function ai(r){const e={};for(const t in r)e[t]=r[t];return e}const dh={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cf(r){if(r==null||dh[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!cf(n))return!1}return!0}return Aa.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function lh(r){if(cf(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Li(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&pe(e,t,Li(n))}return e}return Aa.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Li(r){return lh(r)}class Hi{constructor(e){for(const t in e)this[t]=Li(e[t])}}const hh="signing-key/5.7.0",ac=new me(hh);let oc=null;function An(){return oc||(oc=new oh("secp256k1")),oc}class Ki{constructor(e){pe(this,"curve","secp256k1"),pe(this,"privateKey",Le(e)),_u(this.privateKey)!==32&&ac.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=An().keyFromPrivate(Te(this.privateKey));pe(this,"publicKey","0x"+t.getPublic(!1,"hex")),pe(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),pe(this,"_isSigningKey",!0)}_addPoint(e){const t=An().keyFromPublic(Te(this.publicKey)),n=An().keyFromPublic(Te(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=An().keyFromPrivate(Te(this.privateKey)),n=Te(e);n.length!==32&&ac.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return Ni({recoveryParam:i.recoveryParam,r:Nr("0x"+i.r.toString(16),32),s:Nr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=An().keyFromPrivate(Te(this.privateKey)),n=An().keyFromPublic(Te(ff(e)));return Nr("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function uf(r,e){const t=Ni(e),n={r:Te(t.r),s:Te(t.s)};return"0x"+An().recoverPubKey(Te(r),n,t.recoveryParam).encode("hex",!1)}function ff(r,e){const t=Te(r);if(t.length===32){const n=new Ki(t);return e?"0x"+An().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?Le(t):"0x"+An().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+An().keyFromPublic(t).getPublic(!0,"hex"):Le(t)}return ac.throwArgumentError("invalid public or private key","key","[REDACTED]")}const xh="rlp/5.7.0",Tn=new me(xh);function df(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function lf(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function hf(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(hf(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=df(n.length);return i.unshift(247+i.length),i.concat(n)}$o(r)||Tn.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(Te(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=df(e.length);return t.unshift(183+t.length),t.concat(e)}function Ps(r){return Le(hf(r))}function xf(r,e,t,n){const i=[];for(;t<e+1+n;){const s=pf(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&Tn.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function pf(r,e){if(r.length===0&&Tn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Tn.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=lf(r,e+1,t);return e+1+t+n>r.length&&Tn.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),xf(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Tn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),xf(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Tn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=lf(r,e+1,t);e+1+t+n>r.length&&Tn.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const i=hexlify(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Tn.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:hexlify(r[e])}}function N1(r){const e=arrayify(r),t=pf(e,0);return t.consumed!==e.length&&Tn.throwArgumentError("invalid rlp data","data",r),t.result}const ph="address/5.7.0",oi=new me(ph);function yf(r){er(r,20)||oi.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=Te(dr(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const yh=9007199254740991;function gh(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const cc={};for(let r=0;r<10;r++)cc[String(r)]=String(r);for(let r=0;r<26;r++)cc[String.fromCharCode(65+r)]=String(10+r);const gf=Math.floor(gh(yh));function bf(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>cc[n]).join("");for(;e.length>=gf;){let n=e.substring(0,gf);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function $t(r){let e=null;if(typeof r!="string"&&oi.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=yf(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&oi.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==bf(r)&&oi.throwArgumentError("bad icap checksum","address",r),e=fl(r.substring(4));e.length<40;)e="0"+e;e=yf("0x"+e)}else oi.throwArgumentError("invalid address","address",r);return e}function M1(r){try{return $t(r),!0}catch{}return!1}function D1(r){let e=_base16To36($t(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+bf("XE00"+e)+e}function bh(r){let e=null;try{e=$t(r.from)}catch{oi.throwArgumentError("missing from address","transaction",r)}const t=Fn(Te(Ye.from(r.nonce).toHexString()));return $t(yi(dr(Ps([e,t])),12))}function F1(r,e,t){return hexDataLength(e)!==32&&oi.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(t)!==32&&oi.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),$t(hexDataSlice(keccak256(concat(["0xff",$t(r),e,t])),12))}const mh="transactions/5.7.0",Sr=new me(mh);var mf;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(mf||(mf={}));function uc(r){return r==="0x"?null:getAddress(r)}function _r(r){return r==="0x"?Zero:BigNumber.from(r)}const wh=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],vh={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ci(r){const e=ff(r);return $t(yi(dr(yi(e,1)),12))}function Ta(r,e){return ci(uf(Te(r),e))}function $r(r,e){const t=Fn(Ye.from(r).toHexString());return t.length>32&&Sr.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function fc(r,e){return{address:$t(r),storageKeys:(e||[]).map((t,n)=>(_u(t)!==32&&Sr.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Pa(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&Sr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),fc(t[0],t[1])):fc(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return fc(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function wf(r){return Pa(r).map(e=>[e.address,e.storageKeys])}function vf(r,e){if(r.gasPrice!=null){const n=Ye.from(r.gasPrice),i=Ye.from(r.maxFeePerGas||0);n.eq(i)||Sr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[$r(r.chainId||0,"chainId"),$r(r.nonce||0,"nonce"),$r(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$r(r.maxFeePerGas||0,"maxFeePerGas"),$r(r.gasLimit||0,"gasLimit"),r.to!=null?$t(r.to):"0x",$r(r.value||0,"value"),r.data||"0x",wf(r.accessList||[])];if(e){const n=Ni(e);t.push($r(n.recoveryParam,"recoveryParam")),t.push(Fn(n.r)),t.push(Fn(n.s))}return gi(["0x02",Ps(t)])}function Ef(r,e){const t=[$r(r.chainId||0,"chainId"),$r(r.nonce||0,"nonce"),$r(r.gasPrice||0,"gasPrice"),$r(r.gasLimit||0,"gasLimit"),r.to!=null?$t(r.to):"0x",$r(r.value||0,"value"),r.data||"0x",wf(r.accessList||[])];if(e){const n=Ni(e);t.push($r(n.recoveryParam,"recoveryParam")),t.push(Fn(n.r)),t.push(Fn(n.s))}return gi(["0x01",Ps(t)])}function Eh(r,e){fh(r,vh);const t=[];wh.forEach(function(a){let o=r[a.name]||[];const f={};a.numeric&&(f.hexPad="left"),o=Te(Le(o,f)),a.length&&o.length!==a.length&&o.length>0&&Sr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=Fn(o),o.length>a.maxLength&&Sr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),t.push(Le(o))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&Sr.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!$o(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(Le(n)),t.push("0x"),t.push("0x")),!e)return Ps(t);const i=Ni(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Sr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Sr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Le(s)),t.push(Fn(Te(i.r))),t.push(Fn(Te(i.s))),Ps(t)}function Sf(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Sr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),Eh(r,e);switch(r.type){case 1:return Ef(r,e);case 2:return vf(r,e);default:break}return Sr.throwError(`unsupported transaction type: ${r.type}`,me.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function _f(r,e,t){try{const n=_r(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{Sr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=hexZeroPad(e[1],32),r.s=hexZeroPad(e[2],32);try{const n=keccak256(t(r));r.from=Ta(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function Sh(r){const e=RLP.decode(r.slice(1));e.length!==9&&e.length!==12&&Sr.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(r));const t=_r(e[2]),n=_r(e[3]),i={type:2,chainId:_r(e[0]).toNumber(),nonce:_r(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:_r(e[4]),to:uc(e[5]),value:_r(e[6]),data:e[7],accessList:Pa(e[8])};return e.length===9||(i.hash=keccak256(r),_f(i,e.slice(9),vf)),i}function _h(r){const e=RLP.decode(r.slice(1));e.length!==8&&e.length!==11&&Sr.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(r));const t={type:1,chainId:_r(e[0]).toNumber(),nonce:_r(e[1]).toNumber(),gasPrice:_r(e[2]),gasLimit:_r(e[3]),to:uc(e[4]),value:_r(e[5]),data:e[6],accessList:Pa(e[7])};return e.length===8||(t.hash=keccak256(r),_f(t,e.slice(8),Ef)),t}function Ah(r){const e=RLP.decode(r);e.length!==9&&e.length!==6&&Sr.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:_r(e[0]).toNumber(),gasPrice:_r(e[1]),gasLimit:_r(e[2]),to:uc(e[3]),value:_r(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=BigNumber.from(e[6]).toNumber()}catch{return t}if(t.r=hexZeroPad(e[7],32),t.s=hexZeroPad(e[8],32),BigNumber.from(t.r).isZero()&&BigNumber.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(hexlify(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=keccak256(RLP.encode(i));try{t.from=Ta(s,{r:hexlify(t.r),s:hexlify(t.s),recoveryParam:n})}catch{}t.hash=keccak256(r)}return t.type=null,t}function L1(r){const e=arrayify(r);if(e[0]>127)return Ah(e);switch(e[0]){case 1:return _h(e);case 2:return Sh(e);default:break}return Sr.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Th="abstract-provider/5.7.0";var Ph=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const Rs=new me(Th);class H1 extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class K1 extends null{constructor(e,t){isHexString(e,32)||Rs.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:t||0,blockHash:e})}}class z1 extends null{constructor(e,t){isHexString(e,32)||Rs.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:t||0,hash:e})}}class $1 extends null{constructor(e,t,n){isHexString(e,32)||Rs.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(t,32)||Rs.throwArgumentError("invalid transaction hash","afterHash",t),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:t})}}class Ra{constructor(){Rs.checkAbstract(new.target,Ra),pe(this,"_isProvider",!0)}getFeeData(){return Ph(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Hn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ye.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const Rh="abstract-signer/5.7.0";var wn=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const tn=new me(Rh),Ch=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],kh=[me.errors.INSUFFICIENT_FUNDS,me.errors.NONCE_EXPIRED,me.errors.REPLACEMENT_UNDERPRICED];class Cs{constructor(){tn.checkAbstract(new.target,Cs),pe(this,"_isSigner",!0)}getBalance(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return wn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Hn(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return wn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Hn(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return wn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return wn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return wn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Ch.indexOf(n)===-1&&tn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=ai(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&tn.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return wn(this,void 0,void 0,function*(){const t=yield Hn(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>wn(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&tn.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?tn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&tn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&tn.throwError("network does not support EIP-1559",me.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):tn.throwError("failed to get consistent fee data",me.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(kh.indexOf(i.code)>=0)throw i;return tn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",me.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&tn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Hn(t)})}_checkProvider(e){this.provider||tn.throwError("missing provider",me.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class dc extends Cs{constructor(e,t){super(),pe(this,"address",e),pe(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{tn.throwError(e,me.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new dc(this.address,e)}}const Ih="hash/5.7.0";function vi(r){return dr(bn(r))}var Bh=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const qt=new me(Ih),Af=new Uint8Array(32);Af.fill(0);const Uh=Ye.from(-1),Tf=Ye.from(0),Pf=Ye.from(1),Oh=Ye.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Nh(r){const e=Te(r),t=e.length%32;return t?gi([e,Af.slice(t)]):Le(e)}const Mh=Nr(Pf.toHexString(),32),Dh=Nr(Tf.toHexString(),32),Rf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},lc=["name","version","chainId","verifyingContract","salt"];function Cf(r){return function(e){return typeof e!="string"&&qt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Fh={name:Cf("name"),version:Cf("version"),chainId:function(r){try{return Ye.from(r).toString()}catch{}return qt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return $t(r).toLowerCase()}catch{}return qt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=Te(r);if(e.length!==32)throw new Error("bad length");return Le(e)}catch{}return qt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function hc(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qt.throwArgumentError("invalid numeric width","type",r);const i=Oh.mask(t?n-1:n),s=t?i.add(Pf).mul(Uh):Tf;return function(a){const o=Ye.from(a);return(o.lt(s)||o.gt(i))&&qt.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),Nr(o.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&qt.throwArgumentError("invalid bytes width","type",r),function(n){return Te(n).length!==t&&qt.throwArgumentError(`invalid length for ${r}`,"value",n),Nh(n)}}}switch(r){case"address":return function(e){return Nr($t(e),32)};case"bool":return function(e){return e?Mh:Dh};case"bytes":return function(e){return dr(e)};case"string":return function(e){return vi(e)}}return null}function kf(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Dr{constructor(e){pe(this,"types",Object.freeze(Li(e))),pe(this,"_encoderCache",{}),pe(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(o=>{t[o]={},n[o]=[],i[o]={}});for(const o in e){const f={};e[o].forEach(y=>{f[y.name]&&qt.throwArgumentError(`duplicate variable name ${JSON.stringify(y.name)} in ${JSON.stringify(o)}`,"types",e),f[y.name]=!0;const E=y.type.match(/^([^\x5b]*)(\x5b|$)/)[1];E===o&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(E)}`,"types",e),!hc(E)&&(n[E]||qt.throwArgumentError(`unknown type ${JSON.stringify(E)}`,"types",e),n[E].push(o),t[o][E]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?qt.throwArgumentError("missing primary type","types",e):s.length>1&&qt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),pe(this,"primaryType",s[0]);function a(o,f){f[o]&&qt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),f[o]=!0,Object.keys(t[o]).forEach(y=>{n[y]&&(a(y,f),Object.keys(f).forEach(E=>{i[E][y]=!0}))}),delete f[o]}a(this.primaryType,{});for(const o in i){const f=Object.keys(i[o]);f.sort(),this._types[o]=kf(o,e[o])+f.map(y=>kf(y,e[y])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=hc(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),a=parseInt(t[3]);return o=>{a>=0&&o.length!==a&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let f=o.map(s);return this._types[i]&&(f=f.map(dr)),dr(gi(f))}}const n=this.types[e];if(n){const i=vi(this._types[e]);return s=>{const a=n.map(({name:o,type:f})=>{const y=this.getEncoder(f)(s[o]);return this._types[f]?dr(y):y});return a.unshift(i),gi(a)}}return qt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||qt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return dr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(hc(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&qt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(f=>this._visit(a,f,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:f})=>(a[o]=this._visit(f,t[o],n),a),{}):qt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Dr(e)}static getPrimaryType(e){return Dr.from(e).primaryType}static hashStruct(e,t,n){return Dr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Rf[n];i||qt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>lc.indexOf(n.name)-lc.indexOf(i.name)),Dr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return gi(["0x1901",Dr.hashDomain(e),Dr.from(t).hash(n)])}static hash(e,t,n){return dr(Dr.encode(e,t,n))}static resolveNames(e,t,n,i){return Bh(this,void 0,void 0,function*(){e=ai(e);const s={};e.verifyingContract&&!er(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Dr.from(t);a.visit(n,(o,f)=>(o==="address"&&!er(f,20)&&(s[f]="0x"),f));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,f)=>o==="address"&&s[f]?s[f]:f),{domain:e,value:n}})}static getPayload(e,t,n){Dr.hashDomain(e);const i={},s=[];lc.forEach(f=>{const y=e[f];y!=null&&(i[f]=Fh[f](y),s.push({name:f,type:Rf[f]}))});const a=Dr.from(t),o=ai(t);return o.EIP712Domain?qt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(f,y)=>{if(f.match(/^bytes(\d*)/))return Le(Te(y));if(f.match(/^u?int/))return Ye.from(y).toString();switch(f){case"address":return y.toLowerCase();case"bool":return!!y;case"string":return typeof y!="string"&&qt.throwArgumentError("invalid string","value",y),y}return qt.throwArgumentError("unsupported type","type",f)})}}}class If{constructor(e){pe(this,"alphabet",e),pe(this,"base",e.length),pe(this,"_alphabetMap",{}),pe(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Te(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let a=t[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<t.length;++a)s+=t[a]*this.base,t[a]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Te(new Uint8Array(t.reverse()))}}const q1=new If("abcdefghijklmnopqrstuvwxyz234567"),Bf=new If("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var ks;(function(r){r.sha256="sha256",r.sha512="sha512"})(ks||(ks={}));const Lh="sha2/5.7.0",Hh=new me(Lh);function Kh(r){return"0x"+Kr().ripemd160().update(Te(r)).digest("hex")}function Is(r){return"0x"+Kr().sha256().update(Te(r)).digest("hex")}function j1(r){return"0x"+hash.sha512().update(arrayify(r)).digest("hex")}function Ca(r,e,t){return ks[r]||Hh.throwError("unsupported algorithm "+r,me.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Kr().hmac(Kr()[r],Te(e)).update(Te(t)).digest("hex")}function xc(r,e,t,n,i){r=Te(r),e=Te(e);let s,a=1;const o=new Uint8Array(n),f=new Uint8Array(e.length+4);f.set(e);let y,E;for(let A=1;A<=a;A++){f[e.length]=A>>24&255,f[e.length+1]=A>>16&255,f[e.length+2]=A>>8&255,f[e.length+3]=A&255;let F=Te(Ca(i,r,f));s||(s=F.length,E=new Uint8Array(s),a=Math.ceil(n/s),y=n-(a-1)*s),E.set(F);for(let Q=1;Q<t;Q++){F=Te(Ca(i,r,F));for(let le=0;le<s;le++)E[le]^=F[le]}const G=(A-1)*s,q=A===a?y:s;o.set(Te(E).slice(0,q),G)}return Le(o)}const zh="wordlists/5.7.0",$h=!1,qh=new me(zh);class Bs{constructor(e){qh.checkAbstract(new.target,Bs),pe(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return vi(t.join(`
`)+`
`)}static register(e,t){if(t||(t=e.locale),$h)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[t]||pe(n._ethers.wordlists,t,e))}catch{}}}const jh="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Us=null;function Uf(r){if(Us==null&&(Us=jh.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Bs.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Us=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Gh extends Bs{constructor(){super("en")}getWord(e){return Uf(this),Us[e]}getWordIndex(e){return Uf(this),Us.indexOf(e)}}const Of=new Gh;Bs.register(Of);const Nf={en:Of},Wh="hdnode/5.7.0",Os=new me(Wh),Vh=Ye.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jh=bn("Bitcoin seed"),zi=2147483648;function Mf(r){return(1<<r)-1<<8-r}function Xh(r){return(1<<r)-1}function ka(r){return Nr(Le(r),32)}function Df(r){return Bf.encode(Or([r,yi(Is(Is(r)),0,4)]))}function pc(r){if(r==null)return Nf.en;if(typeof r=="string"){const e=Nf[r];return e==null&&Os.throwArgumentError("unknown locale","wordlist",r),e}return r}const $i={},Ns="m/44'/60'/0'/0/0";class rn{constructor(e,t,n,i,s,a,o,f){if(e!==$i)throw new Error("HDNode constructor cannot be called directly");if(t){const y=new Ki(t);pe(this,"privateKey",y.privateKey),pe(this,"publicKey",y.compressedPublicKey)}else pe(this,"privateKey",null),pe(this,"publicKey",Le(n));pe(this,"parentFingerprint",i),pe(this,"fingerprint",yi(Kh(Is(this.publicKey)),0,4)),pe(this,"address",ci(this.publicKey)),pe(this,"chainCode",s),pe(this,"index",a),pe(this,"depth",o),f==null?(pe(this,"mnemonic",null),pe(this,"path",null)):typeof f=="string"?(pe(this,"mnemonic",null),pe(this,"path",f)):(pe(this,"mnemonic",f),pe(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Df(Or([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Le(this.depth),this.parentFingerprint,Nr(Le(this.index),4),this.chainCode,this.privateKey!=null?Or(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new rn($i,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~zi));const n=new Uint8Array(37);if(e&zi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Te(this.privateKey),1),t&&(t+="'")}else n.set(Te(this.publicKey));for(let A=24;A>=0;A-=8)n[33+(A>>3)]=e>>24-A&255;const i=Te(Ca(ks.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,f=null;this.privateKey?o=ka(Ye.from(s).add(this.privateKey).mod(Vh)):f=new Ki(Le(s))._addPoint(this.publicKey);let y=t;const E=this.mnemonic;return E&&(y=Object.freeze({phrase:E.phrase,path:t,locale:E.locale||"en"})),new rn($i,o,f,this.fingerprint,ka(a),e,this.depth+1,y)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=zi)throw new Error("invalid path index - "+s);n=n._derive(zi+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=zi)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=Te(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Te(Ca(ks.sha512,Jh,n));return new rn($i,ka(i.slice(0,32)),null,"0x00000000",ka(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=pc(n),e=gc(yc(e,n),n),rn._fromSeed(Zh(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return rn._fromSeed(e,null)}static fromExtendedKey(e){const t=Bf.decode(e);(t.length!==82||Df(t.slice(0,78))!==e)&&Os.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=Le(t.slice(5,9)),s=parseInt(Le(t.slice(9,13)).substring(2),16),a=Le(t.slice(13,45)),o=t.slice(45,78);switch(Le(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new rn($i,null,Le(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new rn($i,Le(o.slice(1)),null,i,a,s,n,null)}return Os.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Zh(r,e){e||(e="");const t=bn("mnemonic"+e,ni.NFKD);return xc(bn(r,ni.NFKD),t,2048,64,"sha512")}function yc(r,e){e=pc(e),Os.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=Te(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let y=0;y<t.length;y++){let E=e.getWordIndex(t[y].normalize("NFKD"));if(E===-1)throw new Error("invalid mnemonic");for(let A=0;A<11;A++)E&1<<10-A&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,a=t.length/3,o=Mf(a);if((Te(Is(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return Le(n.slice(0,s/8))}function gc(r,e){if(e=pc(e),r=Te(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&Xh(8-n)),n+=3);const i=r.length/4,s=Te(Is(r))[0]&Mf(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(a=>e.getWord(a)))}function G1(r,e){try{return yc(r,e),!0}catch{}return!1}function W1(r){return(typeof r!="number"||r<0||r>=zi||r%1)&&Os.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const Yh="random/5.7.0",bc=new me(Yh);function Qh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof l.g<"u")return l.g;throw new Error("unable to locate global object")}const Ff=Qh();let Ia=Ff.crypto||Ff.msCrypto;(!Ia||!Ia.getRandomValues)&&(bc.warn("WARNING: Missing strong random number source"),Ia={getRandomValues:function(r){return bc.throwError("no secure random source avaialble",me.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ms(r){(r<=0||r>1024||r%1||r!=r)&&bc.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Ia.getRandomValues(e),Te(e)}var ex=l(39556),Pn=l.n(ex),tx=l(9495),mc=l.n(tx);function Ei(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Te(r)}function Ds(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function wc(r){return typeof r=="string"?bn(r,ni.NFKC):Te(r)}function tr(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in t)if(a.toLowerCase()===n[i]){s=t[a];break}if(s===null)return null;t=s}return t}function rx(r){const e=Te(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Le(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Lf="json-wallets/5.7.0";var nx=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const vc=new me(Lf);function Hf(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class ix extends Hi{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function sx(r,e,t){if(tr(r,"crypto/cipher")==="aes-128-ctr"){const i=Ei(tr(r,"crypto/cipherparams/iv")),s=new(Pn()).Counter(i),a=new(Pn()).ModeOfOperation.ctr(e,s);return Te(a.decrypt(t))}return null}function Kf(r,e){const t=Ei(tr(r,"crypto/ciphertext"));if(Le(dr(Or([e.slice(16,32),t]))).substring(2)!==tr(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=sx(r,e.slice(0,16),t);i||vc.throwError("unsupported cipher",me.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=ci(i);if(r.address){let f=r.address.toLowerCase();if(f.substring(0,2)!=="0x"&&(f="0x"+f),$t(f)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:Le(i)};if(tr(r,"x-ethers/version")==="0.1"){const f=Ei(tr(r,"x-ethers/mnemonicCiphertext")),y=Ei(tr(r,"x-ethers/mnemonicCounter")),E=new(Pn()).Counter(y),A=new(Pn()).ModeOfOperation.ctr(s,E),F=tr(r,"x-ethers/path")||Ns,G=tr(r,"x-ethers/locale")||"en",q=Te(A.decrypt(f));try{const Q=gc(q,G),le=rn.fromMnemonic(Q,null,G).derivePath(F);if(le.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=le.mnemonic}catch(Q){if(Q.code!==me.errors.INVALID_ARGUMENT||Q.argument!=="wordlist")throw Q}}return new ix(o)}function zf(r,e,t,n,i){return Te(xc(r,e,t,n,i))}function ax(r,e,t,n,i){return Promise.resolve(zf(r,e,t,n,i))}function $f(r,e,t,n,i){const s=wc(e),a=tr(r,"crypto/kdf");if(a&&typeof a=="string"){const o=function(f,y){return vc.throwArgumentError("invalid key-derivation function parameters",f,y)};if(a.toLowerCase()==="scrypt"){const f=Ei(tr(r,"crypto/kdfparams/salt")),y=parseInt(tr(r,"crypto/kdfparams/n")),E=parseInt(tr(r,"crypto/kdfparams/r")),A=parseInt(tr(r,"crypto/kdfparams/p"));(!y||!E||!A)&&o("kdf",a),y&y-1&&o("N",y);const F=parseInt(tr(r,"crypto/kdfparams/dklen"));return F!==32&&o("dklen",F),n(s,f,y,E,A,64,i)}else if(a.toLowerCase()==="pbkdf2"){const f=Ei(tr(r,"crypto/kdfparams/salt"));let y=null;const E=tr(r,"crypto/kdfparams/prf");E==="hmac-sha256"?y="sha256":E==="hmac-sha512"?y="sha512":o("prf",E);const A=parseInt(tr(r,"crypto/kdfparams/c")),F=parseInt(tr(r,"crypto/kdfparams/dklen"));return F!==32&&o("dklen",F),t(s,f,A,F,y)}}return vc.throwArgumentError("unsupported key-derivation function","kdf",a)}function ox(r,e){const t=JSON.parse(r),n=$f(t,e,zf,mc().syncScrypt);return Kf(t,n)}function cx(r,e,t){return nx(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield $f(n,e,ax,mc().scrypt,t);return Kf(n,i)})}function ux(r,e,t,n){try{if($t(r.address)!==ci(r.privateKey))throw new Error("address/privateKey mismatch");if(Hf(r)){const le=r.mnemonic;if(rn.fromMnemonic(le.phrase,null,le.locale).derivePath(le.path||Ns).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(le){return Promise.reject(le)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=Te(r.privateKey),s=wc(e);let a=null,o=null,f=null;if(Hf(r)){const le=r.mnemonic;a=Te(yc(le.phrase,le.locale||"en")),o=le.path||Ns,f=le.locale||"en"}let y=t.client;y||(y="ethers.js");let E=null;t.salt?E=Te(t.salt):E=Ms(32);let A=null;if(t.iv){if(A=Te(t.iv),A.length!==16)throw new Error("invalid iv")}else A=Ms(16);let F=null;if(t.uuid){if(F=Te(t.uuid),F.length!==16)throw new Error("invalid uuid")}else F=Ms(16);let G=1<<17,q=8,Q=1;return t.scrypt&&(t.scrypt.N&&(G=t.scrypt.N),t.scrypt.r&&(q=t.scrypt.r),t.scrypt.p&&(Q=t.scrypt.p)),mc().scrypt(s,E,G,q,Q,64,n).then(le=>{le=Te(le);const Be=le.slice(0,16),tt=le.slice(16,32),Et=le.slice(32,64),Vt=new(Pn()).Counter(A),Kt=new(Pn()).ModeOfOperation.ctr(Be,Vt),kr=Te(Kt.encrypt(i)),Fr=dr(Or([tt,kr])),Yt={address:r.address.substring(2).toLowerCase(),id:rx(F),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Le(A).substring(2)},ciphertext:Le(kr).substring(2),kdf:"scrypt",kdfparams:{salt:Le(E).substring(2),n:G,dklen:32,p:Q,r:q},mac:Fr.substring(2)}};if(a){const Gr=Ms(16),Un=new(Pn()).Counter(Gr),rr=new(Pn()).ModeOfOperation.ctr(Et,Un),ua=Te(rr.encrypt(a)),ut=new Date,Jt=ut.getUTCFullYear()+"-"+Ds(ut.getUTCMonth()+1,2)+"-"+Ds(ut.getUTCDate(),2)+"T"+Ds(ut.getUTCHours(),2)+"-"+Ds(ut.getUTCMinutes(),2)+"-"+Ds(ut.getUTCSeconds(),2)+".0Z";Yt["x-ethers"]={client:y,gethFilename:"UTC--"+Jt+"--"+Yt.address,mnemonicCounter:Le(Gr).substring(2),mnemonicCiphertext:Le(ua).substring(2),path:o,locale:f,version:"0.1"}}return JSON.stringify(Yt)})}const fx=new me(Lf);class dx extends Hi{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function qf(r,e){const t=JSON.parse(r);e=wc(e);const n=$t(tr(t,"ethaddr")),i=Ei(tr(t,"encseed"));(!i||i.length%16!==0)&&fx.throwArgumentError("invalid encseed","json",r);const s=Te(xc(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),f=new(Pn()).ModeOfOperation.cbc(s,a),y=Pn().padding.pkcs7.strip(Te(f.decrypt(o)));let E="";for(let G=0;G<y.length;G++)E+=String.fromCharCode(y[G]);const A=bn(E),F=dr(A);return new dx({_isCrowdsaleAccount:!0,address:n,privateKey:F})}function Ec(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function Sc(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function V1(r){if(Ec(r))try{return getAddress(JSON.parse(r).ethaddr)}catch{return null}if(Sc(r))try{return getAddress(JSON.parse(r).address)}catch{return null}return null}function lx(r,e,t){if(Ec(r)){t&&t(0);const n=qf(r,e);return t&&t(1),Promise.resolve(n)}return Sc(r)?cx(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function hx(r,e){if(Ec(r))return qf(r,e);if(Sc(r))return ox(r,e);throw new Error("invalid JSON wallet")}const xx="wallet/5.7.0";var jf=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const qi=new me(xx);function px(r){return r!=null&&er(r.privateKey,32)&&r.address!=null}function yx(r){const e=r.mnemonic;return e&&e.phrase}class ui extends Cs{constructor(e,t){if(super(),px(e)){const n=new Ki(e.privateKey);if(pe(this,"_signingKey",()=>n),pe(this,"address",ci(this.publicKey)),this.address!==$t(e.address)&&qi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),yx(e)){const i=e.mnemonic;pe(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Ns,locale:i.locale||"en"}));const s=this.mnemonic,a=rn.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);ci(a.privateKey)!==this.address&&qi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else pe(this,"_mnemonic",()=>null)}else{if(Ki.isSigningKey(e))e.curve!=="secp256k1"&&qi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),pe(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Ki(e);pe(this,"_signingKey",()=>n)}pe(this,"_mnemonic",()=>null),pe(this,"address",ci(this.publicKey))}t&&!Ra.isProvider(t)&&qi.throwArgumentError("invalid provider","provider",t),pe(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ui(this,e)}signTransaction(e){return Hn(e).then(t=>{t.from!=null&&($t(t.from)!==this.address&&qi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(dr(Sf(t)));return Sf(t,n)})}signMessage(e){return jf(this,void 0,void 0,function*(){return Au(this._signingKey().signDigest(ba(e)))})}_signTypedData(e,t,n){return jf(this,void 0,void 0,function*(){const i=yield Dr.resolveNames(e,t,n,s=>(this.provider==null&&qi.throwError("cannot resolve ENS names without a provider",me.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Au(this._signingKey().signDigest(Dr.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),ux(this,e,t,n)}static createRandom(e){let t=Ms(16);e||(e={}),e.extraEntropy&&(t=Te(yi(dr(Or([t,e.extraEntropy])),0,16)));const n=gc(t,e.locale);return ui.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return lx(e,t,n).then(i=>new ui(i))}static fromEncryptedJsonSync(e,t){return new ui(hx(e,t))}static fromMnemonic(e,t,n){return t||(t=Ns),new ui(rn.fromMnemonic(e,null,n).derivePath(t))}}function gx(r,e){return Ta(ba(r),e)}function Gf(r,e,t,n){return Ta(Dr.hash(r,e,t),n)}var Wf=l(55872).Buffer;class bx{constructor(e){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",Lt[_t.ETHEREUM].pubLength);O(this,"signatureLength",Lt[_t.ETHEREUM].sigLength);O(this,"signatureType",_t.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",t=await this.signer.signMessage(e),n=await ba(e),i=uf(Te(n),t);this.publicKey=Wf.from(Te(i))}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signMessage(e);return Wf.from(t.slice(2),"hex")}static verify(e,t,n){const i=ci(e);return gx(t,n)===i}}var J1=null,Fs=l(31511);class _c extends vs{get publicKey(){return Fs.decode(this.pk)}get key(){return Fs.decode(this._key)}constructor(e){const t=Fs.decode(e);super(Fs.encode(t.subarray(0,32)),Fs.encode(t.subarray(32,64)))}}var Ba=l(85323),qr=l(55872),mx=l(41389);function Ac(r){return r=Vf(r),mx("keccak256").update(r).digest()}function Vf(r){if(!qr.Buffer.isBuffer(r))if(Array.isArray(r))r=qr.Buffer.from(r);else if(typeof r=="string")Jf(r)?r=qr.Buffer.from(Tc(Xf(r)),"hex"):r=qr.Buffer.from(r);else if(typeof r=="number")r=Yf(r);else if(r==null)r=qr.Buffer.allocUnsafe(0);else if(ys.isBN(r))r=r.toArrayLike(qr.Buffer);else if(r.toArray)r=qr.Buffer.from(r.toArray());else throw new Error("invalid type");return r}function Jf(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}function Tc(r){if(typeof r!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof r}, while padToEven.`);return r.length%2&&(r=`0${r}`),r}function Xf(r){return typeof r!="string"?r:Zf(r)?r.slice(2):r}function Zf(r){if(typeof r!="string")throw new Error("value must be type 'string', is currently type "+typeof r+", while checking isHexPrefixed.");return r.startsWith("0x")}function Yf(r){const e=Qf(r);return qr.Buffer.from(Tc(e.slice(2)),"hex")}function Qf(r){return`0x${r.toString(16)}`}typeof window<"u"&&(window.keccak256=Ac);var Pc=Ac;const wx={intToBuffer:Yf,intToHex:Qf,isHexPrefixed:Zf,stripHexPrefix:Xf,padToEven:Tc,isHexString:Jf,toBuffer:Vf};var Ua=l(55872).Buffer;class ed{constructor(e,t){O(this,"_key");O(this,"ownerLength",Lt[_t.ETHEREUM].pubLength);O(this,"signatureLength",Lt[_t.ETHEREUM].sigLength);O(this,"signatureType",_t.ETHEREUM);O(this,"pk");this._key=e,this.pk=t.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Ua.from(this._key,"hex")}static async verify(e,t,n){let i=e;typeof e=="string"&&(i=xt.toBuffer(e));let s=!1;try{s=Ba.ecdsaVerify(n,Pc(Ua.from(t)),i)}catch{}return s}async sign(e){return Ba.ecdsaSign(Pc(Ua.from(e)),Ua.from(this.key)).signature}}var Oa=l(55872).Buffer;class Na extends ed{get publicKey(){return Oa.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const t=Oa.from(e,"hex"),n=Ba.publicKeyCreate(t,!1);super(e,Oa.from(n))}async sign(e){return new ui(this._key).signMessage(e).then(n=>Oa.from(n.slice(2),"hex"))}static async verify(e,t,n){return Ba.ecdsaVerify(n.length===65?n.slice(0,-1):n,Te(ba(t)),typeof e=="string"?xt.toBuffer(e):e)}}class vx extends Na{}class Rc extends _c{constructor(e){super(e.replace("ed25519:",""))}}var td=l(55872).Buffer;class Ex extends vs{get publicKey(){return td.from(this.pk)}get key(){return td.from(this._key)}constructor(e,t){super(e.subarray(0,32),t)}}var Ma=l(55872).Buffer;class Da extends Qu{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Ma.from(Ma.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Ma.from(Ma.from(n).toString("hex")),i)}}var Fa=l(55872).Buffer;class Sx extends _c{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Fa.from(Fa.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Fa.from(Fa.from(n).toString("hex")),i)}}var rd=l(55872).Buffer;class _x extends vs{constructor(e,t){super(e,t)}get publicKey(){return rd.from(this.pk.slice(2),"hex")}get key(){return rd.from(this._key.slice(2),"hex")}}var ji=l(55872).Buffer;class La{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",Lt[_t.INJECTEDAPTOS].pubLength);O(this,"signatureLength",Lt[_t.INJECTEDAPTOS].sigLength);O(this,"signatureType",_t.INJECTEDAPTOS);O(this,"pem");O(this,"provider");this.provider=e,this._publicKey=t}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const t=await this.provider.signMessage({message:ji.from(e).toString("hex"),nonce:"bundlr"});return ji.from(t.signature,"hex")}static async verify(e,t,n){const i=e;return(0,ms.T)(ji.from(n),ji.from(`APTOS
message: ${ji.from(t).toString("hex")}
nonce: bundlr`),ji.from(i))}}var Ha=l(55872).Buffer;class nd{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",Lt[_t.MULTIAPTOS].pubLength);O(this,"signatureLength",Lt[_t.MULTIAPTOS].sigLength);O(this,"signatureType",_t.MULTIAPTOS);O(this,"collectSignatures");O(this,"provider");this._publicKey=e,this.collectSignatures=t}get publicKey(){return this._publicKey}async sign(e){const{signatures:t,bitmap:n}=await this.collectSignatures(e),i=128,s=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(y=>{if(y>=32)throw new Error(`Invalid bit value ${y}.`);if(a.has(y))throw new Error("Duplicated bits detected.");a.add(y);const E=Math.floor(y/8);let A=s[E];A|=i>>y%8,s[E]=A});const o=Ha.alloc(this.signatureLength);let f=0;for(let y=0;y<32;y++)n.includes(y)&&o.set(t[f++],y*64);return o.set(s,this.signatureLength-4),o}static async verify(e,t,n){const s=Lt[_t.MULTIAPTOS].sigLength-4,a=n.slice(0,s),o=n.slice(s);let f=!1;for(let y=0;y<32;y++){const E=Math.floor(y/8),A=y-E*8;if((o[E]&128>>A)!==0){const G=a.slice(y*64,(y+1)*64),q=e.slice(y*32,(y+1)*32);await(0,ms.T)(Ha.from(G),Ha.from(t),Ha.from(q))||(f=!0)}}return!f}}var id=l(55872).Buffer;class sd extends Na{constructor(t){super(t);O(this,"ownerLength",Lt[_t.TYPEDETHEREUM].pubLength);O(this,"signatureLength",Lt[_t.TYPEDETHEREUM].sigLength);O(this,"signatureType",_t.TYPEDETHEREUM);O(this,"address");O(this,"signer");this.address="0x"+Pc(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new ui(t)}get publicKey(){return id.from(this.address)}async sign(t){const n=await this.signer._signTypedData(Ka,za,{address:this.address,"Transaction hash":t});return id.from(n.slice(2),"hex")}static async verify(t,n,i){const s=t.toString(),a=Gf(Ka,za,{address:s,"Transaction hash":n},i);return s.toLowerCase()===a.toLowerCase()}}const Ka={name:"Bundlr",version:"1"},za={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},X1="Bundlr(bytes Transaction hash, address address)",Z1="EIP712Domain(string name,string version)";var ad=l(55872).Buffer;class Cc{constructor(e){O(this,"ownerLength",Lt[_t.TYPEDETHEREUM].pubLength);O(this,"signatureLength",Lt[_t.TYPEDETHEREUM].sigLength);O(this,"signatureType",_t.TYPEDETHEREUM);O(this,"address");O(this,"signer");O(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=ad.from(this.address)}async sign(e){const t=await this.signer._signTypedData(Ka,za,{address:this.address,"Transaction hash":e});return ad.from(t.slice(2),"hex")}static verify(e,t,n){const i=e.toString(),s=Gf(Ka,za,{address:i,"Transaction hash":t},n);return i.toLowerCase()===s.toLowerCase()}}var Y1=null;class Ax{constructor(e,t){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",Lt[_t.ARWEAVE].pubLength);O(this,"signatureLength",Lt[_t.ARWEAVE].sigLength);O(this,"signatureType",_t.ARWEAVE);O(this,"arweave");this.signer=e,this.arweave=t}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=xt.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const t={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,t);return new Uint8Array(Object.values(n).map(s=>+s))}static async verify(e,t,n){return await gr().verify(e,t,n)}}const kc={1:ga,2:vs,3:Na,4:Da,5:La,6:nd,7:sd};async function Tx(r){return Mi([Tt("dataitem"),Tt("1"),Tt(r.signatureType.toString()),r.rawOwner,r.rawTarget,r.rawAnchor,r.rawTags,r.rawData])}var Ic=Tx;function Ls(r,e){const t=new Uint8Array(r);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(r*8)-1)throw new Error(`Number ${e} is too large for an array of ${r} bytes`);for(let n=0;n<t.length;n++){const i=e&255;t[n]=i,e=(e-i)/256}return t}function Bc(r){return Ls(8,r)}function od(r){return Ls(2,r)}function Px(r){return Ls(16,r)}function Uc(r){return Ls(32,r)}function ur(r){let e=0;for(let t=r.length-1;t>=0;t--)e=e*256+r[t];return e}var $a=l(55872).Buffer;class Oc{constructor(e=$a.alloc(Mc),t=0){O(this,"buf");O(this,"pos");this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const t=e.length;let n;if(t)for(this.writeLong(t),n=0;n<t;n++){const i=e[n];if(typeof(i==null?void 0:i.name)!="string"||typeof(i==null?void 0:i.value)!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){const e=$a.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const t=this.buf;let n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do t[this.pos]=i&127,i>>=7;while(i&&(t[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do t[this.pos]=n&127,n/=128;while(n>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){const t=$a.byteLength(e),n=this.buf;this.writeLong(t);let i=this.pos;if(this.pos+=t,!(this.pos>n.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let s,a,o,f;for(s=0,a=t;s<a;s++)o=e.charCodeAt(s),o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=o&63|128):(o&64512)===55296&&((f=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(f&1023),s++,n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=o&63|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=o&63|128)}this.buf=n}}readLong(){let e=0,t=0;const n=this.buf;let i,s,a,o;do i=n[this.pos++],s=i&128,e|=(i&127)<<t,t+=7;while(s&&t<28);if(s){a=e,o=268435456;do i=n[this.pos++],a+=(i&127)*o,o*=128;while(i&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){const n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){const e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(t,t+e).toString()}}function cd(r){if((r==null?void 0:r.length)===0)return $a.allocUnsafe(0);const e=new Oc;return e.writeTags(r),e.toBuffer()}function qa(r){return new Oc(r).readTags()}const Nc=80,Mc=4096;class Gi{constructor(e){O(this,"binary");O(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=ur(this.binary.subarray(0,2));if((_t==null?void 0:_t[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Gi.verify(this.binary)}get id(){return xt.encode(this.rawId)}set id(e){this._id=xt.toBuffer(e)}get rawId(){return(0,Dn.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return xt.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Lt[this.signatureType].sigLength}get owner(){return xt.encode(this.rawOwner)}get ownerLength(){return Lt[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):qr.Buffer.alloc(0)}get target(){return xt.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):qr.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),t=ur(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){const e=this.getTagsStart();if(ur(this.binary.subarray(e,e+8))==0)return[];const n=ur(this.binary.subarray(e+8,e+16));return qa(qr.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(t=>({name:xt.encode(t.name),value:xt.encode(t.value)}))}getStartOfData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=ur(t);return e+16+n}get rawData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=ur(t),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return xt.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Dc(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=qr.Buffer.from(await gr().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:xt.encode(e.name),value:xt.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<Nc)return!1;const t=new Gi(e),n=t.signatureType,i=t.getTagsStart(),s=ur(e.subarray(i,i+8)),a=e.subarray(i+8,i+16),o=ur(a);if(o>Mc)return!1;if(s>0)try{if(qa(qr.Buffer.from(e.subarray(i+16,i+16+o))).length!==s)return!1}catch{return!1}const f=kc[n],y=await Ic(t);return await f.verify(t.rawOwner,y,t.rawSignature)}async getSignatureData(){return Ic(this)}getTagsStart(){const e=this.getTargetStart(),t=this.binary[e]==1;let n=e+(t?33:1);const i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const t=this.binary[this.getTargetStart()]==1;return e+=t?32:0,e}}var ja=Gi,Rx=l(55872).Buffer;const Rn=32;class ud{constructor(e){O(this,"length");O(this,"items");O(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let t=Rn;t<Rn+64*this.length;t+=64)e.push(ur(this.binary.subarray(t,t+32)));return e}getIds(){const e=[];for(let t=Rn;t<Rn+64*this.length;t+=64){const n=this.binary.subarray(t+32,t+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(xt.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const t=64+64*e;return xt.encode(this.binary.subarray(t,t+32))}async toTransaction(e,t,n){const i=await t.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const e of this.items){const t=await e.isValid(),n=xt((0,Dn.createHash)("sha256").update(e.rawSignature).digest());if(!(t&&e.id===n))return!1}return!0}getOffset(e){let t=0;for(let n=Rn;n<Rn+64*this.length;n+=64){const i=ur(this.binary.subarray(n,n+32));t+=i;const s=this.binary.subarray(n+32,n+64);if(Rx.compare(s,e)===0)return{startOffset:t,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let t=0;const n=this.getBundleStart();let i=0,s,a;for(let E=Rn;E<Rn+64*this.length;E+=64){if(s=ur(this.binary.subarray(E,E+32)),i++===e){a=this.binary.subarray(E+32,E+64);break}t+=s}const o=n+t,f=this.binary.subarray(o,o+s),y=new ja(f);return y.rawId=a,y}getById(e){const t=xt.toBuffer(e),n=this.getOffset(t);if(n.startOffset===-1)throw new Error("Transaction not found");const s=this.getBundleStart()+n.startOffset;return new ja(this.binary.subarray(s,s+n.size))}getDataItemCount(){return ur(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let t=0;const n=this.getBundleStart();let i=0;for(let s=Rn;s<Rn+64*this.length;s+=64){const a=ur(this.binary.subarray(s,s+32)),o=this.binary.subarray(s+32,s+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const f=n+t,y=this.binary.subarray(f,f+a);t+=a;const E=new ja(y);E.rawId=o,e[i]=E,i++}return e}}var fd=ud,Wi=l(55872).Buffer;function Cx(r){return new fd(r)}async function dd(r,e){const t=new Uint8Array(64*r.length),n=await Promise.all(r.map(async(s,a)=>{const o=s.isSigned()?s.rawId:await Dc(s,e),f=new Uint8Array(64);return f.set(Uc(s.getRaw().byteLength),0),f.set(o,32),t.set(f,64*a),s.getRaw()})).then(s=>Wi.concat(s)),i=Wi.concat([Wi.from(Uc(r.length)),Wi.from(t),n]);return new fd(i)}async function ld(r,e){const t=await Ic(r),n=await e.sign(t),i=await gr().hash(n);return{signature:Wi.from(n),id:Wi.from(i)}}async function Dc(r,e){const{signature:t,id:n}=await ld(r,e);return r.getRaw().set(t,2),n}var Ga=l(55872).Buffer;function Fc(r,e,t){var Et,Vt;const n=e.publicKey,i=t!=null&&t.target?xt.toBuffer(t.target):null,s=1+((i==null?void 0:i.byteLength)??0),a=t!=null&&t.anchor?Ga.from(t.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),f=(((Et=t==null?void 0:t.tags)==null?void 0:Et.length)??0)>0?cd(t==null?void 0:t.tags):null,y=16+(f?f.byteLength:0),E=Ga.from(r),A=E.byteLength,F=2+e.signatureLength+e.ownerLength+s+o+y+A,G=Ga.alloc(F);if(G.set(od(e.signatureType),0),G.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);G.set(n,2+e.signatureLength);const q=2+e.signatureLength+e.ownerLength;if(G[q]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);G.set(i,q+1)}const Q=q+s;let le=Q+1;if(G[Q]=a?1:0,a){if(le+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");G.set(a,Q+1)}G.set(Bc(((Vt=t==null?void 0:t.tags)==null?void 0:Vt.length)??0),le);const Be=Bc((f==null?void 0:f.byteLength)??0);G.set(Be,le+8),f&&G.set(f,le+16);const tt=le+y;return G.set(E,tt),new ja(G)}class kx{constructor(){O(this,"signatureType");O(this,"rawSignature");O(this,"signature");O(this,"signatureLength");O(this,"rawOwner");O(this,"owner");O(this,"ownerLength");O(this,"rawTarget");O(this,"target");O(this,"rawAnchor");O(this,"anchor");O(this,"rawTags");O(this,"tags");O(this,"rawData");O(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var nn=l(55872).Buffer;async function hd(r){const e=xd(r);let t=(await e.next()).value;t=await Rr(e,t,32);const n=ur(t.subarray(0,32));t=t.subarray(32);const i=64*n;t=await Rr(e,t,i);const s=new Array(n);for(let f=0;f<i;f+=64)s[f/64]=[ur(t.subarray(f,f+32)),xt(nn.from(t.subarray(f+32,f+64)))];t=t.subarray(i);let a=32+i;const o=[];for(const[f,y]of s){t=await Rr(e,t,Nc),t=await Rr(e,t,2);const E=ur(t.subarray(0,2));t=t.subarray(2);const{sigLength:A,pubLength:F,sigName:G}=Lt[E];t=await Rr(e,t,A);const q=t.subarray(0,A);t=t.subarray(A),t=await Rr(e,t,F);const Q=t.subarray(0,F);t=t.subarray(F),t=await Rr(e,t,1);const le=t[0]===1;le&&(t=await Rr(e,t,33));const Be=le?t.subarray(1,33):nn.allocUnsafe(0);t=t.subarray(le?33:1),t=await Rr(e,t,1);const tt=t[0]===1;tt&&(t=await Rr(e,t,33));const Et=tt?t.subarray(1,33):nn.allocUnsafe(0);t=t.subarray(tt?33:1),t=await Rr(e,t,8);const Vt=ur(t.subarray(0,8));t=t.subarray(8),t=await Rr(e,t,8);const Kt=ur(t.subarray(0,8));t=t.subarray(8),t=await Rr(e,t,Kt);const kr=t.subarray(0,Kt),Fr=Vt!==0&&Kt!==0?qa(nn.from(kr)):[];if(Fr.length!==Vt)throw new Error("Tags lengths don't match");t=t.subarray(Kt);const Yt=new ps.Transform;Yt._transform=function(ut,Jt,Wr){this.push(ut),Wr()};const Gr=Mi([Tt("dataitem"),Tt("1"),Tt(E.toString()),Q,Be,Et,kr,Yt]),Un=2+A+F+(le?33:1)+(tt?33:1)+16+Kt,rr=f-Un;if(t.byteLength>rr)Yt.write(t.subarray(0,rr)),t=t.subarray(rr);else{let ut=t.byteLength;for(Yt.write(t);rr>ut;){if(t=(await e.next()).value,!t)throw new Error(`Not enough data bytes  expected: ${rr} received: ${ut}`);ut+=t.byteLength,ut>rr?Yt.write(t.subarray(0,t.byteLength-(ut-rr))):Yt.write(t)}t=t.subarray(t.byteLength-(ut-rr))}if(Yt.end(),y!==xt((0,Dn.createHash)("sha256").update(q).digest()))throw new Error("ID doesn't match signature");if(!await kc[E].verify(Q,await Gr,q))throw new Error("Invalid signature");o.push({id:y,sigName:G,signature:xt(nn.from(q)),target:xt(nn.from(Be)),anchor:xt(nn.from(Et)),owner:xt(nn.from(Q)),tags:Fr,dataOffset:a+Un,dataSize:rr}),a+=Un+rr}return o}async function Ix(r,e,t,n){const i=Fc("",t,n),s=new ps.PassThrough,a=[Tt("dataitem"),Tt("1"),Tt(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,r],o=await Mi(a),f=nn.from(await t.sign(o));return i.setSignature(f),s.write(i.getRaw()),e.pipe(s)}async function Rr(r,e,t){if(e.byteLength>=t)return e;const{done:n,value:i}=await r.next();if(n&&!i)throw new Error("Invalid buffer");return Rr(r,nn.concat([nn.from(e),nn.from(i)]),t)}async function*xd(r){for await(const e of r)yield e}var Bx=hd;const Ux={readBytes:Rr,getReader:xd},Ox={...v,stream:m};globalThis.arbundles??(globalThis.arbundles=Ox);var Q1=null;const em=null;var Nx=l(55872).Buffer;class Wa{constructor(e){O(this,"base");O(this,"wallet");O(this,"_address");O(this,"providerUrl");O(this,"providerInstance");O(this,"ticker");O(this,"name");O(this,"irys");O(this,"minConfirm",5);O(this,"isSlow",!1);O(this,"needsFee",!0);O(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return xt.encode(Nx.from(await gr().hash(await e.rawSignature())))}async price(){return pd(this.ticker)}}async function pd(r){const e=await xs.get(`https://api.redstone.finance/prices?symbol=${r}&provider=redstone&limit=1`);return await yr.checkAndThrow(e,"Getting price data"),e.data[0].value}const Mx=Cc;class Va extends Wa{constructor(t){super(t);O(this,"signer");O(this,"w3signer");O(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(t){const i=await this.providerInstance.getTransaction(t);if(!i)throw new Error("Tx doesn't exist");if(!i.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:i.from,to:i.to,blockHeight:i.blockNumber?new rt.Z(i.blockNumber):void 0,amount:new rt.Z(i.value.toHexString(),16),pending:!i.blockNumber,confirmed:i.confirmations>=this.minConfirm}}ownerToAddress(t){return t.toString().toLowerCase()}async sign(t){return(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Cc(this.wallet)),this.signer}async verify(t,n,i){return Mx.verify(t,n,i)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new rt.Z(n,16)}async getFee(t,n){const i=this.providerInstance,s={to:n,from:this.address,value:"0x"+new rt.Z(t).toString(16)},a=await i.estimateGas(s),o=await i.getGasPrice();return new rt.Z(a.mul(o).toString())}async sendTx(t){const i=await this.w3signer.sendTransaction(t);return i?i.hash:void 0}async createTx(t,n,i){const s=Ye.from(new rt.Z(t).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:s.toHexString()});let f=await a.getGasPrice();return this.name==="matic"&&(f=Ye.from(new rt.Z(f.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:s.toHexString(),gasPrice:f,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var t,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(t=this.providerInstance)==null?void 0:t._ready)==null?void 0:n.call(t))}}var Dx=l(61125),Fx=l(67265),Hs=l(7782),Ks=l(11565),Lx=l(48797),Hx=l(3541),Lc=l(55872).Buffer;class Kx extends Wa{constructor(t){super(t);O(this,"keyPair");O(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const t=new Fx.X,n=this.wallet.account();if(this.keyPair=await t.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=Dx.KeyPair.fromRandom("ed25519");const i=this.keyPair.getPublicKey().toString();await t.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(i)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(t){const n=await this.providerInstance,[i,s]=t.split(":"),a=await n.txStatusReceipts(Ks.decode(s),i),o=await n.block(a.transaction_outcome.block_hash),f=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const y=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:i,to:a.transaction.receiver_id,amount:new rt.Z(y),blockHeight:new rt.Z(o.header.height),pending:!1,confirmed:f-o.header.height>=this.minConfirm}}ownerToAddress(t){const n=typeof t=="string"?t:Ks.encode(t);return Lc.from(Ks.decode(n.replace("ed25519:",""))).toString("hex")}async sign(t){return this.getSigner().sign(t)}getSigner(){return new Rc(this.keyPair.secretKey)}async verify(t,n,i){return Rc.verify(t,n,i)}async getCurrentHeight(){const t=await this.providerInstance.status();return new rt.Z(t.sync_info.latest_block_height)}async getFee(t,n){const i=(await this.providerInstance.block({finality:"final"})).header.height,s=await this.providerInstance.gasPrice(i);return new rt.Z(s.gas_price).multipliedBy(45e10)}async sendTx(t){const n=await this.providerInstance.sendTransaction(t);return`${this.address}:${n.transaction.hash}`}async createTx(t,n,i){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const s=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++s.nonce,o=Lc.from(Ks.decode(s.block_hash)),f=[Hs.actionCreators.transfer(new ys(new rt.Z(t).toString()))],y=(0,Hs.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,f,o),E=(0,Lx.serialize)(Hs.SCHEMA,y),A=new Uint8Array(Hx.sha256.array(E)),F=this.keyPair.sign(A);return{tx:new Hs.SignedTransaction({transaction:y,signature:new Hs.Signature({keyType:y.publicKey.keyType,data:F.signature})}),txId:void 0}}async getPublicKey(){return Lc.from(this.keyPair.getPublicKey().data)}}var zs=l(36520),zx=l(55872).Buffer;class $x extends Wa{constructor(t){super(t);O(this,"signer");O(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new zs.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(t){const n=await this.getProvider(),i=await n.getTransaction(t,{commitment:"confirmed"});if(!i)throw new Error("Confirmed tx not found");const s=await n.getSlot("confirmed");if(!i.meta)throw new Error(`Unable to resolve transaction ${t}`);const a=new rt.Z(i.meta.postBalances[1]).minus(new rt.Z(i.meta.preBalances[1]));return{from:i.transaction.message.accountKeys[0].toBase58(),to:i.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new rt.Z(i.slot),pending:!1,confirmed:s-i.slot>=1}}ownerToAddress(t){return typeof t=="string"&&(t=zx.from(t)),Ks.encode(t)}async sign(t){return await(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Da(this.wallet)),this.signer}verify(t,n,i){return Da.verify(t,n,i)}async getCurrentHeight(){return new rt.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(t,n){return new rt.Z(5e3)}async sendTx(t){return await this.wallet.sendTransaction(t,await this.getProvider(),{skipPreflight:!0})}async createTx(t,n,i){const s=new zs.PublicKey(await this.getPublicKey()),a=await Qn(async f=>{var y;try{return await(await this.getProvider()).getRecentBlockhash()}catch(E){throw(y=E.message)!=null&&y.includes("blockhash")?E:(f(E),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new zs.Transaction({recentBlockhash:a.blockhash,feePayer:s});return o.add(zs.SystemProgram.transfer({fromPubkey:s,toPubkey:new zs.PublicKey(n),lamports:+new rt.Z(t).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const $s="abi/5.7.0",Hc=new me($s);function qx(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{t(a,i[s])}catch(o){e.push({path:a,error:o})}}};return t([],r),e}class Kn{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Hc.throwArgumentError(e,this.localName,t)}}class Kc{constructor(e){pe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return gi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Or(e._data))}writeBytes(e){let t=Te(e);const n=t.length%this.wordSize;return n&&(t=Or([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=Te(Ye.from(e));return t.length>this.wordSize&&Hc.throwError("value out-of-bounds",me.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Or([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Ja{constructor(e,t,n,i){pe(this,"_data",Te(e)),pe(this,"wordSize",t||32),pe(this,"_coerceFunc",n),pe(this,"allowLoose",i),this._offset=0}get data(){return Le(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Ja.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Hc.throwError("data out-of-bounds",me.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ja(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ye.from(this.readBytes(this.wordSize))}}class jx extends Kn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=$t(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return $t(Nr(e.readValue().toHexString(),20))}}class Gx extends Kn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Vi=new me($s);function yd(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let f={};n=e.map(y=>{const E=y.localName;return E||Vi.throwError("cannot encode object for signature with missing names",me.errors.INVALID_ARGUMENT,{argument:"values",coder:y,value:t}),f[E]&&Vi.throwError("cannot encode object for signature with duplicate names",me.errors.INVALID_ARGUMENT,{argument:"values",coder:y,value:t}),f[E]=!0,t[E]})}else Vi.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&Vi.throwArgumentError("types/value length mismatch","tuple",t);let i=new Kc(r.wordSize),s=new Kc(r.wordSize),a=[];e.forEach((f,y)=>{let E=n[y];if(f.dynamic){let A=s.length;f.encode(s,E);let F=i.writeUpdatableValue();a.push(G=>{F(G+A)})}else f.encode(i,E)}),a.forEach(f=>{f(i.length)});let o=r.appendWriter(i);return o+=r.appendWriter(s),o}function gd(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=r.readValue(),f=n.subReader(o.toNumber());try{a=s.decode(f)}catch(y){if(y.code===me.errors.BUFFER_OVERRUN)throw y;a=y,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(o){if(o.code===me.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),t[o]!=null))return;const f=t[a];f instanceof Error?Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw f}}):t[o]=f});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class Wx extends Kn{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),Vi.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return yd(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Vi.throwError("insufficient data length",me.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new Gx(this.coder));return e.coerce(this.name,gd(e,n))}}class Vx extends Kn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class bd extends Kn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Te(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Jx extends bd{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Le(super.decode(e)))}}class Xx extends Kn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=Te(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Le(e.readBytes(this.size)))}}class Zx extends Kn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Yx=Ye.from(-1),Qx=Ye.from(0),ep=Ye.from(1),tm=null,rm=null,tp=Ye.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),nm=null,im=null;class rp extends Kn{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=Ye.from(t),i=tp.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(ep).mul(Yx)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Qx)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}class np extends bd{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,bn(t))}decode(e){return Jl(super.decode(e))}}class Xa extends Kn{constructor(e,t){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return yd(e,this.coders,t)}decode(e){return e.coerce(this.name,gd(e,this.coders))}}const At=new me($s),Si={};let md={calldata:!0,memory:!0,storage:!0},ip={calldata:!0,memory:!0};function Za(r,e){if(r==="bytes"||r==="string"){if(md[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&ip[e])return!0;return(md[e]||e==="payable")&&At.throwArgumentError("invalid modifier","name",e),!1}function sp(r,e){let t=r;function n(o){At.throwArgumentError(`unexpected character at position ${o}`,"param",r)}r=r.replace(/\s/g," ");function i(o){let f={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(f.indexed=!1),f}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<r.length;o++){let f=r[o];switch(f){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=Ji(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Za(a.type,a.name)&&(a.name=""),a.type=Ji(a.type);let y=a;a=a.parent,a||n(o),delete y.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Za(a.type,a.name)&&(a.name=""),a.type=Ji(a.type);let E=i(a.parent);a.parent.components.push(E),delete a.parent,a=E;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Ji(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):Za(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=f,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=f,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=f,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=f,delete a.state.allowArray):a.state.readArray?a.type+=f:n(o)}}return a.parent&&At.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):Za(a.type,a.name)&&(a.name=""),s.type=Ji(s.type),s}function Ya(r,e){for(let t in e)pe(r,t,e[t])}const Pt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ap=new RegExp(/^(.*)\[([0-9]*)\]$/);class hr{constructor(e,t){e!==Si&&At.throwError("use fromString",me.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ya(this,t);let n=this.type.match(ap);n?Ya(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:hr.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ya(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Pt.sighash),Pt[e]||At.throwArgumentError("invalid format type","format",e),e===Pt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Pt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===Pt.full?", ":",")+")"):t+=this.type,e!==Pt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===Pt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?hr.fromString(e,t):hr.fromObject(e)}static fromObject(e){return hr.isParamType(e)?e:new hr(Si,{name:e.name||null,type:Ji(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(hr.fromObject):null})}static fromString(e,t){function n(i){return hr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(sp(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function qs(r,e){return cp(r).map(t=>hr.fromString(t,e))}class zn{constructor(e,t){e!==Si&&At.throwError("use a static from method",me.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ya(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return zn.isFragment(e)?e:typeof e=="string"?zn.fromString(e):zn.fromObject(e)}static fromObject(e){if(zn.isFragment(e))return e;switch(e.type){case"function":return kn.fromObject(e);case"event":return $n.fromObject(e);case"constructor":return Cn.fromObject(e);case"error":return fi.fromObject(e);case"fallback":case"receive":return null}return At.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?$n.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?kn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Cn.fromString(e.trim()):e.split(" ")[0]==="error"?fi.fromString(e.substring(5).trim()):At.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class $n extends zn{format(e){if(e||(e=Pt.sighash),Pt[e]||At.throwArgumentError("invalid format type","format",e),e===Pt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Pt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Pt.full?", ":",")+") ",e!==Pt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?$n.fromString(e):$n.fromObject(e)}static fromObject(e){if($n.isEventFragment(e))return e;e.type!=="event"&&At.throwArgumentError("invalid event object","value",e);const t={name:js(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(hr.fromObject):[],type:"event"};return new $n(Si,t)}static fromString(e){let t=e.match(Gs);t||At.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:At.warn("unknown modifier: "+i)}}),$n.fromObject({name:t[1].trim(),anonymous:n,inputs:qs(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function wd(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&At.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||At.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=Ye.from(t[1]),t[0]):r}function vd(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Ed(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&At.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&At.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&At.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&At.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&At.throwArgumentError("unable to determine stateMutability","value",r),e}class Cn extends zn{format(e){if(e||(e=Pt.sighash),Pt[e]||At.throwArgumentError("invalid format type","format",e),e===Pt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Pt.sighash&&At.throwError("cannot format a constructor for sighash",me.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===Pt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?Cn.fromString(e):Cn.fromObject(e)}static fromObject(e){if(Cn.isConstructorFragment(e))return e;e.type!=="constructor"&&At.throwArgumentError("invalid constructor object","value",e);let t=Ed(e);t.constant&&At.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(hr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ye.from(e.gas):null};return new Cn(Si,n)}static fromString(e){let t={type:"constructor"};e=wd(e,t);let n=e.match(Gs);return(!n||n[1].trim()!=="constructor")&&At.throwArgumentError("invalid constructor string","value",e),t.inputs=qs(n[2].trim(),!1),vd(n[3].trim(),t),Cn.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class kn extends Cn{format(e){if(e||(e=Pt.sighash),Pt[e]||At.throwArgumentError("invalid format type","format",e),e===Pt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Pt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Pt.full?", ":",")+") ",e!==Pt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?kn.fromString(e):kn.fromObject(e)}static fromObject(e){if(kn.isFunctionFragment(e))return e;e.type!=="function"&&At.throwArgumentError("invalid function object","value",e);let t=Ed(e);const n={type:e.type,name:js(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(hr.fromObject):[],outputs:e.outputs?e.outputs.map(hr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ye.from(e.gas):null};return new kn(Si,n)}static fromString(e){let t={type:"function"};e=wd(e,t);let n=e.split(" returns ");n.length>2&&At.throwArgumentError("invalid function string","value",e);let i=n[0].match(Gs);if(i||At.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&js(t.name),t.inputs=qs(i[2],!1),vd(i[3].trim(),t),n.length>1){let s=n[1].match(Gs);(s[1].trim()!=""||s[3].trim()!="")&&At.throwArgumentError("unexpected tokens","value",e),t.outputs=qs(s[2],!1)}else t.outputs=[];return kn.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Sd(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&At.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class fi extends zn{format(e){if(e||(e=Pt.sighash),Pt[e]||At.throwArgumentError("invalid format type","format",e),e===Pt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==Pt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Pt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?fi.fromString(e):fi.fromObject(e)}static fromObject(e){if(fi.isErrorFragment(e))return e;e.type!=="error"&&At.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:js(e.name),inputs:e.inputs?e.inputs.map(hr.fromObject):[]};return Sd(new fi(Si,t))}static fromString(e){let t={type:"error"},n=e.match(Gs);return n||At.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&js(t.name),t.inputs=qs(n[2],!1),Sd(fi.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Ji(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const op=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function js(r){return(!r||!r.match(op))&&At.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Gs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function cp(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&At.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Qa=new me($s),up=new RegExp(/^bytes([0-9]*)$/),fp=new RegExp(/^(u?int)([0-9]*)$/);class dp{constructor(e){pe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new jx(e.name);case"bool":return new Vx(e.name);case"string":return new np(e.name);case"bytes":return new Jx(e.name);case"array":return new Wx(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Xa((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Zx(e.name)}let t=e.type.match(fp);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&Qa.throwArgumentError("invalid "+t[1]+" bit length","param",e),new rp(n/8,t[1]==="int",e.name)}if(t=e.type.match(up),t){let n=parseInt(t[1]);return(n===0||n>32)&&Qa.throwArgumentError("invalid bytes length","param",e),new Xx(n,e.name)}return Qa.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Ja(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Kc(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(hr.from(i)));return new Xa(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Qa.throwError("types/values length mismatch",me.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(hr.from(a))),i=new Xa(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>this._getCoder(hr.from(a)));return new Xa(i,"_").decode(this._getReader(Te(t),n))}}const lp=new dp,jt=new me($s);class hp extends Hi{}class xp extends Hi{}class pp extends Hi{}class zc extends Hi{static isIndexed(e){return!!(e&&e._isIndexed)}}const yp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _d(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Ad{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,pe(this,"fragments",t.map(n=>zn.from(n)).filter(n=>n!=null)),pe(this,"_abiCoder",Ts(new.target,"getAbiCoder")()),pe(this,"functions",{}),pe(this,"errors",{}),pe(this,"events",{}),pe(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){jt.warn("duplicate definition - constructor");return}pe(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){jt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||pe(this,"deploy",Cn.from({payable:!1,type:"constructor"})),pe(this,"_isInterface",!0)}format(e){e||(e=Pt.full),e===Pt.sighash&&jt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===Pt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return lp}static getAddress(e){return $t(e)}static getSighash(e){return yi(vi(e.format()),0,4)}static getEventTopic(e){return vi(e.format())}getFunction(e){if(er(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];jt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?jt.throwArgumentError("no matching function","name",n):i.length>1&&jt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[kn.fromString(e).format()];return t||jt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(er(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];jt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?jt.throwArgumentError("no matching event","name",n):i.length>1&&jt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[$n.fromString(e).format()];return t||jt.throwArgumentError("no matching event","signature",e),t}getError(e){if(er(e)){const n=Ts(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}jt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?jt.throwArgumentError("no matching error","name",n):i.length>1&&jt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[kn.fromString(e).format()];return t||jt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Ts(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ts(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=Te(t);return Le(n.slice(0,4))!==this.getSighash(e)&&jt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Le(Or([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=Te(t);return Le(n.slice(0,4))!==this.getSighash(e)&&jt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Le(Or([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=Te(t),i=null,s="",a=null,o=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const y=Le(n.slice(0,4)),E=yp[y];if(E)a=this._abiCoder.decode(E.inputs,n.slice(4)),o=E.name,f=E.signature,E.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const A=this.getError(y);a=this._abiCoder.decode(A.inputs,n.slice(4)),o=A.name,f=A.format()}catch{}break}}return jt.throwError("call revert exception"+s,me.errors.CALL_EXCEPTION,{method:e.format(),data:Le(t),errorArgs:a,errorName:o,errorSignature:f,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Le(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&jt.throwError("too many arguments for "+e.format(),me.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?vi(a):s.type==="bytes"?dr(Le(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=Ye.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),Nr(Le(a),32));for(t.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&jt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?jt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(f=>i(o,f))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&jt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const f=t[o];if(a.indexed)if(a.type==="string")n.push(vi(f));else if(a.type==="bytes")n.push(dr(f));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[f]))}else i.push(a),s.push(f)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let F=this.getEventTopic(e);(!er(n[0],32)||n[0].toLowerCase()!==F)&&jt.throwError("fragment/topic mismatch",me.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:F,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((F,G)=>{F.indexed?F.type==="string"||F.type==="bytes"||F.baseType==="tuple"||F.baseType==="array"?(i.push(hr.fromObject({type:"bytes32",name:F.name})),a.push(!0)):(i.push(F),a.push(!1)):(s.push(F),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,Or(n)):null,f=this._abiCoder.decode(s,t,!0),y=[],E=0,A=0;e.inputs.forEach((F,G)=>{if(F.indexed)if(o==null)y[G]=new zc({_isIndexed:!0,hash:null});else if(a[G])y[G]=new zc({_isIndexed:!0,hash:o[A++]});else try{y[G]=o[A++]}catch(q){y[G]=q}else try{y[G]=f[E++]}catch(q){y[G]=q}if(F.name&&y[F.name]==null){const q=y[G];q instanceof Error?Object.defineProperty(y,F.name,{enumerable:!0,get:()=>{throw _d(`property ${JSON.stringify(F.name)}`,q)}}):y[F.name]=q}});for(let F=0;F<y.length;F++){const G=y[F];G instanceof Error&&Object.defineProperty(y,F,{enumerable:!0,get:()=>{throw _d(`index ${F}`,G)}})}return Object.freeze(y)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new xp({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Ye.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new hp({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Le(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new pp({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const gp="contracts/5.7.0";var di=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(E){try{y(n.next(E))}catch(A){a(A)}}function f(E){try{y(n.throw(E))}catch(A){a(A)}}function y(E){E.done?s(E.value):i(E.value).then(o,f)}y((n=n.apply(r,e||[])).next())})};const Ut=new me(gp),bp={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function eo(r,e){return di(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Ut.throwArgumentError("invalid address or ENS name","name",t);try{return $t(t)}catch{}r||Ut.throwError("a provider or signer is needed to resolve ENS names",me.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Ut.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function Ws(r,e,t){return di(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>Ws(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield eo(r,e):t.type==="tuple"?yield Ws(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Ws(r,n,t.arrayChildren))):Promise.reject(Ut.makeError("invalid value for array",me.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function to(r,e,t){return di(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=ai(t.pop())),Ut.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=Hn({override:eo(r.signer,n.from),signer:r.signer.getAddress()}).then(y=>di(this,void 0,void 0,function*(){return $t(y.signer)!==y.override&&Ut.throwError("Contract with a Signer cannot override from",me.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),y.override})):n.from=r.signer.getAddress():n.from&&(n.from=eo(r.provider,n.from));const i=yield Hn({args:Ws(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:Hn(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=Ye.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=Ye.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=Ye.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=Ye.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=Ye.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Pa(o.accessList)),a.gasLimit==null&&e.gas!=null){let y=21e3;const E=Te(s);for(let A=0;A<E.length;A++)y+=4,E[A]&&(y+=64);a.gasLimit=Ye.from(e.gas).add(y)}if(o.value){const y=Ye.from(o.value);!y.isZero()&&!e.payable&&Ut.throwError("non-payable method cannot override value",me.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=y}o.customData&&(a.customData=ai(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(y=>n[y]!=null);return f.length&&Ut.throwError(`cannot override ${f.map(y=>JSON.stringify(y)).join(",")}`,me.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),a})}function mp(r,e){return function(...t){return to(r,e,t)}}function wp(r,e){const t=r.signer||r.provider;return function(...n){return di(this,void 0,void 0,function*(){t||Ut.throwError("estimate require a provider or signer",me.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield to(r,e,n);return yield t.estimateGas(i)})}}function Td(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let a=Li(s),o=null;try{o=r.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(f,y)=>r.interface.decodeEventLog(o.eventFragment,f,y),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(i.blockHash),a.getTransaction=()=>r.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function Pd(r,e,t){const n=r.signer||r.provider;return function(...i){return di(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=ai(i.pop());f.blockTag!=null&&(s=yield f.blockTag),delete f.blockTag,i.push(f)}r.deployTransaction!=null&&(yield r._deployed(s));const a=yield to(r,e,i),o=yield n.call(a,s);try{let f=r.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===me.errors.CALL_EXCEPTION&&(f.address=r.address,f.args=i,f.transaction=a),f}})}}function vp(r,e){return function(...t){return di(this,void 0,void 0,function*(){r.signer||Ut.throwError("sending a transaction requires a signer",me.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield to(r,e,t),i=yield r.signer.sendTransaction(n);return Td(r,i),i})}}function Rd(r,e,t){return e.constant?Pd(r,e,t):vp(r,e)}function Cd(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Vs{constructor(e,t){pe(this,"tag",e),pe(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class Ep extends Vs{constructor(){super("error",null)}}class kd extends Vs{constructor(e,t,n,i){const s={address:e};let a=t.getEventTopic(n);i?(a!==i[0]&&Ut.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(Cd(s),s),pe(this,"address",e),pe(this,"interface",t),pe(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=qx(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Id extends Vs{constructor(e,t){super("*",{address:e}),pe(this,"address",e),pe(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class Sp{constructor(e,t,n){pe(this,"interface",Ts(new.target,"getInterface")(t)),n==null?(pe(this,"provider",null),pe(this,"signer",null)):Cs.isSigner(n)?(pe(this,"provider",n.provider||null),pe(this,"signer",n)):Ra.isProvider(n)?(pe(this,"provider",n),pe(this,"signer",null)):Ut.throwArgumentError("invalid signer or provider","signerOrProvider",n),pe(this,"callStatic",{}),pe(this,"estimateGas",{}),pe(this,"functions",{}),pe(this,"populateTransaction",{}),pe(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const f=this.interface.events[o];pe(this.filters,o,(...y)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,y)})),a[f.name]||(a[f.name]=[]),a[f.name].push(o)}),Object.keys(a).forEach(o=>{const f=a[o];f.length===1?pe(this.filters,o,this.filters[f[0]]):Ut.warn(`Duplicate definition of ${o} (${f.join(", ")})`)})}if(pe(this,"_runningEvents",{}),pe(this,"_wrappedEmits",{}),e==null&&Ut.throwArgumentError("invalid contract address or ENS name","addressOrName",e),pe(this,"address",e),this.provider)pe(this,"resolvedAddress",eo(this.provider,e));else try{pe(this,"resolvedAddress",Promise.resolve($t(e)))}catch{Ut.throwError("provider is required to use ENS name as contract address",me.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){Ut.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const f=o.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(a)}this[a]==null&&pe(this,a,Rd(this,o,!0)),this.functions[a]==null&&pe(this.functions,a,Rd(this,o,!1)),this.callStatic[a]==null&&pe(this.callStatic,a,Pd(this,o,!0)),this.populateTransaction[a]==null&&pe(this.populateTransaction,a,mp(this,o)),this.estimateGas[a]==null&&pe(this.estimateGas,a,wp(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const f=o[0];try{this[a]==null&&pe(this,a,this[f])}catch{}this.functions[a]==null&&pe(this.functions,a,this.functions[f]),this.callStatic[a]==null&&pe(this.callStatic,a,this.callStatic[f]),this.populateTransaction[a]==null&&pe(this.populateTransaction,a,this.populateTransaction[f]),this.estimateGas[a]==null&&pe(this.estimateGas,a,this.estimateGas[f])})}static getContractAddress(e){return bh(e)}static getInterface(e){return Ad.isInterface(e)?e:new Ad(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Ut.throwError("contract not deployed",me.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Ut.throwError("sending a transactions require a signer",me.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ai(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Ut.throwError("cannot override "+n,me.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new dc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&pe(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return zc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Ep);if(e==="event")return this._normalizeRunningEvent(new Vs("event",null));if(e==="*")return this._normalizeRunningEvent(new Id(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new kd(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new kd(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Vs(Cd(t),t))}return this._normalizeRunningEvent(new Id(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=Li(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||Ut.throwError("events require a provider or a signer with a provider",me.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,t);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=ai(i.filter);return typeof t=="string"&&er(t,32)?(n!=null&&Ut.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class $c extends Sp{}class sm{constructor(e,t,n){let i=null;typeof t=="string"?i=t:isBytes(t)?i=hexlify(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!isHexString(i)||i.length%2)&&Ut.throwArgumentError("invalid bytecode","bytecode",t),n&&!Signer.isSigner(n)&&Ut.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=shallowCopy(e.pop());for(const n in t)if(!bp[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Ut.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!BigNumber.from(t.value).isZero()&&!this.interface.deploy.payable&&Ut.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Ut.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return di(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Ut.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Ws(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=getStatic(this.constructor,"getContractAddress")(s),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Td(o,s),defineReadOnly(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Ut.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return $c.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,t,n){return new $c(e,t,n)}}class _p extends Va{constructor(t){super(t);O(this,"contractInstance");O(this,"contractAddress");this.contractAddress=t.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new $c(this.contractAddress,Ap,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(t){const n=await this.providerInstance.getTransaction(t);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const i=`0x${n.data.slice(34,74)}`,s=new rt.Z(n.data.slice(74),16);return{from:n.from,to:i,blockHeight:n.blockNumber?new rt.Z(n.blockNumber):void 0,amount:s,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(t,n){const i="0x"+new rt.Z(t).toString(16),s=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await s.estimateGas.transfer(n,i),f=new rt.Z(a.mul(o).toString()),[y]=await this.getGas(),E=y.multipliedBy(f),A=new rt.Z(await this.price());return new rt.Z(E).dividedToIntegerBy(A)}async createTx(t,n,i){const s=await this.getContract(),a="0x"+new rt.Z(t).toString(16),o=await s.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await s.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new rt.Z(await pd("ETH")),1e18]}}const Ap=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var ro=l(15711),Tp=l(98316),qn=l(79426),Xi=l(29415),Js=l(28523);const[Bd,Ud,Od]=[[],[],[]],Pp=BigInt(0),Xs=BigInt(1),Rp=BigInt(2),Cp=BigInt(7),kp=BigInt(256),Ip=BigInt(113);for(let r=0,e=Xs,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Bd.push(2*(5*n+t)),Ud.push((r+1)*(r+2)/2%64);let i=Pp;for(let s=0;s<7;s++)e=(e<<Xs^(e>>Cp)*Ip)%kp,e&Rp&&(i^=Xs<<(Xs<<BigInt(s))-Xs);Od.push(i)}const[Bp,Up]=Js.ZP.split(Od,!0),Nd=(r,e,t)=>t>32?Js.ZP.rotlBH(r,e,t):Js.ZP.rotlSH(r,e,t),Md=(r,e,t)=>t>32?Js.ZP.rotlBL(r,e,t):Js.ZP.rotlSL(r,e,t);function Op(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,f=(a+2)%10,y=t[f],E=t[f+1],A=Nd(y,E,1)^t[o],F=Md(y,E,1)^t[o+1];for(let G=0;G<50;G+=10)r[a+G]^=A,r[a+G+1]^=F}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=Ud[a],f=Nd(i,s,o),y=Md(i,s,o),E=Bd[a];i=r[E],s=r[E+1],r[E]=f,r[E+1]=y}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=Bp[n],r[1]^=Up[n]}t.fill(0)}class no extends qn.Hash{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Xi.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,qn.u32)(this.state)}keccak(){Op(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Xi.default.exists(this);const{blockLen:t,state:n}=this;e=(0,qn.toBytes)(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Xi.default.exists(this,!1),Xi.default.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xi.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Xi.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new no(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const li=(r,e,t)=>(0,qn.wrapConstructor)(()=>new no(e,r,t)),am=li(6,144,224/8),Zi=li(6,136,256/8),om=li(6,104,384/8),cm=li(6,72,512/8),um=li(1,144,224/8),fm=li(1,136,256/8),dm=li(1,104,384/8),lm=li(1,72,512/8),Dd=(r,e,t)=>(0,qn.wrapConstructorWithOpts)((n={})=>new no(e,r,n.dkLen===void 0?t:n.dkLen,!0)),hm=Dd(31,168,128/8),xm=Dd(31,136,256/8);var Fd=l(27251),Ld=l(45018),Zs=l(67886),Hd=l(36243),Kd=Object.defineProperty,Np=Object.getOwnPropertyDescriptor,io=(r,e)=>{for(var t in e)Kd(r,t,{get:e[t],enumerable:!0})},Ct=(r,e,t,n)=>{for(var i=n>1?void 0:n?Np(e,t):e,s=r.length-1,a;s>=0;s--)(a=r[s])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&Kd(e,t,i),i},Mp=/^m(\/[0-9]+')+$/,zd=r=>r.replace("'",""),Dp="ed25519 seed",Fp=2147483648,Lp=r=>{const t=Fd.b.create(Ld.sha512,Dp).update((0,qn.hexToBytes)(r)).digest(),n=t.slice(0,32),i=t.slice(32);return{key:n,chainCode:i}},Hp=({key:r,chainCode:e},t)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t);const i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...r,...i]),o=Fd.b.create(Ld.sha512,e).update(a).digest(),f=o.slice(0,32),y=o.slice(32);return{key:f,chainCode:y}},Kp=r=>Mp.test(r)?!r.split("/").slice(1).map(zd).some(Number.isNaN):!1,zp=(r,e,t=Fp)=>{if(!Kp(r))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=Lp(e);return r.split("/").slice(1).map(zd).map(a=>parseInt(a,10)).reduce((a,o)=>Hp(a,o+t),{key:n,chainCode:i})};async function $p(r){return new Promise(e=>{setTimeout(e,r)})}var $d="/v1";function qp(r){let e=`${r}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith($d)||(e=`${e}${$d}`),e}var qd=2e5,jd=20,Gd=20,qc="0x1::aptos_coin::AptosCoin";function so(r){let e,t,n;return typeof r=="object"?(e=r.hashFunction,t=r.ttlMs,n=r.tags):e=r,(i,s,a)=>{if(a.value!=null)a.value=Wd(a.value,e,t,n);else if(a.get!=null)a.get=Wd(a.get,e,t,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function jp(r,e){return so({ttlMs:r,hashFunction:e})}var ao=new Map;function Gp(r){const e=new Set;for(const t of r){const n=ao.get(t);if(n)for(const i of n)e.has(i)||(i.clear(),e.add(i))}return e.size}function Wd(r,e,t=0,n){const i=Symbol("__memoized_map__");return function(...s){let a;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const f=o[i];if(Array.isArray(n))for(const y of n)ao.has(y)?ao.get(y).push(f):ao.set(y,[f]);if(e||s.length>0||t>0){let y;e===!0?y=s.map(F=>F.toString()).join("!"):e?y=e.apply(o,s):y=s[0];const E=`${y}__timestamp`;let A=!1;if(t>0)if(!f.has(E))A=!0;else{const F=f.get(E);A=Date.now()-F>t}f.has(y)&&!A?a=f.get(y):(a=r.apply(o,s),f.set(y,a),t>0&&f.set(E,Date.now()))}else{const y=o;f.has(y)?a=f.get(y):(a=r.apply(o,s),f.set(y,a))}return a}}var He=class{static fromBuffer(r){return He.fromUint8Array(r)}static fromUint8Array(r){return new He((0,qn.bytesToHex)(r))}static ensure(r){return typeof r=="string"?new He(r):r}constructor(r){r.startsWith("0x")?this.hexString=r:this.hexString=`0x${r}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from((0,qn.hexToBytes)(this.noPrefix()))}};async function Vd(r,e,t,n){var i;const s=[];let a;for(;;){const o=await r(He.ensure(e).hex(),(i=n==null?void 0:n.ledgerVersion)==null?void 0:i.toString(),a,t);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,s.push(...o),a==null)break}return s}var Wp={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Vp={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Jp=(r=>(r.MAINNET="mainnet",r.TESTNET="testnet",r.DEVNET="devnet",r))(Jp||{}),kt={};io(kt,{AccountAddress:()=>Wt,AccountAuthenticator:()=>ra,AccountAuthenticatorEd25519:()=>Jc,AccountAuthenticatorMultiEd25519:()=>Xc,ArgumentABI:()=>aa,AuthenticationKey:()=>Bi,ChainId:()=>go,ChangeSet:()=>dy,Ed25519PublicKey:()=>on,Ed25519Signature:()=>In,EntryFunction:()=>ki,EntryFunctionABI:()=>as,Identifier:()=>Cr,Module:()=>e0,ModuleId:()=>Ii,MultiAgentRawTransaction:()=>xo,MultiEd25519PublicKey:()=>Qs,MultiEd25519Signature:()=>uo,MultiSig:()=>Qc,MultiSigTransactionPayload:()=>Yc,RawTransaction:()=>ss,RawTransactionWithData:()=>t0,RotationProofChallenge:()=>hy,Script:()=>ho,ScriptABI:()=>Po,SignedTransaction:()=>na,StructTag:()=>Ci,Transaction:()=>r0,TransactionArgument:()=>vn,TransactionArgumentAddress:()=>_o,TransactionArgumentBool:()=>To,TransactionArgumentU128:()=>Eo,TransactionArgumentU16:()=>mo,TransactionArgumentU256:()=>So,TransactionArgumentU32:()=>wo,TransactionArgumentU64:()=>vo,TransactionArgumentU8:()=>bo,TransactionArgumentU8Vector:()=>Ao,TransactionAuthenticator:()=>ta,TransactionAuthenticatorEd25519:()=>fo,TransactionAuthenticatorMultiAgent:()=>Vc,TransactionAuthenticatorMultiEd25519:()=>lo,TransactionPayload:()=>ia,TransactionPayloadEntryFunction:()=>yo,TransactionPayloadMultisig:()=>eu,TransactionPayloadScript:()=>po,TransactionScriptABI:()=>Ro,TypeArgumentABI:()=>sa,TypeTag:()=>mr,TypeTagAddress:()=>hi,TypeTagBool:()=>Ai,TypeTagParser:()=>is,TypeTagParserError:()=>Qd,TypeTagSigner:()=>Zc,TypeTagStruct:()=>Ri,TypeTagU128:()=>Pi,TypeTagU16:()=>es,TypeTagU256:()=>rs,TypeTagU32:()=>ts,TypeTagU64:()=>Ti,TypeTagU8:()=>Gn,TypeTagVector:()=>ns,UserTransaction:()=>tu,WriteSet:()=>ly,stringStructTag:()=>Xd});var Xp={};io(Xp,{Deserializer:()=>jc,Serializer:()=>Gt,bcsSerializeBool:()=>sy,bcsSerializeBytes:()=>Qi,bcsSerializeFixedBytes:()=>oy,bcsSerializeStr:()=>ay,bcsSerializeU128:()=>iy,bcsSerializeU16:()=>ry,bcsSerializeU32:()=>ny,bcsSerializeU8:()=>Gc,bcsSerializeUint64:()=>ty,bcsToBytes:()=>jn,deserializeVector:()=>sn,serializeVector:()=>jr,serializeVectorWithFunc:()=>ey});var Zp=2**8-1,Yp=2**16-1,Ys=2**32-1,Yi=BigInt(2**64)-BigInt(1),Jd=BigInt(2**128)-BigInt(1),Qp=BigInt(2**256)-BigInt(1),Gt=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(r){for(;this.buffer.byteLength<this.offset+r;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(r){this.ensureBufferWillHandleSize(r.length),new Uint8Array(this.buffer,this.offset).set(r),this.offset+=r.length}serializeWithFunction(r,e,t){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);r.apply(n,[0,t,!0]),this.offset+=e}serializeStr(r){const e=new TextEncoder;this.serializeBytes(e.encode(r))}serializeBytes(r){this.serializeU32AsUleb128(r.length),this.serialize(r)}serializeFixedBytes(r){this.serialize(r)}serializeBool(r){if(typeof r!="boolean")throw new Error("Value needs to be a boolean");const e=r?1:0;this.serialize(new Uint8Array([e]))}serializeU8(r){this.serialize(new Uint8Array([r]))}serializeU16(r){this.serializeWithFunction(DataView.prototype.setUint16,2,r)}serializeU32(r){this.serializeWithFunction(DataView.prototype.setUint32,4,r)}serializeU64(r){const e=BigInt(r.toString())&BigInt(Ys),t=BigInt(r.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(t))}serializeU128(r){const e=BigInt(r.toString())&Yi,t=BigInt(r.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(t)}serializeU256(r){const e=BigInt(r.toString())&Jd,t=BigInt(r.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(t)}serializeU32AsUleb128(r){let e=r;const t=[];for(;e>>>7;)t.push(e&127|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};Ct([_i(0,Zp)],Gt.prototype,"serializeU8",1),Ct([_i(0,Yp)],Gt.prototype,"serializeU16",1),Ct([_i(0,Ys)],Gt.prototype,"serializeU32",1),Ct([_i(BigInt(0),Yi)],Gt.prototype,"serializeU64",1),Ct([_i(BigInt(0),Jd)],Gt.prototype,"serializeU128",1),Ct([_i(BigInt(0),Qp)],Gt.prototype,"serializeU256",1),Ct([_i(0,Ys)],Gt.prototype,"serializeU32AsUleb128",1);function _i(r,e,t){return(n,i,s)=>{const a=s.value;return s.value=function(f){const y=BigInt(f.toString());if(y>BigInt(e.toString())||y<BigInt(r.toString()))throw new Error(t||"Value is out of range");a.apply(this,[f])},s}}var jc=class{constructor(r){this.buffer=new ArrayBuffer(r.length),new Uint8Array(this.buffer).set(r,0),this.offset=0}read(r){if(this.offset+r>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+r);return this.offset+=r,e}deserializeStr(){const r=this.deserializeBytes();return new TextDecoder().decode(r)}deserializeBytes(){const r=this.deserializeUleb128AsU32();return new Uint8Array(this.read(r))}deserializeFixedBytes(r){return new Uint8Array(this.read(r))}deserializeBool(){const r=new Uint8Array(this.read(1))[0];if(r!==1&&r!==0)throw new Error("Invalid boolean value");return r===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const r=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(r))}deserializeU128(){const r=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|r)}deserializeU256(){const r=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|r)}deserializeUleb128AsU32(){let r=BigInt(0),e=0;for(;r<Ys;){const t=this.deserializeU8();if(r|=BigInt(t&127)<<BigInt(e),!(t&128))break;e+=7}if(r>Ys)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(r)}};function jr(r,e){e.serializeU32AsUleb128(r.length),r.forEach(t=>{t.serialize(e)})}function ey(r,e){const t=new Gt;t.serializeU32AsUleb128(r.length);const n=t[e];return r.forEach(i=>{n.call(t,i)}),t.getBytes()}function sn(r,e){const t=r.deserializeUleb128AsU32(),n=[];for(let i=0;i<t;i+=1)n.push(e.deserialize(r));return n}function jn(r){const e=new Gt;return r.serialize(e),e.getBytes()}function ty(r){const e=new Gt;return e.serializeU64(r),e.getBytes()}function Gc(r){const e=new Gt;return e.serializeU8(r),e.getBytes()}function ry(r){const e=new Gt;return e.serializeU16(r),e.getBytes()}function ny(r){const e=new Gt;return e.serializeU32(r),e.getBytes()}function iy(r){const e=new Gt;return e.serializeU128(r),e.getBytes()}function sy(r){const e=new Gt;return e.serializeBool(r),e.getBytes()}function ay(r){const e=new Gt;return e.serializeStr(r),e.getBytes()}function Qi(r){const e=new Gt;return e.serializeBytes(r),e.getBytes()}function oy(r){const e=new Gt;return e.serializeFixedBytes(r),e.getBytes()}var an=class{constructor(r){if(r.length!==an.LENGTH)throw new Error("Expected address of length 32");this.address=r}static fromHex(r){let e=He.ensure(r);e.noPrefix().length%2!==0&&(e=new He(`0${e.noPrefix()}`));const t=e.toUint8Array();if(t.length>an.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(t.length===an.LENGTH)return new an(t);const n=new Uint8Array(an.LENGTH);return n.set(t,an.LENGTH-t.length),new an(n)}static isValid(r){if(r==="")return!1;let e=He.ensure(r);return e.noPrefix().length%2!==0&&(e=new He(`0${e.noPrefix()}`)),e.toUint8Array().length<=an.LENGTH}toHexString(){return He.fromUint8Array(this.address).hex()}serialize(r){r.serializeFixedBytes(this.address)}static deserialize(r){return new an(r.deserializeFixedBytes(an.LENGTH))}},Wt=an;Wt.LENGTH=32,Wt.CORE_CODE_ADDRESS=an.fromHex("0x1");var oo=class{constructor(r){if(r.length!==oo.LENGTH)throw new Error(`Ed25519PublicKey length should be ${oo.LENGTH}`);this.value=r}toBytes(){return this.value}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new oo(e)}},on=oo;on.LENGTH=32;var co=class{constructor(r){if(this.value=r,r.length!==co.LENGTH)throw new Error(`Ed25519Signature length should be ${co.LENGTH}`)}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new co(e)}},In=co;In.LENGTH=64;var Wc=32,Qs=class{constructor(r,e){if(this.public_keys=r,this.threshold=e,e>Wc)throw new Error(`"threshold" cannot be larger than ${Wc}`)}toBytes(){const r=new Uint8Array(this.public_keys.length*on.LENGTH+1);return this.public_keys.forEach((e,t)=>{r.set(e.value,t*on.LENGTH)}),r[this.public_keys.length*on.LENGTH]=this.threshold,r}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e[e.length-1],n=[];for(let i=0;i<e.length-1;i+=on.LENGTH){const s=i;n.push(new on(e.subarray(s,s+on.LENGTH)))}return new Qs(n,t)}},ea=class{constructor(r,e){if(this.signatures=r,this.bitmap=e,e.length!==ea.BITMAP_LEN)throw new Error(`"bitmap" length should be ${ea.BITMAP_LEN}`)}toBytes(){const r=new Uint8Array(this.signatures.length*In.LENGTH+ea.BITMAP_LEN);return this.signatures.forEach((e,t)=>{r.set(e.value,t*In.LENGTH)}),r.set(this.bitmap,this.signatures.length*In.LENGTH),r}static createBitmap(r){const t=new Uint8Array([0,0,0,0]),n=new Set;return r.forEach(i=>{if(i>=Wc)throw new Error(`Invalid bit value ${i}.`);if(n.has(i))throw new Error("Duplicated bits detected.");n.add(i);const s=Math.floor(i/8);let a=t[s];a|=128>>i%8,t[s]=a}),t}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e.subarray(e.length-4),n=[];for(let i=0;i<e.length-t.length;i+=In.LENGTH){const s=i;n.push(new In(e.subarray(s,s+In.LENGTH)))}return new ea(n,t)}},uo=ea;uo.BITMAP_LEN=4;var ta=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return fo.load(r);case 1:return lo.load(r);case 2:return Vc.load(r);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},fo=class extends ta{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=on.deserialize(r),t=In.deserialize(r);return new fo(e,t)}},lo=class extends ta{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=Qs.deserialize(r),t=uo.deserialize(r);return new lo(e,t)}},Vc=class extends ta{constructor(r,e,t){super(),this.sender=r,this.secondary_signer_addresses=e,this.secondary_signers=t}serialize(r){r.serializeU32AsUleb128(2),this.sender.serialize(r),jr(this.secondary_signer_addresses,r),jr(this.secondary_signers,r)}static load(r){const e=ra.deserialize(r),t=sn(r,Wt),n=sn(r,ra);return new Vc(e,t,n)}},ra=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Jc.load(r);case 1:return Xc.load(r);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Jc=class extends ra{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=on.deserialize(r),t=In.deserialize(r);return new Jc(e,t)}},Xc=class extends ra{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=Qs.deserialize(r),t=uo.deserialize(r);return new Xc(e,t)}},Cr=class{constructor(r){this.value=r}serialize(r){r.serializeStr(this.value)}static deserialize(r){const e=r.deserializeStr();return new Cr(e)}},mr=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Ai.load(r);case 1:return Gn.load(r);case 2:return Ti.load(r);case 3:return Pi.load(r);case 4:return hi.load(r);case 5:return Zc.load(r);case 6:return ns.load(r);case 7:return Ri.load(r);case 8:return es.load(r);case 9:return ts.load(r);case 10:return rs.load(r);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Ai=class extends mr{serialize(r){r.serializeU32AsUleb128(0)}static load(r){return new Ai}},Gn=class extends mr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new Gn}},es=class extends mr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new es}},ts=class extends mr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new ts}},Ti=class extends mr{serialize(r){r.serializeU32AsUleb128(2)}static load(r){return new Ti}},Pi=class extends mr{serialize(r){r.serializeU32AsUleb128(3)}static load(r){return new Pi}},rs=class extends mr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new rs}},hi=class extends mr{serialize(r){r.serializeU32AsUleb128(4)}static load(r){return new hi}},Zc=class extends mr{serialize(r){r.serializeU32AsUleb128(5)}static load(r){return new Zc}},ns=class extends mr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),this.value.serialize(r)}static load(r){const e=mr.deserialize(r);return new ns(e)}},Ri=class extends mr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),this.value.serialize(r)}static load(r){const e=Ci.deserialize(r);return new Ri(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Wt.fromHex("0x1").toHexString()}},Ci=class{constructor(r,e,t,n){this.address=r,this.module_name=e,this.name=t,this.type_args=n}static fromString(r){const e=new is(r).parseTypeTag();return new Ci(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(r){this.address.serialize(r),this.module_name.serialize(r),this.name.serialize(r),jr(this.type_args,r)}static deserialize(r){const e=Wt.deserialize(r),t=Cr.deserialize(r),n=Cr.deserialize(r),i=sn(r,mr);return new Ci(e,t,n,i)}},Xd=new Ci(Wt.fromHex("0x1"),new Cr("string"),new Cr("String"),[]);function xi(r){throw new Qd(r)}function Zd(r){return!!r.match(/\s/)}function Yd(r){return!!r.match(/[_A-Za-z0-9]/g)}function cy(r){return!!r.match(/T\d+/g)}function uy(r,e){const t=r[e];if(t===":"){if(r.slice(e,e+2)==="::")return[["COLON","::"],2];xi("Unrecognized token.")}else{if(t==="<")return[["LT","<"],1];if(t===">")return[["GT",">"],1];if(t===",")return[["COMMA",","],1];if(Zd(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(Zd(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(Yd(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(Yd(s))n=`${n}${s}`;else break}return cy(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function fy(r){let e=0;const t=[];for(;e<r.length;){const[n,i]=uy(r,e);n[0]!=="SPACE"&&t.push(n),e+=i}return t}var is=class{constructor(r,e){this.typeTags=[],this.tokens=fy(r),this.typeTags=e||[]}consume(r){const e=this.tokens.shift();(!e||e[1]!==r)&&xi("Invalid type tag.")}parseCommaList(r,e){const t=[];for(this.tokens.length<=0&&xi("Invalid type tag.");this.tokens[0][1]!==r&&(t.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===r||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===r&&e)));)this.tokens.length<=0&&xi("Invalid type tag.");return t}parseTypeTag(){this.tokens.length===0&&xi("Invalid type tag.");const[r,e]=this.tokens.shift();if(e==="u8")return new Gn;if(e==="u16")return new es;if(e==="u32")return new ts;if(e==="u64")return new Ti;if(e==="u128")return new Pi;if(e==="u256")return new rs;if(e==="bool")return new Ai;if(e==="address")return new hi;if(e==="vector"){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new ns(t)}if(e==="string")return new Ci(Wt.fromHex("0x1"),new Cr("string"),new Cr("String"),[]);if(r==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const t=e;this.consume("::");const[n,i]=this.tokens.shift();n!=="IDENT"&&xi("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&xi("Invalid type tag."),i==="object"&&a==="Object")return this.tokens.splice(0,3),new hi;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const f=new Ci(Wt.fromHex(t),new Cr(i),new Cr(a),o);return new Ri(f)}if(r==="GENERIC"){this.typeTags.length===0&&xi("Can't convert generic type since no typeTags were specified.");const t=parseInt(e.substring(1),10);return new is(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},Qd=class extends Error{constructor(r){super(r),this.name="TypeTagParserError"}},ss=class{constructor(r,e,t,n,i,s,a){this.sender=r,this.sequence_number=e,this.payload=t,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(r){this.sender.serialize(r),r.serializeU64(this.sequence_number),this.payload.serialize(r),r.serializeU64(this.max_gas_amount),r.serializeU64(this.gas_unit_price),r.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(r)}static deserialize(r){const e=Wt.deserialize(r),t=r.deserializeU64(),n=ia.deserialize(r),i=r.deserializeU64(),s=r.deserializeU64(),a=r.deserializeU64(),o=go.deserialize(r);return new ss(e,t,n,i,s,a,o)}},ho=class{constructor(r,e,t){this.code=r,this.ty_args=e,this.args=t}serialize(r){r.serializeBytes(this.code),jr(this.ty_args,r),jr(this.args,r)}static deserialize(r){const e=r.deserializeBytes(),t=sn(r,mr),n=sn(r,vn);return new ho(e,t,n)}},ki=class{constructor(r,e,t,n){this.module_name=r,this.function_name=e,this.ty_args=t,this.args=n}static natural(r,e,t,n){return new ki(Ii.fromStr(r),new Cr(e),t,n)}static natual(r,e,t,n){return ki.natural(r,e,t,n)}serialize(r){this.module_name.serialize(r),this.function_name.serialize(r),jr(this.ty_args,r),r.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{r.serializeBytes(e)})}static deserialize(r){const e=Ii.deserialize(r),t=Cr.deserialize(r),n=sn(r,mr),i=r.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(r.deserializeBytes());const a=s;return new ki(e,t,n,a)}},Yc=class{constructor(r){this.transaction_payload=r}serialize(r){r.serializeU32AsUleb128(0),this.transaction_payload.serialize(r)}static deserialize(r){return r.deserializeUleb128AsU32(),new Yc(ki.deserialize(r))}},Qc=class{constructor(r,e){this.multisig_address=r,this.transaction_payload=e}serialize(r){this.multisig_address.serialize(r),this.transaction_payload===void 0?r.serializeBool(!1):(r.serializeBool(!0),this.transaction_payload.serialize(r))}static deserialize(r){const e=Wt.deserialize(r),t=r.deserializeBool();let n;return t&&(n=Yc.deserialize(r)),new Qc(e,n)}},e0=class{constructor(r){this.code=r}serialize(r){r.serializeBytes(this.code)}static deserialize(r){const e=r.deserializeBytes();return new e0(e)}},Ii=class{constructor(r,e){this.address=r,this.name=e}static fromStr(r){const e=r.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new Ii(Wt.fromHex(new He(e[0])),new Cr(e[1]))}serialize(r){this.address.serialize(r),this.name.serialize(r)}static deserialize(r){const e=Wt.deserialize(r),t=Cr.deserialize(r);return new Ii(e,t)}},dy=class{serialize(r){throw new Error("Not implemented.")}static deserialize(r){throw new Error("Not implemented.")}},ly=class{serialize(r){throw new Error("Not implmented.")}static deserialize(r){throw new Error("Not implmented.")}},na=class{constructor(r,e){this.raw_txn=r,this.authenticator=e}serialize(r){this.raw_txn.serialize(r),this.authenticator.serialize(r)}static deserialize(r){const e=ss.deserialize(r),t=ta.deserialize(r);return new na(e,t)}},t0=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return xo.load(r);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},xo=class extends t0{constructor(r,e){super(),this.raw_txn=r,this.secondary_signer_addresses=e}serialize(r){r.serializeU32AsUleb128(0),this.raw_txn.serialize(r),jr(this.secondary_signer_addresses,r)}static load(r){const e=ss.deserialize(r),t=sn(r,Wt);return new xo(e,t)}},ia=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return po.load(r);case 2:return yo.load(r);case 3:return eu.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},po=class extends ia{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){const e=ho.deserialize(r);return new po(e)}},yo=class extends ia{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),this.value.serialize(r)}static load(r){const e=ki.deserialize(r);return new yo(e)}},eu=class extends ia{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=Qc.deserialize(r);return new eu(e)}},go=class{constructor(r){this.value=r}serialize(r){r.serializeU8(this.value)}static deserialize(r){const e=r.deserializeU8();return new go(e)}},vn=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return bo.load(r);case 1:return vo.load(r);case 2:return Eo.load(r);case 3:return _o.load(r);case 4:return Ao.load(r);case 5:return To.load(r);case 6:return mo.load(r);case 7:return wo.load(r);case 8:return So.load(r);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},bo=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),r.serializeU8(this.value)}static load(r){const e=r.deserializeU8();return new bo(e)}},mo=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),r.serializeU16(this.value)}static load(r){const e=r.deserializeU16();return new mo(e)}},wo=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),r.serializeU32(this.value)}static load(r){const e=r.deserializeU32();return new wo(e)}},vo=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(1),r.serializeU64(this.value)}static load(r){const e=r.deserializeU64();return new vo(e)}},Eo=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),r.serializeU128(this.value)}static load(r){const e=r.deserializeU128();return new Eo(e)}},So=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(8),r.serializeU256(this.value)}static load(r){const e=r.deserializeU256();return new So(e)}},_o=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=Wt.deserialize(r);return new _o(e)}},Ao=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(4),r.serializeBytes(this.value)}static load(r){const e=r.deserializeBytes();return new Ao(e)}},To=class extends vn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(5),r.serializeBool(this.value)}static load(r){const e=r.deserializeBool();return new To(e)}},r0=class{getHashSalt(){const r=Zi.create();return r.update("APTOS::Transaction"),r.digest()}static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return tu.load(r);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},tu=class extends r0{constructor(r){super(),this.value=r}hash(){const r=Zi.create();return r.update(this.getHashSalt()),r.update(jn(this)),r.digest()}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){return new tu(na.deserialize(r))}},sa=class{constructor(r){this.name=r}serialize(r){r.serializeStr(this.name)}static deserialize(r){const e=r.deserializeStr();return new sa(e)}},aa=class{constructor(r,e){this.name=r,this.type_tag=e}serialize(r){r.serializeStr(this.name),this.type_tag.serialize(r)}static deserialize(r){const e=r.deserializeStr(),t=mr.deserialize(r);return new aa(e,t)}},Po=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Ro.load(r);case 1:return as.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Ro=class extends Po{constructor(r,e,t,n,i){super(),this.name=r,this.doc=e,this.code=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(0),r.serializeStr(this.name),r.serializeStr(this.doc),r.serializeBytes(this.code),jr(this.ty_args,r),jr(this.args,r)}static load(r){const e=r.deserializeStr(),t=r.deserializeStr(),n=r.deserializeBytes(),i=sn(r,sa),s=sn(r,aa);return new Ro(e,t,n,i,s)}},as=class extends Po{constructor(r,e,t,n,i){super(),this.name=r,this.module_name=e,this.doc=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(1),r.serializeStr(this.name),this.module_name.serialize(r),r.serializeStr(this.doc),jr(this.ty_args,r),jr(this.args,r)}static load(r){const e=r.deserializeStr(),t=Ii.deserialize(r),n=r.deserializeStr(),i=sn(r,sa),s=sn(r,aa);return new as(e,t,n,i,s)}},os=class{constructor(r){if(r.length!==os.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=r}static fromMultiEd25519PublicKey(r){const e=r.toBytes(),t=new Uint8Array(e.length+1);t.set(e),t.set([os.MULTI_ED25519_SCHEME],e.length);const n=Zi.create();return n.update(t),new os(n.digest())}static fromEd25519PublicKey(r){const e=r.value,t=new Uint8Array(e.length+1);t.set(e),t.set([os.ED25519_SCHEME],e.length);const n=Zi.create();return n.update(t),new os(n.digest())}derivedAddress(){return He.fromUint8Array(this.bytes)}},Bi=os;Bi.LENGTH=32,Bi.MULTI_ED25519_SCHEME=1,Bi.ED25519_SCHEME=0,Bi.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var hy=class{constructor(r,e,t,n,i,s,a){this.accountAddress=r,this.moduleName=e,this.structName=t,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(r){this.accountAddress.serialize(r),r.serializeStr(this.moduleName),r.serializeStr(this.structName),r.serializeU64(this.sequenceNumber),this.originator.serialize(r),this.currentAuthKey.serialize(r),r.serializeBytes(this.newPublicKey)}},Co=class{static fromAptosAccountObject(r){return new Co(He.ensure(r.privateKeyHex).toUint8Array(),r.address)}static isValidPath(r){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(r)}static fromDerivePath(r,e){if(!Co.isValidPath(r))throw new Error("Invalid derivation path");const t=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:n}=zp(r,(0,qn.bytesToHex)(Tp.Z1(t)));return new Co(n)}constructor(r,e){r?this.signingKey=ro.sign.keyPair.fromSeed(r.slice(0,32)):this.signingKey=ro.sign.keyPair(),this.accountAddress=He.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const r=new on(this.signingKey.publicKey);return Bi.fromEd25519PublicKey(r).derivedAddress()}static getResourceAccountAddress(r,e){const t=jn(Wt.fromHex(r)),n=new Uint8Array([...t,...e,Bi.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Zi.create();return i.update(n),He.fromUint8Array(i.digest())}pubKey(){return He.fromUint8Array(this.signingKey.publicKey)}signBuffer(r){const e=ro.sign.detached(r,this.signingKey.secretKey);return He.fromUint8Array(e)}signHexString(r){const e=He.ensure(r).toUint8Array();return this.signBuffer(e)}verifySignature(r,e){const t=He.ensure(r).toUint8Array(),n=He.ensure(e).toUint8Array();return ro.sign.detached.verify(t,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:He.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},ko=Co;Ct([so()],ko.prototype,"authKey",1);function n0(r){return r instanceof ko?r.address():He.ensure(r)}var xy=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,py=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,yy=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,gy=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${xy}
${py}`,by=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,my=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,wy=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,vy=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,Ey=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,Sy=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,_y=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,Ay=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,Ty=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,Py=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,Ry=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,Cy=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,Bn=class{constructor(r){this.endpoint=r}static validateAddress(r){if(r.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(r){const{data:e}=await Zs.post(this.endpoint,r);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const r={query:Sy};return this.queryIndexer(r)}async getAccountNFTs(r,e){const t=He.ensure(r).hex();Bn.validateAddress(t);const n={query:gy,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(r,e){const t={query:_y,variables:{idHash:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getAccountCoinsData(r,e){const t=He.ensure(r).hex();Bn.validateAddress(t);const n={query:yy,variables:{owner_address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(r){const e=He.ensure(r).hex();Bn.validateAddress(e);const t={query:by,variables:{owner_address:e}};return this.queryIndexer(t)}async getAccountTransactionsCount(r){const e=He.ensure(r).hex();Bn.validateAddress(e);const t={query:my,variables:{address:e}};return this.queryIndexer(t)}async getAccountTransactionsData(r,e){const t=He.ensure(r).hex();Bn.validateAddress(t);const n={query:wy,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(r,e){const t=He.ensure(r).hex(),n=He.ensure(e).hex();Bn.validateAddress(t),Bn.validateAddress(n);const i={query:Ey,variables:{delegatorAddress:t,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(r){const e={query:Ay,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenData(r){const e={query:Ty,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenOwnersData(r,e){const t={query:Py,variables:{token_id:r,property_version:e}};return this.queryIndexer(t)}async getTopUserTransactions(r){const e={query:Ry,variables:{limit:r}};return this.queryIndexer(e)}async getUserTransactions(r,e){const t={query:Cy,variables:{start_version:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getCurrentDelegatorBalancesCount(r){const e=He.ensure(r).hex();Bn.validateAddress(e);const t={query:vy,variables:{poolAddress:e}};return this.queryIndexer(t)}},ky={};io(ky,{$AccountData:()=>jy,$AccountSignature:()=>Gy,$AccountSignature_Ed25519Signature:()=>Wy,$AccountSignature_MultiEd25519Signature:()=>Vy,$Address:()=>Jy,$AptosError:()=>Xy,$AptosErrorCode:()=>Zy,$Block:()=>Yy,$BlockMetadataTransaction:()=>Qy,$DecodedTableData:()=>eg,$DeleteModule:()=>rg,$DeleteResource:()=>ng,$DeleteTableItem:()=>ig,$DeletedTableData:()=>tg,$DirectWriteSet:()=>sg,$Ed25519Signature:()=>ag,$EncodeSubmissionRequest:()=>og,$EntryFunctionId:()=>cg,$EntryFunctionPayload:()=>ug,$Event:()=>fg,$EventGuid:()=>dg,$GasEstimation:()=>lg,$GenesisPayload:()=>hg,$GenesisPayload_WriteSetPayload:()=>xg,$GenesisTransaction:()=>pg,$HashValue:()=>yg,$HealthCheckSuccess:()=>gg,$HexEncodedBytes:()=>bg,$IdentifierWrapper:()=>mg,$IndexResponse:()=>wg,$ModuleBundlePayload:()=>vg,$MoveAbility:()=>Eg,$MoveFunction:()=>Sg,$MoveFunctionGenericTypeParam:()=>_g,$MoveFunctionVisibility:()=>Ag,$MoveModule:()=>Tg,$MoveModuleBytecode:()=>Pg,$MoveModuleId:()=>Rg,$MoveResource:()=>Cg,$MoveScriptBytecode:()=>kg,$MoveStruct:()=>Ig,$MoveStructField:()=>Bg,$MoveStructGenericTypeParam:()=>Ug,$MoveStructTag:()=>Og,$MoveStructValue:()=>Ng,$MoveType:()=>Mg,$MoveValue:()=>Dg,$MultiAgentSignature:()=>Fg,$MultiEd25519Signature:()=>Lg,$MultisigPayload:()=>Hg,$MultisigTransactionPayload:()=>Kg,$PendingTransaction:()=>zg,$RawTableItemRequest:()=>$g,$RoleType:()=>qg,$ScriptPayload:()=>jg,$ScriptWriteSet:()=>Gg,$StateCheckpointTransaction:()=>Wg,$StateKeyWrapper:()=>Vg,$SubmitTransactionRequest:()=>Jg,$TableItemRequest:()=>Xg,$Transaction:()=>Zg,$TransactionPayload:()=>nb,$TransactionPayload_EntryFunctionPayload:()=>ib,$TransactionPayload_ModuleBundlePayload:()=>sb,$TransactionPayload_MultisigPayload:()=>ab,$TransactionPayload_ScriptPayload:()=>ob,$TransactionSignature:()=>fb,$TransactionSignature_Ed25519Signature:()=>db,$TransactionSignature_MultiAgentSignature:()=>lb,$TransactionSignature_MultiEd25519Signature:()=>hb,$Transaction_BlockMetadataTransaction:()=>Yg,$Transaction_GenesisTransaction:()=>Qg,$Transaction_PendingTransaction:()=>eb,$Transaction_StateCheckpointTransaction:()=>tb,$Transaction_UserTransaction:()=>rb,$TransactionsBatchSingleSubmissionFailure:()=>cb,$TransactionsBatchSubmissionResult:()=>ub,$U128:()=>xb,$U256:()=>pb,$U64:()=>yb,$UserTransaction:()=>gb,$VersionedEvent:()=>bb,$ViewRequest:()=>mb,$WriteModule:()=>wb,$WriteResource:()=>vb,$WriteSet:()=>Eb,$WriteSetChange:()=>Ab,$WriteSetChange_DeleteModule:()=>Tb,$WriteSetChange_DeleteResource:()=>Pb,$WriteSetChange_DeleteTableItem:()=>Rb,$WriteSetChange_WriteModule:()=>Cb,$WriteSetChange_WriteResource:()=>kb,$WriteSetChange_WriteTableItem:()=>Ib,$WriteSetPayload:()=>Bb,$WriteSet_DirectWriteSet:()=>Sb,$WriteSet_ScriptWriteSet:()=>_b,$WriteTableItem:()=>Ub,AccountsService:()=>d0,ApiError:()=>oa,AptosErrorCode:()=>m0,AptosGeneratedClient:()=>b0,BaseHttpRequest:()=>i0,BlocksService:()=>l0,CancelError:()=>s0,CancelablePromise:()=>a0,EventsService:()=>h0,GeneralService:()=>x0,MoveFunctionVisibility:()=>w0,OpenAPI:()=>qy,RoleType:()=>v0,TablesService:()=>p0,TransactionsService:()=>y0,ViewService:()=>g0});var i0=class{constructor(r){this.config=r}},oa=class extends Error{constructor(r,e,t){super(t),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=r}},s0=class extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}},a0=class{constructor(r){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},i=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},s=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),r(n,i,s)})}then(r,e){return this._promise.then(r,e)}catch(r){return this._promise.catch(r)}finally(r){return this._promise.finally(r)}cancel(){var r;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(r=this._reject)==null||r.call(this,new s0("Request aborted"))}}get isCancelled(){return this._isCancelled}},o0=class{constructor(r=new Map){this.jar=r}setCookie(r,e){var t;const n=r.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=o0.parse(e);this.jar.set(n,[...((t=this.jar.get(n))==null?void 0:t.filter(s=>s.name!==i.name))||[],i])}getCookies(r){var e;const t=r.origin.toLowerCase();return this.jar.get(t)?((e=this.jar.get(t))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(r){if(typeof r!="string")throw new Error("argument str must be a string");const e=r.split(";").map(n=>n.trim());let t;if(e.length>0){const[n,i]=e[0].split("=");if(!n||!i)throw new Error("Invalid cookie");t={name:n,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[i,s]=n.split("=");if(!i.trim())throw new Error("Invalid cookie");const a=i.toLowerCase(),o=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(a==="expires"&&(t.expires=new Date(o)),a==="path"&&(t.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");t.sameSite=o}a==="secure"&&(t.secure=!0)}),t}},c0=new o0;Zs.interceptors.response.use(r=>(Array.isArray(r.headers["set-cookie"])&&r.headers["set-cookie"].forEach(e=>{c0.setCookie(new URL(r.config.url),e)}),r)),Zs.interceptors.request.use(function(r){const e=c0.getCookies(new URL(r.url));return(e==null?void 0:e.length)>0&&r.headers&&(r.headers.cookie=e.map(t=>`${t.name}=${t.value}`).join("; ")),r});var ru=r=>r!=null,Io=r=>typeof r=="string",nu=r=>Io(r)&&r!=="",u0=r=>typeof r=="object"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.arrayBuffer=="function"&&typeof r.constructor=="function"&&typeof r.constructor.name=="string"&&/^(Blob|File)$/.test(r.constructor.name)&&/^(Blob|File)$/.test(r[Symbol.toStringTag]),Iy=r=>r instanceof Hd,By=r=>r>=200&&r<300,Uy=r=>btoa(r),Oy=r=>{const e=[],t=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{ru(s)&&(Array.isArray(s)?s.forEach(a=>{n(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,o])=>{n(`${i}[${a}]`,o)}):t(i,s))};return Object.entries(r).forEach(([i,s])=>{n(i,s)}),e.length>0?`?${e.join("&")}`:""},Ny=(r,e)=>{const t=r.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",r.VERSION).replace(/{(.*?)}/g,(s,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?t(String(e.path[a])):s}),i=`${r.BASE}${n}`;return e.query?`${i}${Oy(e.query)}`:i},My=r=>{if(r.formData){const e=new Hd,t=(n,i)=>{Io(i)||u0(i)?e.append(n,i):e.append(n,JSON.stringify(i))};return Object.entries(r.formData).filter(([n,i])=>ru(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>t(n,s)):t(n,i)}),e}},Bo=async(r,e)=>typeof e=="function"?e(r):e,Dy=async(r,e,t)=>{const n=await Bo(e,r.TOKEN),i=await Bo(e,r.USERNAME),s=await Bo(e,r.PASSWORD),a=await Bo(e,r.HEADERS),o=typeof(t==null?void 0:t.getHeaders)=="function"&&(t==null?void 0:t.getHeaders())||{},f=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([y,E])=>ru(E)).reduce((y,[E,A])=>({...y,[E]:String(A)}),{});if(nu(n)&&(f.Authorization=`Bearer ${n}`),nu(i)&&nu(s)){const y=Uy(`${i}:${s}`);f.Authorization=`Basic ${y}`}return e.body&&(e.mediaType?f["Content-Type"]=e.mediaType:u0(e.body)?f["Content-Type"]=e.body.type||"application/octet-stream":Io(e.body)?f["Content-Type"]="text/plain":Iy(e.body)||(f["Content-Type"]="application/json")),f},Fy=r=>{if(r.body)return r.body},Ly=async(r,e,t,n,i,s,a)=>{const o=Zs.CancelToken.source(),f={url:t,headers:s,data:n??i,method:e.method,withCredentials:r.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(r.HEADERS||{}).filter(E=>E.toLowerCase()==="accept").map(E=>r.HEADERS[E]).includes("application/x-bcs")&&(f.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await Zs.request(f)}catch(E){const A=E;if(A.response)return A.response;throw E}},Hy=(r,e)=>{if(e){const t=r.headers[e];if(Io(t))return t}},Ky=r=>{if(r.status!==204)return r.data},zy=(r,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...r.errors}[e.status];if(n)throw new oa(r,e,n);if(!e.ok)throw new oa(r,e,"Generic Error")},$y=(r,e)=>new a0(async(t,n,i)=>{try{const s=Ny(r,e),a=My(e),o=Fy(e),f=await Dy(r,e,a);if(!i.isCancelled){const y=await Ly(r,e,s,o,a,f,i),E=Ky(y),A=Hy(y,e.responseHeader),F={url:s,ok:By(y.status),status:y.status,statusText:y.statusText,body:A??E};zy(e,F);const G=F.body;try{G.__headers=y.headers}catch{}t(G)}}catch(s){n(s)}}),f0=class extends i0{constructor(r){super(r)}request(r){return $y(this.config,r)}},d0=class{constructor(r){this.httpRequest=r}getAccount(r,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:r},query:{ledger_version:e}})}getAccountResources(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountModules(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountResource(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:r,resource_type:e},query:{ledger_version:t}})}getAccountModule(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:r,module_name:e},query:{ledger_version:t}})}},l0=class{constructor(r){this.httpRequest=r}getBlockByHeight(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:r},query:{with_transactions:e}})}getBlockByVersion(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:r},query:{with_transactions:e}})}},h0=class{constructor(r){this.httpRequest=r}getEventsByCreationNumber(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:r,creation_number:e},query:{start:t,limit:n}})}getEventsByEventHandle(r,e,t,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:r,event_handle:e,field_name:t},query:{start:n,limit:i}})}},x0=class{constructor(r){this.httpRequest=r}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(r){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:r}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},p0=class{constructor(r){this.httpRequest=r}getTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}getRawTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}},y0=class{constructor(r){this.httpRequest=r}getTransactions(r,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:r,limit:e}})}submitTransaction(r){return this.httpRequest.request({method:"POST",url:"/transactions",body:r,mediaType:"application/json"})}getTransactionByHash(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:r}})}getTransactionByVersion(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:r}})}getAccountTransactions(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:r},query:{start:e,limit:t}})}submitBatchTransactions(r){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:r,mediaType:"application/json"})}simulateTransaction(r,e,t,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:t,estimate_prioritized_gas_unit_price:n},body:r,mediaType:"application/json"})}encodeSubmission(r){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:r,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},g0=class{constructor(r){this.httpRequest=r}view(r,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:r,mediaType:"application/json"})}},b0=class{constructor(r,e=f0){var t,n,i,s;this.request=new e({BASE:(t=r==null?void 0:r.BASE)!=null?t:"/v1",VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(i=r==null?void 0:r.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=r==null?void 0:r.CREDENTIALS)!=null?s:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH}),this.accounts=new d0(this.request),this.blocks=new l0(this.request),this.events=new h0(this.request),this.general=new x0(this.request),this.tables=new p0(this.request),this.transactions=new y0(this.request),this.view=new g0(this.request)}},qy={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},m0=(r=>(r.ACCOUNT_NOT_FOUND="account_not_found",r.RESOURCE_NOT_FOUND="resource_not_found",r.MODULE_NOT_FOUND="module_not_found",r.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",r.VERSION_NOT_FOUND="version_not_found",r.TRANSACTION_NOT_FOUND="transaction_not_found",r.TABLE_ITEM_NOT_FOUND="table_item_not_found",r.BLOCK_NOT_FOUND="block_not_found",r.VERSION_PRUNED="version_pruned",r.BLOCK_PRUNED="block_pruned",r.INVALID_INPUT="invalid_input",r.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",r.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",r.VM_ERROR="vm_error",r.HEALTH_CHECK_FAILED="health_check_failed",r.MEMPOOL_IS_FULL="mempool_is_full",r.INTERNAL_ERROR="internal_error",r.WEB_FRAMEWORK_ERROR="web_framework_error",r.BCS_NOT_SUPPORTED="bcs_not_supported",r.API_DISABLED="api_disabled",r))(m0||{}),w0=(r=>(r.PRIVATE="private",r.PUBLIC="public",r.FRIEND="friend",r))(w0||{}),v0=(r=>(r.VALIDATOR="validator",r.FULL_NODE="full_node",r))(v0||{}),jy={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Gy={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Wy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Vy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Jy={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},Xy={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},Zy={type:"Enum"},Yy={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},Qy={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},eg={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},tg={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},rg={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},ng={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},ig={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},sg={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},ag={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},og={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},cg={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},ug={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},fg={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},dg={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},lg={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},hg={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},xg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},pg={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},yg={type:"string"},gg={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},bg={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},mg={type:"string"},wg={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},vg={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Eg={type:"string"},Sg={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},_g={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Ag={type:"Enum"},Tg={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},Pg={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},Rg={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},Cg={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},kg={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Ig={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Bg={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},Ug={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Og={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},Ng={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},Mg={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},Dg={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},Fg={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},Lg={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},Hg={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},Kg={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},zg={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},$g={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},qg={type:"Enum"},jg={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Gg={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Wg={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Vg={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Jg={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Xg={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Zg={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Yg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},Qg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},eb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},tb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},rb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},nb={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},ib={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},sb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},ab={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},ob={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},cb={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},ub={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},fb={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},db={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},lb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},hb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},xb={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},pb={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},yb={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},gb={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},bb={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},mb={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},wb={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},vb={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Eb={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},Sb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},_b={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},Ab={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},Tb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},Pb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},Rb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},Cb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},kb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},Ib={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},Bb={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},Ub={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function Uo(r,e,t){if(!(e!=null&&e.includes(typeof r)))throw new Error(t||`Invalid arg: ${r} type should be ${e instanceof Array?e.join(" or "):e}`)}function E0(r){if(Uo(r,["boolean","string"]),typeof r=="boolean")return r;if(r==="true")return!0;if(r==="false")return!1;throw new Error("Invalid boolean string.")}function cs(r){if(Uo(r,["number","string"]),typeof r=="number")return r;const e=Number.parseInt(r,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function us(r){return Uo(r,["number","bigint","string"]),BigInt(r)}function Oo(r,e,t){if(e instanceof Ai){t.serializeBool(E0(r));return}if(e instanceof Gn){t.serializeU8(cs(r));return}if(e instanceof es){t.serializeU16(cs(r));return}if(e instanceof ts){t.serializeU32(cs(r));return}if(e instanceof Ti){t.serializeU64(us(r));return}if(e instanceof Pi){t.serializeU128(us(r));return}if(e instanceof rs){t.serializeU256(us(r));return}if(e instanceof hi){let n;if(typeof r=="string"||r instanceof He)n=Wt.fromHex(r);else if(r instanceof Wt)n=r;else throw new Error("Invalid account address.");n.serialize(t);return}if(e instanceof ns){if(e.value instanceof Gn){if(r instanceof Uint8Array){t.serializeBytes(r);return}if(typeof r=="string"){t.serializeStr(r);return}}if(!Array.isArray(r))throw new Error("Invalid vector args.");t.serializeU32AsUleb128(r.length),r.forEach(n=>Oo(n,e.value,t));return}if(e instanceof Ri){const{address:n,module_name:i,name:s}=e.value;if(`${He.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Uo(r,["string"]),t.serializeStr(r);return}throw new Error("Unsupported arg type.")}function Ob(r,e){if(e instanceof Ai)return new To(E0(r));if(e instanceof Gn)return new bo(cs(r));if(e instanceof es)return new mo(cs(r));if(e instanceof ts)return new wo(cs(r));if(e instanceof Ti)return new vo(us(r));if(e instanceof Pi)return new Eo(us(r));if(e instanceof rs)return new So(us(r));if(e instanceof hi){let t;if(typeof r=="string"||r instanceof He)t=Wt.fromHex(r);else if(r instanceof Wt)t=r;else throw new Error("Invalid account address.");return new _o(t)}if(e instanceof ns&&e.value instanceof Gn){if(!(r instanceof Uint8Array))throw new Error(`${r} should be an instance of Uint8Array`);return new Ao(r)}throw new Error("Unknown type for TransactionArgument.")}var Nb="APTOS::RawTransaction",Mb="APTOS::RawTransactionWithData",fs=class{constructor(r,e){this.rawTxnBuilder=e,this.signingFunction=r}build(r,e,t){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(r,e,t)}static getSigningMessage(r){const e=Zi.create();if(r instanceof ss)e.update(Nb);else if(r instanceof xo)e.update(Mb);else throw new Error("Unknown transaction type.");const t=e.digest(),n=jn(r),i=new Uint8Array(t.length+n.length);return i.set(t),i.set(n,t.length),i}},No=class extends fs{constructor(r,e,t){super(r,t),this.publicKey=e}rawToSigned(r){const e=fs.getSigningMessage(r),t=this.signingFunction(e),n=new fo(new on(this.publicKey),t);return new na(r,n)}sign(r){return jn(this.rawToSigned(r))}},Db=class extends fs{constructor(r,e){super(r),this.publicKey=e}rawToSigned(r){const e=fs.getSigningMessage(r),t=this.signingFunction(e),n=new lo(this.publicKey,t);return new na(r,n)}sign(r){return jn(this.rawToSigned(r))}},iu=class{constructor(r,e){this.abiMap=new Map,r.forEach(t=>{const n=new jc(t),i=Po.deserialize(n);let s;if(i instanceof as){const a=i,{address:o,name:f}=a.module_name;s=`${He.fromUint8Array(o.address).toShortString()}::${f.value}::${a.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(qd),expSecFromNow:jd,...e}}static toBCSArgs(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>{const i=new Gt;return Oo(t,r[n].type_tag,i),i.getBytes()})}static toTransactionArguments(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>Ob(t,r[n].type_tag))}setSequenceNumber(r){this.builderConfig.sequenceNumber=BigInt(r)}buildTransactionPayload(r,e,t){const n=e.map(a=>new is(a).parseTypeTag());let i;if(!this.abiMap.has(r))throw new Error(`Cannot find function: ${r}`);const s=this.abiMap.get(r);if(s instanceof as){const a=s,o=iu.toBCSArgs(a.args,t);i=new yo(new ki(a.module_name,new Cr(a.name),n,o))}else if(s instanceof Ro){const a=s,o=iu.toTransactionArguments(a.args,t);i=new po(new ho(a.code,n,o))}else throw new Error("Unknown ABI format.");return i}build(r,e,t){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:f}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const y=n instanceof Wt?n:Wt.fromHex(n),E=BigInt(Math.floor(Date.now()/1e3)+Number(o)),A=this.buildTransactionPayload(r,e,t);if(A)return new ss(y,BigInt(i),A,BigInt(a),BigInt(s),E,new go(Number(f)));throw new Error("Invalid ABI.")}},xr=class{constructor(r,e){this.aptosClient=r,this.builderConfig=e}async fetchABI(r){const t=(await this.aptosClient.getAccountModules(r)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return t.forEach(i=>{n.set(i.fullName,i)}),n}async build(r,e,t){if(r=(Et=>Et.replace(/^0[xX]0*/g,"0x"))(r),r.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,a]=r.split("::"),o=await this.fetchABI(s);if(!o.has(r))throw new Error(`${r} doesn't exist.`);const f=o.get(r),E=f.params.filter(Et=>Et!=="signer"&&Et!=="&signer").map((Et,Vt)=>new aa(`var${Vt}`,new is(Et,e).parseTypeTag())),A=new as(f.name,Ii.fromStr(`${s}::${a}`),"",f.generic_type_params.map((Et,Vt)=>new sa(`${Vt}`)),E),{sender:F,...G}=this.builderConfig,q=F instanceof Wt?He.fromUint8Array(F.address):F,[{sequence_number:Q},le,{gas_estimate:Be}]=await Promise.all([G!=null&&G.sequenceNumber?Promise.resolve({sequence_number:G==null?void 0:G.sequenceNumber}):this.aptosClient.getAccount(q),G!=null&&G.chainId?Promise.resolve(G==null?void 0:G.chainId):this.aptosClient.getChainId(),G!=null&&G.gasUnitPrice?Promise.resolve({gas_estimate:G==null?void 0:G.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new iu([jn(A)],{sender:F,sequenceNumber:Q,chainId:le,gasUnitPrice:BigInt(Be),...G}).build(r,e,t)}};Ct([jp(10*60*1e3)],xr.prototype,"fetchABI",1);var ca=class{constructor(r,e,t=!1){if(!r)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};t?this.nodeUrl=r:this.nodeUrl=qp(r),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new b0(n)}async getAccount(r){return this.client.accounts.getAccount(He.ensure(r).hex())}async getAccountTransactions(r,e){var t;return this.client.transactions.getAccountTransactions(He.ensure(r).hex(),(t=e==null?void 0:e.start)==null?void 0:t.toString(),e==null?void 0:e.limit)}async getAccountModules(r,e){const t=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Vd(t,r,1e3,e)}async getAccountModule(r,e,t){var n;return this.client.accounts.getAccountModule(He.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(r,e){const t=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Vd(t,r,9999,e)}async getAccountResource(r,e,t){var n;return this.client.accounts.getAccountResource(He.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(r,e){return new No(n=>{const i=r.signBuffer(n);return new kt.Ed25519Signature(i.toUint8Array())},r.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(r,e){return new No(n=>{const i=new Uint8Array(64);return new kt.Ed25519Signature(i)},r.pubKey().toUint8Array()).sign(e)}async generateTransaction(r,e,t){const n={sender:r};if(t!=null&&t.sequence_number&&(n.sequenceNumber=t.sequence_number),t!=null&&t.gas_unit_price&&(n.gasUnitPrice=t.gas_unit_price),t!=null&&t.max_gas_amount&&(n.maxGasAmount=t.max_gas_amount),t!=null&&t.expiration_timestamp_secs){const s=Number.parseInt(t.expiration_timestamp_secs,10);n.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new xr(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(r,e){return Promise.resolve(ca.generateBCSTransaction(r,e))}async getEventsByCreationNumber(r,e,t){var n;return this.client.events.getEventsByCreationNumber(He.ensure(r).hex(),e.toString(),(n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getEventsByEventHandle(r,e,t,n){var i;return this.client.events.getEventsByEventHandle(He.ensure(r).hex(),e,t,(i=n==null?void 0:n.start)==null?void 0:i.toString(),n==null?void 0:n.limit)}async submitTransaction(r){return this.submitSignedBCSTransaction(r)}async simulateTransaction(r,e,t){let n;return r instanceof ko?n=ca.generateBCSSimulation(r,e):r instanceof Qs?n=new Db(()=>{const{threshold:s}=r,a=[],o=[];for(let y=0;y<s;y+=1)a.push(y),o.push(new kt.Ed25519Signature(new Uint8Array(64)));const f=kt.MultiEd25519Signature.createBitmap(a);return new kt.MultiEd25519Signature(o,f)},r).sign(e):n=new No(()=>{const s=new Uint8Array(64);return new kt.Ed25519Signature(s)},r.toBytes()).sign(e),this.submitBCSSimulation(n,t)}async submitSignedBCSTransaction(r){return this.client.request.request({url:"/transactions",method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(r,e){var t,n,i;const s={estimate_gas_unit_price:(t=e==null?void 0:e.estimateGasUnitPrice)!=null?t:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(r){var e;return this.client.transactions.getTransactions((e=r==null?void 0:r.start)==null?void 0:e.toString(),r==null?void 0:r.limit)}async getTransactionByHash(r){return this.client.transactions.getTransactionByHash(r)}async getTransactionByVersion(r){return this.client.transactions.getTransactionByVersion(r.toString())}async transactionPending(r){try{return(await this.client.transactions.getTransactionByHash(r)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(r,e){var t,n;const i=(t=e==null?void 0:e.timeoutSecs)!=null?t:Gd,s=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,f;for(;a&&!(o>=i);){try{if(f=await this.client.transactions.getTransactionByHash(r),a=f.type==="pending_transaction",!a)break}catch(y){const E=y instanceof oa,A=E&&y.status!==404&&y.status>=400&&y.status<500;if(!E||A)throw y}await $p(1e3),o+=1}if(f===void 0)throw new Error(`Waiting for transaction ${r} failed`);if(a)throw new Lb(`Waiting for transaction ${r} timed out after ${i} seconds`,f);if(!s)return f;if(!(f!=null&&f.success))throw new Hb(`Transaction ${r} committed to the blockchain but execution failed`,f);return f}async waitForTransaction(r,e){await this.waitForTransactionWithResult(r,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(r,e,t){var n;return await this.client.tables.getTableItem(r,e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(r,e,t){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(r),this.getChainId(),t!=null&&t.gasUnitPrice?Promise.resolve({gas_estimate:t.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:f}={maxGasAmount:BigInt(qd),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+jd),...t};return new kt.RawTransaction(kt.AccountAddress.fromHex(r),BigInt(n),e,a,o,f,new kt.ChainId(i))}async generateSignSubmitTransaction(r,e,t){const n=await this.generateRawTransaction(r.address(),e,t),i=ca.generateBCSTransaction(r,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(r,e,t,n){const i=new Gt;jr(t,i);const s=new kt.TransactionPayloadEntryFunction(kt.EntryFunction.natural("0x1::code","publish_package_txn",[],[Qi(e),i.getBytes()]));return this.generateSignSubmitTransaction(r,s,n)}async generateSignSubmitWaitForTransaction(r,e,t){const n=await this.generateSignSubmitTransaction(r,e,t);return this.waitForTransactionWithResult(n,t)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(r){const e=`0x1::coin::CoinStore<${qc}>`,[{gas_estimate:t},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(r)]),i=n.find(a=>a.type===e);return BigInt(i.data.coin.value)/BigInt(t)}async rotateAuthKeyEd25519(r,e,t){const{sequence_number:n,authentication_key:i}=await this.getAccount(r.address()),s=new ko(e),a=new kt.RotationProofChallenge(kt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),kt.AccountAddress.fromHex(r.address()),new kt.AccountAddress(new He(i).toUint8Array()),s.pubKey().toUint8Array()),o=He.fromUint8Array(jn(a)),f=r.signHexString(o),y=s.signHexString(o),E=new kt.TransactionPayloadEntryFunction(kt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Gc(0),Qi(r.pubKey().toUint8Array()),Gc(0),Qi(s.pubKey().toUint8Array()),Qi(f.toUint8Array()),Qi(y.toUint8Array())])),A=await this.generateRawTransaction(r.address(),E,t),F=ca.generateBCSTransaction(r,A);return this.submitSignedBCSTransaction(F)}async lookupOriginalAddress(r){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:t}}=e.data,n=await this.getTableItem(t,{key_type:"address",value_type:"address",key:He.ensure(r).hex()});return new He(n)}async getBlockByHeight(r,e){return this.client.blocks.getBlockByHeight(r,e)}async getBlockByVersion(r,e){return this.client.blocks.getBlockByVersion(r,e)}async view(r,e){return this.client.view.view(r,e)}clearCache(r){Gp(r)}},yt=ca;Ct([ar],yt.prototype,"getAccount",1),Ct([ar],yt.prototype,"getAccountTransactions",1),Ct([ar],yt.prototype,"getAccountModules",1),Ct([ar],yt.prototype,"getAccountModule",1),Ct([ar],yt.prototype,"getAccountResources",1),Ct([ar],yt.prototype,"getAccountResource",1),Ct([ar],yt.prototype,"getEventsByCreationNumber",1),Ct([ar],yt.prototype,"getEventsByEventHandle",1),Ct([ar],yt.prototype,"submitSignedBCSTransaction",1),Ct([ar],yt.prototype,"submitBCSSimulation",1),Ct([ar],yt.prototype,"getTransactions",1),Ct([ar],yt.prototype,"getTransactionByHash",1),Ct([ar],yt.prototype,"getTransactionByVersion",1),Ct([ar],yt.prototype,"getLedgerInfo",1),Ct([so()],yt.prototype,"getChainId",1),Ct([ar],yt.prototype,"getTableItem",1),Ct([ar,so({ttlMs:5*60*1e3,tags:["gas_estimates"]})],yt.prototype,"estimateGasPrice",1),Ct([ar],yt.prototype,"estimateMaxGasAmount",1),Ct([ar],yt.prototype,"getBlockByHeight",1),Ct([ar],yt.prototype,"getBlockByVersion",1),Ct([ar],yt.prototype,"view",1);var Fb=class extends Error{constructor(r,e,t,n){super(e),this.status=r,this.message=e,this.errorCode=t,this.vmErrorCode=n}},Lb=class extends Error{constructor(r,e){super(r),this.lastSubmittedTransaction=e}},Hb=class extends Error{constructor(r,e){super(r),this.transaction=e}};function ar(r,e,t){const n=t.value;return t.value=async function(...s){var a,o;try{return await n.apply(this,[...s])}catch(f){throw f instanceof oa?new Fb(f.status,JSON.stringify({message:f.message,...f.body}),(a=f.body)==null?void 0:a.error_code,(o=f.body)==null?void 0:o.vm_error_code):f}},t}var S0=class{constructor(r,e,t=!1){let n=null,i=null;if(typeof r=="object"&&Kb(r)?(n=r.fullnodeUrl,i=r.indexerUrl,this.network="CUSTOM"):(n=Vp[r],i=Wp[r],this.network=r),!n||!i)throw new Error("network is not provided");this.aptosClient=new yt(n,e,t),this.indexerClient=new Bn(i)}};function _0(r,e,t){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...s){return this[t][n](...s)},Object.defineProperty(r.prototype,n,i))})}_0(S0,yt,"aptosClient"),_0(S0,Bn,"indexerClient");function Kb(r){return r.fullnodeUrl!==void 0&&typeof r.fullnodeUrl=="string"&&r.indexerUrl!==void 0&&typeof r.indexerUrl=="string"}var A0=class{constructor(r,e){this.type=r,this.value=e}},su=class{constructor(){this.data={}}setProperty(r,e){this.data[r]=e}};function au(r){let e;return r==="string"||r==="String"?e=new Ri(Xd):e=new is(r).parseTypeTag(),e}function ou(r,e){if(r.length!==e.length)throw new Error("Length of property values and types not match");const t=new Array;return e.forEach((n,i)=>{try{const s=au(n),a=new Gt;Oo(r[i],s,a),t.push(a.getBytes())}catch{t.push(new TextEncoder().encode(r[i]))}}),t}function T0(r,e){if(!r||!e)throw new Error("value or type can not be empty");try{const t=au(e),n=new Gt;return Oo(r,t,n),n.getBytes()}catch{return new TextEncoder().encode(r)}}function P0(r){const e=r.map.data,t=new su;return e.forEach(n=>{const{key:i}=n,s=n.value.value,a=n.value.type,o=au(a),f=zb(o,s),y=new A0(a,f);t.setProperty(i,y)}),t}function zb(r,e){const t=new jc(new He(e).toUint8Array());let n="";return r instanceof Gn?n=t.deserializeU8().toString():r instanceof Ti?n=t.deserializeU64().toString():r instanceof Pi?n=t.deserializeU128().toString():r instanceof Ai?n=t.deserializeBool()?"true":"false":r instanceof hi?n=He.fromUint8Array(t.deserializeFixedBytes(32)).hex():r instanceof Ri&&r.isStringTypeTag()?n=t.deserializeStr():n=e,n}var $b={};io($b,{PropertyMap:()=>su,PropertyValue:()=>A0,Token:()=>C0,TokenData:()=>R0});var R0=class{constructor(r,e,t,n,i,s,a,o){this.collection=r,this.description=e,this.name=t,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=P0(a),this.mutability_config=o}},C0=class{constructor(r,e,t){this.id=r,this.amount=e,this.token_properties=P0(t)}},pm=class{constructor(r){this.aptosClient=r}async createCollection(r,e,t,n,i=Yi,s){const o=await new xr(this.aptosClient,{sender:r.address(),...s}).build("0x3::token::create_collection_script",[],[e,t,n,i,[!1,!1,!1]]),f=yt.generateBCSTransaction(r,o);return(await this.aptosClient.submitSignedBCSTransaction(f)).hash}async createToken(r,e,t,n,i,s,a=Yi,o=r.address(),f=0,y=0,E=[],A=[],F=[],G){const Q=await new xr(this.aptosClient,{sender:r.address(),...G}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,f,y,[!1,!1,!1,!1,!1],E,ou(A,F),F]),le=yt.generateBCSTransaction(r,Q);return(await this.aptosClient.submitSignedBCSTransaction(le)).hash}async createTokenWithMutabilityConfig(r,e,t,n,i,s,a=Yi,o=r.address(),f=0,y=0,E=[],A=[],F=[],G=[!1,!1,!1,!1,!1],q){const le=await new xr(this.aptosClient,{sender:r.address(),...q}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,f,y,G,E,A,F]),Be=yt.generateBCSTransaction(r,le);return(await this.aptosClient.submitSignedBCSTransaction(Be)).hash}async offerToken(r,e,t,n,i,s,a=0,o){const y=await new xr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,t,n,i,a,s]),E=yt.generateBCSTransaction(r,y);return(await this.aptosClient.submitSignedBCSTransaction(E)).hash}async claimToken(r,e,t,n,i,s=0,a){const f=await new xr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,t,n,i,s]),y=yt.generateBCSTransaction(r,f);return(await this.aptosClient.submitSignedBCSTransaction(y)).hash}async cancelTokenOffer(r,e,t,n,i,s=0,a){const f=await new xr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,t,n,i,s]),y=yt.generateBCSTransaction(r,f);return(await this.aptosClient.submitSignedBCSTransaction(y)).hash}async directTransferToken(r,e,t,n,i,s,a=0,o){const y=await new xr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::direct_transfer_script",[],[t,n,i,a,s]),E=new kt.MultiAgentRawTransaction(y,[kt.AccountAddress.fromHex(e.address())]),A=new kt.Ed25519Signature(r.signBuffer(fs.getSigningMessage(E)).toUint8Array()),F=new kt.AccountAuthenticatorEd25519(new kt.Ed25519PublicKey(r.signingKey.publicKey),A),G=new kt.Ed25519Signature(e.signBuffer(fs.getSigningMessage(E)).toUint8Array()),q=new kt.AccountAuthenticatorEd25519(new kt.Ed25519PublicKey(e.signingKey.publicKey),G),Q=new kt.TransactionAuthenticatorMultiAgent(F,[kt.AccountAddress.fromHex(e.address())],[q]),le=jn(new kt.SignedTransaction(y,Q));return(await this.aptosClient.submitSignedBCSTransaction(le)).hash}async optInTokenTransfer(r,e,t){const i=await new xr(this.aptosClient,{sender:r.address(),...t}).build("0x3::token::opt_in_direct_transfer",[],[e]),s=yt.generateBCSTransaction(r,i);return(await this.aptosClient.submitSignedBCSTransaction(s)).hash}async transferWithOptIn(r,e,t,n,i,s,a,o){const y=await new xr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,t,n,i,s,a]),E=yt.generateBCSTransaction(r,y);return(await this.aptosClient.submitSignedBCSTransaction(E)).hash}async burnByCreator(r,e,t,n,i,s,a){const f=await new xr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn_by_creator",[],[e,t,n,i,s]),y=yt.generateBCSTransaction(r,f);return(await this.aptosClient.submitSignedBCSTransaction(y)).hash}async burnByOwner(r,e,t,n,i,s,a){const f=await new xr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn",[],[e,t,n,i,s]),y=yt.generateBCSTransaction(r,f);return(await this.aptosClient.submitSignedBCSTransaction(y)).hash}async mutateTokenProperties(r,e,t,n,i,s,a,o,f,y,E){const F=await new xr(this.aptosClient,{sender:r.address(),...E}).build("0x3::token::mutate_token_properties",[],[e,t,n,i,s,a,o,f,y]),G=yt.generateBCSTransaction(r,F);return(await this.aptosClient.submitSignedBCSTransaction(G)).hash}async getCollectionData(r,e){const n=(await this.aptosClient.getAccountResources(r)).find(o=>o.type==="0x3::token::Collections"),{handle:i}=n.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(r,e,t){const n=r instanceof He?r.hex():r,i=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:s}=i.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:t}},f=await this.aptosClient.getTableItem(s,o);return new R0(f.collection,f.description,f.name,f.maximum,f.supply,f.uri,f.default_properties,f.mutability_config)}async getToken(r,e,t,n="0"){const i={creator:r instanceof He?r.hex():r,collection:e,name:t};return this.getTokenForAccount(r,{token_data_id:i,property_version:n})}async getTokenForAccount(r,e){const t=await this.aptosClient.getAccountResource(r instanceof He?r.hex():r,"0x3::token::TokenStore"),{handle:n}=t.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(n,i);return new C0(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new su}:s}}},ds={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},ym=class{constructor(r){this.tokenType="0x4::token::Token",this.provider=r}async submitTransaction(r,e,t,n,i){const a=await new xr(this.provider,{sender:r.address(),...i}).build(`0x4::aptos_token::${e}`,t,n),o=yt.generateBCSTransaction(r,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(r,e,t,n,i=Yi,s,a){var o,f,y,E,A,F,G,q,Q,le,Be;return this.submitTransaction(r,"create_collection",[],[e,i,t,n,(o=s==null?void 0:s.mutableDescription)!=null?o:!0,(f=s==null?void 0:s.mutableRoyalty)!=null?f:!0,(y=s==null?void 0:s.mutableURI)!=null?y:!0,(E=s==null?void 0:s.mutableTokenDescription)!=null?E:!0,(A=s==null?void 0:s.mutableTokenName)!=null?A:!0,(F=s==null?void 0:s.mutableTokenProperties)!=null?F:!0,(G=s==null?void 0:s.mutableTokenURI)!=null?G:!0,(q=s==null?void 0:s.tokensBurnableByCreator)!=null?q:!0,(Q=s==null?void 0:s.tokensFreezableByCreator)!=null?Q:!0,(le=s==null?void 0:s.royaltyNumerator)!=null?le:0,(Be=s==null?void 0:s.royaltyDenominator)!=null?Be:0],a)}async mint(r,e,t,n,i,s=[],a=[],o=[],f){return this.submitTransaction(r,"mint",[],[e,t,n,i,s,a,ou(o,a)],f)}async mintSoulBound(r,e,t,n,i,s,a=[],o=[],f=[],y){return this.submitTransaction(r,"mint_soul_bound",[],[e,t,n,i,a,o,ou(f,o),s.address().hex()],y)}async burnToken(r,e,t,n){return this.submitTransaction(r,"burn",[t||this.tokenType],[He.ensure(e).hex()],n)}async freezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"freeze_transfer",[t||this.tokenType],[He.ensure(e).hex()],n)}async unfreezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"unfreeze_transfer",[t||this.tokenType],[He.ensure(e).hex()],n)}async setTokenDescription(r,e,t,n,i){return this.submitTransaction(r,"set_description",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async setTokenName(r,e,t,n,i){return this.submitTransaction(r,"set_name",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async setTokenURI(r,e,t,n,i){return this.submitTransaction(r,"set_uri",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async addTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_property",[s||this.tokenType],[He.ensure(e).hex(),t,ds[n],T0(i,ds[n])],a)}async removeTokenProperty(r,e,t,n,i){return this.submitTransaction(r,"remove_property",[n||this.tokenType],[He.ensure(e).hex(),t],i)}async updateTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_property",[s||this.tokenType],[He.ensure(e).hex(),t,ds[n],T0(i,ds[n])],a)}async addTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_typed_property",[s||this.tokenType,ds[n]],[He.ensure(e).hex(),t,i],a)}async updateTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_typed_property",[s||this.tokenType,ds[n]],[He.ensure(e).hex(),t,i],a)}async transferTokenOwnership(r,e,t,n,i){const a=await new xr(this.provider.aptosClient,{sender:r.address(),...i}).build("0x1::object::transfer",[n||this.tokenType],[He.ensure(e).hex(),He.ensure(t).hex()]),o=yt.generateBCSTransaction(r,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},gm=class{constructor(r){this.aptosClient=r}async transfer(r,e,t,n){var i;const s=(i=n==null?void 0:n.coinType)!=null?i:qc,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=n0(e),y=await new xr(this.aptosClient,{sender:r.address(),...n}).build(a,[s],[o,t]),E=yt.generateBCSTransaction(r,y);return(await this.aptosClient.submitSignedBCSTransaction(E)).hash}async checkBalance(r,e){var t;const i=`0x1::coin::CoinStore<${(t=e==null?void 0:e.coinType)!=null?t:qc}>`,s=n0(r),a=await this.aptosClient.getAccountResource(s,i);return BigInt(a.data.coin.value)}},bm=class extends null{constructor(r,e,t){var n,i,s;if(super(r,t),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new f0({BASE:e,VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH})}async fundAccount(r,e,t=Gd){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:He.ensure(r).noPrefix(),amount:e}}),i=[];for(let s=0;s<n.length;s+=1){const a=n[s];i.push(this.waitForTransaction(a,{timeoutSecs:t}))}return await Promise.all(i),n}},k0=l(55872).Buffer;class qb extends Wa{constructor(t){super(t);O(this,"signerInstance");O(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new yt(this.providerUrl))}async getTx(t){const i=await(await this.getProvider()).waitForTransactionWithResult(t,{timeoutSecs:1,checkSuccess:!0}),s=i==null?void 0:i.payload;if(!i.success)throw new Error((i==null?void 0:i.vm_status)??"Unknown Aptos error");if(!((s==null?void 0:s.function)==="0x1::coin::transfer"&&(s==null?void 0:s.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(i==null?void 0:i.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${t} failed validation`);const a=i.type==="pending_transaction";return{to:s.arguments[0],from:i.sender,amount:new rt.Z(s.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(t){const n=ef.sha3_256.create();return n.update(k0.from(t)),n.update("\0"),`0x${n.hex()}`}async sign(t){return await this.getSigner().sign(t)}getSigner(){return this.signerInstance??(this.signerInstance=new La(this.wallet,this._publicKey))}async verify(t,n,i){return await La.verify(t,n,i)}async getCurrentHeight(){return new rt.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(t,n){const i=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new xr(i,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new rt.Z(t).toNumber()]),f=new No(A=>{const F=new Uint8Array(64);return new kt.Ed25519Signature(F)},await this.getPublicKey()).sign(a),y={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},E=await i.client.request.request({url:"/transactions/simulate",query:y,method:"POST",body:f,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+E[0].gas_unit_price,maxGasAmount:+E[0].max_gas_amount}}async sendTx(t){return(await this.wallet.signAndSubmitTransaction(t)).hash}async createTx(t,n,i){return{txId:void 0,tx:{arguments:[n,new rt.Z(t).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=k0.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const t=await this.getProvider();this._address=await t.lookupOriginalAddress(this.address??"").then(i=>i.toString()).catch(i=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class jb extends Va{}class Gb extends Va{async createTx(e,t,n){const i=this.w3signer,s={to:t,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(s);return s.gasLimit=a,{tx:await i.populateTransaction(s),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new rt.Z(n.blockNumber):void 0,amount:new rt.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const t=await e.getSigner();t._signTypedData=async(n,i,s)=>t.signTypedData(n,i,s),e.getSigner=()=>t,this.wallet=e,await super.ready()}}function Wb(r){switch(r.token){case"ethereum":return ls("ethereum",r.providerName,{irys:r.irys,name:"ethereum",ticker:"ETH",providerUrl:r.providerUrl??"https://cloudflare-eth.com/",wallet:r.wallet});case"matic":return ls("ethereum",r.providerName,{irys:r.irys,name:"matic",ticker:"MATIC",providerUrl:r.providerUrl??"https://polygon-rpc.com",wallet:r.wallet,minConfirm:1});case"arbitrum":return ls("ethereum",r.providerName,{irys:r.irys,name:"arbitrum",ticker:"ETH",providerUrl:r.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:r.wallet});case"bnb":return ls("ethereum",r.providerName,{irys:r.irys,name:"bnb",ticker:"BNB",providerUrl:r.providerUrl??"https://bsc-dataseed.binance.org",wallet:r.wallet});case"avalanche":return ls("ethereum",r.providerName,{irys:r.irys,name:"avalanche",ticker:"AVAX",providerUrl:r.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:r.wallet});case"boba-eth":return ls("ethereum",r.providerName,{irys:r.irys,name:"boba-eth",ticker:"ETH",providerUrl:r.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:r.wallet});case"boba":{const e=new _p({irys:r.irys,name:"boba",ticker:"BOBA",providerUrl:r.providerUrl??"https://mainnet.boba.network/",contractAddress:r.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:r.wallet});return e.price=async()=>{var n;const t=await xs.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await yr.checkAndThrow(t,"Getting price data"),!((n=t==null?void 0:t.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+t.data.rate},e}case"solana":return new $x({irys:r.irys,name:"solana",ticker:"SOL",providerUrl:r.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:r.wallet});case"near":return new Kx({irys:r.irys,name:"near",ticker:"NEAR",providerUrl:r.providerUrl??"https://rpc.mainnet.near.org",wallet:r.wallet});case"aptos":return new qb({irys:r.irys,name:"aptos",ticker:"APTOS",providerUrl:r.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:r.wallet});default:throw new Error(`Unknown/Unsupported token ${r.token}`)}}function ls(r,e,t){switch(r){case"ethereum":switch(e){case"ethersv5":return new jb(t);case"ethersv6":return new Gb(t);default:return new Va(t)}}}class Vb{constructor(e){O(this,"irys");this.irys=e}async upload(e,t){return this.irys.uploadWithReceipt(e,t)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([t,n])=>({name:I0[t],value:n}))})}async getAllProofs(e,t){var o,f;const n=Object.entries(e).map(([y,E])=>({name:I0[y],values:[E]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const i=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,s=[];let a=null;do{const y=await this.irys.api.post("/graphql",{query:i,variables:{tags:n,limit:(t==null?void 0:t.limit)??null,after:a}},void 0);a=(f=(o=y.data.data.transactions)==null?void 0:o.pageInfo)!=null&&f.hasNextPage?y.data.data.transactions.pageInfo.endCursor:null,s.push(...y.data.data.transactions.edges.map(E=>E.node))}while(a);return s}async getProof(e){const t=(await this.getAllProofs(e,{limit:1})).at(0);if(!t)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return t}}const I0={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class Jb{constructor(e){O(this,"irys");this.irys=e}async getById(e){const t=(await this.query({ids:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with id ${e}`);return t}async getByOwner(e){const t=(await this.query({owners:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with owner ${e}`);return t}async getByTag(e,t){const n=(await this.query({tags:[{name:e,values:[t]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${t}`);return n}async query(e){var s,a;const t=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let i=null;do{const o=await this.irys.api.post("/graphql",{query:t,variables:{...e,after:i??e.after}},void 0);i=(a=(s=o.data.data.transactions)==null?void 0:s.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(f=>f.node))}while(i);return n}}var Xb=l(14676),Zb=l(72100);const Yb=Symbol("not readable"),Qb=Symbol("readable"),e1=Symbol("ended"),t1=Symbol("errored"),Ar={notReadable:Yb,readable:Qb,ended:e1,errored:t1};class r1{constructor(e,{size:t}={}){O(this,"_stream");O(this,"_error");O(this,"_state",Ar.notReadable);O(this,"_size");O(this,"_rejections",new Set);this._stream=e,this._size=t;const n=["_handleStreamEnd","_handleStreamError"];for(const i of n)Object.defineProperty(this,i,{configurable:!0,writable:!0,value:this[i].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=Ar.readable})}get closed(){return this._state===Ar.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case Ar.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{e!=null&&e.close(),t!=null&&t.close()}return this.next()}case Ar.ended:return this.close(),{done:!0,value:void 0};case Ar.errored:throw this.close(),this._error;case Ar.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=Ar.notReadable,await new Promise(t=>setTimeout(n=>n(!0),0,t)),this.next())}}}_untilReadable(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=Ar.readable,this._rejections.delete(s),i()},this._state,Ar.readable,this._stream.once("readable",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:t}}_untilEnd(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=Ar.ended,this._rejections.delete(s),i()},this._stream.once("end",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:t}}return(){return this._state=Ar.ended,this.next()}throw(e){return this._error=e,this._state=Ar.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=Ar.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=Ar.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=Ar.ended}get state(){return this._state}}var hs=l(55872).Buffer;class n1 extends Zb.EventEmitter{constructor(t,n){super({captureRejections:!0});O(this,"tokenConfig");O(this,"api");O(this,"uploadID");O(this,"token");O(this,"chunkSize");O(this,"batchSize");O(this,"paused",!1);O(this,"isResume",!1);O(this,"uploadOptions");O(this,"arbundles");this.tokenConfig=t,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(t){return t&&(this.uploadID=t,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(t){if(t<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=t,this}setBatchSize(t){if(t<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=t,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(t,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(t)?this.runUpload(t.getRaw()):this.runUpload(t)}async uploadData(t,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(t,{...n})}async runUpload(t,n){var ua;let i=this.uploadID;const s=n===void 0,a={"x-chunking-version":"2"};let o;if(!i)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),yr.checkAndThrow(o,"Getting upload token"),this.uploadID=i=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${i}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(yr.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:f,min:y}=o.data;if(this.chunkSize<+y||this.chunkSize>+f)throw new Error(`Chunk size out of allowed range: ${y} - ${f}`);let E=0;const A=(ut,Jt,Wr)=>new Promise(Ui=>{Qn(async fu=>{await this.api.post(`/chunks/${this.token}/${i}/${Jt}`,ut,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(pi=>{if((pi==null?void 0:pi.status)>=300){const z0={res:pi,id:Wr,offset:Jt,size:ut.length};throw this.emit("chunkError",z0),(pi==null?void 0:pi.status)===402&&fu(new Error("Not enough funds to send data")),z0}this.emit("chunkUpload",{id:Wr,offset:Jt,size:ut.length,totalUploaded:E+=ut.length}),Ui({o:Jt,d:pi})})})}),F=o.data.chunks??[],G=new ps.PassThrough;let q=hs.alloc(0),Q=!1,le=!0;G.on("end",()=>Q=!0),G.on("error",ut=>{throw new Error(`Error processing readable: ${ut}`)});const Be=async ut=>{for(;!Q;){if(q.length>=ut)return Jt=hs.from(q.slice(0,ut)),q=q.slice(ut),Jt;var Jt=G.read(ut);if(Jt===null){await new Promise(Wr=>setTimeout(Ui=>Ui(!0),0,Wr));continue}if(Jt.length===ut)return Jt;q=hs.concat([q,Jt])}for(;q.length>=ut;)return Jt=hs.from(q.slice(0,ut)),q=q.slice(ut),Jt;return le=!1,q};let tt,Et;if(!s){tt=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??Dn.randomBytes(32).toString("base64").slice(0,32)});const ut=tt.getRaw();Et=ut.length,G.write(ut),E-=ut.length}if(hs.isBuffer(t))G.write(t),G.end();else if("pipe"in t)t.pipe(G);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let Vt=0;const Kt=new Set;let kr=0,Fr,Yt,Gr;if(!s){Yt=new ps.PassThrough;const ut=tt.getRaw().length;if(this.chunkSize<Et)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${Et})`);Fr=await Be(this.chunkSize),kr++,Vt+=Fr.length,Yt.write(Fr.slice(ut));const Jt=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(tt.signatureType.toString()),tt.rawOwner,tt.rawTarget,tt.rawAnchor,tt.rawTags,new r1(Yt)];Gr=this.arbundles.deepHash(Jt)}let Un=F.pop();for(;le;){if(this.paused&&await new Promise(Wr=>this.on("resume",()=>Wr(void 0))),Un&&+Un[0]-Vt<=this.chunkSize){const Ui=Un[1],fu=await Be(Ui);s||Yt.write(fu),Vt+=Ui,Un=F.pop(),kr++,E+=Ui;continue}const ut=await Be(this.chunkSize);for(s||Yt.write(ut);Kt.size>=this.batchSize;){const[Wr]=await Promise.race(Kt);Kt.delete(Wr)}const Jt=(async()=>await A(ut,Vt,++kr))().then(Wr=>[Jt,Wr]);Kt.add(Jt),Vt+=ut.length}if(Yt&&Yt.end(),await Promise.all(Kt),!s){const ut=await Gr,Jt=hs.from(await this.tokenConfig.getSigner().sign(ut));Fr.set(Jt,2),await A(Fr,0,0)}const rr=await this.api.post(`/chunks/${this.token}/${i}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((ua=this.api.config)==null?void 0:ua.timeout)??4e4*10});if(rr.status===402)throw new Error("Not enough funds to send data");if(yr.checkAndThrow(rr,"Finalising upload",[201]),rr.status===201)throw new Error(rr.data);return rr.data.verify=yr.verifyReceipt.bind({},this.arbundles,rr.data.data),this.emit("done",rr),rr}get completionPromise(){return new Promise(t=>this.on("done",t))}}var cu=l(55872).Buffer;const mm=r=>new Promise(e=>setTimeout(e,r)),B0=5e7;class i1{constructor(e,t,n,i,s){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"utils");O(this,"contentTypeOverride");O(this,"forceUseChunking");O(this,"arbundles");O(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=t,this.irysTransaction=s}async uploadTransaction(e,t){let n;const i=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||i&&e.getRaw().length>=B0||!i)n=await this.chunkedUploader.uploadTransaction(i?e.getRaw():e,t);else{const{url:s,timeout:a,headers:o}=this.api.getConfig(),f={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,s).toString(),e.getRaw(),{headers:f,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,t){if(typeof e=="string"&&(e=cu.from(e)),cu.isBuffer(e)&&e.length<=B0){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...t,anchor:(t==null?void 0:t.anchor)??(0,Dn.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...t==null?void 0:t.upload})).data}return(await this.chunkedUploader.uploadData(e,t)).data}async concurrentUploader(e,t){const n=[],i=t!=null&&t.logFunction?t==null?void 0:t.logFunction:async o=>{},s=(t==null?void 0:t.concurrency)??5,a=await Xb.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError(async(o,f)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,f,y)=>{await Qn(async E=>{try{const A=await this.processItem(o,t==null?void 0:t.itemOptions);return f%s==0&&await i(`Processed ${f} Items`),t!=null&&t.resultProcessor?await t.resultProcessor({item:o,res:A,i:f}):{item:o,res:A,i:f}}catch(A){throw(A==null?void 0:A.message)==="Not enough funds to send data"&&E(A),A}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,t){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...t==null?void 0:t.upload}):this.uploadData(e,t)}async generateManifest(e){const{items:t,indexFile:n}=e,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!t.has(n))throw new Error(`Unable to access item: ${n}`);i.index={path:n}}for(const[s,a]of t.entries())i.paths[s]={id:a};return i}get chunkedUploader(){return new n1(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,t){const n=(t==null?void 0:t.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),i=new ga(n),s=e.map(E=>this.arbundles.DataItem.isDataItem(E)?E:this.arbundles.createData(E,i)),a=await this.arbundles.bundleAndSignData(s,i),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const f=await this.uploadTransaction(o,t),y=xt(cu.from(await this.arbundles.getCryptoDriver().hash(xt.toBuffer(xt(i.publicKey)))));return{...f,txs:s,throwawayKey:n,throwawayKeyAddress:y}}}var U0=l(55872).Buffer;class O0 extends i1{constructor(t){super(t.api,t.utils,t.token,t.tokenConfig,t.IrysTransaction);O(this,"irys");this.irys=t}async uploadFile(t,n){const s=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:t.type}];return this.uploadData(U0.from(await t.arrayBuffer()),{tags:s,...n})}async uploadFolder(t,n){const i=[],s=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new ga(a);for(const A of t){const F=A.webkitRelativePath?A.webkitRelativePath:A.name,q=(A.tags?A.tags.some(({name:le})=>le.toLowerCase()==="content-type"):!1)?A.tags:[...A.tags??[],{name:"Content-Type",value:A.type}],Q=this.irys.arbundles.createData(U0.from(await A.arrayBuffer()),o,{tags:q});await Q.sign(o),i.push(Q),s.set(F,Q.id)}const f=await this.generateManifest({items:s,indexFile:n==null?void 0:n.indexFileRelPath}),y=this.irys.arbundles.createData(JSON.stringify(f),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await y.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(y,{...n})):(await y.sign(o),i.push(y));const E=await this.uploadBundle(i,{...n});return{...E.data,manifestId:y.id,manifest:f,throwawayKey:E.throwawayKey,throwawayKeyAddress:E.throwawayKeyAddress,txs:E.txs}}}class s1 extends Ho{constructor({url:t,token:n,wallet:i,config:s}){switch(t){case void 0:case"node1":t="https://node1.irys.xyz";break;case"node2":t="https://node2.irys.xyz";break;case"devnet":t="https://devnet.irys.xyz";break}const a=new URL(t);super({url:a,arbundles:b});O(this,"tokenConfig");O(this,"uploader");O(this,"uploadFolder");O(this,"uploadFile");if(this.api=new rl({url:a,timeout:(s==null?void 0:s.timeout)??1e5,headers:s==null?void 0:s.headers}),this.tokenConfig=Wb({irys:this,token:n.toLowerCase(),wallet:i==null?void 0:i.provider,providerUrl:(s==null?void 0:s.providerUrl)??(i==null?void 0:i.rpcUrl),contractAddress:s==null?void 0:s.contractAddress,providerName:i==null?void 0:i.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((s==null?void 0:s.providerUrl)??((i==null?void 0:i.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new yr(this.api,this.token,this.tokenConfig),this.uploader=new O0(this),this.funder=new nl(this.utils),this.uploader=new O0(this),this.provenance=new Vb(this),this.transactions=new Jb(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var N0=s1},29415:function(B,h,l){"use strict";l.r(h),l.d(h,{bool:function(){return d},bytes:function(){return v},exists:function(){return b},hash:function(){return m},number:function(){return u},output:function(){return p}});function u(S){if(!Number.isSafeInteger(S)||S<0)throw new Error(`Wrong positive integer: ${S}`)}function d(S){if(typeof S!="boolean")throw new Error(`Expected boolean, not ${S}`)}function v(S,..._){if(!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length>0&&!_.includes(S.length))throw new TypeError(`Expected Uint8Array of length ${_}, not of length=${S.length}`)}function m(S){if(typeof S!="function"||typeof S.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");u(S.outputLen),u(S.blockLen)}function b(S,_=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(_&&S.finished)throw new Error("Hash#digest() has already been called")}function p(S,_){v(S);const I=_.outputLen;if(S.length<I)throw new Error(`digestInto() expects output buffer of length at least ${I}`)}const x={number:u,bool:d,bytes:v,hash:m,exists:b,output:p};h.default=x},38098:function(B,h,l){"use strict";l.d(h,{N:function(){return m}});var u=l(29415),d=l(79426);function v(b,p,x,S){if(typeof b.setBigUint64=="function")return b.setBigUint64(p,x,S);const _=BigInt(32),I=BigInt(4294967295),R=Number(x>>_&I),k=Number(x&I),w=S?4:0,U=S?0:4;b.setUint32(p+w,R,S),b.setUint32(p+U,k,S)}class m extends d.Hash{constructor(p,x,S,_){super(),this.blockLen=p,this.outputLen=x,this.padOffset=S,this.isLE=_,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(p),this.view=(0,d.createView)(this.buffer)}update(p){u.default.exists(this);const{view:x,buffer:S,blockLen:_}=this;p=(0,d.toBytes)(p);const I=p.length;for(let R=0;R<I;){const k=Math.min(_-this.pos,I-R);if(k===_){const w=(0,d.createView)(p);for(;_<=I-R;R+=_)this.process(w,R);continue}S.set(p.subarray(R,R+k),this.pos),this.pos+=k,R+=k,this.pos===_&&(this.process(x,0),this.pos=0)}return this.length+=p.length,this.roundClean(),this}digestInto(p){u.default.exists(this),u.default.output(p,this),this.finished=!0;const{buffer:x,view:S,blockLen:_,isLE:I}=this;let{pos:R}=this;x[R++]=128,this.buffer.subarray(R).fill(0),this.padOffset>_-R&&(this.process(S,0),R=0);for(let w=R;w<_;w++)x[w]=0;v(S,_-8,BigInt(this.length*8),I),this.process(S,0);const k=(0,d.createView)(p);this.get().forEach((w,U)=>k.setUint32(4*U,w,I))}digest(){const{buffer:p,outputLen:x}=this;this.digestInto(p);const S=p.slice(0,x);return this.destroy(),S}_cloneInto(p){p||(p=new this.constructor),p.set(...this.get());const{blockLen:x,buffer:S,length:_,finished:I,destroyed:R,pos:k}=this;return p.length=_,p.pos=k,p.finished=I,p.destroyed=R,_%x&&p.buffer.set(S),p}}},28523:function(B,h,l){"use strict";const u=BigInt(4294967295),d=BigInt(32);function v(ae,we=!1){return we?{h:Number(ae&u),l:Number(ae>>d&u)}:{h:Number(ae>>d&u)|0,l:Number(ae&u)|0}}function m(ae,we=!1){let ve=new Uint32Array(ae.length),Ce=new Uint32Array(ae.length);for(let Fe=0;Fe<ae.length;Fe++){const{h:lt,l:nt}=v(ae[Fe],we);[ve[Fe],Ce[Fe]]=[lt,nt]}return[ve,Ce]}const b=(ae,we)=>BigInt(ae>>>0)<<d|BigInt(we>>>0),p=(ae,we,ve)=>ae>>>ve,x=(ae,we,ve)=>ae<<32-ve|we>>>ve,S=(ae,we,ve)=>ae>>>ve|we<<32-ve,_=(ae,we,ve)=>ae<<32-ve|we>>>ve,I=(ae,we,ve)=>ae<<64-ve|we>>>ve-32,R=(ae,we,ve)=>ae>>>ve-32|we<<64-ve,k=(ae,we)=>we,w=(ae,we)=>ae,U=(ae,we,ve)=>ae<<ve|we>>>32-ve,D=(ae,we,ve)=>we<<ve|ae>>>32-ve,$=(ae,we,ve)=>we<<ve-32|ae>>>64-ve,V=(ae,we,ve)=>ae<<ve-32|we>>>64-ve;function j(ae,we,ve,Ce){const Fe=(we>>>0)+(Ce>>>0);return{h:ae+ve+(Fe/2**32|0)|0,l:Fe|0}}const Re={fromBig:v,split:m,toBig:b,shrSH:p,shrSL:x,rotrSH:S,rotrSL:_,rotrBH:I,rotrBL:R,rotr32H:k,rotr32L:w,rotlSH:U,rotlSL:D,rotlBH:$,rotlBL:V,add:j,add3L:(ae,we,ve)=>(ae>>>0)+(we>>>0)+(ve>>>0),add3H:(ae,we,ve,Ce)=>we+ve+Ce+(ae/2**32|0)|0,add4L:(ae,we,ve,Ce)=>(ae>>>0)+(we>>>0)+(ve>>>0)+(Ce>>>0),add4H:(ae,we,ve,Ce,Fe)=>we+ve+Ce+Fe+(ae/2**32|0)|0,add5H:(ae,we,ve,Ce,Fe,lt)=>we+ve+Ce+Fe+lt+(ae/2**32|0)|0,add5L:(ae,we,ve,Ce,Fe)=>(ae>>>0)+(we>>>0)+(ve>>>0)+(Ce>>>0)+(Fe>>>0)};h.ZP=Re},27251:function(B,h,l){"use strict";l.d(h,{b:function(){return m}});var u=l(29415),d=l(79426);class v extends d.Hash{constructor(p,x){super(),this.finished=!1,this.destroyed=!1,u.default.hash(p);const S=(0,d.toBytes)(x);if(this.iHash=p.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const _=this.blockLen,I=new Uint8Array(_);I.set(S.length>_?p.create().update(S).digest():S);for(let R=0;R<I.length;R++)I[R]^=54;this.iHash.update(I),this.oHash=p.create();for(let R=0;R<I.length;R++)I[R]^=106;this.oHash.update(I),I.fill(0)}update(p){return u.default.exists(this),this.iHash.update(p),this}digestInto(p){u.default.exists(this),u.default.bytes(p,this.outputLen),this.finished=!0,this.iHash.digestInto(p),this.oHash.update(p),this.oHash.digestInto(p),this.destroy()}digest(){const p=new Uint8Array(this.oHash.outputLen);return this.digestInto(p),p}_cloneInto(p){p||(p=Object.create(Object.getPrototypeOf(this),{}));const{oHash:x,iHash:S,finished:_,destroyed:I,blockLen:R,outputLen:k}=this;return p=p,p.finished=_,p.destroyed=I,p.blockLen=R,p.outputLen=k,p.oHash=x._cloneInto(p.oHash),p.iHash=S._cloneInto(p.iHash),p}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const m=(b,p,x)=>new v(b,p).update(x).digest();m.create=(b,p)=>new v(b,p)},14400:function(B,h,l){"use strict";l.r(h),l.d(h,{pbkdf2:function(){return p},pbkdf2Async:function(){return x}});var u=l(29415),d=l(27251),v=l(79426);function m(S,_,I,R){u.default.hash(S);const k=(0,v.checkOpts)({dkLen:32,asyncTick:10},R),{c:w,dkLen:U,asyncTick:D}=k;if(u.default.number(w),u.default.number(U),u.default.number(D),w<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const $=(0,v.toBytes)(_),V=(0,v.toBytes)(I),j=new Uint8Array(U),xe=d.b.create(S,$),ue=xe._cloneInto().update(V);return{c:w,dkLen:U,asyncTick:D,DK:j,PRF:xe,PRFSalt:ue}}function b(S,_,I,R,k){return S.destroy(),_.destroy(),R&&R.destroy(),k.fill(0),I}function p(S,_,I,R){const{c:k,dkLen:w,DK:U,PRF:D,PRFSalt:$}=m(S,_,I,R);let V;const j=new Uint8Array(4),xe=(0,v.createView)(j),ue=new Uint8Array(D.outputLen);for(let L=1,W=0;W<w;L++,W+=D.outputLen){const fe=U.subarray(W,W+D.outputLen);xe.setInt32(0,L,!1),(V=$._cloneInto(V)).update(j).digestInto(ue),fe.set(ue.subarray(0,fe.length));for(let _e=1;_e<k;_e++){D._cloneInto(V).update(ue).digestInto(ue);for(let Re=0;Re<fe.length;Re++)fe[Re]^=ue[Re]}}return b(D,$,U,V,ue)}async function x(S,_,I,R){const{c:k,dkLen:w,asyncTick:U,DK:D,PRF:$,PRFSalt:V}=m(S,_,I,R);let j;const xe=new Uint8Array(4),ue=(0,v.createView)(xe),L=new Uint8Array($.outputLen);for(let W=1,fe=0;fe<w;W++,fe+=$.outputLen){const _e=D.subarray(fe,fe+$.outputLen);ue.setInt32(0,W,!1),(j=V._cloneInto(j)).update(xe).digestInto(L),_e.set(L.subarray(0,_e.length)),await(0,v.asyncLoop)(k-1,U,Re=>{$._cloneInto(j).update(L).digestInto(L);for(let ae=0;ae<_e.length;ae++)_e[ae]^=L[ae]})}return b($,V,D,j,L)}},40117:function(B,h,l){"use strict";l.r(h),l.d(h,{sha256:function(){return _}});var u=l(38098),d=l(79426);const v=(I,R,k)=>I&R^~I&k,m=(I,R,k)=>I&R^I&k^R&k,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),p=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),x=new Uint32Array(64);class S extends u.N{constructor(){super(64,32,8,!1),this.A=p[0]|0,this.B=p[1]|0,this.C=p[2]|0,this.D=p[3]|0,this.E=p[4]|0,this.F=p[5]|0,this.G=p[6]|0,this.H=p[7]|0}get(){const{A:R,B:k,C:w,D:U,E:D,F:$,G:V,H:j}=this;return[R,k,w,U,D,$,V,j]}set(R,k,w,U,D,$,V,j){this.A=R|0,this.B=k|0,this.C=w|0,this.D=U|0,this.E=D|0,this.F=$|0,this.G=V|0,this.H=j|0}process(R,k){for(let L=0;L<16;L++,k+=4)x[L]=R.getUint32(k,!1);for(let L=16;L<64;L++){const W=x[L-15],fe=x[L-2],_e=(0,d.rotr)(W,7)^(0,d.rotr)(W,18)^W>>>3,Re=(0,d.rotr)(fe,17)^(0,d.rotr)(fe,19)^fe>>>10;x[L]=Re+x[L-7]+_e+x[L-16]|0}let{A:w,B:U,C:D,D:$,E:V,F:j,G:xe,H:ue}=this;for(let L=0;L<64;L++){const W=(0,d.rotr)(V,6)^(0,d.rotr)(V,11)^(0,d.rotr)(V,25),fe=ue+W+v(V,j,xe)+b[L]+x[L]|0,Re=((0,d.rotr)(w,2)^(0,d.rotr)(w,13)^(0,d.rotr)(w,22))+m(w,U,D)|0;ue=xe,xe=j,j=V,V=$+fe|0,$=D,D=U,U=w,w=fe+Re|0}w=w+this.A|0,U=U+this.B|0,D=D+this.C|0,$=$+this.D|0,V=V+this.E|0,j=j+this.F|0,xe=xe+this.G|0,ue=ue+this.H|0,this.set(w,U,D,$,V,j,xe,ue)}roundClean(){x.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _=(0,d.wrapConstructor)(()=>new S)},45018:function(B,h,l){"use strict";l.r(h),l.d(h,{SHA512:function(){return S},sha384:function(){return w},sha512:function(){return R},sha512_256:function(){return k}});var u=l(38098),d=l(28523),v=l(79426);const[m,b]=d.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(U=>BigInt(U))),p=new Uint32Array(80),x=new Uint32Array(80);class S extends u.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:D,Al:$,Bh:V,Bl:j,Ch:xe,Cl:ue,Dh:L,Dl:W,Eh:fe,El:_e,Fh:Re,Fl:ae,Gh:we,Gl:ve,Hh:Ce,Hl:Fe}=this;return[D,$,V,j,xe,ue,L,W,fe,_e,Re,ae,we,ve,Ce,Fe]}set(D,$,V,j,xe,ue,L,W,fe,_e,Re,ae,we,ve,Ce,Fe){this.Ah=D|0,this.Al=$|0,this.Bh=V|0,this.Bl=j|0,this.Ch=xe|0,this.Cl=ue|0,this.Dh=L|0,this.Dl=W|0,this.Eh=fe|0,this.El=_e|0,this.Fh=Re|0,this.Fl=ae|0,this.Gh=we|0,this.Gl=ve|0,this.Hh=Ce|0,this.Hl=Fe|0}process(D,$){for(let J=0;J<16;J++,$+=4)p[J]=D.getUint32($),x[J]=D.getUint32($+=4);for(let J=16;J<80;J++){const M=p[J-15]|0,z=x[J-15]|0,se=d.ZP.rotrSH(M,z,1)^d.ZP.rotrSH(M,z,8)^d.ZP.shrSH(M,z,7),X=d.ZP.rotrSL(M,z,1)^d.ZP.rotrSL(M,z,8)^d.ZP.shrSL(M,z,7),Y=p[J-2]|0,Ee=x[J-2]|0,Qe=d.ZP.rotrSH(Y,Ee,19)^d.ZP.rotrBH(Y,Ee,61)^d.ZP.shrSH(Y,Ee,6),Ae=d.ZP.rotrSL(Y,Ee,19)^d.ZP.rotrBL(Y,Ee,61)^d.ZP.shrSL(Y,Ee,6),Ke=d.ZP.add4L(X,Ae,x[J-7],x[J-16]),It=d.ZP.add4H(Ke,se,Qe,p[J-7],p[J-16]);p[J]=It|0,x[J]=Ke|0}let{Ah:V,Al:j,Bh:xe,Bl:ue,Ch:L,Cl:W,Dh:fe,Dl:_e,Eh:Re,El:ae,Fh:we,Fl:ve,Gh:Ce,Gl:Fe,Hh:lt,Hl:nt}=this;for(let J=0;J<80;J++){const M=d.ZP.rotrSH(Re,ae,14)^d.ZP.rotrSH(Re,ae,18)^d.ZP.rotrBH(Re,ae,41),z=d.ZP.rotrSL(Re,ae,14)^d.ZP.rotrSL(Re,ae,18)^d.ZP.rotrBL(Re,ae,41),se=Re&we^~Re&Ce,X=ae&ve^~ae&Fe,Y=d.ZP.add5L(nt,z,X,b[J],x[J]),Ee=d.ZP.add5H(Y,lt,M,se,m[J],p[J]),Qe=Y|0,Ae=d.ZP.rotrSH(V,j,28)^d.ZP.rotrBH(V,j,34)^d.ZP.rotrBH(V,j,39),Ke=d.ZP.rotrSL(V,j,28)^d.ZP.rotrBL(V,j,34)^d.ZP.rotrBL(V,j,39),It=V&xe^V&L^xe&L,Ot=j&ue^j&W^ue&W;lt=Ce|0,nt=Fe|0,Ce=we|0,Fe=ve|0,we=Re|0,ve=ae|0,{h:Re,l:ae}=d.ZP.add(fe|0,_e|0,Ee|0,Qe|0),fe=L|0,_e=W|0,L=xe|0,W=ue|0,xe=V|0,ue=j|0;const nr=d.ZP.add3L(Qe,Ke,Ot);V=d.ZP.add3H(nr,Ee,Ae,It),j=nr|0}({h:V,l:j}=d.ZP.add(this.Ah|0,this.Al|0,V|0,j|0)),{h:xe,l:ue}=d.ZP.add(this.Bh|0,this.Bl|0,xe|0,ue|0),{h:L,l:W}=d.ZP.add(this.Ch|0,this.Cl|0,L|0,W|0),{h:fe,l:_e}=d.ZP.add(this.Dh|0,this.Dl|0,fe|0,_e|0),{h:Re,l:ae}=d.ZP.add(this.Eh|0,this.El|0,Re|0,ae|0),{h:we,l:ve}=d.ZP.add(this.Fh|0,this.Fl|0,we|0,ve|0),{h:Ce,l:Fe}=d.ZP.add(this.Gh|0,this.Gl|0,Ce|0,Fe|0),{h:lt,l:nt}=d.ZP.add(this.Hh|0,this.Hl|0,lt|0,nt|0),this.set(V,j,xe,ue,L,W,fe,_e,Re,ae,we,ve,Ce,Fe,lt,nt)}roundClean(){p.fill(0),x.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _ extends S{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends S{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const R=(0,v.wrapConstructor)(()=>new S),k=(0,v.wrapConstructor)(()=>new _),w=(0,v.wrapConstructor)(()=>new I)},79426:function(B,h,l){"use strict";l.r(h),l.d(h,{Hash:function(){return D},asyncLoop:function(){return R},bytesToHex:function(){return S},checkOpts:function(){return V},concatBytes:function(){return U},createView:function(){return m},hexToBytes:function(){return _},isLE:function(){return p},nextTick:function(){return I},randomBytes:function(){return ue},rotr:function(){return b},toBytes:function(){return w},u32:function(){return v},u8:function(){return d},utf8ToBytes:function(){return k},wrapConstructor:function(){return j},wrapConstructorWithOpts:function(){return xe}});const u={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const d=L=>new Uint8Array(L.buffer,L.byteOffset,L.byteLength),v=L=>new Uint32Array(L.buffer,L.byteOffset,Math.floor(L.byteLength/4)),m=L=>new DataView(L.buffer,L.byteOffset,L.byteLength),b=(L,W)=>L<<32-W|L>>>W,p=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!p)throw new Error("Non little-endian hardware is not supported");const x=Array.from({length:256},(L,W)=>W.toString(16).padStart(2,"0"));function S(L){if(!(L instanceof Uint8Array))throw new Error("Uint8Array expected");let W="";for(let fe=0;fe<L.length;fe++)W+=x[L[fe]];return W}function _(L){if(typeof L!="string")throw new TypeError("hexToBytes: expected string, got "+typeof L);if(L.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const W=new Uint8Array(L.length/2);for(let fe=0;fe<W.length;fe++){const _e=fe*2,Re=L.slice(_e,_e+2),ae=Number.parseInt(Re,16);if(Number.isNaN(ae)||ae<0)throw new Error("Invalid byte sequence");W[fe]=ae}return W}const I=async()=>{};async function R(L,W,fe){let _e=Date.now();for(let Re=0;Re<L;Re++){fe(Re);const ae=Date.now()-_e;ae>=0&&ae<W||(await I(),_e+=ae)}}function k(L){if(typeof L!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof L}`);return new TextEncoder().encode(L)}function w(L){if(typeof L=="string"&&(L=k(L)),!(L instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof L})`);return L}function U(...L){if(!L.every(_e=>_e instanceof Uint8Array))throw new Error("Uint8Array list expected");if(L.length===1)return L[0];const W=L.reduce((_e,Re)=>_e+Re.length,0),fe=new Uint8Array(W);for(let _e=0,Re=0;_e<L.length;_e++){const ae=L[_e];fe.set(ae,Re),Re+=ae.length}return fe}class D{clone(){return this._cloneInto()}}const $=L=>Object.prototype.toString.call(L)==="[object Object]"&&L.constructor===Object;function V(L,W){if(W!==void 0&&(typeof W!="object"||!$(W)))throw new TypeError("Options should be object or undefined");return Object.assign(L,W)}function j(L){const W=_e=>L().update(w(_e)).digest(),fe=L();return W.outputLen=fe.outputLen,W.blockLen=fe.blockLen,W.create=()=>L(),W}function xe(L){const W=(_e,Re)=>L(Re).update(w(_e)).digest(),fe=L({});return W.outputLen=fe.outputLen,W.blockLen=fe.blockLen,W.create=_e=>L(_e),W}function ue(L=32){if(u.web)return u.web.getRandomValues(new Uint8Array(L));if(u.node)return new Uint8Array(u.node.randomBytes(L).buffer);throw new Error("The environment doesn't have randomBytes function")}},27449:function(B,h,l){"use strict";l.r(h),l.d(h,{assertNumber:function(){return u},base16:function(){return V},base32:function(){return j},base32crockford:function(){return ue},base32hex:function(){return xe},base58:function(){return Re},base58check:function(){return lt},base58flickr:function(){return ae},base58xmr:function(){return Ce},base58xrp:function(){return we},base64:function(){return L},base64url:function(){return W},base64urlnopad:function(){return fe},bech32:function(){return X},bech32m:function(){return Y},bytes:function(){return cn},bytesToString:function(){return It},createBase58check:function(){return Fe},hex:function(){return Qe},str:function(){return Ot},stringToBytes:function(){return nr},utf8:function(){return Ee},utils:function(){return $}});function u(oe){if(!Number.isSafeInteger(oe))throw new Error(`Wrong integer: ${oe}`)}function d(oe){return oe instanceof Uint8Array||oe!=null&&typeof oe=="object"&&oe.constructor.name==="Uint8Array"}function v(...oe){const de=Ge=>Ge,ge=(Ge,it)=>Qt=>Ge(it(Qt)),Je=oe.map(Ge=>Ge.encode).reduceRight(ge,de),Xe=oe.map(Ge=>Ge.decode).reduce(ge,de);return{encode:Je,decode:Xe}}function m(oe){return{encode:de=>{if(!Array.isArray(de)||de.length&&typeof de[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return de.map(ge=>{if(u(ge),ge<0||ge>=oe.length)throw new Error(`Digit index outside alphabet: ${ge} (alphabet: ${oe.length})`);return oe[ge]})},decode:de=>{if(!Array.isArray(de)||de.length&&typeof de[0]!="string")throw new Error("alphabet.decode input should be array of strings");return de.map(ge=>{if(typeof ge!="string")throw new Error(`alphabet.decode: not string element=${ge}`);const Je=oe.indexOf(ge);if(Je===-1)throw new Error(`Unknown letter: "${ge}". Allowed: ${oe}`);return Je})}}}function b(oe=""){if(typeof oe!="string")throw new Error("join separator should be string");return{encode:de=>{if(!Array.isArray(de)||de.length&&typeof de[0]!="string")throw new Error("join.encode input should be array of strings");for(let ge of de)if(typeof ge!="string")throw new Error(`join.encode: non-string input=${ge}`);return de.join(oe)},decode:de=>{if(typeof de!="string")throw new Error("join.decode input should be string");return de.split(oe)}}}function p(oe,de="="){if(u(oe),typeof de!="string")throw new Error("padding chr should be string");return{encode(ge){if(!Array.isArray(ge)||ge.length&&typeof ge[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Je of ge)if(typeof Je!="string")throw new Error(`padding.encode: non-string input=${Je}`);for(;ge.length*oe%8;)ge.push(de);return ge},decode(ge){if(!Array.isArray(ge)||ge.length&&typeof ge[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Xe of ge)if(typeof Xe!="string")throw new Error(`padding.decode: non-string input=${Xe}`);let Je=ge.length;if(Je*oe%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;Je>0&&ge[Je-1]===de;Je--)if(!((Je-1)*oe%8))throw new Error("Invalid padding: string has too much padding");return ge.slice(0,Je)}}}function x(oe){if(typeof oe!="function")throw new Error("normalize fn should be function");return{encode:de=>de,decode:de=>oe(de)}}function S(oe,de,ge){if(de<2)throw new Error(`convertRadix: wrong from=${de}, base cannot be less than 2`);if(ge<2)throw new Error(`convertRadix: wrong to=${ge}, base cannot be less than 2`);if(!Array.isArray(oe))throw new Error("convertRadix: data should be array");if(!oe.length)return[];let Je=0;const Xe=[],Ge=Array.from(oe);for(Ge.forEach(it=>{if(u(it),it<0||it>=de)throw new Error(`Wrong integer: ${it}`)});;){let it=0,Qt=!0;for(let Mt=Je;Mt<Ge.length;Mt++){const wr=Ge[Mt],gt=de*it+wr;if(!Number.isSafeInteger(gt)||de*it/de!==it||gt-wr!==de*it)throw new Error("convertRadix: carry overflow");it=gt%ge;const Bt=Math.floor(gt/ge);if(Ge[Mt]=Bt,!Number.isSafeInteger(Bt)||Bt*ge+it!==gt)throw new Error("convertRadix: carry overflow");if(Qt)Bt?Qt=!1:Je=Mt;else continue}if(Xe.push(it),Qt)break}for(let it=0;it<oe.length-1&&oe[it]===0;it++)Xe.push(0);return Xe.reverse()}const _=(oe,de)=>de?_(de,oe%de):oe,I=(oe,de)=>oe+(de-_(oe,de));function R(oe,de,ge,Je){if(!Array.isArray(oe))throw new Error("convertRadix2: data should be array");if(de<=0||de>32)throw new Error(`convertRadix2: wrong from=${de}`);if(ge<=0||ge>32)throw new Error(`convertRadix2: wrong to=${ge}`);if(I(de,ge)>32)throw new Error(`convertRadix2: carry overflow from=${de} to=${ge} carryBits=${I(de,ge)}`);let Xe=0,Ge=0;const it=2**ge-1,Qt=[];for(const Mt of oe){if(u(Mt),Mt>=2**de)throw new Error(`convertRadix2: invalid data word=${Mt} from=${de}`);if(Xe=Xe<<de|Mt,Ge+de>32)throw new Error(`convertRadix2: carry overflow pos=${Ge} from=${de}`);for(Ge+=de;Ge>=ge;Ge-=ge)Qt.push((Xe>>Ge-ge&it)>>>0);Xe&=2**Ge-1}if(Xe=Xe<<ge-Ge&it,!Je&&Ge>=de)throw new Error("Excess padding");if(!Je&&Xe)throw new Error(`Non-zero padding: ${Xe}`);return Je&&Ge>0&&Qt.push(Xe>>>0),Qt}function k(oe){return u(oe),{encode:de=>{if(!d(de))throw new Error("radix.encode input should be Uint8Array");return S(Array.from(de),2**8,oe)},decode:de=>{if(!Array.isArray(de)||de.length&&typeof de[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(S(de,oe,2**8))}}}function w(oe,de=!1){if(u(oe),oe<=0||oe>32)throw new Error("radix2: bits should be in (0..32]");if(I(8,oe)>32||I(oe,8)>32)throw new Error("radix2: carry overflow");return{encode:ge=>{if(!d(ge))throw new Error("radix2.encode input should be Uint8Array");return R(Array.from(ge),8,oe,!de)},decode:ge=>{if(!Array.isArray(ge)||ge.length&&typeof ge[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(R(ge,oe,8,de))}}}function U(oe){if(typeof oe!="function")throw new Error("unsafeWrapper fn should be function");return function(...de){try{return oe.apply(null,de)}catch{}}}function D(oe,de){if(u(oe),typeof de!="function")throw new Error("checksum fn should be function");return{encode(ge){if(!d(ge))throw new Error("checksum.encode: input should be Uint8Array");const Je=de(ge).slice(0,oe),Xe=new Uint8Array(ge.length+oe);return Xe.set(ge),Xe.set(Je,ge.length),Xe},decode(ge){if(!d(ge))throw new Error("checksum.decode: input should be Uint8Array");const Je=ge.slice(0,-oe),Xe=de(Je).slice(0,oe),Ge=ge.slice(-oe);for(let it=0;it<oe;it++)if(Xe[it]!==Ge[it])throw new Error("Invalid checksum");return Je}}}const $={alphabet:m,chain:v,checksum:D,convertRadix:S,convertRadix2:R,radix:k,radix2:w,join:b,padding:p},V=v(w(4),m("0123456789ABCDEF"),b("")),j=v(w(5),m("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p(5),b("")),xe=v(w(5),m("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p(5),b("")),ue=v(w(5),m("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),b(""),x(oe=>oe.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),L=v(w(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p(6),b("")),W=v(w(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(6),b("")),fe=v(w(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),b("")),_e=oe=>v(k(58),m(oe),b("")),Re=_e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ae=_e("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),we=_e("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),ve=[0,2,3,5,6,7,9,10,11],Ce={encode(oe){let de="";for(let ge=0;ge<oe.length;ge+=8){const Je=oe.subarray(ge,ge+8);de+=Re.encode(Je).padStart(ve[Je.length],"1")}return de},decode(oe){let de=[];for(let ge=0;ge<oe.length;ge+=11){const Je=oe.slice(ge,ge+11),Xe=ve.indexOf(Je.length),Ge=Re.decode(Je);for(let it=0;it<Ge.length-Xe;it++)if(Ge[it]!==0)throw new Error("base58xmr: wrong padding");de=de.concat(Array.from(Ge.slice(Ge.length-Xe)))}return Uint8Array.from(de)}},Fe=oe=>v(D(4,de=>oe(oe(de))),Re),lt=Fe,nt=v(m("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),b("")),J=[996825010,642813549,513874426,1027748829,705979059];function M(oe){const de=oe>>25;let ge=(oe&33554431)<<5;for(let Je=0;Je<J.length;Je++)(de>>Je&1)===1&&(ge^=J[Je]);return ge}function z(oe,de,ge=1){const Je=oe.length;let Xe=1;for(let Ge=0;Ge<Je;Ge++){const it=oe.charCodeAt(Ge);if(it<33||it>126)throw new Error(`Invalid prefix (${oe})`);Xe=M(Xe)^it>>5}Xe=M(Xe);for(let Ge=0;Ge<Je;Ge++)Xe=M(Xe)^oe.charCodeAt(Ge)&31;for(let Ge of de)Xe=M(Xe)^Ge;for(let Ge=0;Ge<6;Ge++)Xe=M(Xe);return Xe^=ge,nt.encode(R([Xe%2**30],30,5,!1))}function se(oe){const de=oe==="bech32"?1:734539939,ge=w(5),Je=ge.decode,Xe=ge.encode,Ge=U(Je);function it(gt,Bt,fr=90){if(typeof gt!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof gt}`);if(!Array.isArray(Bt)||Bt.length&&typeof Bt[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof Bt}`);const pr=gt.length+7+Bt.length;if(fr!==!1&&pr>fr)throw new TypeError(`Length ${pr} exceeds limit ${fr}`);const Ir=gt.toLowerCase(),Tr=z(Ir,Bt,de);return`${Ir}1${nt.encode(Bt)}${Tr}`}function Qt(gt,Bt=90){if(typeof gt!="string")throw new Error(`bech32.decode input should be string, not ${typeof gt}`);if(gt.length<8||Bt!==!1&&gt.length>Bt)throw new TypeError(`Wrong string length: ${gt.length} (${gt}). Expected (8..${Bt})`);const fr=gt.toLowerCase();if(gt!==fr&&gt!==gt.toUpperCase())throw new Error("String must be lowercase or uppercase");gt=fr;const pr=gt.lastIndexOf("1");if(pr===0||pr===-1)throw new Error('Letter "1" must be present between prefix and data only');const Ir=gt.slice(0,pr),Tr=gt.slice(pr+1);if(Tr.length<6)throw new Error("Data must be at least 6 characters long");const En=nt.decode(Tr).slice(0,-6),re=z(Ir,En,de);if(!Tr.endsWith(re))throw new Error(`Invalid checksum in ${gt}: expected "${re}"`);return{prefix:Ir,words:En}}const Mt=U(Qt);function wr(gt){const{prefix:Bt,words:fr}=Qt(gt,!1);return{prefix:Bt,words:fr,bytes:Je(fr)}}return{encode:it,decode:Qt,decodeToBytes:wr,decodeUnsafe:Mt,fromWords:Je,fromWordsUnsafe:Ge,toWords:Xe}}const X=se("bech32"),Y=se("bech32m"),Ee={encode:oe=>new TextDecoder().decode(oe),decode:oe=>new TextEncoder().encode(oe)},Qe=v(w(4),m("0123456789abcdef"),b(""),x(oe=>{if(typeof oe!="string"||oe.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof oe} with length ${oe.length}`);return oe.toLowerCase()})),Ae={utf8:Ee,hex:Qe,base16:V,base32:j,base64:L,base64url:W,base58:Re,base58xmr:Ce},Ke="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",It=(oe,de)=>{if(typeof oe!="string"||!Ae.hasOwnProperty(oe))throw new TypeError(Ke);if(!d(de))throw new TypeError("bytesToString() expects Uint8Array");return Ae[oe].encode(de)},Ot=It,nr=(oe,de)=>{if(!Ae.hasOwnProperty(oe))throw new TypeError(Ke);if(typeof de!="string")throw new TypeError("stringToBytes() expects string");return Ae[oe].decode(de)},cn=nr}}]);
}());