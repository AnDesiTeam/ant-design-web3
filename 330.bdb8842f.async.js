!(function(){var J1=Object.defineProperty;var X1=(B,u,x)=>u in B?J1(B,u,{enumerable:!0,configurable:!0,writable:!0,value:x}):B[u]=x;var O=(B,u,x)=>(X1(B,typeof u!="symbol"?u+"":u,x),x);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[330],{64230:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(b){b[b.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},61125:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var b=x(64230);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return b.KeyType}});var d=x(20181);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return d.KeyPair}});var v=x(29624);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var g=x(61624);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return g.PublicKey}})},20181:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const b=x(61736),d=x(29624);class v extends b.KeyPairBase{static fromRandom(E){switch(E.toUpperCase()){case"ED25519":return d.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${E}`)}}static fromString(E){const y=E.split(":");if(y.length===1)return new d.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new d.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=v},61736:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},29624:function(B,u,x){"use strict";var b=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const d=x(48797),v=b(x(15711)),g=x(64230),E=x(61736),y=x(61624);class h extends E.KeyPairBase{constructor(A){super();const I=v.default.sign.keyPair.fromSecretKey((0,d.baseDecode)(A));this.publicKey=new y.PublicKey({keyType:g.KeyType.ED25519,data:I.publicKey}),this.secretKey=A}static fromRandom(){const A=v.default.sign.keyPair();return new h((0,d.baseEncode)(A.secretKey))}sign(A){return{signature:v.default.sign.detached(A,(0,d.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(A,I){return this.publicKey.verify(A,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},61624:function(B,u,x){"use strict";var b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const d=x(95036),v=x(48797),g=b(x(15711)),E=x(64230);function y(A){switch(A){case E.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${A}`)}}function h(A){switch(A.toLowerCase()){case"ed25519":return E.KeyType.ED25519;default:throw new Error(`Unknown key type ${A}`)}}class _ extends d.Assignable{static from(I){return typeof I=="string"?_.fromString(I):I}static fromString(I){const P=I.split(":");if(P.length===1)return new _({keyType:E.KeyType.ED25519,data:(0,v.baseDecode)(P[0])});if(P.length===2)return new _({keyType:h(P[0]),data:(0,v.baseDecode)(P[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,P){switch(this.keyType){case E.KeyType.ED25519:return g.default.sign.detached.verify(I,P,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=_},76895:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyType=void 0;var x;(function(b){b[b.ED25519=0]="ED25519"})(x=u.KeyType||(u.KeyType={}))},38369:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=u.KeyPairEd25519=u.KeyPair=u.KeyType=void 0;var b=x(76895);Object.defineProperty(u,"KeyType",{enumerable:!0,get:function(){return b.KeyType}});var d=x(89055);Object.defineProperty(u,"KeyPair",{enumerable:!0,get:function(){return d.KeyPair}});var v=x(75713);Object.defineProperty(u,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var g=x(21833);Object.defineProperty(u,"PublicKey",{enumerable:!0,get:function(){return g.PublicKey}})},89055:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPair=void 0;const b=x(34980),d=x(75713);class v extends b.KeyPairBase{static fromRandom(E){switch(E.toUpperCase()){case"ED25519":return d.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${E}`)}}static fromString(E){const y=E.split(":");if(y.length===1)return new d.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new d.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}u.KeyPair=v},34980:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairBase=void 0;class x{}u.KeyPairBase=x},75713:function(B,u,x){"use strict";var b=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(u,"__esModule",{value:!0}),u.KeyPairEd25519=void 0;const d=x(48797),v=b(x(15711)),g=x(76895),E=x(34980),y=x(21833);class h extends E.KeyPairBase{constructor(A){super();const I=v.default.sign.keyPair.fromSecretKey((0,d.baseDecode)(A));this.publicKey=new y.PublicKey({keyType:g.KeyType.ED25519,data:I.publicKey}),this.secretKey=A}static fromRandom(){const A=v.default.sign.keyPair();return new h((0,d.baseEncode)(A.secretKey))}sign(A){return{signature:v.default.sign.detached(A,(0,d.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(A,I){return this.publicKey.verify(A,I)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}u.KeyPairEd25519=h},21833:function(B,u,x){"use strict";var b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(u,"__esModule",{value:!0}),u.PublicKey=void 0;const d=x(85918),v=x(48797),g=b(x(15711)),E=x(76895);function y(A){switch(A){case E.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${A}`)}}function h(A){switch(A.toLowerCase()){case"ed25519":return E.KeyType.ED25519;default:throw new Error(`Unknown key type ${A}`)}}class _ extends d.Assignable{static from(I){return typeof I=="string"?_.fromString(I):I}static fromString(I){const P=I.split(":");if(P.length===1)return new _({keyType:E.KeyType.ED25519,data:(0,v.baseDecode)(P[0])});if(P.length===2)return new _({keyType:h(P[0]),data:(0,v.baseDecode)(P[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(I,P){switch(this.keyType){case E.KeyType.ED25519:return g.default.sign.detached.verify(I,P,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}u.PublicKey=_},64091:function(B,u,x){"use strict";var b=this&&this.__awaiter||function(y,h,_,A){function I(P){return P instanceof _?P:new _(function(C){C(P)})}return new(_||(_=Promise))(function(P,C){function w(q){try{D(A.next(q))}catch(ee){C(ee)}}function U(q){try{D(A.throw(q))}catch(ee){C(ee)}}function D(q){q.done?P(q.value):I(q.value).then(w,U)}D((A=A.apply(y,h||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.BrowserLocalStorageKeyStore=void 0;const d=x(61125),v=x(38149),g="near-api-js:keystore:";class E extends v.KeyStore{constructor(h=window.localStorage,_=g){super(),this.localStorage=h,this.prefix=_}setKey(h,_,A){return b(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(h,_),A.toString())})}getKey(h,_){return b(this,void 0,void 0,function*(){const A=this.localStorage.getItem(this.storageKeyForSecretKey(h,_));return A?d.KeyPair.fromString(A):null})}removeKey(h,_){return b(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(h,_))})}clear(){return b(this,void 0,void 0,function*(){for(const h of this.storageKeys())h.startsWith(this.prefix)&&this.localStorage.removeItem(h)})}getNetworks(){return b(this,void 0,void 0,function*(){const h=new Set;for(const _ of this.storageKeys())if(_.startsWith(this.prefix)){const A=_.substring(this.prefix.length).split(":");h.add(A[1])}return Array.from(h.values())})}getAccounts(h){return b(this,void 0,void 0,function*(){const _=new Array;for(const A of this.storageKeys())if(A.startsWith(this.prefix)){const I=A.substring(this.prefix.length).split(":");I[1]===h&&_.push(I[0])}return _})}storageKeyForSecretKey(h,_){return`${this.prefix}${_}:${h}`}*storageKeys(){for(let h=0;h<this.localStorage.length;h++)yield this.localStorage.key(h)}}u.BrowserLocalStorageKeyStore=E},67265:function(B,u,x){"use strict";var b;b={value:!0},u.X=void 0;var d=x(64091);Object.defineProperty(u,"X",{enumerable:!0,get:function(){return d.BrowserLocalStorageKeyStore}})},62384:function(B,u,x){"use strict";var b=this&&this.__awaiter||function(E,y,h,_){function A(I){return I instanceof h?I:new h(function(P){P(I)})}return new(h||(h=Promise))(function(I,P){function C(D){try{U(_.next(D))}catch(q){P(q)}}function w(D){try{U(_.throw(D))}catch(q){P(q)}}function U(D){D.done?I(D.value):A(D.value).then(C,w)}U((_=_.apply(E,y||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.InMemoryKeyStore=void 0;const d=x(61125),v=x(56363);class g extends v.KeyStore{constructor(){super(),this.keys={}}setKey(y,h,_){return b(this,void 0,void 0,function*(){this.keys[`${h}:${y}`]=_.toString()})}getKey(y,h){return b(this,void 0,void 0,function*(){const _=this.keys[`${h}:${y}`];return _?d.KeyPair.fromString(_):null})}removeKey(y,h){return b(this,void 0,void 0,function*(){delete this.keys[`${h}:${y}`]})}clear(){return b(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return b(this,void 0,void 0,function*(){const y=new Set;return Object.keys(this.keys).forEach(h=>{const _=h.split(":");y.add(_[1])}),Array.from(y.values())})}getAccounts(y){return b(this,void 0,void 0,function*(){const h=new Array;return Object.keys(this.keys).forEach(_=>{const A=_.split(":");A[A.length-1]===y&&h.push(A.slice(0,A.length-1).join(":"))}),h})}toString(){return"InMemoryKeyStore"}}u.InMemoryKeyStore=g},38149:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=u.KeyStore=u.InMemoryKeyStore=void 0;var b=x(62384);Object.defineProperty(u,"InMemoryKeyStore",{enumerable:!0,get:function(){return b.InMemoryKeyStore}});var d=x(56363);Object.defineProperty(u,"KeyStore",{enumerable:!0,get:function(){return d.KeyStore}});var v=x(73917);Object.defineProperty(u,"MergeKeyStore",{enumerable:!0,get:function(){return v.MergeKeyStore}})},56363:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyStore=void 0;class x{}u.KeyStore=x},73917:function(B,u,x){"use strict";var b=this&&this.__awaiter||function(g,E,y,h){function _(A){return A instanceof y?A:new y(function(I){I(A)})}return new(y||(y=Promise))(function(A,I){function P(U){try{w(h.next(U))}catch(D){I(D)}}function C(U){try{w(h.throw(U))}catch(D){I(D)}}function w(U){U.done?A(U.value):_(U.value).then(P,C)}w((h=h.apply(g,E||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.MergeKeyStore=void 0;const d=x(56363);class v extends d.KeyStore{constructor(E,y={writeKeyStoreIndex:0}){super(),this.options=y,this.keyStores=E}setKey(E,y,h){return b(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(E,y,h)})}getKey(E,y){return b(this,void 0,void 0,function*(){for(const h of this.keyStores){const _=yield h.getKey(E,y);if(_)return _}return null})}removeKey(E,y){return b(this,void 0,void 0,function*(){for(const h of this.keyStores)yield h.removeKey(E,y)})}clear(){return b(this,void 0,void 0,function*(){for(const E of this.keyStores)yield E.clear()})}getNetworks(){return b(this,void 0,void 0,function*(){const E=new Set;for(const y of this.keyStores)for(const h of yield y.getNetworks())E.add(h);return Array.from(E)})}getAccounts(E){return b(this,void 0,void 0,function*(){const y=new Set;for(const h of this.keyStores)for(const _ of yield h.getAccounts(E))y.add(_);return Array.from(y)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}u.MergeKeyStore=v},48788:function(B,u,x){"use strict";var b=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0}),u.actionCreators=u.stringifyJsonOrBytes=void 0;const d=x(7632);function v(){return new d.AccessKey({permission:new d.AccessKeyPermission({fullAccess:new d.FullAccessPermission({})})})}function g(D,q,ee){return new d.AccessKey({permission:new d.AccessKeyPermission({functionCall:new d.FunctionCallPermission({receiverId:D,allowance:ee,methodNames:q})})})}function E(){return new d.Action({createAccount:new d.CreateAccount({})})}function y(D){return new d.Action({deployContract:new d.DeployContract({code:D})})}function h(D){return D.byteLength!==void 0&&D.byteLength===D.length?D:b.from(JSON.stringify(D))}u.stringifyJsonOrBytes=h;function _(D,q,ee,Y,ye=h,W=!1){return W?new d.Action({functionCall:new d.FunctionCall({methodName:D,args:q,gas:ee,deposit:Y})}):new d.Action({functionCall:new d.FunctionCall({methodName:D,args:ye(q),gas:ee,deposit:Y})})}function A(D){return new d.Action({transfer:new d.Transfer({deposit:D})})}function I(D,q){return new d.Action({stake:new d.Stake({stake:D,publicKey:q})})}function P(D,q){return new d.Action({addKey:new d.AddKey({publicKey:D,accessKey:q})})}function C(D){return new d.Action({deleteKey:new d.DeleteKey({publicKey:D})})}function w(D){return new d.Action({deleteAccount:new d.DeleteAccount({beneficiaryId:D})})}function U({delegateAction:D,signature:q}){return new d.Action({signedDelegate:new d.SignedDelegate({delegateAction:D,signature:q})})}u.actionCreators={addKey:P,createAccount:E,deleteAccount:w,deleteKey:C,deployContract:y,fullAccessKey:v,functionCall:_,functionCallAccessKey:g,signedDelegate:U,stake:I,transfer:A}},7632:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Action=u.SignedDelegate=u.DeleteAccount=u.DeleteKey=u.AddKey=u.Stake=u.Transfer=u.FunctionCall=u.DeployContract=u.CreateAccount=u.IAction=u.AccessKey=u.AccessKeyPermission=u.FullAccessPermission=u.FunctionCallPermission=void 0;const b=x(85918);class d{constructor(ye){if(Object.keys(ye).length!==1)throw new Error("Enum can only take single value");Object.keys(ye).map(W=>{this[W]=ye[W],this.enum=W})}}class v extends b.Assignable{}u.FunctionCallPermission=v;class g extends b.Assignable{}u.FullAccessPermission=g;class E extends d{}u.AccessKeyPermission=E;class y extends b.Assignable{}u.AccessKey=y;class h extends b.Assignable{}u.IAction=h;class _ extends h{}u.CreateAccount=_;class A extends h{}u.DeployContract=A;class I extends h{}u.FunctionCall=I;class P extends h{}u.Transfer=P;class C extends h{}u.Stake=C;class w extends h{}u.AddKey=w;class U extends h{}u.DeleteKey=U;class D extends h{}u.DeleteAccount=D;class q extends h{}u.SignedDelegate=q;class ee extends d{}u.Action=ee},51084:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createTransaction=void 0;const b=x(56855);function d(v,g,E,y,h,_){return new b.Transaction({signerId:v,publicKey:g,nonce:y,receiverId:E,actions:h,blockHash:_})}u.createTransaction=d},72864:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.buildDelegateAction=u.DelegateAction=void 0;const b=x(85918);class d extends b.Assignable{}u.DelegateAction=d;function v({actions:g,maxBlockHeight:E,nonce:y,publicKey:h,receiverId:_,senderId:A}){return new d({senderId:A,receiverId:_,actions:g,nonce:y,maxBlockHeight:E,publicKey:h})}u.buildDelegateAction=v},7782:function(B,u,x){"use strict";var b=this&&this.__createBinding||(Object.create?function(v,g,E,y){y===void 0&&(y=E);var h=Object.getOwnPropertyDescriptor(g,E);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[E]}}),Object.defineProperty(v,y,h)}:function(v,g,E,y){y===void 0&&(y=E),v[y]=g[E]}),d=this&&this.__exportStar||function(v,g){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(g,E)&&b(g,v,E)};Object.defineProperty(u,"__esModule",{value:!0}),d(x(48788),u),d(x(7632),u),d(x(51084),u),d(x(72864),u),d(x(56855),u),d(x(65086),u),d(x(6409),u)},59659:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DelegateActionPrefix=void 0;const b=x(85918),d=Math.pow(2,30),v={MetaTransactions:366};class g extends b.Assignable{}class E extends g{constructor(_){super({prefix:d+_})}}class y extends E{constructor(){super(v.MetaTransactions)}}u.DelegateActionPrefix=y},56855:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SCHEMA=u.SignedTransaction=u.Transaction=u.decodeSignedTransaction=u.decodeTransaction=u.encodeTransaction=u.encodeSignedDelegate=u.encodeDelegateAction=void 0;const b=x(38369),d=x(85918),v=x(48797),g=x(7632),E=x(72864),y=x(59659),h=x(6409);function _(D){return new Uint8Array([...(0,v.serialize)(u.SCHEMA,new y.DelegateActionPrefix),...(0,v.serialize)(u.SCHEMA,D)])}u.encodeDelegateAction=_;function A(D){return(0,v.serialize)(u.SCHEMA,D)}u.encodeSignedDelegate=A;function I(D){return(0,v.serialize)(u.SCHEMA,D)}u.encodeTransaction=I;function P(D){return(0,v.deserialize)(u.SCHEMA,w,D)}u.decodeTransaction=P;function C(D){return(0,v.deserialize)(u.SCHEMA,U,D)}u.decodeSignedTransaction=C;class w extends d.Assignable{encode(){return I(this)}static decode(q){return P(q)}}u.Transaction=w;class U extends d.Assignable{encode(){return I(this)}static decode(q){return C(q)}}u.SignedTransaction=U,u.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[U,{kind:"struct",fields:[["transaction",w],["signature",h.Signature]]}],[w,{kind:"struct",fields:[["signerId","string"],["publicKey",b.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[g.Action]]]}],[b.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[g.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",g.AccessKeyPermission]]}],[g.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",g.FunctionCallPermission],["fullAccess",g.FullAccessPermission]]}],[g.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[g.FullAccessPermission,{kind:"struct",fields:[]}],[g.Action,{kind:"enum",field:"enum",values:[["createAccount",g.CreateAccount],["deployContract",g.DeployContract],["functionCall",g.FunctionCall],["transfer",g.Transfer],["stake",g.Stake],["addKey",g.AddKey],["deleteKey",g.DeleteKey],["deleteAccount",g.DeleteAccount],["signedDelegate",g.SignedDelegate]]}],[g.CreateAccount,{kind:"struct",fields:[]}],[g.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[g.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[g.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[g.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",b.PublicKey]]}],[g.AddKey,{kind:"struct",fields:[["publicKey",b.PublicKey],["accessKey",g.AccessKey]]}],[g.DeleteKey,{kind:"struct",fields:[["publicKey",b.PublicKey]]}],[g.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[E.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[g.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",b.PublicKey]]}],[y.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[g.SignedDelegate,{kind:"struct",fields:[["delegateAction",E.DelegateAction],["signature",h.Signature]]}]])},65086:function(B,u,x){"use strict";var b=this&&this.__awaiter||function(P,C,w,U){function D(q){return q instanceof w?q:new w(function(ee){ee(q)})}return new(w||(w=Promise))(function(q,ee){function Y(te){try{W(U.next(te))}catch(X){ee(X)}}function ye(te){try{W(U.throw(te))}catch(X){ee(X)}}function W(te){te.done?q(te.value):D(te.value).then(Y,ye)}W((U=U.apply(P,C||[])).next())})},d=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(u,"__esModule",{value:!0}),u.signDelegateAction=u.signTransaction=void 0;const v=d(x(3541)),g=x(7632),E=x(51084),y=x(56855),h=x(6409);function _(P,C,w,U){return b(this,void 0,void 0,function*(){const D=(0,y.encodeTransaction)(P),q=new Uint8Array(v.default.sha256.array(D)),ee=yield C.signMessage(D,w,U),Y=new y.SignedTransaction({transaction:P,signature:new h.Signature({keyType:P.publicKey.keyType,data:ee.signature})});return[q,Y]})}function A(...P){return b(this,void 0,void 0,function*(){if(P[0].constructor===y.Transaction){const[C,w,U,D]=P;return _(C,w,U,D)}else{const[C,w,U,D,q,ee,Y]=P,ye=yield q.getPublicKey(ee,Y),W=(0,E.createTransaction)(ee,ye,C,w,U,D);return _(W,q,ee,Y)}})}u.signTransaction=A;function I({delegateAction:P,signer:C}){return b(this,void 0,void 0,function*(){const w=(0,y.encodeDelegateAction)(P),U=yield C.sign(w),D=new g.SignedDelegate({delegateAction:P,signature:new h.Signature({keyType:P.publicKey.keyType,data:U})});return{hash:new Uint8Array(v.default.sha256.array(w)),signedDelegateAction:D}})}u.signDelegateAction=I},6409:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Signature=void 0;const b=x(85918);class d extends b.Assignable{}u.Signature=d},99491:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(d){Object.keys(d).map(v=>{this[v]=d[v]})}}u.Assignable=x},84770:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class b extends Error{constructor(E,y,h){super(`Expected ${y} for '${E}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=b;class d extends Error{constructor(E,y,h){super(E),this.type=y||"UntypedError",this.context=h}}u.TypedError=d;class v{constructor(E){this.transactionHash=E}}u.ErrorContext=v},95036:function(B,u,x){"use strict";var b=this&&this.__createBinding||(Object.create?function(v,g,E,y){y===void 0&&(y=E);var h=Object.getOwnPropertyDescriptor(g,E);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[E]}}),Object.defineProperty(v,y,h)}:function(v,g,E,y){y===void 0&&(y=E),v[y]=g[E]}),d=this&&this.__exportStar||function(v,g){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(g,E)&&b(g,v,E)};Object.defineProperty(u,"__esModule",{value:!0}),d(x(99491),u),d(x(84770),u),d(x(61721),u)},61721:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var b=x(88297);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return b.IdType}});var d=x(20862);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return d.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return d.FinalExecutionStatusBasic}})},88297:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(b){b.Transaction="transaction",b.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},20862:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(d){d.Unknown="Unknown",d.Pending="Pending",d.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var b;(function(d){d.NotStarted="NotStarted",d.Started="Started",d.Failure="Failure"})(b=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},94510:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assignable=void 0;class x{constructor(d){Object.keys(d).map(v=>{this[v]=d[v]})}}u.Assignable=x},65499:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ErrorContext=u.TypedError=u.ArgumentTypeError=u.PositionalArgsError=void 0;class x extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}u.PositionalArgsError=x;class b extends Error{constructor(E,y,h){super(`Expected ${y} for '${E}' argument, but got '${JSON.stringify(h)}'`)}}u.ArgumentTypeError=b;class d extends Error{constructor(E,y,h){super(E),this.type=y||"UntypedError",this.context=h}}u.TypedError=d;class v{constructor(E){this.transactionHash=E}}u.ErrorContext=v},85918:function(B,u,x){"use strict";var b=this&&this.__createBinding||(Object.create?function(v,g,E,y){y===void 0&&(y=E);var h=Object.getOwnPropertyDescriptor(g,E);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[E]}}),Object.defineProperty(v,y,h)}:function(v,g,E,y){y===void 0&&(y=E),v[y]=g[E]}),d=this&&this.__exportStar||function(v,g){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(g,E)&&b(g,v,E)};Object.defineProperty(u,"__esModule",{value:!0}),d(x(94510),u),d(x(65499),u),d(x(90835),u)},90835:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=u.IdType=void 0;var b=x(42164);Object.defineProperty(u,"IdType",{enumerable:!0,get:function(){return b.IdType}});var d=x(6595);Object.defineProperty(u,"ExecutionStatusBasic",{enumerable:!0,get:function(){return d.ExecutionStatusBasic}}),Object.defineProperty(u,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return d.FinalExecutionStatusBasic}})},42164:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.IdType=void 0;var x;(function(b){b.Transaction="transaction",b.Receipt="receipt"})(x=u.IdType||(u.IdType={}))},6595:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FinalExecutionStatusBasic=u.ExecutionStatusBasic=void 0;var x;(function(d){d.Unknown="Unknown",d.Pending="Pending",d.Failure="Failure"})(x=u.ExecutionStatusBasic||(u.ExecutionStatusBasic={}));var b;(function(d){d.NotStarted="NotStarted",d.Started="Started",d.Failure="Failure"})(b=u.FinalExecutionStatusBasic||(u.FinalExecutionStatusBasic={}))},69031:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.output=u.exists=u.hash=u.bytes=u.bool=u.number=void 0;function x(h){if(!Number.isSafeInteger(h)||h<0)throw new Error(`Wrong positive integer: ${h}`)}u.number=x;function b(h){if(typeof h!="boolean")throw new Error(`Expected boolean, not ${h}`)}u.bool=b;function d(h,..._){if(!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length>0&&!_.includes(h.length))throw new TypeError(`Expected Uint8Array of length ${_}, not of length=${h.length}`)}u.bytes=d;function v(h){if(typeof h!="function"||typeof h.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x(h.outputLen),x(h.blockLen)}u.hash=v;function g(h,_=!0){if(h.destroyed)throw new Error("Hash instance has been destroyed");if(_&&h.finished)throw new Error("Hash#digest() has already been called")}u.exists=g;function E(h,_){d(h);const A=_.outputLen;if(h.length<A)throw new Error(`digestInto() expects output buffer of length at least ${A}`)}u.output=E;const y={number:x,bool:b,bytes:d,hash:v,exists:g,output:E};u.default=y},52606:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SHA2=void 0;const b=x(69031),d=x(17767);function v(E,y,h,_){if(typeof E.setBigUint64=="function")return E.setBigUint64(y,h,_);const A=BigInt(32),I=BigInt(4294967295),P=Number(h>>A&I),C=Number(h&I),w=_?4:0,U=_?0:4;E.setUint32(y+w,P,_),E.setUint32(y+U,C,_)}class g extends d.Hash{constructor(y,h,_,A){super(),this.blockLen=y,this.outputLen=h,this.padOffset=_,this.isLE=A,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(y),this.view=(0,d.createView)(this.buffer)}update(y){b.default.exists(this);const{view:h,buffer:_,blockLen:A}=this;y=(0,d.toBytes)(y);const I=y.length;for(let P=0;P<I;){const C=Math.min(A-this.pos,I-P);if(C===A){const w=(0,d.createView)(y);for(;A<=I-P;P+=A)this.process(w,P);continue}_.set(y.subarray(P,P+C),this.pos),this.pos+=C,P+=C,this.pos===A&&(this.process(h,0),this.pos=0)}return this.length+=y.length,this.roundClean(),this}digestInto(y){b.default.exists(this),b.default.output(y,this),this.finished=!0;const{buffer:h,view:_,blockLen:A,isLE:I}=this;let{pos:P}=this;h[P++]=128,this.buffer.subarray(P).fill(0),this.padOffset>A-P&&(this.process(_,0),P=0);for(let w=P;w<A;w++)h[w]=0;v(_,A-8,BigInt(this.length*8),I),this.process(_,0);const C=(0,d.createView)(y);this.get().forEach((w,U)=>C.setUint32(4*U,w,I))}digest(){const{buffer:y,outputLen:h}=this;this.digestInto(y);const _=y.slice(0,h);return this.destroy(),_}_cloneInto(y){y||(y=new this.constructor),y.set(...this.get());const{blockLen:h,buffer:_,length:A,finished:I,destroyed:P,pos:C}=this;return y.length=A,y.pos=C,y.finished=I,y.destroyed=P,A%h&&y.buffer.set(_),y}}u.SHA2=g},59561:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.add=u.toBig=u.split=u.fromBig=void 0;const x=BigInt(2**32-1),b=BigInt(32);function d(pe,ve=!1){return ve?{h:Number(pe&x),l:Number(pe>>b&x)}:{h:Number(pe>>b&x)|0,l:Number(pe&x)|0}}u.fromBig=d;function v(pe,ve=!1){let F=new Uint32Array(pe.length),ie=new Uint32Array(pe.length);for(let re=0;re<pe.length;re++){const{h:he,l:Pe}=d(pe[re],ve);[F[re],ie[re]]=[he,Pe]}return[F,ie]}u.split=v;const g=(pe,ve)=>BigInt(pe>>>0)<<b|BigInt(ve>>>0);u.toBig=g;const E=(pe,ve,F)=>pe>>>F,y=(pe,ve,F)=>pe<<32-F|ve>>>F,h=(pe,ve,F)=>pe>>>F|ve<<32-F,_=(pe,ve,F)=>pe<<32-F|ve>>>F,A=(pe,ve,F)=>pe<<64-F|ve>>>F-32,I=(pe,ve,F)=>pe>>>F-32|ve<<64-F,P=(pe,ve)=>ve,C=(pe,ve)=>pe,w=(pe,ve,F)=>pe<<F|ve>>>32-F,U=(pe,ve,F)=>ve<<F|pe>>>32-F,D=(pe,ve,F)=>ve<<F-32|pe>>>64-F,q=(pe,ve,F)=>pe<<F-32|ve>>>64-F;function ee(pe,ve,F,ie){const re=(ve>>>0)+(ie>>>0);return{h:pe+F+(re/2**32|0)|0,l:re|0}}u.add=ee;const Y=(pe,ve,F)=>(pe>>>0)+(ve>>>0)+(F>>>0),ye=(pe,ve,F,ie)=>ve+F+ie+(pe/2**32|0)|0,W=(pe,ve,F,ie)=>(pe>>>0)+(ve>>>0)+(F>>>0)+(ie>>>0),te=(pe,ve,F,ie,re)=>ve+F+ie+re+(pe/2**32|0)|0,X=(pe,ve,F,ie,re)=>(pe>>>0)+(ve>>>0)+(F>>>0)+(ie>>>0)+(re>>>0),le=(pe,ve,F,ie,re,he)=>ve+F+ie+re+he+(pe/2**32|0)|0,Re={fromBig:d,split:v,toBig:u.toBig,shrSH:E,shrSL:y,rotrSH:h,rotrSL:_,rotrBH:A,rotrBL:I,rotr32H:P,rotr32L:C,rotlSH:w,rotlSL:U,rotlBH:D,rotlBL:q,add:ee,add3L:Y,add3H:ye,add4L:W,add4H:te,add5H:le,add5L:X};u.default=Re},31215:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.crypto=void 0,u.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}},18023:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.hmac=void 0;const b=x(69031),d=x(17767);class v extends d.Hash{constructor(y,h){super(),this.finished=!1,this.destroyed=!1,b.default.hash(y);const _=(0,d.toBytes)(h);if(this.iHash=y.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const A=this.blockLen,I=new Uint8Array(A);I.set(_.length>A?y.create().update(_).digest():_);for(let P=0;P<I.length;P++)I[P]^=54;this.iHash.update(I),this.oHash=y.create();for(let P=0;P<I.length;P++)I[P]^=106;this.oHash.update(I),I.fill(0)}update(y){return b.default.exists(this),this.iHash.update(y),this}digestInto(y){b.default.exists(this),b.default.bytes(y,this.outputLen),this.finished=!0,this.iHash.digestInto(y),this.oHash.update(y),this.oHash.digestInto(y),this.destroy()}digest(){const y=new Uint8Array(this.oHash.outputLen);return this.digestInto(y),y}_cloneInto(y){y||(y=Object.create(Object.getPrototypeOf(this),{}));const{oHash:h,iHash:_,finished:A,destroyed:I,blockLen:P,outputLen:C}=this;return y=y,y.finished=A,y.destroyed=I,y.blockLen=P,y.outputLen=C,y.oHash=h._cloneInto(y.oHash),y.iHash=_._cloneInto(y.iHash),y}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const g=(E,y,h)=>new v(E,y).update(h).digest();u.hmac=g,u.hmac.create=(E,y)=>new v(E,y)},53122:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pbkdf2Async=u.pbkdf2=void 0;const b=x(69031),d=x(18023),v=x(17767);function g(_,A,I,P){b.default.hash(_);const C=(0,v.checkOpts)({dkLen:32,asyncTick:10},P),{c:w,dkLen:U,asyncTick:D}=C;if(b.default.number(w),b.default.number(U),b.default.number(D),w<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const q=(0,v.toBytes)(A),ee=(0,v.toBytes)(I),Y=new Uint8Array(U),ye=d.hmac.create(_,q),W=ye._cloneInto().update(ee);return{c:w,dkLen:U,asyncTick:D,DK:Y,PRF:ye,PRFSalt:W}}function E(_,A,I,P,C){return _.destroy(),A.destroy(),P&&P.destroy(),C.fill(0),I}function y(_,A,I,P){const{c:C,dkLen:w,DK:U,PRF:D,PRFSalt:q}=g(_,A,I,P);let ee;const Y=new Uint8Array(4),ye=(0,v.createView)(Y),W=new Uint8Array(D.outputLen);for(let te=1,X=0;X<w;te++,X+=D.outputLen){const le=U.subarray(X,X+D.outputLen);ye.setInt32(0,te,!1),(ee=q._cloneInto(ee)).update(Y).digestInto(W),le.set(W.subarray(0,le.length));for(let Re=1;Re<C;Re++){D._cloneInto(ee).update(W).digestInto(W);for(let pe=0;pe<le.length;pe++)le[pe]^=W[pe]}}return E(D,q,U,ee,W)}u.pbkdf2=y;async function h(_,A,I,P){const{c:C,dkLen:w,asyncTick:U,DK:D,PRF:q,PRFSalt:ee}=g(_,A,I,P);let Y;const ye=new Uint8Array(4),W=(0,v.createView)(ye),te=new Uint8Array(q.outputLen);for(let X=1,le=0;le<w;X++,le+=q.outputLen){const Re=D.subarray(le,le+q.outputLen);W.setInt32(0,X,!1),(Y=ee._cloneInto(Y)).update(ye).digestInto(te),Re.set(te.subarray(0,Re.length)),await(0,v.asyncLoop)(C-1,U,pe=>{q._cloneInto(Y).update(te).digestInto(te);for(let ve=0;ve<Re.length;ve++)Re[ve]^=te[ve]})}return E(q,ee,D,Y,te)}u.pbkdf2Async=h},73081:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha256=void 0;const b=x(52606),d=x(17767),v=(A,I,P)=>A&I^~A&P,g=(A,I,P)=>A&I^A&P^I&P,E=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class _ extends b.SHA2{constructor(){super(64,32,8,!1),this.A=y[0]|0,this.B=y[1]|0,this.C=y[2]|0,this.D=y[3]|0,this.E=y[4]|0,this.F=y[5]|0,this.G=y[6]|0,this.H=y[7]|0}get(){const{A:I,B:P,C,D:w,E:U,F:D,G:q,H:ee}=this;return[I,P,C,w,U,D,q,ee]}set(I,P,C,w,U,D,q,ee){this.A=I|0,this.B=P|0,this.C=C|0,this.D=w|0,this.E=U|0,this.F=D|0,this.G=q|0,this.H=ee|0}process(I,P){for(let W=0;W<16;W++,P+=4)h[W]=I.getUint32(P,!1);for(let W=16;W<64;W++){const te=h[W-15],X=h[W-2],le=(0,d.rotr)(te,7)^(0,d.rotr)(te,18)^te>>>3,Re=(0,d.rotr)(X,17)^(0,d.rotr)(X,19)^X>>>10;h[W]=Re+h[W-7]+le+h[W-16]|0}let{A:C,B:w,C:U,D,E:q,F:ee,G:Y,H:ye}=this;for(let W=0;W<64;W++){const te=(0,d.rotr)(q,6)^(0,d.rotr)(q,11)^(0,d.rotr)(q,25),X=ye+te+v(q,ee,Y)+E[W]+h[W]|0,Re=((0,d.rotr)(C,2)^(0,d.rotr)(C,13)^(0,d.rotr)(C,22))+g(C,w,U)|0;ye=Y,Y=ee,ee=q,q=D+X|0,D=U,U=w,w=C,C=X+Re|0}C=C+this.A|0,w=w+this.B|0,U=U+this.C|0,D=D+this.D|0,q=q+this.E|0,ee=ee+this.F|0,Y=Y+this.G|0,ye=ye+this.H|0,this.set(C,w,U,D,q,ee,Y,ye)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}u.sha256=(0,d.wrapConstructor)(()=>new _)},54878:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sha384=u.sha512_256=u.sha512=u.SHA512=void 0;const b=x(52606),d=x(59561),v=x(17767),[g,E]=d.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(P=>BigInt(P))),y=new Uint32Array(80),h=new Uint32Array(80);class _ extends b.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:C,Al:w,Bh:U,Bl:D,Ch:q,Cl:ee,Dh:Y,Dl:ye,Eh:W,El:te,Fh:X,Fl:le,Gh:Re,Gl:pe,Hh:ve,Hl:F}=this;return[C,w,U,D,q,ee,Y,ye,W,te,X,le,Re,pe,ve,F]}set(C,w,U,D,q,ee,Y,ye,W,te,X,le,Re,pe,ve,F){this.Ah=C|0,this.Al=w|0,this.Bh=U|0,this.Bl=D|0,this.Ch=q|0,this.Cl=ee|0,this.Dh=Y|0,this.Dl=ye|0,this.Eh=W|0,this.El=te|0,this.Fh=X|0,this.Fl=le|0,this.Gh=Re|0,this.Gl=pe|0,this.Hh=ve|0,this.Hl=F|0}process(C,w){for(let he=0;he<16;he++,w+=4)y[he]=C.getUint32(w),h[he]=C.getUint32(w+=4);for(let he=16;he<80;he++){const Pe=y[he-15]|0,Se=h[he-15]|0,V=d.default.rotrSH(Pe,Se,1)^d.default.rotrSH(Pe,Se,8)^d.default.shrSH(Pe,Se,7),M=d.default.rotrSL(Pe,Se,1)^d.default.rotrSL(Pe,Se,8)^d.default.shrSL(Pe,Se,7),$=y[he-2]|0,ae=h[he-2]|0,H=d.default.rotrSH($,ae,19)^d.default.rotrBH($,ae,61)^d.default.shrSH($,ae,6),J=d.default.rotrSL($,ae,19)^d.default.rotrBL($,ae,61)^d.default.shrSL($,ae,6),Ee=d.default.add4L(M,J,h[he-7],h[he-16]),We=d.default.add4H(Ee,V,H,y[he-7],y[he-16]);y[he]=We|0,h[he]=Ee|0}let{Ah:U,Al:D,Bh:q,Bl:ee,Ch:Y,Cl:ye,Dh:W,Dl:te,Eh:X,El:le,Fh:Re,Fl:pe,Gh:ve,Gl:F,Hh:ie,Hl:re}=this;for(let he=0;he<80;he++){const Pe=d.default.rotrSH(X,le,14)^d.default.rotrSH(X,le,18)^d.default.rotrBH(X,le,41),Se=d.default.rotrSL(X,le,14)^d.default.rotrSL(X,le,18)^d.default.rotrBL(X,le,41),V=X&Re^~X&ve,M=le&pe^~le&F,$=d.default.add5L(re,Se,M,E[he],h[he]),ae=d.default.add5H($,ie,Pe,V,g[he],y[he]),H=$|0,J=d.default.rotrSH(U,D,28)^d.default.rotrBH(U,D,34)^d.default.rotrBH(U,D,39),Ee=d.default.rotrSL(U,D,28)^d.default.rotrBL(U,D,34)^d.default.rotrBL(U,D,39),We=U&q^U&Y^q&Y,Ce=D&ee^D&ye^ee&ye;ie=ve|0,re=F|0,ve=Re|0,F=pe|0,Re=X|0,pe=le|0,{h:X,l:le}=d.default.add(W|0,te|0,ae|0,H|0),W=Y|0,te=ye|0,Y=q|0,ye=ee|0,q=U|0,ee=D|0;const Ke=d.default.add3L(H,Ee,Ce);U=d.default.add3H(Ke,ae,J,We),D=Ke|0}({h:U,l:D}=d.default.add(this.Ah|0,this.Al|0,U|0,D|0)),{h:q,l:ee}=d.default.add(this.Bh|0,this.Bl|0,q|0,ee|0),{h:Y,l:ye}=d.default.add(this.Ch|0,this.Cl|0,Y|0,ye|0),{h:W,l:te}=d.default.add(this.Dh|0,this.Dl|0,W|0,te|0),{h:X,l:le}=d.default.add(this.Eh|0,this.El|0,X|0,le|0),{h:Re,l:pe}=d.default.add(this.Fh|0,this.Fl|0,Re|0,pe|0),{h:ve,l:F}=d.default.add(this.Gh|0,this.Gl|0,ve|0,F|0),{h:ie,l:re}=d.default.add(this.Hh|0,this.Hl|0,ie|0,re|0),this.set(U,D,q,ee,Y,ye,W,te,X,le,Re,pe,ve,F,ie,re)}roundClean(){y.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}u.SHA512=_;class A extends _{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends _{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}u.sha512=(0,v.wrapConstructor)(()=>new _),u.sha512_256=(0,v.wrapConstructor)(()=>new A),u.sha384=(0,v.wrapConstructor)(()=>new I)},17767:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.randomBytes=u.wrapConstructorWithOpts=u.wrapConstructor=u.checkOpts=u.Hash=u.concatBytes=u.toBytes=u.utf8ToBytes=u.asyncLoop=u.nextTick=u.hexToBytes=u.bytesToHex=u.isLE=u.rotr=u.createView=u.u32=u.u8=void 0;const b=x(31215),d=W=>new Uint8Array(W.buffer,W.byteOffset,W.byteLength);u.u8=d;const v=W=>new Uint32Array(W.buffer,W.byteOffset,Math.floor(W.byteLength/4));u.u32=v;const g=W=>new DataView(W.buffer,W.byteOffset,W.byteLength);u.createView=g;const E=(W,te)=>W<<32-te|W>>>te;if(u.rotr=E,u.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!u.isLE)throw new Error("Non little-endian hardware is not supported");const y=Array.from({length:256},(W,te)=>te.toString(16).padStart(2,"0"));function h(W){if(!(W instanceof Uint8Array))throw new Error("Uint8Array expected");let te="";for(let X=0;X<W.length;X++)te+=y[W[X]];return te}u.bytesToHex=h;function _(W){if(typeof W!="string")throw new TypeError("hexToBytes: expected string, got "+typeof W);if(W.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const te=new Uint8Array(W.length/2);for(let X=0;X<te.length;X++){const le=X*2,Re=W.slice(le,le+2),pe=Number.parseInt(Re,16);if(Number.isNaN(pe)||pe<0)throw new Error("Invalid byte sequence");te[X]=pe}return te}u.hexToBytes=_;const A=async()=>{};u.nextTick=A;async function I(W,te,X){let le=Date.now();for(let Re=0;Re<W;Re++){X(Re);const pe=Date.now()-le;pe>=0&&pe<te||(await(0,u.nextTick)(),le+=pe)}}u.asyncLoop=I;function P(W){if(typeof W!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof W}`);return new TextEncoder().encode(W)}u.utf8ToBytes=P;function C(W){if(typeof W=="string"&&(W=P(W)),!(W instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof W})`);return W}u.toBytes=C;function w(...W){if(!W.every(le=>le instanceof Uint8Array))throw new Error("Uint8Array list expected");if(W.length===1)return W[0];const te=W.reduce((le,Re)=>le+Re.length,0),X=new Uint8Array(te);for(let le=0,Re=0;le<W.length;le++){const pe=W[le];X.set(pe,Re),Re+=pe.length}return X}u.concatBytes=w;class U{clone(){return this._cloneInto()}}u.Hash=U;const D=W=>Object.prototype.toString.call(W)==="[object Object]"&&W.constructor===Object;function q(W,te){if(te!==void 0&&(typeof te!="object"||!D(te)))throw new TypeError("Options should be object or undefined");return Object.assign(W,te)}u.checkOpts=q;function ee(W){const te=le=>W().update(C(le)).digest(),X=W();return te.outputLen=X.outputLen,te.blockLen=X.blockLen,te.create=()=>W(),te}u.wrapConstructor=ee;function Y(W){const te=(le,Re)=>W(Re).update(C(le)).digest(),X=W({});return te.outputLen=X.outputLen,te.blockLen=X.blockLen,te.create=le=>W(le),te}u.wrapConstructorWithOpts=Y;function ye(W=32){if(b.crypto.web)return b.crypto.web.getRandomValues(new Uint8Array(W));if(b.crypto.node)return new Uint8Array(b.crypto.node.randomBytes(W).buffer);throw new Error("The environment doesn't have randomBytes function")}u.randomBytes=ye},40214:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bytes=u.stringToBytes=u.str=u.bytesToString=u.hex=u.utf8=u.bech32m=u.bech32=u.base58check=u.createBase58check=u.base58xmr=u.base58xrp=u.base58flickr=u.base58=u.base64urlnopad=u.base64url=u.base64=u.base32crockford=u.base32hex=u.base32=u.base16=u.utils=u.assertNumber=void 0;function x(F){if(!Number.isSafeInteger(F))throw new Error(`Wrong integer: ${F}`)}u.assertNumber=x;function b(F){return F instanceof Uint8Array||F!=null&&typeof F=="object"&&F.constructor.name==="Uint8Array"}function d(...F){const ie=Se=>Se,re=(Se,V)=>M=>Se(V(M)),he=F.map(Se=>Se.encode).reduceRight(re,ie),Pe=F.map(Se=>Se.decode).reduce(re,ie);return{encode:he,decode:Pe}}function v(F){return{encode:ie=>{if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return ie.map(re=>{if(x(re),re<0||re>=F.length)throw new Error(`Digit index outside alphabet: ${re} (alphabet: ${F.length})`);return F[re]})},decode:ie=>{if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="string")throw new Error("alphabet.decode input should be array of strings");return ie.map(re=>{if(typeof re!="string")throw new Error(`alphabet.decode: not string element=${re}`);const he=F.indexOf(re);if(he===-1)throw new Error(`Unknown letter: "${re}". Allowed: ${F}`);return he})}}}function g(F=""){if(typeof F!="string")throw new Error("join separator should be string");return{encode:ie=>{if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="string")throw new Error("join.encode input should be array of strings");for(let re of ie)if(typeof re!="string")throw new Error(`join.encode: non-string input=${re}`);return ie.join(F)},decode:ie=>{if(typeof ie!="string")throw new Error("join.decode input should be string");return ie.split(F)}}}function E(F,ie="="){if(x(F),typeof ie!="string")throw new Error("padding chr should be string");return{encode(re){if(!Array.isArray(re)||re.length&&typeof re[0]!="string")throw new Error("padding.encode input should be array of strings");for(let he of re)if(typeof he!="string")throw new Error(`padding.encode: non-string input=${he}`);for(;re.length*F%8;)re.push(ie);return re},decode(re){if(!Array.isArray(re)||re.length&&typeof re[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Pe of re)if(typeof Pe!="string")throw new Error(`padding.decode: non-string input=${Pe}`);let he=re.length;if(he*F%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;he>0&&re[he-1]===ie;he--)if(!((he-1)*F%8))throw new Error("Invalid padding: string has too much padding");return re.slice(0,he)}}}function y(F){if(typeof F!="function")throw new Error("normalize fn should be function");return{encode:ie=>ie,decode:ie=>F(ie)}}function h(F,ie,re){if(ie<2)throw new Error(`convertRadix: wrong from=${ie}, base cannot be less than 2`);if(re<2)throw new Error(`convertRadix: wrong to=${re}, base cannot be less than 2`);if(!Array.isArray(F))throw new Error("convertRadix: data should be array");if(!F.length)return[];let he=0;const Pe=[],Se=Array.from(F);for(Se.forEach(V=>{if(x(V),V<0||V>=ie)throw new Error(`Wrong integer: ${V}`)});;){let V=0,M=!0;for(let $=he;$<Se.length;$++){const ae=Se[$],H=ie*V+ae;if(!Number.isSafeInteger(H)||ie*V/ie!==V||H-ae!==ie*V)throw new Error("convertRadix: carry overflow");V=H%re;const J=Math.floor(H/re);if(Se[$]=J,!Number.isSafeInteger(J)||J*re+V!==H)throw new Error("convertRadix: carry overflow");if(M)J?M=!1:he=$;else continue}if(Pe.push(V),M)break}for(let V=0;V<F.length-1&&F[V]===0;V++)Pe.push(0);return Pe.reverse()}const _=(F,ie)=>ie?_(ie,F%ie):F,A=(F,ie)=>F+(ie-_(F,ie));function I(F,ie,re,he){if(!Array.isArray(F))throw new Error("convertRadix2: data should be array");if(ie<=0||ie>32)throw new Error(`convertRadix2: wrong from=${ie}`);if(re<=0||re>32)throw new Error(`convertRadix2: wrong to=${re}`);if(A(ie,re)>32)throw new Error(`convertRadix2: carry overflow from=${ie} to=${re} carryBits=${A(ie,re)}`);let Pe=0,Se=0;const V=2**re-1,M=[];for(const $ of F){if(x($),$>=2**ie)throw new Error(`convertRadix2: invalid data word=${$} from=${ie}`);if(Pe=Pe<<ie|$,Se+ie>32)throw new Error(`convertRadix2: carry overflow pos=${Se} from=${ie}`);for(Se+=ie;Se>=re;Se-=re)M.push((Pe>>Se-re&V)>>>0);Pe&=2**Se-1}if(Pe=Pe<<re-Se&V,!he&&Se>=ie)throw new Error("Excess padding");if(!he&&Pe)throw new Error(`Non-zero padding: ${Pe}`);return he&&Se>0&&M.push(Pe>>>0),M}function P(F){return x(F),{encode:ie=>{if(!b(ie))throw new Error("radix.encode input should be Uint8Array");return h(Array.from(ie),2**8,F)},decode:ie=>{if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(h(ie,F,2**8))}}}function C(F,ie=!1){if(x(F),F<=0||F>32)throw new Error("radix2: bits should be in (0..32]");if(A(8,F)>32||A(F,8)>32)throw new Error("radix2: carry overflow");return{encode:re=>{if(!b(re))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(re),8,F,!ie)},decode:re=>{if(!Array.isArray(re)||re.length&&typeof re[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(I(re,F,8,ie))}}}function w(F){if(typeof F!="function")throw new Error("unsafeWrapper fn should be function");return function(...ie){try{return F.apply(null,ie)}catch{}}}function U(F,ie){if(x(F),typeof ie!="function")throw new Error("checksum fn should be function");return{encode(re){if(!b(re))throw new Error("checksum.encode: input should be Uint8Array");const he=ie(re).slice(0,F),Pe=new Uint8Array(re.length+F);return Pe.set(re),Pe.set(he,re.length),Pe},decode(re){if(!b(re))throw new Error("checksum.decode: input should be Uint8Array");const he=re.slice(0,-F),Pe=ie(he).slice(0,F),Se=re.slice(-F);for(let V=0;V<F;V++)if(Pe[V]!==Se[V])throw new Error("Invalid checksum");return he}}}u.utils={alphabet:v,chain:d,checksum:U,convertRadix:h,convertRadix2:I,radix:P,radix2:C,join:g,padding:E},u.base16=d(C(4),v("0123456789ABCDEF"),g("")),u.base32=d(C(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),E(5),g("")),u.base32hex=d(C(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),E(5),g("")),u.base32crockford=d(C(5),v("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),g(""),y(F=>F.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),u.base64=d(C(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),E(6),g("")),u.base64url=d(C(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),E(6),g("")),u.base64urlnopad=d(C(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(""));const D=F=>d(P(58),v(F),g(""));u.base58=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),u.base58flickr=D("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),u.base58xrp=D("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const q=[0,2,3,5,6,7,9,10,11];u.base58xmr={encode(F){let ie="";for(let re=0;re<F.length;re+=8){const he=F.subarray(re,re+8);ie+=u.base58.encode(he).padStart(q[he.length],"1")}return ie},decode(F){let ie=[];for(let re=0;re<F.length;re+=11){const he=F.slice(re,re+11),Pe=q.indexOf(he.length),Se=u.base58.decode(he);for(let V=0;V<Se.length-Pe;V++)if(Se[V]!==0)throw new Error("base58xmr: wrong padding");ie=ie.concat(Array.from(Se.slice(Se.length-Pe)))}return Uint8Array.from(ie)}};const ee=F=>d(U(4,ie=>F(F(ie))),u.base58);u.createBase58check=ee,u.base58check=u.createBase58check;const Y=d(v("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),g("")),ye=[996825010,642813549,513874426,1027748829,705979059];function W(F){const ie=F>>25;let re=(F&33554431)<<5;for(let he=0;he<ye.length;he++)(ie>>he&1)===1&&(re^=ye[he]);return re}function te(F,ie,re=1){const he=F.length;let Pe=1;for(let Se=0;Se<he;Se++){const V=F.charCodeAt(Se);if(V<33||V>126)throw new Error(`Invalid prefix (${F})`);Pe=W(Pe)^V>>5}Pe=W(Pe);for(let Se=0;Se<he;Se++)Pe=W(Pe)^F.charCodeAt(Se)&31;for(let Se of ie)Pe=W(Pe)^Se;for(let Se=0;Se<6;Se++)Pe=W(Pe);return Pe^=re,Y.encode(I([Pe%2**30],30,5,!1))}function X(F){const ie=F==="bech32"?1:734539939,re=C(5),he=re.decode,Pe=re.encode,Se=w(he);function V(H,J,Ee=90){if(typeof H!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof H}`);if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof J}`);const We=H.length+7+J.length;if(Ee!==!1&&We>Ee)throw new TypeError(`Length ${We} exceeds limit ${Ee}`);const Ce=H.toLowerCase(),Ke=te(Ce,J,ie);return`${Ce}1${Y.encode(J)}${Ke}`}function M(H,J=90){if(typeof H!="string")throw new Error(`bech32.decode input should be string, not ${typeof H}`);if(H.length<8||J!==!1&&H.length>J)throw new TypeError(`Wrong string length: ${H.length} (${H}). Expected (8..${J})`);const Ee=H.toLowerCase();if(H!==Ee&&H!==H.toUpperCase())throw new Error("String must be lowercase or uppercase");H=Ee;const We=H.lastIndexOf("1");if(We===0||We===-1)throw new Error('Letter "1" must be present between prefix and data only');const Ce=H.slice(0,We),Ke=H.slice(We+1);if(Ke.length<6)throw new Error("Data must be at least 6 characters long");const $t=Y.decode(Ke).slice(0,-6),zt=te(Ce,$t,ie);if(!Ke.endsWith(zt))throw new Error(`Invalid checksum in ${H}: expected "${zt}"`);return{prefix:Ce,words:$t}}const $=w(M);function ae(H){const{prefix:J,words:Ee}=M(H,!1);return{prefix:J,words:Ee,bytes:he(Ee)}}return{encode:V,decode:M,decodeToBytes:ae,decodeUnsafe:$,fromWords:he,fromWordsUnsafe:Se,toWords:Pe}}u.bech32=X("bech32"),u.bech32m=X("bech32m"),u.utf8={encode:F=>new TextDecoder().decode(F),decode:F=>new TextEncoder().encode(F)},u.hex=d(C(4),v("0123456789abcdef"),g(""),y(F=>{if(typeof F!="string"||F.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof F} with length ${F.length}`);return F.toLowerCase()}));const le={utf8:u.utf8,hex:u.hex,base16:u.base16,base32:u.base32,base64:u.base64,base64url:u.base64url,base58:u.base58,base58xmr:u.base58xmr},Re="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",pe=(F,ie)=>{if(typeof F!="string"||!le.hasOwnProperty(F))throw new TypeError(Re);if(!b(ie))throw new TypeError("bytesToString() expects Uint8Array");return le[F].encode(ie)};u.bytesToString=pe,u.str=u.bytesToString;const ve=(F,ie)=>{if(!le.hasOwnProperty(F))throw new TypeError(Re);if(typeof ie!="string")throw new TypeError("stringToBytes() expects string");return le[F].decode(ie)};u.stringToBytes=ve,u.bytes=u.stringToBytes},98316:function(B,u,x){"use strict";var b;b={value:!0},u.Z1=b=b=b=b=b=void 0;const d=x(69031),v=x(53122),g=x(73081),E=x(54878),y=x(17767),h=x(40214),_=te=>te[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function A(te){if(typeof te!="string")throw new TypeError(`Invalid mnemonic type: ${typeof te}`);return te.normalize("NFKD")}function I(te){const X=A(te),le=X.split(" ");if(![12,15,18,21,24].includes(le.length))throw new Error("Invalid mnemonic");return{nfkd:X,words:le}}function P(te){d.default.bytes(te,16,20,24,28,32)}function C(te,X=128){if(d.default.number(X),X%32!==0||X>256)throw new TypeError("Invalid entropy");return q((0,y.randomBytes)(X/8),te)}b=C;const w=te=>{const X=8-te.length/4;return new Uint8Array([(0,g.sha256)(te)[0]>>X<<X])};function U(te){if(!Array.isArray(te)||te.length!==2**11||typeof te[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return te.forEach(X=>{if(typeof X!="string")throw new Error(`Wordlist: non-string element: ${X}`)}),h.utils.chain(h.utils.checksum(1,w),h.utils.radix2(11,!0),h.utils.alphabet(te))}function D(te,X){const{words:le}=I(te),Re=U(X).decode(le);return P(Re),Re}b=D;function q(te,X){return P(te),U(X).encode(te).join(_(X)?"\u3000":" ")}b=q;function ee(te,X){try{D(te,X)}catch{return!1}return!0}b=ee;const Y=te=>A(`mnemonic${te}`);function ye(te,X=""){return(0,v.pbkdf2Async)(E.sha512,I(te).nfkd,Y(X),{c:2048,dkLen:64})}b=ye;function W(te,X=""){return(0,v.pbkdf2)(E.sha512,I(te).nfkd,Y(X),{c:2048,dkLen:64})}u.Z1=W},33649:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},14676:function(B,u,x){"use strict";var b=this&&this.__createBinding||(Object.create?function(g,E,y,h){h===void 0&&(h=y);var _=Object.getOwnPropertyDescriptor(E,y);(!_||("get"in _?!E.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return E[y]}}),Object.defineProperty(g,h,_)}:function(g,E,y,h){h===void 0&&(h=y),g[h]=E[y]}),d=this&&this.__exportStar||function(g,E){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(E,y)&&b(E,g,y)};Object.defineProperty(u,"__esModule",{value:!0});const v=x(67301);u.default=v.PromisePool,d(x(33649),u),d(x(67301),u),d(x(17090),u),d(x(58059),u),d(x(23457),u),d(x(12559),u)},17090:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolError=void 0;class x extends Error{constructor(d,v){super(),this.raw=d,this.item=v,this.name=this.constructor.name,this.message=this.messageFrom(d),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(d,v){return new this(d,v)}messageFrom(d){return d instanceof Error||typeof d=="object"?d.message:typeof d=="string"||typeof d=="number"?d.toString():""}}u.PromisePoolError=x},26610:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePoolExecutor=void 0;const b=x(67301),d=x(17090),v=x(23457),g=x(12559);class E{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(h){if(!this.isValidConcurrency(h))throw g.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${h}" (${typeof h})`);return this.meta.concurrency=h,this}isValidConcurrency(h){return typeof h=="number"&&h>=1}withTaskTimeout(h){return this.meta.taskTimeout=h,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(h){return this.meta.shouldResultsCorrespond=h,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(h){return this.meta.items=h,this}items(){return this.meta.items}itemsCount(){const h=this.items();return Array.isArray(h)?h.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(h){return this.handler=h,this}hasErrorHandler(){return!!this.errorHandler}handleError(h){return this.errorHandler=h,this}onTaskStarted(h){return this.onTaskStartedHandlers=h,this}onTaskFinished(h){return this.onTaskFinishedHandlers=h,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new v.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw g.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const h=this.taskTimeout();if(!(h==null||typeof h=="number"&&h>=0))throw g.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(h)}" (${typeof h})`);if(!this.areItemsValid())throw g.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw g.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(_=>{if(_&&typeof _!="function")throw g.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof _}"`)}),this.onTaskFinishedHandlers.forEach(_=>{if(_&&typeof _!="function")throw g.ValidationError.createFrom(`The error handler must be a function. Received "${typeof _}"`)}),this}areItemsValid(){const h=this.items();return!!(Array.isArray(h)||typeof h[Symbol.iterator]=="function"||typeof h[Symbol.asyncIterator]=="function")}prepareResultsArray(){const h=this.items();return Array.isArray(h)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(h.length).fill(b.PromisePool.notRun),this):this:this}async process(){let h=0;for await(const _ of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[h]=b.PromisePool.notRun),this.startProcessing(_,h),h+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(h,_){const A=this.createTaskFor(h,_).then(I=>{this.save(I,_).removeActive(A)}).catch(async I=>{await this.handleErrorFor(I,h,_),this.removeActive(A)}).finally(()=>{this.processedItems().push(h),this.runOnTaskFinishedHandlers(h)});this.tasks().push(A),this.runOnTaskStartedHandlers(h)}async createTaskFor(h,_){if(this.taskTimeout()===void 0)return this.handler(h,_,this);const[A,I]=this.createTaskTimeout(h);return Promise.race([this.handler(h,_,this),A()]).finally(I)}createTaskTimeout(h){let _;return[async()=>new Promise((P,C)=>{_=setTimeout(()=>{C(new d.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,h))},this.taskTimeout())}),()=>clearTimeout(_)]}save(h,_){return this.shouldUseCorrespondingResults()?this.results()[_]=h:this.results().push(h),this}removeActive(h){return this.tasks().splice(this.tasks().indexOf(h),1),this}async handleErrorFor(h,_,A){if(this.shouldUseCorrespondingResults()&&(this.results()[A]=b.PromisePool.failed),!this.isStoppingThePoolError(h)){if(this.isValidationError(h))throw this.markAsStopped(),h;this.hasErrorHandler()?await this.runErrorHandlerFor(h,_):this.saveErrorFor(h,_)}}isStoppingThePoolError(h){return h instanceof v.StopThePromisePoolError}isValidationError(h){return h instanceof g.ValidationError}async runErrorHandlerFor(h,_){var A;try{await((A=this.errorHandler)==null?void 0:A.call(this,h,_,this))}catch(I){this.rethrowIfNotStoppingThePool(I)}}runOnTaskStartedHandlers(h){this.onTaskStartedHandlers.forEach(_=>{_(h,this)})}runOnTaskFinishedHandlers(h){this.onTaskFinishedHandlers.forEach(_=>{_(h,this)})}rethrowIfNotStoppingThePool(h){if(!this.isStoppingThePoolError(h))throw h}saveErrorFor(h,_){this.errors().push(d.PromisePoolError.createFrom(h,_))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}u.PromisePoolExecutor=E},67301:function(B,u,x){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PromisePool=void 0;const b=x(26610);class d{constructor(g){this.timeout=void 0,this.concurrency=10,this.items=g??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(g){return this.concurrency=g,this}static withConcurrency(g){return new this().withConcurrency(g)}withTaskTimeout(g){return this.timeout=g,this}static withTaskTimeout(g){return new this().withTaskTimeout(g)}for(g){const E=new d(g).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&E.handleError(this.errorHandler),typeof this.timeout=="number"?E.withTaskTimeout(this.timeout):E}static for(g){return new this().for(g)}handleError(g){return this.errorHandler=g,this}onTaskStarted(g){return this.onTaskStartedHandlers.push(g),this}onTaskFinished(g){return this.onTaskFinishedHandlers.push(g),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(g){return new b.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(g).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}u.PromisePool=d,d.notRun=Symbol("notRun"),d.failed=Symbol("failed")},58059:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0})},23457:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StopThePromisePoolError=void 0;class x extends Error{}u.StopThePromisePoolError=x},12559:function(B,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationError=void 0;class x extends Error{constructor(d){super(d),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(d){return new this(d)}}u.ValidationError=x},39556:function(B){"use strict";(function(u){function x(M){return parseInt(M)===M}function b(M){if(!x(M.length))return!1;for(var $=0;$<M.length;$++)if(!x(M[$])||M[$]<0||M[$]>255)return!1;return!0}function d(M,$){if(M.buffer&&ArrayBuffer.isView(M)&&M.name==="Uint8Array")return $&&(M.slice?M=M.slice():M=Array.prototype.slice.call(M)),M;if(Array.isArray(M)){if(!b(M))throw new Error("Array contains invalid value: "+M);return new Uint8Array(M)}if(x(M.length)&&b(M))return new Uint8Array(M);throw new Error("unsupported array-like object")}function v(M){return new Uint8Array(M)}function g(M,$,ae,H,J){(H!=null||J!=null)&&(M.slice?M=M.slice(H,J):M=Array.prototype.slice.call(M,H,J)),$.set(M,ae)}var E=function(){function M(ae){var H=[],J=0;for(ae=encodeURI(ae);J<ae.length;){var Ee=ae.charCodeAt(J++);Ee===37?(H.push(parseInt(ae.substr(J,2),16)),J+=2):H.push(Ee)}return d(H)}function $(ae){for(var H=[],J=0;J<ae.length;){var Ee=ae[J];Ee<128?(H.push(String.fromCharCode(Ee)),J++):Ee>191&&Ee<224?(H.push(String.fromCharCode((Ee&31)<<6|ae[J+1]&63)),J+=2):(H.push(String.fromCharCode((Ee&15)<<12|(ae[J+1]&63)<<6|ae[J+2]&63)),J+=3)}return H.join("")}return{toBytes:M,fromBytes:$}}(),y=function(){function M(H){for(var J=[],Ee=0;Ee<H.length;Ee+=2)J.push(parseInt(H.substr(Ee,2),16));return J}var $="0123456789abcdef";function ae(H){for(var J=[],Ee=0;Ee<H.length;Ee++){var We=H[Ee];J.push($[(We&240)>>4]+$[We&15])}return J.join("")}return{toBytes:M,fromBytes:ae}}(),h={16:10,24:12,32:14},_=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],A=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],I=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],D=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],q=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ee=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Y=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ye=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],W=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],te=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],X=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function le(M){for(var $=[],ae=0;ae<M.length;ae+=4)$.push(M[ae]<<24|M[ae+1]<<16|M[ae+2]<<8|M[ae+3]);return $}var Re=function(M){if(!(this instanceof Re))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:d(M,!0)}),this._prepare()};Re.prototype._prepare=function(){var M=h[this.key.length];if(M==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var $=0;$<=M;$++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var ae=(M+1)*4,H=this.key.length/4,J=le(this.key),Ee,$=0;$<H;$++)Ee=$>>2,this._Ke[Ee][$%4]=J[$],this._Kd[M-Ee][$%4]=J[$];for(var We=0,Ce=H,Ke;Ce<ae;){if(Ke=J[H-1],J[0]^=A[Ke>>16&255]<<24^A[Ke>>8&255]<<16^A[Ke&255]<<8^A[Ke>>24&255]^_[We]<<24,We+=1,H!=8)for(var $=1;$<H;$++)J[$]^=J[$-1];else{for(var $=1;$<H/2;$++)J[$]^=J[$-1];Ke=J[H/2-1],J[H/2]^=A[Ke&255]^A[Ke>>8&255]<<8^A[Ke>>16&255]<<16^A[Ke>>24&255]<<24;for(var $=H/2+1;$<H;$++)J[$]^=J[$-1]}for(var $=0,$t,zt;$<H&&Ce<ae;)$t=Ce>>2,zt=Ce%4,this._Ke[$t][zt]=J[$],this._Kd[M-$t][zt]=J[$++],Ce++}for(var $t=1;$t<M;$t++)for(var zt=0;zt<4;zt++)Ke=this._Kd[$t][zt],this._Kd[$t][zt]=ye[Ke>>24&255]^W[Ke>>16&255]^te[Ke>>8&255]^X[Ke&255]},Re.prototype.encrypt=function(M){if(M.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var $=this._Ke.length-1,ae=[0,0,0,0],H=le(M),J=0;J<4;J++)H[J]^=this._Ke[0][J];for(var Ee=1;Ee<$;Ee++){for(var J=0;J<4;J++)ae[J]=P[H[J]>>24&255]^C[H[(J+1)%4]>>16&255]^w[H[(J+2)%4]>>8&255]^U[H[(J+3)%4]&255]^this._Ke[Ee][J];H=ae.slice()}for(var We=v(16),Ce,J=0;J<4;J++)Ce=this._Ke[$][J],We[4*J]=(A[H[J]>>24&255]^Ce>>24)&255,We[4*J+1]=(A[H[(J+1)%4]>>16&255]^Ce>>16)&255,We[4*J+2]=(A[H[(J+2)%4]>>8&255]^Ce>>8)&255,We[4*J+3]=(A[H[(J+3)%4]&255]^Ce)&255;return We},Re.prototype.decrypt=function(M){if(M.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var $=this._Kd.length-1,ae=[0,0,0,0],H=le(M),J=0;J<4;J++)H[J]^=this._Kd[0][J];for(var Ee=1;Ee<$;Ee++){for(var J=0;J<4;J++)ae[J]=D[H[J]>>24&255]^q[H[(J+3)%4]>>16&255]^ee[H[(J+2)%4]>>8&255]^Y[H[(J+1)%4]&255]^this._Kd[Ee][J];H=ae.slice()}for(var We=v(16),Ce,J=0;J<4;J++)Ce=this._Kd[$][J],We[4*J]=(I[H[J]>>24&255]^Ce>>24)&255,We[4*J+1]=(I[H[(J+3)%4]>>16&255]^Ce>>16)&255,We[4*J+2]=(I[H[(J+2)%4]>>8&255]^Ce>>8)&255,We[4*J+3]=(I[H[(J+1)%4]&255]^Ce)&255;return We};var pe=function(M){if(!(this instanceof pe))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Re(M)};pe.prototype.encrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var $=v(M.length),ae=v(16),H=0;H<M.length;H+=16)g(M,ae,0,H,H+16),ae=this._aes.encrypt(ae),g(ae,$,H);return $},pe.prototype.decrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var $=v(M.length),ae=v(16),H=0;H<M.length;H+=16)g(M,ae,0,H,H+16),ae=this._aes.decrypt(ae),g(ae,$,H);return $};var ve=function(M,$){if(!(this instanceof ve))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=d($,!0),this._aes=new Re(M)};ve.prototype.encrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var $=v(M.length),ae=v(16),H=0;H<M.length;H+=16){g(M,ae,0,H,H+16);for(var J=0;J<16;J++)ae[J]^=this._lastCipherblock[J];this._lastCipherblock=this._aes.encrypt(ae),g(this._lastCipherblock,$,H)}return $},ve.prototype.decrypt=function(M){if(M=d(M),M.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var $=v(M.length),ae=v(16),H=0;H<M.length;H+=16){g(M,ae,0,H,H+16),ae=this._aes.decrypt(ae);for(var J=0;J<16;J++)$[H+J]=ae[J]^this._lastCipherblock[J];g(M,this._lastCipherblock,0,H,H+16)}return $};var F=function(M,$,ae){if(!(this instanceof F))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");ae||(ae=1),this.segmentSize=ae,this._shiftRegister=d($,!0),this._aes=new Re(M)};F.prototype.encrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var $=d(M,!0),ae,H=0;H<$.length;H+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var J=0;J<this.segmentSize;J++)$[H+J]^=ae[J];g(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g($,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return $},F.prototype.decrypt=function(M){if(M.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var $=d(M,!0),ae,H=0;H<$.length;H+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var J=0;J<this.segmentSize;J++)$[H+J]^=ae[J];g(this._shiftRegister,this._shiftRegister,0,this.segmentSize),g(M,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return $};var ie=function(M,$){if(!(this instanceof ie))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!$)$=v(16);else if($.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=d($,!0),this._lastPrecipherIndex=16,this._aes=new Re(M)};ie.prototype.encrypt=function(M){for(var $=d(M,!0),ae=0;ae<$.length;ae++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),$[ae]^=this._lastPrecipher[this._lastPrecipherIndex++];return $},ie.prototype.decrypt=ie.prototype.encrypt;var re=function(M){if(!(this instanceof re))throw Error("Counter must be instanitated with `new`");M!==0&&!M&&(M=1),typeof M=="number"?(this._counter=v(16),this.setValue(M)):this.setBytes(M)};re.prototype.setValue=function(M){if(typeof M!="number"||parseInt(M)!=M)throw new Error("invalid counter value (must be an integer)");for(var $=15;$>=0;--$)this._counter[$]=M%256,M=M>>8},re.prototype.setBytes=function(M){if(M=d(M,!0),M.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=M},re.prototype.increment=function(){for(var M=15;M>=0;M--)if(this._counter[M]===255)this._counter[M]=0;else{this._counter[M]++;break}};var he=function(M,$){if(!(this instanceof he))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",$ instanceof re||($=new re($)),this._counter=$,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Re(M)};he.prototype.encrypt=function(M){for(var $=d(M,!0),ae=0;ae<$.length;ae++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),$[ae]^=this._remainingCounter[this._remainingCounterIndex++];return $},he.prototype.decrypt=he.prototype.encrypt;function Pe(M){M=d(M,!0);var $=16-M.length%16,ae=v(M.length+$);g(M,ae);for(var H=M.length;H<ae.length;H++)ae[H]=$;return ae}function Se(M){if(M=d(M,!0),M.length<16)throw new Error("PKCS#7 invalid length");var $=M[M.length-1];if($>16)throw new Error("PKCS#7 padding byte out of range");for(var ae=M.length-$,H=0;H<$;H++)if(M[ae+H]!==$)throw new Error("PKCS#7 invalid padding byte");var J=v(ae);return g(M,J,0,0,ae),J}var V={AES:Re,Counter:re,ModeOfOperation:{ecb:pe,cbc:ve,cfb:F,ofb:ie,ctr:he},utils:{hex:y,utf8:E},padding:{pkcs7:{pad:Pe,strip:Se}},_arrayTest:{coerceArray:d,createArray:v,copyArray:g}};B.exports=V})(this)},29938:function(B,u,x){var b=x(38032);function d(v,g){function E(y,h){var _=g||{},A;"randomize"in _||(_.randomize=!0),A=b.operation(_);function I(w){h(w||new Error("Aborted"))}function P(w,U){if(w.bail){I(w);return}A.retry(w)?_.onRetry&&_.onRetry(w,U):h(A.mainError())}function C(w){var U;try{U=v(I,w)}catch(D){P(D,w);return}Promise.resolve(U).then(y).catch(function(q){P(q,w)})}A.attempt(C)}return new Promise(E)}B.exports=d},67886:function(B,u,x){B.exports=x(24180)},52799:function(B,u,x){"use strict";var b=x(15013),d=x(10898),v=x(60823),g=x(90575),E=x(45456),y=x(76630),h=x(39736),_=x(1184),A=x(15763),I=x(34477),P=x(40480);B.exports=function(w){return new Promise(function(D,q){var ee=w.data,Y=w.headers,ye=w.responseType,W;function te(){w.cancelToken&&w.cancelToken.unsubscribe(W),w.signal&&w.signal.removeEventListener("abort",W)}b.isFormData(ee)&&b.isStandardBrowserEnv()&&delete Y["Content-Type"];var X=new XMLHttpRequest;if(w.auth){var le=w.auth.username||"",Re=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";Y.Authorization="Basic "+btoa(le+":"+Re)}var pe=E(w.baseURL,w.url);X.open(w.method.toUpperCase(),g(pe,w.params,w.paramsSerializer),!0),X.timeout=w.timeout;function ve(){if(X){var re="getAllResponseHeaders"in X?y(X.getAllResponseHeaders()):null,he=!ye||ye==="text"||ye==="json"?X.responseText:X.response,Pe={data:he,status:X.status,statusText:X.statusText,headers:re,config:w,request:X};d(function(V){D(V),te()},function(V){q(V),te()},Pe),X=null}}if("onloadend"in X?X.onloadend=ve:X.onreadystatechange=function(){!X||X.readyState!==4||X.status===0&&!(X.responseURL&&X.responseURL.indexOf("file:")===0)||setTimeout(ve)},X.onabort=function(){X&&(q(new A("Request aborted",A.ECONNABORTED,w,X)),X=null)},X.onerror=function(){q(new A("Network Error",A.ERR_NETWORK,w,X,X)),X=null},X.ontimeout=function(){var he=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",Pe=w.transitional||_;w.timeoutErrorMessage&&(he=w.timeoutErrorMessage),q(new A(he,Pe.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,w,X)),X=null},b.isStandardBrowserEnv()){var F=(w.withCredentials||h(pe))&&w.xsrfCookieName?v.read(w.xsrfCookieName):void 0;F&&(Y[w.xsrfHeaderName]=F)}"setRequestHeader"in X&&b.forEach(Y,function(he,Pe){typeof ee>"u"&&Pe.toLowerCase()==="content-type"?delete Y[Pe]:X.setRequestHeader(Pe,he)}),b.isUndefined(w.withCredentials)||(X.withCredentials=!!w.withCredentials),ye&&ye!=="json"&&(X.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&X.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&X.upload&&X.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(W=function(re){X&&(q(!re||re&&re.type?new I:re),X.abort(),X=null)},w.cancelToken&&w.cancelToken.subscribe(W),w.signal&&(w.signal.aborted?W():w.signal.addEventListener("abort",W))),ee||(ee=null);var ie=P(pe);if(ie&&["http","https","file"].indexOf(ie)===-1){q(new A("Unsupported protocol "+ie+":",A.ERR_BAD_REQUEST,w));return}X.send(ee)})}},24180:function(B,u,x){"use strict";var b=x(15013),d=x(40239),v=x(88800),g=x(8772),E=x(41639);function y(_){var A=new v(_),I=d(v.prototype.request,A);return b.extend(I,v.prototype,A),b.extend(I,A),I.create=function(C){return y(g(_,C))},I}var h=y(E);h.Axios=v,h.CanceledError=x(34477),h.CancelToken=x(86291),h.isCancel=x(70338),h.VERSION=x(98114).version,h.toFormData=x(60218),h.AxiosError=x(15763),h.Cancel=h.CanceledError,h.all=function(A){return Promise.all(A)},h.spread=x(60850),h.isAxiosError=x(1200),B.exports=h,B.exports.default=h},86291:function(B,u,x){"use strict";var b=x(34477);function d(v){if(typeof v!="function")throw new TypeError("executor must be a function.");var g;this.promise=new Promise(function(h){g=h});var E=this;this.promise.then(function(y){if(E._listeners){var h,_=E._listeners.length;for(h=0;h<_;h++)E._listeners[h](y);E._listeners=null}}),this.promise.then=function(y){var h,_=new Promise(function(A){E.subscribe(A),h=A}).then(y);return _.cancel=function(){E.unsubscribe(h)},_},v(function(h){E.reason||(E.reason=new b(h),g(E.reason))})}d.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},d.prototype.subscribe=function(g){if(this.reason){g(this.reason);return}this._listeners?this._listeners.push(g):this._listeners=[g]},d.prototype.unsubscribe=function(g){if(this._listeners){var E=this._listeners.indexOf(g);E!==-1&&this._listeners.splice(E,1)}},d.source=function(){var g,E=new d(function(h){g=h});return{token:E,cancel:g}},B.exports=d},34477:function(B,u,x){"use strict";var b=x(15763),d=x(15013);function v(g){b.call(this,g??"canceled",b.ERR_CANCELED),this.name="CanceledError"}d.inherits(v,b,{__CANCEL__:!0}),B.exports=v},70338:function(B){"use strict";B.exports=function(x){return!!(x&&x.__CANCEL__)}},88800:function(B,u,x){"use strict";var b=x(15013),d=x(90575),v=x(26037),g=x(11269),E=x(8772),y=x(45456),h=x(28942),_=h.validators;function A(I){this.defaults=I,this.interceptors={request:new v,response:new v}}A.prototype.request=function(P,C){typeof P=="string"?(C=C||{},C.url=P):C=P||{},C=E(this.defaults,C),C.method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var w=C.transitional;w!==void 0&&h.assertOptions(w,{silentJSONParsing:_.transitional(_.boolean),forcedJSONParsing:_.transitional(_.boolean),clarifyTimeoutError:_.transitional(_.boolean)},!1);var U=[],D=!0;this.interceptors.request.forEach(function(le){typeof le.runWhen=="function"&&le.runWhen(C)===!1||(D=D&&le.synchronous,U.unshift(le.fulfilled,le.rejected))});var q=[];this.interceptors.response.forEach(function(le){q.push(le.fulfilled,le.rejected)});var ee;if(!D){var Y=[g,void 0];for(Array.prototype.unshift.apply(Y,U),Y=Y.concat(q),ee=Promise.resolve(C);Y.length;)ee=ee.then(Y.shift(),Y.shift());return ee}for(var ye=C;U.length;){var W=U.shift(),te=U.shift();try{ye=W(ye)}catch(X){te(X);break}}try{ee=g(ye)}catch(X){return Promise.reject(X)}for(;q.length;)ee=ee.then(q.shift(),q.shift());return ee},A.prototype.getUri=function(P){P=E(this.defaults,P);var C=y(P.baseURL,P.url);return d(C,P.params,P.paramsSerializer)},b.forEach(["delete","get","head","options"],function(P){A.prototype[P]=function(C,w){return this.request(E(w||{},{method:P,url:C,data:(w||{}).data}))}}),b.forEach(["post","put","patch"],function(P){function C(w){return function(D,q,ee){return this.request(E(ee||{},{method:P,headers:w?{"Content-Type":"multipart/form-data"}:{},url:D,data:q}))}}A.prototype[P]=C(),A.prototype[P+"Form"]=C(!0)}),B.exports=A},15763:function(B,u,x){"use strict";var b=x(15013);function d(E,y,h,_,A){Error.call(this),this.message=E,this.name="AxiosError",y&&(this.code=y),h&&(this.config=h),_&&(this.request=_),A&&(this.response=A)}b.inherits(d,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var v=d.prototype,g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(E){g[E]={value:E}}),Object.defineProperties(d,g),Object.defineProperty(v,"isAxiosError",{value:!0}),d.from=function(E,y,h,_,A,I){var P=Object.create(v);return b.toFlatObject(E,P,function(w){return w!==Error.prototype}),d.call(P,E.message,y,h,_,A),P.name=E.name,I&&Object.assign(P,I),P},B.exports=d},26037:function(B,u,x){"use strict";var b=x(15013);function d(){this.handlers=[]}d.prototype.use=function(g,E,y){return this.handlers.push({fulfilled:g,rejected:E,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1},d.prototype.eject=function(g){this.handlers[g]&&(this.handlers[g]=null)},d.prototype.forEach=function(g){b.forEach(this.handlers,function(y){y!==null&&g(y)})},B.exports=d},45456:function(B,u,x){"use strict";var b=x(93378),d=x(10402);B.exports=function(g,E){return g&&!b(E)?d(g,E):E}},11269:function(B,u,x){"use strict";var b=x(15013),d=x(82349),v=x(70338),g=x(41639),E=x(34477);function y(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new E}B.exports=function(_){y(_),_.headers=_.headers||{},_.data=d.call(_,_.data,_.headers,_.transformRequest),_.headers=b.merge(_.headers.common||{},_.headers[_.method]||{},_.headers),b.forEach(["delete","get","head","post","put","patch","common"],function(P){delete _.headers[P]});var A=_.adapter||g.adapter;return A(_).then(function(P){return y(_),P.data=d.call(_,P.data,P.headers,_.transformResponse),P},function(P){return v(P)||(y(_),P&&P.response&&(P.response.data=d.call(_,P.response.data,P.response.headers,_.transformResponse))),Promise.reject(P)})}},8772:function(B,u,x){"use strict";var b=x(15013);B.exports=function(v,g){g=g||{};var E={};function y(C,w){return b.isPlainObject(C)&&b.isPlainObject(w)?b.merge(C,w):b.isPlainObject(w)?b.merge({},w):b.isArray(w)?w.slice():w}function h(C){if(b.isUndefined(g[C])){if(!b.isUndefined(v[C]))return y(void 0,v[C])}else return y(v[C],g[C])}function _(C){if(!b.isUndefined(g[C]))return y(void 0,g[C])}function A(C){if(b.isUndefined(g[C])){if(!b.isUndefined(v[C]))return y(void 0,v[C])}else return y(void 0,g[C])}function I(C){if(C in g)return y(v[C],g[C]);if(C in v)return y(void 0,v[C])}var P={url:_,method:_,data:_,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:I};return b.forEach(Object.keys(v).concat(Object.keys(g)),function(w){var U=P[w]||h,D=U(w);b.isUndefined(D)&&U!==I||(E[w]=D)}),E}},10898:function(B,u,x){"use strict";var b=x(15763);B.exports=function(v,g,E){var y=E.config.validateStatus;!E.status||!y||y(E.status)?v(E):g(new b("Request failed with status code "+E.status,[b.ERR_BAD_REQUEST,b.ERR_BAD_RESPONSE][Math.floor(E.status/100)-4],E.config,E.request,E))}},82349:function(B,u,x){"use strict";var b=x(15013),d=x(41639);B.exports=function(g,E,y){var h=this||d;return b.forEach(y,function(A){g=A.call(h,g,E)}),g}},41639:function(B,u,x){"use strict";var b=x(14224),d=x(15013),v=x(19513),g=x(15763),E=x(1184),y=x(60218),h={"Content-Type":"application/x-www-form-urlencoded"};function _(C,w){!d.isUndefined(C)&&d.isUndefined(C["Content-Type"])&&(C["Content-Type"]=w)}function A(){var C;return(typeof XMLHttpRequest<"u"||typeof b<"u"&&Object.prototype.toString.call(b)==="[object process]")&&(C=x(52799)),C}function I(C,w,U){if(d.isString(C))try{return(w||JSON.parse)(C),d.trim(C)}catch(D){if(D.name!=="SyntaxError")throw D}return(U||JSON.stringify)(C)}var P={transitional:E,adapter:A(),transformRequest:[function(w,U){if(v(U,"Accept"),v(U,"Content-Type"),d.isFormData(w)||d.isArrayBuffer(w)||d.isBuffer(w)||d.isStream(w)||d.isFile(w)||d.isBlob(w))return w;if(d.isArrayBufferView(w))return w.buffer;if(d.isURLSearchParams(w))return _(U,"application/x-www-form-urlencoded;charset=utf-8"),w.toString();var D=d.isObject(w),q=U&&U["Content-Type"],ee;if((ee=d.isFileList(w))||D&&q==="multipart/form-data"){var Y=this.env&&this.env.FormData;return y(ee?{"files[]":w}:w,Y&&new Y)}else if(D||q==="application/json")return _(U,"application/json"),I(w);return w}],transformResponse:[function(w){var U=this.transitional||P.transitional,D=U&&U.silentJSONParsing,q=U&&U.forcedJSONParsing,ee=!D&&this.responseType==="json";if(ee||q&&d.isString(w)&&w.length)try{return JSON.parse(w)}catch(Y){if(ee)throw Y.name==="SyntaxError"?g.from(Y,g.ERR_BAD_RESPONSE,this,null,this.response):Y}return w}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:x(45965)},validateStatus:function(w){return w>=200&&w<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(w){P.headers[w]={}}),d.forEach(["post","put","patch"],function(w){P.headers[w]=d.merge(h)}),B.exports=P},1184:function(B){"use strict";B.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},98114:function(B){B.exports={version:"0.27.2"}},40239:function(B){"use strict";B.exports=function(x,b){return function(){for(var v=new Array(arguments.length),g=0;g<v.length;g++)v[g]=arguments[g];return x.apply(b,v)}}},90575:function(B,u,x){"use strict";var b=x(15013);function d(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}B.exports=function(g,E,y){if(!E)return g;var h;if(y)h=y(E);else if(b.isURLSearchParams(E))h=E.toString();else{var _=[];b.forEach(E,function(P,C){P===null||typeof P>"u"||(b.isArray(P)?C=C+"[]":P=[P],b.forEach(P,function(U){b.isDate(U)?U=U.toISOString():b.isObject(U)&&(U=JSON.stringify(U)),_.push(d(C)+"="+d(U))}))}),h=_.join("&")}if(h){var A=g.indexOf("#");A!==-1&&(g=g.slice(0,A)),g+=(g.indexOf("?")===-1?"?":"&")+h}return g}},10402:function(B){"use strict";B.exports=function(x,b){return b?x.replace(/\/+$/,"")+"/"+b.replace(/^\/+/,""):x}},60823:function(B,u,x){"use strict";var b=x(15013);B.exports=b.isStandardBrowserEnv()?function(){return{write:function(g,E,y,h,_,A){var I=[];I.push(g+"="+encodeURIComponent(E)),b.isNumber(y)&&I.push("expires="+new Date(y).toGMTString()),b.isString(h)&&I.push("path="+h),b.isString(_)&&I.push("domain="+_),A===!0&&I.push("secure"),document.cookie=I.join("; ")},read:function(g){var E=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return E?decodeURIComponent(E[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},93378:function(B){"use strict";B.exports=function(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}},1200:function(B,u,x){"use strict";var b=x(15013);B.exports=function(v){return b.isObject(v)&&v.isAxiosError===!0}},39736:function(B,u,x){"use strict";var b=x(15013);B.exports=b.isStandardBrowserEnv()?function(){var v=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a"),E;function y(h){var _=h;return v&&(g.setAttribute("href",_),_=g.href),g.setAttribute("href",_),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:g.pathname.charAt(0)==="/"?g.pathname:"/"+g.pathname}}return E=y(window.location.href),function(_){var A=b.isString(_)?y(_):_;return A.protocol===E.protocol&&A.host===E.host}}():function(){return function(){return!0}}()},19513:function(B,u,x){"use strict";var b=x(15013);B.exports=function(v,g){b.forEach(v,function(y,h){h!==g&&h.toUpperCase()===g.toUpperCase()&&(v[g]=y,delete v[h])})}},45965:function(B){B.exports=null},76630:function(B,u,x){"use strict";var b=x(15013),d=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];B.exports=function(g){var E={},y,h,_;return g&&b.forEach(g.split(`
`),function(I){if(_=I.indexOf(":"),y=b.trim(I.substr(0,_)).toLowerCase(),h=b.trim(I.substr(_+1)),y){if(E[y]&&d.indexOf(y)>=0)return;y==="set-cookie"?E[y]=(E[y]?E[y]:[]).concat([h]):E[y]=E[y]?E[y]+", "+h:h}}),E}},40480:function(B){"use strict";B.exports=function(x){var b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return b&&b[1]||""}},60850:function(B){"use strict";B.exports=function(x){return function(d){return x.apply(null,d)}}},60218:function(B,u,x){"use strict";var b=x(55872).Buffer,d=x(15013);function v(g,E){E=E||new FormData;var y=[];function h(A){return A===null?"":d.isDate(A)?A.toISOString():d.isArrayBuffer(A)||d.isTypedArray(A)?typeof Blob=="function"?new Blob([A]):b.from(A):A}function _(A,I){if(d.isPlainObject(A)||d.isArray(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+I);y.push(A),d.forEach(A,function(C,w){if(!d.isUndefined(C)){var U=I?I+"."+w:w,D;if(C&&!I&&typeof C=="object"){if(d.endsWith(w,"{}"))C=JSON.stringify(C);else if(d.endsWith(w,"[]")&&(D=d.toArray(C))){D.forEach(function(q){!d.isUndefined(q)&&E.append(U,h(q))});return}}_(C,U)}}),y.pop()}else E.append(I,h(A))}return _(g),E}B.exports=v},28942:function(B,u,x){"use strict";var b=x(98114).version,d=x(15763),v={};["object","boolean","number","function","string","symbol"].forEach(function(y,h){v[y]=function(A){return typeof A===y||"a"+(h<1?"n ":" ")+y}});var g={};v.transitional=function(h,_,A){function I(P,C){return"[Axios v"+b+"] Transitional option '"+P+"'"+C+(A?". "+A:"")}return function(P,C,w){if(h===!1)throw new d(I(C," has been removed"+(_?" in "+_:"")),d.ERR_DEPRECATED);return _&&!g[C]&&(g[C]=!0,console.warn(I(C," has been deprecated since v"+_+" and will be removed in the near future"))),h?h(P,C,w):!0}};function E(y,h,_){if(typeof y!="object")throw new d("options must be an object",d.ERR_BAD_OPTION_VALUE);for(var A=Object.keys(y),I=A.length;I-- >0;){var P=A[I],C=h[P];if(C){var w=y[P],U=w===void 0||C(w,P,y);if(U!==!0)throw new d("option "+P+" must be "+U,d.ERR_BAD_OPTION_VALUE);continue}if(_!==!0)throw new d("Unknown option "+P,d.ERR_BAD_OPTION)}}B.exports={assertOptions:E,validators:v}},15013:function(B,u,x){"use strict";var b=x(40239),d=Object.prototype.toString,v=function(V){return function(M){var $=d.call(M);return V[$]||(V[$]=$.slice(8,-1).toLowerCase())}}(Object.create(null));function g(V){return V=V.toLowerCase(),function($){return v($)===V}}function E(V){return Array.isArray(V)}function y(V){return typeof V>"u"}function h(V){return V!==null&&!y(V)&&V.constructor!==null&&!y(V.constructor)&&typeof V.constructor.isBuffer=="function"&&V.constructor.isBuffer(V)}var _=g("ArrayBuffer");function A(V){var M;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?M=ArrayBuffer.isView(V):M=V&&V.buffer&&_(V.buffer),M}function I(V){return typeof V=="string"}function P(V){return typeof V=="number"}function C(V){return V!==null&&typeof V=="object"}function w(V){if(v(V)!=="object")return!1;var M=Object.getPrototypeOf(V);return M===null||M===Object.prototype}var U=g("Date"),D=g("File"),q=g("Blob"),ee=g("FileList");function Y(V){return d.call(V)==="[object Function]"}function ye(V){return C(V)&&Y(V.pipe)}function W(V){var M="[object FormData]";return V&&(typeof FormData=="function"&&V instanceof FormData||d.call(V)===M||Y(V.toString)&&V.toString()===M)}var te=g("URLSearchParams");function X(V){return V.trim?V.trim():V.replace(/^\s+|\s+$/g,"")}function le(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Re(V,M){if(!(V===null||typeof V>"u"))if(typeof V!="object"&&(V=[V]),E(V))for(var $=0,ae=V.length;$<ae;$++)M.call(null,V[$],$,V);else for(var H in V)Object.prototype.hasOwnProperty.call(V,H)&&M.call(null,V[H],H,V)}function pe(){var V={};function M(H,J){w(V[J])&&w(H)?V[J]=pe(V[J],H):w(H)?V[J]=pe({},H):E(H)?V[J]=H.slice():V[J]=H}for(var $=0,ae=arguments.length;$<ae;$++)Re(arguments[$],M);return V}function ve(V,M,$){return Re(M,function(H,J){$&&typeof H=="function"?V[J]=b(H,$):V[J]=H}),V}function F(V){return V.charCodeAt(0)===65279&&(V=V.slice(1)),V}function ie(V,M,$,ae){V.prototype=Object.create(M.prototype,ae),V.prototype.constructor=V,$&&Object.assign(V.prototype,$)}function re(V,M,$){var ae,H,J,Ee={};M=M||{};do{for(ae=Object.getOwnPropertyNames(V),H=ae.length;H-- >0;)J=ae[H],Ee[J]||(M[J]=V[J],Ee[J]=!0);V=Object.getPrototypeOf(V)}while(V&&(!$||$(V,M))&&V!==Object.prototype);return M}function he(V,M,$){V=String(V),($===void 0||$>V.length)&&($=V.length),$-=M.length;var ae=V.indexOf(M,$);return ae!==-1&&ae===$}function Pe(V){if(!V)return null;var M=V.length;if(y(M))return null;for(var $=new Array(M);M-- >0;)$[M]=V[M];return $}var Se=function(V){return function(M){return V&&M instanceof V}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));B.exports={isArray:E,isArrayBuffer:_,isBuffer:h,isFormData:W,isArrayBufferView:A,isString:I,isNumber:P,isObject:C,isPlainObject:w,isUndefined:y,isDate:U,isFile:D,isBlob:q,isFunction:Y,isStream:ye,isURLSearchParams:te,isStandardBrowserEnv:le,forEach:Re,merge:pe,extend:ve,trim:X,stripBOM:F,inherits:ie,toFlatObject:re,kindOf:v,kindOfTest:g,endsWith:he,toArray:Pe,isTypedArray:Se,isFileList:ee}},71504:function(B,u,x){"use strict";var b,d=x(55872).Buffer;b={value:!0};var v=x(50521);function g(I,P){return P===void 0&&(P="utf8"),d.isBuffer(I)?h(I.toString("base64")):h(d.from(I,P).toString("base64"))}function E(I,P){return P===void 0&&(P="utf8"),d.from(y(I),"base64").toString(P)}function y(I){return I=I.toString(),v.default(I).replace(/\-/g,"+").replace(/_/g,"/")}function h(I){return I.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _(I){return d.from(y(I),"base64")}var A=g;A.encode=g,A.decode=E,A.toBase64=y,A.fromBase64=h,A.toBuffer=_,u.default=A},50521:function(B,u,x){"use strict";var b=x(55872).Buffer;Object.defineProperty(u,"__esModule",{value:!0});function d(v){var g=4,E=v.length,y=E%g;if(!y)return v;var h=E,_=g-y,A=E+_,I=b.alloc(A);for(I.write(v);_--;)I.write("=",h++);return I.toString()}u.default=d},27220:function(B,u,x){B.exports=x(71504).default,B.exports.default=B.exports},36243:function(B){B.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var createOutputMethod=function(B,u){return function(x){return new Sha256(u,!0).update(x)[B]()}},createMethod=function(B){var u=createOutputMethod("hex",B);NODE_JS&&(u=nodeWrap(u,B)),u.create=function(){return new Sha256(B)},u.update=function(d){return u.create().update(d)};for(var x=0;x<OUTPUT_TYPES.length;++x){var b=OUTPUT_TYPES[x];u[b]=createOutputMethod(b,B)}return u},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(B){if(typeof B=="string")return crypto.createHash(algorithm).update(B,"utf8").digest("hex");if(B==null)throw new Error(ERROR);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),Array.isArray(B)||ArrayBuffer.isView(B)||B.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(B)).digest("hex"):method(B)};return nodeMethod},createHmacOutputMethod=function(B,u){return function(x,b){return new HmacSha256(x,u,!0).update(b)[B]()}},createHmacMethod=function(B){var u=createHmacOutputMethod("hex",B);u.create=function(d){return new HmacSha256(d,B)},u.update=function(d,v){return u.create(d).update(v)};for(var x=0;x<OUTPUT_TYPES.length;++x){var b=OUTPUT_TYPES[x];u[b]=createHmacOutputMethod(b,B)}return u};function Sha256(B,u){u?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}Sha256.prototype.update=function(B){if(!this.finalized){var u,x=typeof B;if(x!=="string"){if(x==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);u=!0}for(var b,d=0,v,g=B.length,E=this.blocks;d<g;){if(this.hashed&&(this.hashed=!1,E[0]=this.block,E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0),u)for(v=this.start;d<g&&v<64;++d)E[v>>2]|=B[d]<<SHIFT[v++&3];else for(v=this.start;d<g&&v<64;++d)b=B.charCodeAt(d),b<128?E[v>>2]|=b<<SHIFT[v++&3]:b<2048?(E[v>>2]|=(192|b>>6)<<SHIFT[v++&3],E[v>>2]|=(128|b&63)<<SHIFT[v++&3]):b<55296||b>=57344?(E[v>>2]|=(224|b>>12)<<SHIFT[v++&3],E[v>>2]|=(128|b>>6&63)<<SHIFT[v++&3],E[v>>2]|=(128|b&63)<<SHIFT[v++&3]):(b=65536+((b&1023)<<10|B.charCodeAt(++d)&1023),E[v>>2]|=(240|b>>18)<<SHIFT[v++&3],E[v>>2]|=(128|b>>12&63)<<SHIFT[v++&3],E[v>>2]|=(128|b>>6&63)<<SHIFT[v++&3],E[v>>2]|=(128|b&63)<<SHIFT[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=E[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,u=this.lastByteIndex;B[16]=this.block,B[u>>2]|=EXTRA[u&3],this.block=B[16],u>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var B=this.h0,u=this.h1,x=this.h2,b=this.h3,d=this.h4,v=this.h5,g=this.h6,E=this.h7,y=this.blocks,h,_,A,I,P,C,w,U,D,q,ee;for(h=16;h<64;++h)P=y[h-15],_=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,P=y[h-2],A=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,y[h]=y[h-16]+_+y[h-7]+A<<0;for(ee=u&x,h=0;h<64;h+=4)this.first?(this.is224?(U=300032,P=y[0]-1413257819,E=P-150054599<<0,b=P+24177077<<0):(U=704751109,P=y[0]-210244248,E=P-1521486534<<0,b=P+143694565<<0),this.first=!1):(_=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),A=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),U=B&u,I=U^B&x^ee,w=d&v^~d&g,P=E+A+w+K[h]+y[h],C=_+I,E=b+P<<0,b=P+C<<0),_=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),A=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),D=b&B,I=D^b&u^U,w=E&d^~E&v,P=g+A+w+K[h+1]+y[h+1],C=_+I,g=x+P<<0,x=P+C<<0,_=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),A=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),q=x&b,I=q^x&B^D,w=g&E^~g&d,P=v+A+w+K[h+2]+y[h+2],C=_+I,v=u+P<<0,u=P+C<<0,_=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),A=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),ee=u&x,I=ee^u&b^q,w=v&g^~v&E,P=d+A+w+K[h+3]+y[h+3],C=_+I,d=B+P<<0,B=P+C<<0;this.h0=this.h0+B<<0,this.h1=this.h1+u<<0,this.h2=this.h2+x<<0,this.h3=this.h3+b<<0,this.h4=this.h4+d<<0,this.h5=this.h5+v<<0,this.h6=this.h6+g<<0,this.h7=this.h7+E<<0},Sha256.prototype.hex=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,b=this.h3,d=this.h4,v=this.h5,g=this.h6,E=this.h7,y=HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[x&15]+HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[b&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[v&15]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15];return this.is224||(y+=HEX_CHARS[E>>28&15]+HEX_CHARS[E>>24&15]+HEX_CHARS[E>>20&15]+HEX_CHARS[E>>16&15]+HEX_CHARS[E>>12&15]+HEX_CHARS[E>>8&15]+HEX_CHARS[E>>4&15]+HEX_CHARS[E&15]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var B=this.h0,u=this.h1,x=this.h2,b=this.h3,d=this.h4,v=this.h5,g=this.h6,E=this.h7,y=[B>>24&255,B>>16&255,B>>8&255,B&255,u>>24&255,u>>16&255,u>>8&255,u&255,x>>24&255,x>>16&255,x>>8&255,x&255,b>>24&255,b>>16&255,b>>8&255,b&255,d>>24&255,d>>16&255,d>>8&255,d&255,v>>24&255,v>>16&255,v>>8&255,v&255,g>>24&255,g>>16&255,g>>8&255,g&255];return this.is224||y.push(E>>24&255,E>>16&255,E>>8&255,E&255),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),u=new DataView(B);return u.setUint32(0,this.h0),u.setUint32(4,this.h1),u.setUint32(8,this.h2),u.setUint32(12,this.h3),u.setUint32(16,this.h4),u.setUint32(20,this.h5),u.setUint32(24,this.h6),this.is224||u.setUint32(28,this.h7),B};function HmacSha256(B,u,x){var b,d=typeof B;if(d==="string"){var v=[],g=B.length,E=0,y;for(b=0;b<g;++b)y=B.charCodeAt(b),y<128?v[E++]=y:y<2048?(v[E++]=192|y>>6,v[E++]=128|y&63):y<55296||y>=57344?(v[E++]=224|y>>12,v[E++]=128|y>>6&63,v[E++]=128|y&63):(y=65536+((y&1023)<<10|B.charCodeAt(++b)&1023),v[E++]=240|y>>18,v[E++]=128|y>>12&63,v[E++]=128|y>>6&63,v[E++]=128|y&63);B=v}else if(d==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);B.length>64&&(B=new Sha256(u,!0).update(B).array());var h=[],_=[];for(b=0;b<64;++b){var A=B[b]||0;h[b]=92^A,_[b]=54^A}Sha256.call(this,u,x),this.update(_),this.oKeyPad=h,this.inner=!0,this.sharedMemory=x}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},38032:function(B,u,x){B.exports=x(54215)},54215:function(B,u,x){var b=x(55310);u.operation=function(d){var v=u.timeouts(d);return new b(v,{forever:d&&(d.forever||d.retries===1/0),unref:d&&d.unref,maxRetryTime:d&&d.maxRetryTime})},u.timeouts=function(d){if(d instanceof Array)return[].concat(d);var v={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var g in d)v[g]=d[g];if(v.minTimeout>v.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var E=[],y=0;y<v.retries;y++)E.push(this.createTimeout(y,v));return d&&d.forever&&!E.length&&E.push(this.createTimeout(y,v)),E.sort(function(h,_){return h-_}),E},u.createTimeout=function(d,v){var g=v.randomize?Math.random()+1:1,E=Math.round(g*Math.max(v.minTimeout,1)*Math.pow(v.factor,d));return E=Math.min(E,v.maxTimeout),E},u.wrap=function(d,v,g){if(v instanceof Array&&(g=v,v=null),!g){g=[];for(var E in d)typeof d[E]=="function"&&g.push(E)}for(var y=0;y<g.length;y++){var h=g[y],_=d[h];d[h]=function(I){var P=u.operation(v),C=Array.prototype.slice.call(arguments,1),w=C.pop();C.push(function(U){P.retry(U)||(U&&(arguments[0]=P.mainError()),w.apply(this,arguments))}),P.attempt(function(){I.apply(d,C)})}.bind(d,_),d[h].options=v}}},55310:function(B){function u(x,b){typeof b=="boolean"&&(b={forever:b}),this._originalTimeouts=JSON.parse(JSON.stringify(x)),this._timeouts=x,this._options=b||{},this._maxRetryTime=b&&b.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=u,u.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},u.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},u.prototype.retry=function(x){if(this._timeout&&clearTimeout(this._timeout),!x)return!1;var b=new Date().getTime();if(x&&b-this._operationStart>=this._maxRetryTime)return this._errors.push(x),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(x);var d=this._timeouts.shift();if(d===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),d=this._cachedTimeouts.slice(-1);else return!1;var v=this;return this._timer=setTimeout(function(){v._attempts++,v._operationTimeoutCb&&(v._timeout=setTimeout(function(){v._operationTimeoutCb(v._attempts)},v._operationTimeout),v._options.unref&&v._timeout.unref()),v._fn(v._attempts)},d),this._options.unref&&this._timer.unref(),!0},u.prototype.attempt=function(x,b){this._fn=x,b&&(b.timeout&&(this._operationTimeout=b.timeout),b.cb&&(this._operationTimeoutCb=b.cb));var d=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){d._operationTimeoutCb()},d._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},u.prototype.try=function(x){console.log("Using RetryOperation.try() is deprecated"),this.attempt(x)},u.prototype.start=function(x){console.log("Using RetryOperation.start() is deprecated"),this.attempt(x)},u.prototype.start=u.prototype.try,u.prototype.errors=function(){return this._errors},u.prototype.attempts=function(){return this._attempts},u.prototype.mainError=function(){if(this._errors.length===0)return null;for(var x={},b=null,d=0,v=0;v<this._errors.length;v++){var g=this._errors[v],E=g.message,y=(x[E]||0)+1;x[E]=y,y>=d&&(b=g,d=y)}return b}},9495:function(B){"use strict";(function(u){function b(C){const w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,D=3144134277,q=1013904242,ee=2773480762,Y=1359893119,ye=2600822924,W=528734635,te=1541459225;const X=new Uint32Array(64);function le(he){let Pe=0,Se=he.length;for(;Se>=64;){let V=U,M=D,$=q,ae=ee,H=Y,J=ye,Ee=W,We=te,Ce,Ke,$t,zt,$r;for(Ke=0;Ke<16;Ke++)$t=Pe+Ke*4,X[Ke]=(he[$t]&255)<<24|(he[$t+1]&255)<<16|(he[$t+2]&255)<<8|he[$t+3]&255;for(Ke=16;Ke<64;Ke++)Ce=X[Ke-2],zt=(Ce>>>17|Ce<<32-17)^(Ce>>>19|Ce<<32-19)^Ce>>>10,Ce=X[Ke-15],$r=(Ce>>>7|Ce<<32-7)^(Ce>>>18|Ce<<32-18)^Ce>>>3,X[Ke]=(zt+X[Ke-7]|0)+($r+X[Ke-16]|0)|0;for(Ke=0;Ke<64;Ke++)zt=(((H>>>6|H<<32-6)^(H>>>11|H<<32-11)^(H>>>25|H<<32-25))+(H&J^~H&Ee)|0)+(We+(w[Ke]+X[Ke]|0)|0)|0,$r=((V>>>2|V<<32-2)^(V>>>13|V<<32-13)^(V>>>22|V<<32-22))+(V&M^V&$^M&$)|0,We=Ee,Ee=J,J=H,H=ae+zt|0,ae=$,$=M,M=V,V=zt+$r|0;U=U+V|0,D=D+M|0,q=q+$|0,ee=ee+ae|0,Y=Y+H|0,ye=ye+J|0,W=W+Ee|0,te=te+We|0,Pe+=64,Se-=64}}le(C);let Re,pe=C.length%64,ve=C.length/536870912|0,F=C.length<<3,ie=pe<56?56:120,re=C.slice(C.length-pe,C.length);for(re.push(128),Re=pe+1;Re<ie;Re++)re.push(0);return re.push(ve>>>24&255),re.push(ve>>>16&255),re.push(ve>>>8&255),re.push(ve>>>0&255),re.push(F>>>24&255),re.push(F>>>16&255),re.push(F>>>8&255),re.push(F>>>0&255),le(re),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255,ye>>>24&255,ye>>>16&255,ye>>>8&255,ye>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255,te>>>24&255,te>>>16&255,te>>>8&255,te>>>0&255]}function d(C,w,U){C=C.length<=64?C:b(C);const D=64+w.length+4,q=new Array(D),ee=new Array(64);let Y,ye=[];for(Y=0;Y<64;Y++)q[Y]=54;for(Y=0;Y<C.length;Y++)q[Y]^=C[Y];for(Y=0;Y<w.length;Y++)q[64+Y]=w[Y];for(Y=D-4;Y<D;Y++)q[Y]=0;for(Y=0;Y<64;Y++)ee[Y]=92;for(Y=0;Y<C.length;Y++)ee[Y]^=C[Y];function W(){for(let te=D-1;te>=D-4;te--){if(q[te]++,q[te]<=255)return;q[te]=0}}for(;U>=32;)W(),ye=ye.concat(b(ee.concat(b(q)))),U-=32;return U>0&&(W(),ye=ye.concat(b(ee.concat(b(q))).slice(0,U))),ye}function v(C,w,U,D,q){let ee;for(h(C,(2*U-1)*16,q,0,16),ee=0;ee<2*U;ee++)y(C,ee*16,q,16),E(q,D),h(q,0,C,w+ee*16,16);for(ee=0;ee<U;ee++)h(C,w+ee*2*16,C,ee*16,16);for(ee=0;ee<U;ee++)h(C,w+(ee*2+1)*16,C,(ee+U)*16,16)}function g(C,w){return C<<w|C>>>32-w}function E(C,w){h(C,0,w,0,16);for(let U=8;U>0;U-=2)w[4]^=g(w[0]+w[12],7),w[8]^=g(w[4]+w[0],9),w[12]^=g(w[8]+w[4],13),w[0]^=g(w[12]+w[8],18),w[9]^=g(w[5]+w[1],7),w[13]^=g(w[9]+w[5],9),w[1]^=g(w[13]+w[9],13),w[5]^=g(w[1]+w[13],18),w[14]^=g(w[10]+w[6],7),w[2]^=g(w[14]+w[10],9),w[6]^=g(w[2]+w[14],13),w[10]^=g(w[6]+w[2],18),w[3]^=g(w[15]+w[11],7),w[7]^=g(w[3]+w[15],9),w[11]^=g(w[7]+w[3],13),w[15]^=g(w[11]+w[7],18),w[1]^=g(w[0]+w[3],7),w[2]^=g(w[1]+w[0],9),w[3]^=g(w[2]+w[1],13),w[0]^=g(w[3]+w[2],18),w[6]^=g(w[5]+w[4],7),w[7]^=g(w[6]+w[5],9),w[4]^=g(w[7]+w[6],13),w[5]^=g(w[4]+w[7],18),w[11]^=g(w[10]+w[9],7),w[8]^=g(w[11]+w[10],9),w[9]^=g(w[8]+w[11],13),w[10]^=g(w[9]+w[8],18),w[12]^=g(w[15]+w[14],7),w[13]^=g(w[12]+w[15],9),w[14]^=g(w[13]+w[12],13),w[15]^=g(w[14]+w[13],18);for(let U=0;U<16;++U)C[U]+=w[U]}function y(C,w,U,D){for(let q=0;q<D;q++)U[q]^=C[w+q]}function h(C,w,U,D,q){for(;q--;)U[D++]=C[w++]}function _(C){if(!C||typeof C.length!="number")return!1;for(let w=0;w<C.length;w++){const U=C[w];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function A(C,w){if(typeof C!="number"||C%1)throw new Error("invalid "+w);return C}function I(C,w,U,D,q,ee,Y){if(U=A(U,"N"),D=A(D,"r"),q=A(q,"p"),ee=A(ee,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/D)throw new Error("N too large");if(D>2147483647/128/q)throw new Error("r too large");if(!_(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!_(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let ye=d(C,w,q*128*D);const W=new Uint32Array(q*32*D);for(let H=0;H<W.length;H++){const J=H*4;W[H]=(ye[J+3]&255)<<24|(ye[J+2]&255)<<16|(ye[J+1]&255)<<8|(ye[J+0]&255)<<0}const te=new Uint32Array(64*D),X=new Uint32Array(32*D*U),le=32*D,Re=new Uint32Array(16),pe=new Uint32Array(16),ve=q*U*2;let F=0,ie=null,re=!1,he=0,Pe=0,Se,V;const M=Y?parseInt(1e3/D):4294967295,$=typeof setImmediate<"u"?setImmediate:setTimeout,ae=function(){if(re)return Y(new Error("cancelled"),F/ve);let H;switch(he){case 0:V=Pe*32*D,h(W,V,te,0,le),he=1,Se=0;case 1:H=U-Se,H>M&&(H=M);for(let Ee=0;Ee<H;Ee++)h(te,0,X,(Se+Ee)*le,le),v(te,le,D,Re,pe);if(Se+=H,F+=H,Y){const Ee=parseInt(1e3*F/ve);if(Ee!==ie){if(re=Y(null,F/ve),re)break;ie=Ee}}if(Se<U)break;Se=0,he=2;case 2:H=U-Se,H>M&&(H=M);for(let Ee=0;Ee<H;Ee++){const We=(2*D-1)*16,Ce=te[We]&U-1;y(X,Ce*le,te,le),v(te,le,D,Re,pe)}if(Se+=H,F+=H,Y){const Ee=parseInt(1e3*F/ve);if(Ee!==ie){if(re=Y(null,F/ve),re)break;ie=Ee}}if(Se<U)break;if(h(te,0,W,V,le),Pe++,Pe<q){he=0;break}ye=[];for(let Ee=0;Ee<W.length;Ee++)ye.push(W[Ee]>>0&255),ye.push(W[Ee]>>8&255),ye.push(W[Ee]>>16&255),ye.push(W[Ee]>>24&255);const J=d(C,ye,ee);return Y&&Y(null,1,J),J}Y&&$(ae)};if(!Y)for(;;){const H=ae();if(H!=null)return H}ae()}const P={scrypt:function(C,w,U,D,q,ee,Y){return new Promise(function(ye,W){let te=0;Y&&Y(0),I(C,w,U,D,q,ee,function(X,le,Re){if(X)W(X);else if(Re)Y&&te!==1&&Y(1),ye(new Uint8Array(Re));else if(Y&&le!==te)return te=le,Y(le)})})},syncScrypt:function(C,w,U,D,q,ee){return new Uint8Array(I(C,w,U,D,q,ee))}};B.exports=P})(this)},85323:function(B,u,x){B.exports=x(85830)(x(94235))},94235:function(B,u,x){const b=x(86677).ec,d=new b("secp256k1"),v=d.curve,g=v.n.constructor;function E(A,I){let P=new g(I);if(P.cmp(v.p)>=0)return null;P=P.toRed(v.red);let C=P.redSqr().redIMul(P).redIAdd(v.b).redSqrt();return A===3!==C.isOdd()&&(C=C.redNeg()),d.keyPair({pub:{x:P,y:C}})}function y(A,I,P){let C=new g(I),w=new g(P);if(C.cmp(v.p)>=0||w.cmp(v.p)>=0||(C=C.toRed(v.red),w=w.toRed(v.red),(A===6||A===7)&&w.isOdd()!==(A===7)))return null;const U=C.redSqr().redIMul(C);return w.redSqr().redISub(U.redIAdd(v.b)).isZero()?d.keyPair({pub:{x:C,y:w}}):null}function h(A){const I=A[0];switch(I){case 2:case 3:return A.length!==33?null:E(I,A.subarray(1,33));case 4:case 6:case 7:return A.length!==65?null:y(I,A.subarray(1,33),A.subarray(33,65));default:return null}}function _(A,I){const P=I.encode(null,A.length===33);for(let C=0;C<A.length;++C)A[C]=P[C]}B.exports={contextRandomize(){return 0},privateKeyVerify(A){const I=new g(A);return I.cmp(v.n)<0&&!I.isZero()?0:1},privateKeyNegate(A){const I=new g(A),P=v.n.sub(I).umod(v.n).toArrayLike(Uint8Array,"be",32);return A.set(P),0},privateKeyTweakAdd(A,I){const P=new g(I);if(P.cmp(v.n)>=0||(P.iadd(new g(A)),P.cmp(v.n)>=0&&P.isub(v.n),P.isZero()))return 1;const C=P.toArrayLike(Uint8Array,"be",32);return A.set(C),0},privateKeyTweakMul(A,I){let P=new g(I);if(P.cmp(v.n)>=0||P.isZero())return 1;P.imul(new g(A)),P.cmp(v.n)>=0&&(P=P.umod(v.n));const C=P.toArrayLike(Uint8Array,"be",32);return A.set(C),0},publicKeyVerify(A){return h(A)===null?1:0},publicKeyCreate(A,I){const P=new g(I);if(P.cmp(v.n)>=0||P.isZero())return 1;const C=d.keyFromPrivate(I).getPublic();return _(A,C),0},publicKeyConvert(A,I){const P=h(I);if(P===null)return 1;const C=P.getPublic();return _(A,C),0},publicKeyNegate(A,I){const P=h(I);if(P===null)return 1;const C=P.getPublic();return C.y=C.y.redNeg(),_(A,C),0},publicKeyCombine(A,I){const P=new Array(I.length);for(let w=0;w<I.length;++w)if(P[w]=h(I[w]),P[w]===null)return 1;let C=P[0].getPublic();for(let w=1;w<P.length;++w)C=C.add(P[w].pub);return C.isInfinity()?2:(_(A,C),0)},publicKeyTweakAdd(A,I,P){const C=h(I);if(C===null)return 1;if(P=new g(P),P.cmp(v.n)>=0)return 2;const w=C.getPublic().add(v.g.mul(P));return w.isInfinity()?2:(_(A,w),0)},publicKeyTweakMul(A,I,P){const C=h(I);if(C===null)return 1;if(P=new g(P),P.cmp(v.n)>=0||P.isZero())return 2;const w=C.getPublic().mul(P);return _(A,w),0},signatureNormalize(A){const I=new g(A.subarray(0,32)),P=new g(A.subarray(32,64));return I.cmp(v.n)>=0||P.cmp(v.n)>=0?1:(P.cmp(d.nh)===1&&A.set(v.n.sub(P).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(A,I){const P=I.subarray(0,32),C=I.subarray(32,64);if(new g(P).cmp(v.n)>=0||new g(C).cmp(v.n)>=0)return 1;const{output:w}=A;let U=w.subarray(4,4+33);U[0]=0,U.set(P,1);let D=33,q=0;for(;D>1&&U[q]===0&&!(U[q+1]&128);--D,++q);if(U=U.subarray(q),U[0]&128||D>1&&U[0]===0&&!(U[1]&128))return 1;let ee=w.subarray(6+33,6+33+33);ee[0]=0,ee.set(C,1);let Y=33,ye=0;for(;Y>1&&ee[ye]===0&&!(ee[ye+1]&128);--Y,++ye);return ee=ee.subarray(ye),ee[0]&128||Y>1&&ee[0]===0&&!(ee[1]&128)?1:(A.outputlen=6+D+Y,w[0]=48,w[1]=A.outputlen-2,w[2]=2,w[3]=U.length,w.set(U,4),w[4+D]=2,w[5+D]=ee.length,w.set(ee,6+D),0)},signatureImport(A,I){if(I.length<8||I.length>72||I[0]!==48||I[1]!==I.length-2||I[2]!==2)return 1;const P=I[3];if(P===0||5+P>=I.length||I[4+P]!==2)return 1;const C=I[5+P];if(C===0||6+P+C!==I.length||I[4]&128||P>1&&I[4]===0&&!(I[5]&128)||I[P+6]&128||C>1&&I[P+6]===0&&!(I[P+7]&128))return 1;let w=I.subarray(4,4+P);if(w.length===33&&w[0]===0&&(w=w.subarray(1)),w.length>32)return 1;let U=I.subarray(6+P);if(U.length===33&&U[0]===0&&(U=U.slice(1)),U.length>32)throw new Error("S length is too long");let D=new g(w);D.cmp(v.n)>=0&&(D=new g(0));let q=new g(I.subarray(6+P));return q.cmp(v.n)>=0&&(q=new g(0)),A.set(D.toArrayLike(Uint8Array,"be",32),0),A.set(q.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(A,I,P,C,w){if(w){const q=w;w=ee=>{const Y=q(I,P,null,C,ee);if(!(Y instanceof Uint8Array&&Y.length===32))throw new Error("This is the way");return new g(Y)}}const U=new g(P);if(U.cmp(v.n)>=0||U.isZero())return 1;let D;try{D=d.sign(I,P,{canonical:!0,k:w,pers:C})}catch{return 1}return A.signature.set(D.r.toArrayLike(Uint8Array,"be",32),0),A.signature.set(D.s.toArrayLike(Uint8Array,"be",32),32),A.recid=D.recoveryParam,0},ecdsaVerify(A,I,P){const C={r:A.subarray(0,32),s:A.subarray(32,64)},w=new g(C.r),U=new g(C.s);if(w.cmp(v.n)>=0||U.cmp(v.n)>=0)return 1;if(U.cmp(d.nh)===1||w.isZero()||U.isZero())return 3;const D=h(P);if(D===null)return 2;const q=D.getPublic();return d.verify(I,C,q)?0:3},ecdsaRecover(A,I,P,C){const w={r:I.slice(0,32),s:I.slice(32,64)},U=new g(w.r),D=new g(w.s);if(U.cmp(v.n)>=0||D.cmp(v.n)>=0)return 1;if(U.isZero()||D.isZero())return 2;let q;try{q=d.recoverPubKey(C,w,P)}catch{return 2}return _(A,q),0},ecdh(A,I,P,C,w,U,D){const q=h(I);if(q===null)return 1;const ee=new g(P);if(ee.cmp(v.n)>=0||ee.isZero())return 2;const Y=q.getPublic().mul(ee);if(w===void 0){const ye=Y.encode(null,!0),W=d.hash().update(ye).digest();for(let te=0;te<32;++te)A[te]=W[te]}else{U||(U=new Uint8Array(32));const ye=Y.getX().toArray("be",32);for(let le=0;le<32;++le)U[le]=ye[le];D||(D=new Uint8Array(32));const W=Y.getY().toArray("be",32);for(let le=0;le<32;++le)D[le]=W[le];const te=w(U,D,C);if(!(te instanceof Uint8Array&&te.length===A.length))return 2;A.set(te)}return 0}}},85830:function(B){const u={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function x(E,y){if(!E)throw new Error(y)}function b(E,y,h){if(x(y instanceof Uint8Array,`Expected ${E} to be an Uint8Array`),h!==void 0)if(Array.isArray(h)){const _=h.join(", "),A=`Expected ${E} to be an Uint8Array with length [${_}]`;x(h.includes(y.length),A)}else{const _=`Expected ${E} to be an Uint8Array with length ${h}`;x(y.length===h,_)}}function d(E){x(g(E)==="Boolean","Expected compressed to be a Boolean")}function v(E=h=>new Uint8Array(h),y){return typeof E=="function"&&(E=E(y)),b("output",E,y),E}function g(E){return Object.prototype.toString.call(E).slice(8,-1)}B.exports=E=>({contextRandomize(y){switch(x(y===null||y instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),y!==null&&b("seed",y,32),E.contextRandomize(y)){case 1:throw new Error(u.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(y){return b("private key",y,32),E.privateKeyVerify(y)===0},privateKeyNegate(y){switch(b("private key",y,32),E.privateKeyNegate(y)){case 0:return y;case 1:throw new Error(u.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(y,h){switch(b("private key",y,32),b("tweak",h,32),E.privateKeyTweakAdd(y,h)){case 0:return y;case 1:throw new Error(u.TWEAK_ADD)}},privateKeyTweakMul(y,h){switch(b("private key",y,32),b("tweak",h,32),E.privateKeyTweakMul(y,h)){case 0:return y;case 1:throw new Error(u.TWEAK_MUL)}},publicKeyVerify(y){return b("public key",y,[33,65]),E.publicKeyVerify(y)===0},publicKeyCreate(y,h=!0,_){switch(b("private key",y,32),d(h),_=v(_,h?33:65),E.publicKeyCreate(_,y)){case 0:return _;case 1:throw new Error(u.SECKEY_INVALID);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyConvert(y,h=!0,_){switch(b("public key",y,[33,65]),d(h),_=v(_,h?33:65),E.publicKeyConvert(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyNegate(y,h=!0,_){switch(b("public key",y,[33,65]),d(h),_=v(_,h?33:65),E.publicKeyNegate(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyCombine(y,h=!0,_){x(Array.isArray(y),"Expected public keys to be an Array"),x(y.length>0,"Expected public keys array will have more than zero items");for(const A of y)b("public key",A,[33,65]);switch(d(h),_=v(_,h?33:65),E.publicKeyCombine(_,y)){case 0:return _;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.PUBKEY_COMBINE);case 3:throw new Error(u.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(y,h,_=!0,A){switch(b("public key",y,[33,65]),b("tweak",h,32),d(_),A=v(A,_?33:65),E.publicKeyTweakAdd(A,y,h)){case 0:return A;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_ADD)}},publicKeyTweakMul(y,h,_=!0,A){switch(b("public key",y,[33,65]),b("tweak",h,32),d(_),A=v(A,_?33:65),E.publicKeyTweakMul(A,y,h)){case 0:return A;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.TWEAK_MUL)}},signatureNormalize(y){switch(b("signature",y,64),E.signatureNormalize(y)){case 0:return y;case 1:throw new Error(u.SIG_PARSE)}},signatureExport(y,h){b("signature",y,64),h=v(h,72);const _={output:h,outputlen:72};switch(E.signatureExport(_,y)){case 0:return h.slice(0,_.outputlen);case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},signatureImport(y,h){switch(b("signature",y),h=v(h,64),E.signatureImport(h,y)){case 0:return h;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaSign(y,h,_={},A){b("message",y,32),b("private key",h,32),x(g(_)==="Object","Expected options to be an Object"),_.data!==void 0&&b("options.data",_.data),_.noncefn!==void 0&&x(g(_.noncefn)==="Function","Expected options.noncefn to be a Function"),A=v(A,64);const I={signature:A,recid:null};switch(E.ecdsaSign(I,y,h,_.data,_.noncefn)){case 0:return I;case 1:throw new Error(u.SIGN);case 2:throw new Error(u.IMPOSSIBLE_CASE)}},ecdsaVerify(y,h,_){switch(b("signature",y,64),b("message",h,32),b("public key",_,[33,65]),E.ecdsaVerify(y,h,_)){case 0:return!0;case 3:return!1;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.PUBKEY_PARSE)}},ecdsaRecover(y,h,_,A=!0,I){switch(b("signature",y,64),x(g(h)==="Number"&&h>=0&&h<=3,"Expected recovery id to be a Number within interval [0, 3]"),b("message",_,32),d(A),I=v(I,A?33:65),E.ecdsaRecover(I,y,h,_)){case 0:return I;case 1:throw new Error(u.SIG_PARSE);case 2:throw new Error(u.RECOVER);case 3:throw new Error(u.IMPOSSIBLE_CASE)}},ecdh(y,h,_={},A){switch(b("public key",y,[33,65]),b("private key",h,32),x(g(_)==="Object","Expected options to be an Object"),_.data!==void 0&&b("options.data",_.data),_.hashfn!==void 0?(x(g(_.hashfn)==="Function","Expected options.hashfn to be a Function"),_.xbuf!==void 0&&b("options.xbuf",_.xbuf,32),_.ybuf!==void 0&&b("options.ybuf",_.ybuf,32),b("output",A)):A=v(A,32),E.ecdh(A,y,h,_.data,_.hashfn,_.xbuf,_.ybuf)){case 0:return A;case 1:throw new Error(u.PUBKEY_PARSE);case 2:throw new Error(u.ECDH)}}})},15711:function(B,u,x){(function(b){"use strict";var d=function(p){var R,T=new Float64Array(16);if(p)for(R=0;R<p.length;R++)T[R]=p[R];return T},v=function(){throw new Error("no PRNG")},g=new Uint8Array(16),E=new Uint8Array(32);E[0]=9;var y=d(),h=d([1]),_=d([56129,1]),A=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),I=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),P=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),C=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(p,R,T,c){p[R]=T>>24&255,p[R+1]=T>>16&255,p[R+2]=T>>8&255,p[R+3]=T&255,p[R+4]=c>>24&255,p[R+5]=c>>16&255,p[R+6]=c>>8&255,p[R+7]=c&255}function D(p,R,T,c,k){var G,Q=0;for(G=0;G<k;G++)Q|=p[R+G]^T[c+G];return(1&Q-1>>>8)-1}function q(p,R,T,c){return D(p,R,T,c,16)}function ee(p,R,T,c){return D(p,R,T,c,32)}function Y(p,R,T,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,G=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Q=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,fe=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,me=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,ke=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,xt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Be=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Je=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,tt=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Qe=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,qe=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,Ge=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Xe=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=k,Fe=G,Ie=Q,Ne=fe,Oe=me,Ae=Me,ne=ke,se=xt,xe=Be,ce=je,de=Je,ge=tt,$e=Qe,rt=qe,nt=Ge,it=Xe,N,at=0;at<20;at+=2)N=Ue+$e|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,xe^=N<<9|N>>>32-9,N=xe+Oe|0,$e^=N<<13|N>>>32-13,N=$e+xe|0,Ue^=N<<18|N>>>32-18,N=Ae+Fe|0,ce^=N<<7|N>>>32-7,N=ce+Ae|0,rt^=N<<9|N>>>32-9,N=rt+ce|0,Fe^=N<<13|N>>>32-13,N=Fe+rt|0,Ae^=N<<18|N>>>32-18,N=de+ne|0,nt^=N<<7|N>>>32-7,N=nt+de|0,Ie^=N<<9|N>>>32-9,N=Ie+nt|0,ne^=N<<13|N>>>32-13,N=ne+Ie|0,de^=N<<18|N>>>32-18,N=it+ge|0,Ne^=N<<7|N>>>32-7,N=Ne+it|0,se^=N<<9|N>>>32-9,N=se+Ne|0,ge^=N<<13|N>>>32-13,N=ge+se|0,it^=N<<18|N>>>32-18,N=Ue+Ne|0,Fe^=N<<7|N>>>32-7,N=Fe+Ue|0,Ie^=N<<9|N>>>32-9,N=Ie+Fe|0,Ne^=N<<13|N>>>32-13,N=Ne+Ie|0,Ue^=N<<18|N>>>32-18,N=Ae+Oe|0,ne^=N<<7|N>>>32-7,N=ne+Ae|0,se^=N<<9|N>>>32-9,N=se+ne|0,Oe^=N<<13|N>>>32-13,N=Oe+se|0,Ae^=N<<18|N>>>32-18,N=de+ce|0,ge^=N<<7|N>>>32-7,N=ge+de|0,xe^=N<<9|N>>>32-9,N=xe+ge|0,ce^=N<<13|N>>>32-13,N=ce+xe|0,de^=N<<18|N>>>32-18,N=it+nt|0,$e^=N<<7|N>>>32-7,N=$e+it|0,rt^=N<<9|N>>>32-9,N=rt+$e|0,nt^=N<<13|N>>>32-13,N=nt+rt|0,it^=N<<18|N>>>32-18;Ue=Ue+k|0,Fe=Fe+G|0,Ie=Ie+Q|0,Ne=Ne+fe|0,Oe=Oe+me|0,Ae=Ae+Me|0,ne=ne+ke|0,se=se+xt|0,xe=xe+Be|0,ce=ce+je|0,de=de+Je|0,ge=ge+tt|0,$e=$e+Qe|0,rt=rt+qe|0,nt=nt+Ge|0,it=it+Xe|0,p[0]=Ue>>>0&255,p[1]=Ue>>>8&255,p[2]=Ue>>>16&255,p[3]=Ue>>>24&255,p[4]=Fe>>>0&255,p[5]=Fe>>>8&255,p[6]=Fe>>>16&255,p[7]=Fe>>>24&255,p[8]=Ie>>>0&255,p[9]=Ie>>>8&255,p[10]=Ie>>>16&255,p[11]=Ie>>>24&255,p[12]=Ne>>>0&255,p[13]=Ne>>>8&255,p[14]=Ne>>>16&255,p[15]=Ne>>>24&255,p[16]=Oe>>>0&255,p[17]=Oe>>>8&255,p[18]=Oe>>>16&255,p[19]=Oe>>>24&255,p[20]=Ae>>>0&255,p[21]=Ae>>>8&255,p[22]=Ae>>>16&255,p[23]=Ae>>>24&255,p[24]=ne>>>0&255,p[25]=ne>>>8&255,p[26]=ne>>>16&255,p[27]=ne>>>24&255,p[28]=se>>>0&255,p[29]=se>>>8&255,p[30]=se>>>16&255,p[31]=se>>>24&255,p[32]=xe>>>0&255,p[33]=xe>>>8&255,p[34]=xe>>>16&255,p[35]=xe>>>24&255,p[36]=ce>>>0&255,p[37]=ce>>>8&255,p[38]=ce>>>16&255,p[39]=ce>>>24&255,p[40]=de>>>0&255,p[41]=de>>>8&255,p[42]=de>>>16&255,p[43]=de>>>24&255,p[44]=ge>>>0&255,p[45]=ge>>>8&255,p[46]=ge>>>16&255,p[47]=ge>>>24&255,p[48]=$e>>>0&255,p[49]=$e>>>8&255,p[50]=$e>>>16&255,p[51]=$e>>>24&255,p[52]=rt>>>0&255,p[53]=rt>>>8&255,p[54]=rt>>>16&255,p[55]=rt>>>24&255,p[56]=nt>>>0&255,p[57]=nt>>>8&255,p[58]=nt>>>16&255,p[59]=nt>>>24&255,p[60]=it>>>0&255,p[61]=it>>>8&255,p[62]=it>>>16&255,p[63]=it>>>24&255}function ye(p,R,T,c){for(var k=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,G=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Q=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,fe=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,me=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,Me=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,ke=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,xt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Be=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Je=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,tt=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,Qe=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,qe=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,Ge=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Xe=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Ue=k,Fe=G,Ie=Q,Ne=fe,Oe=me,Ae=Me,ne=ke,se=xt,xe=Be,ce=je,de=Je,ge=tt,$e=Qe,rt=qe,nt=Ge,it=Xe,N,at=0;at<20;at+=2)N=Ue+$e|0,Oe^=N<<7|N>>>32-7,N=Oe+Ue|0,xe^=N<<9|N>>>32-9,N=xe+Oe|0,$e^=N<<13|N>>>32-13,N=$e+xe|0,Ue^=N<<18|N>>>32-18,N=Ae+Fe|0,ce^=N<<7|N>>>32-7,N=ce+Ae|0,rt^=N<<9|N>>>32-9,N=rt+ce|0,Fe^=N<<13|N>>>32-13,N=Fe+rt|0,Ae^=N<<18|N>>>32-18,N=de+ne|0,nt^=N<<7|N>>>32-7,N=nt+de|0,Ie^=N<<9|N>>>32-9,N=Ie+nt|0,ne^=N<<13|N>>>32-13,N=ne+Ie|0,de^=N<<18|N>>>32-18,N=it+ge|0,Ne^=N<<7|N>>>32-7,N=Ne+it|0,se^=N<<9|N>>>32-9,N=se+Ne|0,ge^=N<<13|N>>>32-13,N=ge+se|0,it^=N<<18|N>>>32-18,N=Ue+Ne|0,Fe^=N<<7|N>>>32-7,N=Fe+Ue|0,Ie^=N<<9|N>>>32-9,N=Ie+Fe|0,Ne^=N<<13|N>>>32-13,N=Ne+Ie|0,Ue^=N<<18|N>>>32-18,N=Ae+Oe|0,ne^=N<<7|N>>>32-7,N=ne+Ae|0,se^=N<<9|N>>>32-9,N=se+ne|0,Oe^=N<<13|N>>>32-13,N=Oe+se|0,Ae^=N<<18|N>>>32-18,N=de+ce|0,ge^=N<<7|N>>>32-7,N=ge+de|0,xe^=N<<9|N>>>32-9,N=xe+ge|0,ce^=N<<13|N>>>32-13,N=ce+xe|0,de^=N<<18|N>>>32-18,N=it+nt|0,$e^=N<<7|N>>>32-7,N=$e+it|0,rt^=N<<9|N>>>32-9,N=rt+$e|0,nt^=N<<13|N>>>32-13,N=nt+rt|0,it^=N<<18|N>>>32-18;p[0]=Ue>>>0&255,p[1]=Ue>>>8&255,p[2]=Ue>>>16&255,p[3]=Ue>>>24&255,p[4]=Ae>>>0&255,p[5]=Ae>>>8&255,p[6]=Ae>>>16&255,p[7]=Ae>>>24&255,p[8]=de>>>0&255,p[9]=de>>>8&255,p[10]=de>>>16&255,p[11]=de>>>24&255,p[12]=it>>>0&255,p[13]=it>>>8&255,p[14]=it>>>16&255,p[15]=it>>>24&255,p[16]=ne>>>0&255,p[17]=ne>>>8&255,p[18]=ne>>>16&255,p[19]=ne>>>24&255,p[20]=se>>>0&255,p[21]=se>>>8&255,p[22]=se>>>16&255,p[23]=se>>>24&255,p[24]=xe>>>0&255,p[25]=xe>>>8&255,p[26]=xe>>>16&255,p[27]=xe>>>24&255,p[28]=ce>>>0&255,p[29]=ce>>>8&255,p[30]=ce>>>16&255,p[31]=ce>>>24&255}function W(p,R,T,c){Y(p,R,T,c)}function te(p,R,T,c){ye(p,R,T,c)}var X=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function le(p,R,T,c,k,G,Q){var fe=new Uint8Array(16),me=new Uint8Array(64),Me,ke;for(ke=0;ke<16;ke++)fe[ke]=0;for(ke=0;ke<8;ke++)fe[ke]=G[ke];for(;k>=64;){for(W(me,fe,Q,X),ke=0;ke<64;ke++)p[R+ke]=T[c+ke]^me[ke];for(Me=1,ke=8;ke<16;ke++)Me=Me+(fe[ke]&255)|0,fe[ke]=Me&255,Me>>>=8;k-=64,R+=64,c+=64}if(k>0)for(W(me,fe,Q,X),ke=0;ke<k;ke++)p[R+ke]=T[c+ke]^me[ke];return 0}function Re(p,R,T,c,k){var G=new Uint8Array(16),Q=new Uint8Array(64),fe,me;for(me=0;me<16;me++)G[me]=0;for(me=0;me<8;me++)G[me]=c[me];for(;T>=64;){for(W(Q,G,k,X),me=0;me<64;me++)p[R+me]=Q[me];for(fe=1,me=8;me<16;me++)fe=fe+(G[me]&255)|0,G[me]=fe&255,fe>>>=8;T-=64,R+=64}if(T>0)for(W(Q,G,k,X),me=0;me<T;me++)p[R+me]=Q[me];return 0}function pe(p,R,T,c,k){var G=new Uint8Array(32);te(G,c,k,X);for(var Q=new Uint8Array(8),fe=0;fe<8;fe++)Q[fe]=c[fe+16];return Re(p,R,T,Q,G)}function ve(p,R,T,c,k,G,Q){var fe=new Uint8Array(32);te(fe,G,Q,X);for(var me=new Uint8Array(8),Me=0;Me<8;Me++)me[Me]=G[Me+16];return le(p,R,T,c,k,me,fe)}var F=function(p){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,T,c,k,G,Q,fe,me;R=p[0]&255|(p[1]&255)<<8,this.r[0]=R&8191,T=p[2]&255|(p[3]&255)<<8,this.r[1]=(R>>>13|T<<3)&8191,c=p[4]&255|(p[5]&255)<<8,this.r[2]=(T>>>10|c<<6)&7939,k=p[6]&255|(p[7]&255)<<8,this.r[3]=(c>>>7|k<<9)&8191,G=p[8]&255|(p[9]&255)<<8,this.r[4]=(k>>>4|G<<12)&255,this.r[5]=G>>>1&8190,Q=p[10]&255|(p[11]&255)<<8,this.r[6]=(G>>>14|Q<<2)&8191,fe=p[12]&255|(p[13]&255)<<8,this.r[7]=(Q>>>11|fe<<5)&8065,me=p[14]&255|(p[15]&255)<<8,this.r[8]=(fe>>>8|me<<8)&8191,this.r[9]=me>>>5&127,this.pad[0]=p[16]&255|(p[17]&255)<<8,this.pad[1]=p[18]&255|(p[19]&255)<<8,this.pad[2]=p[20]&255|(p[21]&255)<<8,this.pad[3]=p[22]&255|(p[23]&255)<<8,this.pad[4]=p[24]&255|(p[25]&255)<<8,this.pad[5]=p[26]&255|(p[27]&255)<<8,this.pad[6]=p[28]&255|(p[29]&255)<<8,this.pad[7]=p[30]&255|(p[31]&255)<<8};F.prototype.blocks=function(p,R,T){for(var c=this.fin?0:2048,k,G,Q,fe,me,Me,ke,xt,Be,je,Je,tt,Qe,qe,Ge,Xe,Ue,Fe,Ie,Ne=this.h[0],Oe=this.h[1],Ae=this.h[2],ne=this.h[3],se=this.h[4],xe=this.h[5],ce=this.h[6],de=this.h[7],ge=this.h[8],$e=this.h[9],rt=this.r[0],nt=this.r[1],it=this.r[2],N=this.r[3],at=this.r[4],pt=this.r[5],dt=this.r[6],ot=this.r[7],lt=this.r[8],ut=this.r[9];T>=16;)k=p[R+0]&255|(p[R+1]&255)<<8,Ne+=k&8191,G=p[R+2]&255|(p[R+3]&255)<<8,Oe+=(k>>>13|G<<3)&8191,Q=p[R+4]&255|(p[R+5]&255)<<8,Ae+=(G>>>10|Q<<6)&8191,fe=p[R+6]&255|(p[R+7]&255)<<8,ne+=(Q>>>7|fe<<9)&8191,me=p[R+8]&255|(p[R+9]&255)<<8,se+=(fe>>>4|me<<12)&8191,xe+=me>>>1&8191,Me=p[R+10]&255|(p[R+11]&255)<<8,ce+=(me>>>14|Me<<2)&8191,ke=p[R+12]&255|(p[R+13]&255)<<8,de+=(Me>>>11|ke<<5)&8191,xt=p[R+14]&255|(p[R+15]&255)<<8,ge+=(ke>>>8|xt<<8)&8191,$e+=xt>>>5|c,Be=0,je=Be,je+=Ne*rt,je+=Oe*(5*ut),je+=Ae*(5*lt),je+=ne*(5*ot),je+=se*(5*dt),Be=je>>>13,je&=8191,je+=xe*(5*pt),je+=ce*(5*at),je+=de*(5*N),je+=ge*(5*it),je+=$e*(5*nt),Be+=je>>>13,je&=8191,Je=Be,Je+=Ne*nt,Je+=Oe*rt,Je+=Ae*(5*ut),Je+=ne*(5*lt),Je+=se*(5*ot),Be=Je>>>13,Je&=8191,Je+=xe*(5*dt),Je+=ce*(5*pt),Je+=de*(5*at),Je+=ge*(5*N),Je+=$e*(5*it),Be+=Je>>>13,Je&=8191,tt=Be,tt+=Ne*it,tt+=Oe*nt,tt+=Ae*rt,tt+=ne*(5*ut),tt+=se*(5*lt),Be=tt>>>13,tt&=8191,tt+=xe*(5*ot),tt+=ce*(5*dt),tt+=de*(5*pt),tt+=ge*(5*at),tt+=$e*(5*N),Be+=tt>>>13,tt&=8191,Qe=Be,Qe+=Ne*N,Qe+=Oe*it,Qe+=Ae*nt,Qe+=ne*rt,Qe+=se*(5*ut),Be=Qe>>>13,Qe&=8191,Qe+=xe*(5*lt),Qe+=ce*(5*ot),Qe+=de*(5*dt),Qe+=ge*(5*pt),Qe+=$e*(5*at),Be+=Qe>>>13,Qe&=8191,qe=Be,qe+=Ne*at,qe+=Oe*N,qe+=Ae*it,qe+=ne*nt,qe+=se*rt,Be=qe>>>13,qe&=8191,qe+=xe*(5*ut),qe+=ce*(5*lt),qe+=de*(5*ot),qe+=ge*(5*dt),qe+=$e*(5*pt),Be+=qe>>>13,qe&=8191,Ge=Be,Ge+=Ne*pt,Ge+=Oe*at,Ge+=Ae*N,Ge+=ne*it,Ge+=se*nt,Be=Ge>>>13,Ge&=8191,Ge+=xe*rt,Ge+=ce*(5*ut),Ge+=de*(5*lt),Ge+=ge*(5*ot),Ge+=$e*(5*dt),Be+=Ge>>>13,Ge&=8191,Xe=Be,Xe+=Ne*dt,Xe+=Oe*pt,Xe+=Ae*at,Xe+=ne*N,Xe+=se*it,Be=Xe>>>13,Xe&=8191,Xe+=xe*nt,Xe+=ce*rt,Xe+=de*(5*ut),Xe+=ge*(5*lt),Xe+=$e*(5*ot),Be+=Xe>>>13,Xe&=8191,Ue=Be,Ue+=Ne*ot,Ue+=Oe*dt,Ue+=Ae*pt,Ue+=ne*at,Ue+=se*N,Be=Ue>>>13,Ue&=8191,Ue+=xe*it,Ue+=ce*nt,Ue+=de*rt,Ue+=ge*(5*ut),Ue+=$e*(5*lt),Be+=Ue>>>13,Ue&=8191,Fe=Be,Fe+=Ne*lt,Fe+=Oe*ot,Fe+=Ae*dt,Fe+=ne*pt,Fe+=se*at,Be=Fe>>>13,Fe&=8191,Fe+=xe*N,Fe+=ce*it,Fe+=de*nt,Fe+=ge*rt,Fe+=$e*(5*ut),Be+=Fe>>>13,Fe&=8191,Ie=Be,Ie+=Ne*ut,Ie+=Oe*lt,Ie+=Ae*ot,Ie+=ne*dt,Ie+=se*pt,Be=Ie>>>13,Ie&=8191,Ie+=xe*at,Ie+=ce*N,Ie+=de*it,Ie+=ge*nt,Ie+=$e*rt,Be+=Ie>>>13,Ie&=8191,Be=(Be<<2)+Be|0,Be=Be+je|0,je=Be&8191,Be=Be>>>13,Je+=Be,Ne=je,Oe=Je,Ae=tt,ne=Qe,se=qe,xe=Ge,ce=Xe,de=Ue,ge=Fe,$e=Ie,R+=16,T-=16;this.h[0]=Ne,this.h[1]=Oe,this.h[2]=Ae,this.h[3]=ne,this.h[4]=se,this.h[5]=xe,this.h[6]=ce,this.h[7]=de,this.h[8]=ge,this.h[9]=$e},F.prototype.finish=function(p,R){var T=new Uint16Array(10),c,k,G,Q;if(this.leftover){for(Q=this.leftover,this.buffer[Q++]=1;Q<16;Q++)this.buffer[Q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,Q=2;Q<10;Q++)this.h[Q]+=c,c=this.h[Q]>>>13,this.h[Q]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,T[0]=this.h[0]+5,c=T[0]>>>13,T[0]&=8191,Q=1;Q<10;Q++)T[Q]=this.h[Q]+c,c=T[Q]>>>13,T[Q]&=8191;for(T[9]-=8192,k=(c^1)-1,Q=0;Q<10;Q++)T[Q]&=k;for(k=~k,Q=0;Q<10;Q++)this.h[Q]=this.h[Q]&k|T[Q];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,G=this.h[0]+this.pad[0],this.h[0]=G&65535,Q=1;Q<8;Q++)G=(this.h[Q]+this.pad[Q]|0)+(G>>>16)|0,this.h[Q]=G&65535;p[R+0]=this.h[0]>>>0&255,p[R+1]=this.h[0]>>>8&255,p[R+2]=this.h[1]>>>0&255,p[R+3]=this.h[1]>>>8&255,p[R+4]=this.h[2]>>>0&255,p[R+5]=this.h[2]>>>8&255,p[R+6]=this.h[3]>>>0&255,p[R+7]=this.h[3]>>>8&255,p[R+8]=this.h[4]>>>0&255,p[R+9]=this.h[4]>>>8&255,p[R+10]=this.h[5]>>>0&255,p[R+11]=this.h[5]>>>8&255,p[R+12]=this.h[6]>>>0&255,p[R+13]=this.h[6]>>>8&255,p[R+14]=this.h[7]>>>0&255,p[R+15]=this.h[7]>>>8&255},F.prototype.update=function(p,R,T){var c,k;if(this.leftover){for(k=16-this.leftover,k>T&&(k=T),c=0;c<k;c++)this.buffer[this.leftover+c]=p[R+c];if(T-=k,R+=k,this.leftover+=k,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(k=T-T%16,this.blocks(p,R,k),R+=k,T-=k),T){for(c=0;c<T;c++)this.buffer[this.leftover+c]=p[R+c];this.leftover+=T}};function ie(p,R,T,c,k,G){var Q=new F(G);return Q.update(T,c,k),Q.finish(p,R),0}function re(p,R,T,c,k,G){var Q=new Uint8Array(16);return ie(Q,0,T,c,k,G),q(p,R,Q,0)}function he(p,R,T,c,k){var G;if(T<32)return-1;for(ve(p,0,R,0,T,c,k),ie(p,16,p,32,T-32,p),G=0;G<16;G++)p[G]=0;return 0}function Pe(p,R,T,c,k){var G,Q=new Uint8Array(32);if(T<32||(pe(Q,0,32,c,k),re(R,16,R,32,T-32,Q)!==0))return-1;for(ve(p,0,R,0,T,c,k),G=0;G<32;G++)p[G]=0;return 0}function Se(p,R){var T;for(T=0;T<16;T++)p[T]=R[T]|0}function V(p){var R,T,c=1;for(R=0;R<16;R++)T=p[R]+c+65535,c=Math.floor(T/65536),p[R]=T-c*65536;p[0]+=c-1+37*(c-1)}function M(p,R,T){for(var c,k=~(T-1),G=0;G<16;G++)c=k&(p[G]^R[G]),p[G]^=c,R[G]^=c}function $(p,R){var T,c,k,G=d(),Q=d();for(T=0;T<16;T++)Q[T]=R[T];for(V(Q),V(Q),V(Q),c=0;c<2;c++){for(G[0]=Q[0]-65517,T=1;T<15;T++)G[T]=Q[T]-65535-(G[T-1]>>16&1),G[T-1]&=65535;G[15]=Q[15]-32767-(G[14]>>16&1),k=G[15]>>16&1,G[14]&=65535,M(Q,G,1-k)}for(T=0;T<16;T++)p[2*T]=Q[T]&255,p[2*T+1]=Q[T]>>8}function ae(p,R){var T=new Uint8Array(32),c=new Uint8Array(32);return $(T,p),$(c,R),ee(T,0,c,0)}function H(p){var R=new Uint8Array(32);return $(R,p),R[0]&1}function J(p,R){var T;for(T=0;T<16;T++)p[T]=R[2*T]+(R[2*T+1]<<8);p[15]&=32767}function Ee(p,R,T){for(var c=0;c<16;c++)p[c]=R[c]+T[c]}function We(p,R,T){for(var c=0;c<16;c++)p[c]=R[c]-T[c]}function Ce(p,R,T){var c,k,G=0,Q=0,fe=0,me=0,Me=0,ke=0,xt=0,Be=0,je=0,Je=0,tt=0,Qe=0,qe=0,Ge=0,Xe=0,Ue=0,Fe=0,Ie=0,Ne=0,Oe=0,Ae=0,ne=0,se=0,xe=0,ce=0,de=0,ge=0,$e=0,rt=0,nt=0,it=0,N=T[0],at=T[1],pt=T[2],dt=T[3],ot=T[4],lt=T[5],ut=T[6],Ot=T[7],At=T[8],Ct=T[9],Pt=T[10],kt=T[11],qt=T[12],Nt=T[13],Zt=T[14],Vt=T[15];c=R[0],G+=c*N,Q+=c*at,fe+=c*pt,me+=c*dt,Me+=c*ot,ke+=c*lt,xt+=c*ut,Be+=c*Ot,je+=c*At,Je+=c*Ct,tt+=c*Pt,Qe+=c*kt,qe+=c*qt,Ge+=c*Nt,Xe+=c*Zt,Ue+=c*Vt,c=R[1],Q+=c*N,fe+=c*at,me+=c*pt,Me+=c*dt,ke+=c*ot,xt+=c*lt,Be+=c*ut,je+=c*Ot,Je+=c*At,tt+=c*Ct,Qe+=c*Pt,qe+=c*kt,Ge+=c*qt,Xe+=c*Nt,Ue+=c*Zt,Fe+=c*Vt,c=R[2],fe+=c*N,me+=c*at,Me+=c*pt,ke+=c*dt,xt+=c*ot,Be+=c*lt,je+=c*ut,Je+=c*Ot,tt+=c*At,Qe+=c*Ct,qe+=c*Pt,Ge+=c*kt,Xe+=c*qt,Ue+=c*Nt,Fe+=c*Zt,Ie+=c*Vt,c=R[3],me+=c*N,Me+=c*at,ke+=c*pt,xt+=c*dt,Be+=c*ot,je+=c*lt,Je+=c*ut,tt+=c*Ot,Qe+=c*At,qe+=c*Ct,Ge+=c*Pt,Xe+=c*kt,Ue+=c*qt,Fe+=c*Nt,Ie+=c*Zt,Ne+=c*Vt,c=R[4],Me+=c*N,ke+=c*at,xt+=c*pt,Be+=c*dt,je+=c*ot,Je+=c*lt,tt+=c*ut,Qe+=c*Ot,qe+=c*At,Ge+=c*Ct,Xe+=c*Pt,Ue+=c*kt,Fe+=c*qt,Ie+=c*Nt,Ne+=c*Zt,Oe+=c*Vt,c=R[5],ke+=c*N,xt+=c*at,Be+=c*pt,je+=c*dt,Je+=c*ot,tt+=c*lt,Qe+=c*ut,qe+=c*Ot,Ge+=c*At,Xe+=c*Ct,Ue+=c*Pt,Fe+=c*kt,Ie+=c*qt,Ne+=c*Nt,Oe+=c*Zt,Ae+=c*Vt,c=R[6],xt+=c*N,Be+=c*at,je+=c*pt,Je+=c*dt,tt+=c*ot,Qe+=c*lt,qe+=c*ut,Ge+=c*Ot,Xe+=c*At,Ue+=c*Ct,Fe+=c*Pt,Ie+=c*kt,Ne+=c*qt,Oe+=c*Nt,Ae+=c*Zt,ne+=c*Vt,c=R[7],Be+=c*N,je+=c*at,Je+=c*pt,tt+=c*dt,Qe+=c*ot,qe+=c*lt,Ge+=c*ut,Xe+=c*Ot,Ue+=c*At,Fe+=c*Ct,Ie+=c*Pt,Ne+=c*kt,Oe+=c*qt,Ae+=c*Nt,ne+=c*Zt,se+=c*Vt,c=R[8],je+=c*N,Je+=c*at,tt+=c*pt,Qe+=c*dt,qe+=c*ot,Ge+=c*lt,Xe+=c*ut,Ue+=c*Ot,Fe+=c*At,Ie+=c*Ct,Ne+=c*Pt,Oe+=c*kt,Ae+=c*qt,ne+=c*Nt,se+=c*Zt,xe+=c*Vt,c=R[9],Je+=c*N,tt+=c*at,Qe+=c*pt,qe+=c*dt,Ge+=c*ot,Xe+=c*lt,Ue+=c*ut,Fe+=c*Ot,Ie+=c*At,Ne+=c*Ct,Oe+=c*Pt,Ae+=c*kt,ne+=c*qt,se+=c*Nt,xe+=c*Zt,ce+=c*Vt,c=R[10],tt+=c*N,Qe+=c*at,qe+=c*pt,Ge+=c*dt,Xe+=c*ot,Ue+=c*lt,Fe+=c*ut,Ie+=c*Ot,Ne+=c*At,Oe+=c*Ct,Ae+=c*Pt,ne+=c*kt,se+=c*qt,xe+=c*Nt,ce+=c*Zt,de+=c*Vt,c=R[11],Qe+=c*N,qe+=c*at,Ge+=c*pt,Xe+=c*dt,Ue+=c*ot,Fe+=c*lt,Ie+=c*ut,Ne+=c*Ot,Oe+=c*At,Ae+=c*Ct,ne+=c*Pt,se+=c*kt,xe+=c*qt,ce+=c*Nt,de+=c*Zt,ge+=c*Vt,c=R[12],qe+=c*N,Ge+=c*at,Xe+=c*pt,Ue+=c*dt,Fe+=c*ot,Ie+=c*lt,Ne+=c*ut,Oe+=c*Ot,Ae+=c*At,ne+=c*Ct,se+=c*Pt,xe+=c*kt,ce+=c*qt,de+=c*Nt,ge+=c*Zt,$e+=c*Vt,c=R[13],Ge+=c*N,Xe+=c*at,Ue+=c*pt,Fe+=c*dt,Ie+=c*ot,Ne+=c*lt,Oe+=c*ut,Ae+=c*Ot,ne+=c*At,se+=c*Ct,xe+=c*Pt,ce+=c*kt,de+=c*qt,ge+=c*Nt,$e+=c*Zt,rt+=c*Vt,c=R[14],Xe+=c*N,Ue+=c*at,Fe+=c*pt,Ie+=c*dt,Ne+=c*ot,Oe+=c*lt,Ae+=c*ut,ne+=c*Ot,se+=c*At,xe+=c*Ct,ce+=c*Pt,de+=c*kt,ge+=c*qt,$e+=c*Nt,rt+=c*Zt,nt+=c*Vt,c=R[15],Ue+=c*N,Fe+=c*at,Ie+=c*pt,Ne+=c*dt,Oe+=c*ot,Ae+=c*lt,ne+=c*ut,se+=c*Ot,xe+=c*At,ce+=c*Ct,de+=c*Pt,ge+=c*kt,$e+=c*qt,rt+=c*Nt,nt+=c*Zt,it+=c*Vt,G+=38*Fe,Q+=38*Ie,fe+=38*Ne,me+=38*Oe,Me+=38*Ae,ke+=38*ne,xt+=38*se,Be+=38*xe,je+=38*ce,Je+=38*de,tt+=38*ge,Qe+=38*$e,qe+=38*rt,Ge+=38*nt,Xe+=38*it,k=1,c=G+k+65535,k=Math.floor(c/65536),G=c-k*65536,c=Q+k+65535,k=Math.floor(c/65536),Q=c-k*65536,c=fe+k+65535,k=Math.floor(c/65536),fe=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Me+k+65535,k=Math.floor(c/65536),Me=c-k*65536,c=ke+k+65535,k=Math.floor(c/65536),ke=c-k*65536,c=xt+k+65535,k=Math.floor(c/65536),xt=c-k*65536,c=Be+k+65535,k=Math.floor(c/65536),Be=c-k*65536,c=je+k+65535,k=Math.floor(c/65536),je=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=tt+k+65535,k=Math.floor(c/65536),tt=c-k*65536,c=Qe+k+65535,k=Math.floor(c/65536),Qe=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Ge+k+65535,k=Math.floor(c/65536),Ge=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=Ue+k+65535,k=Math.floor(c/65536),Ue=c-k*65536,G+=k-1+37*(k-1),k=1,c=G+k+65535,k=Math.floor(c/65536),G=c-k*65536,c=Q+k+65535,k=Math.floor(c/65536),Q=c-k*65536,c=fe+k+65535,k=Math.floor(c/65536),fe=c-k*65536,c=me+k+65535,k=Math.floor(c/65536),me=c-k*65536,c=Me+k+65535,k=Math.floor(c/65536),Me=c-k*65536,c=ke+k+65535,k=Math.floor(c/65536),ke=c-k*65536,c=xt+k+65535,k=Math.floor(c/65536),xt=c-k*65536,c=Be+k+65535,k=Math.floor(c/65536),Be=c-k*65536,c=je+k+65535,k=Math.floor(c/65536),je=c-k*65536,c=Je+k+65535,k=Math.floor(c/65536),Je=c-k*65536,c=tt+k+65535,k=Math.floor(c/65536),tt=c-k*65536,c=Qe+k+65535,k=Math.floor(c/65536),Qe=c-k*65536,c=qe+k+65535,k=Math.floor(c/65536),qe=c-k*65536,c=Ge+k+65535,k=Math.floor(c/65536),Ge=c-k*65536,c=Xe+k+65535,k=Math.floor(c/65536),Xe=c-k*65536,c=Ue+k+65535,k=Math.floor(c/65536),Ue=c-k*65536,G+=k-1+37*(k-1),p[0]=G,p[1]=Q,p[2]=fe,p[3]=me,p[4]=Me,p[5]=ke,p[6]=xt,p[7]=Be,p[8]=je,p[9]=Je,p[10]=tt,p[11]=Qe,p[12]=qe,p[13]=Ge,p[14]=Xe,p[15]=Ue}function Ke(p,R){Ce(p,R,R)}function $t(p,R){var T=d(),c;for(c=0;c<16;c++)T[c]=R[c];for(c=253;c>=0;c--)Ke(T,T),c!==2&&c!==4&&Ce(T,T,R);for(c=0;c<16;c++)p[c]=T[c]}function zt(p,R){var T=d(),c;for(c=0;c<16;c++)T[c]=R[c];for(c=250;c>=0;c--)Ke(T,T),c!==1&&Ce(T,T,R);for(c=0;c<16;c++)p[c]=T[c]}function $r(p,R,T){var c=new Uint8Array(32),k=new Float64Array(80),G,Q,fe=d(),me=d(),Me=d(),ke=d(),xt=d(),Be=d();for(Q=0;Q<31;Q++)c[Q]=R[Q];for(c[31]=R[31]&127|64,c[0]&=248,J(k,T),Q=0;Q<16;Q++)me[Q]=k[Q],ke[Q]=fe[Q]=Me[Q]=0;for(fe[0]=ke[0]=1,Q=254;Q>=0;--Q)G=c[Q>>>3]>>>(Q&7)&1,M(fe,me,G),M(Me,ke,G),Ee(xt,fe,Me),We(fe,fe,Me),Ee(Me,me,ke),We(me,me,ke),Ke(ke,xt),Ke(Be,fe),Ce(fe,Me,fe),Ce(Me,me,xt),Ee(xt,fe,Me),We(fe,fe,Me),Ke(me,fe),We(Me,ke,Be),Ce(fe,Me,_),Ee(fe,fe,ke),Ce(Me,Me,fe),Ce(fe,ke,Be),Ce(ke,me,k),Ke(me,xt),M(fe,me,G),M(Me,ke,G);for(Q=0;Q<16;Q++)k[Q+16]=fe[Q],k[Q+32]=Me[Q],k[Q+48]=me[Q],k[Q+64]=ke[Q];var je=k.subarray(32),Je=k.subarray(16);return $t(je,je),Ce(Je,Je,je),$(p,Je),0}function li(p,R){return $r(p,R,E)}function ea(p,R){return v(R,32),li(p,R)}function hi(p,R,T){var c=new Uint8Array(32);return $r(c,T,R),te(p,g,c,X)}var Yi=he,Lo=Pe;function ta(p,R,T,c,k,G){var Q=new Uint8Array(32);return hi(Q,k,G),Yi(p,R,T,c,Q)}function Fo(p,R,T,c,k,G){var Q=new Uint8Array(32);return hi(Q,k,G),Lo(p,R,T,c,Q)}var ra=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function na(p,R,T,c){for(var k=new Int32Array(16),G=new Int32Array(16),Q,fe,me,Me,ke,xt,Be,je,Je,tt,Qe,qe,Ge,Xe,Ue,Fe,Ie,Ne,Oe,Ae,ne,se,xe,ce,de,ge,$e=p[0],rt=p[1],nt=p[2],it=p[3],N=p[4],at=p[5],pt=p[6],dt=p[7],ot=R[0],lt=R[1],ut=R[2],Ot=R[3],At=R[4],Ct=R[5],Pt=R[6],kt=R[7],qt=0;c>=128;){for(Oe=0;Oe<16;Oe++)Ae=8*Oe+qt,k[Oe]=T[Ae+0]<<24|T[Ae+1]<<16|T[Ae+2]<<8|T[Ae+3],G[Oe]=T[Ae+4]<<24|T[Ae+5]<<16|T[Ae+6]<<8|T[Ae+7];for(Oe=0;Oe<80;Oe++)if(Q=$e,fe=rt,me=nt,Me=it,ke=N,xt=at,Be=pt,je=dt,Je=ot,tt=lt,Qe=ut,qe=Ot,Ge=At,Xe=Ct,Ue=Pt,Fe=kt,ne=dt,se=kt,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=(N>>>14|At<<32-14)^(N>>>18|At<<32-18)^(At>>>41-32|N<<32-(41-32)),se=(At>>>14|N<<32-14)^(At>>>18|N<<32-18)^(N>>>41-32|At<<32-(41-32)),xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ne=N&at^~N&pt,se=At&Ct^~At&Pt,xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ne=ra[Oe*2],se=ra[Oe*2+1],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ne=k[Oe%16],se=G[Oe%16],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,Ie=de&65535|ge<<16,Ne=xe&65535|ce<<16,ne=Ie,se=Ne,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=($e>>>28|ot<<32-28)^(ot>>>34-32|$e<<32-(34-32))^(ot>>>39-32|$e<<32-(39-32)),se=(ot>>>28|$e<<32-28)^($e>>>34-32|ot<<32-(34-32))^($e>>>39-32|ot<<32-(39-32)),xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ne=$e&rt^$e&nt^rt&nt,se=ot&lt^ot&ut^lt&ut,xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,je=de&65535|ge<<16,Fe=xe&65535|ce<<16,ne=Me,se=qe,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=Ie,se=Ne,xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,Me=de&65535|ge<<16,qe=xe&65535|ce<<16,rt=Q,nt=fe,it=me,N=Me,at=ke,pt=xt,dt=Be,$e=je,lt=Je,ut=tt,Ot=Qe,At=qe,Ct=Ge,Pt=Xe,kt=Ue,ot=Fe,Oe%16===15)for(Ae=0;Ae<16;Ae++)ne=k[Ae],se=G[Ae],xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=k[(Ae+9)%16],se=G[(Ae+9)%16],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,Ie=k[(Ae+1)%16],Ne=G[(Ae+1)%16],ne=(Ie>>>1|Ne<<32-1)^(Ie>>>8|Ne<<32-8)^Ie>>>7,se=(Ne>>>1|Ie<<32-1)^(Ne>>>8|Ie<<32-8)^(Ne>>>7|Ie<<32-7),xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,Ie=k[(Ae+14)%16],Ne=G[(Ae+14)%16],ne=(Ie>>>19|Ne<<32-19)^(Ne>>>61-32|Ie<<32-(61-32))^Ie>>>6,se=(Ne>>>19|Ie<<32-19)^(Ie>>>61-32|Ne<<32-(61-32))^(Ne>>>6|Ie<<32-6),xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,k[Ae]=de&65535|ge<<16,G[Ae]=xe&65535|ce<<16;ne=$e,se=ot,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[0],se=R[0],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[0]=$e=de&65535|ge<<16,R[0]=ot=xe&65535|ce<<16,ne=rt,se=lt,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[1],se=R[1],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[1]=rt=de&65535|ge<<16,R[1]=lt=xe&65535|ce<<16,ne=nt,se=ut,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[2],se=R[2],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[2]=nt=de&65535|ge<<16,R[2]=ut=xe&65535|ce<<16,ne=it,se=Ot,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[3],se=R[3],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[3]=it=de&65535|ge<<16,R[3]=Ot=xe&65535|ce<<16,ne=N,se=At,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[4],se=R[4],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[4]=N=de&65535|ge<<16,R[4]=At=xe&65535|ce<<16,ne=at,se=Ct,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[5],se=R[5],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[5]=at=de&65535|ge<<16,R[5]=Ct=xe&65535|ce<<16,ne=pt,se=Pt,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[6],se=R[6],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[6]=pt=de&65535|ge<<16,R[6]=Pt=xe&65535|ce<<16,ne=dt,se=kt,xe=se&65535,ce=se>>>16,de=ne&65535,ge=ne>>>16,ne=p[7],se=R[7],xe+=se&65535,ce+=se>>>16,de+=ne&65535,ge+=ne>>>16,ce+=xe>>>16,de+=ce>>>16,ge+=de>>>16,p[7]=dt=de&65535|ge<<16,R[7]=kt=xe&65535|ce<<16,qt+=128,c-=128}return c}function cn(p,R,T){var c=new Int32Array(8),k=new Int32Array(8),G=new Uint8Array(256),Q,fe=T;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,k[0]=4089235720,k[1]=2227873595,k[2]=4271175723,k[3]=1595750129,k[4]=2917565137,k[5]=725511199,k[6]=4215389547,k[7]=327033209,na(c,k,R,T),T%=128,Q=0;Q<T;Q++)G[Q]=R[fe-T+Q];for(G[T]=128,T=256-128*(T<112?1:0),G[T-9]=0,U(G,T-8,fe/536870912|0,fe<<3),na(c,k,G,T),Q=0;Q<8;Q++)U(p,8*Q,c[Q],k[Q]);return 0}function mn(p,R){var T=d(),c=d(),k=d(),G=d(),Q=d(),fe=d(),me=d(),Me=d(),ke=d();We(T,p[1],p[0]),We(ke,R[1],R[0]),Ce(T,T,ke),Ee(c,p[0],p[1]),Ee(ke,R[0],R[1]),Ce(c,c,ke),Ce(k,p[3],R[3]),Ce(k,k,I),Ce(G,p[2],R[2]),Ee(G,G,G),We(Q,c,T),We(fe,G,k),Ee(me,G,k),Ee(Me,c,T),Ce(p[0],Q,fe),Ce(p[1],Me,me),Ce(p[2],me,fe),Ce(p[3],Q,Me)}function Qi(p,R,T){var c;for(c=0;c<4;c++)M(p[c],R[c],T)}function xi(p,R){var T=d(),c=d(),k=d();$t(k,R[2]),Ce(T,R[0],k),Ce(c,R[1],k),$(p,c),p[31]^=H(T)<<7}function es(p,R,T){var c,k;for(Se(p[0],y),Se(p[1],h),Se(p[2],h),Se(p[3],y),k=255;k>=0;--k)c=T[k/8|0]>>(k&7)&1,Qi(p,R,c),mn(R,p),mn(p,p),Qi(p,R,c)}function pi(p,R){var T=[d(),d(),d(),d()];Se(T[0],P),Se(T[1],C),Se(T[2],h),Ce(T[3],P,C),es(p,T,R)}function ts(p,R,T){var c=new Uint8Array(64),k=[d(),d(),d(),d()],G;for(T||v(R,32),cn(c,R,32),c[0]&=248,c[31]&=127,c[31]|=64,pi(k,c),xi(p,k),G=0;G<32;G++)R[G+32]=p[G];return 0}var yi=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ia(p,R){var T,c,k,G;for(c=63;c>=32;--c){for(T=0,k=c-32,G=c-12;k<G;++k)R[k]+=T-16*R[c]*yi[k-(c-32)],T=Math.floor((R[k]+128)/256),R[k]-=T*256;R[k]+=T,R[c]=0}for(T=0,k=0;k<32;k++)R[k]+=T-(R[31]>>4)*yi[k],T=R[k]>>8,R[k]&=255;for(k=0;k<32;k++)R[k]-=T*yi[k];for(c=0;c<32;c++)R[c+1]+=R[c]>>8,p[c]=R[c]&255}function oe(p){var R=new Float64Array(64),T;for(T=0;T<64;T++)R[T]=p[T];for(T=0;T<64;T++)p[T]=0;ia(p,R)}function un(p,R,T,c){var k=new Uint8Array(64),G=new Uint8Array(64),Q=new Uint8Array(64),fe,me,Me=new Float64Array(64),ke=[d(),d(),d(),d()];cn(k,c,32),k[0]&=248,k[31]&=127,k[31]|=64;var xt=T+64;for(fe=0;fe<T;fe++)p[64+fe]=R[fe];for(fe=0;fe<32;fe++)p[32+fe]=k[32+fe];for(cn(Q,p.subarray(32),T+32),oe(Q),pi(ke,Q),xi(p,ke),fe=32;fe<64;fe++)p[fe]=c[fe];for(cn(G,p,T+64),oe(G),fe=0;fe<64;fe++)Me[fe]=0;for(fe=0;fe<32;fe++)Me[fe]=Q[fe];for(fe=0;fe<32;fe++)for(me=0;me<32;me++)Me[fe+me]+=G[fe]*k[me];return ia(p.subarray(32),Me),xt}function sa(p,R){var T=d(),c=d(),k=d(),G=d(),Q=d(),fe=d(),me=d();return Se(p[2],h),J(p[1],R),Ke(k,p[1]),Ce(G,k,A),We(k,k,p[2]),Ee(G,p[2],G),Ke(Q,G),Ke(fe,Q),Ce(me,fe,Q),Ce(T,me,k),Ce(T,T,G),zt(T,T),Ce(T,T,k),Ce(T,T,G),Ce(T,T,G),Ce(p[0],T,G),Ke(c,p[0]),Ce(c,c,G),ae(c,k)&&Ce(p[0],p[0],w),Ke(c,p[0]),Ce(c,c,G),ae(c,k)?-1:(H(p[0])===R[31]>>7&&We(p[0],y,p[0]),Ce(p[3],p[0],p[1]),0)}function bi(p,R,T,c){var k,G=new Uint8Array(32),Q=new Uint8Array(64),fe=[d(),d(),d(),d()],me=[d(),d(),d(),d()];if(T<64||sa(me,c))return-1;for(k=0;k<T;k++)p[k]=R[k];for(k=0;k<32;k++)p[k+32]=c[k];if(cn(Q,p,T),oe(Q),es(fe,me,Q),pi(me,R.subarray(32)),mn(fe,me),xi(G,fe),T-=64,ee(R,0,G,0)){for(k=0;k<T;k++)p[k]=0;return-1}for(k=0;k<T;k++)p[k]=R[k+64];return T}var gt=32,$n=24,zn=32,Xr=16,wn=32,qn=32,jn=32,Gn=32,rs=32,Wn=$n,aa=zn,oa=Xr,kr=64,Zr=32,vn=64,gi=32,ns=64;b.lowlevel={crypto_core_hsalsa20:te,crypto_stream_xor:ve,crypto_stream:pe,crypto_stream_salsa20_xor:le,crypto_stream_salsa20:Re,crypto_onetimeauth:ie,crypto_onetimeauth_verify:re,crypto_verify_16:q,crypto_verify_32:ee,crypto_secretbox:he,crypto_secretbox_open:Pe,crypto_scalarmult:$r,crypto_scalarmult_base:li,crypto_box_beforenm:hi,crypto_box_afternm:Yi,crypto_box:ta,crypto_box_open:Fo,crypto_box_keypair:ea,crypto_hash:cn,crypto_sign:un,crypto_sign_keypair:ts,crypto_sign_open:bi,crypto_secretbox_KEYBYTES:gt,crypto_secretbox_NONCEBYTES:$n,crypto_secretbox_ZEROBYTES:zn,crypto_secretbox_BOXZEROBYTES:Xr,crypto_scalarmult_BYTES:wn,crypto_scalarmult_SCALARBYTES:qn,crypto_box_PUBLICKEYBYTES:jn,crypto_box_SECRETKEYBYTES:Gn,crypto_box_BEFORENMBYTES:rs,crypto_box_NONCEBYTES:Wn,crypto_box_ZEROBYTES:aa,crypto_box_BOXZEROBYTES:oa,crypto_sign_BYTES:kr,crypto_sign_PUBLICKEYBYTES:Zr,crypto_sign_SECRETKEYBYTES:vn,crypto_sign_SEEDBYTES:gi,crypto_hash_BYTES:ns,gf:d,D:A,L:yi,pack25519:$,unpack25519:J,M:Ce,A:Ee,S:Ke,Z:We,pow2523:zt,add:mn,set25519:Se,modL:ia,scalarmult:es,scalarbase:pi};function is(p,R){if(p.length!==gt)throw new Error("bad key size");if(R.length!==$n)throw new Error("bad nonce size")}function ca(p,R){if(p.length!==jn)throw new Error("bad public key size");if(R.length!==Gn)throw new Error("bad secret key size")}function xr(){for(var p=0;p<arguments.length;p++)if(!(arguments[p]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ua(p){for(var R=0;R<p.length;R++)p[R]=0}b.randomBytes=function(p){var R=new Uint8Array(p);return v(R,p),R},b.secretbox=function(p,R,T){xr(p,R,T),is(T,R);for(var c=new Uint8Array(zn+p.length),k=new Uint8Array(c.length),G=0;G<p.length;G++)c[G+zn]=p[G];return he(k,c,c.length,R,T),k.subarray(Xr)},b.secretbox.open=function(p,R,T){xr(p,R,T),is(T,R);for(var c=new Uint8Array(Xr+p.length),k=new Uint8Array(c.length),G=0;G<p.length;G++)c[G+Xr]=p[G];return c.length<32||Pe(k,c,c.length,R,T)!==0?null:k.subarray(zn)},b.secretbox.keyLength=gt,b.secretbox.nonceLength=$n,b.secretbox.overheadLength=Xr,b.scalarMult=function(p,R){if(xr(p,R),p.length!==qn)throw new Error("bad n size");if(R.length!==wn)throw new Error("bad p size");var T=new Uint8Array(wn);return $r(T,p,R),T},b.scalarMult.base=function(p){if(xr(p),p.length!==qn)throw new Error("bad n size");var R=new Uint8Array(wn);return li(R,p),R},b.scalarMult.scalarLength=qn,b.scalarMult.groupElementLength=wn,b.box=function(p,R,T,c){var k=b.box.before(T,c);return b.secretbox(p,R,k)},b.box.before=function(p,R){xr(p,R),ca(p,R);var T=new Uint8Array(rs);return hi(T,p,R),T},b.box.after=b.secretbox,b.box.open=function(p,R,T,c){var k=b.box.before(T,c);return b.secretbox.open(p,R,k)},b.box.open.after=b.secretbox.open,b.box.keyPair=function(){var p=new Uint8Array(jn),R=new Uint8Array(Gn);return ea(p,R),{publicKey:p,secretKey:R}},b.box.keyPair.fromSecretKey=function(p){if(xr(p),p.length!==Gn)throw new Error("bad secret key size");var R=new Uint8Array(jn);return li(R,p),{publicKey:R,secretKey:new Uint8Array(p)}},b.box.publicKeyLength=jn,b.box.secretKeyLength=Gn,b.box.sharedKeyLength=rs,b.box.nonceLength=Wn,b.box.overheadLength=b.secretbox.overheadLength,b.sign=function(p,R){if(xr(p,R),R.length!==vn)throw new Error("bad secret key size");var T=new Uint8Array(kr+p.length);return un(T,p,p.length,R),T},b.sign.open=function(p,R){if(xr(p,R),R.length!==Zr)throw new Error("bad public key size");var T=new Uint8Array(p.length),c=bi(T,p,p.length,R);if(c<0)return null;for(var k=new Uint8Array(c),G=0;G<k.length;G++)k[G]=T[G];return k},b.sign.detached=function(p,R){for(var T=b.sign(p,R),c=new Uint8Array(kr),k=0;k<c.length;k++)c[k]=T[k];return c},b.sign.detached.verify=function(p,R,T){if(xr(p,R,T),R.length!==kr)throw new Error("bad signature size");if(T.length!==Zr)throw new Error("bad public key size");var c=new Uint8Array(kr+p.length),k=new Uint8Array(kr+p.length),G;for(G=0;G<kr;G++)c[G]=R[G];for(G=0;G<p.length;G++)c[G+kr]=p[G];return bi(k,c,c.length,T)>=0},b.sign.keyPair=function(){var p=new Uint8Array(Zr),R=new Uint8Array(vn);return ts(p,R),{publicKey:p,secretKey:R}},b.sign.keyPair.fromSecretKey=function(p){if(xr(p),p.length!==vn)throw new Error("bad secret key size");for(var R=new Uint8Array(Zr),T=0;T<R.length;T++)R[T]=p[32+T];return{publicKey:R,secretKey:new Uint8Array(p)}},b.sign.keyPair.fromSeed=function(p){if(xr(p),p.length!==gi)throw new Error("bad seed size");for(var R=new Uint8Array(Zr),T=new Uint8Array(vn),c=0;c<32;c++)T[c]=p[c];return ts(R,T,!0),{publicKey:R,secretKey:T}},b.sign.publicKeyLength=Zr,b.sign.secretKeyLength=vn,b.sign.seedLength=gi,b.sign.signatureLength=kr,b.hash=function(p){xr(p);var R=new Uint8Array(ns);return cn(R,p,p.length),R},b.hash.hashLength=ns,b.verify=function(p,R){return xr(p,R),p.length===0||R.length===0||p.length!==R.length?!1:D(p,0,R,0,p.length)===0},b.setPRNG=function(p){v=p},function(){var p=typeof self<"u"?self.crypto||self.msCrypto:null;if(p&&p.getRandomValues){var R=65536;b.setPRNG(function(T,c){var k,G=new Uint8Array(c);for(k=0;k<c;k+=R)p.getRandomValues(G.subarray(k,k+Math.min(c-k,R)));for(k=0;k<c;k++)T[k]=G[k];ua(G)})}else p=x(39201),p&&p.randomBytes&&b.setPRNG(function(T,c){var k,G=p.randomBytes(c);for(k=0;k<c;k++)T[k]=G[k];ua(G)})}()})(B.exports?B.exports:self.nacl=self.nacl||{})},30330:function(B,u,x){var X0,Z0,Y0,Q0,el,tl;"use strict";x.r(u),x.d(u,{WebIrys:function(){return J0},default:function(){return J0}});var b={};x.r(b),x.d(b,{hasBrowserEnv:function(){return T},hasStandardBrowserEnv:function(){return c},hasStandardBrowserWebWorkerEnv:function(){return k}});var d={};x.r(d),x.d(d,{arToWinston:function(){return _l},b64UrlDecode:function(){return $u},b64UrlEncode:function(){return Ku},b64UrlToBuffer:function(){return qr},b64UrlToString:function(){return Fu},bufferToString:function(){return Xo},bufferTob64:function(){return Hu},bufferTob64Url:function(){return jr},concatBuffers:function(){return pr},stringToB64Url:function(){return Zo},stringToBuffer:function(){return mt},winstonToAr:function(){return Al}});var v={};x.r(v),x.d(v,{AVSCTap:function(){return Lc},AlgorandSigner:function(){return Ox},AptosSigner:function(){return Mx},ArconnectSigner:function(){return Dx},Arweave:function(){return Yo},ArweaveSigner:function(){return ba},Bundle:function(){return md},BundleItem:function(){return $x},CryptoDriver:function(){return ef},Curve25519:function(){return ls},DataItem:function(){return Ii},EthereumSigner:function(){return Na},HexInjectedSolanaSigner:function(){return Da},HexSolanaSigner:function(){return Nx},InjectedAptosSigner:function(){return Fa},InjectedEthereumSigner:function(){return kx},InjectedSolanaSigner:function(){return ff},InjectedTypedEthereumSigner:function(){return Uc},MAX_TAG_BYTES:function(){return Hc},MIN_BINARY_SIZE:function(){return Fc},MultiSignatureAptosSigner:function(){return hd},NearSigner:function(){return Bc},PolygonSigner:function(){return Ux},Rsa4096:function(){return tf},SIG_CONFIG:function(){return It},SignatureConfig:function(){return yt},Signer:function(){return Sl},SolanaSigner:function(){return Pc},TypedEthereumSigner:function(){return pd},bundleAndSignData:function(){return vd},byteArrayToLong:function(){return Yt},concatBuffers:function(){return pr},createData:function(){return $c},deepHash:function(){return vi},deserializeTags:function(){return qa},exportForTesting:function(){return Bx},getCryptoDriver:function(){return ar},getSignatureAndId:function(){return Ed},indexToType:function(){return Oc},keccak256:function(){return Cc},longTo16ByteArray:function(){return Fx},longTo32ByteArray:function(){return Dc},longTo8ByteArray:function(){return Mc},longToNByteArray:function(){return ks},secp256k1:function(){return fd},serializeTags:function(){return gd},shortTo2ByteArray:function(){return bd},sign:function(){return Kc},stringToBuffer:function(){return mt},unbundleData:function(){return Kx}});var g={};x.r(g),x.d(g,{default:function(){return qx},processStream:function(){return Sd},streamExportForTesting:function(){return jx},streamSigner:function(){return zx}});var E={};x.r(E),x.d(E,{DataItem:function(){return Ii},bundleAndSignData:function(){return vd},createData:function(){return $c},deepHash:function(){return vi},getCryptoDriver:function(){return ar},stringToBuffer:function(){return mt}});const y=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(X0=globalThis.crypto).subtle??(X0.subtle={}),(Z0=globalThis.crypto.subtle).generateKey??(Z0.generateKey=y),(Y0=globalThis.crypto.subtle).importKey??(Y0.importKey=y),(Q0=globalThis.crypto.subtle).exportKey??(Q0.exportKey=y),(el=globalThis.crypto.subtle).digest??(el.digest=y),(tl=globalThis.crypto.subtle).sign??(tl.sign=y);var h=null;function _(t,e){return function(){return t.apply(e,arguments)}}const{toString:A}=Object.prototype,{getPrototypeOf:I}=Object,P=(t=>e=>{const r=A.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),C=t=>(t=t.toLowerCase(),e=>P(e)===t),w=t=>e=>typeof e===t,{isArray:U}=Array,D=w("undefined");function q(t){return t!==null&&!D(t)&&t.constructor!==null&&!D(t.constructor)&&W(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ee=C("ArrayBuffer");function Y(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ee(t.buffer),e}const ye=w("string"),W=w("function"),te=w("number"),X=t=>t!==null&&typeof t=="object",le=t=>t===!0||t===!1,Re=t=>{if(P(t)!=="object")return!1;const e=I(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pe=C("Date"),ve=C("File"),F=C("Blob"),ie=C("FileList"),re=t=>X(t)&&W(t.pipe),he=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||W(t.append)&&((e=P(t))==="formdata"||e==="object"&&W(t.toString)&&t.toString()==="[object FormData]"))},Pe=C("URLSearchParams"),Se=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function V(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),U(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function M(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const $=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ae=t=>!D(t)&&t!==$;function H(){const{caseless:t}=ae(this)&&this||{},e={},r=(n,i)=>{const s=t&&M(e,i)||i;Re(e[s])&&Re(n)?e[s]=H(e[s],n):Re(n)?e[s]=H({},n):U(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&V(arguments[n],r);return e}const J=(t,e,r,{allOwnKeys:n}={})=>(V(e,(i,s)=>{r&&W(i)?t[s]=_(i,r):t[s]=i},{allOwnKeys:n}),t),Ee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),We=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ce=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&I(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ke=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},$t=t=>{if(!t)return null;if(U(t))return t;let e=t.length;if(!te(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},zt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&I(Uint8Array)),$r=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},li=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},ea=C("HTMLFormElement"),hi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Yi=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Lo=C("RegExp"),ta=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};V(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Fo=t=>{ta(t,(e,r)=>{if(W(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(W(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ra=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return U(t)?n(t):n(String(t).split(e)),r},na=()=>{},cn=(t,e)=>(t=+t,Number.isFinite(t)?t:e),mn="abcdefghijklmnopqrstuvwxyz",Qi="0123456789",xi={DIGIT:Qi,ALPHA:mn,ALPHA_DIGIT:mn+mn.toUpperCase()+Qi},es=(t=16,e=xi.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function pi(t){return!!(t&&W(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ts=t=>{const e=new Array(10),r=(n,i)=>{if(X(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=U(n)?[]:{};return V(n,(a,o)=>{const f=r(a,i+1);!D(f)&&(s[o]=f)}),e[i]=void 0,s}}return n};return r(t,0)},yi=C("AsyncFunction");var oe={isArray:U,isArrayBuffer:ee,isBuffer:q,isFormData:he,isArrayBufferView:Y,isString:ye,isNumber:te,isBoolean:le,isObject:X,isPlainObject:Re,isUndefined:D,isDate:pe,isFile:ve,isBlob:F,isRegExp:Lo,isFunction:W,isStream:re,isURLSearchParams:Pe,isTypedArray:zt,isFileList:ie,forEach:V,merge:H,extend:J,trim:Se,stripBOM:Ee,inherits:We,toFlatObject:Ce,kindOf:P,kindOfTest:C,endsWith:Ke,toArray:$t,forEachEntry:$r,matchAll:li,isHTMLForm:ea,hasOwnProperty:Yi,hasOwnProp:Yi,reduceDescriptors:ta,freezeMethods:Fo,toObjectSet:ra,toCamelCase:hi,noop:na,toFiniteNumber:cn,findKey:M,global:$,isContextDefined:ae,ALPHABET:xi,generateString:es,isSpecCompliantForm:pi,toJSONObject:ts,isAsyncFn:yi,isThenable:t=>t&&(X(t)||W(t))&&W(t.then)&&W(t.catch)};function un(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}oe.inherits(un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sa=un.prototype,bi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bi[t]={value:t}}),Object.defineProperties(un,bi),Object.defineProperty(sa,"isAxiosError",{value:!0}),un.from=(t,e,r,n,i,s)=>{const a=Object.create(sa);return oe.toFlatObject(t,a,function(f){return f!==Error.prototype},o=>o!=="isAxiosError"),un.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var gt=un,$n=null,zn=x(55872).Buffer;function Xr(t){return oe.isPlainObject(t)||oe.isArray(t)}function wn(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function qn(t,e,r){return t?t.concat(e).map(function(i,s){return i=wn(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function jn(t){return oe.isArray(t)&&!t.some(Xr)}const Gn=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function rs(t,e,r){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new($n||FormData),r=oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,ue){return!oe.isUndefined(ue[Z])});const n=r.metaTokens,i=r.visitor||m,s=r.dots,a=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function l(z){if(z===null)return"";if(oe.isDate(z))return z.toISOString();if(!f&&oe.isBlob(z))throw new gt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(z)||oe.isTypedArray(z)?f&&typeof Blob=="function"?new Blob([z]):zn.from(z):z}function m(z,Z,ue){let Te=z;if(z&&!ue&&typeof z=="object"){if(oe.endsWith(Z,"{}"))Z=n?Z:Z.slice(0,-2),z=JSON.stringify(z);else if(oe.isArray(z)&&jn(z)||(oe.isFileList(z)||oe.endsWith(Z,"[]"))&&(Te=oe.toArray(z)))return Z=wn(Z),Te.forEach(function(He,Et){!(oe.isUndefined(He)||He===null)&&e.append(a===!0?qn([Z],Et,s):a===null?Z:Z+"[]",l(He))}),!1}return Xr(z)?!0:(e.append(qn(ue,Z,s),l(z)),!1)}const S=[],L=Object.assign(Gn,{defaultVisitor:m,convertValue:l,isVisitable:Xr});function j(z,Z){if(!oe.isUndefined(z)){if(S.indexOf(z)!==-1)throw Error("Circular reference detected in "+Z.join("."));S.push(z),oe.forEach(z,function(Te,ze){(!(oe.isUndefined(Te)||Te===null)&&i.call(e,Te,oe.isString(ze)?ze.trim():ze,Z,L))===!0&&j(Te,Z?Z.concat(ze):[ze])}),S.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return j(t),e}var Wn=rs;function aa(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function oa(t,e){this._pairs=[],t&&Wn(t,this,e)}const kr=oa.prototype;kr.append=function(e,r){this._pairs.push([e,r])},kr.toString=function(e){const r=e?function(n){return e.call(this,n,aa)}:aa;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var Zr=oa;function vn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gi(t,e,r){if(!e)return t;const n=r&&r.encode||vn,i=r&&r.serialize;let s;if(i?s=i(e,r):s=oe.isURLSearchParams(e)?e.toString():new Zr(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ns{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}var is=ns,ca={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xr=typeof URLSearchParams<"u"?URLSearchParams:Zr,ua=typeof FormData<"u"?FormData:null,p=typeof Blob<"u"?Blob:null,R={isBrowser:!0,classes:{URLSearchParams:xr,FormData:ua,Blob:p},protocols:["http","https","file","blob","url","data"]};const T=typeof window<"u"&&typeof document<"u",c=(t=>T&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),k=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var G={...b,...R};function Q(t,e){return Wn(t,new G.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return G.isNode&&oe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function fe(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function me(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Me(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),f=s>=r.length;return a=!a&&oe.isArray(i)?i.length:a,f?(oe.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!oe.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&oe.isArray(i[a])&&(i[a]=me(i[a])),!o)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const r={};return oe.forEachEntry(t,(n,i)=>{e(fe(n),i,r,0)}),r}return null}var ke=Me;function xt(t,e,r){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Be={transitional:ca,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(ke(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Q(e,this.formSerializer).toString();if((o=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Wn(o?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),xt(e)):e}],transformResponse:[function(e){const r=this.transitional||Be.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&oe.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?gt.from(o,gt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{Be.headers[t]={}});var je=Be;const Je=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var tt=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Je[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const Qe=Symbol("internals");function qe(t){return t&&String(t).trim().toLowerCase()}function Ge(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Ge):String(t)}function Xe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Ue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fe(t,e,r,n,i){if(oe.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!oe.isString(e)){if(oe.isString(n))return e.indexOf(n)!==-1;if(oe.isRegExp(n))return n.test(e)}}function Ie(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ne(t,e){const r=oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}class Oe{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,f,l){const m=qe(f);if(!m)throw new Error("header name must be a non-empty string");const S=oe.findKey(i,m);(!S||i[S]===void 0||l===!0||l===void 0&&i[S]!==!1)&&(i[S||f]=Ge(o))}const a=(o,f)=>oe.forEach(o,(l,m)=>s(l,m,f));return oe.isPlainObject(e)||e instanceof this.constructor?a(e,r):oe.isString(e)&&(e=e.trim())&&!Ue(e)?a(tt(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=qe(e),e){const n=oe.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Xe(i);if(oe.isFunction(r))return r.call(this,i,n);if(oe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=qe(e),e){const n=oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Fe(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=qe(a),a){const o=oe.findKey(n,a);o&&(!r||Fe(n,n[o],o,r))&&(delete n[o],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Fe(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return oe.forEach(this,(i,s)=>{const a=oe.findKey(n,s);if(a){r[a]=Ge(i),delete r[s];return}const o=e?Ie(s):String(s).trim();o!==s&&delete r[s],r[o]=Ge(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return oe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&oe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Qe]=this[Qe]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=qe(a);n[o]||(Ne(i,a),n[o]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}Oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oe.reduceDescriptors(Oe.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),oe.freezeMethods(Oe);var Ae=Oe;function ne(t,e){const r=this||je,n=e||r,i=Ae.from(n.headers);let s=n.data;return oe.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function se(t){return!!(t&&t.__CANCEL__)}function xe(t,e,r){gt.call(this,t??"canceled",gt.ERR_CANCELED,e,r),this.name="CanceledError"}oe.inherits(xe,gt,{__CANCEL__:!0});var ce=xe;function de(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var ge=G.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),oe.isString(n)&&a.push("path="+n),oe.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nt(t,e){return t&&!$e(e)?rt(t,e):e}var it=G.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const o=oe.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function N(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function at(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(f){const l=Date.now(),m=n[s];a||(a=l),r[i]=f,n[i]=l;let S=s,L=0;for(;S!==i;)L+=r[S++],S=S%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-a<e)return;const j=m&&l-m;return j?Math.round(L*1e3/j):void 0}}var pt=at;function dt(t,e){let r=0;const n=pt(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-r,f=n(o),l=s<=a;r=s;const m={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:f||void 0,estimated:f&&a&&l?(a-s)/f:void 0,event:i};m[e?"download":"upload"]=!0,t(m)}}var lt=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){let i=t.data;const s=Ae.from(t.headers).normalize();let{responseType:a,withXSRFToken:o}=t,f;function l(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}let m;if(oe.isFormData(i)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((m=s.getContentType())!==!1){const[Z,...ue]=m?m.split(";").map(Te=>Te.trim()).filter(Boolean):[];s.setContentType([Z||"multipart/form-data",...ue].join("; "))}}let S=new XMLHttpRequest;if(t.auth){const Z=t.auth.username||"",ue=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(Z+":"+ue))}const L=nt(t.baseURL,t.url);S.open(t.method.toUpperCase(),gi(L,t.params,t.paramsSerializer),!0),S.timeout=t.timeout;function j(){if(!S)return;const Z=Ae.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),Te={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:Z,config:t,request:S};de(function(He){r(He),l()},function(He){n(He),l()},Te),S=null}if("onloadend"in S?S.onloadend=j:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(j)},S.onabort=function(){S&&(n(new gt("Request aborted",gt.ECONNABORTED,t,S)),S=null)},S.onerror=function(){n(new gt("Network Error",gt.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let ue=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const Te=t.transitional||ca;t.timeoutErrorMessage&&(ue=t.timeoutErrorMessage),n(new gt(ue,Te.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,t,S)),S=null},G.hasStandardBrowserEnv&&(o&&oe.isFunction(o)&&(o=o(t)),o||o!==!1&&it(L))){const Z=t.xsrfHeaderName&&t.xsrfCookieName&&ge.read(t.xsrfCookieName);Z&&s.set(t.xsrfHeaderName,Z)}i===void 0&&s.setContentType(null),"setRequestHeader"in S&&oe.forEach(s.toJSON(),function(ue,Te){S.setRequestHeader(Te,ue)}),oe.isUndefined(t.withCredentials)||(S.withCredentials=!!t.withCredentials),a&&a!=="json"&&(S.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&S.addEventListener("progress",dt(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",dt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=Z=>{S&&(n(!Z||Z.type?new ce(null,t,S):Z),S.abort(),S=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const z=N(L);if(z&&G.protocols.indexOf(z)===-1){n(new gt("Unsupported protocol "+z+":",gt.ERR_BAD_REQUEST,t));return}S.send(i||null)})};const ut={http:$n,xhr:lt};oe.forEach(ut,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ot=t=>`- ${t}`,At=t=>oe.isFunction(t)||t===null||t===!1;var Ct={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!At(r)&&(n=ut[(a=String(r)).toLowerCase()],n===void 0))throw new gt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,f])=>`adapter ${o} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Ot).join(`
`):" "+Ot(s[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:ut};function Pt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ce(null,t)}function kt(t){return Pt(t),t.headers=Ae.from(t.headers),t.data=ne.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ct.getAdapter(t.adapter||je.adapter)(t).then(function(n){return Pt(t),n.data=ne.call(t,t.transformResponse,n),n.headers=Ae.from(n.headers),n},function(n){return se(n)||(Pt(t),n&&n.response&&(n.response.data=ne.call(t,t.transformResponse,n.response),n.response.headers=Ae.from(n.response.headers))),Promise.reject(n)})}const qt=t=>t instanceof Ae?t.toJSON():t;function Nt(t,e){e=e||{};const r={};function n(l,m,S){return oe.isPlainObject(l)&&oe.isPlainObject(m)?oe.merge.call({caseless:S},l,m):oe.isPlainObject(m)?oe.merge({},m):oe.isArray(m)?m.slice():m}function i(l,m,S){if(oe.isUndefined(m)){if(!oe.isUndefined(l))return n(void 0,l,S)}else return n(l,m,S)}function s(l,m){if(!oe.isUndefined(m))return n(void 0,m)}function a(l,m){if(oe.isUndefined(m)){if(!oe.isUndefined(l))return n(void 0,l)}else return n(void 0,m)}function o(l,m,S){if(S in e)return n(l,m);if(S in t)return n(void 0,l)}const f={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(l,m)=>i(qt(l),qt(m),!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(m){const S=f[m]||i,L=S(t[m],e[m],m);oe.isUndefined(L)&&S!==o||(r[m]=L)}),r}const Zt="1.6.7",Vt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const vu={};Vt.transitional=function(e,r,n){function i(s,a){return"[Axios v"+Zt+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new gt(i(a," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!vu[a]&&(vu[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};function nl(t,e,r){if(typeof t!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],f=o===void 0||a(o,s,t);if(f!==!0)throw new gt("option "+s+" must be "+f,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+s,gt.ERR_BAD_OPTION)}}var Ho={assertOptions:nl,validators:Vt};const En=Ho.validators;class fa{constructor(e){this.defaults=e,this.interceptors={request:new is,response:new is}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Nt(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ho.assertOptions(n,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),i!=null&&(oe.isFunction(i)?r.paramsSerializer={serialize:i}:Ho.assertOptions(i,{encode:En.function,serialize:En.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&oe.merge(s.common,s[r.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],z=>{delete s[z]}),r.headers=Ae.concat(a,s);const o=[];let f=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(r)===!1||(f=f&&Z.synchronous,o.unshift(Z.fulfilled,Z.rejected))});const l=[];this.interceptors.response.forEach(function(Z){l.push(Z.fulfilled,Z.rejected)});let m,S=0,L;if(!f){const z=[kt.bind(this),void 0];for(z.unshift.apply(z,o),z.push.apply(z,l),L=z.length,m=Promise.resolve(r);S<L;)m=m.then(z[S++],z[S++]);return m}L=o.length;let j=r;for(S=0;S<L;){const z=o[S++],Z=o[S++];try{j=z(j)}catch(ue){Z.call(this,ue);break}}try{m=kt.call(this,j)}catch(z){return Promise.reject(z)}for(S=0,L=l.length;S<L;)m=m.then(l[S++],l[S++]);return m}getUri(e){e=Nt(this.defaults,e);const r=nt(e.baseURL,e.url);return gi(r,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(r,n){return this.request(Nt(n||{},{method:e,url:r,data:(n||{}).data}))}}),oe.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Nt(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}fa.prototype[e]=r(),fa.prototype[e+"Form"]=r(!0)});var da=fa;class Ko{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new ce(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Ko(function(i){e=i}),cancel:e}}}var il=Ko;function sl(t){return function(r){return t.apply(null,r)}}function al(t){return oe.isObject(t)&&t.isAxiosError===!0}const $o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($o).forEach(([t,e])=>{$o[e]=t});var ol=$o;function Eu(t){const e=new da(t),r=_(da.prototype.request,e);return oe.extend(r,da.prototype,e,{allOwnKeys:!0}),oe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Eu(Nt(t,i))},r}const Jt=Eu(je);Jt.Axios=da,Jt.CanceledError=ce,Jt.CancelToken=il,Jt.isCancel=se,Jt.VERSION=Zt,Jt.toFormData=Wn,Jt.AxiosError=gt,Jt.Cancel=Jt.CanceledError,Jt.all=function(e){return Promise.all(e)},Jt.spread=sl,Jt.isAxiosError=al,Jt.mergeConfig=Nt,Jt.AxiosHeaders=Ae,Jt.formToJSON=t=>ke(oe.isHTMLForm(t)?new FormData(t):t),Jt.getAdapter=Ct.getAdapter,Jt.HttpStatusCode=ol,Jt.default=Jt;var ss=Jt,Sn=x(29938),fn=x(35906),cl=x(55872).Buffer;function ul(t){class e extends t.arbundles.DataItem{constructor(i,s,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?cl.from(i):s.arbundles.createData(i,s.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??fn.randomBytes(32).toString("base64").slice(0,32)}).getRaw());O(this,"Irys");O(this,"signer");this.Irys=s,this.signer=s.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(i){return(await this.Irys.uploader.uploadTransaction(this,{...i,getReceiptSignature:!0})).data}async upload(i){return(await this.Irys.uploader.uploadTransaction(this,i)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return t.arbundles.DataItem.verify(this.getRaw())}}return e}var ct=x(27220),Ze=x(1562);Ze.Z.set({DECIMAL_PLACES:50});const Su=t=>new Promise(e=>setTimeout(e,t));class sr{constructor(e,r,n){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"arbundles");this.api=e,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,r,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${r}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return sr.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const r=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return sr.checkAndThrow(r,"Getting balance"),new Ze.Z(r.data.balance)}async getBundlerAddress(e){const r=await this.api.get("/info");sr.checkAndThrow(r,"Getting Bundler address");const n=r.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,r){const n=await this.api.get(`/price/${e}/${r}`);return sr.checkAndThrow(n,"Getting storage cost"),new Ze.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const r=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,i=(await this.getPrice(this.tokenConfig.name,r)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(i).decimalPlaces(0)}toAtomic(e){return new Ze.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new Ze.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,r=30){if(this.tokenConfig.isSlow)return;r<0&&(r=0);let n,i;const s=async()=>{for(;!i;){if(await this.tokenConfig.getTx(e).then(l=>l==null?void 0:l.confirmed).catch(l=>(n=l,!1)))return!0;await Su(1e3)}return!1},a=async()=>(await Su(r*1e3),i=!0,"RACE"),o=await Promise.race([a(),s()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${r} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new Ze.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return sr.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,r){const{id:n,deadlineHeight:i,timestamp:s,public:a,signature:o,version:f}=r,l=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(f),e.stringToBuffer(n),e.stringToBuffer(i.toString()),e.stringToBuffer(s.toString())]);return await e.getCryptoDriver().verify(a,l,ct.toBuffer(o))}async getReceipt(e){var o,f,l,m,S,L;const r=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await Sn(async()=>await this.api.post("/graphql",{query:r},{headers:{"content-type":"application/json"},validateStatus:j=>j===200})),i=(L=(S=(m=(l=(f=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:f.transactions)==null?void 0:l.edges)==null?void 0:m.at(0))==null?void 0:S.node)==null?void 0:L.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:i.version,id:e,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var zo=x(55872).Buffer;async function fl(t,e,r){const n=t.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:t.token,amount:new Ze.Z(r).toString(),nonce:await t.getNonce(),signature:"",sigType:n.getSigner().signatureType},f=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);zo.isBuffer(o.publicKey)||(o.publicKey=zo.from(o.publicKey));const l=await n.sign(f),m=await n.verify(o.publicKey,f,l);o.publicKey=ct.encode(o.publicKey),o.signature=ct.encode(zo.from(l));const S=ct.toBuffer(o.publicKey),L=ct.toBuffer(o.signature),j=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),z=await n.verify(S,j,L),Z=n.ownerToAddress(n.name=="arweave"?ct.decode(o.publicKey):ct.toBuffer(o.publicKey))===n.address;if(!(m||z||Z))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const ue=await e.post("/account/withdraw",o);if(ue.status===202){const Te=ue.data.tx_id,ze=await t.confirmationPoll(Te);if(ze!==!0)throw new Error(`Unable to confirm withdrawal tx ${Te} ${ze?ze==null?void 0:ze.toString():""}`)}else sr.checkAndThrow(ue,"Withdrawing balance");return ue.data}var as=x(26748);class dl{constructor({url:e,retryConfig:r,query:n,queryName:i,opts:s}){O(this,"queryVars",{});O(this,"queryFields");O(this,"queryInfo");O(this,"_query");O(this,"url");O(this,"config");O(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...r}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(s!=null&&s.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var f,l;if(this.config.userProvided)return this;const e=m=>JSON.stringify(m,(S,L)=>{if(L instanceof Array)return L[0];if(typeof L=="object")return L;if(L!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),r=e(this.queryFields),n=e({pageInfo:{[((f=this.queryInfo.paging)==null?void 0:f.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,s={...this.queryInfo.vars,...this.queryVars};for(const[m,S]of Object.entries(this.queryInfo.remapVars??{}))if((s==null?void 0:s[m])!==void 0){if(typeof S=="function"){const L=S(m,s[m],s);if(!L)continue;const[j,z]=L;if(s[j]=z,j===m)continue}else s[S]=s[m];s[m]=void 0}const a=JSON.stringify(s,function(m,S){return S===void 0||S instanceof Array||typeof S=="object"||typeof S=="number"||i!=null&&i.includes(m)?S:`'${S}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((l=this==null?void 0:this.queryInfo)!=null&&l.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${r}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${r}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await Sn(async i=>{const s=await ss(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(s.data.errors)throw s;return s},this.config.retryOpts)}catch(i){throw new Error(`Error running query
 ${this._query} - ${i.message?i.message+" -":""} (${JSON.stringify(((n=i==null?void 0:i.data)==null?void 0:n.errors.map(s=>s.message))??(i==null?void 0:i.errors)??i)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const r=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const i=r.pageInfo[this.queryInfo.paging.hasNextPage]?r.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=i,this.trimmer(r.edges.map(s=>s.node))}return this.trimmer([r].flat(20))}trimmer(e){var i,s;const r=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(r>=((i=this==null?void 0:this.config)==null?void 0:i.numPages)&&(this.resultTracker.done=!0),n>=((s=this==null?void 0:this.config)==null?void 0:s.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const r=await this.getPage();if(!r)break;e.push(...r)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const r of e)yield r}while(this.queryVars.after)}stream(){return as.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,r=!1){const n=(i,s,a)=>{for(const o of Object.keys(a)){let f=s[o];Array.isArray(f)&&(f=f[0]);const l=a[o];if(f===void 0)throw new Error(`Illegal field ${i}${o}`);typeof l=="object"&&n(i+o+".",f,l)}};return r||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,r){return this.all().then(e,r)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const Au={id:"",timestamp:0,height:"",previous:""},Y1={name:"block",query:Au,vars:{id:void 0}},ll={name:"blocks",query:Au,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.height={...r.height,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.height={...r.height,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},_u={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},tm={name:"transaction",query:_u,vars:{id:void 0}},hl={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,from:new Date(e).getTime()},r.fromTimestamp=void 0},toTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,to:new Date(e).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:_u,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.block={...r.block,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.block={...r.block,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":ll};class Tu{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){O(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,r){const n=(r==null?void 0:r.query)??hl[e];return new dl({...this.opts,query:n,queryName:e})}}var om=null;class qo{constructor({url:e,arbundles:r}){O(this,"api");O(this,"utils");O(this,"uploader");O(this,"funder");O(this,"address");O(this,"token");O(this,"tokenConfig");O(this,"provenance");O(this,"transactions");O(this,"_readyPromise");O(this,"url");O(this,"arbundles");O(this,"IrysTransaction");this.url=e,this.arbundles=r,this.IrysTransaction=ul(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new Tu({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new Tu(e??{url:this.url})}async withdrawBalance(e){return fl(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,r){return this.funder.fund(e,r)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return sr.verifyReceipt(this.arbundles,e)}createTransaction(e,r){return new this.IrysTransaction(e,this,r)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,r){return this.uploader.uploadData(e,r)}async uploadWithReceipt(e,r){return this.uploader.uploadData(e,{...r,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(r){return new e.IrysTransaction(r,e,{dataIsRawTransaction:!0})}}}}O(qo,"VERSION","0.0.2");class xl{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":qo.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,r,n){var i;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=ss.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,i=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Sn(s=>n({...r,url:i}),{...this.config.retry,...r==null?void 0:r.retry})}}class pl{constructor(e){O(this,"utils");this.utils=e}async fund(e,r=1){const n=new Ze.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let a;if(i.needsFee){const S=await i.getFee(i.base[0]==="winston"?0:n,s);a=Ze.Z.isBigNumber(S)?S.multipliedBy(r).integerValue(Ze.Z.ROUND_CEIL):S}const o=await i.createTx(n,s,a);let f;try{f=await i.sendTx(o.tx)}catch(S){throw S}if(o.txId??(o.txId=f),!o.txId)throw new Error("Undefined transaction ID");sr.checkAndThrow(f,`Sending transaction to the ${this.utils.token} network`);let l=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(S=>{l=S}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${l?` - ${(l==null?void 0:l.message)??l}`:""}`);return{reward:Ze.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:s,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await Sn(async()=>{const r=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return sr.checkAndThrow(r,`Posting transaction ${e} information to the bundler`,[202]),r},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var os=x(39098),st=x.n(os);const yl="logger/5.7.0";let Ru=!1,Pu=!1;const la={debug:1,default:2,info:2,warning:3,error:4,off:5};let Cu=la.default,jo=null;function bl(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const ku=bl();var Go;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Go||(Go={}));var zr;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(zr||(zr={}));const Iu="0123456789abcdef";class we{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();la[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Cu>la[n])&&console.log.apply(console,r)}debug(...e){this._log(we.levels.DEBUG,e)}info(...e){this._log(we.levels.INFO,e)}warn(...e){this._log(we.levels.WARNING,e)}makeError(e,r,n){if(Pu)return this.makeError("censored error",r,{});r||(r=we.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const l=n[f];try{if(l instanceof Uint8Array){let m="";for(let S=0;S<l.length;S++)m+=Iu[l[S]>>4],m+=Iu[l[S]&15];i.push(f+"=Uint8Array(0x"+m+")")}else i.push(f+"="+JSON.stringify(l))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let a="";switch(r){case zr.NUMERIC_FAULT:{a="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":a+="-"+f;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case zr.CALL_EXCEPTION:case zr.INSUFFICIENT_FUNDS:case zr.MISSING_NEW:case zr.NONCE_EXPIRED:case zr.REPLACEMENT_UNDERPRICED:case zr.TRANSACTION_REPLACED:case zr.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=r,Object.keys(n).forEach(function(f){o[f]=n[f]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,we.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),ku&&this.throwError("platform missing String.prototype.normalize",we.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ku})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,we.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,we.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,we.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",we.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",we.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return jo||(jo=new we(yl)),jo}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ru){if(!e)return;this.globalLogger().throwError("error censorship permanent",we.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Pu=!!e,Ru=!!r}static setLogLevel(e){const r=la[e.toLowerCase()];if(r==null){we.globalLogger().warn("invalid log level - "+e);return}Cu=r}static from(e){return new we(e)}}we.errors=zr,we.levels=Go;const gl="bytes/5.7.0",jt=new we(gl);function Bu(t){return!!t.toHexString}function mi(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return mi(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Wo(t){return Gt(t)&&!(t.length%2)||ha(t)}function Uu(t){return typeof t=="number"&&t==t&&t%1===0}function ha(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Uu(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Uu(r)||r<0||r>=256)return!1}return!0}function _e(t,e){if(e||(e={}),typeof t=="number"){jt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),mi(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bu(t)&&(t=t.toHexString()),Gt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":jt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return mi(new Uint8Array(n))}return ha(t)?mi(new Uint8Array(t)):jt.throwArgumentError("invalid arrayify value","value",t)}function mr(t){const e=t.map(i=>_e(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),mi(n)}function dn(t){let e=_e(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function ml(t,e){t=_e(t),t.length>e&&jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),mi(r)}function Gt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Vo="0123456789abcdef";function De(t,e){if(e||(e={}),typeof t=="number"){jt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Vo[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bu(t))return t.toHexString();if(Gt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":jt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ha(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Vo[(i&240)>>4]+Vo[i&15]}return r}return jt.throwArgumentError("invalid hexlify value","value",t)}function Ou(t){if(typeof t!="string")t=De(t);else if(!Gt(t)||t.length%2)return null;return(t.length-2)/2}function Vn(t,e,r){return typeof t!="string"?t=De(t):(!Gt(t)||t.length%2)&&jt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Jn(t){let e="0x";return t.forEach(r=>{e+=De(r).substring(2)}),e}function cm(t){const e=wl(De(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function wl(t){typeof t!="string"&&(t=De(t)),Gt(t)||jt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function wr(t,e){for(typeof t!="string"?t=De(t):Gt(t)||jt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&jt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function wi(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Wo(t)){let r=_e(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=De(r.slice(0,32)),e.s=De(r.slice(32,64))):r.length===65?(e.r=De(r.slice(0,32)),e.s=De(r.slice(32,64)),e.v=r[64]):jt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:jt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=De(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ml(_e(e._vs),32);e._vs=De(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const a=De(i);e.s==null?e.s=a:e.s!==a&&jt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?jt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&jt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Gt(e.r)?jt.throwArgumentError("signature missing or invalid r","signature",t):e.r=wr(e.r,32),e.s==null||!Gt(e.s)?jt.throwArgumentError("signature missing or invalid s","signature",t):e.s=wr(e.s,32);const r=_e(e.s);r[0]>=128&&jt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=De(r);e._vs&&(Gt(e._vs)||jt.throwArgumentError("signature invalid _vs","signature",t),e._vs=wr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&jt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Nu(t){return t=wi(t),De(mr([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const vl="bignumber/5.7.0";var cs=st().BN;const ln=new we(vl),Jo={},Mu=9007199254740991;function um(t){return t!=null&&(Ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||isHexString(t)||typeof t=="bigint"||isBytes(t))}let Du=!1;class Ve{constructor(e,r){e!==Jo&&ln.throwError("cannot call constructor directly; use BigNumber.from",we.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return vr(ht(this).fromTwos(e))}toTwos(e){return vr(ht(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ve.from(this._hex.substring(1)):this}add(e){return vr(ht(this).add(ht(e)))}sub(e){return vr(ht(this).sub(ht(e)))}div(e){return Ve.from(e).isZero()&&Ir("division-by-zero","div"),vr(ht(this).div(ht(e)))}mul(e){return vr(ht(this).mul(ht(e)))}mod(e){const r=ht(e);return r.isNeg()&&Ir("division-by-zero","mod"),vr(ht(this).umod(r))}pow(e){const r=ht(e);return r.isNeg()&&Ir("negative-power","pow"),vr(ht(this).pow(r))}and(e){const r=ht(e);return(this.isNegative()||r.isNeg())&&Ir("unbound-bitwise-result","and"),vr(ht(this).and(r))}or(e){const r=ht(e);return(this.isNegative()||r.isNeg())&&Ir("unbound-bitwise-result","or"),vr(ht(this).or(r))}xor(e){const r=ht(e);return(this.isNegative()||r.isNeg())&&Ir("unbound-bitwise-result","xor"),vr(ht(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ir("negative-width","mask"),vr(ht(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ir("negative-width","shl"),vr(ht(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ir("negative-width","shr"),vr(ht(this).shrn(e))}eq(e){return ht(this).eq(ht(e))}lt(e){return ht(this).lt(ht(e))}lte(e){return ht(this).lte(ht(e))}gt(e){return ht(this).gt(ht(e))}gte(e){return ht(this).gte(ht(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ht(this).isZero()}toNumber(){try{return ht(this).toNumber()}catch{Ir("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ln.throwError("this platform does not support BigInt",we.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Du||(Du=!0,ln.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ln.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",we.errors.UNEXPECTED_ARGUMENT,{}):ln.throwError("BigNumber.toString does not accept parameters",we.errors.UNEXPECTED_ARGUMENT,{})),ht(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ve)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ve(Jo,us(e)):e.match(/^-?[0-9]+$/)?new Ve(Jo,us(new cs(e))):ln.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ir("underflow","BigNumber.from",e),(e>=Mu||e<=-Mu)&&Ir("overflow","BigNumber.from",e),Ve.from(String(e));const r=e;if(typeof r=="bigint")return Ve.from(r.toString());if(ha(r))return Ve.from(De(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ve.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Gt(n)||n[0]==="-"&&Gt(n.substring(1))))return Ve.from(n)}return ln.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function us(t){if(typeof t!="string")return us(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ln.throwArgumentError("invalid hex","value",t),t=us(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function vr(t){return Ve.from(us(t))}function ht(t){const e=Ve.from(t).toHexString();return e[0]==="-"?new cs("-"+e.substring(3),16):new cs(e.substring(2),16)}function Ir(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ln.throwError(t,we.errors.NUMERIC_FAULT,n)}function El(t){return new cs(t,36).toString(16)}function fm(t){return new cs(t,16).toString(36)}class Sl{constructor(){O(this,"publicKey");O(this,"signatureType");O(this,"signatureLength");O(this,"ownerLength");O(this,"pem")}static verify(e,r,n,i){throw new Error("You must implement verify method on child")}}var yt;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(yt||(yt={}));const It={[yt.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[yt.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[yt.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[yt.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[yt.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[yt.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[yt.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var fs=x(4909),ds=x(55872).Buffer;class ls{constructor(e,r){O(this,"_key");O(this,"pk");O(this,"ownerLength",It[2].pubLength);O(this,"signatureLength",It[2].sigLength);O(this,"_publicKey");O(this,"signatureType",2);this._key=e,this.pk=r}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,fs.Xx)(ds.from(e),ds.from(this.key))}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=ct.toBuffer(e)),(0,fs.T)(ds.from(n),ds.from(r),ds.from(i))}}var Lu=x(65415);function pr(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let i=1;i<t.length;i++)r.set(new Uint8Array(t[i]),n),n+=t[i].byteLength;return r}function Fu(t){const e=qr(t);return Xo(e)}function Xo(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function mt(t){return new TextEncoder().encode(t)}function Zo(t){return jr(mt(t))}function qr(t){return new Uint8Array((0,Lu.toByteArray)($u(t)))}function Hu(t){return(0,Lu.fromByteArray)(new Uint8Array(t))}function jr(t){return Ku(Hu(t))}function Ku(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function $u(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}function Al(t){return new Ze.Z(t).shiftedBy(-12)}function _l(t){return new Ze.Z(t).shiftedBy(12)}class xa{constructor(){O(this,"keyLength",4096);O(this,"publicExponent",65537);O(this,"hashAlgorithm","sha256");O(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),r);return new Uint8Array(i)}async hash(e,r="SHA-256"){const n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){const i={kty:"RSA",e:"AQAB",n:e},s=await this.jwkToPublicCryptoKey(i),a=await this.driver.digest("SHA-256",r),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,r),f=await this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,r),l=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((s.algorithm.modulusLength-1)/8)-a.byteLength-2},s,n,r);return o||f||l}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,r,n){const i=await this.driver.importKey("raw",typeof r=="string"?mt(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:mt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},s,e);return pr([a,o])}async decrypt(e,r,n){const i=await this.driver.importKey("raw",typeof r=="string"?mt(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:mt(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},s,e.slice(16));return pr([o])}}async function vi(t){if(typeof t[Symbol.asyncIterator]=="function"){const i=t,s=(0,fn.createHash)("sha384");let a=0;for await(const l of i)a+=l.byteLength,s.update(l);const o=pr([mt("blob"),mt(a.toString())]),f=pr([await ar().hash(o,"SHA-384"),s.digest()]);return await ar().hash(f,"SHA-384")}else if(Array.isArray(t)){const i=pr([mt("list"),mt(t.length.toString())]);return await zu(t,await ar().hash(i,"SHA-384"))}const e=t,r=pr([mt("blob"),mt(e.byteLength.toString())]),n=pr([await ar().hash(r,"SHA-384"),await ar().hash(e,"SHA-384")]);return await ar().hash(n,"SHA-384")}async function zu(t,e){if(t.length<1)return e;const r=pr([e,await vi(t[0])]),n=await ar().hash(r,"SHA-384");return await zu(t.slice(1),n)}async function dm(t){const e=createHash("sha384");for await(const r of t)e.update(r);return e.digest()}var lm=null;class hs extends Error{constructor(r,n={}){var e=(...E6)=>{super(...E6);O(this,"type");O(this,"response")};n.message?e(n.message):e(),this.type=r,this.response=n.response}getType(){return this.type}}function xs(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}class Tl{constructor(e,r){O(this,"api");O(this,"network");this.api=e,this.network=r}async getByHash(e){const r=await this.api.get(`block/hash/${e}`);if(r.status===200)return r.data;throw r.status===404?new hs("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){const r=await this.api.get(`block/height/${e}`);if(r.status===200)return r.data;throw r.status===404?new hs("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var qu=x(55872).Buffer;const An=256*1024,Rl=32*1024,ps=32,Ei=32;class Pl{constructor(e){O(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const r=[];let n=e,i=0;for(;n.byteLength>=An;){let s=An;const a=n.byteLength-An;a>0&&a<Rl&&(s=Math.ceil(n.byteLength/2));const o=n.slice(0,s),f=await this.crypto.hash(o);i+=o.byteLength,r.push({dataHash:f,minByteRange:i-o.byteLength,maxByteRange:i}),n=n.slice(s)}return r.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),r}async generateLeaves(e){return Promise.all(e.map(async({dataHash:r,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(r),this.hash(pa(i))])),dataHash:r,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const r=await this.chunkData(e),n=await this.generateLeaves(r),i=await this.buildLayers(n),s=await this.generateProofs(i),a=r.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(r.splice(r.length-1,1),s.splice(s.length-1,1)),{data_root:i.id,chunks:r,proofs:s}}async buildLayers(e,r=0){if(e.length<2)return e[0];const n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,r+1)}generateProofs(e){const r=this.resolveBranchProofs(e);return Array.isArray(r)?ju(r):[r]}resolveBranchProofs(e,r=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:pr([r,e.dataHash,pa(e.maxByteRange)])};if(e.type=="branch"){const i=pr([r,e.leftChild.id,e.rightChild.id,pa(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,r,n,i,s){if(i<=0)return!1;if(r>=i)return this.validatePath(e,0,i-1,i,s);if(r<0)return this.validatePath(e,0,0,i,s);if(s.length==Ei+ps){const L=s.slice(0,Ei),j=s.slice(L.length,L.length+ps),z=await this.hash([await this.hash(L),await this.hash(j)]);return Wu(e,z)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}const a=s.slice(0,Ei),o=s.slice(a.length,a.length+Ei),f=s.slice(a.length+o.length,a.length+o.length+ps),l=Gu(f),m=s.slice(a.length+o.length+f.length),S=await this.hash([await this.hash(a),await this.hash(o),await this.hash(f)]);return Wu(e,S)?r<l?await this.validatePath(a,r,n,Math.min(i,l),m):await this.validatePath(o,r,Math.max(n,l),i,m):!1}async hashBranch(e,r){return r?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(r.id),await this.hash(pa(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:r.maxByteRange,leftChild:e,rightChild:r}:e}async hash(e){return Array.isArray(e)&&(e=Qu.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,r=""){if(e.byteLength<1)return r;const n=e.slice(0,Ei),i=e.slice(n.length,n.length+Ei),s=e.slice(n.length+i.length,n.length+i.length+ps),a=Gu(s),o=e.slice(n.length+i.length+s.length),f=await this.hash([await this.hash(n),await this.hash(i),await this.hash(s)]),l=`${r}
${JSON.stringify(qu.from(n))},${JSON.stringify(qu.from(i))},${a} => ${JSON.stringify(f)}`;return this.debug(o,l)}}function ju(t){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...ju(r)):e.push(r)}),e}function pa(t){const e=new Uint8Array(ps);for(let r=e.length-1;r>=0;r--){const n=t%256;e[r]=n,t=(t-n)/256}return e}function Gu(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}const Wu=(t,e)=>t.every((r,n)=>e[n]===r);var Cl=Pl;class kl{constructor(e){O(this,"api");this.api=e}async getTransactionMetadata(e){const r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${xs(r)}`)}async getChunk(e){const r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${xs(r)}`)}async getChunkData(e){const r=await this.getChunk(e);return qr(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,r){const n=await this.getTransactionMetadata(e),i=parseInt(n.size),s=new Uint8Array(i);let a=0;for await(const o of this.concurrentChunkDownloader(e,r))s.set(o,a),a+=o.length;return s}async*concurrentChunkDownloader(e,r){const n={concurrency:10,...r},i=await this.getTransactionMetadata(e),s=new Ze.Z(i.offset),a=new Ze.Z(i.size),o=s.minus(a).plus(1);let f=0;const l=Math.ceil(a.dividedBy(An).toNumber()),m=Z=>this.getChunkData(Z.toString()).then(ue=>(f+=ue.length,ue)),S=[],L=l-2,j=Math.min(L,n.concurrency);let z=0;for(let Z=0;Z<j;Z++)S.push(m(o.plus(An*z++)));for(;z<L;)S.push(m(o.plus(An*z++))),yield S.shift();for(;S.length>0;)yield S.shift();if(yield m(o.plus(An*z++)),a.isGreaterThan(f)&&(yield m(o.plus(An*z++))),!a.isEqualTo(f))throw new Error(`got ${f}B, expected ${a.toString()}B`)}}function Il(t,e){const r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:mt,concatBuffers:pr},crypto:t}}),r}class Bl{constructor({deps:e}){O(this,"crypto");O(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}const r=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(r,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,r){if(e.length<1)return r;const n=this.utils.concatBuffers([r,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}}class Vu{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":Qu.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,r,n){var i;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=ss.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,i=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Sn(s=>n({...r,url:i}),{...this.config.retry,...r==null?void 0:r.retry})}}const Ju=t=>typeof t!="string"&&"url"in t,Ul={maxAttempts:15,randomlySelect:!0};class Ol{constructor({gateways:e,miners:r,opts:n}){O(this,"minerInstances",[]);O(this,"globalConfig");O(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},r&&this.addMiners(r),e&&this.addGateways(e)}async addPeersFrom(e,r){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,r==null?void 0:r.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(r=>this.minerInstances.push(new Vu(Ju(r)?r:{url:new URL(r),...this.globalConfig})))}addGateways(e){e.forEach(r=>this.gatewayInstances.push(new Vu(Ju(r)?r:{url:new URL(r),...this.globalConfig})))}async get(e,r){return this.request(e,{...r,method:"GET"})}async post(e,r,n){return this.request(e,{data:r,...n,method:"POST"})}async request(e,r){const n={...Ul,...r==null?void 0:r.fallback};let i=0;const s=[],a=r!=null&&r.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),f=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const l=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):i-1);if(l)try{return await l.request(e,{...r})}catch(m){if(f==null||f(m,l),s.push(m),i>=o)throw m}}throw new Error("unreachable")}}var Nl=Ol;class Xu{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?Xo(this[e]):r&&r.decode&&!r.string?this[e]:jr(this[e]);if(this[e]instanceof Array){if((r==null?void 0:r.decode)!==void 0||(r==null?void 0:r.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?Fu(this[e]):qr(this[e]):this[e]}}class Ml extends Xu{constructor(r,n){super();O(this,"name");O(this,"value");this.name=r,this.value=n}}class Br extends Xu{constructor({attributes:r,deps:n}){super();O(this,"format",2);O(this,"id","");O(this,"last_tx","");O(this,"owner","");O(this,"tags",[]);O(this,"target","");O(this,"quantity","0");O(this,"data_size","0");O(this,"data",new Uint8Array);O(this,"data_root","");O(this,"reward","0");O(this,"signature","");O(this,"merkle");O(this,"deepHash");O(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,r),typeof this.data=="string"&&(this.data=qr(this.data)),r.tags&&(this.tags=r.tags)}addTag(r,n){this.tags.push({name:Zo(r),value:Zo(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:jr(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(r){this.owner=r}setSignature({id:r,owner:n,reward:i,tags:s,signature:a}){this.id=r,this.owner=n,i&&(this.reward=i),s&&(this.tags=s),this.signature=a}async prepareChunks(r){!this.chunks&&r.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(r),this.data_root=jr(this.chunks.data_root)),!this.chunks&&r.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(r,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const i=this.chunks.proofs[r],s=this.chunks.chunks[r];return{data_root:this.data_root,data_size:this.data_size,data_path:jr(i.proof),offset:i.offset.toString(),chunk:jr(n.slice(s.minByteRange,s.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const r=this.tags.reduce((i,s)=>pr([i,qr(s.name),qr(s.value)]),new Uint8Array);return pr([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),mt(this.quantity),mt(this.reward),this.get("last_tx",{decode:!0,string:!1}),r]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(i=>[qr(i.name),qr(i.value)]);return await this.deepHash.deepHash([mt(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),mt(this.quantity),mt(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,mt(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class Dl{constructor(e){O(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const Zu=1,Ll=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],Yu=1e3*40;class ys{constructor({deps:e,transaction:r}){O(this,"chunkIndex",0);O(this,"txPosted",!1);O(this,"transaction");O(this,"lastRequestTimeEnd",0);O(this,"totalErrors",0);O(this,"data");O(this,"lastResponseStatus",0);O(this,"lastResponseError","");O(this,"crypto");O(this,"api");O(this,"merkle");O(this,"deepHash");if(!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=r.data,this.transaction=new Br({attributes:Object.assign({},r,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+Yu-Date.now(),Yu);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(a=>setTimeout(a,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),qr(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=xs(s),Ll.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:r,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const i=new Br(e.transaction);i.chunks||await i.prepareChunks(r);const s=new ys({deps:n,transaction:i});if(s.chunkIndex=e.chunkIndex,s.lastRequestTimeEnd=e.lastRequestTimeEnd,s.lastResponseError=e.lastResponseError,s.lastResponseStatus=e.lastResponseStatus,s.txPosted=e.txPosted,s.data=r,s.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,r){const n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);const i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Zu){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Zu;return}throw this.lastResponseError=xs(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=xs(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}}class Fl{constructor({deps:e}){O(this,"api");O(this,"crypto");O(this,"chunks");O(this,"merkle");O(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,r){const n=r?`price/${e}/${r}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){const r=await this.api.get(`tx/${e}`);if(r.status==200){const n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){const i=await this.getData(e);return new Br({attributes:{...r.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Br({attributes:{...r.data,format:r.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw r.status===404?new hs("TX_NOT_FOUND"):r.status===410?new hs("TX_FAILED"):new hs("TX_INVALID")}fromRaw(e){return new Br({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status===200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e){let r;try{r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async getDataStream(e){let r;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;r=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async sign(e,r,n){const s=typeof r=="object"&&(o=>{let f=!0;return["n","e","d","p","q","dp","dq","qi"].map(l=>!(l in o)&&(f=!1)),f})(r),a=typeof arweaveWallet=="object";if(!s&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(f=>new Ml(f.name,f.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(s){e.setOwner(r.n);const o=await e.getSignatureData(),f=await this.crypto.sign(r,o,n),l=await this.crypto.hash(f);e.setSignature({id:jr(l),owner:r.n,signature:jr(f)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=jr(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new Br({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new Br({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof Br)&&(e=new Br({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof Br))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof Br){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new ys({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await ys.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await ys.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:r})}return n}async*upload(e,r){const n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class Hl{constructor(e,r){O(this,"api");O(this,"crypto");this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return jr(await this.crypto.hash(qr(e)))}}const mu=class{constructor(e){O(this,"config");O(this,"api");O(this,"wallets");O(this,"transactions");O(this,"network");O(this,"blocks");O(this,"chunks");O(this,"crypto");O(this,"deepHash");O(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=Il(e.crypto,{deepHash:Bl}),this.deepHash=this.crypto.deepHash;const r=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new Nl({gateways:r,miners:e.miners}),this.wallets=new Hl(this.api,this.crypto),this.chunks=new kl(this.api),this.network=new Dl(this.api),this.blocks=new Tl(this.api,this.network),this.merkle=new Cl({deps:{crypto:this.crypto}}),this.transactions=new Fl({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return mu.utils}getConfig(){return this.config}async createTransaction(e,r){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=mt(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const i=new Br({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}};let Xn=mu;O(Xn,"init"),O(Xn,"utils",d),O(Xn,"VERSION","0.0.1");var Qu=Xn;class Yo extends Xn{constructor(e,r){super({crypto:(r==null?void 0:r.crypto)??new xa,...r,gateways:e??"https://arweave.net"})}static init(e){return new Yo(e)}}const hm=null;var xm=null;const Kl=xa.default?xa.default:xa;class ef extends Kl{getPublicKey(e){throw new Error("Unimplemented")}}let $l;function ar(){return $l??($l=new ef)}var zl=x(55872).Buffer;class tf{constructor(e,r){O(this,"_key");O(this,"pk");O(this,"signatureType",1);O(this,"ownerLength",It[1].pubLength);O(this,"signatureLength",It[1].sigLength);O(this,"_publicKey");this._key=e,this.pk=r,r||(this.pk=ar().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,fn.createSign)("sha256").update(e).sign({key:this._key,padding:fn.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,r,n){return await ar().verify(zl.isBuffer(e)?ct.encode(e):e,r,n)}}var ql=x(64842),ya=x(55872).Buffer;const Zn=ql.define;function jl(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qo(t){return jl(ya.from(t,"hex").toString("base64"))}const rf=Zn("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),nf=Zn("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),Gl=Zn("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nf),this.key("publicKey").bitstr())}),sf=Zn("Version",function(){this.int({0:"two-prime",1:"multi"})}),Wl=Zn("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),af=Zn("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(sf),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(Wl))}),Vl=Zn("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(sf),this.key("algorithm").use(nf),this.key("privateKey").bitstr())}),pm="1.2.840.113549.1.1.1";function of(t,e){return e=e||{},Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function ec(t){return t.length%2===1?"0"+t:t}function cf(t,e){const r=rf.decode(t,"der"),n=ec(r.e.toString(16)),i={kty:"RSA",n:_n(r.n),e:Qo(n)};return of(i,e)}function uf(t,e){const r=af.decode(t,"der"),n=ec(r.e.toString(16)),i={kty:"RSA",n:_n(r.n),e:Qo(n),d:_n(r.d),p:_n(r.p),q:_n(r.q),dp:_n(r.dp),dq:_n(r.dq),qi:_n(r.qi)};return of(i,e)}function Jl(t,e){const r=Gl.decode(t,"der");return cf(r.publicKey.data,e)}function Xl(t,e){const r=Vl.decode(t,"der");return uf(r.privateKey.data,e)}function Zl(t){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(t);if(!e)return null;const r=!!e[1];return e[2]==="PRIVATE"?r?uf:Xl:r?cf:Jl}function Yl(t){return{n:Tn(t.n),e:Tn(t.e),d:t.d&&Tn(t.d),p:t.p&&Tn(t.p),q:t.q&&Tn(t.q),dp:t.dp&&Tn(t.dp),dq:t.dq&&Tn(t.dq),qi:t.qi&&Tn(t.qi)}}function _n(t){return Qo(ec(t.toString(16)))}function Ql(t){return new os(ya.from(t,"base64"))}function Tn(t){return/^[0-9]+$/.test(t)?new os(t,10):Ql(t)}function ym(t,e){let r=t.toString().split(/(\r\n|\r|\n)+/g);r=r.filter(function(i){return i.trim().length!==0});const n=Zl(r[0]);return r=r.slice(1,-1).join(""),n(ya.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function eh(t){const e=Yl(t),r=!!e.d,n=r?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`;let a=ya.alloc(0);r?(e.version="two-prime",a=af.encode(e,"der")):a=rf.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}class ba extends tf{constructor(r){super(eh(r),r.n);O(this,"jwk");this.jwk=r}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return ct.toBuffer(this.pk)}sign(r){return ar().sign(this.jwk,r)}static async verify(r,n,i){return await ar().verify(r,n,i)}}var tc=x(55872).Buffer;class ff{constructor(e){O(this,"_publicKey");O(this,"ownerLength",It[2].pubLength);O(this,"signatureLength",It[2].sigLength);O(this,"signatureType",2);O(this,"pem");O(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,r,n){let i=e;return typeof e=="string"&&(i=ct.toBuffer(e)),(0,fs.T)(tc.from(n),tc.from(r),tc.from(i))}}var df=x(40954),th=x.n(df);function er(t){return"0x"+th().keccak_256(_e(t))}const rh="strings/5.7.0",lf=new we(rh);var Rn;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Rn||(Rn={}));var Sr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Sr||(Sr={}));function nh(t,e,r,n,i){return lf.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function hf(t,e,r,n,i){if(t===Sr.BAD_PREFIX||t===Sr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===Sr.OVERRUN?r.length-e-1:0}function ih(t,e,r,n,i){return t===Sr.OVERLONG?(n.push(i),0):(n.push(65533),hf(t,e,r,n,i))}const sh=Object.freeze({error:nh,ignore:hf,replace:ih});function rc(t,e){e==null&&(e=sh.error),t=_e(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Sr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Sr.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Sr.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-s-1)-1;for(let f=0;f<s;f++){let l=t[n];if((l&192)!=128){n+=e(Sr.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|l&63,n++}if(o!==null){if(o>1114111){n+=e(Sr.OUT_OF_RANGE,n-1-s,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(Sr.UTF16_SURROGATE,n-1-s,t,r,o);continue}if(o<=a){n+=e(Sr.OVERLONG,n-1-s,t,r,o);continue}r.push(o)}}return r}function Gr(t,e=Rn.current){e!=Rn.current&&(lf.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return _e(r)}function nc(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function bm(t,e){return'"'+rc(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?nc(r):(r-=65536,nc((r>>10&1023)+55296)+nc((r&1023)+56320))}).join("")+'"'}function ah(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function oh(t,e){return ah(rc(t,e))}function gm(t,e=Rn.current){return rc(Gr(t,e))}const ch=`Ethereum Signed Message:
`;function ga(t){return typeof t=="string"&&(t=Gr(t)),er(mr([Gr(ch),Gr(String(t.length)),t]))}var uh=x(14751),Ar=x.n(uh),mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof x.g<"u"?x.g:typeof self<"u"?self:{};function wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Si(t,e,r){return r={path:e,exports:{},require:function(n,i){return fh(n,i??r.path)}},t(r,r.exports),r.exports}function vm(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Em(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}function Sm(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function fh(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ic=xf;function xf(t,e){if(!t)throw new Error(e||"Assertion failed")}xf.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wr=Si(function(t,e){"use strict";var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var f=[];if(typeof a!="string"){for(var l=0;l<a.length;l++)f[l]=a[l]|0;return f}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var l=0;l<a.length;l+=2)f.push(parseInt(a[l]+a[l+1],16))}else for(var l=0;l<a.length;l++){var m=a.charCodeAt(l),S=m>>8,L=m&255;S?f.push(S,L):f.push(L)}return f}r.toArray=n;function i(a){return a.length===1?"0"+a:a}r.zero2=i;function s(a){for(var o="",f=0;f<a.length;f++)o+=i(a[f].toString(16));return o}r.toHex=s,r.encode=function(o,f){return f==="hex"?s(o):o}}),_r=Si(function(t,e){"use strict";var r=e;r.assert=ic,r.toArray=Wr.toArray,r.zero2=Wr.zero2,r.toHex=Wr.toHex,r.encode=Wr.encode;function n(f,l,m){var S=new Array(Math.max(f.bitLength(),m)+1);S.fill(0);for(var L=1<<l+1,j=f.clone(),z=0;z<S.length;z++){var Z,ue=j.andln(L-1);j.isOdd()?(ue>(L>>1)-1?Z=(L>>1)-ue:Z=ue,j.isubn(Z)):Z=0,S[z]=Z,j.iushrn(1)}return S}r.getNAF=n;function i(f,l){var m=[[],[]];f=f.clone(),l=l.clone();for(var S=0,L=0,j;f.cmpn(-S)>0||l.cmpn(-L)>0;){var z=f.andln(3)+S&3,Z=l.andln(3)+L&3;z===3&&(z=-1),Z===3&&(Z=-1);var ue;z&1?(j=f.andln(7)+S&7,(j===3||j===5)&&Z===2?ue=-z:ue=z):ue=0,m[0].push(ue);var Te;Z&1?(j=l.andln(7)+L&7,(j===3||j===5)&&z===2?Te=-Z:Te=Z):Te=0,m[1].push(Te),2*S===ue+1&&(S=1-S),2*L===Te+1&&(L=1-L),f.iushrn(1),l.iushrn(1)}return m}r.getJSF=i;function s(f,l,m){var S="_"+l;f.prototype[l]=function(){return this[S]!==void 0?this[S]:this[S]=m.call(this)}}r.cachedProperty=s;function a(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=a;function o(f){return new(st())(f,"hex","le")}r.intFromLE=o}),ma=_r.getNAF,dh=_r.getJSF,wa=_r.assert;function Pn(t,e){this.type=t,this.p=new(st())(e.p,16),this.red=e.prime?st().red(e.prime):st().mont(this.p),this.zero=new(st())(0).toRed(this.red),this.one=new(st())(1).toRed(this.red),this.two=new(st())(2).toRed(this.red),this.n=e.n&&new(st())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Yn=Pn;Pn.prototype.point=function(){throw new Error("Not implemented")},Pn.prototype.validate=function(){throw new Error("Not implemented")},Pn.prototype._fixedNafMul=function(e,r){wa(e.precomputed);var n=e._getDoubles(),i=ma(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var l=o+n.step-1;l>=o;l--)f=(f<<1)+i[l];a.push(f)}for(var m=this.jpoint(null,null,null),S=this.jpoint(null,null,null),L=s;L>0;L--){for(o=0;o<a.length;o++)f=a[o],f===L?S=S.mixedAdd(n.points[o]):f===-L&&(S=S.mixedAdd(n.points[o].neg()));m=m.add(S)}return m.toP()},Pn.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=ma(r,n,this._bitLength),o=this.jpoint(null,null,null),f=a.length-1;f>=0;f--){for(var l=0;f>=0&&a[f]===0;f--)l++;if(f>=0&&l++,o=o.dblp(l),f<0)break;var m=a[f];wa(m!==0),e.type==="affine"?m>0?o=o.mixedAdd(s[m-1>>1]):o=o.mixedAdd(s[-m-1>>1].neg()):m>0?o=o.add(s[m-1>>1]):o=o.add(s[-m-1>>1].neg())}return e.type==="affine"?o.toP():o},Pn.prototype._wnafMulAdd=function(e,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,f=this._wnafT3,l=0,m,S,L;for(m=0;m<i;m++){L=r[m];var j=L._getNAFPoints(e);a[m]=j.wnd,o[m]=j.points}for(m=i-1;m>=1;m-=2){var z=m-1,Z=m;if(a[z]!==1||a[Z]!==1){f[z]=ma(n[z],a[z],this._bitLength),f[Z]=ma(n[Z],a[Z],this._bitLength),l=Math.max(f[z].length,l),l=Math.max(f[Z].length,l);continue}var ue=[r[z],null,null,r[Z]];r[z].y.cmp(r[Z].y)===0?(ue[1]=r[z].add(r[Z]),ue[2]=r[z].toJ().mixedAdd(r[Z].neg())):r[z].y.cmp(r[Z].y.redNeg())===0?(ue[1]=r[z].toJ().mixedAdd(r[Z]),ue[2]=r[z].add(r[Z].neg())):(ue[1]=r[z].toJ().mixedAdd(r[Z]),ue[2]=r[z].toJ().mixedAdd(r[Z].neg()));var Te=[-3,-1,-5,-7,0,7,5,1,3],ze=dh(n[z],n[Z]);for(l=Math.max(ze[0].length,l),f[z]=new Array(l),f[Z]=new Array(l),S=0;S<l;S++){var He=ze[0][S]|0,Et=ze[1][S]|0;f[z][S]=Te[(He+1)*3+(Et+1)],f[Z][S]=0,o[z]=ue}}var wt=this.jpoint(null,null,null),Qt=this._wnafT4;for(m=l;m>=0;m--){for(var ir=0;m>=0;){var St=!0;for(S=0;S<i;S++)Qt[S]=f[S][m]|0,Qt[S]!==0&&(St=!1);if(!St)break;ir++,m--}if(m>=0&&ir++,wt=wt.dblp(ir),m<0)break;for(S=0;S<i;S++){var Kt=Qt[S];Kt!==0&&(Kt>0?L=o[S][Kt-1>>1]:Kt<0&&(L=o[S][-Kt-1>>1].neg()),L.type==="affine"?wt=wt.mixedAdd(L):wt=wt.add(L))}}for(m=0;m<i;m++)o[m]=null;return s?wt:wt.toP()};function Ur(t,e){this.curve=t,this.type=e,this.precomputed=null}Pn.BasePoint=Ur,Ur.prototype.eq=function(){throw new Error("Not implemented")},Ur.prototype.validate=function(){return this.curve.validate(this)},Pn.prototype.decodePoint=function(e,r){e=_r.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?wa(e[e.length-1]%2===0):e[0]===7&&wa(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},Ur.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ur.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},Ur.prototype.encode=function(e,r){return _r.encode(this._encode(r),e)},Ur.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Ur.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},Ur.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},Ur.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},Ur.prototype._getBeta=function(){return null},Ur.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var sc=Si(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),lh=_r.assert;function Or(t){Yn.call(this,"short",t),this.a=new(st())(t.a,16).toRed(this.red),this.b=new(st())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}sc(Or,Yn);var hh=Or;Or.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new(st())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new(st())(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],lh(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(st())(o.a,16),b:new(st())(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},Or.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:st().mont(e),n=new(st())(2).toRed(r).redInvm(),i=n.redNeg(),s=new(st())(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},Or.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new(st())(1),a=new(st())(0),o=new(st())(0),f=new(st())(1),l,m,S,L,j,z,Z,ue=0,Te,ze;n.cmpn(0)!==0;){var He=i.div(n);Te=i.sub(He.mul(n)),ze=o.sub(He.mul(s));var Et=f.sub(He.mul(a));if(!S&&Te.cmp(r)<0)l=Z.neg(),m=s,S=Te.neg(),L=ze;else if(S&&++ue===2)break;Z=Te,i=n,n=Te,o=s,s=ze,f=a,a=Et}j=Te.neg(),z=ze;var wt=S.sqr().add(L.sqr()),Qt=j.sqr().add(z.sqr());return Qt.cmp(wt)>=0&&(j=l,z=m),S.negative&&(S=S.neg(),L=L.neg()),j.negative&&(j=j.neg(),z=z.neg()),[{a:S,b:L},{a:j,b:z}]},Or.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),f=a.mul(i.a),l=s.mul(n.b),m=a.mul(i.b),S=e.sub(o).sub(f),L=l.add(m).neg();return{k1:S,k2:L}},Or.prototype.pointFromX=function(e,r){e=new(st())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},Or.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},Or.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),f=e[a],l=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),i[a*2]=f,i[a*2+1]=l,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var m=this._wnafMulAdd(1,i,s,a*2,n),S=0;S<a*2;S++)i[S]=null,s[S]=null;return m};function tr(t,e,r,n){Yn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(st())(e,16),this.y=new(st())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}sc(tr,Yn.BasePoint),Or.prototype.point=function(e,r,n){return new tr(this,e,r,n)},Or.prototype.pointFromJSON=function(e,r){return tr.fromJSON(this,e,r)},tr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},tr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},tr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},tr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},tr.prototype.isInfinity=function(){return this.inf},tr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},tr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},tr.prototype.getX=function(){return this.x.fromRed()},tr.prototype.getY=function(){return this.y.fromRed()},tr.prototype.mul=function(e){return e=new(st())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},tr.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},tr.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},tr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},tr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},tr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function or(t,e,r,n){Yn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(st())(0)):(this.x=new(st())(e,16),this.y=new(st())(r,16),this.z=new(st())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}sc(or,Yn.BasePoint),Or.prototype.jpoint=function(e,r,n){return new or(this,e,r,n)},or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},or.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),l=a.redSub(o);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=f.redSqr(),S=m.redMul(f),L=i.redMul(m),j=l.redSqr().redIAdd(S).redISub(L).redISub(L),z=l.redMul(L.redISub(j)).redISub(a.redMul(S)),Z=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(j,z,Z)},or.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=s.redSub(a);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),m=l.redMul(o),S=n.redMul(l),L=f.redSqr().redIAdd(m).redISub(S).redISub(S),j=f.redMul(S.redISub(L)).redISub(s.redMul(m)),z=this.z.redMul(o);return this.curve.jpoint(L,j,z)},or.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,f=this.z,l=f.redSqr().redSqr(),m=o.redAdd(o);for(r=0;r<e;r++){var S=a.redSqr(),L=m.redSqr(),j=L.redSqr(),z=S.redAdd(S).redIAdd(S).redIAdd(i.redMul(l)),Z=a.redMul(L),ue=z.redSqr().redISub(Z.redAdd(Z)),Te=Z.redISub(ue),ze=z.redMul(Te);ze=ze.redIAdd(ze).redISub(j);var He=m.redMul(f);r+1<e&&(l=l.redMul(j)),a=ue,f=He,m=ze}return this.curve.jpoint(a,m.redMul(s),f)},or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},or.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),l=f.redSqr().redISub(o).redISub(o),m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),e=l,r=f.redMul(o.redISub(l)).redISub(m),n=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),L=this.y.redSqr(),j=L.redSqr(),z=this.x.redAdd(L).redSqr().redISub(S).redISub(j);z=z.redIAdd(z);var Z=S.redAdd(S).redIAdd(S),ue=Z.redSqr(),Te=j.redIAdd(j);Te=Te.redIAdd(Te),Te=Te.redIAdd(Te),e=ue.redISub(z).redISub(z),r=Z.redMul(z.redISub(e)).redISub(Te),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},or.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=f.redSqr().redISub(o).redISub(o);e=l;var m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),r=f.redMul(o.redISub(l)).redISub(m),n=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),L=this.y.redSqr(),j=this.x.redMul(L),z=this.x.redSub(S).redMul(this.x.redAdd(S));z=z.redAdd(z).redIAdd(z);var Z=j.redIAdd(j);Z=Z.redIAdd(Z);var ue=Z.redAdd(Z);e=z.redSqr().redISub(ue),n=this.y.redAdd(this.z).redSqr().redISub(L).redISub(S);var Te=L.redSqr();Te=Te.redIAdd(Te),Te=Te.redIAdd(Te),Te=Te.redIAdd(Te),r=z.redMul(Z.redISub(e)).redISub(Te)}return this.curve.jpoint(e,r,n)},or.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),f=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var m=l.redMul(o),S=f.redSqr().redISub(m.redAdd(m)),L=m.redISub(S),j=o.redSqr();j=j.redIAdd(j),j=j.redIAdd(j),j=j.redIAdd(j);var z=f.redMul(L).redISub(j),Z=n.redAdd(n).redMul(i);return this.curve.jpoint(S,z,Z)},or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var f=o.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var m=s.redIAdd(o).redSqr().redISub(a).redISub(f).redISub(l),S=r.redMul(m);S=S.redIAdd(S),S=S.redIAdd(S);var L=this.x.redMul(f).redISub(S);L=L.redIAdd(L),L=L.redIAdd(L);var j=this.y.redMul(m.redMul(l.redISub(m)).redISub(o.redMul(f)));j=j.redIAdd(j),j=j.redIAdd(j),j=j.redIAdd(j);var z=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(L,j,z)},or.prototype.mul=function(e,r){return e=new(st())(e,r),this.curve._wnafMul(this,e)},or.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},or.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},or.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var va=Si(function(t,e){"use strict";var r=e;r.base=Yn,r.short=hh,r.mont=null,r.edwards=null}),Ea=Si(function(t,e){"use strict";var r=e,n=_r.assert;function i(o){o.type==="short"?this.curve=new va.short(o):o.type==="edwards"?this.curve=new va.edwards(o):this.curve=new va.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(o,f){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var l=new i(f);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ar().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ar().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ar().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ar().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ar().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ar().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Cn(t){if(!(this instanceof Cn))return new Cn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wr.toArray(t.entropy,t.entropyEnc||"hex"),r=Wr.toArray(t.nonce,t.nonceEnc||"hex"),n=Wr.toArray(t.pers,t.persEnc||"hex");ic(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var pf=Cn;Cn.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Cn.prototype._hmac=function(){return new(Ar()).hmac(this.hash,this.K)},Cn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Cn.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Wr.toArray(e,r),n=Wr.toArray(n,i),ic(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Cn.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Wr.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Wr.encode(a,r)};var ac=_r.assert;function ur(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var oc=ur;ur.fromPublic=function(e,r,n){return r instanceof ur?r:new ur(e,{pub:r,pubEnc:n})},ur.fromPrivate=function(e,r,n){return r instanceof ur?r:new ur(e,{priv:r,privEnc:n})},ur.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ur.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},ur.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ur.prototype._importPrivate=function(e,r){this.priv=new(st())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},ur.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?ac(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ac(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},ur.prototype.derive=function(e){return e.validate()||ac(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ur.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)},ur.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},ur.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var xh=_r.assert;function Sa(t,e){if(t instanceof Sa)return t;this._importDER(t,e)||(xh(t.r&&t.s,"Signature without r or s"),this.r=new(st())(t.r,16),this.s=new(st())(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Aa=Sa;function ph(){this.place=0}function cc(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function yf(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Sa.prototype._importDER=function(e,r){e=_r.toArray(e,r);var n=new ph;if(e[n.place++]!==48)return!1;var i=cc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cc(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=cc(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new(st())(a),this.s=new(st())(f),this.recoveryParam=null,!0};function uc(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Sa.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=yf(r),n=yf(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uc(i,r.length),i=i.concat(r),i.push(2),uc(i,n.length);var s=i.concat(n),a=[48];return uc(a,s.length),a=a.concat(s),_r.encode(a,e)};var yh=function(){throw new Error("unsupported")},bf=_r.assert;function Nr(t){if(!(this instanceof Nr))return new Nr(t);typeof t=="string"&&(bf(Object.prototype.hasOwnProperty.call(Ea,t),"Unknown curve "+t),t=Ea[t]),t instanceof Ea.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var bh=Nr;Nr.prototype.keyPair=function(e){return new oc(this,e)},Nr.prototype.keyFromPrivate=function(e,r){return oc.fromPrivate(this,e,r)},Nr.prototype.keyFromPublic=function(e,r){return oc.fromPublic(this,e,r)},Nr.prototype.genKeyPair=function(e){e||(e={});for(var r=new pf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||yh(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new(st())(2));;){var s=new(st())(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},Nr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},Nr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new(st())(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),f=new pf({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new(st())(1)),m=0;;m++){var S=i.k?i.k(m):new(st())(f.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(l)>=0)){var L=this.g.mul(S);if(!L.isInfinity()){var j=L.getX(),z=j.umod(this.n);if(z.cmpn(0)!==0){var Z=S.invm(this.n).mul(z.mul(r.getPrivate()).iadd(e));if(Z=Z.umod(this.n),Z.cmpn(0)!==0){var ue=(L.getY().isOdd()?1:0)|(j.cmp(z)!==0?2:0);return i.canonical&&Z.cmp(this.nh)>0&&(Z=this.n.sub(Z),ue^=1),new Aa({r:z,s:Z,recoveryParam:ue})}}}}}},Nr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new(st())(e,16)),n=this.keyFromPublic(n,i),r=new Aa(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),f=o.mul(e).umod(this.n),l=o.mul(s).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(f,n.getPublic(),l),m.isInfinity()?!1:m.eqXToP(s)):(m=this.g.mulAdd(f,n.getPublic(),l),m.isInfinity()?!1:m.getX().umod(this.n).cmp(s)===0)},Nr.prototype.recoverPubKey=function(t,e,r,n){bf((3&r)===r,"The recovery param is more than two bits"),e=new Aa(e,n);var i=this.n,s=new(st())(t),a=e.r,o=e.s,f=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),f):a=this.curve.pointFromX(a,f);var m=e.r.invm(i),S=i.sub(s).mul(m).umod(i),L=o.mul(m).umod(i);return this.g.mulAdd(S,a,L)},Nr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Aa(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var gh=Si(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=_r,r.rand=function(){throw new Error("unsupported")},r.curve=va,r.curves=Ea,r.ec=bh,r.eddsa=null}),mh=gh.ec;const wh="properties/5.7.0";var vh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const _a=new we(wh);function be(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function bs(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function hn(t){return vh(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Eh(t,e){(!t||typeof t!="object")&&_a.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||_a.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function kn(t){const e={};for(const r in t)e[r]=t[r];return e}const Sh={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function gf(t){if(t==null||Sh[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!gf(n))return!1}return!0}return _a.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ah(t){if(gf(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ai(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&be(e,r,Ai(n))}return e}return _a.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ai(t){return Ah(t)}class _i{constructor(e){for(const r in e)this[r]=Ai(e[r])}}const _h="signing-key/5.7.0",fc=new we(_h);let dc=null;function Yr(){return dc||(dc=new mh("secp256k1")),dc}class Ti{constructor(e){be(this,"curve","secp256k1"),be(this,"privateKey",De(e)),Ou(this.privateKey)!==32&&fc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Yr().keyFromPrivate(_e(this.privateKey));be(this,"publicKey","0x"+r.getPublic(!1,"hex")),be(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),be(this,"_isSigningKey",!0)}_addPoint(e){const r=Yr().keyFromPublic(_e(this.publicKey)),n=Yr().keyFromPublic(_e(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Yr().keyFromPrivate(_e(this.privateKey)),n=_e(e);n.length!==32&&fc.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return wi({recoveryParam:i.recoveryParam,r:wr("0x"+i.r.toString(16),32),s:wr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Yr().keyFromPrivate(_e(this.privateKey)),n=Yr().keyFromPublic(_e(wf(e)));return wr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function mf(t,e){const r=wi(e),n={r:_e(r.r),s:_e(r.s)};return"0x"+Yr().recoverPubKey(_e(t),n,r.recoveryParam).encode("hex",!1)}function wf(t,e){const r=_e(t);if(r.length===32){const n=new Ti(r);return e?"0x"+Yr().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?De(r):"0x"+Yr().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Yr().keyFromPublic(r).getPublic(!0,"hex"):De(r)}return fc.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Th="rlp/5.7.0",Qr=new we(Th);function vf(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Ef(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Sf(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Sf(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=vf(n.length);return i.unshift(247+i.length),i.concat(n)}Wo(t)||Qr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(_e(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=vf(e.length);return r.unshift(183+r.length),r.concat(e)}function gs(t){return De(Sf(t))}function Af(t,e,r,n){const i=[];for(;r<e+1+n;){const s=_f(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Qr.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _f(t,e){if(t.length===0&&Qr.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Qr.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=Ef(t,e+1,r);return e+1+r+n>t.length&&Qr.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),Af(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Qr.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),Af(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Qr.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=Ef(t,e+1,r);e+1+r+n>t.length&&Qr.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const i=hexlify(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Qr.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:hexlify(t[e])}}function Am(t){const e=arrayify(t),r=_f(e,0);return r.consumed!==e.length&&Qr.throwArgumentError("invalid rlp data","data",t),r.result}const Rh="address/5.7.0",In=new we(Rh);function Tf(t){Gt(t,20)||In.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=_e(er(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Ph=9007199254740991;function Ch(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const lc={};for(let t=0;t<10;t++)lc[String(t)]=String(t);for(let t=0;t<26;t++)lc[String.fromCharCode(65+t)]=String(10+t);const Rf=Math.floor(Ch(Ph));function Pf(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>lc[n]).join("");for(;e.length>=Rf;){let n=e.substring(0,Rf);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Mt(t){let e=null;if(typeof t!="string"&&In.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Tf(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&In.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Pf(t)&&In.throwArgumentError("bad icap checksum","address",t),e=El(t.substring(4));e.length<40;)e="0"+e;e=Tf("0x"+e)}else In.throwArgumentError("invalid address","address",t);return e}function _m(t){try{return Mt(t),!0}catch{}return!1}function Tm(t){let e=_base16To36(Mt(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Pf("XE00"+e)+e}function kh(t){let e=null;try{e=Mt(t.from)}catch{In.throwArgumentError("missing from address","transaction",t)}const r=dn(_e(Ve.from(t.nonce).toHexString()));return Mt(Vn(er(gs([e,r])),12))}function Rm(t,e,r){return hexDataLength(e)!==32&&In.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(r)!==32&&In.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Mt(hexDataSlice(keccak256(concat(["0xff",Mt(t),e,r])),12))}const Ih="transactions/5.7.0",fr=new we(Ih);var Cf;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Cf||(Cf={}));function hc(t){return t==="0x"?null:getAddress(t)}function dr(t){return t==="0x"?Zero:BigNumber.from(t)}const Bh=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Uh={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Bn(t){const e=wf(t);return Mt(Vn(er(Vn(e,1)),12))}function Ta(t,e){return Bn(mf(_e(t),e))}function Tr(t,e){const r=dn(Ve.from(t).toHexString());return r.length>32&&fr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function xc(t,e){return{address:Mt(t),storageKeys:(e||[]).map((r,n)=>(Ou(r)!==32&&fr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Ra(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&fr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),xc(r[0],r[1])):xc(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return xc(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function kf(t){return Ra(t).map(e=>[e.address,e.storageKeys])}function If(t,e){if(t.gasPrice!=null){const n=Ve.from(t.gasPrice),i=Ve.from(t.maxFeePerGas||0);n.eq(i)||fr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Tr(t.chainId||0,"chainId"),Tr(t.nonce||0,"nonce"),Tr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tr(t.maxFeePerGas||0,"maxFeePerGas"),Tr(t.gasLimit||0,"gasLimit"),t.to!=null?Mt(t.to):"0x",Tr(t.value||0,"value"),t.data||"0x",kf(t.accessList||[])];if(e){const n=wi(e);r.push(Tr(n.recoveryParam,"recoveryParam")),r.push(dn(n.r)),r.push(dn(n.s))}return Jn(["0x02",gs(r)])}function Bf(t,e){const r=[Tr(t.chainId||0,"chainId"),Tr(t.nonce||0,"nonce"),Tr(t.gasPrice||0,"gasPrice"),Tr(t.gasLimit||0,"gasLimit"),t.to!=null?Mt(t.to):"0x",Tr(t.value||0,"value"),t.data||"0x",kf(t.accessList||[])];if(e){const n=wi(e);r.push(Tr(n.recoveryParam,"recoveryParam")),r.push(dn(n.r)),r.push(dn(n.s))}return Jn(["0x01",gs(r)])}function Oh(t,e){Eh(t,Uh);const r=[];Bh.forEach(function(a){let o=t[a.name]||[];const f={};a.numeric&&(f.hexPad="left"),o=_e(De(o,f)),a.length&&o.length!==a.length&&o.length>0&&fr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=dn(o),o.length>a.maxLength&&fr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),r.push(De(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&fr.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Wo(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(De(n)),r.push("0x"),r.push("0x")),!e)return gs(r);const i=wi(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&fr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&fr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(De(s)),r.push(dn(_e(i.r))),r.push(dn(_e(i.s))),gs(r)}function Uf(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&fr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Oh(t,e);switch(t.type){case 1:return Bf(t,e);case 2:return If(t,e);default:break}return fr.throwError(`unsupported transaction type: ${t.type}`,we.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Of(t,e,r){try{const n=dr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{fr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=hexZeroPad(e[1],32),t.s=hexZeroPad(e[2],32);try{const n=keccak256(r(t));t.from=Ta(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Nh(t){const e=RLP.decode(t.slice(1));e.length!==9&&e.length!==12&&fr.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(t));const r=dr(e[2]),n=dr(e[3]),i={type:2,chainId:dr(e[0]).toNumber(),nonce:dr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:dr(e[4]),to:hc(e[5]),value:dr(e[6]),data:e[7],accessList:Ra(e[8])};return e.length===9||(i.hash=keccak256(t),Of(i,e.slice(9),If)),i}function Mh(t){const e=RLP.decode(t.slice(1));e.length!==8&&e.length!==11&&fr.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(t));const r={type:1,chainId:dr(e[0]).toNumber(),nonce:dr(e[1]).toNumber(),gasPrice:dr(e[2]),gasLimit:dr(e[3]),to:hc(e[4]),value:dr(e[5]),data:e[6],accessList:Ra(e[7])};return e.length===8||(r.hash=keccak256(t),Of(r,e.slice(8),Bf)),r}function Dh(t){const e=RLP.decode(t);e.length!==9&&e.length!==6&&fr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:dr(e[0]).toNumber(),gasPrice:dr(e[1]),gasLimit:dr(e[2]),to:hc(e[3]),value:dr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=BigNumber.from(e[6]).toNumber()}catch{return r}if(r.r=hexZeroPad(e[7],32),r.s=hexZeroPad(e[8],32),BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(hexlify(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=keccak256(RLP.encode(i));try{r.from=Ta(s,{r:hexlify(r.r),s:hexlify(r.s),recoveryParam:n})}catch{}r.hash=keccak256(t)}return r.type=null,r}function Pm(t){const e=arrayify(t);if(e[0]>127)return Dh(e);switch(e[0]){case 1:return Mh(e);case 2:return Nh(e);default:break}return fr.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Lh="abstract-provider/5.7.0";var Fh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const ms=new we(Lh);class Cm extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class km extends null{constructor(e,r){isHexString(e,32)||ms.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:r||0,blockHash:e})}}class Im extends null{constructor(e,r){isHexString(e,32)||ms.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:r||0,hash:e})}}class Bm extends null{constructor(e,r,n){isHexString(e,32)||ms.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(r,32)||ms.throwArgumentError("invalid transaction hash","afterHash",r),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:r})}}class Pa{constructor(){ms.checkAbstract(new.target,Pa),be(this,"_isProvider",!0)}getFeeData(){return Fh(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield hn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Hh="abstract-signer/5.7.0";var Vr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const Mr=new we(Hh),Kh=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],$h=[we.errors.INSUFFICIENT_FUNDS,we.errors.NONCE_EXPIRED,we.errors.REPLACEMENT_UNDERPRICED];class ws{constructor(){Mr.checkAbstract(new.target,ws),be(this,"_isSigner",!0)}getBalance(e){return Vr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Vr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Vr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield hn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Vr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield hn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Vr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Vr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Vr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Vr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Vr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Kh.indexOf(n)===-1&&Mr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=kn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Mr.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Vr(this,void 0,void 0,function*(){const r=yield hn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Vr(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Mr.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Mr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Mr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Mr.throwError("network does not support EIP-1559",we.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Mr.throwError("failed to get consistent fee data",we.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if($h.indexOf(i.code)>=0)throw i;return Mr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",we.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Mr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield hn(r)})}_checkProvider(e){this.provider||Mr.throwError("missing provider",we.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class pc extends ws{constructor(e,r){super(),be(this,"address",e),be(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Mr.throwError(e,we.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new pc(this.address,e)}}const zh="hash/5.7.0";function Qn(t){return er(Gr(t))}var qh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const Dt=new we(zh),Nf=new Uint8Array(32);Nf.fill(0);const jh=Ve.from(-1),Mf=Ve.from(0),Df=Ve.from(1),Gh=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Wh(t){const e=_e(t),r=e.length%32;return r?Jn([e,Nf.slice(r)]):De(e)}const Vh=wr(Df.toHexString(),32),Jh=wr(Mf.toHexString(),32),Lf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yc=["name","version","chainId","verifyingContract","salt"];function Ff(t){return function(e){return typeof e!="string"&&Dt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Xh={name:Ff("name"),version:Ff("version"),chainId:function(t){try{return Ve.from(t).toString()}catch{}return Dt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Mt(t).toLowerCase()}catch{}return Dt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=_e(t);if(e.length!==32)throw new Error("bad length");return De(e)}catch{}return Dt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function bc(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Dt.throwArgumentError("invalid numeric width","type",t);const i=Gh.mask(r?n-1:n),s=r?i.add(Df).mul(jh):Mf;return function(a){const o=Ve.from(a);return(o.lt(s)||o.gt(i))&&Dt.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),wr(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Dt.throwArgumentError("invalid bytes width","type",t),function(n){return _e(n).length!==r&&Dt.throwArgumentError(`invalid length for ${t}`,"value",n),Wh(n)}}}switch(t){case"address":return function(e){return wr(Mt(e),32)};case"bool":return function(e){return e?Vh:Jh};case"bytes":return function(e){return er(e)};case"string":return function(e){return Qn(e)}}return null}function Hf(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Er{constructor(e){be(this,"types",Object.freeze(Ai(e))),be(this,"_encoderCache",{}),be(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const f={};e[o].forEach(l=>{f[l.name]&&Dt.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(o)}`,"types",e),f[l.name]=!0;const m=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];m===o&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),!bc(m)&&(n[m]||Dt.throwArgumentError(`unknown type ${JSON.stringify(m)}`,"types",e),n[m].push(o),r[o][m]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?Dt.throwArgumentError("missing primary type","types",e):s.length>1&&Dt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),be(this,"primaryType",s[0]);function a(o,f){f[o]&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),f[o]=!0,Object.keys(r[o]).forEach(l=>{n[l]&&(a(l,f),Object.keys(f).forEach(m=>{i[m][l]=!0}))}),delete f[o]}a(this.primaryType,{});for(const o in i){const f=Object.keys(i[o]);f.sort(),this._types[o]=Hf(o,e[o])+f.map(l=>Hf(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=bc(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return o=>{a>=0&&o.length!==a&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let f=o.map(s);return this._types[i]&&(f=f.map(er)),er(Jn(f))}}const n=this.types[e];if(n){const i=Qn(this._types[e]);return s=>{const a=n.map(({name:o,type:f})=>{const l=this.getEncoder(f)(s[o]);return this._types[f]?er(l):l});return a.unshift(i),Jn(a)}}return Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Dt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return er(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(bc(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(a,f,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:f})=>(a[o]=this._visit(f,r[o],n),a),{}):Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Er(e)}static getPrimaryType(e){return Er.from(e).primaryType}static hashStruct(e,r,n){return Er.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Lf[n];i||Dt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>yc.indexOf(n.name)-yc.indexOf(i.name)),Er.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Jn(["0x1901",Er.hashDomain(e),Er.from(r).hash(n)])}static hash(e,r,n){return er(Er.encode(e,r,n))}static resolveNames(e,r,n,i){return qh(this,void 0,void 0,function*(){e=kn(e);const s={};e.verifyingContract&&!Gt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Er.from(r);a.visit(n,(o,f)=>(o==="address"&&!Gt(f,20)&&(s[f]="0x"),f));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,f)=>o==="address"&&s[f]?s[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){Er.hashDomain(e);const i={},s=[];yc.forEach(f=>{const l=e[f];l!=null&&(i[f]=Xh[f](l),s.push({name:f,type:Lf[f]}))});const a=Er.from(r),o=kn(r);return o.EIP712Domain?Dt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(f,l)=>{if(f.match(/^bytes(\d*)/))return De(_e(l));if(f.match(/^u?int/))return Ve.from(l).toString();switch(f){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Dt.throwArgumentError("invalid string","value",l),l}return Dt.throwArgumentError("unsupported type","type",f)})}}}class Kf{constructor(e){be(this,"alphabet",e),be(this,"base",e.length),be(this,"_alphabetMap",{}),be(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=_e(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return _e(new Uint8Array(r.reverse()))}}const Um=new Kf("abcdefghijklmnopqrstuvwxyz234567"),$f=new Kf("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var vs;(function(t){t.sha256="sha256",t.sha512="sha512"})(vs||(vs={}));const Zh="sha2/5.7.0",Yh=new we(Zh);function Qh(t){return"0x"+Ar().ripemd160().update(_e(t)).digest("hex")}function Es(t){return"0x"+Ar().sha256().update(_e(t)).digest("hex")}function Om(t){return"0x"+hash.sha512().update(arrayify(t)).digest("hex")}function Ca(t,e,r){return vs[t]||Yh.throwError("unsupported algorithm "+t,we.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ar().hmac(Ar()[t],_e(e)).update(_e(r)).digest("hex")}function gc(t,e,r,n,i){t=_e(t),e=_e(e);let s,a=1;const o=new Uint8Array(n),f=new Uint8Array(e.length+4);f.set(e);let l,m;for(let S=1;S<=a;S++){f[e.length]=S>>24&255,f[e.length+1]=S>>16&255,f[e.length+2]=S>>8&255,f[e.length+3]=S&255;let L=_e(Ca(i,t,f));s||(s=L.length,m=new Uint8Array(s),a=Math.ceil(n/s),l=n-(a-1)*s),m.set(L);for(let Z=1;Z<r;Z++){L=_e(Ca(i,t,L));for(let ue=0;ue<s;ue++)m[ue]^=L[ue]}const j=(S-1)*s,z=S===a?l:s;o.set(_e(m).slice(0,z),j)}return De(o)}const ex="wordlists/5.7.0",tx=!1,rx=new we(ex);class Ss{constructor(e){rx.checkAbstract(new.target,Ss),be(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Qn(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),tx)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||be(n._ethers.wordlists,r,e))}catch{}}}const nx="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let As=null;function zf(t){if(As==null&&(As=nx.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ss.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw As=null,new Error("BIP39 Wordlist for en (English) FAILED")}class ix extends Ss{constructor(){super("en")}getWord(e){return zf(this),As[e]}getWordIndex(e){return zf(this),As.indexOf(e)}}const qf=new ix;Ss.register(qf);const jf={en:qf},sx="hdnode/5.7.0",_s=new we(sx),ax=Ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ox=Gr("Bitcoin seed"),Ri=2147483648;function Gf(t){return(1<<t)-1<<8-t}function cx(t){return(1<<t)-1}function ka(t){return wr(De(t),32)}function Wf(t){return $f.encode(mr([t,Vn(Es(Es(t)),0,4)]))}function mc(t){if(t==null)return jf.en;if(typeof t=="string"){const e=jf[t];return e==null&&_s.throwArgumentError("unknown locale","wordlist",t),e}return t}const Pi={},Ts="m/44'/60'/0'/0/0";class Dr{constructor(e,r,n,i,s,a,o,f){if(e!==Pi)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new Ti(r);be(this,"privateKey",l.privateKey),be(this,"publicKey",l.compressedPublicKey)}else be(this,"privateKey",null),be(this,"publicKey",De(n));be(this,"parentFingerprint",i),be(this,"fingerprint",Vn(Qh(Es(this.publicKey)),0,4)),be(this,"address",Bn(this.publicKey)),be(this,"chainCode",s),be(this,"index",a),be(this,"depth",o),f==null?(be(this,"mnemonic",null),be(this,"path",null)):typeof f=="string"?(be(this,"mnemonic",null),be(this,"path",f)):(be(this,"mnemonic",f),be(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Wf(mr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",De(this.depth),this.parentFingerprint,wr(De(this.index),4),this.chainCode,this.privateKey!=null?mr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Dr(Pi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Ri));const n=new Uint8Array(37);if(e&Ri){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(_e(this.privateKey),1),r&&(r+="'")}else n.set(_e(this.publicKey));for(let S=24;S>=0;S-=8)n[33+(S>>3)]=e>>24-S&255;const i=_e(Ca(vs.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,f=null;this.privateKey?o=ka(Ve.from(s).add(this.privateKey).mod(ax)):f=new Ti(De(s))._addPoint(this.publicKey);let l=r;const m=this.mnemonic;return m&&(l=Object.freeze({phrase:m.phrase,path:r,locale:m.locale||"en"})),new Dr(Pi,o,f,this.fingerprint,ka(a),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=Ri)throw new Error("invalid path index - "+s);n=n._derive(Ri+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=Ri)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=_e(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=_e(Ca(vs.sha512,ox,n));return new Dr(Pi,ka(i.slice(0,32)),null,"0x00000000",ka(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=mc(n),e=vc(wc(e,n),n),Dr._fromSeed(ux(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Dr._fromSeed(e,null)}static fromExtendedKey(e){const r=$f.decode(e);(r.length!==82||Wf(r.slice(0,78))!==e)&&_s.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=De(r.slice(5,9)),s=parseInt(De(r.slice(9,13)).substring(2),16),a=De(r.slice(13,45)),o=r.slice(45,78);switch(De(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Dr(Pi,null,De(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Dr(Pi,De(o.slice(1)),null,i,a,s,n,null)}return _s.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function ux(t,e){e||(e="");const r=Gr("mnemonic"+e,Rn.NFKD);return gc(Gr(t,Rn.NFKD),r,2048,64,"sha512")}function wc(t,e){e=mc(e),_s.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=_e(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let m=e.getWordIndex(r[l].normalize("NFKD"));if(m===-1)throw new Error("invalid mnemonic");for(let S=0;S<11;S++)m&1<<10-S&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,a=r.length/3,o=Gf(a);if((_e(Es(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return De(n.slice(0,s/8))}function vc(t,e){if(e=mc(e),t=_e(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&cx(8-n)),n+=3);const i=t.length/4,s=_e(Es(t))[0]&Gf(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}function Nm(t,e){try{return wc(t,e),!0}catch{}return!1}function Mm(t){return(typeof t!="number"||t<0||t>=Ri||t%1)&&_s.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const fx="random/5.7.0",Ec=new we(fx);function dx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof x.g<"u")return x.g;throw new Error("unable to locate global object")}const Vf=dx();let Ia=Vf.crypto||Vf.msCrypto;(!Ia||!Ia.getRandomValues)&&(Ec.warn("WARNING: Missing strong random number source"),Ia={getRandomValues:function(t){return Ec.throwError("no secure random source avaialble",we.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Rs(t){(t<=0||t>1024||t%1||t!=t)&&Ec.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Ia.getRandomValues(e),_e(e)}var lx=x(39556),en=x.n(lx),hx=x(9495),Sc=x.n(hx);function ei(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_e(t)}function Ps(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Ac(t){return typeof t=="string"?Gr(t,Rn.NFKC):_e(t)}function Wt(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}function xx(t){const e=_e(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=De(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Jf="json-wallets/5.7.0";var px=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const _c=new we(Jf);function Xf(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class yx extends _i{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function bx(t,e,r){if(Wt(t,"crypto/cipher")==="aes-128-ctr"){const i=ei(Wt(t,"crypto/cipherparams/iv")),s=new(en()).Counter(i),a=new(en()).ModeOfOperation.ctr(e,s);return _e(a.decrypt(r))}return null}function Zf(t,e){const r=ei(Wt(t,"crypto/ciphertext"));if(De(er(mr([e.slice(16,32),r]))).substring(2)!==Wt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=bx(t,e.slice(0,16),r);i||_c.throwError("unsupported cipher",we.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=Bn(i);if(t.address){let f=t.address.toLowerCase();if(f.substring(0,2)!=="0x"&&(f="0x"+f),Mt(f)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:De(i)};if(Wt(t,"x-ethers/version")==="0.1"){const f=ei(Wt(t,"x-ethers/mnemonicCiphertext")),l=ei(Wt(t,"x-ethers/mnemonicCounter")),m=new(en()).Counter(l),S=new(en()).ModeOfOperation.ctr(s,m),L=Wt(t,"x-ethers/path")||Ts,j=Wt(t,"x-ethers/locale")||"en",z=_e(S.decrypt(f));try{const Z=vc(z,j),ue=Dr.fromMnemonic(Z,null,j).derivePath(L);if(ue.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=ue.mnemonic}catch(Z){if(Z.code!==we.errors.INVALID_ARGUMENT||Z.argument!=="wordlist")throw Z}}return new yx(o)}function Yf(t,e,r,n,i){return _e(gc(t,e,r,n,i))}function gx(t,e,r,n,i){return Promise.resolve(Yf(t,e,r,n,i))}function Qf(t,e,r,n,i){const s=Ac(e),a=Wt(t,"crypto/kdf");if(a&&typeof a=="string"){const o=function(f,l){return _c.throwArgumentError("invalid key-derivation function parameters",f,l)};if(a.toLowerCase()==="scrypt"){const f=ei(Wt(t,"crypto/kdfparams/salt")),l=parseInt(Wt(t,"crypto/kdfparams/n")),m=parseInt(Wt(t,"crypto/kdfparams/r")),S=parseInt(Wt(t,"crypto/kdfparams/p"));(!l||!m||!S)&&o("kdf",a),l&l-1&&o("N",l);const L=parseInt(Wt(t,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),n(s,f,l,m,S,64,i)}else if(a.toLowerCase()==="pbkdf2"){const f=ei(Wt(t,"crypto/kdfparams/salt"));let l=null;const m=Wt(t,"crypto/kdfparams/prf");m==="hmac-sha256"?l="sha256":m==="hmac-sha512"?l="sha512":o("prf",m);const S=parseInt(Wt(t,"crypto/kdfparams/c")),L=parseInt(Wt(t,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),r(s,f,S,L,l)}}return _c.throwArgumentError("unsupported key-derivation function","kdf",a)}function mx(t,e){const r=JSON.parse(t),n=Qf(r,e,Yf,Sc().syncScrypt);return Zf(r,n)}function wx(t,e,r){return px(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Qf(n,e,gx,Sc().scrypt,r);return Zf(n,i)})}function vx(t,e,r,n){try{if(Mt(t.address)!==Bn(t.privateKey))throw new Error("address/privateKey mismatch");if(Xf(t)){const ue=t.mnemonic;if(Dr.fromMnemonic(ue.phrase,null,ue.locale).derivePath(ue.path||Ts).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(ue){return Promise.reject(ue)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=_e(t.privateKey),s=Ac(e);let a=null,o=null,f=null;if(Xf(t)){const ue=t.mnemonic;a=_e(wc(ue.phrase,ue.locale||"en")),o=ue.path||Ts,f=ue.locale||"en"}let l=r.client;l||(l="ethers.js");let m=null;r.salt?m=_e(r.salt):m=Rs(32);let S=null;if(r.iv){if(S=_e(r.iv),S.length!==16)throw new Error("invalid iv")}else S=Rs(16);let L=null;if(r.uuid){if(L=_e(r.uuid),L.length!==16)throw new Error("invalid uuid")}else L=Rs(16);let j=1<<17,z=8,Z=1;return r.scrypt&&(r.scrypt.N&&(j=r.scrypt.N),r.scrypt.r&&(z=r.scrypt.r),r.scrypt.p&&(Z=r.scrypt.p)),Sc().scrypt(s,m,j,z,Z,64,n).then(ue=>{ue=_e(ue);const Te=ue.slice(0,16),ze=ue.slice(16,32),He=ue.slice(32,64),Et=new(en()).Counter(S),wt=new(en()).ModeOfOperation.ctr(Te,Et),Qt=_e(wt.encrypt(i)),ir=er(mr([ze,Qt])),St={address:t.address.substring(2).toLowerCase(),id:xx(L),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:De(S).substring(2)},ciphertext:De(Qt).substring(2),kdf:"scrypt",kdfparams:{salt:De(m).substring(2),n:j,dklen:32,p:Z,r:z},mac:ir.substring(2)}};if(a){const Kt=Rs(16),gr=new(en()).Counter(Kt),Bt=new(en()).ModeOfOperation.ctr(He,gr),on=_e(Bt.encrypt(a)),Ye=new Date,Ut=Ye.getUTCFullYear()+"-"+Ps(Ye.getUTCMonth()+1,2)+"-"+Ps(Ye.getUTCDate(),2)+"T"+Ps(Ye.getUTCHours(),2)+"-"+Ps(Ye.getUTCMinutes(),2)+"-"+Ps(Ye.getUTCSeconds(),2)+".0Z";St["x-ethers"]={client:l,gethFilename:"UTC--"+Ut+"--"+St.address,mnemonicCounter:De(Kt).substring(2),mnemonicCiphertext:De(on).substring(2),path:o,locale:f,version:"0.1"}}return JSON.stringify(St)})}const Ex=new we(Jf);class Sx extends _i{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function ed(t,e){const r=JSON.parse(t);e=Ac(e);const n=Mt(Wt(r,"ethaddr")),i=ei(Wt(r,"encseed"));(!i||i.length%16!==0)&&Ex.throwArgumentError("invalid encseed","json",t);const s=_e(gc(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),f=new(en()).ModeOfOperation.cbc(s,a),l=en().padding.pkcs7.strip(_e(f.decrypt(o)));let m="";for(let j=0;j<l.length;j++)m+=String.fromCharCode(l[j]);const S=Gr(m),L=er(S);return new Sx({_isCrowdsaleAccount:!0,address:n,privateKey:L})}function Tc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Rc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Dm(t){if(Tc(t))try{return getAddress(JSON.parse(t).ethaddr)}catch{return null}if(Rc(t))try{return getAddress(JSON.parse(t).address)}catch{return null}return null}function Ax(t,e,r){if(Tc(t)){r&&r(0);const n=ed(t,e);return r&&r(1),Promise.resolve(n)}return Rc(t)?wx(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function _x(t,e){if(Tc(t))return ed(t,e);if(Rc(t))return mx(t,e);throw new Error("invalid JSON wallet")}const Tx="wallet/5.7.0";var td=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const Ci=new we(Tx);function Rx(t){return t!=null&&Gt(t.privateKey,32)&&t.address!=null}function Px(t){const e=t.mnemonic;return e&&e.phrase}class Un extends ws{constructor(e,r){if(super(),Rx(e)){const n=new Ti(e.privateKey);if(be(this,"_signingKey",()=>n),be(this,"address",Bn(this.publicKey)),this.address!==Mt(e.address)&&Ci.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Px(e)){const i=e.mnemonic;be(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Ts,locale:i.locale||"en"}));const s=this.mnemonic,a=Dr.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Bn(a.privateKey)!==this.address&&Ci.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else be(this,"_mnemonic",()=>null)}else{if(Ti.isSigningKey(e))e.curve!=="secp256k1"&&Ci.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),be(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Ti(e);be(this,"_signingKey",()=>n)}be(this,"_mnemonic",()=>null),be(this,"address",Bn(this.publicKey))}r&&!Pa.isProvider(r)&&Ci.throwArgumentError("invalid provider","provider",r),be(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Un(this,e)}signTransaction(e){return hn(e).then(r=>{r.from!=null&&(Mt(r.from)!==this.address&&Ci.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(er(Uf(r)));return Uf(r,n)})}signMessage(e){return td(this,void 0,void 0,function*(){return Nu(this._signingKey().signDigest(ga(e)))})}_signTypedData(e,r,n){return td(this,void 0,void 0,function*(){const i=yield Er.resolveNames(e,r,n,s=>(this.provider==null&&Ci.throwError("cannot resolve ENS names without a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Nu(this._signingKey().signDigest(Er.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),vx(this,e,r,n)}static createRandom(e){let r=Rs(16);e||(e={}),e.extraEntropy&&(r=_e(Vn(er(mr([r,e.extraEntropy])),0,16)));const n=vc(r,e.locale);return Un.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Ax(e,r,n).then(i=>new Un(i))}static fromEncryptedJsonSync(e,r){return new Un(_x(e,r))}static fromMnemonic(e,r,n){return r||(r=Ts),new Un(Dr.fromMnemonic(e,null,n).derivePath(r))}}function Cx(t,e){return Ta(ga(t),e)}function rd(t,e,r,n){return Ta(Er.hash(t,e,r),n)}var nd=x(55872).Buffer;class kx{constructor(e){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",It[yt.ETHEREUM].pubLength);O(this,"signatureLength",It[yt.ETHEREUM].sigLength);O(this,"signatureType",yt.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",r=await this.signer.signMessage(e),n=await ga(e),i=mf(_e(n),r);this.publicKey=nd.from(_e(i))}async sign(e){this.publicKey||await this.setPublicKey();const r=await this.signer.signMessage(e);return nd.from(r.slice(2),"hex")}static verify(e,r,n){const i=Bn(e);return Cx(r,n)===i}}var Lm=null,Cs=x(31511);class Pc extends ls{get publicKey(){return Cs.decode(this.pk)}get key(){return Cs.decode(this._key)}constructor(e){const r=Cs.decode(e);super(Cs.encode(r.subarray(0,32)),Cs.encode(r.subarray(32,64)))}}var Ba=x(85323),Rr=x(55872),Ix=x(41389);function Cc(t){return t=id(t),Ix("keccak256").update(t).digest()}function id(t){if(!Rr.Buffer.isBuffer(t))if(Array.isArray(t))t=Rr.Buffer.from(t);else if(typeof t=="string")sd(t)?t=Rr.Buffer.from(kc(ad(t)),"hex"):t=Rr.Buffer.from(t);else if(typeof t=="number")t=cd(t);else if(t==null)t=Rr.Buffer.allocUnsafe(0);else if(os.isBN(t))t=t.toArrayLike(Rr.Buffer);else if(t.toArray)t=Rr.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function sd(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function kc(t){if(typeof t!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function ad(t){return typeof t!="string"?t:od(t)?t.slice(2):t}function od(t){if(typeof t!="string")throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function cd(t){const e=ud(t);return Rr.Buffer.from(kc(e.slice(2)),"hex")}function ud(t){return`0x${t.toString(16)}`}typeof window<"u"&&(window.keccak256=Cc);var Ic=Cc;const Bx={intToBuffer:cd,intToHex:ud,isHexPrefixed:od,stripHexPrefix:ad,padToEven:kc,isHexString:sd,toBuffer:id};var Ua=x(55872).Buffer;class fd{constructor(e,r){O(this,"_key");O(this,"ownerLength",It[yt.ETHEREUM].pubLength);O(this,"signatureLength",It[yt.ETHEREUM].sigLength);O(this,"signatureType",yt.ETHEREUM);O(this,"pk");this._key=e,this.pk=r.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Ua.from(this._key,"hex")}static async verify(e,r,n){let i=e;typeof e=="string"&&(i=ct.toBuffer(e));let s=!1;try{s=Ba.ecdsaVerify(n,Ic(Ua.from(r)),i)}catch{}return s}async sign(e){return Ba.ecdsaSign(Ic(Ua.from(e)),Ua.from(this.key)).signature}}var Oa=x(55872).Buffer;class Na extends fd{get publicKey(){return Oa.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const r=Oa.from(e,"hex"),n=Ba.publicKeyCreate(r,!1);super(e,Oa.from(n))}async sign(e){return new Un(this._key).signMessage(e).then(n=>Oa.from(n.slice(2),"hex"))}static async verify(e,r,n){return Ba.ecdsaVerify(n.length===65?n.slice(0,-1):n,_e(ga(r)),typeof e=="string"?ct.toBuffer(e):e)}}class Ux extends Na{}class Bc extends Pc{constructor(e){super(e.replace("ed25519:",""))}}var dd=x(55872).Buffer;class Ox extends ls{get publicKey(){return dd.from(this.pk)}get key(){return dd.from(this._key)}constructor(e,r){super(e.subarray(0,32),r)}}var Ma=x(55872).Buffer;class Da extends ff{constructor(r){super(r);O(this,"signatureType",4)}async sign(r){return super.sign(Ma.from(Ma.from(r).toString("hex")))}static async verify(r,n,i){return super.verify(r,Ma.from(Ma.from(n).toString("hex")),i)}}var La=x(55872).Buffer;class Nx extends Pc{constructor(r){super(r);O(this,"signatureType",4)}async sign(r){return super.sign(La.from(La.from(r).toString("hex")))}static async verify(r,n,i){return super.verify(r,La.from(La.from(n).toString("hex")),i)}}var ld=x(55872).Buffer;class Mx extends ls{constructor(e,r){super(e,r)}get publicKey(){return ld.from(this.pk.slice(2),"hex")}get key(){return ld.from(this._key.slice(2),"hex")}}var ki=x(55872).Buffer;class Fa{constructor(e,r){O(this,"_publicKey");O(this,"ownerLength",It[yt.INJECTEDAPTOS].pubLength);O(this,"signatureLength",It[yt.INJECTEDAPTOS].sigLength);O(this,"signatureType",yt.INJECTEDAPTOS);O(this,"pem");O(this,"provider");this.provider=e,this._publicKey=r}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const r=await this.provider.signMessage({message:ki.from(e).toString("hex"),nonce:"bundlr"});return ki.from(r.signature,"hex")}static async verify(e,r,n){const i=e;return(0,fs.T)(ki.from(n),ki.from(`APTOS
message: ${ki.from(r).toString("hex")}
nonce: bundlr`),ki.from(i))}}var Ha=x(55872).Buffer;class hd{constructor(e,r){O(this,"_publicKey");O(this,"ownerLength",It[yt.MULTIAPTOS].pubLength);O(this,"signatureLength",It[yt.MULTIAPTOS].sigLength);O(this,"signatureType",yt.MULTIAPTOS);O(this,"collectSignatures");O(this,"provider");this._publicKey=e,this.collectSignatures=r}get publicKey(){return this._publicKey}async sign(e){const{signatures:r,bitmap:n}=await this.collectSignatures(e),i=128,s=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(l=>{if(l>=32)throw new Error(`Invalid bit value ${l}.`);if(a.has(l))throw new Error("Duplicated bits detected.");a.add(l);const m=Math.floor(l/8);let S=s[m];S|=i>>l%8,s[m]=S});const o=Ha.alloc(this.signatureLength);let f=0;for(let l=0;l<32;l++)n.includes(l)&&o.set(r[f++],l*64);return o.set(s,this.signatureLength-4),o}static async verify(e,r,n){const s=It[yt.MULTIAPTOS].sigLength-4,a=n.slice(0,s),o=n.slice(s);let f=!1;for(let l=0;l<32;l++){const m=Math.floor(l/8),S=l-m*8;if((o[m]&128>>S)!==0){const j=a.slice(l*64,(l+1)*64),z=e.slice(l*32,(l+1)*32);await(0,fs.T)(Ha.from(j),Ha.from(r),Ha.from(z))||(f=!0)}}return!f}}var xd=x(55872).Buffer;class pd extends Na{constructor(r){super(r);O(this,"ownerLength",It[yt.TYPEDETHEREUM].pubLength);O(this,"signatureLength",It[yt.TYPEDETHEREUM].sigLength);O(this,"signatureType",yt.TYPEDETHEREUM);O(this,"address");O(this,"signer");this.address="0x"+Ic(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new Un(r)}get publicKey(){return xd.from(this.address)}async sign(r){const n=await this.signer._signTypedData(Ka,$a,{address:this.address,"Transaction hash":r});return xd.from(n.slice(2),"hex")}static async verify(r,n,i){const s=r.toString(),a=rd(Ka,$a,{address:s,"Transaction hash":n},i);return s.toLowerCase()===a.toLowerCase()}}const Ka={name:"Bundlr",version:"1"},$a={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},Fm="Bundlr(bytes Transaction hash, address address)",Hm="EIP712Domain(string name,string version)";var yd=x(55872).Buffer;class Uc{constructor(e){O(this,"ownerLength",It[yt.TYPEDETHEREUM].pubLength);O(this,"signatureLength",It[yt.TYPEDETHEREUM].sigLength);O(this,"signatureType",yt.TYPEDETHEREUM);O(this,"address");O(this,"signer");O(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=yd.from(this.address)}async sign(e){const r=await this.signer._signTypedData(Ka,$a,{address:this.address,"Transaction hash":e});return yd.from(r.slice(2),"hex")}static verify(e,r,n){const i=e.toString(),s=rd(Ka,$a,{address:i,"Transaction hash":r},n);return i.toLowerCase()===s.toLowerCase()}}var Km=null;class Dx{constructor(e,r){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",It[yt.ARWEAVE].pubLength);O(this,"signatureLength",It[yt.ARWEAVE].sigLength);O(this,"signatureType",yt.ARWEAVE);O(this,"arweave");this.signer=e,this.arweave=r}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=ct.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const r={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,r);return new Uint8Array(Object.values(n).map(s=>+s))}static async verify(e,r,n){return await ar().verify(e,r,n)}}const Oc={1:ba,2:ls,3:Na,4:Da,5:Fa,6:hd,7:pd};async function Lx(t){return vi([mt("dataitem"),mt("1"),mt(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}var Nc=Lx;function ks(t,e){const r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(t*8)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let n=0;n<r.length;n++){const i=e&255;r[n]=i,e=(e-i)/256}return r}function Mc(t){return ks(8,t)}function bd(t){return ks(2,t)}function Fx(t){return ks(16,t)}function Dc(t){return ks(32,t)}function Yt(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}var za=x(55872).Buffer;class Lc{constructor(e=za.alloc(Hc),r=0){O(this,"buf");O(this,"pos");this.buf=e,this.pos=r}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const r=e.length;let n;if(r)for(this.writeLong(r),n=0;n<r;n++){const i=e[n];if(typeof(i==null?void 0:i.name)!="string"||typeof(i==null?void 0:i.value)!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){const e=za.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const r=this.buf;let n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do r[this.pos]=i&127,i>>=7;while(i&&(r[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do r[this.pos]=n&127,n/=128;while(n>=1&&(r[this.pos++]|=128))}this.pos++,this.buf=r}writeString(e){const r=za.byteLength(e),n=this.buf;this.writeLong(r);let i=this.pos;if(this.pos+=r,!(this.pos>n.length)){if(r>64)this.buf.write(e,this.pos-r,r,"utf8");else{let s,a,o,f;for(s=0,a=r;s<a;s++)o=e.charCodeAt(s),o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=o&63|128):(o&64512)===55296&&((f=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(f&1023),s++,n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=o&63|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=o&63|128)}this.buf=n}}readLong(){let e=0,r=0;const n=this.buf;let i,s,a,o;do i=n[this.pos++],s=i&128,e|=(i&127)<<r,r+=7;while(s&&r<28);if(s){a=e,o=268435456;do i=n[this.pos++],a+=(i&127)*o,o*=128;while(i&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let r;for(;r=this.readLong();)for(r<0&&(r=-r,this.skipLong());r--;){const n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){const e=this.readLong(),r=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(r,r+e).toString()}}function gd(t){if((t==null?void 0:t.length)===0)return za.allocUnsafe(0);const e=new Lc;return e.writeTags(t),e.toBuffer()}function qa(t){return new Lc(t).readTags()}const Fc=80,Hc=4096;class Ii{constructor(e){O(this,"binary");O(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=Yt(this.binary.subarray(0,2));if((yt==null?void 0:yt[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Ii.verify(this.binary)}get id(){return ct.encode(this.rawId)}set id(e){this._id=ct.toBuffer(e)}get rawId(){return(0,fn.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return ct.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return It[this.signatureType].sigLength}get owner(){return ct.encode(this.rawOwner)}get ownerLength(){return It[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Rr.Buffer.alloc(0)}get target(){return ct.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Rr.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),r=Yt(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+r)}get tags(){const e=this.getTagsStart();if(Yt(this.binary.subarray(e,e+8))==0)return[];const n=Yt(this.binary.subarray(e+8,e+16));return qa(Rr.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(r=>({name:ct.encode(r.name),value:ct.encode(r.value)}))}getStartOfData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=Yt(r);return e+16+n}get rawData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=Yt(r),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return ct.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Kc(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Rr.Buffer.from(await ar().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:ct.encode(e.name),value:ct.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<Fc)return!1;const r=new Ii(e),n=r.signatureType,i=r.getTagsStart(),s=Yt(e.subarray(i,i+8)),a=e.subarray(i+8,i+16),o=Yt(a);if(o>Hc)return!1;if(s>0)try{if(qa(Rr.Buffer.from(e.subarray(i+16,i+16+o))).length!==s)return!1}catch{return!1}const f=Oc[n],l=await Nc(r);return await f.verify(r.rawOwner,l,r.rawSignature)}async getSignatureData(){return Nc(this)}getTagsStart(){const e=this.getTargetStart(),r=this.binary[e]==1;let n=e+(r?33:1);const i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const r=this.binary[this.getTargetStart()]==1;return e+=r?32:0,e}}var ja=Ii,Hx=x(55872).Buffer;const tn=32;class md{constructor(e){O(this,"length");O(this,"items");O(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let r=tn;r<tn+64*this.length;r+=64)e.push(Yt(this.binary.subarray(r,r+32)));return e}getIds(){const e=[];for(let r=tn;r<tn+64*this.length;r+=64){const n=this.binary.subarray(r+32,r+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(ct.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const r=64+64*e;return ct.encode(this.binary.subarray(r,r+32))}async toTransaction(e,r,n){const i=await r.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const e of this.items){const r=await e.isValid(),n=ct((0,fn.createHash)("sha256").update(e.rawSignature).digest());if(!(r&&e.id===n))return!1}return!0}getOffset(e){let r=0;for(let n=tn;n<tn+64*this.length;n+=64){const i=Yt(this.binary.subarray(n,n+32));r+=i;const s=this.binary.subarray(n+32,n+64);if(Hx.compare(s,e)===0)return{startOffset:r,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let r=0;const n=this.getBundleStart();let i=0,s,a;for(let m=tn;m<tn+64*this.length;m+=64){if(s=Yt(this.binary.subarray(m,m+32)),i++===e){a=this.binary.subarray(m+32,m+64);break}r+=s}const o=n+r,f=this.binary.subarray(o,o+s),l=new ja(f);return l.rawId=a,l}getById(e){const r=ct.toBuffer(e),n=this.getOffset(r);if(n.startOffset===-1)throw new Error("Transaction not found");const s=this.getBundleStart()+n.startOffset;return new ja(this.binary.subarray(s,s+n.size))}getDataItemCount(){return Yt(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let r=0;const n=this.getBundleStart();let i=0;for(let s=tn;s<tn+64*this.length;s+=64){const a=Yt(this.binary.subarray(s,s+32)),o=this.binary.subarray(s+32,s+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const f=n+r,l=this.binary.subarray(f,f+a);r+=a;const m=new ja(l);m.rawId=o,e[i]=m,i++}return e}}var wd=md,Bi=x(55872).Buffer;function Kx(t){return new wd(t)}async function vd(t,e){const r=new Uint8Array(64*t.length),n=await Promise.all(t.map(async(s,a)=>{const o=s.isSigned()?s.rawId:await Kc(s,e),f=new Uint8Array(64);return f.set(Dc(s.getRaw().byteLength),0),f.set(o,32),r.set(f,64*a),s.getRaw()})).then(s=>Bi.concat(s)),i=Bi.concat([Bi.from(Dc(t.length)),Bi.from(r),n]);return new wd(i)}async function Ed(t,e){const r=await Nc(t),n=await e.sign(r),i=await ar().hash(n);return{signature:Bi.from(n),id:Bi.from(i)}}async function Kc(t,e){const{signature:r,id:n}=await Ed(t,e);return t.getRaw().set(r,2),n}var Ga=x(55872).Buffer;function $c(t,e,r){var He,Et;const n=e.publicKey,i=r!=null&&r.target?ct.toBuffer(r.target):null,s=1+((i==null?void 0:i.byteLength)??0),a=r!=null&&r.anchor?Ga.from(r.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),f=(((He=r==null?void 0:r.tags)==null?void 0:He.length)??0)>0?gd(r==null?void 0:r.tags):null,l=16+(f?f.byteLength:0),m=Ga.from(t),S=m.byteLength,L=2+e.signatureLength+e.ownerLength+s+o+l+S,j=Ga.alloc(L);if(j.set(bd(e.signatureType),0),j.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);j.set(n,2+e.signatureLength);const z=2+e.signatureLength+e.ownerLength;if(j[z]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);j.set(i,z+1)}const Z=z+s;let ue=Z+1;if(j[Z]=a?1:0,a){if(ue+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");j.set(a,Z+1)}j.set(Mc(((Et=r==null?void 0:r.tags)==null?void 0:Et.length)??0),ue);const Te=Mc((f==null?void 0:f.byteLength)??0);j.set(Te,ue+8),f&&j.set(f,ue+16);const ze=ue+l;return j.set(m,ze),new ja(j)}class $x{constructor(){O(this,"signatureType");O(this,"rawSignature");O(this,"signature");O(this,"signatureLength");O(this,"rawOwner");O(this,"owner");O(this,"ownerLength");O(this,"rawTarget");O(this,"target");O(this,"rawAnchor");O(this,"anchor");O(this,"rawTags");O(this,"tags");O(this,"rawData");O(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var Lr=x(55872).Buffer;async function Sd(t){const e=Ad(t);let r=(await e.next()).value;r=await yr(e,r,32);const n=Yt(r.subarray(0,32));r=r.subarray(32);const i=64*n;r=await yr(e,r,i);const s=new Array(n);for(let f=0;f<i;f+=64)s[f/64]=[Yt(r.subarray(f,f+32)),ct(Lr.from(r.subarray(f+32,f+64)))];r=r.subarray(i);let a=32+i;const o=[];for(const[f,l]of s){r=await yr(e,r,Fc),r=await yr(e,r,2);const m=Yt(r.subarray(0,2));r=r.subarray(2);const{sigLength:S,pubLength:L,sigName:j}=It[m];r=await yr(e,r,S);const z=r.subarray(0,S);r=r.subarray(S),r=await yr(e,r,L);const Z=r.subarray(0,L);r=r.subarray(L),r=await yr(e,r,1);const ue=r[0]===1;ue&&(r=await yr(e,r,33));const Te=ue?r.subarray(1,33):Lr.allocUnsafe(0);r=r.subarray(ue?33:1),r=await yr(e,r,1);const ze=r[0]===1;ze&&(r=await yr(e,r,33));const He=ze?r.subarray(1,33):Lr.allocUnsafe(0);r=r.subarray(ze?33:1),r=await yr(e,r,8);const Et=Yt(r.subarray(0,8));r=r.subarray(8),r=await yr(e,r,8);const wt=Yt(r.subarray(0,8));r=r.subarray(8),r=await yr(e,r,wt);const Qt=r.subarray(0,wt),ir=Et!==0&&wt!==0?qa(Lr.from(Qt)):[];if(ir.length!==Et)throw new Error("Tags lengths don't match");r=r.subarray(wt);const St=new as.Transform;St._transform=function(Ye,Ut,hr){this.push(Ye),hr()};const Kt=vi([mt("dataitem"),mt("1"),mt(m.toString()),Z,Te,He,Qt,St]),gr=2+S+L+(ue?33:1)+(ze?33:1)+16+wt,Bt=f-gr;if(r.byteLength>Bt)St.write(r.subarray(0,Bt)),r=r.subarray(Bt);else{let Ye=r.byteLength;for(St.write(r);Bt>Ye;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${Bt} received: ${Ye}`);Ye+=r.byteLength,Ye>Bt?St.write(r.subarray(0,r.byteLength-(Ye-Bt))):St.write(r)}r=r.subarray(r.byteLength-(Ye-Bt))}if(St.end(),l!==ct((0,fn.createHash)("sha256").update(z).digest()))throw new Error("ID doesn't match signature");if(!await Oc[m].verify(Z,await Kt,z))throw new Error("Invalid signature");o.push({id:l,sigName:j,signature:ct(Lr.from(z)),target:ct(Lr.from(Te)),anchor:ct(Lr.from(He)),owner:ct(Lr.from(Z)),tags:ir,dataOffset:a+gr,dataSize:Bt}),a+=gr+Bt}return o}async function zx(t,e,r,n){const i=$c("",r,n),s=new as.PassThrough,a=[mt("dataitem"),mt("1"),mt(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,t],o=await vi(a),f=Lr.from(await r.sign(o));return i.setSignature(f),s.write(i.getRaw()),e.pipe(s)}async function yr(t,e,r){if(e.byteLength>=r)return e;const{done:n,value:i}=await t.next();if(n&&!i)throw new Error("Invalid buffer");return yr(t,Lr.concat([Lr.from(e),Lr.from(i)]),r)}async function*Ad(t){for await(const e of t)yield e}var qx=Sd;const jx={readBytes:yr,getReader:Ad},Gx={...v,stream:g};globalThis.arbundles??(globalThis.arbundles=Gx);var $m=null;const zm=null;var Wx=x(55872).Buffer;class Wa{constructor(e){O(this,"base");O(this,"wallet");O(this,"_address");O(this,"providerUrl");O(this,"providerInstance");O(this,"ticker");O(this,"name");O(this,"irys");O(this,"minConfirm",5);O(this,"isSlow",!1);O(this,"needsFee",!0);O(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return ct.encode(Wx.from(await ar().hash(await e.rawSignature())))}async price(){return _d(this.ticker)}}async function _d(t){const e=await ss.get(`https://api.redstone.finance/prices?symbol=${t}&provider=redstone&limit=1`);return await sr.checkAndThrow(e,"Getting price data"),e.data[0].value}const Vx=Uc;class Va extends Wa{constructor(r){super(r);O(this,"signer");O(this,"w3signer");O(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(r){const i=await this.providerInstance.getTransaction(r);if(!i)throw new Error("Tx doesn't exist");if(!i.to)throw new Error(`Unable to resolve transactions ${r} receiver`);return{from:i.from,to:i.to,blockHeight:i.blockNumber?new Ze.Z(i.blockNumber):void 0,amount:new Ze.Z(i.value.toHexString(),16),pending:!i.blockNumber,confirmed:i.confirmations>=this.minConfirm}}ownerToAddress(r){return r.toString().toLowerCase()}async sign(r){return(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new Uc(this.wallet)),this.signer}async verify(r,n,i){return Vx.verify(r,n,i)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new Ze.Z(n,16)}async getFee(r,n){const i=this.providerInstance,s={to:n,from:this.address,value:"0x"+new Ze.Z(r).toString(16)},a=await i.estimateGas(s),o=await i.getGasPrice();return new Ze.Z(a.mul(o).toString())}async sendTx(r){const i=await this.w3signer.sendTransaction(r);return i?i.hash:void 0}async createTx(r,n,i){const s=Ve.from(new Ze.Z(r).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:s.toHexString()});let f=await a.getGasPrice();return this.name==="matic"&&(f=Ve.from(new Ze.Z(f.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:s.toHexString(),gasPrice:f,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var r,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(r=this.providerInstance)==null?void 0:r._ready)==null?void 0:n.call(r))}}var Jx=x(61125),Xx=x(67265),Is=x(7782),Bs=x(11565),Zx=x(48797),Yx=x(3541),zc=x(55872).Buffer;class Qx extends Wa{constructor(r){super(r);O(this,"keyPair");O(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const r=new Xx.X,n=this.wallet.account();if(this.keyPair=await r.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=Jx.KeyPair.fromRandom("ed25519");const i=this.keyPair.getPublicKey().toString();await r.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(i)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(r){const n=await this.providerInstance,[i,s]=r.split(":"),a=await n.txStatusReceipts(Bs.decode(s),i),o=await n.block(a.transaction_outcome.block_hash),f=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const l=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:i,to:a.transaction.receiver_id,amount:new Ze.Z(l),blockHeight:new Ze.Z(o.header.height),pending:!1,confirmed:f-o.header.height>=this.minConfirm}}ownerToAddress(r){const n=typeof r=="string"?r:Bs.encode(r);return zc.from(Bs.decode(n.replace("ed25519:",""))).toString("hex")}async sign(r){return this.getSigner().sign(r)}getSigner(){return new Bc(this.keyPair.secretKey)}async verify(r,n,i){return Bc.verify(r,n,i)}async getCurrentHeight(){const r=await this.providerInstance.status();return new Ze.Z(r.sync_info.latest_block_height)}async getFee(r,n){const i=(await this.providerInstance.block({finality:"final"})).header.height,s=await this.providerInstance.gasPrice(i);return new Ze.Z(s.gas_price).multipliedBy(45e10)}async sendTx(r){const n=await this.providerInstance.sendTransaction(r);return`${this.address}:${n.transaction.hash}`}async createTx(r,n,i){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const s=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++s.nonce,o=zc.from(Bs.decode(s.block_hash)),f=[Is.actionCreators.transfer(new os(new Ze.Z(r).toString()))],l=(0,Is.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,f,o),m=(0,Zx.serialize)(Is.SCHEMA,l),S=new Uint8Array(Yx.sha256.array(m)),L=this.keyPair.sign(S);return{tx:new Is.SignedTransaction({transaction:l,signature:new Is.Signature({keyType:l.publicKey.keyType,data:L.signature})}),txId:void 0}}async getPublicKey(){return zc.from(this.keyPair.getPublicKey().data)}}var Us=x(19735),ep=x(55872).Buffer;class tp extends Wa{constructor(r){super(r);O(this,"signer");O(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Us.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(r){const n=await this.getProvider(),i=await n.getTransaction(r,{commitment:"confirmed"});if(!i)throw new Error("Confirmed tx not found");const s=await n.getSlot("confirmed");if(!i.meta)throw new Error(`Unable to resolve transaction ${r}`);const a=new Ze.Z(i.meta.postBalances[1]).minus(new Ze.Z(i.meta.preBalances[1]));return{from:i.transaction.message.accountKeys[0].toBase58(),to:i.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new Ze.Z(i.slot),pending:!1,confirmed:s-i.slot>=1}}ownerToAddress(r){return typeof r=="string"&&(r=ep.from(r)),Bs.encode(r)}async sign(r){return await(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new Da(this.wallet)),this.signer}verify(r,n,i){return Da.verify(r,n,i)}async getCurrentHeight(){return new Ze.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(r,n){return new Ze.Z(5e3)}async sendTx(r){return await this.wallet.sendTransaction(r,await this.getProvider(),{skipPreflight:!0})}async createTx(r,n,i){const s=new Us.PublicKey(await this.getPublicKey()),a=await Sn(async f=>{var l;try{return await(await this.getProvider()).getRecentBlockhash()}catch(m){throw(l=m.message)!=null&&l.includes("blockhash")?m:(f(m),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new Us.Transaction({recentBlockhash:a.blockhash,feePayer:s});return o.add(Us.SystemProgram.transfer({fromPubkey:s,toPubkey:new Us.PublicKey(n),lamports:+new Ze.Z(r).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const Os="abi/5.7.0",qc=new we(Os);function rp(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{r(a,i[s])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}class xn{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){qc.throwArgumentError(e,this.localName,r)}}class jc{constructor(e){be(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Jn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(mr(e._data))}writeBytes(e){let r=_e(e);const n=r.length%this.wordSize;return n&&(r=mr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=_e(Ve.from(e));return r.length>this.wordSize&&qc.throwError("value out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=mr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Ja{constructor(e,r,n,i){be(this,"_data",_e(e)),be(this,"wordSize",r||32),be(this,"_coerceFunc",n),be(this,"allowLoose",i),this._offset=0}get data(){return De(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Ja.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:qc.throwError("data out-of-bounds",we.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ja(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ve.from(this.readBytes(this.wordSize))}}class np extends xn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Mt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Mt(wr(e.readValue().toHexString(),20))}}class ip extends xn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Ui=new we(Os);function Td(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(l=>{const m=l.localName;return m||Ui.throwError("cannot encode object for signature with missing names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),f[m]&&Ui.throwError("cannot encode object for signature with duplicate names",we.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),f[m]=!0,r[m]})}else Ui.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Ui.throwArgumentError("types/value length mismatch","tuple",r);let i=new jc(t.wordSize),s=new jc(t.wordSize),a=[];e.forEach((f,l)=>{let m=n[l];if(f.dynamic){let S=s.length;f.encode(s,m);let L=i.writeUpdatableValue();a.push(j=>{L(j+S)})}else f.encode(i,m)}),a.forEach(f=>{f(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(s),o}function Rd(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=t.readValue(),f=n.subReader(o.toNumber());try{a=s.decode(f)}catch(l){if(l.code===we.errors.BUFFER_OVERRUN)throw l;a=l,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(o){if(o.code===we.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&r.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const f=r[a];f instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw f}}):r[o]=f});for(let s=0;s<r.length;s++){const a=r[s];a instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(r)}class sp extends xn{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Ui.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Td(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Ui.throwError("insufficient data length",we.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new ip(this.coder));return e.coerce(this.name,Rd(e,n))}}class ap extends xn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Pd extends xn{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=_e(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class op extends Pd{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,De(super.decode(e)))}}class cp extends xn{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=_e(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,De(e.readBytes(this.size)))}}class up extends xn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const fp=Ve.from(-1),dp=Ve.from(0),lp=Ve.from(1),qm=null,jm=null,hp=Ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gm=null,Wm=null;class xp extends xn{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ve.from(r),i=hp.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(lp).mul(fp)))&&this._throwError("value out-of-bounds",r)}else(n.lt(dp)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class pp extends Pd{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Gr(r))}decode(e){return oh(super.decode(e))}}class Xa extends xn{constructor(e,r){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return Td(e,this.coders,r)}decode(e){return e.coerce(this.name,Rd(e,this.coders))}}const bt=new we(Os),ti={};let Cd={calldata:!0,memory:!0,storage:!0},yp={calldata:!0,memory:!0};function Za(t,e){if(t==="bytes"||t==="string"){if(Cd[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&yp[e])return!0;return(Cd[e]||e==="payable")&&bt.throwArgumentError("invalid modifier","name",e),!1}function bp(t,e){let r=t;function n(o){bt.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let f={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(f.indexed=!1),f}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<t.length;o++){let f=t[o];switch(f){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=Oi(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Za(a.type,a.name)&&(a.name=""),a.type=Oi(a.type);let l=a;a=a.parent,a||n(o),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Za(a.type,a.name)&&(a.name=""),a.type=Oi(a.type);let m=i(a.parent);a.parent.components.push(m),delete a.parent,a=m;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Oi(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):Za(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=f,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=f,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=f,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=f,delete a.state.allowArray):a.state.readArray?a.type+=f:n(o)}}return a.parent&&bt.throwArgumentError("unexpected eof","param",t),delete s.state,a.name==="indexed"?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):Za(a.type,a.name)&&(a.name=""),s.type=Oi(s.type),s}function Ya(t,e){for(let r in e)be(t,r,e[r])}const vt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),gp=new RegExp(/^(.*)\[([0-9]*)\]$/);class rr{constructor(e,r){e!==ti&&bt.throwError("use fromString",we.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ya(this,r);let n=this.type.match(gp);n?Ya(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:rr.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ya(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=vt.sighash),vt[e]||bt.throwArgumentError("invalid format type","format",e),e===vt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==vt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===vt.full?", ":",")+")"):r+=this.type,e!==vt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===vt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?rr.fromString(e,r):rr.fromObject(e)}static fromObject(e){return rr.isParamType(e)?e:new rr(ti,{name:e.name||null,type:Oi(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(rr.fromObject):null})}static fromString(e,r){function n(i){return rr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(bp(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ns(t,e){return wp(t).map(r=>rr.fromString(r,e))}class pn{constructor(e,r){e!==ti&&bt.throwError("use a static from method",we.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ya(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return pn.isFragment(e)?e:typeof e=="string"?pn.fromString(e):pn.fromObject(e)}static fromObject(e){if(pn.isFragment(e))return e;switch(e.type){case"function":return nn.fromObject(e);case"event":return yn.fromObject(e);case"constructor":return rn.fromObject(e);case"error":return On.fromObject(e);case"fallback":case"receive":return null}return bt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?yn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?nn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?rn.fromString(e.trim()):e.split(" ")[0]==="error"?On.fromString(e.substring(5).trim()):bt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class yn extends pn{format(e){if(e||(e=vt.sighash),vt[e]||bt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?yn.fromString(e):yn.fromObject(e)}static fromObject(e){if(yn.isEventFragment(e))return e;e.type!=="event"&&bt.throwArgumentError("invalid event object","value",e);const r={name:Ms(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(rr.fromObject):[],type:"event"};return new yn(ti,r)}static fromString(e){let r=e.match(Ds);r||bt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:bt.warn("unknown modifier: "+i)}}),yn.fromObject({name:r[1].trim(),anonymous:n,inputs:Ns(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function kd(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&bt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||bt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ve.from(r[1]),r[0]):t}function Id(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Bd(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&bt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&bt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&bt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&bt.throwArgumentError("unable to determine stateMutability","value",t),e}class rn extends pn{format(e){if(e||(e=vt.sighash),vt[e]||bt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===vt.sighash&&bt.throwError("cannot format a constructor for sighash",we.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?rn.fromString(e):rn.fromObject(e)}static fromObject(e){if(rn.isConstructorFragment(e))return e;e.type!=="constructor"&&bt.throwArgumentError("invalid constructor object","value",e);let r=Bd(e);r.constant&&bt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(rr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new rn(ti,n)}static fromString(e){let r={type:"constructor"};e=kd(e,r);let n=e.match(Ds);return(!n||n[1].trim()!=="constructor")&&bt.throwArgumentError("invalid constructor string","value",e),r.inputs=Ns(n[2].trim(),!1),Id(n[3].trim(),r),rn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class nn extends rn{format(e){if(e||(e=vt.sighash),vt[e]||bt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?nn.fromString(e):nn.fromObject(e)}static fromObject(e){if(nn.isFunctionFragment(e))return e;e.type!=="function"&&bt.throwArgumentError("invalid function object","value",e);let r=Bd(e);const n={type:e.type,name:Ms(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(rr.fromObject):[],outputs:e.outputs?e.outputs.map(rr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ve.from(e.gas):null};return new nn(ti,n)}static fromString(e){let r={type:"function"};e=kd(e,r);let n=e.split(" returns ");n.length>2&&bt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Ds);if(i||bt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Ms(r.name),r.inputs=Ns(i[2],!1),Id(i[3].trim(),r),n.length>1){let s=n[1].match(Ds);(s[1].trim()!=""||s[3].trim()!="")&&bt.throwArgumentError("unexpected tokens","value",e),r.outputs=Ns(s[2],!1)}else r.outputs=[];return nn.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Ud(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&bt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class On extends pn{format(e){if(e||(e=vt.sighash),vt[e]||bt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==vt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?On.fromString(e):On.fromObject(e)}static fromObject(e){if(On.isErrorFragment(e))return e;e.type!=="error"&&bt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Ms(e.name),inputs:e.inputs?e.inputs.map(rr.fromObject):[]};return Ud(new On(ti,r))}static fromString(e){let r={type:"error"},n=e.match(Ds);return n||bt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Ms(r.name),r.inputs=Ns(n[2],!1),Ud(On.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Oi(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const mp=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ms(t){return(!t||!t.match(mp))&&bt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ds=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function wp(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&bt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Qa=new we(Os),vp=new RegExp(/^bytes([0-9]*)$/),Ep=new RegExp(/^(u?int)([0-9]*)$/);class Sp{constructor(e){be(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new np(e.name);case"bool":return new ap(e.name);case"string":return new pp(e.name);case"bytes":return new op(e.name);case"array":return new sp(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Xa((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new up(e.name)}let r=e.type.match(Ep);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Qa.throwArgumentError("invalid "+r[1]+" bit length","param",e),new xp(n/8,r[1]==="int",e.name)}if(r=e.type.match(vp),r){let n=parseInt(r[1]);return(n===0||n>32)&&Qa.throwArgumentError("invalid bytes length","param",e),new cp(n,e.name)}return Qa.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Ja(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new jc(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(rr.from(i)));return new Xa(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Qa.throwError("types/values length mismatch",we.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(a=>this._getCoder(rr.from(a))),i=new Xa(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(a=>this._getCoder(rr.from(a)));return new Xa(i,"_").decode(this._getReader(_e(r),n))}}const Ap=new Sp,Lt=new we(Os);class _p extends _i{}class Tp extends _i{}class Rp extends _i{}class Gc extends _i{static isIndexed(e){return!!(e&&e._isIndexed)}}const Pp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Od(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Nd{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,be(this,"fragments",r.map(n=>pn.from(n)).filter(n=>n!=null)),be(this,"_abiCoder",bs(new.target,"getAbiCoder")()),be(this,"functions",{}),be(this,"errors",{}),be(this,"events",{}),be(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Lt.warn("duplicate definition - constructor");return}be(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Lt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||be(this,"deploy",rn.from({payable:!1,type:"constructor"})),be(this,"_isInterface",!0)}format(e){e||(e=vt.full),e===vt.sighash&&Lt.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===vt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Ap}static getAddress(e){return Mt(e)}static getSighash(e){return Vn(Qn(e.format()),0,4)}static getEventTopic(e){return Qn(e.format())}getFunction(e){if(Gt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Lt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Lt.throwArgumentError("no matching function","name",n):i.length>1&&Lt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[nn.fromString(e).format()];return r||Lt.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Gt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Lt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Lt.throwArgumentError("no matching event","name",n):i.length>1&&Lt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[yn.fromString(e).format()];return r||Lt.throwArgumentError("no matching event","signature",e),r}getError(e){if(Gt(e)){const n=bs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Lt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Lt.throwArgumentError("no matching error","name",n):i.length>1&&Lt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[nn.fromString(e).format()];return r||Lt.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return bs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),bs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=_e(r);return De(n.slice(0,4))!==this.getSighash(e)&&Lt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",De(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),De(mr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=_e(r);return De(n.slice(0,4))!==this.getSighash(e)&&Lt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",De(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),De(mr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=_e(r),i=null,s="",a=null,o=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=De(n.slice(0,4)),m=Pp[l];if(m)a=this._abiCoder.decode(m.inputs,n.slice(4)),o=m.name,f=m.signature,m.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const S=this.getError(l);a=this._abiCoder.decode(S.inputs,n.slice(4)),o=S.name,f=S.format()}catch{}break}}return Lt.throwError("call revert exception"+s,we.errors.CALL_EXCEPTION,{method:e.format(),data:De(r),errorArgs:a,errorName:o,errorSignature:f,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),De(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Lt.throwError("too many arguments for "+e.format(),we.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?Qn(a):s.type==="bytes"?er(De(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=Ve.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),wr(De(a),32));for(r.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&Lt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Lt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(f=>i(o,f))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Lt.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const f=r[o];if(a.indexed)if(a.type==="string")n.push(Qn(f));else if(a.type==="bytes")n.push(er(f));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[f]))}else i.push(a),s.push(f)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let L=this.getEventTopic(e);(!Gt(n[0],32)||n[0].toLowerCase()!==L)&&Lt.throwError("fragment/topic mismatch",we.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:L,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((L,j)=>{L.indexed?L.type==="string"||L.type==="bytes"||L.baseType==="tuple"||L.baseType==="array"?(i.push(rr.fromObject({type:"bytes32",name:L.name})),a.push(!0)):(i.push(L),a.push(!1)):(s.push(L),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,mr(n)):null,f=this._abiCoder.decode(s,r,!0),l=[],m=0,S=0;e.inputs.forEach((L,j)=>{if(L.indexed)if(o==null)l[j]=new Gc({_isIndexed:!0,hash:null});else if(a[j])l[j]=new Gc({_isIndexed:!0,hash:o[S++]});else try{l[j]=o[S++]}catch(z){l[j]=z}else try{l[j]=f[m++]}catch(z){l[j]=z}if(L.name&&l[L.name]==null){const z=l[j];z instanceof Error?Object.defineProperty(l,L.name,{enumerable:!0,get:()=>{throw Od(`property ${JSON.stringify(L.name)}`,z)}}):l[L.name]=z}});for(let L=0;L<l.length;L++){const j=l[L];j instanceof Error&&Object.defineProperty(l,L,{enumerable:!0,get:()=>{throw Od(`index ${L}`,j)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Tp({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new _p({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=De(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Rp({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Cp="contracts/5.7.0";var Nn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(m){try{l(n.next(m))}catch(S){a(S)}}function f(m){try{l(n.throw(m))}catch(S){a(S)}}function l(m){m.done?s(m.value):i(m.value).then(o,f)}l((n=n.apply(t,e||[])).next())})};const Rt=new we(Cp),kp={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function eo(t,e){return Nn(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Rt.throwArgumentError("invalid address or ENS name","name",r);try{return Mt(r)}catch{}t||Rt.throwError("a provider or signer is needed to resolve ENS names",we.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Rt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Ls(t,e,r){return Nn(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Ls(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield eo(t,e):r.type==="tuple"?yield Ls(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Ls(t,n,r.arrayChildren))):Promise.reject(Rt.makeError("invalid value for array",we.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function to(t,e,r){return Nn(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=kn(r.pop())),Rt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=hn({override:eo(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Nn(this,void 0,void 0,function*(){return Mt(l.signer)!==l.override&&Rt.throwError("Contract with a Signer cannot override from",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=eo(t.provider,n.from));const i=yield hn({args:Ls(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:hn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=Ve.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=Ve.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=Ve.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=Ve.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=Ve.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Ra(o.accessList)),a.gasLimit==null&&e.gas!=null){let l=21e3;const m=_e(s);for(let S=0;S<m.length;S++)l+=4,m[S]&&(l+=64);a.gasLimit=Ve.from(e.gas).add(l)}if(o.value){const l=Ve.from(o.value);!l.isZero()&&!e.payable&&Rt.throwError("non-payable method cannot override value",we.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=l}o.customData&&(a.customData=kn(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(l=>n[l]!=null);return f.length&&Rt.throwError(`cannot override ${f.map(l=>JSON.stringify(l)).join(",")}`,we.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),a})}function Ip(t,e){return function(...r){return to(t,e,r)}}function Bp(t,e){const r=t.signer||t.provider;return function(...n){return Nn(this,void 0,void 0,function*(){r||Rt.throwError("estimate require a provider or signer",we.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield to(t,e,n);return yield r.estimateGas(i)})}}function Md(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let a=Ai(s),o=null;try{o=t.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(f,l)=>t.interface.decodeEventLog(o.eventFragment,f,l),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(i.blockHash),a.getTransaction=()=>t.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function Dd(t,e,r){const n=t.signer||t.provider;return function(...i){return Nn(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=kn(i.pop());f.blockTag!=null&&(s=yield f.blockTag),delete f.blockTag,i.push(f)}t.deployTransaction!=null&&(yield t._deployed(s));const a=yield to(t,e,i),o=yield n.call(a,s);try{let f=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===we.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=i,f.transaction=a),f}})}}function Up(t,e){return function(...r){return Nn(this,void 0,void 0,function*(){t.signer||Rt.throwError("sending a transaction requires a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield to(t,e,r),i=yield t.signer.sendTransaction(n);return Md(t,i),i})}}function Ld(t,e,r){return e.constant?Dd(t,e,r):Up(t,e)}function Fd(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Fs{constructor(e,r){be(this,"tag",e),be(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class Op extends Fs{constructor(){super("error",null)}}class Hd extends Fs{constructor(e,r,n,i){const s={address:e};let a=r.getEventTopic(n);i?(a!==i[0]&&Rt.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(Fd(s),s),be(this,"address",e),be(this,"interface",r),be(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=rp(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Kd extends Fs{constructor(e,r){super("*",{address:e}),be(this,"address",e),be(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Np{constructor(e,r,n){be(this,"interface",bs(new.target,"getInterface")(r)),n==null?(be(this,"provider",null),be(this,"signer",null)):ws.isSigner(n)?(be(this,"provider",n.provider||null),be(this,"signer",n)):Pa.isProvider(n)?(be(this,"provider",n),be(this,"signer",null)):Rt.throwArgumentError("invalid signer or provider","signerOrProvider",n),be(this,"callStatic",{}),be(this,"estimateGas",{}),be(this,"functions",{}),be(this,"populateTransaction",{}),be(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const f=this.interface.events[o];be(this.filters,o,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,l)})),a[f.name]||(a[f.name]=[]),a[f.name].push(o)}),Object.keys(a).forEach(o=>{const f=a[o];f.length===1?be(this.filters,o,this.filters[f[0]]):Rt.warn(`Duplicate definition of ${o} (${f.join(", ")})`)})}if(be(this,"_runningEvents",{}),be(this,"_wrappedEmits",{}),e==null&&Rt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),be(this,"address",e),this.provider)be(this,"resolvedAddress",eo(this.provider,e));else try{be(this,"resolvedAddress",Promise.resolve(Mt(e)))}catch{Rt.throwError("provider is required to use ENS name as contract address",we.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){Rt.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const f=o.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(a)}this[a]==null&&be(this,a,Ld(this,o,!0)),this.functions[a]==null&&be(this.functions,a,Ld(this,o,!1)),this.callStatic[a]==null&&be(this.callStatic,a,Dd(this,o,!0)),this.populateTransaction[a]==null&&be(this.populateTransaction,a,Ip(this,o)),this.estimateGas[a]==null&&be(this.estimateGas,a,Bp(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const f=o[0];try{this[a]==null&&be(this,a,this[f])}catch{}this.functions[a]==null&&be(this.functions,a,this.functions[f]),this.callStatic[a]==null&&be(this.callStatic,a,this.callStatic[f]),this.populateTransaction[a]==null&&be(this.populateTransaction,a,this.populateTransaction[f]),this.estimateGas[a]==null&&be(this.estimateGas,a,this.estimateGas[f])})}static getContractAddress(e){return kh(e)}static getInterface(e){return Nd.isInterface(e)?e:new Nd(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Rt.throwError("contract not deployed",we.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Rt.throwError("sending a transactions require a signer",we.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=kn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Rt.throwError("cannot override "+n,we.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new pc(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&be(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Gc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Op);if(e==="event")return this._normalizeRunningEvent(new Fs("event",null));if(e==="*")return this._normalizeRunningEvent(new Kd(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Hd(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Hd(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Fs(Fd(r),r))}return this._normalizeRunningEvent(new Kd(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Ai(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Rt.throwError("events require a provider or a signer with a provider",we.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,r);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=kn(i.filter);return typeof r=="string"&&Gt(r,32)?(n!=null&&Rt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Wc extends Np{}class Vm{constructor(e,r,n){let i=null;typeof r=="string"?i=r:isBytes(r)?i=hexlify(r):r&&typeof r.object=="string"?i=r.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!isHexString(i)||i.length%2)&&Rt.throwArgumentError("invalid bytecode","bytecode",r),n&&!Signer.isSigner(n)&&Rt.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=shallowCopy(e.pop());for(const n in r)if(!kp[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&Rt.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!BigNumber.from(r.value).isZero()&&!this.interface.deploy.payable&&Rt.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),Rt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return Nn(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),Rt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Ls(this.signer,e,this.interface.deploy.inputs);n.push(r);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=getStatic(this.constructor,"getContractAddress")(s),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Md(o,s),defineReadOnly(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&Rt.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}static getInterface(e){return Wc.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,r,n){return new Wc(e,r,n)}}class Mp extends Va{constructor(r){super(r);O(this,"contractInstance");O(this,"contractAddress");this.contractAddress=r.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Wc(this.contractAddress,Dp,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(r){const n=await this.providerInstance.getTransaction(r);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const i=`0x${n.data.slice(34,74)}`,s=new Ze.Z(n.data.slice(74),16);return{from:n.from,to:i,blockHeight:n.blockNumber?new Ze.Z(n.blockNumber):void 0,amount:s,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(r,n){const i="0x"+new Ze.Z(r).toString(16),s=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await s.estimateGas.transfer(n,i),f=new Ze.Z(a.mul(o).toString()),[l]=await this.getGas(),m=l.multipliedBy(f),S=new Ze.Z(await this.price());return new Ze.Z(m).dividedToIntegerBy(S)}async createTx(r,n,i){const s=await this.getContract(),a="0x"+new Ze.Z(r).toString(16),o=await s.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await s.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new Ze.Z(await _d("ETH")),1e18]}}const Dp=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var ro=x(15711),Lp=x(98316);const Jm={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const Xm=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Fp=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Vc=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Zm=(t,e)=>t<<32-e|t>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const Hp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $d(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Hp[t[r]];return e}function zd(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}const Kp=async()=>{};async function Qm(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);const s=Date.now()-n;s>=0&&s<e||(await Kp(),n+=s)}}function $p(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Hs(t){if(typeof t=="string"&&(t=$p(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function e2(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class Jc{clone(){return this._cloneInto()}}const zp=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function t2(t,e){if(e!==void 0&&(typeof e!="object"||!zp(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function no(t){const e=n=>t().update(Hs(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function qp(t){const e=(n,i)=>t(i).update(Hs(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function r2(t=32){if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(t));if(crypto.node)return new Uint8Array(crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}function Xc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function jp(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function qd(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Gp(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xc(t.outputLen),Xc(t.blockLen)}function Wp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vp(t,e){qd(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Pr={number:Xc,bool:jp,bytes:qd,hash:Gp,exists:Wp,output:Vp};const io=BigInt(2**32-1),Zc=BigInt(32);function jd(t,e=!1){return e?{h:Number(t&io),l:Number(t>>Zc&io)}:{h:Number(t>>Zc&io)|0,l:Number(t&io)|0}}function Jp(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=jd(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}const Xp=(t,e)=>BigInt(t>>>0)<<Zc|BigInt(e>>>0),Zp=(t,e,r)=>t>>>r,Yp=(t,e,r)=>t<<32-r|e>>>r,Qp=(t,e,r)=>t>>>r|e<<32-r,ey=(t,e,r)=>t<<32-r|e>>>r,ty=(t,e,r)=>t<<64-r|e>>>r-32,ry=(t,e,r)=>t>>>r-32|e<<64-r,ny=(t,e)=>e,iy=(t,e)=>t,sy=(t,e,r)=>t<<r|e>>>32-r,ay=(t,e,r)=>e<<r|t>>>32-r,oy=(t,e,r)=>e<<r-32|t>>>64-r,cy=(t,e,r)=>t<<r-32|e>>>64-r;function uy(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var et={fromBig:jd,split:Jp,toBig:Xp,shrSH:Zp,shrSL:Yp,rotrSH:Qp,rotrSL:ey,rotrBH:ty,rotrBL:ry,rotr32H:ny,rotr32L:iy,rotlSH:sy,rotlSL:ay,rotlBH:oy,rotlBL:cy,add:uy,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};const[Gd,Wd,Vd]=[[],[],[]],fy=BigInt(0),Ks=BigInt(1),dy=BigInt(2),ly=BigInt(7),hy=BigInt(256),xy=BigInt(113);for(let t=0,e=Ks,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Gd.push(2*(5*n+r)),Wd.push((t+1)*(t+2)/2%64);let i=fy;for(let s=0;s<7;s++)e=(e<<Ks^(e>>ly)*xy)%hy,e&dy&&(i^=Ks<<(Ks<<BigInt(s))-Ks);Vd.push(i)}const[py,yy]=et.split(Vd,!0),Jd=(t,e,r)=>r>32?et.rotlBH(t,e,r):et.rotlSH(t,e,r),Xd=(t,e,r)=>r>32?et.rotlBL(t,e,r):et.rotlSL(t,e,r);function by(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,f=(a+2)%10,l=r[f],m=r[f+1],S=Jd(l,m,1)^r[o],L=Xd(l,m,1)^r[o+1];for(let j=0;j<50;j+=10)t[a+j]^=S,t[a+j+1]^=L}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=Wd[a],f=Jd(i,s,o),l=Xd(i,s,o),m=Gd[a];i=t[m],s=t[m+1],t[m]=f,t[m+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=py[n],t[1]^=yy[n]}r.fill(0)}class so extends Jc{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Fp(this.state)}keccak(){by(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Pr.exists(this);const{blockLen:r,state:n}=this;e=Hs(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Pr.exists(this,!1),Pr.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Pr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new so(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Mn=(t,e,r)=>no(()=>new so(e,t,r)),d2=Mn(6,144,224/8),Ni=Mn(6,136,256/8),l2=Mn(6,104,384/8),h2=Mn(6,72,512/8),x2=Mn(1,144,224/8),p2=Mn(1,136,256/8),y2=Mn(1,104,384/8),b2=Mn(1,72,512/8),Zd=(t,e,r)=>qp((n={})=>new so(e,t,n.dkLen===void 0?r:n.dkLen,!0)),g2=Zd(31,168,128/8),m2=Zd(31,136,256/8);class Yd extends Jc{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Pr.hash(e);const n=Hs(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Pr.exists(this),this.iHash.update(e),this}digestInto(e){Pr.exists(this),Pr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yc=(t,e,r)=>new Yd(t,e).update(r).digest();Yc.create=(t,e)=>new Yd(t,e);function gy(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),f=n?4:0,l=n?0:4;t.setUint32(e+f,a,n),t.setUint32(e+l,o,n)}class my extends Jc{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Vc(this.buffer)}update(e){Pr.exists(this);const{view:r,buffer:n,blockLen:i}=this;e=Hs(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const f=Vc(e);for(;i<=s-a;a+=i)this.process(f,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pr.exists(this),Pr.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;gy(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=Vc(e);this.get().forEach((f,l)=>o.setUint32(4*l,f,s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const[wy,vy]=et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Dn=new Uint32Array(80),Ln=new Uint32Array(80);class Qc extends my{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:f,Eh:l,El:m,Fh:S,Fl:L,Gh:j,Gl:z,Hh:Z,Hl:ue}=this;return[e,r,n,i,s,a,o,f,l,m,S,L,j,z,Z,ue]}set(e,r,n,i,s,a,o,f,l,m,S,L,j,z,Z,ue){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=f|0,this.Eh=l|0,this.El=m|0,this.Fh=S|0,this.Fl=L|0,this.Gh=j|0,this.Gl=z|0,this.Hh=Z|0,this.Hl=ue|0}process(e,r){for(let He=0;He<16;He++,r+=4)Dn[He]=e.getUint32(r),Ln[He]=e.getUint32(r+=4);for(let He=16;He<80;He++){const Et=Dn[He-15]|0,wt=Ln[He-15]|0,Qt=et.rotrSH(Et,wt,1)^et.rotrSH(Et,wt,8)^et.shrSH(Et,wt,7),ir=et.rotrSL(Et,wt,1)^et.rotrSL(Et,wt,8)^et.shrSL(Et,wt,7),St=Dn[He-2]|0,Kt=Ln[He-2]|0,gr=et.rotrSH(St,Kt,19)^et.rotrBH(St,Kt,61)^et.shrSH(St,Kt,6),Bt=et.rotrSL(St,Kt,19)^et.rotrBL(St,Kt,61)^et.shrSL(St,Kt,6),on=et.add4L(ir,Bt,Ln[He-7],Ln[He-16]),Ye=et.add4H(on,Qt,gr,Dn[He-7],Dn[He-16]);Dn[He]=Ye|0,Ln[He]=on|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:f,Dh:l,Dl:m,Eh:S,El:L,Fh:j,Fl:z,Gh:Z,Gl:ue,Hh:Te,Hl:ze}=this;for(let He=0;He<80;He++){const Et=et.rotrSH(S,L,14)^et.rotrSH(S,L,18)^et.rotrBH(S,L,41),wt=et.rotrSL(S,L,14)^et.rotrSL(S,L,18)^et.rotrBL(S,L,41),Qt=S&j^~S&Z,ir=L&z^~L&ue,St=et.add5L(ze,wt,ir,vy[He],Ln[He]),Kt=et.add5H(St,Te,Et,Qt,wy[He],Dn[He]),gr=St|0,Bt=et.rotrSH(n,i,28)^et.rotrBH(n,i,34)^et.rotrBH(n,i,39),on=et.rotrSL(n,i,28)^et.rotrBL(n,i,34)^et.rotrBL(n,i,39),Ye=n&s^n&o^s&o,Ut=i&a^i&f^a&f;Te=Z|0,ze=ue|0,Z=j|0,ue=z|0,j=S|0,z=L|0,{h:S,l:L}=et.add(l|0,m|0,Kt|0,gr|0),l=o|0,m=f|0,o=s|0,f=a|0,s=n|0,a=i|0;const hr=et.add3L(gr,on,Ut);n=et.add3H(hr,Kt,Bt,Ye),i=hr|0}({h:n,l:i}=et.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=et.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:f}=et.add(this.Ch|0,this.Cl|0,o|0,f|0),{h:l,l:m}=et.add(this.Dh|0,this.Dl|0,l|0,m|0),{h:S,l:L}=et.add(this.Eh|0,this.El|0,S|0,L|0),{h:j,l:z}=et.add(this.Fh|0,this.Fl|0,j|0,z|0),{h:Z,l:ue}=et.add(this.Gh|0,this.Gl|0,Z|0,ue|0),{h:Te,l:ze}=et.add(this.Hh|0,this.Hl|0,Te|0,ze|0),this.set(n,i,s,a,o,f,l,m,S,L,j,z,Z,ue,Te,ze)}roundClean(){Dn.fill(0),Ln.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ey extends Qc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Sy extends Qc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Qd=no(()=>new Qc),w2=no(()=>new Ey),v2=no(()=>new Sy);var $s=x(67886),e0=x(36243),t0=Object.defineProperty,Ay=Object.getOwnPropertyDescriptor,ao=(t,e)=>{for(var r in e)t0(t,r,{get:e[r],enumerable:!0})},_t=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ay(e,r):e,s=t.length-1,a;s>=0;s--)(a=t[s])&&(i=(n?a(e,r,i):a(i))||i);return n&&i&&t0(e,r,i),i},_y=/^m(\/[0-9]+')+$/,r0=t=>t.replace("'",""),Ty="ed25519 seed",Ry=2147483648,Py=t=>{const r=Yc.create(Qd,Ty).update(zd(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Cy=({key:t,chainCode:e},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...t,...i]),o=Yc.create(Qd,e).update(a).digest(),f=o.slice(0,32),l=o.slice(32);return{key:f,chainCode:l}},ky=t=>_y.test(t)?!t.split("/").slice(1).map(r0).some(Number.isNaN):!1,Iy=(t,e,r=Ry)=>{if(!ky(t))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=Py(e);return t.split("/").slice(1).map(r0).map(a=>parseInt(a,10)).reduce((a,o)=>Cy(a,o+r),{key:n,chainCode:i})};async function By(t){return new Promise(e=>{setTimeout(e,t)})}var n0="/v1";function Uy(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(n0)||(e=`${e}${n0}`),e}var i0=2e5,s0=20,a0=20,eu="0x1::aptos_coin::AptosCoin";function oo(t){let e,r,n;return typeof t=="object"?(e=t.hashFunction,r=t.ttlMs,n=t.tags):e=t,(i,s,a)=>{if(a.value!=null)a.value=o0(a.value,e,r,n);else if(a.get!=null)a.get=o0(a.get,e,r,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function Oy(t,e){return oo({ttlMs:t,hashFunction:e})}var co=new Map;function Ny(t){const e=new Set;for(const r of t){const n=co.get(r);if(n)for(const i of n)e.has(i)||(i.clear(),e.add(i))}return e.size}function o0(t,e,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let a;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const f=o[i];if(Array.isArray(n))for(const l of n)co.has(l)?co.get(l).push(f):co.set(l,[f]);if(e||s.length>0||r>0){let l;e===!0?l=s.map(L=>L.toString()).join("!"):e?l=e.apply(o,s):l=s[0];const m=`${l}__timestamp`;let S=!1;if(r>0)if(!f.has(m))S=!0;else{const L=f.get(m);S=Date.now()-L>r}f.has(l)&&!S?a=f.get(l):(a=t.apply(o,s),f.set(l,a),r>0&&f.set(m,Date.now()))}else{const l=o;f.has(l)?a=f.get(l):(a=t.apply(o,s),f.set(l,a))}return a}}var Le=class{static fromBuffer(t){return Le.fromUint8Array(t)}static fromUint8Array(t){return new Le($d(t))}static ensure(t){return typeof t=="string"?new Le(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(zd(this.noPrefix()))}};async function c0(t,e,r,n){var i;const s=[];let a;for(;;){const o=await t(Le.ensure(e).hex(),(i=n==null?void 0:n.ledgerVersion)==null?void 0:i.toString(),a,r);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,s.push(...o),a==null)break}return s}var My={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Dy={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Ly=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t))(Ly||{}),Tt={};ao(Tt,{AccountAddress:()=>Ht,AccountAuthenticator:()=>Ws,AccountAuthenticatorEd25519:()=>su,AccountAuthenticatorMultiEd25519:()=>au,ArgumentABI:()=>Zs,AuthenticationKey:()=>fi,ChainId:()=>mo,ChangeSet:()=>eb,Ed25519PublicKey:()=>Kr,Ed25519Signature:()=>sn,EntryFunction:()=>ci,EntryFunctionABI:()=>qi,Identifier:()=>br,Module:()=>x0,ModuleId:()=>ui,MultiAgentRawTransaction:()=>yo,MultiEd25519PublicKey:()=>qs,MultiEd25519Signature:()=>lo,MultiSig:()=>uu,MultiSigTransactionPayload:()=>cu,RawTransaction:()=>zi,RawTransactionWithData:()=>p0,RotationProofChallenge:()=>rb,Script:()=>po,ScriptABI:()=>Co,SignedTransaction:()=>Vs,StructTag:()=>oi,Transaction:()=>y0,TransactionArgument:()=>Jr,TransactionArgumentAddress:()=>To,TransactionArgumentBool:()=>Po,TransactionArgumentU128:()=>Ao,TransactionArgumentU16:()=>vo,TransactionArgumentU256:()=>_o,TransactionArgumentU32:()=>Eo,TransactionArgumentU64:()=>So,TransactionArgumentU8:()=>wo,TransactionArgumentU8Vector:()=>Ro,TransactionAuthenticator:()=>Gs,TransactionAuthenticatorEd25519:()=>ho,TransactionAuthenticatorMultiAgent:()=>iu,TransactionAuthenticatorMultiEd25519:()=>xo,TransactionPayload:()=>Js,TransactionPayloadEntryFunction:()=>go,TransactionPayloadMultisig:()=>fu,TransactionPayloadScript:()=>bo,TransactionScriptABI:()=>ko,TypeArgumentABI:()=>Xs,TypeTag:()=>cr,TypeTagAddress:()=>Fn,TypeTagBool:()=>ni,TypeTagParser:()=>$i,TypeTagParserError:()=>h0,TypeTagSigner:()=>ou,TypeTagStruct:()=>ai,TypeTagU128:()=>si,TypeTagU16:()=>Li,TypeTagU256:()=>Hi,TypeTagU32:()=>Fi,TypeTagU64:()=>ii,TypeTagU8:()=>gn,TypeTagVector:()=>Ki,UserTransaction:()=>du,WriteSet:()=>tb,stringStructTag:()=>f0});var Fy={};ao(Fy,{Deserializer:()=>tu,Serializer:()=>Ft,bcsSerializeBool:()=>Vy,bcsSerializeBytes:()=>Di,bcsSerializeFixedBytes:()=>Xy,bcsSerializeStr:()=>Jy,bcsSerializeU128:()=>Wy,bcsSerializeU16:()=>jy,bcsSerializeU32:()=>Gy,bcsSerializeU8:()=>ru,bcsSerializeUint64:()=>qy,bcsToBytes:()=>bn,deserializeVector:()=>Fr,serializeVector:()=>Cr,serializeVectorWithFunc:()=>zy});var Hy=2**8-1,Ky=2**16-1,zs=2**32-1,Mi=BigInt(2**64)-BigInt(1),u0=BigInt(2**128)-BigInt(1),$y=BigInt(2**256)-BigInt(1),Ft=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,r){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);t.apply(n,[0,r,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(zs),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(r))}serializeU128(t){const e=BigInt(t.toString())&Mi,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(r)}serializeU256(t){const e=BigInt(t.toString())&u0,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(r)}serializeU32AsUleb128(t){let e=t;const r=[];for(;e>>>7;)r.push(e&127|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};_t([ri(0,Hy)],Ft.prototype,"serializeU8",1),_t([ri(0,Ky)],Ft.prototype,"serializeU16",1),_t([ri(0,zs)],Ft.prototype,"serializeU32",1),_t([ri(BigInt(0),Mi)],Ft.prototype,"serializeU64",1),_t([ri(BigInt(0),u0)],Ft.prototype,"serializeU128",1),_t([ri(BigInt(0),$y)],Ft.prototype,"serializeU256",1),_t([ri(0,zs)],Ft.prototype,"serializeU32AsUleb128",1);function ri(t,e,r){return(n,i,s)=>{const a=s.value;return s.value=function(f){const l=BigInt(f.toString());if(l>BigInt(e.toString())||l<BigInt(t.toString()))throw new Error(r||"Value is out of range");a.apply(this,[f])},s}}var tu=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<zs;){const r=this.deserializeU8();if(t|=BigInt(r&127)<<BigInt(e),!(r&128))break;e+=7}if(t>zs)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Cr(t,e){e.serializeU32AsUleb128(t.length),t.forEach(r=>{r.serialize(e)})}function zy(t,e){const r=new Ft;r.serializeU32AsUleb128(t.length);const n=r[e];return t.forEach(i=>{n.call(r,i)}),r.getBytes()}function Fr(t,e){const r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(e.deserialize(t));return n}function bn(t){const e=new Ft;return t.serialize(e),e.getBytes()}function qy(t){const e=new Ft;return e.serializeU64(t),e.getBytes()}function ru(t){const e=new Ft;return e.serializeU8(t),e.getBytes()}function jy(t){const e=new Ft;return e.serializeU16(t),e.getBytes()}function Gy(t){const e=new Ft;return e.serializeU32(t),e.getBytes()}function Wy(t){const e=new Ft;return e.serializeU128(t),e.getBytes()}function Vy(t){const e=new Ft;return e.serializeBool(t),e.getBytes()}function Jy(t){const e=new Ft;return e.serializeStr(t),e.getBytes()}function Di(t){const e=new Ft;return e.serializeBytes(t),e.getBytes()}function Xy(t){const e=new Ft;return e.serializeFixedBytes(t),e.getBytes()}var Hr=class{constructor(t){if(t.length!==Hr.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=Le.ensure(t);e.noPrefix().length%2!==0&&(e=new Le(`0${e.noPrefix()}`));const r=e.toUint8Array();if(r.length>Hr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Hr.LENGTH)return new Hr(r);const n=new Uint8Array(Hr.LENGTH);return n.set(r,Hr.LENGTH-r.length),new Hr(n)}static isValid(t){if(t==="")return!1;let e=Le.ensure(t);return e.noPrefix().length%2!==0&&(e=new Le(`0${e.noPrefix()}`)),e.toUint8Array().length<=Hr.LENGTH}toHexString(){return Le.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Hr(t.deserializeFixedBytes(Hr.LENGTH))}},Ht=Hr;Ht.LENGTH=32,Ht.CORE_CODE_ADDRESS=Hr.fromHex("0x1");var uo=class{constructor(t){if(t.length!==uo.LENGTH)throw new Error(`Ed25519PublicKey length should be ${uo.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new uo(e)}},Kr=uo;Kr.LENGTH=32;var fo=class{constructor(t){if(this.value=t,t.length!==fo.LENGTH)throw new Error(`Ed25519Signature length should be ${fo.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new fo(e)}},sn=fo;sn.LENGTH=64;var nu=32,qs=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>nu)throw new Error(`"threshold" cannot be larger than ${nu}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*Kr.LENGTH+1);return this.public_keys.forEach((e,r)=>{t.set(e.value,r*Kr.LENGTH)}),t[this.public_keys.length*Kr.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e[e.length-1],n=[];for(let i=0;i<e.length-1;i+=Kr.LENGTH){const s=i;n.push(new Kr(e.subarray(s,s+Kr.LENGTH)))}return new qs(n,r)}},js=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==js.BITMAP_LEN)throw new Error(`"bitmap" length should be ${js.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*sn.LENGTH+js.BITMAP_LEN);return this.signatures.forEach((e,r)=>{t.set(e.value,r*sn.LENGTH)}),t.set(this.bitmap,this.signatures.length*sn.LENGTH),t}static createBitmap(t){const r=new Uint8Array([0,0,0,0]),n=new Set;return t.forEach(i=>{if(i>=nu)throw new Error(`Invalid bit value ${i}.`);if(n.has(i))throw new Error("Duplicated bits detected.");n.add(i);const s=Math.floor(i/8);let a=r[s];a|=128>>i%8,r[s]=a}),r}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e.subarray(e.length-4),n=[];for(let i=0;i<e.length-r.length;i+=sn.LENGTH){const s=i;n.push(new sn(e.subarray(s,s+sn.LENGTH)))}return new js(n,r)}},lo=js;lo.BITMAP_LEN=4;var Gs=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return ho.load(t);case 1:return xo.load(t);case 2:return iu.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},ho=class extends Gs{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Kr.deserialize(t),r=sn.deserialize(t);return new ho(e,r)}},xo=class extends Gs{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=qs.deserialize(t),r=lo.deserialize(t);return new xo(e,r)}},iu=class extends Gs{constructor(t,e,r){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),Cr(this.secondary_signer_addresses,t),Cr(this.secondary_signers,t)}static load(t){const e=Ws.deserialize(t),r=Fr(t,Ht),n=Fr(t,Ws);return new iu(e,r,n)}},Ws=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return su.load(t);case 1:return au.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},su=class extends Ws{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Kr.deserialize(t),r=sn.deserialize(t);return new su(e,r)}},au=class extends Ws{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=qs.deserialize(t),r=lo.deserialize(t);return new au(e,r)}},br=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new br(e)}},cr=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return ni.load(t);case 1:return gn.load(t);case 2:return ii.load(t);case 3:return si.load(t);case 4:return Fn.load(t);case 5:return ou.load(t);case 6:return Ki.load(t);case 7:return ai.load(t);case 8:return Li.load(t);case 9:return Fi.load(t);case 10:return Hi.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},ni=class extends cr{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new ni}},gn=class extends cr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new gn}},Li=class extends cr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Li}},Fi=class extends cr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Fi}},ii=class extends cr{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new ii}},si=class extends cr{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new si}},Hi=class extends cr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Hi}},Fn=class extends cr{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Fn}},ou=class extends cr{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new ou}},Ki=class extends cr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=cr.deserialize(t);return new Ki(e)}},ai=class extends cr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=oi.deserialize(t);return new ai(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Ht.fromHex("0x1").toHexString()}},oi=class{constructor(t,e,r,n){this.address=t,this.module_name=e,this.name=r,this.type_args=n}static fromString(t){const e=new $i(t).parseTypeTag();return new oi(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),Cr(this.type_args,t)}static deserialize(t){const e=Ht.deserialize(t),r=br.deserialize(t),n=br.deserialize(t),i=Fr(t,cr);return new oi(e,r,n,i)}},f0=new oi(Ht.fromHex("0x1"),new br("string"),new br("String"),[]);function Hn(t){throw new h0(t)}function d0(t){return!!t.match(/\s/)}function l0(t){return!!t.match(/[_A-Za-z0-9]/g)}function Zy(t){return!!t.match(/T\d+/g)}function Yy(t,e){const r=t[e];if(r===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];Hn("Unrecognized token.")}else{if(r==="<")return[["LT","<"],1];if(r===">")return[["GT",">"],1];if(r===",")return[["COMMA",","],1];if(d0(r)){let n="";for(let i=e;i<t.length;i+=1){const s=t[i];if(d0(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(l0(r)){let n="";for(let i=e;i<t.length;i+=1){const s=t[i];if(l0(s))n=`${n}${s}`;else break}return Zy(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function Qy(t){let e=0;const r=[];for(;e<t.length;){const[n,i]=Yy(t,e);n[0]!=="SPACE"&&r.push(n),e+=i}return r}var $i=class{constructor(t,e){this.typeTags=[],this.tokens=Qy(t),this.typeTags=e||[]}consume(t){const e=this.tokens.shift();(!e||e[1]!==t)&&Hn("Invalid type tag.")}parseCommaList(t,e){const r=[];for(this.tokens.length<=0&&Hn("Invalid type tag.");this.tokens[0][1]!==t&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e)));)this.tokens.length<=0&&Hn("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&Hn("Invalid type tag.");const[t,e]=this.tokens.shift();if(e==="u8")return new gn;if(e==="u16")return new Li;if(e==="u32")return new Fi;if(e==="u64")return new ii;if(e==="u128")return new si;if(e==="u256")return new Hi;if(e==="bool")return new ni;if(e==="address")return new Fn;if(e==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new Ki(r)}if(e==="string")return new oi(Ht.fromHex("0x1"),new br("string"),new br("String"),[]);if(t==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const r=e;this.consume("::");const[n,i]=this.tokens.shift();n!=="IDENT"&&Hn("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&Hn("Invalid type tag."),i==="object"&&a==="Object")return this.tokens.splice(0,3),new Fn;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const f=new oi(Ht.fromHex(r),new br(i),new br(a),o);return new ai(f)}if(t==="GENERIC"){this.typeTags.length===0&&Hn("Can't convert generic type since no typeTags were specified.");const r=parseInt(e.substring(1),10);return new $i(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},h0=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},zi=class{constructor(t,e,r,n,i,s,a){this.sender=t,this.sequence_number=e,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=Ht.deserialize(t),r=t.deserializeU64(),n=Js.deserialize(t),i=t.deserializeU64(),s=t.deserializeU64(),a=t.deserializeU64(),o=mo.deserialize(t);return new zi(e,r,n,i,s,a,o)}},po=class{constructor(t,e,r){this.code=t,this.ty_args=e,this.args=r}serialize(t){t.serializeBytes(this.code),Cr(this.ty_args,t),Cr(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),r=Fr(t,cr),n=Fr(t,Jr);return new po(e,r,n)}},ci=class{constructor(t,e,r,n){this.module_name=t,this.function_name=e,this.ty_args=r,this.args=n}static natural(t,e,r,n){return new ci(ui.fromStr(t),new br(e),r,n)}static natual(t,e,r,n){return ci.natural(t,e,r,n)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),Cr(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{t.serializeBytes(e)})}static deserialize(t){const e=ui.deserialize(t),r=br.deserialize(t),n=Fr(t,cr),i=t.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(t.deserializeBytes());const a=s;return new ci(e,r,n,a)}},cu=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new cu(ci.deserialize(t))}},uu=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=Ht.deserialize(t),r=t.deserializeBool();let n;return r&&(n=cu.deserialize(t)),new uu(e,n)}},x0=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new x0(e)}},ui=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new ui(Ht.fromHex(new Le(e[0])),new br(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=Ht.deserialize(t),r=br.deserialize(t);return new ui(e,r)}},eb=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},tb=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},Vs=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=zi.deserialize(t),r=Gs.deserialize(t);return new Vs(e,r)}},p0=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return yo.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},yo=class extends p0{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),Cr(this.secondary_signer_addresses,t)}static load(t){const e=zi.deserialize(t),r=Fr(t,Ht);return new yo(e,r)}},Js=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return bo.load(t);case 2:return go.load(t);case 3:return fu.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},bo=class extends Js{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=po.deserialize(t);return new bo(e)}},go=class extends Js{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=ci.deserialize(t);return new go(e)}},fu=class extends Js{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=uu.deserialize(t);return new fu(e)}},mo=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new mo(e)}},Jr=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return wo.load(t);case 1:return So.load(t);case 2:return Ao.load(t);case 3:return To.load(t);case 4:return Ro.load(t);case 5:return Po.load(t);case 6:return vo.load(t);case 7:return Eo.load(t);case 8:return _o.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},wo=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new wo(e)}},vo=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new vo(e)}},Eo=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Eo(e)}},So=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new So(e)}},Ao=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new Ao(e)}},_o=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new _o(e)}},To=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=Ht.deserialize(t);return new To(e)}},Ro=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new Ro(e)}},Po=class extends Jr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new Po(e)}},y0=class{getHashSalt(){const t=Ni.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return du.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},du=class extends y0{constructor(t){super(),this.value=t}hash(){const t=Ni.create();return t.update(this.getHashSalt()),t.update(bn(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new du(Vs.deserialize(t))}},Xs=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new Xs(e)}},Zs=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),r=cr.deserialize(t);return new Zs(e,r)}},Co=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return ko.load(t);case 1:return qi.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},ko=class extends Co{constructor(t,e,r,n,i){super(),this.name=t,this.doc=e,this.code=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),Cr(this.ty_args,t),Cr(this.args,t)}static load(t){const e=t.deserializeStr(),r=t.deserializeStr(),n=t.deserializeBytes(),i=Fr(t,Xs),s=Fr(t,Zs);return new ko(e,r,n,i,s)}},qi=class extends Co{constructor(t,e,r,n,i){super(),this.name=t,this.module_name=e,this.doc=r,this.ty_args=n,this.args=i}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),Cr(this.ty_args,t),Cr(this.args,t)}static load(t){const e=t.deserializeStr(),r=ui.deserialize(t),n=t.deserializeStr(),i=Fr(t,Xs),s=Fr(t,Zs);return new qi(e,r,n,i,s)}},ji=class{constructor(t){if(t.length!==ji.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),r=new Uint8Array(e.length+1);r.set(e),r.set([ji.MULTI_ED25519_SCHEME],e.length);const n=Ni.create();return n.update(r),new ji(n.digest())}static fromEd25519PublicKey(t){const e=t.value,r=new Uint8Array(e.length+1);r.set(e),r.set([ji.ED25519_SCHEME],e.length);const n=Ni.create();return n.update(r),new ji(n.digest())}derivedAddress(){return Le.fromUint8Array(this.bytes)}},fi=ji;fi.LENGTH=32,fi.MULTI_ED25519_SCHEME=1,fi.ED25519_SCHEME=0,fi.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var rb=class{constructor(t,e,r,n,i,s,a){this.accountAddress=t,this.moduleName=e,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},Io=class{static fromAptosAccountObject(t){return new Io(Le.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,e){if(!Io.isValidPath(t))throw new Error("Invalid derivation path");const r=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:n}=Iy(t,$d(Lp.Z1(r)));return new Io(n)}constructor(t,e){t?this.signingKey=ro.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=ro.sign.keyPair(),this.accountAddress=Le.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Kr(this.signingKey.publicKey);return fi.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const r=bn(Ht.fromHex(t)),n=new Uint8Array([...r,...e,fi.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Ni.create();return i.update(n),Le.fromUint8Array(i.digest())}pubKey(){return Le.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=ro.sign.detached(t,this.signingKey.secretKey);return Le.fromUint8Array(e)}signHexString(t){const e=Le.ensure(t).toUint8Array();return this.signBuffer(e)}verifySignature(t,e){const r=Le.ensure(t).toUint8Array(),n=Le.ensure(e).toUint8Array();return ro.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Le.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Bo=Io;_t([oo()],Bo.prototype,"authKey",1);function b0(t){return t instanceof Bo?t.address():Le.ensure(t)}var nb=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,ib=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,sb=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,ab=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${nb}
${ib}`,ob=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,cb=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,ub=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,fb=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,db=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,lb=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,hb=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,xb=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,pb=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,yb=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,bb=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,gb=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,an=class{constructor(t){this.endpoint=t}static validateAddress(t){if(t.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(t){const{data:e}=await $s.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const t={query:lb};return this.queryIndexer(t)}async getAccountNFTs(t,e){const r=Le.ensure(t).hex();an.validateAddress(r);const n={query:ab,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t,e){const r={query:hb,variables:{idHash:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getAccountCoinsData(t,e){const r=Le.ensure(t).hex();an.validateAddress(r);const n={query:sb,variables:{owner_address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(t){const e=Le.ensure(t).hex();an.validateAddress(e);const r={query:ob,variables:{owner_address:e}};return this.queryIndexer(r)}async getAccountTransactionsCount(t){const e=Le.ensure(t).hex();an.validateAddress(e);const r={query:cb,variables:{address:e}};return this.queryIndexer(r)}async getAccountTransactionsData(t,e){const r=Le.ensure(t).hex();an.validateAddress(r);const n={query:ub,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(t,e){const r=Le.ensure(t).hex(),n=Le.ensure(e).hex();an.validateAddress(r),an.validateAddress(n);const i={query:db,variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(t){const e={query:xb,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenData(t){const e={query:pb,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenOwnersData(t,e){const r={query:yb,variables:{token_id:t,property_version:e}};return this.queryIndexer(r)}async getTopUserTransactions(t){const e={query:bb,variables:{limit:t}};return this.queryIndexer(e)}async getUserTransactions(t,e){const r={query:gb,variables:{start_version:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(t){const e=Le.ensure(t).hex();an.validateAddress(e);const r={query:fb,variables:{poolAddress:e}};return this.queryIndexer(r)}},mb={};ao(mb,{$AccountData:()=>Ob,$AccountSignature:()=>Nb,$AccountSignature_Ed25519Signature:()=>Mb,$AccountSignature_MultiEd25519Signature:()=>Db,$Address:()=>Lb,$AptosError:()=>Fb,$AptosErrorCode:()=>Hb,$Block:()=>Kb,$BlockMetadataTransaction:()=>$b,$DecodedTableData:()=>zb,$DeleteModule:()=>jb,$DeleteResource:()=>Gb,$DeleteTableItem:()=>Wb,$DeletedTableData:()=>qb,$DirectWriteSet:()=>Vb,$Ed25519Signature:()=>Jb,$EncodeSubmissionRequest:()=>Xb,$EntryFunctionId:()=>Zb,$EntryFunctionPayload:()=>Yb,$Event:()=>Qb,$EventGuid:()=>eg,$GasEstimation:()=>tg,$GenesisPayload:()=>rg,$GenesisPayload_WriteSetPayload:()=>ng,$GenesisTransaction:()=>ig,$HashValue:()=>sg,$HealthCheckSuccess:()=>ag,$HexEncodedBytes:()=>og,$IdentifierWrapper:()=>cg,$IndexResponse:()=>ug,$ModuleBundlePayload:()=>fg,$MoveAbility:()=>dg,$MoveFunction:()=>lg,$MoveFunctionGenericTypeParam:()=>hg,$MoveFunctionVisibility:()=>xg,$MoveModule:()=>pg,$MoveModuleBytecode:()=>yg,$MoveModuleId:()=>bg,$MoveResource:()=>gg,$MoveScriptBytecode:()=>mg,$MoveStruct:()=>wg,$MoveStructField:()=>vg,$MoveStructGenericTypeParam:()=>Eg,$MoveStructTag:()=>Sg,$MoveStructValue:()=>Ag,$MoveType:()=>_g,$MoveValue:()=>Tg,$MultiAgentSignature:()=>Rg,$MultiEd25519Signature:()=>Pg,$MultisigPayload:()=>Cg,$MultisigTransactionPayload:()=>kg,$PendingTransaction:()=>Ig,$RawTableItemRequest:()=>Bg,$RoleType:()=>Ug,$ScriptPayload:()=>Og,$ScriptWriteSet:()=>Ng,$StateCheckpointTransaction:()=>Mg,$StateKeyWrapper:()=>Dg,$SubmitTransactionRequest:()=>Lg,$TableItemRequest:()=>Fg,$Transaction:()=>Hg,$TransactionPayload:()=>Gg,$TransactionPayload_EntryFunctionPayload:()=>Wg,$TransactionPayload_ModuleBundlePayload:()=>Vg,$TransactionPayload_MultisigPayload:()=>Jg,$TransactionPayload_ScriptPayload:()=>Xg,$TransactionSignature:()=>Qg,$TransactionSignature_Ed25519Signature:()=>e1,$TransactionSignature_MultiAgentSignature:()=>t1,$TransactionSignature_MultiEd25519Signature:()=>r1,$Transaction_BlockMetadataTransaction:()=>Kg,$Transaction_GenesisTransaction:()=>$g,$Transaction_PendingTransaction:()=>zg,$Transaction_StateCheckpointTransaction:()=>qg,$Transaction_UserTransaction:()=>jg,$TransactionsBatchSingleSubmissionFailure:()=>Zg,$TransactionsBatchSubmissionResult:()=>Yg,$U128:()=>n1,$U256:()=>i1,$U64:()=>s1,$UserTransaction:()=>a1,$VersionedEvent:()=>o1,$ViewRequest:()=>c1,$WriteModule:()=>u1,$WriteResource:()=>f1,$WriteSet:()=>d1,$WriteSetChange:()=>x1,$WriteSetChange_DeleteModule:()=>p1,$WriteSetChange_DeleteResource:()=>y1,$WriteSetChange_DeleteTableItem:()=>b1,$WriteSetChange_WriteModule:()=>g1,$WriteSetChange_WriteResource:()=>m1,$WriteSetChange_WriteTableItem:()=>w1,$WriteSetPayload:()=>v1,$WriteSet_DirectWriteSet:()=>l1,$WriteSet_ScriptWriteSet:()=>h1,$WriteTableItem:()=>E1,AccountsService:()=>_0,ApiError:()=>Ys,AptosErrorCode:()=>U0,AptosGeneratedClient:()=>B0,BaseHttpRequest:()=>g0,BlocksService:()=>T0,CancelError:()=>m0,CancelablePromise:()=>w0,EventsService:()=>R0,GeneralService:()=>P0,MoveFunctionVisibility:()=>O0,OpenAPI:()=>Ub,RoleType:()=>N0,TablesService:()=>C0,TransactionsService:()=>k0,ViewService:()=>I0});var g0=class{constructor(t){this.config=t}},Ys=class extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},m0=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},w0=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},i=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},s=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),t(n,i,s)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new m0("Request aborted"))}}get isCancelled(){return this._isCancelled}},v0=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var r;const n=t.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=v0.parse(e);this.jar.set(n,[...((r=this.jar.get(n))==null?void 0:r.filter(s=>s.name!==i.name))||[],i])}getCookies(t){var e;const r=t.origin.toLowerCase();return this.jar.get(r)?((e=this.jar.get(r))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const e=t.split(";").map(n=>n.trim());let r;if(e.length>0){const[n,i]=e[0].split("=");if(!n||!i)throw new Error("Invalid cookie");r={name:n,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[i,s]=n.split("=");if(!i.trim())throw new Error("Invalid cookie");const a=i.toLowerCase(),o=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(a==="expires"&&(r.expires=new Date(o)),a==="path"&&(r.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=o}a==="secure"&&(r.secure=!0)}),r}},E0=new v0;$s.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{E0.setCookie(new URL(t.config.url),e)}),t)),$s.interceptors.request.use(function(t){const e=E0.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(r=>`${r.name}=${r.value}`).join("; ")),t});var lu=t=>t!=null,Uo=t=>typeof t=="string",hu=t=>Uo(t)&&t!=="",S0=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),wb=t=>t instanceof e0,vb=t=>t>=200&&t<300,Eb=t=>btoa(t),Sb=t=>{const e=[],r=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{lu(s)&&(Array.isArray(s)?s.forEach(a=>{n(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,o])=>{n(`${i}[${a}]`,o)}):r(i,s))};return Object.entries(t).forEach(([i,s])=>{n(i,s)}),e.length>0?`?${e.join("&")}`:""},Ab=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?r(String(e.path[a])):s}),i=`${t.BASE}${n}`;return e.query?`${i}${Sb(e.query)}`:i},_b=t=>{if(t.formData){const e=new e0,r=(n,i)=>{Uo(i)||S0(i)?e.append(n,i):e.append(n,JSON.stringify(i))};return Object.entries(t.formData).filter(([n,i])=>lu(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r(n,s)):r(n,i)}),e}},Oo=async(t,e)=>typeof e=="function"?e(t):e,Tb=async(t,e,r)=>{const n=await Oo(e,t.TOKEN),i=await Oo(e,t.USERNAME),s=await Oo(e,t.PASSWORD),a=await Oo(e,t.HEADERS),o=typeof(r==null?void 0:r.getHeaders)=="function"&&(r==null?void 0:r.getHeaders())||{},f=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([l,m])=>lu(m)).reduce((l,[m,S])=>({...l,[m]:String(S)}),{});if(hu(n)&&(f.Authorization=`Bearer ${n}`),hu(i)&&hu(s)){const l=Eb(`${i}:${s}`);f.Authorization=`Basic ${l}`}return e.body&&(e.mediaType?f["Content-Type"]=e.mediaType:S0(e.body)?f["Content-Type"]=e.body.type||"application/octet-stream":Uo(e.body)?f["Content-Type"]="text/plain":wb(e.body)||(f["Content-Type"]="application/json")),f},Rb=t=>{if(t.body)return t.body},Pb=async(t,e,r,n,i,s,a)=>{const o=$s.CancelToken.source(),f={url:r,headers:s,data:n??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(t.HEADERS||{}).filter(m=>m.toLowerCase()==="accept").map(m=>t.HEADERS[m]).includes("application/x-bcs")&&(f.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await $s.request(f)}catch(m){const S=m;if(S.response)return S.response;throw m}},Cb=(t,e)=>{if(e){const r=t.headers[e];if(Uo(r))return r}},kb=t=>{if(t.status!==204)return t.data},Ib=(t,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(n)throw new Ys(t,e,n);if(!e.ok)throw new Ys(t,e,"Generic Error")},Bb=(t,e)=>new w0(async(r,n,i)=>{try{const s=Ab(t,e),a=_b(e),o=Rb(e),f=await Tb(t,e,a);if(!i.isCancelled){const l=await Pb(t,e,s,o,a,f,i),m=kb(l),S=Cb(l,e.responseHeader),L={url:s,ok:vb(l.status),status:l.status,statusText:l.statusText,body:S??m};Ib(e,L);const j=L.body;try{j.__headers=l.headers}catch{}r(j)}}catch(s){n(s)}}),A0=class extends g0{constructor(t){super(t)}request(t){return Bb(this.config,t)}},_0=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountModules(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountResource(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:r}})}getAccountModule(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:r}})}},T0=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},R0=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:r,limit:n}})}getEventsByEventHandle(t,e,r,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:r},query:{start:n,limit:i}})}},P0=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},C0=class{constructor(t){this.httpRequest=t}getTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}getRawTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}},k0=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},I0=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},B0=class{constructor(t,e=A0){var r,n,i,s;this.request=new e({BASE:(r=t==null?void 0:t.BASE)!=null?r:"/v1",VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new _0(this.request),this.blocks=new T0(this.request),this.events=new R0(this.request),this.general=new P0(this.request),this.tables=new C0(this.request),this.transactions=new k0(this.request),this.view=new I0(this.request)}},Ub={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},U0=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(U0||{}),O0=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(O0||{}),N0=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(N0||{}),Ob={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Nb={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Mb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Db={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Lb={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},Fb={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},Hb={type:"Enum"},Kb={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},$b={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},zb={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},qb={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},jb={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Gb={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Wb={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Vb={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Jb={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Xb={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Zb={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},Yb={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Qb={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},eg={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},tg={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},rg={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},ng={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},ig={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},sg={type:"string"},ag={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},og={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},cg={type:"string"},ug={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},fg={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},dg={type:"string"},lg={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},hg={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},xg={type:"Enum"},pg={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},yg={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},bg={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},gg={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},mg={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},wg={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},vg={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},Eg={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Sg={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},Ag={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},_g={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},Tg={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},Rg={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},Pg={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},Cg={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},kg={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},Ig={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},Bg={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Ug={type:"Enum"},Og={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Ng={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Mg={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Dg={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Lg={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Fg={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Hg={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Kg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},$g={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},zg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},qg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},jg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},Gg={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Wg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Vg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Jg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Xg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Zg={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Yg={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Qg={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},e1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},t1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},r1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},n1={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},i1={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},s1={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},a1={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},o1={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},c1={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},u1={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},f1={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},d1={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},l1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},h1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},x1={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},p1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},y1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},b1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},g1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},m1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},w1={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},v1={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},E1={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function No(t,e,r){if(!(e!=null&&e.includes(typeof t)))throw new Error(r||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function M0(t){if(No(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function Gi(t){if(No(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Wi(t){return No(t,["number","bigint","string"]),BigInt(t)}function Mo(t,e,r){if(e instanceof ni){r.serializeBool(M0(t));return}if(e instanceof gn){r.serializeU8(Gi(t));return}if(e instanceof Li){r.serializeU16(Gi(t));return}if(e instanceof Fi){r.serializeU32(Gi(t));return}if(e instanceof ii){r.serializeU64(Wi(t));return}if(e instanceof si){r.serializeU128(Wi(t));return}if(e instanceof Hi){r.serializeU256(Wi(t));return}if(e instanceof Fn){let n;if(typeof t=="string"||t instanceof Le)n=Ht.fromHex(t);else if(t instanceof Ht)n=t;else throw new Error("Invalid account address.");n.serialize(r);return}if(e instanceof Ki){if(e.value instanceof gn){if(t instanceof Uint8Array){r.serializeBytes(t);return}if(typeof t=="string"){r.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(t.length),t.forEach(n=>Mo(n,e.value,r));return}if(e instanceof ai){const{address:n,module_name:i,name:s}=e.value;if(`${Le.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");No(t,["string"]),r.serializeStr(t);return}throw new Error("Unsupported arg type.")}function S1(t,e){if(e instanceof ni)return new Po(M0(t));if(e instanceof gn)return new wo(Gi(t));if(e instanceof Li)return new vo(Gi(t));if(e instanceof Fi)return new Eo(Gi(t));if(e instanceof ii)return new So(Wi(t));if(e instanceof si)return new Ao(Wi(t));if(e instanceof Hi)return new _o(Wi(t));if(e instanceof Fn){let r;if(typeof t=="string"||t instanceof Le)r=Ht.fromHex(t);else if(t instanceof Ht)r=t;else throw new Error("Invalid account address.");return new To(r)}if(e instanceof Ki&&e.value instanceof gn){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Ro(t)}throw new Error("Unknown type for TransactionArgument.")}var A1="APTOS::RawTransaction",_1="APTOS::RawTransactionWithData",Vi=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,r)}static getSigningMessage(t){const e=Ni.create();if(t instanceof zi)e.update(A1);else if(t instanceof yo)e.update(_1);else throw new Error("Unknown transaction type.");const r=e.digest(),n=bn(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},Do=class extends Vi{constructor(t,e,r){super(t,r),this.publicKey=e}rawToSigned(t){const e=Vi.getSigningMessage(t),r=this.signingFunction(e),n=new ho(new Kr(this.publicKey),r);return new Vs(t,n)}sign(t){return bn(this.rawToSigned(t))}},T1=class extends Vi{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=Vi.getSigningMessage(t),r=this.signingFunction(e),n=new xo(this.publicKey,r);return new Vs(t,n)}sign(t){return bn(this.rawToSigned(t))}},xu=class{constructor(t,e){this.abiMap=new Map,t.forEach(r=>{const n=new tu(r),i=Co.deserialize(n);let s;if(i instanceof qi){const a=i,{address:o,name:f}=a.module_name;s=`${Le.fromUint8Array(o.address).toShortString()}::${f.value}::${a.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(i0),expSecFromNow:s0,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>{const i=new Ft;return Mo(r,t[n].type_tag,i),i.getBytes()})}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>S1(r,t[n].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,r){const n=e.map(a=>new $i(a).parseTypeTag());let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof qi){const a=s,o=xu.toBCSArgs(a.args,r);i=new go(new ci(a.module_name,new br(a.name),n,o))}else if(s instanceof ko){const a=s,o=xu.toTransactionArguments(a.args,r);i=new bo(new po(a.code,n,o))}else throw new Error("Unknown ABI format.");return i}build(t,e,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:f}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const l=n instanceof Ht?n:Ht.fromHex(n),m=BigInt(Math.floor(Date.now()/1e3)+Number(o)),S=this.buildTransactionPayload(t,e,r);if(S)return new zi(l,BigInt(i),S,BigInt(a),BigInt(s),m,new mo(Number(f)));throw new Error("Invalid ABI.")}},nr=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const r=(await this.aptosClient.getAccountModules(t)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return r.forEach(i=>{n.set(i.fullName,i)}),n}async build(t,e,r){if(t=(He=>He.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,a]=t.split("::"),o=await this.fetchABI(s);if(!o.has(t))throw new Error(`${t} doesn't exist.`);const f=o.get(t),m=f.params.filter(He=>He!=="signer"&&He!=="&signer").map((He,Et)=>new Zs(`var${Et}`,new $i(He,e).parseTypeTag())),S=new qi(f.name,ui.fromStr(`${s}::${a}`),"",f.generic_type_params.map((He,Et)=>new Xs(`${Et}`)),m),{sender:L,...j}=this.builderConfig,z=L instanceof Ht?Le.fromUint8Array(L.address):L,[{sequence_number:Z},ue,{gas_estimate:Te}]=await Promise.all([j!=null&&j.sequenceNumber?Promise.resolve({sequence_number:j==null?void 0:j.sequenceNumber}):this.aptosClient.getAccount(z),j!=null&&j.chainId?Promise.resolve(j==null?void 0:j.chainId):this.aptosClient.getChainId(),j!=null&&j.gasUnitPrice?Promise.resolve({gas_estimate:j==null?void 0:j.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new xu([bn(S)],{sender:L,sequenceNumber:Z,chainId:ue,gasUnitPrice:BigInt(Te),...j}).build(t,e,r)}};_t([Oy(10*60*1e3)],nr.prototype,"fetchABI",1);var Qs=class{constructor(t,e,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};r?this.nodeUrl=t:this.nodeUrl=Uy(t),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new B0(n)}async getAccount(t){return this.client.accounts.getAccount(Le.ensure(t).hex())}async getAccountTransactions(t,e){var r;return this.client.transactions.getAccountTransactions(Le.ensure(t).hex(),(r=e==null?void 0:e.start)==null?void 0:r.toString(),e==null?void 0:e.limit)}async getAccountModules(t,e){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await c0(r,t,1e3,e)}async getAccountModule(t,e,r){var n;return this.client.accounts.getAccountModule(Le.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(t,e){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await c0(r,t,9999,e)}async getAccountResource(t,e,r){var n;return this.client.accounts.getAccountResource(Le.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(t,e){return new Do(n=>{const i=t.signBuffer(n);return new Tt.Ed25519Signature(i.toUint8Array())},t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new Do(n=>{const i=new Uint8Array(64);return new Tt.Ed25519Signature(i)},t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,r){const n={sender:t};if(r!=null&&r.sequence_number&&(n.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(n.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(n.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const s=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new nr(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(Qs.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,r){var n;return this.client.events.getEventsByCreationNumber(Le.ensure(t).hex(),e.toString(),(n=r==null?void 0:r.start)==null?void 0:n.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(t,e,r,n){var i;return this.client.events.getEventsByEventHandle(Le.ensure(t).hex(),e,r,(i=n==null?void 0:n.start)==null?void 0:i.toString(),n==null?void 0:n.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,r){let n;return t instanceof Bo?n=Qs.generateBCSSimulation(t,e):t instanceof qs?n=new T1(()=>{const{threshold:s}=t,a=[],o=[];for(let l=0;l<s;l+=1)a.push(l),o.push(new Tt.Ed25519Signature(new Uint8Array(64)));const f=Tt.MultiEd25519Signature.createBitmap(a);return new Tt.MultiEd25519Signature(o,f)},t).sign(e):n=new Do(()=>{const s=new Uint8Array(64);return new Tt.Ed25519Signature(s)},t.toBytes()).sign(e),this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var r,n,i;const s={estimate_gas_unit_price:(r=e==null?void 0:e.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions((e=t==null?void 0:t.start)==null?void 0:e.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(t,e){var r,n;const i=(r=e==null?void 0:e.timeoutSecs)!=null?r:a0,s=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,f;for(;a&&!(o>=i);){try{if(f=await this.client.transactions.getTransactionByHash(t),a=f.type==="pending_transaction",!a)break}catch(l){const m=l instanceof Ys,S=m&&l.status!==404&&l.status>=400&&l.status<500;if(!m||S)throw l}await By(1e3),o+=1}if(f===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new P1(`Waiting for transaction ${t} timed out after ${i} seconds`,f);if(!s)return f;if(!(f!=null&&f.success))throw new C1(`Transaction ${t} committed to the blockchain but execution failed`,f);return f}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,r){var n;return await this.client.tables.getTableItem(t,e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(t,e,r){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:f}={maxGasAmount:BigInt(i0),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+s0),...r};return new Tt.RawTransaction(Tt.AccountAddress.fromHex(t),BigInt(n),e,a,o,f,new Tt.ChainId(i))}async generateSignSubmitTransaction(t,e,r){const n=await this.generateRawTransaction(t.address(),e,r),i=Qs.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(t,e,r,n){const i=new Ft;Cr(r,i);const s=new Tt.TransactionPayloadEntryFunction(Tt.EntryFunction.natural("0x1::code","publish_package_txn",[],[Di(e),i.getBytes()]));return this.generateSignSubmitTransaction(t,s,n)}async generateSignSubmitWaitForTransaction(t,e,r){const n=await this.generateSignSubmitTransaction(t,e,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const e=`0x1::coin::CoinStore<${eu}>`,[{gas_estimate:r},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),i=n.find(a=>a.type===e);return BigInt(i.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(t,e,r){const{sequence_number:n,authentication_key:i}=await this.getAccount(t.address()),s=new Bo(e),a=new Tt.RotationProofChallenge(Tt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),Tt.AccountAddress.fromHex(t.address()),new Tt.AccountAddress(new Le(i).toUint8Array()),s.pubKey().toUint8Array()),o=Le.fromUint8Array(bn(a)),f=t.signHexString(o),l=s.signHexString(o),m=new Tt.TransactionPayloadEntryFunction(Tt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[ru(0),Di(t.pubKey().toUint8Array()),ru(0),Di(s.pubKey().toUint8Array()),Di(f.toUint8Array()),Di(l.toUint8Array())])),S=await this.generateRawTransaction(t.address(),m,r),L=Qs.generateBCSTransaction(t,S);return this.submitSignedBCSTransaction(L)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=e.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:Le.ensure(t).hex()});return new Le(n)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){Ny(t)}},ft=Qs;_t([Xt],ft.prototype,"getAccount",1),_t([Xt],ft.prototype,"getAccountTransactions",1),_t([Xt],ft.prototype,"getAccountModules",1),_t([Xt],ft.prototype,"getAccountModule",1),_t([Xt],ft.prototype,"getAccountResources",1),_t([Xt],ft.prototype,"getAccountResource",1),_t([Xt],ft.prototype,"getEventsByCreationNumber",1),_t([Xt],ft.prototype,"getEventsByEventHandle",1),_t([Xt],ft.prototype,"submitSignedBCSTransaction",1),_t([Xt],ft.prototype,"submitBCSSimulation",1),_t([Xt],ft.prototype,"getTransactions",1),_t([Xt],ft.prototype,"getTransactionByHash",1),_t([Xt],ft.prototype,"getTransactionByVersion",1),_t([Xt],ft.prototype,"getLedgerInfo",1),_t([oo()],ft.prototype,"getChainId",1),_t([Xt],ft.prototype,"getTableItem",1),_t([Xt,oo({ttlMs:5*60*1e3,tags:["gas_estimates"]})],ft.prototype,"estimateGasPrice",1),_t([Xt],ft.prototype,"estimateMaxGasAmount",1),_t([Xt],ft.prototype,"getBlockByHeight",1),_t([Xt],ft.prototype,"getBlockByVersion",1),_t([Xt],ft.prototype,"view",1);var R1=class extends Error{constructor(t,e,r,n){super(e),this.status=t,this.message=e,this.errorCode=r,this.vmErrorCode=n}},P1=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},C1=class extends Error{constructor(t,e){super(t),this.transaction=e}};function Xt(t,e,r){const n=r.value;return r.value=async function(...s){var a,o;try{return await n.apply(this,[...s])}catch(f){throw f instanceof Ys?new R1(f.status,JSON.stringify({message:f.message,...f.body}),(a=f.body)==null?void 0:a.error_code,(o=f.body)==null?void 0:o.vm_error_code):f}},r}var D0=class{constructor(t,e,r=!1){let n=null,i=null;if(typeof t=="object"&&k1(t)?(n=t.fullnodeUrl,i=t.indexerUrl,this.network="CUSTOM"):(n=Dy[t],i=My[t],this.network=t),!n||!i)throw new Error("network is not provided");this.aptosClient=new ft(n,e,r),this.indexerClient=new an(i)}};function L0(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...s){return this[r][n](...s)},Object.defineProperty(t.prototype,n,i))})}L0(D0,ft,"aptosClient"),L0(D0,an,"indexerClient");function k1(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var F0=class{constructor(t,e){this.type=t,this.value=e}},pu=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function yu(t){let e;return t==="string"||t==="String"?e=new ai(f0):e=new $i(t).parseTypeTag(),e}function bu(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const r=new Array;return e.forEach((n,i)=>{try{const s=yu(n),a=new Ft;Mo(t[i],s,a),r.push(a.getBytes())}catch{r.push(new TextEncoder().encode(t[i]))}}),r}function H0(t,e){if(!t||!e)throw new Error("value or type can not be empty");try{const r=yu(e),n=new Ft;return Mo(t,r,n),n.getBytes()}catch{return new TextEncoder().encode(t)}}function K0(t){const e=t.map.data,r=new pu;return e.forEach(n=>{const{key:i}=n,s=n.value.value,a=n.value.type,o=yu(a),f=I1(o,s),l=new F0(a,f);r.setProperty(i,l)}),r}function I1(t,e){const r=new tu(new Le(e).toUint8Array());let n="";return t instanceof gn?n=r.deserializeU8().toString():t instanceof ii?n=r.deserializeU64().toString():t instanceof si?n=r.deserializeU128().toString():t instanceof ni?n=r.deserializeBool()?"true":"false":t instanceof Fn?n=Le.fromUint8Array(r.deserializeFixedBytes(32)).hex():t instanceof ai&&t.isStringTypeTag()?n=r.deserializeStr():n=e,n}var B1={};ao(B1,{PropertyMap:()=>pu,PropertyValue:()=>F0,Token:()=>z0,TokenData:()=>$0});var $0=class{constructor(t,e,r,n,i,s,a,o){this.collection=t,this.description=e,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=K0(a),this.mutability_config=o}},z0=class{constructor(t,e,r){this.id=t,this.amount=e,this.token_properties=K0(r)}},E2=class{constructor(t){this.aptosClient=t}async createCollection(t,e,r,n,i=Mi,s){const o=await new nr(this.aptosClient,{sender:t.address(),...s}).build("0x3::token::create_collection_script",[],[e,r,n,i,[!1,!1,!1]]),f=ft.generateBCSTransaction(t,o);return(await this.aptosClient.submitSignedBCSTransaction(f)).hash}async createToken(t,e,r,n,i,s,a=Mi,o=t.address(),f=0,l=0,m=[],S=[],L=[],j){const Z=await new nr(this.aptosClient,{sender:t.address(),...j}).build("0x3::token::create_token_script",[],[e,r,n,i,a,s,o,f,l,[!1,!1,!1,!1,!1],m,bu(S,L),L]),ue=ft.generateBCSTransaction(t,Z);return(await this.aptosClient.submitSignedBCSTransaction(ue)).hash}async createTokenWithMutabilityConfig(t,e,r,n,i,s,a=Mi,o=t.address(),f=0,l=0,m=[],S=[],L=[],j=[!1,!1,!1,!1,!1],z){const ue=await new nr(this.aptosClient,{sender:t.address(),...z}).build("0x3::token::create_token_script",[],[e,r,n,i,a,s,o,f,l,j,m,S,L]),Te=ft.generateBCSTransaction(t,ue);return(await this.aptosClient.submitSignedBCSTransaction(Te)).hash}async offerToken(t,e,r,n,i,s,a=0,o){const l=await new nr(this.aptosClient,{sender:t.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,r,n,i,a,s]),m=ft.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async claimToken(t,e,r,n,i,s=0,a){const f=await new nr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,r,n,i,s]),l=ft.generateBCSTransaction(t,f);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async cancelTokenOffer(t,e,r,n,i,s=0,a){const f=await new nr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,r,n,i,s]),l=ft.generateBCSTransaction(t,f);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async directTransferToken(t,e,r,n,i,s,a=0,o){const l=await new nr(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::direct_transfer_script",[],[r,n,i,a,s]),m=new Tt.MultiAgentRawTransaction(l,[Tt.AccountAddress.fromHex(e.address())]),S=new Tt.Ed25519Signature(t.signBuffer(Vi.getSigningMessage(m)).toUint8Array()),L=new Tt.AccountAuthenticatorEd25519(new Tt.Ed25519PublicKey(t.signingKey.publicKey),S),j=new Tt.Ed25519Signature(e.signBuffer(Vi.getSigningMessage(m)).toUint8Array()),z=new Tt.AccountAuthenticatorEd25519(new Tt.Ed25519PublicKey(e.signingKey.publicKey),j),Z=new Tt.TransactionAuthenticatorMultiAgent(L,[Tt.AccountAddress.fromHex(e.address())],[z]),ue=bn(new Tt.SignedTransaction(l,Z));return(await this.aptosClient.submitSignedBCSTransaction(ue)).hash}async optInTokenTransfer(t,e,r){const i=await new nr(this.aptosClient,{sender:t.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[e]),s=ft.generateBCSTransaction(t,i);return(await this.aptosClient.submitSignedBCSTransaction(s)).hash}async transferWithOptIn(t,e,r,n,i,s,a,o){const l=await new nr(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,r,n,i,s,a]),m=ft.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async burnByCreator(t,e,r,n,i,s,a){const f=await new nr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn_by_creator",[],[e,r,n,i,s]),l=ft.generateBCSTransaction(t,f);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async burnByOwner(t,e,r,n,i,s,a){const f=await new nr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn",[],[e,r,n,i,s]),l=ft.generateBCSTransaction(t,f);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async mutateTokenProperties(t,e,r,n,i,s,a,o,f,l,m){const L=await new nr(this.aptosClient,{sender:t.address(),...m}).build("0x3::token::mutate_token_properties",[],[e,r,n,i,s,a,o,f,l]),j=ft.generateBCSTransaction(t,L);return(await this.aptosClient.submitSignedBCSTransaction(j)).hash}async getCollectionData(t,e){const n=(await this.aptosClient.getAccountResources(t)).find(o=>o.type==="0x3::token::Collections"),{handle:i}=n.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(t,e,r){const n=t instanceof Le?t.hex():t,i=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:s}=i.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:r}},f=await this.aptosClient.getTableItem(s,o);return new $0(f.collection,f.description,f.name,f.maximum,f.supply,f.uri,f.default_properties,f.mutability_config)}async getToken(t,e,r,n="0"){const i={creator:t instanceof Le?t.hex():t,collection:e,name:r};return this.getTokenForAccount(t,{token_data_id:i,property_version:n})}async getTokenForAccount(t,e){const r=await this.aptosClient.getAccountResource(t instanceof Le?t.hex():t,"0x3::token::TokenStore"),{handle:n}=r.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(n,i);return new z0(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new pu}:s}}},Ji={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},S2=class{constructor(t){this.tokenType="0x4::token::Token",this.provider=t}async submitTransaction(t,e,r,n,i){const a=await new nr(this.provider,{sender:t.address(),...i}).build(`0x4::aptos_token::${e}`,r,n),o=ft.generateBCSTransaction(t,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(t,e,r,n,i=Mi,s,a){var o,f,l,m,S,L,j,z,Z,ue,Te;return this.submitTransaction(t,"create_collection",[],[e,i,r,n,(o=s==null?void 0:s.mutableDescription)!=null?o:!0,(f=s==null?void 0:s.mutableRoyalty)!=null?f:!0,(l=s==null?void 0:s.mutableURI)!=null?l:!0,(m=s==null?void 0:s.mutableTokenDescription)!=null?m:!0,(S=s==null?void 0:s.mutableTokenName)!=null?S:!0,(L=s==null?void 0:s.mutableTokenProperties)!=null?L:!0,(j=s==null?void 0:s.mutableTokenURI)!=null?j:!0,(z=s==null?void 0:s.tokensBurnableByCreator)!=null?z:!0,(Z=s==null?void 0:s.tokensFreezableByCreator)!=null?Z:!0,(ue=s==null?void 0:s.royaltyNumerator)!=null?ue:0,(Te=s==null?void 0:s.royaltyDenominator)!=null?Te:0],a)}async mint(t,e,r,n,i,s=[],a=[],o=[],f){return this.submitTransaction(t,"mint",[],[e,r,n,i,s,a,bu(o,a)],f)}async mintSoulBound(t,e,r,n,i,s,a=[],o=[],f=[],l){return this.submitTransaction(t,"mint_soul_bound",[],[e,r,n,i,a,o,bu(f,o),s.address().hex()],l)}async burnToken(t,e,r,n){return this.submitTransaction(t,"burn",[r||this.tokenType],[Le.ensure(e).hex()],n)}async freezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"freeze_transfer",[r||this.tokenType],[Le.ensure(e).hex()],n)}async unfreezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"unfreeze_transfer",[r||this.tokenType],[Le.ensure(e).hex()],n)}async setTokenDescription(t,e,r,n,i){return this.submitTransaction(t,"set_description",[n||this.tokenType],[Le.ensure(e).hex(),r],i)}async setTokenName(t,e,r,n,i){return this.submitTransaction(t,"set_name",[n||this.tokenType],[Le.ensure(e).hex(),r],i)}async setTokenURI(t,e,r,n,i){return this.submitTransaction(t,"set_uri",[n||this.tokenType],[Le.ensure(e).hex(),r],i)}async addTokenProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"add_property",[s||this.tokenType],[Le.ensure(e).hex(),r,Ji[n],H0(i,Ji[n])],a)}async removeTokenProperty(t,e,r,n,i){return this.submitTransaction(t,"remove_property",[n||this.tokenType],[Le.ensure(e).hex(),r],i)}async updateTokenProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"update_property",[s||this.tokenType],[Le.ensure(e).hex(),r,Ji[n],H0(i,Ji[n])],a)}async addTypedProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"add_typed_property",[s||this.tokenType,Ji[n]],[Le.ensure(e).hex(),r,i],a)}async updateTypedProperty(t,e,r,n,i,s,a){return this.submitTransaction(t,"update_typed_property",[s||this.tokenType,Ji[n]],[Le.ensure(e).hex(),r,i],a)}async transferTokenOwnership(t,e,r,n,i){const a=await new nr(this.provider.aptosClient,{sender:t.address(),...i}).build("0x1::object::transfer",[n||this.tokenType],[Le.ensure(e).hex(),Le.ensure(r).hex()]),o=ft.generateBCSTransaction(t,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},A2=class{constructor(t){this.aptosClient=t}async transfer(t,e,r,n){var i;const s=(i=n==null?void 0:n.coinType)!=null?i:eu,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=b0(e),l=await new nr(this.aptosClient,{sender:t.address(),...n}).build(a,[s],[o,r]),m=ft.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async checkBalance(t,e){var r;const i=`0x1::coin::CoinStore<${(r=e==null?void 0:e.coinType)!=null?r:eu}>`,s=b0(t),a=await this.aptosClient.getAccountResource(s,i);return BigInt(a.data.coin.value)}},_2=class extends null{constructor(t,e,r){var n,i,s;if(super(t,r),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new A0({BASE:e,VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(i=r==null?void 0:r.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=r==null?void 0:r.CREDENTIALS)!=null?s:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH})}async fundAccount(t,e,r=a0){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:Le.ensure(t).noPrefix(),amount:e}}),i=[];for(let s=0;s<n.length;s+=1){const a=n[s];i.push(this.waitForTransaction(a,{timeoutSecs:r}))}return await Promise.all(i),n}},q0=x(55872).Buffer;class U1 extends Wa{constructor(r){super(r);O(this,"signerInstance");O(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new ft(this.providerUrl))}async getTx(r){const i=await(await this.getProvider()).waitForTransactionWithResult(r,{timeoutSecs:1,checkSuccess:!0}),s=i==null?void 0:i.payload;if(!i.success)throw new Error((i==null?void 0:i.vm_status)??"Unknown Aptos error");if(!((s==null?void 0:s.function)==="0x1::coin::transfer"&&(s==null?void 0:s.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(i==null?void 0:i.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${r} failed validation`);const a=i.type==="pending_transaction";return{to:s.arguments[0],from:i.sender,amount:new Ze.Z(s.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(r){const n=df.sha3_256.create();return n.update(q0.from(r)),n.update("\0"),`0x${n.hex()}`}async sign(r){return await this.getSigner().sign(r)}getSigner(){return this.signerInstance??(this.signerInstance=new Fa(this.wallet,this._publicKey))}async verify(r,n,i){return await Fa.verify(r,n,i)}async getCurrentHeight(){return new Ze.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(r,n){const i=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new nr(i,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new Ze.Z(r).toNumber()]),f=new Do(S=>{const L=new Uint8Array(64);return new Tt.Ed25519Signature(L)},await this.getPublicKey()).sign(a),l={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},m=await i.client.request.request({url:"/transactions/simulate",query:l,method:"POST",body:f,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+m[0].gas_unit_price,maxGasAmount:+m[0].max_gas_amount}}async sendTx(r){return(await this.wallet.signAndSubmitTransaction(r)).hash}async createTx(r,n,i){return{txId:void 0,tx:{arguments:[n,new Ze.Z(r).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=q0.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const r=await this.getProvider();this._address=await r.lookupOriginalAddress(this.address??"").then(i=>i.toString()).catch(i=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class O1 extends Va{}class N1 extends Va{async createTx(e,r,n){const i=this.w3signer,s={to:r,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(s);return s.gasLimit=a,{tx:await i.populateTransaction(s),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new Ze.Z(n.blockNumber):void 0,amount:new Ze.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const r=await e.getSigner();r._signTypedData=async(n,i,s)=>r.signTypedData(n,i,s),e.getSigner=()=>r,this.wallet=e,await super.ready()}}function M1(t){switch(t.token){case"ethereum":return Xi("ethereum",t.providerName,{irys:t.irys,name:"ethereum",ticker:"ETH",providerUrl:t.providerUrl??"https://cloudflare-eth.com/",wallet:t.wallet});case"matic":return Xi("ethereum",t.providerName,{irys:t.irys,name:"matic",ticker:"MATIC",providerUrl:t.providerUrl??"https://polygon-rpc.com",wallet:t.wallet,minConfirm:1});case"arbitrum":return Xi("ethereum",t.providerName,{irys:t.irys,name:"arbitrum",ticker:"ETH",providerUrl:t.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:t.wallet});case"bnb":return Xi("ethereum",t.providerName,{irys:t.irys,name:"bnb",ticker:"BNB",providerUrl:t.providerUrl??"https://bsc-dataseed.binance.org",wallet:t.wallet});case"avalanche":return Xi("ethereum",t.providerName,{irys:t.irys,name:"avalanche",ticker:"AVAX",providerUrl:t.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:t.wallet});case"boba-eth":return Xi("ethereum",t.providerName,{irys:t.irys,name:"boba-eth",ticker:"ETH",providerUrl:t.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:t.wallet});case"boba":{const e=new Mp({irys:t.irys,name:"boba",ticker:"BOBA",providerUrl:t.providerUrl??"https://mainnet.boba.network/",contractAddress:t.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t.wallet});return e.price=async()=>{var n;const r=await ss.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await sr.checkAndThrow(r,"Getting price data"),!((n=r==null?void 0:r.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+r.data.rate},e}case"solana":return new tp({irys:t.irys,name:"solana",ticker:"SOL",providerUrl:t.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:t.wallet});case"near":return new Qx({irys:t.irys,name:"near",ticker:"NEAR",providerUrl:t.providerUrl??"https://rpc.mainnet.near.org",wallet:t.wallet});case"aptos":return new U1({irys:t.irys,name:"aptos",ticker:"APTOS",providerUrl:t.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:t.wallet});default:throw new Error(`Unknown/Unsupported token ${t.token}`)}}function Xi(t,e,r){switch(t){case"ethereum":switch(e){case"ethersv5":return new O1(r);case"ethersv6":return new N1(r);default:return new Va(r)}}}class D1{constructor(e){O(this,"irys");this.irys=e}async upload(e,r){return this.irys.uploadWithReceipt(e,r)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([r,n])=>({name:j0[r],value:n}))})}async getAllProofs(e,r){var o,f;const n=Object.entries(e).map(([l,m])=>({name:j0[l],values:[m]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const i=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,s=[];let a=null;do{const l=await this.irys.api.post("/graphql",{query:i,variables:{tags:n,limit:(r==null?void 0:r.limit)??null,after:a}},void 0);a=(f=(o=l.data.data.transactions)==null?void 0:o.pageInfo)!=null&&f.hasNextPage?l.data.data.transactions.pageInfo.endCursor:null,s.push(...l.data.data.transactions.edges.map(m=>m.node))}while(a);return s}async getProof(e){const r=(await this.getAllProofs(e,{limit:1})).at(0);if(!r)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return r}}const j0={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class L1{constructor(e){O(this,"irys");this.irys=e}async getById(e){const r=(await this.query({ids:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with id ${e}`);return r}async getByOwner(e){const r=(await this.query({owners:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with owner ${e}`);return r}async getByTag(e,r){const n=(await this.query({tags:[{name:e,values:[r]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${r}`);return n}async query(e){var s,a;const r=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let i=null;do{const o=await this.irys.api.post("/graphql",{query:r,variables:{...e,after:i??e.after}},void 0);i=(a=(s=o.data.data.transactions)==null?void 0:s.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(f=>f.node))}while(i);return n}}var F1=x(14676),H1=x(72100);const K1=Symbol("not readable"),$1=Symbol("readable"),z1=Symbol("ended"),q1=Symbol("errored"),lr={notReadable:K1,readable:$1,ended:z1,errored:q1};class j1{constructor(e,{size:r}={}){O(this,"_stream");O(this,"_error");O(this,"_state",lr.notReadable);O(this,"_size");O(this,"_rejections",new Set);this._stream=e,this._size=r;const n=["_handleStreamEnd","_handleStreamError"];for(const i of n)Object.defineProperty(this,i,{configurable:!0,writable:!0,value:this[i].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=lr.readable})}get closed(){return this._state===lr.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case lr.notReadable:{let e,r;try{e=this._untilReadable(),r=this._untilEnd(),await Promise.race([e.promise,r.promise])}finally{e!=null&&e.close(),r!=null&&r.close()}return this.next()}case lr.ended:return this.close(),{done:!0,value:void 0};case lr.errored:throw this.close(),this._error;case lr.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=lr.notReadable,await new Promise(r=>setTimeout(n=>n(!0),0,r)),this.next())}}}_untilReadable(){let e;const r=new Promise((i,s)=>{e=()=>{this._state=lr.readable,this._rejections.delete(s),i()},this._state,lr.readable,this._stream.once("readable",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:r}}_untilEnd(){let e;const r=new Promise((i,s)=>{e=()=>{this._state=lr.ended,this._rejections.delete(s),i()},this._stream.once("end",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:r}}return(){return this._state=lr.ended,this.next()}throw(e){return this._error=e,this._state=lr.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=lr.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=lr.errored;for(const r of this._rejections)r(e)}_handleStreamEnd(){this._state=lr.ended}get state(){return this._state}}var Zi=x(55872).Buffer;class G1 extends H1.EventEmitter{constructor(r,n){super({captureRejections:!0});O(this,"tokenConfig");O(this,"api");O(this,"uploadID");O(this,"token");O(this,"chunkSize");O(this,"batchSize");O(this,"paused",!1);O(this,"isResume",!1);O(this,"uploadOptions");O(this,"arbundles");this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(r){return r&&(this.uploadID=r,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(r){if(r<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=r,this}setBatchSize(r){if(r<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=r,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(r,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(r)?this.runUpload(r.getRaw()):this.runUpload(r)}async uploadData(r,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(r,{...n})}async runUpload(r,n){var on;let i=this.uploadID;const s=n===void 0,a={"x-chunking-version":"2"};let o;if(!i)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),sr.checkAndThrow(o,"Getting upload token"),this.uploadID=i=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${i}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(sr.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:f,min:l}=o.data;if(this.chunkSize<+l||this.chunkSize>+f)throw new Error(`Chunk size out of allowed range: ${l} - ${f}`);let m=0;const S=(Ye,Ut,hr)=>new Promise(di=>{Sn(async wu=>{await this.api.post(`/chunks/${this.token}/${i}/${Ut}`,Ye,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(Kn=>{if((Kn==null?void 0:Kn.status)>=300){const rl={res:Kn,id:hr,offset:Ut,size:Ye.length};throw this.emit("chunkError",rl),(Kn==null?void 0:Kn.status)===402&&wu(new Error("Not enough funds to send data")),rl}this.emit("chunkUpload",{id:hr,offset:Ut,size:Ye.length,totalUploaded:m+=Ye.length}),di({o:Ut,d:Kn})})})}),L=o.data.chunks??[],j=new as.PassThrough;let z=Zi.alloc(0),Z=!1,ue=!0;j.on("end",()=>Z=!0),j.on("error",Ye=>{throw new Error(`Error processing readable: ${Ye}`)});const Te=async Ye=>{for(;!Z;){if(z.length>=Ye)return Ut=Zi.from(z.slice(0,Ye)),z=z.slice(Ye),Ut;var Ut=j.read(Ye);if(Ut===null){await new Promise(hr=>setTimeout(di=>di(!0),0,hr));continue}if(Ut.length===Ye)return Ut;z=Zi.concat([z,Ut])}for(;z.length>=Ye;)return Ut=Zi.from(z.slice(0,Ye)),z=z.slice(Ye),Ut;return ue=!1,z};let ze,He;if(!s){ze=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??fn.randomBytes(32).toString("base64").slice(0,32)});const Ye=ze.getRaw();He=Ye.length,j.write(Ye),m-=Ye.length}if(Zi.isBuffer(r))j.write(r),j.end();else if("pipe"in r)r.pipe(j);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let Et=0;const wt=new Set;let Qt=0,ir,St,Kt;if(!s){St=new as.PassThrough;const Ye=ze.getRaw().length;if(this.chunkSize<He)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${He})`);ir=await Te(this.chunkSize),Qt++,Et+=ir.length,St.write(ir.slice(Ye));const Ut=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(ze.signatureType.toString()),ze.rawOwner,ze.rawTarget,ze.rawAnchor,ze.rawTags,new j1(St)];Kt=this.arbundles.deepHash(Ut)}let gr=L.pop();for(;ue;){if(this.paused&&await new Promise(hr=>this.on("resume",()=>hr(void 0))),gr&&+gr[0]-Et<=this.chunkSize){const di=gr[1],wu=await Te(di);s||St.write(wu),Et+=di,gr=L.pop(),Qt++,m+=di;continue}const Ye=await Te(this.chunkSize);for(s||St.write(Ye);wt.size>=this.batchSize;){const[hr]=await Promise.race(wt);wt.delete(hr)}const Ut=(async()=>await S(Ye,Et,++Qt))().then(hr=>[Ut,hr]);wt.add(Ut),Et+=Ye.length}if(St&&St.end(),await Promise.all(wt),!s){const Ye=await Kt,Ut=Zi.from(await this.tokenConfig.getSigner().sign(Ye));ir.set(Ut,2),await S(ir,0,0)}const Bt=await this.api.post(`/chunks/${this.token}/${i}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((on=this.api.config)==null?void 0:on.timeout)??4e4*10});if(Bt.status===402)throw new Error("Not enough funds to send data");if(sr.checkAndThrow(Bt,"Finalising upload",[201]),Bt.status===201)throw new Error(Bt.data);return Bt.data.verify=sr.verifyReceipt.bind({},this.arbundles,Bt.data.data),this.emit("done",Bt),Bt}get completionPromise(){return new Promise(r=>this.on("done",r))}}var gu=x(55872).Buffer;const T2=t=>new Promise(e=>setTimeout(e,t)),G0=5e7;class W1{constructor(e,r,n,i,s){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"utils");O(this,"contentTypeOverride");O(this,"forceUseChunking");O(this,"arbundles");O(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=r,this.irysTransaction=s}async uploadTransaction(e,r){let n;const i=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||i&&e.getRaw().length>=G0||!i)n=await this.chunkedUploader.uploadTransaction(i?e.getRaw():e,r);else{const{url:s,timeout:a,headers:o}=this.api.getConfig(),f={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,s).toString(),e.getRaw(),{headers:f,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,r){if(typeof e=="string"&&(e=gu.from(e)),gu.isBuffer(e)&&e.length<=G0){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...r,anchor:(r==null?void 0:r.anchor)??(0,fn.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...r==null?void 0:r.upload})).data}return(await this.chunkedUploader.uploadData(e,r)).data}async concurrentUploader(e,r){const n=[],i=r!=null&&r.logFunction?r==null?void 0:r.logFunction:async o=>{},s=(r==null?void 0:r.concurrency)??5,a=await F1.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError(async(o,f)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,f,l)=>{await Sn(async m=>{try{const S=await this.processItem(o,r==null?void 0:r.itemOptions);return f%s==0&&await i(`Processed ${f} Items`),r!=null&&r.resultProcessor?await r.resultProcessor({item:o,res:S,i:f}):{item:o,res:S,i:f}}catch(S){throw(S==null?void 0:S.message)==="Not enough funds to send data"&&m(S),S}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,r){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...r==null?void 0:r.upload}):this.uploadData(e,r)}async generateManifest(e){const{items:r,indexFile:n}=e,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!r.has(n))throw new Error(`Unable to access item: ${n}`);i.index={path:n}}for(const[s,a]of r.entries())i.paths[s]={id:a};return i}get chunkedUploader(){return new G1(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,r){const n=(r==null?void 0:r.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),i=new ba(n),s=e.map(m=>this.arbundles.DataItem.isDataItem(m)?m:this.arbundles.createData(m,i)),a=await this.arbundles.bundleAndSignData(s,i),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const f=await this.uploadTransaction(o,r),l=ct(gu.from(await this.arbundles.getCryptoDriver().hash(ct.toBuffer(ct(i.publicKey)))));return{...f,txs:s,throwawayKey:n,throwawayKeyAddress:l}}}var W0=x(55872).Buffer;class V0 extends W1{constructor(r){super(r.api,r.utils,r.token,r.tokenConfig,r.IrysTransaction);O(this,"irys");this.irys=r}async uploadFile(r,n){const s=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:r.type}];return this.uploadData(W0.from(await r.arrayBuffer()),{tags:s,...n})}async uploadFolder(r,n){const i=[],s=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new ba(a);for(const S of r){const L=S.webkitRelativePath?S.webkitRelativePath:S.name,z=(S.tags?S.tags.some(({name:ue})=>ue.toLowerCase()==="content-type"):!1)?S.tags:[...S.tags??[],{name:"Content-Type",value:S.type}],Z=this.irys.arbundles.createData(W0.from(await S.arrayBuffer()),o,{tags:z});await Z.sign(o),i.push(Z),s.set(L,Z.id)}const f=await this.generateManifest({items:s,indexFile:n==null?void 0:n.indexFileRelPath}),l=this.irys.arbundles.createData(JSON.stringify(f),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await l.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(l,{...n})):(await l.sign(o),i.push(l));const m=await this.uploadBundle(i,{...n});return{...m.data,manifestId:l.id,manifest:f,throwawayKey:m.throwawayKey,throwawayKeyAddress:m.throwawayKeyAddress,txs:m.txs}}}class V1 extends qo{constructor({url:r,token:n,wallet:i,config:s}){switch(r){case void 0:case"node1":r="https://node1.irys.xyz";break;case"node2":r="https://node2.irys.xyz";break;case"devnet":r="https://devnet.irys.xyz";break}const a=new URL(r);super({url:a,arbundles:E});O(this,"tokenConfig");O(this,"uploader");O(this,"uploadFolder");O(this,"uploadFile");if(this.api=new xl({url:a,timeout:(s==null?void 0:s.timeout)??1e5,headers:s==null?void 0:s.headers}),this.tokenConfig=M1({irys:this,token:n.toLowerCase(),wallet:i==null?void 0:i.provider,providerUrl:(s==null?void 0:s.providerUrl)??(i==null?void 0:i.rpcUrl),contractAddress:s==null?void 0:s.contractAddress,providerName:i==null?void 0:i.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((s==null?void 0:s.providerUrl)??((i==null?void 0:i.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new sr(this.api,this.token,this.tokenConfig),this.uploader=new V0(this),this.funder=new pl(this.utils),this.uploader=new V0(this),this.provenance=new D1(this),this.transactions=new L1(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var J0=V1}}]);
}());