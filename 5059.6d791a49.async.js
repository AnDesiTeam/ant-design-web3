"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[5059],{65059:function(Kn,x,t){t.d(x,{GU:function(){return kn},Du:function(){return b.Du},VN:function(){return Fn},MV:function(){return Tn},Yw:function(){return Qn},mg:function(){return b.mg},VX:function(){return On},gV:function(){return Dn},M6:function(){return T},hm:function(){return bn},be:function(){return Nn}});var q=t(77117),p=t.n(q),_=t(67855),L=t.n(_),nn=t(95530),X=t.n(nn),M=t(50959),b=t(88695),en=t(25433),rn=t(14842),an=t(48978),tn=t(27566),un=t.n(tn),ln=t(13448),i=t.n(ln),sn=t(74815),P=t.n(sn),cn=t(28152),Z=t.n(cn),k=t(8862),on=t(65998),dn=t(33944),vn=t(17114),fn=t(8326),hn=t(78086),mn=t(83481),Yn=t(91287),pn=t(20146),zn=function(e){return debug("antd-web3:wagmi:".concat(e))},Q=function(e){return!!(e.type===pn.L.type&&e.icon&&e.id&&e.name)},gn="EIP6963",Cn=function(e){return{connectors:[gn],create:function(u){var n=u==null?void 0:u[0],h={icon:n==null?void 0:n.icon,name:n.name,remark:"Wallet ".concat(n==null?void 0:n.name," detected"),key:n==null?void 0:n.id};return p()(p()({},h),{},{hasWalletReady:function(){var f=P()(i()().mark(function l(){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n==null?void 0:n.getProvider();case 2:return r.abrupt("return",!!r.sent);case 3:case"end":return r.stop()}},l)}));function o(){return f.apply(this,arguments)}return o}(),hasExtensionInstalled:function(){var f=P()(i()().mark(function l(){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n==null?void 0:n.getProvider();case 2:return r.abrupt("return",!!r.sent);case 3:case"end":return r.stop()}},l)}));function o(){return f.apply(this,arguments)}return o}()},e)}}},yn=t(58037);function Wn(v,e,w){return F.apply(this,arguments)}function F(){return F=P()(i()().mark(function v(e,w,u){var n;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,yn.w)(e,{address:w.address,chainId:u});case 2:return n=f.sent,f.abrupt("return",p()(p()({},w),{},{name:n??void 0}));case 4:case"end":return f.stop()}},v)})),F.apply(this,arguments)}var wn=t(52660);function In(v,e,w,u){return U.apply(this,arguments)}function U(){return U=P()(i()().mark(function v(e,w,u,n){var h,f;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,wn.L)(e,{address:(0,k.O_)(w),args:[u],chainId:n,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return h=l.sent,l.next=5,(0,k.Xw)(h);case 5:return f=l.sent,l.abrupt("return",f);case 7:case"end":return l.stop()}},v)})),U.apply(this,arguments)}var D=t(11527),Pn=function(e){var w=e.children,u=e.chainAssets,n=e.walletFactorys,h=e.availableChains,f=e.availableConnectors,o=e.ens,l=e.balance,s=e.locale,r=e.eip6963,$=(0,on.m)(),c=$.address,m=$.isDisconnected,I=$.chain,R=(0,dn.Z)(),O=M.useState(),S=Z()(O,2),B=S[0],J=S[1],Un=(0,vn.$)(),Bn=Un.connectAsync,Vn=(0,fn.o)(),V=Vn.switchChain,Gn=(0,hn.q)(),Ln=Gn.disconnectAsync,Xn=M.useState(void 0),K=Z()(Xn,2),A=K[0],Y=K[1],Zn=(0,mn.K)({address:l&&B?(0,k.O_)(B.address):void 0}),E=Zn.data;M.useEffect(function(){if(!c||m){J(void 0);return}var g=function(){var d=P()(i()().mark(function a(){var C;return i()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(C={address:c},W.t0=J,!o){W.next=8;break}return W.next=5,Wn(R,C);case 5:W.t1=W.sent,W.next=9;break;case 8:W.t1=C;case 9:W.t2=W.t1,(0,W.t0)(W.t2);case 11:case"end":return W.stop()}},a)}));return function(){return d.apply(this,arguments)}}();g()},[c,m,I,o]);var z=function(d){var a=f.find(function(y){return y.name===d&&!Q(y)});if(!r)return a;var C=f.find(function(y){return y.name===d&&Q(y)});return C||a},Hn=M.useMemo(function(){var g=[];f.forEach(function(a){if(Q(a)){un()(r)==="object"&&r!==null&&r!==void 0&&r.autoAddInjectedWallets&&!n.find(function(y){return y.connectors.includes(a.name)})&&g.push(Cn().create([a]));return}var C=n.find(function(y){return y.connectors.includes(a.name)});C!=null&&C.create||console.error("Can not find wallet factory for ".concat(a.name,", you should config it in WagmiWeb3ConfigProvider 'wallets'."))});var d=n.map(function(a){var C=a.connectors.map(z).filter(function(y){return!!y});return C.length===0&&!r?(console.error("Can not find connector for ".concat(a.connectors.join(","),", ignore the wallet. Please config connectors or add eip6963 config in WagmiWeb3ConfigProvider.")),null):a.create(C)}).filter(function(a){return a!==null});return[].concat(L()(d),g)},[f,n,r]),Jn=M.useMemo(function(){return h.map(function(g){var d=u==null?void 0:u.find(function(a){return a.id===g.id});return d!=null&&d.id?{id:d.id,name:d.name,icon:d.icon}:(console.error("Can not find chain ".concat(g.id,", you should config it in WagmiWeb3ConfigProvider 'chains'.")),null)}).filter(function(g){return g!==null})},[h,u]);M.useEffect(function(){var g;if(!(!I&&A)){var d=I??h[0];if(d){var a=u==null?void 0:u.find(function(C){return C.id===(d==null?void 0:d.id)});(g=a)!==null&&g!==void 0&&g.id||(a={id:d.id,name:d.name}),Y(a)}}},[I,u,h,A]);var G=A==null?void 0:A.nativeCurrency;return(0,D.jsx)(k.BQ,{locale:s,availableChains:Jn,chain:A,account:B,balance:l?{symbol:E==null?void 0:E.symbol,value:E==null?void 0:E.value,decimals:E==null?void 0:E.decimals,icon:G==null?void 0:G.icon}:void 0,availableWallets:Hn,addressPrefix:"0x",connect:function(){var g=P()(i()().mark(function d(a){var C,y,W;return i()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,a==null||(C=(y=a).getWagmiConnector)===null||C===void 0?void 0:C.call(y);case 2:if(W=j.sent,!W&&a&&(W=z(a.name)),W){j.next=6;break}throw new Error("Can not find connector for ".concat(a==null?void 0:a.name));case 6:return j.next=8,Bn({connector:W,chainId:A==null?void 0:A.id});case 8:case"end":return j.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),disconnect:P()(i()().mark(function g(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ln();case 2:case"end":return a.stop()}},g)})),switchChain:function(){var g=P()(i()().mark(function d(a){return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:I?V==null||V({chainId:a.id}):Y(a);case 1:case"end":return y.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),getNFTMetadata:function(){var g=P()(i()().mark(function d(a){var C,y;return i()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return C=a.address,y=a.tokenId,N.abrupt("return",In(R,C,y,I==null?void 0:I.id));case 2:case"end":return N.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),children:w})},$n=["children","wallets","chains","ens","locale","balance","config","queryClient","eip6963"];function bn(v){var e=v.children,w=v.wallets,u=w===void 0?[]:w,n=v.chains,h=n===void 0?[]:n,f=v.ens,o=v.locale,l=v.balance,s=v.config,r=v.queryClient,$=v.eip6963,c=X()(v,$n),m=[].concat(L()(h),[b.ny]),I=M.useMemo(function(){return r??new en.S},[r]);return(0,D.jsx)(an.F,p()(p()({config:s},c),{},{children:(0,D.jsx)(rn.aH,{client:I,children:(0,D.jsx)(Pn,{locale:o,chainAssets:m,walletFactorys:u,availableChains:s.chains,availableConnectors:s.connectors,ens:f,balance:l,eip6963:$,children:e})})}))}var Rn=t(96345),An=t.n(Rn),En=t(15033),Mn=t.n(En),jn=t(21320),H=t.n(jn),T=An()(function v(e){var w=this;Mn()(this,v),H()(this,"connectors",[]),H()(this,"create",function(u){var n=u==null?void 0:u.find(function(l){return l.name==="WalletConnect"}),h=u==null?void 0:u.find(function(l){return l.name===w.wallet.name}),f=function(){var l=P()(i()().mark(function s(){var r;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n==null?void 0:n.getProvider();case 2:return r=c.sent,c.abrupt("return",new Promise(function(m){r==null||r.on("display_uri",function(I){m({uri:I})})}));case 4:case"end":return c.stop()}},s)}));return function(){return l.apply(this,arguments)}}(),o=function(){var l=P()(i()().mark(function s(){var r,$;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,h==null||(r=h.getProvider)===null||r===void 0?void 0:r.call(h);case 2:return $=m.sent,m.abrupt("return",!!$);case 4:case"end":return m.stop()}},s)}));return function(){return l.apply(this,arguments)}}();return p()(p()({},w.wallet),{},{getWagmiConnector:function(){var l=P()(i()().mark(function r(){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,o();case 2:if(!c.sent){c.next=4;break}return c.abrupt("return",h);case 4:return c.abrupt("return",n);case 5:case"end":return c.stop()}},r)}));function s(){return l.apply(this,arguments)}return s}(),hasExtensionInstalled:function(){var l=P()(i()().mark(function r(){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",o());case 1:case"end":return c.stop()}},r)}));function s(){return l.apply(this,arguments)}return s}(),hasWalletReady:function(){var l=P()(i()().mark(function r(){var $;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,o();case 2:return $=m.sent,m.abrupt("return",!!($||n));case 4:case"end":return m.stop()}},r)}));function s(){return l.apply(this,arguments)}return s}(),getQrCode:n?f:void 0})}),this.wallet=e,e.extensions&&this.connectors.push(e.name),e.app&&this.connectors.push("WalletConnect")}),Tn=function(e){return new T(p()(p()({},b.Zv),e))},Sn=["useWalletConnectOfficialModal"],Nn=function(e){var w=e||{},u=w.useWalletConnectOfficialModal,n=u===void 0?!1:u,h=X()(w,Sn);return{connectors:["WalletConnect"],create:function(o){var l=void 0,s=function(){var r=P()(i()().mark(function $(){var c,m;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,o==null||(c=o[0])===null||c===void 0?void 0:c.getProvider();case 2:return m=R.sent,R.abrupt("return",new Promise(function(O){if(l){O({uri:l});return}m==null||m.on("display_uri",function(S){l=S,O({uri:S})})}));case 4:case"end":return R.stop()}},$)}));return function(){return r.apply(this,arguments)}}();return p()(p()({},b.Tl),{},{hasWalletReady:function(){var r=P()(i()().mark(function c(){return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",!0);case 1:case"end":return I.stop()}},c)}));function $(){return r.apply(this,arguments)}return $}(),getQrCode:n?void 0:s},h)}}},kn=function(e){return{connectors:["Coinbase Wallet"],create:function(){return p()(p()({},b.p_),{},{hasWalletReady:function(){var u=P()(i()().mark(function h(){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",!0);case 1:case"end":return o.stop()}},h)}));function n(){return u.apply(this,arguments)}return n}()},e)}}},Dn=function(e){return new T(p()(p()({},b.eu),e))},On=function(e){return{connectors:["Safeheron"],create:function(u){return p()(p()({},b.OJ),{},{hasWalletReady:function(){var n=P()(i()().mark(function f(){var o;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,u==null||(o=u[0])===null||o===void 0?void 0:o.getProvider();case 2:return s.abrupt("return",!!s.sent);case 3:case"end":return s.stop()}},f)}));function h(){return n.apply(this,arguments)}return h}(),hasExtensionInstalled:function(){var n=P()(i()().mark(function f(){var o;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,u==null||(o=u[0])===null||o===void 0?void 0:o.getProvider();case 2:return s.abrupt("return",!!s.sent);case 3:case"end":return s.stop()}},f)}));function h(){return n.apply(this,arguments)}return h}()},e)}}},Qn=function(e){return new T(p()(p()({},b.tw),e))},Fn=function(e){return new T(p()(p()({},b.o4),e))}}}]);
