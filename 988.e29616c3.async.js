!(function(){var Yu=Object.defineProperty;var Xu=(yt,st,I)=>st in yt?Yu(yt,st,{enumerable:!0,configurable:!0,writable:!0,value:I}):yt[st]=I;var F=(yt,st,I)=>(Xu(yt,typeof st!="symbol"?st+"":st,I),I),Zi=(yt,st,I)=>{if(!st.has(yt))throw TypeError("Cannot "+I)};var c=(yt,st,I)=>(Zi(yt,st,"read from private field"),I?I.call(yt):st.get(yt)),K=(yt,st,I)=>{if(st.has(yt))throw TypeError("Cannot add the same private member more than once");st instanceof WeakSet?st.add(yt):st.set(yt,I)},A=(yt,st,I,f)=>(Zi(yt,st,"write to private field"),f?f.call(yt,I):st.set(yt,I),I),Os=(yt,st,I,f)=>({set _(z){A(yt,st,z,I)},get _(){return c(yt,st,f)}}),wt=(yt,st,I)=>(Zi(yt,st,"access private method"),I);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[988],{26271:function(yt,st,I){var f=I(14224);st.formatArgs=Q,st.save=v,st.load=d,st.useColors=z,st.storage=g(),st.destroy=function(){var E=!1;return function(){E||(E=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),st.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function z(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Q(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" ")+"+"+yt.exports.humanize(this.diff),!!this.useColors){var L="color: "+this.color;E.splice(1,0,L,"color: inherit");var rt=0,l=0;E[0].replace(/%[a-zA-Z%]/g,function(nt){nt!=="%%"&&(rt++,nt==="%c"&&(l=rt))}),E.splice(l,0,L)}}st.log=console.debug||console.log||function(){};function v(E){try{E?st.storage.setItem("debug",E):st.storage.removeItem("debug")}catch{}}function d(){var E;try{E=st.storage.getItem("debug")}catch{}return!E&&typeof f<"u"&&"env"in f&&(E={NODE_ENV:"production",PUBLIC_PATH:"/"}.DEBUG),E}function g(){try{return localStorage}catch{}}yt.exports=I(56746)(st);var y=yt.exports.formatters;y.j=function(E){try{return JSON.stringify(E)}catch(L){return"[UnexpectedJSONParseError]: "+L.message}}},56746:function(yt,st,I){var f=I(93525).default;function z(Q){d.debug=d,d.default=d,d.coerce=l,d.disable=E,d.enable=y,d.enabled=L,d.humanize=I(54610),d.destroy=nt,Object.keys(Q).forEach(function(N){d[N]=Q[N]}),d.names=[],d.skips=[],d.formatters={};function v(N){for(var x=0,D=0;D<N.length;D++)x=(x<<5)-x+N.charCodeAt(D),x|=0;return d.colors[Math.abs(x)%d.colors.length]}d.selectColor=v;function d(N){var x,D=null,S,$;function R(){for(var Y=arguments.length,ot=new Array(Y),X=0;X<Y;X++)ot[X]=arguments[X];if(R.enabled){var lt=R,tt=Number(new Date),C=tt-(x||tt);lt.diff=C,lt.prev=x,lt.curr=tt,x=tt,ot[0]=d.coerce(ot[0]),typeof ot[0]!="string"&&ot.unshift("%O");var dt=0;ot[0]=ot[0].replace(/%([a-zA-Z%])/g,function(W,q){if(W==="%%")return"%";dt++;var et=d.formatters[q];if(typeof et=="function"){var ht=ot[dt];W=et.call(lt,ht),ot.splice(dt,1),dt--}return W}),d.formatArgs.call(lt,ot);var j=lt.log||d.log;j.apply(lt,ot)}}return R.namespace=N,R.useColors=d.useColors(),R.color=d.selectColor(N),R.extend=g,R.destroy=d.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:function(){return D!==null?D:(S!==d.namespaces&&(S=d.namespaces,$=d.enabled(N)),$)},set:function(ot){D=ot}}),typeof d.init=="function"&&d.init(R),R}function g(N,x){var D=d(this.namespace+(typeof x>"u"?":":x)+N);return D.log=this.log,D}function y(N){d.save(N),d.namespaces=N,d.names=[],d.skips=[];var x,D=(typeof N=="string"?N:"").split(/[\s,]+/),S=D.length;for(x=0;x<S;x++)D[x]&&(N=D[x].replace(/\*/g,".*?"),N[0]==="-"?d.skips.push(new RegExp("^"+N.slice(1)+"$")):d.names.push(new RegExp("^"+N+"$")))}function E(){var N=[].concat(f(d.names.map(rt)),f(d.skips.map(rt).map(function(x){return"-"+x}))).join(",");return d.enable(""),N}function L(N){if(N[N.length-1]==="*")return!0;var x,D;for(x=0,D=d.skips.length;x<D;x++)if(d.skips[x].test(N))return!1;for(x=0,D=d.names.length;x<D;x++)if(d.names[x].test(N))return!0;return!1}function rt(N){return N.toString().substring(2,N.toString().length-2).replace(/\.\*\?$/,"*")}function l(N){return N instanceof Error?N.stack||N.message:N}function nt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return d.enable(d.load()),d}yt.exports=z},2337:function(yt){"use strict";var st=Object.prototype.hasOwnProperty,I="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(I=!1));function z(g,y,E){this.fn=g,this.context=y,this.once=E||!1}function Q(g,y,E,L,rt){if(typeof E!="function")throw new TypeError("The listener must be a function");var l=new z(E,L||g,rt),nt=I?I+y:y;return g._events[nt]?g._events[nt].fn?g._events[nt]=[g._events[nt],l]:g._events[nt].push(l):(g._events[nt]=l,g._eventsCount++),g}function v(g,y){--g._eventsCount===0?g._events=new f:delete g._events[y]}function d(){this._events=new f,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],E,L;if(this._eventsCount===0)return y;for(L in E=this._events)st.call(E,L)&&y.push(I?L.slice(1):L);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(E)):y},d.prototype.listeners=function(y){var E=I?I+y:y,L=this._events[E];if(!L)return[];if(L.fn)return[L.fn];for(var rt=0,l=L.length,nt=new Array(l);rt<l;rt++)nt[rt]=L[rt].fn;return nt},d.prototype.listenerCount=function(y){var E=I?I+y:y,L=this._events[E];return L?L.fn?1:L.length:0},d.prototype.emit=function(y,E,L,rt,l,nt){var N=I?I+y:y;if(!this._events[N])return!1;var x=this._events[N],D=arguments.length,S,$;if(x.fn){switch(x.once&&this.removeListener(y,x.fn,void 0,!0),D){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,E),!0;case 3:return x.fn.call(x.context,E,L),!0;case 4:return x.fn.call(x.context,E,L,rt),!0;case 5:return x.fn.call(x.context,E,L,rt,l),!0;case 6:return x.fn.call(x.context,E,L,rt,l,nt),!0}for($=1,S=new Array(D-1);$<D;$++)S[$-1]=arguments[$];x.fn.apply(x.context,S)}else{var R=x.length,Y;for($=0;$<R;$++)switch(x[$].once&&this.removeListener(y,x[$].fn,void 0,!0),D){case 1:x[$].fn.call(x[$].context);break;case 2:x[$].fn.call(x[$].context,E);break;case 3:x[$].fn.call(x[$].context,E,L);break;case 4:x[$].fn.call(x[$].context,E,L,rt);break;default:if(!S)for(Y=1,S=new Array(D-1);Y<D;Y++)S[Y-1]=arguments[Y];x[$].fn.apply(x[$].context,S)}}return!0},d.prototype.on=function(y,E,L){return Q(this,y,E,L,!1)},d.prototype.once=function(y,E,L){return Q(this,y,E,L,!0)},d.prototype.removeListener=function(y,E,L,rt){var l=I?I+y:y;if(!this._events[l])return this;if(!E)return v(this,l),this;var nt=this._events[l];if(nt.fn)nt.fn===E&&(!rt||nt.once)&&(!L||nt.context===L)&&v(this,l);else{for(var N=0,x=[],D=nt.length;N<D;N++)(nt[N].fn!==E||rt&&!nt[N].once||L&&nt[N].context!==L)&&x.push(nt[N]);x.length?this._events[l]=x.length===1?x[0]:x:v(this,l)}return this},d.prototype.removeAllListeners=function(y){var E;return y?(E=I?I+y:y,this._events[E]&&v(this,E)):(this._events=new f,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=I,d.EventEmitter=d,yt.exports=d},54610:function(yt){var st=1e3,I=st*60,f=I*60,z=f*24,Q=z*7,v=z*365.25;yt.exports=function(L,rt){rt=rt||{};var l=typeof L;if(l==="string"&&L.length>0)return d(L);if(l==="number"&&isFinite(L))return rt.long?y(L):g(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))};function d(L){if(L=String(L),!(L.length>100)){var rt=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(rt){var l=parseFloat(rt[1]),nt=(rt[2]||"ms").toLowerCase();switch(nt){case"years":case"year":case"yrs":case"yr":case"y":return l*v;case"weeks":case"week":case"w":return l*Q;case"days":case"day":case"d":return l*z;case"hours":case"hour":case"hrs":case"hr":case"h":return l*f;case"minutes":case"minute":case"mins":case"min":case"m":return l*I;case"seconds":case"second":case"secs":case"sec":case"s":return l*st;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function g(L){var rt=Math.abs(L);return rt>=z?Math.round(L/z)+"d":rt>=f?Math.round(L/f)+"h":rt>=I?Math.round(L/I)+"m":rt>=st?Math.round(L/st)+"s":L+"ms"}function y(L){var rt=Math.abs(L);return rt>=z?E(L,rt,z,"day"):rt>=f?E(L,rt,f,"hour"):rt>=I?E(L,rt,I,"minute"):rt>=st?E(L,rt,st,"second"):L+" ms"}function E(L,rt,l,nt){var N=rt>=l*1.5;return Math.round(L/l)+" "+nt+(N?"s":"")}},30006:function(yt,st,I){var f=I(25705);function z(Q){if(Array.isArray(Q))return f(Q)}yt.exports=z,yt.exports.__esModule=!0,yt.exports.default=yt.exports},16660:function(yt){function st(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}yt.exports=st,yt.exports.__esModule=!0,yt.exports.default=yt.exports},95848:function(yt){function st(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}yt.exports=st,yt.exports.__esModule=!0,yt.exports.default=yt.exports},93525:function(yt,st,I){var f=I(30006),z=I(16660),Q=I(41442),v=I(95848);function d(g){return f(g)||z(g)||Q(g)||v()}yt.exports=d,yt.exports.__esModule=!0,yt.exports.default=yt.exports},90879:function(yt,st,I){"use strict";function f(E){if(!Number.isSafeInteger(E)||E<0)throw new Error(`Wrong positive integer: ${E}`)}function z(E){if(typeof E!="boolean")throw new Error(`Expected boolean, not ${E}`)}function Q(E,...L){if(!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length>0&&!L.includes(E.length))throw new TypeError(`Expected Uint8Array of length ${L}, not of length=${E.length}`)}function v(E){if(typeof E!="function"||typeof E.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");f(E.outputLen),f(E.blockLen)}function d(E,L=!0){if(E.destroyed)throw new Error("Hash instance has been destroyed");if(L&&E.finished)throw new Error("Hash#digest() has already been called")}function g(E,L){Q(E);const rt=L.outputLen;if(E.length<rt)throw new Error(`digestInto() expects output buffer of length at least ${rt}`)}const y={number:f,bool:z,bytes:Q,hash:v,exists:d,output:g};st.ZP=y},73072:function(yt,st,I){"use strict";const f=BigInt(4294967295),z=BigInt(32);function Q(j,W=!1){return W?{h:Number(j&f),l:Number(j>>z&f)}:{h:Number(j>>z&f)|0,l:Number(j&f)|0}}function v(j,W=!1){let q=new Uint32Array(j.length),et=new Uint32Array(j.length);for(let ht=0;ht<j.length;ht++){const{h:Pt,l:Rt}=Q(j[ht],W);[q[ht],et[ht]]=[Pt,Rt]}return[q,et]}const d=(j,W)=>BigInt(j>>>0)<<z|BigInt(W>>>0),g=(j,W,q)=>j>>>q,y=(j,W,q)=>j<<32-q|W>>>q,E=(j,W,q)=>j>>>q|W<<32-q,L=(j,W,q)=>j<<32-q|W>>>q,rt=(j,W,q)=>j<<64-q|W>>>q-32,l=(j,W,q)=>j>>>q-32|W<<64-q,nt=(j,W)=>W,N=(j,W)=>j,x=(j,W,q)=>j<<q|W>>>32-q,D=(j,W,q)=>W<<q|j>>>32-q,S=(j,W,q)=>W<<q-32|j>>>64-q,$=(j,W,q)=>j<<q-32|W>>>64-q;function R(j,W,q,et){const ht=(W>>>0)+(et>>>0);return{h:j+q+(ht/2**32|0)|0,l:ht|0}}const dt={fromBig:Q,split:v,toBig:d,shrSH:g,shrSL:y,rotrSH:E,rotrSL:L,rotrBH:rt,rotrBL:l,rotr32H:nt,rotr32L:N,rotlSH:x,rotlSL:D,rotlBH:S,rotlBL:$,add:R,add3L:(j,W,q)=>(j>>>0)+(W>>>0)+(q>>>0),add3H:(j,W,q,et)=>W+q+et+(j/2**32|0)|0,add4L:(j,W,q,et)=>(j>>>0)+(W>>>0)+(q>>>0)+(et>>>0),add4H:(j,W,q,et,ht)=>W+q+et+ht+(j/2**32|0)|0,add5H:(j,W,q,et,ht,Pt)=>W+q+et+ht+Pt+(j/2**32|0)|0,add5L:(j,W,q,et,ht)=>(j>>>0)+(W>>>0)+(q>>>0)+(et>>>0)+(ht>>>0)};st.ZP=dt},14585:function(yt,st,I){"use strict";I.d(st,{kb:function(){return D},GL:function(){return v},np:function(){return d},O0:function(){return N},Jq:function(){return Q},hE:function(){return R},K$:function(){return Y}});const f={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const z=X=>new Uint8Array(X.buffer,X.byteOffset,X.byteLength),Q=X=>new Uint32Array(X.buffer,X.byteOffset,Math.floor(X.byteLength/4)),v=X=>new DataView(X.buffer,X.byteOffset,X.byteLength),d=(X,lt)=>X<<32-lt|X>>>lt;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const y=Array.from({length:256},(X,lt)=>lt.toString(16).padStart(2,"0"));function E(X){if(!(X instanceof Uint8Array))throw new Error("Uint8Array expected");let lt="";for(let tt=0;tt<X.length;tt++)lt+=y[X[tt]];return lt}function L(X){if(typeof X!="string")throw new TypeError("hexToBytes: expected string, got "+typeof X);if(X.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const lt=new Uint8Array(X.length/2);for(let tt=0;tt<lt.length;tt++){const C=tt*2,dt=X.slice(C,C+2),j=Number.parseInt(dt,16);if(Number.isNaN(j)||j<0)throw new Error("Invalid byte sequence");lt[tt]=j}return lt}const rt=async()=>{};async function l(X,lt,tt){let C=Date.now();for(let dt=0;dt<X;dt++){tt(dt);const j=Date.now()-C;j>=0&&j<lt||(await rt(),C+=j)}}function nt(X){if(typeof X!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof X}`);return new TextEncoder().encode(X)}function N(X){if(typeof X=="string"&&(X=nt(X)),!(X instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof X})`);return X}function x(...X){if(!X.every(C=>C instanceof Uint8Array))throw new Error("Uint8Array list expected");if(X.length===1)return X[0];const lt=X.reduce((C,dt)=>C+dt.length,0),tt=new Uint8Array(lt);for(let C=0,dt=0;C<X.length;C++){const j=X[C];tt.set(j,dt),dt+=j.length}return tt}class D{clone(){return this._cloneInto()}}const S=X=>Object.prototype.toString.call(X)==="[object Object]"&&X.constructor===Object;function $(X,lt){if(lt!==void 0&&(typeof lt!="object"||!S(lt)))throw new TypeError("Options should be object or undefined");return Object.assign(X,lt)}function R(X){const lt=C=>X().update(N(C)).digest(),tt=X();return lt.outputLen=tt.outputLen,lt.blockLen=tt.blockLen,lt.create=()=>X(),lt}function Y(X){const lt=(C,dt)=>X(dt).update(N(C)).digest(),tt=X({});return lt.outputLen=tt.outputLen,lt.blockLen=tt.blockLen,lt.create=C=>X(C),lt}function ot(X=32){if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(X));if(crypto.node)return new Uint8Array(crypto.node.randomBytes(X).buffer);throw new Error("The environment doesn't have randomBytes function")}},7117:function(yt,st,I){var vt,qr;"use strict";I.d(st,{R:function(){return Rt}});var f=I(85191),z=I(70272),Q=I(93494),v=I(59021),d=I(31965);class g extends z.XI{constructor(O){super("address","address",O,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(O,T){let J=d._.dereference(T,"string");try{J=(0,Q.K)(J)}catch(V){return this._throwError(V.message,T)}return O.writeValue(J)}decode(O){return(0,Q.K)((0,v.m9)(O.readValue(),20))}}var y=I(38649);class E extends z.XI{constructor(T){super(T.name,T.type,"_",T.dynamic);F(this,"coder");this.coder=T}defaultValue(){return this.coder.defaultValue()}encode(T,J){return this.coder.encode(T,J)}decode(T){return this.coder.decode(T)}}function L(it,O,T){let J=[];if(Array.isArray(T))J=T;else if(T&&typeof T=="object"){let Kt={};J=O.map(Qt=>{const Ft=Qt.localName;return(0,f.hu)(Ft,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:Qt},value:T}),(0,f.hu)(!Kt[Ft],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:Qt},value:T}),Kt[Ft]=!0,T[Ft]})}else(0,f.en)(!1,"invalid tuple value","tuple",T);(0,f.en)(O.length===J.length,"types/value length mismatch","tuple",T);let V=new z.QV,ft=new z.QV,ct=[];O.forEach((Kt,Qt)=>{let Ft=J[Qt];if(Kt.dynamic){let ne=ft.length;Kt.encode(ft,Ft);let qt=V.writeUpdatableValue();ct.push(jt=>{qt(jt+ne)})}else Kt.encode(V,Ft)}),ct.forEach(Kt=>{Kt(V.length)});let pt=it.appendWriter(V);return pt+=it.appendWriter(ft),pt}function rt(it,O){let T=[],J=[],V=it.subReader(0);return O.forEach(ft=>{let ct=null;if(ft.dynamic){let pt=it.readIndex(),Kt=V.subReader(pt);try{ct=ft.decode(Kt)}catch(Qt){if((0,f.VZ)(Qt,"BUFFER_OVERRUN"))throw Qt;ct=Qt,ct.baseType=ft.name,ct.name=ft.localName,ct.type=ft.type}}else try{ct=ft.decode(it)}catch(pt){if((0,f.VZ)(pt,"BUFFER_OVERRUN"))throw pt;ct=pt,ct.baseType=ft.name,ct.name=ft.localName,ct.type=ft.type}if(ct==null)throw new Error("investigate");T.push(ct),J.push(ft.localName||null)}),z.x4.fromItems(T,J)}class l extends z.XI{constructor(T,J,V){const ft=T.type+"["+(J>=0?J:"")+"]",ct=J===-1||T.dynamic;super("array",ft,V,ct);F(this,"coder");F(this,"length");(0,y.h)(this,{coder:T,length:J})}defaultValue(){const T=this.coder.defaultValue(),J=[];for(let V=0;V<this.length;V++)J.push(T);return J}encode(T,J){const V=d._.dereference(J,"array");Array.isArray(V)||this._throwError("expected array value",V);let ft=this.length;ft===-1&&(ft=V.length,T.writeValue(V.length)),(0,f.fG)(V.length,ft,"coder array"+(this.localName?" "+this.localName:""));let ct=[];for(let pt=0;pt<V.length;pt++)ct.push(this.coder);return L(T,ct,V)}decode(T){let J=this.length;J===-1&&(J=T.readIndex(),(0,f.hu)(J*z.Bx<=T.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:T.bytes,offset:J*z.Bx,length:T.dataLength}));let V=[];for(let ft=0;ft<J;ft++)V.push(new E(this.coder));return rt(T,V)}}class nt extends z.XI{constructor(O){super("bool","bool",O,!1)}defaultValue(){return!1}encode(O,T){const J=d._.dereference(T,"bool");return O.writeValue(J?1:0)}decode(O){return!!O.readValue()}}var N=I(49191);class x extends z.XI{constructor(O,T){super(O,O,T,!0)}defaultValue(){return"0x"}encode(O,T){T=(0,N.h_)(T);let J=O.writeValue(T.length);return J+=O.writeBytes(T),J}decode(O){return O.readBytes(O.readIndex(),!0)}}class D extends x{constructor(O){super("bytes",O)}decode(O){return(0,N.Dv)(super.decode(O))}}class S extends z.XI{constructor(T,J){let V="bytes"+String(T);super(V,V,J,!1);F(this,"size");(0,y.h)(this,{size:T},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(T,J){let V=(0,N.h_)(d._.dereference(J,this.type));return V.length!==this.size&&this._throwError("incorrect data length",J),T.writeBytes(V)}decode(T){return(0,N.Dv)(T.readBytes(this.size))}}const $=new Uint8Array([]);class R extends z.XI{constructor(O){super("null","",O,!1)}defaultValue(){return null}encode(O,T){return T!=null&&this._throwError("not null",T),O.writeBytes($)}decode(O){return O.readBytes(0),null}}const Y=BigInt(0),ot=BigInt(1),X=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class lt extends z.XI{constructor(T,J,V){const ft=(J?"int":"uint")+T*8;super(ft,ft,V,!1);F(this,"size");F(this,"signed");(0,y.h)(this,{size:T,signed:J},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(T,J){let V=(0,v.yT)(d._.dereference(J,this.type)),ft=(0,v.sS)(X,z.Bx*8);if(this.signed){let ct=(0,v.sS)(ft,this.size*8-1);(V>ct||V<-(ct+ot))&&this._throwError("value out-of-bounds",J),V=(0,v.$j)(V,8*z.Bx)}else(V<Y||V>(0,v.sS)(ft,this.size*8))&&this._throwError("value out-of-bounds",J);return T.writeValue(V)}decode(T){let J=(0,v.sS)(T.readValue(),this.size*8);return this.signed&&(J=(0,v._Y)(J,this.size*8)),J}}var tt=I(99058);class C extends x{constructor(O){super("string",O)}defaultValue(){return""}encode(O,T){return super.encode(O,(0,tt.Y0)(d._.dereference(T,"string")))}decode(O){return(0,tt.ZN)(super.decode(O))}}class dt extends z.XI{constructor(T,J){let V=!1;const ft=[];T.forEach(pt=>{pt.dynamic&&(V=!0),ft.push(pt.type)});const ct="tuple("+ft.join(",")+")";super("tuple",ct,J,V);F(this,"coders");(0,y.h)(this,{coders:Object.freeze(T.slice())})}defaultValue(){const T=[];this.coders.forEach(V=>{T.push(V.defaultValue())});const J=this.coders.reduce((V,ft)=>{const ct=ft.localName;return ct&&(V[ct]||(V[ct]=0),V[ct]++),V},{});return this.coders.forEach((V,ft)=>{let ct=V.localName;!ct||J[ct]!==1||(ct==="length"&&(ct="_length"),T[ct]==null&&(T[ct]=T[ft]))}),Object.freeze(T)}encode(T,J){const V=d._.dereference(J,"tuple");return L(T,this.coders,V)}decode(T){return rt(T,this.coders)}}var j=I(30521);const W=new Map;W.set(0,"GENERIC_PANIC"),W.set(1,"ASSERT_FALSE"),W.set(17,"OVERFLOW"),W.set(18,"DIVIDE_BY_ZERO"),W.set(33,"ENUM_RANGE_ERROR"),W.set(34,"BAD_STORAGE_DATA"),W.set(49,"STACK_UNDERFLOW"),W.set(50,"ARRAY_RANGE_ERROR"),W.set(65,"OUT_OF_MEMORY"),W.set(81,"UNINITIALIZED_FUNCTION_CALL");const q=new RegExp(/^bytes([0-9]*)$/),et=new RegExp(/^(u?int)([0-9]*)$/);let ht=null;function Pt(it,O,T,J){let V="missing revert data",ft=null;const ct=null;let pt=null;if(T){V="execution reverted";const Qt=(0,N.Pw)(T);if(T=(0,N.Dv)(T),Qt.length===0)V+=" (no data present; likely require(false) occurred",ft="require(false)";else if(Qt.length%32!==4)V+=" (could not decode reason; invalid data length)";else if((0,N.Dv)(Qt.slice(0,4))==="0x08c379a0")try{ft=J.decode(["string"],Qt.slice(4))[0],pt={signature:"Error(string)",name:"Error",args:[ft]},V+=`: ${JSON.stringify(ft)}`}catch{V+=" (could not decode reason; invalid string data)"}else if((0,N.Dv)(Qt.slice(0,4))==="0x4e487b71")try{const Ft=Number(J.decode(["uint256"],Qt.slice(4))[0]);pt={signature:"Panic(uint256)",name:"Panic",args:[Ft]},ft=`Panic due to ${W.get(Ft)||"UNKNOWN"}(${Ft})`,V+=`: ${ft}`}catch{V+=" (could not decode panic code)"}else V+=" (unknown custom error)"}const Kt={to:O.to?(0,Q.K)(O.to):null,data:O.data||"0x"};return O.from&&(Kt.from=(0,Q.K)(O.from)),(0,f.wf)(V,"CALL_EXCEPTION",{action:it,data:T,reason:ft,transaction:Kt,invocation:ct,revert:pt})}const Ct=class{constructor(){K(this,vt)}getDefaultValue(O){const T=O.map(V=>wt(this,vt,qr).call(this,j._R.from(V)));return new dt(T,"_").defaultValue()}encode(O,T){(0,f.fG)(T.length,O.length,"types/values length mismatch");const J=O.map(ct=>wt(this,vt,qr).call(this,j._R.from(ct))),V=new dt(J,"_"),ft=new z.QV;return V.encode(ft,T),ft.data}decode(O,T,J){const V=O.map(ct=>wt(this,vt,qr).call(this,j._R.from(ct)));return new dt(V,"_").decode(new z.Ej(T,J))}static defaultAbiCoder(){return ht==null&&(ht=new Ct),ht}static getBuiltinCallException(O,T,J){return Pt(O,T,J,Ct.defaultAbiCoder())}};let Rt=Ct;vt=new WeakSet,qr=function(O){if(O.isArray())return new l(wt(this,vt,qr).call(this,O.arrayChildren),O.arrayLength,O.name);if(O.isTuple())return new dt(O.components.map(J=>wt(this,vt,qr).call(this,J)),O.name);switch(O.baseType){case"address":return new g(O.name);case"bool":return new nt(O.name);case"string":return new C(O.name);case"bytes":return new D(O.name);case"":return new R(O.name)}let T=O.type.match(et);if(T){let J=parseInt(T[2]||"256");return(0,f.en)(J!==0&&J<=256&&J%8===0,"invalid "+T[1]+" bit length","param",O),new lt(J/8,T[1]==="int",O.name)}if(T=O.type.match(q),T){let J=parseInt(T[1]);return(0,f.en)(J!==0&&J<=32,"invalid bytes length","param",O),new S(J,O.name)}(0,f.en)(!1,"invalid type","type",O.type)}},70272:function(yt,st,I){var S,R,Y,ot,ii,lt,tt,C,Va;"use strict";I.d(st,{Bx:function(){return d},Ej:function(){return D},QV:function(){return x},XI:function(){return N},x4:function(){return rt}});var f=I(59021),z=I(85191),Q=I(49191),v=I(38649);const d=32,g=new Uint8Array(d),y=["then"],E={};function L(W,q){const et=new Error(`deferred error during ABI decoding triggered accessing ${W}`);throw et.error=q,et}const $=class extends Array{constructor(...et){const ht=et[0];let Pt=et[1],Rt=(et[2]||[]).slice(),vt=!0;ht!==E&&(Pt=et,Rt=[],vt=!1);super(Pt.length);K(this,S,void 0);Pt.forEach((Ct,it)=>{this[it]=Ct});const Ot=Rt.reduce((Ct,it)=>(typeof it=="string"&&Ct.set(it,(Ct.get(it)||0)+1),Ct),new Map);if(A(this,S,Object.freeze(Pt.map((Ct,it)=>{const O=Rt[it];return O!=null&&Ot.get(O)===1?O:null}))),!!vt)return Object.freeze(this),new Proxy(this,{get:(Ct,it,O)=>{if(typeof it=="string"){if(it.match(/^[0-9]+$/)){const J=(0,f.Dx)(it,"%index");if(J<0||J>=this.length)throw new RangeError("out of result range");const V=Ct[J];return V instanceof Error&&L(`index ${J}`,V),V}if(y.indexOf(it)>=0)return Reflect.get(Ct,it,O);const T=Ct[it];if(T instanceof Function)return function(...J){return T.apply(this===O?Ct:this,J)};if(!(it in Ct))return Ct.getValue.apply(this===O?Ct:this,[it])}return Reflect.get(Ct,it,O)}})}toArray(){const et=[];return this.forEach((ht,Pt)=>{ht instanceof Error&&L(`index ${Pt}`,ht),et.push(ht)}),et}toObject(){return c(this,S).reduce((et,ht,Pt)=>((0,z.hu)(ht!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),ht in et||(et[ht]=this.getValue(ht)),et),{})}slice(et,ht){et==null&&(et=0),et<0&&(et+=this.length,et<0&&(et=0)),ht==null&&(ht=this.length),ht<0&&(ht+=this.length,ht<0&&(ht=0)),ht>this.length&&(ht=this.length);const Pt=[],Rt=[];for(let vt=et;vt<ht;vt++)Pt.push(this[vt]),Rt.push(c(this,S)[vt]);return new $(E,Pt,Rt)}filter(et,ht){const Pt=[],Rt=[];for(let vt=0;vt<this.length;vt++){const Ot=this[vt];Ot instanceof Error&&L(`index ${vt}`,Ot),et.call(ht,Ot,vt,this)&&(Pt.push(Ot),Rt.push(c(this,S)[vt]))}return new $(E,Pt,Rt)}map(et,ht){const Pt=[];for(let Rt=0;Rt<this.length;Rt++){const vt=this[Rt];vt instanceof Error&&L(`index ${Rt}`,vt),Pt.push(et.call(ht,vt,Rt,this))}return Pt}getValue(et){const ht=c(this,S).indexOf(et);if(ht===-1)return;const Pt=this[ht];return Pt instanceof Error&&L(`property ${JSON.stringify(et)}`,Pt.error),Pt}static fromItems(et,ht){return new $(E,et,ht)}};let rt=$;S=new WeakMap;function l(W){const q=[],et=function(ht,Pt){if(Array.isArray(Pt))for(let Rt in Pt){const vt=ht.slice();vt.push(Rt);try{et(vt,Pt[Rt])}catch(Ot){q.push({path:vt,error:Ot})}}};return et([],W),q}function nt(W){let q=(0,f.ot)(W);return(0,z.hu)(q.length<=d,"value out-of-bounds","BUFFER_OVERRUN",{buffer:q,length:d,offset:q.length}),q.length!==d&&(q=(0,Q.h_)((0,Q.zo)([g.slice(q.length%d),q]))),q}class N{constructor(q,et,ht,Pt){F(this,"name");F(this,"type");F(this,"localName");F(this,"dynamic");(0,v.h)(this,{name:q,type:et,localName:ht,dynamic:Pt},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(q,et){(0,z.en)(!1,q,this.localName,et)}}class x{constructor(){K(this,ot);K(this,R,void 0);K(this,Y,void 0);A(this,R,[]),A(this,Y,0)}get data(){return(0,Q.zo)(c(this,R))}get length(){return c(this,Y)}appendWriter(q){return wt(this,ot,ii).call(this,(0,Q.h_)(q.data))}writeBytes(q){let et=(0,Q.h_)(q);const ht=et.length%d;return ht&&(et=(0,Q.h_)((0,Q.zo)([et,g.slice(ht)]))),wt(this,ot,ii).call(this,et)}writeValue(q){return wt(this,ot,ii).call(this,nt(q))}writeUpdatableValue(){const q=c(this,R).length;return c(this,R).push(g),A(this,Y,c(this,Y)+d),et=>{c(this,R)[q]=nt(et)}}}R=new WeakMap,Y=new WeakMap,ot=new WeakSet,ii=function(q){return c(this,R).push(q),A(this,Y,c(this,Y)+q.length),q.length};const j=class{constructor(q,et){K(this,C);F(this,"allowLoose");K(this,lt,void 0);K(this,tt,void 0);(0,v.h)(this,{allowLoose:!!et}),A(this,lt,(0,Q.h_)(q)),A(this,tt,0)}get data(){return(0,Q.Dv)(c(this,lt))}get dataLength(){return c(this,lt).length}get consumed(){return c(this,tt)}get bytes(){return new Uint8Array(c(this,lt))}subReader(q){return new j(c(this,lt).slice(c(this,tt)+q),this.allowLoose)}readBytes(q,et){let ht=wt(this,C,Va).call(this,0,q,!!et);return A(this,tt,c(this,tt)+ht.length),ht.slice(0,q)}readValue(){return(0,f.Gh)(this.readBytes(d))}readIndex(){return(0,f.He)(this.readBytes(d))}};let D=j;lt=new WeakMap,tt=new WeakMap,C=new WeakSet,Va=function(q,et,ht){let Pt=Math.ceil(et/d)*d;return c(this,tt)+Pt>c(this,lt).length&&(this.allowLoose&&ht&&c(this,tt)+et<=c(this,lt).length?Pt=et:(0,z.hu)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,Q.h_)(c(this,lt)),length:c(this,lt).length,offset:c(this,tt)+Pt})),c(this,lt).slice(c(this,tt),c(this,tt)+Pt)}},30521:function(yt,st,I){var $t,we,oe,Wi,zt,oi;"use strict";I.d(st,{HY:function(){return Kt},IC:function(){return ne},QV:function(){return qt},Xg:function(){return jt},YW:function(){return re},_R:function(){return pt}});var f=I(59021),z=I(85191),Q=I(38649),v=I(7690);function d(Tt){const w=new Set;return Tt.forEach(p=>w.add(p)),Object.freeze(w)}const y=d("external public payable".split(" ")),E="constant external internal payable private public pure view",L=d(E.split(" ")),rt="constructor error event fallback function receive struct",l=d(rt.split(" ")),nt="calldata memory storage payable indexed",N=d(nt.split(" ")),D=[rt,nt,"tuple returns",E].join(" "),S=d(D.split(" ")),$={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},R=new RegExp("^(\\s*)"),Y=new RegExp("^([0-9]+)"),ot=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),X=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),lt=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),se=class{constructor(w){K(this,oe);K(this,$t,void 0);K(this,we,void 0);A(this,$t,0),A(this,we,w.slice())}get offset(){return c(this,$t)}get length(){return c(this,we).length-c(this,$t)}clone(){return new se(c(this,we))}reset(){A(this,$t,0)}popKeyword(w){const p=this.peek();if(p.type!=="KEYWORD"||!w.has(p.text))throw new Error(`expected keyword ${p.text}`);return this.pop().text}popType(w){if(this.peek().type!==w)throw new Error(`expected ${w}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const w=this.peek();if(w.type!=="OPEN_PAREN")throw new Error("bad start");const p=wt(this,oe,Wi).call(this,c(this,$t)+1,w.match+1);return A(this,$t,w.match+1),p}popParams(){const w=this.peek();if(w.type!=="OPEN_PAREN")throw new Error("bad start");const p=[];for(;c(this,$t)<w.match-1;){const H=this.peek().linkNext;p.push(wt(this,oe,Wi).call(this,c(this,$t)+1,H)),A(this,$t,H)}return A(this,$t,w.match+1),p}peek(){if(c(this,$t)>=c(this,we).length)throw new Error("out-of-bounds");return c(this,we)[c(this,$t)]}peekKeyword(w){const p=this.peekType("KEYWORD");return p!=null&&w.has(p)?p:null}peekType(w){if(this.length===0)return null;const p=this.peek();return p.type===w?p.text:null}pop(){const w=this.peek();return Os(this,$t)._++,w}toString(){const w=[];for(let p=c(this,$t);p<c(this,we).length;p++){const H=c(this,we)[p];w.push(`${H.type}:${H.text}`)}return`<TokenString ${w.join(" ")}>`}};let tt=se;$t=new WeakMap,we=new WeakMap,oe=new WeakSet,Wi=function(w=0,p=0){return new se(c(this,we).slice(w,p).map(H=>Object.freeze(Object.assign({},H,{match:H.match-w,linkBack:H.linkBack-w,linkNext:H.linkNext-w}))))};function C(Tt){const w=[],p=Dt=>{const Nt=Et<Tt.length?JSON.stringify(Tt[Et]):"$EOI";throw new Error(`invalid token ${Nt} at ${Et}: ${Dt}`)};let H=[],gt=[],Et=0;for(;Et<Tt.length;){let Dt=Tt.substring(Et),Nt=Dt.match(R);Nt&&(Et+=Nt[1].length,Dt=Tt.substring(Et));const B={depth:H.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:Et,value:-1};w.push(B);let u=$[Dt[0]]||"";if(u){if(B.type=u,B.text=Dt[0],Et++,u==="OPEN_PAREN")H.push(w.length-1),gt.push(w.length-1);else if(u=="CLOSE_PAREN")H.length===0&&p("no matching open bracket"),B.match=H.pop(),w[B.match].match=w.length-1,B.depth--,B.linkBack=gt.pop(),w[B.linkBack].linkNext=w.length-1;else if(u==="COMMA")B.linkBack=gt.pop(),w[B.linkBack].linkNext=w.length-1,gt.push(w.length-1);else if(u==="OPEN_BRACKET")B.type="BRACKET";else if(u==="CLOSE_BRACKET"){let m=w.pop().text;if(w.length>0&&w[w.length-1].type==="NUMBER"){const b=w.pop().text;m=b+m,w[w.length-1].value=(0,f.Dx)(b)}if(w.length===0||w[w.length-1].type!=="BRACKET")throw new Error("missing opening bracket");w[w.length-1].text+=m}continue}if(Nt=Dt.match(ot),Nt){if(B.text=Nt[1],Et+=B.text.length,S.has(B.text)){B.type="KEYWORD";continue}if(B.text.match(lt)){B.type="TYPE";continue}B.type="ID";continue}if(Nt=Dt.match(Y),Nt){B.text=Nt[1],B.type="NUMBER",Et+=B.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(Dt[0])} at position ${Et}`)}return new tt(w.map(Dt=>Object.freeze(Dt)))}function dt(Tt,w){let p=[];for(const H in w.keys())Tt.has(H)&&p.push(H);if(p.length>1)throw new Error(`conflicting types: ${p.join(", ")}`)}function j(Tt,w){if(w.peekKeyword(l)){const p=w.pop().text;if(p!==Tt)throw new Error(`expected ${Tt}, got ${p}`)}return w.popType("ID")}function W(Tt,w){const p=new Set;for(;;){const H=Tt.peekType("KEYWORD");if(H==null||w&&!w.has(H))break;if(Tt.pop(),p.has(H))throw new Error(`duplicate keywords: ${JSON.stringify(H)}`);p.add(H)}return Object.freeze(p)}function q(Tt){let w=W(Tt,L);return dt(w,d("constant payable nonpayable".split(" "))),dt(w,d("pure view payable nonpayable".split(" "))),w.has("view")?"view":w.has("pure")?"pure":w.has("payable")?"payable":w.has("nonpayable")?"nonpayable":w.has("constant")?"view":"nonpayable"}function et(Tt,w){return Tt.popParams().map(p=>pt.from(p,w))}function ht(Tt){if(Tt.peekType("AT")){if(Tt.pop(),Tt.peekType("NUMBER"))return(0,f.yT)(Tt.pop().text);throw new Error("invalid gas")}return null}function Pt(Tt){if(Tt.length)throw new Error(`unexpected tokens: ${Tt.toString()}`)}const Rt=new RegExp(/^(.*)\[([0-9]*)\]$/);function vt(Tt){const w=Tt.match(lt);if((0,z.en)(w,"invalid type","type",Tt),Tt==="uint")return"uint256";if(Tt==="int")return"int256";if(w[2]){const p=parseInt(w[2]);(0,z.en)(p!==0&&p<=32,"invalid bytes length","type",Tt)}else if(w[3]){const p=parseInt(w[3]);(0,z.en)(p!==0&&p<=256&&p%8===0,"invalid numeric width","type",Tt)}return Tt}const Ot={},Ct=Symbol.for("_ethers_internal"),it="_ParamTypeInternal",O="_ErrorInternal",T="_EventInternal",J="_ConstructorInternal",V="_FallbackInternal",ft="_FunctionInternal",ct="_StructInternal",le=class{constructor(w,p,H,gt,Et,Dt,Nt,B){K(this,zt);F(this,"name");F(this,"type");F(this,"baseType");F(this,"indexed");F(this,"components");F(this,"arrayLength");F(this,"arrayChildren");if((0,z.NK)(w,Ot,"ParamType"),Object.defineProperty(this,Ct,{value:it}),Dt&&(Dt=Object.freeze(Dt.slice())),gt==="array"){if(Nt==null||B==null)throw new Error("")}else if(Nt!=null||B!=null)throw new Error("");if(gt==="tuple"){if(Dt==null)throw new Error("")}else if(Dt!=null)throw new Error("");(0,Q.h)(this,{name:p,type:H,baseType:gt,indexed:Et,components:Dt,arrayLength:Nt,arrayChildren:B})}format(w){if(w==null&&(w="sighash"),w==="json"){const H=this.name||"";if(this.isArray()){const Et=JSON.parse(this.arrayChildren.format("json"));return Et.name=H,Et.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(Et)}const gt={type:this.baseType==="tuple"?"tuple":this.type,name:H};return typeof this.indexed=="boolean"&&(gt.indexed=this.indexed),this.isTuple()&&(gt.components=this.components.map(Et=>JSON.parse(Et.format(w)))),JSON.stringify(gt)}let p="";return this.isArray()?(p+=this.arrayChildren.format(w),p+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(w!=="sighash"&&(p+=this.type),p+="("+this.components.map(H=>H.format(w)).join(w==="full"?", ":",")+")"):p+=this.type,w!=="sighash"&&(this.indexed===!0&&(p+=" indexed"),w==="full"&&this.name&&(p+=" "+this.name)),p}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(w,p){if(this.isArray()){if(!Array.isArray(w))throw new Error("invalid array value");if(this.arrayLength!==-1&&w.length!==this.arrayLength)throw new Error("array is wrong length");const H=this;return w.map(gt=>H.arrayChildren.walk(gt,p))}if(this.isTuple()){if(!Array.isArray(w))throw new Error("invalid tuple value");if(w.length!==this.components.length)throw new Error("array is wrong length");const H=this;return w.map((gt,Et)=>H.components[Et].walk(gt,p))}return p(this.type,w)}async walkAsync(w,p){const H=[],gt=[w];return wt(this,zt,oi).call(this,H,w,p,Et=>{gt[0]=Et}),H.length&&await Promise.all(H),gt[0]}static from(w,p){if(le.isParamType(w))return w;if(typeof w=="string")try{return le.from(C(w),p)}catch{(0,z.en)(!1,"invalid param type","obj",w)}else if(w instanceof tt){let Nt="",B="",u=null;W(w,d(["tuple"])).has("tuple")||w.peekType("OPEN_PAREN")?(B="tuple",u=w.popParams().map(ut=>le.from(ut)),Nt=`tuple(${u.map(ut=>ut.format()).join(",")})`):(Nt=vt(w.popType("TYPE")),B=Nt);let m=null,b=null;for(;w.length&&w.peekType("BRACKET");){const ut=w.pop();m=new le(Ot,"",Nt,B,null,u,b,m),b=ut.value,Nt+=ut.text,B="array",u=null}let k=null;if(W(w,N).has("indexed")){if(!p)throw new Error("");k=!0}const G=w.peekType("ID")?w.pop().text:"";if(w.length)throw new Error("leftover tokens");return new le(Ot,G,Nt,B,k,u,b,m)}const H=w.name;(0,z.en)(!H||typeof H=="string"&&H.match(X),"invalid name","obj.name",H);let gt=w.indexed;gt!=null&&((0,z.en)(p,"parameter cannot be indexed","obj.indexed",w.indexed),gt=!!gt);let Et=w.type,Dt=Et.match(Rt);if(Dt){const Nt=parseInt(Dt[2]||"-1"),B=le.from({type:Dt[1],components:w.components});return new le(Ot,H||"",Et,"array",gt,null,Nt,B)}if(Et==="tuple"||Et.startsWith("tuple(")||Et.startsWith("(")){const Nt=w.components!=null?w.components.map(u=>le.from(u)):null;return new le(Ot,H||"",Et,"tuple",gt,Nt,null,null)}return Et=vt(w.type),new le(Ot,H||"",Et,Et,gt,null,null,null)}static isParamType(w){return w&&w[Ct]===it}};let pt=le;zt=new WeakSet,oi=function(w,p,H,gt){if(this.isArray()){if(!Array.isArray(p))throw new Error("invalid array value");if(this.arrayLength!==-1&&p.length!==this.arrayLength)throw new Error("array is wrong length");const Dt=this.arrayChildren,Nt=p.slice();Nt.forEach((B,u)=>{var m;wt(m=Dt,zt,oi).call(m,w,B,H,b=>{Nt[u]=b})}),gt(Nt);return}if(this.isTuple()){const Dt=this.components;let Nt;if(Array.isArray(p))Nt=p.slice();else{if(p==null||typeof p!="object")throw new Error("invalid tuple value");Nt=Dt.map(B=>{if(!B.name)throw new Error("cannot use object value with unnamed components");if(!(B.name in p))throw new Error(`missing value for component ${B.name}`);return p[B.name]})}if(Nt.length!==this.components.length)throw new Error("array is wrong length");Nt.forEach((B,u)=>{var m;wt(m=Dt[u],zt,oi).call(m,w,B,H,b=>{Nt[u]=b})}),gt(Nt);return}const Et=H(this.type,p);Et.then?w.push(async function(){gt(await Et)}()):gt(Et)};class Kt{constructor(w,p,H){F(this,"type");F(this,"inputs");(0,z.NK)(w,Ot,"Fragment"),H=Object.freeze(H.slice()),(0,Q.h)(this,{type:p,inputs:H})}static from(w){if(typeof w=="string"){try{Kt.from(JSON.parse(w))}catch{}return Kt.from(C(w))}if(w instanceof tt)switch(w.peekKeyword(l)){case"constructor":return jt.from(w);case"error":return ne.from(w);case"event":return qt.from(w);case"fallback":case"receive":return pe.from(w);case"function":return re.from(w);case"struct":return ue.from(w)}else if(typeof w=="object"){switch(w.type){case"constructor":return jt.from(w);case"error":return ne.from(w);case"event":return qt.from(w);case"fallback":case"receive":return pe.from(w);case"function":return re.from(w);case"struct":return ue.from(w)}(0,z.hu)(!1,`unsupported type: ${w.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,z.en)(!1,"unsupported frgament object","obj",w)}static isConstructor(w){return jt.isFragment(w)}static isError(w){return ne.isFragment(w)}static isEvent(w){return qt.isFragment(w)}static isFunction(w){return re.isFragment(w)}static isStruct(w){return ue.isFragment(w)}}class Qt extends Kt{constructor(p,H,gt,Et){super(p,H,Et);F(this,"name");(0,z.en)(typeof gt=="string"&&gt.match(X),"invalid identifier","name",gt),Et=Object.freeze(Et.slice()),(0,Q.h)(this,{name:gt})}}function Ft(Tt,w){return"("+w.map(p=>p.format(Tt)).join(Tt==="full"?", ":",")+")"}class ne extends Qt{constructor(w,p,H){super(w,"error",p,H),Object.defineProperty(this,Ct,{value:O})}get selector(){return(0,v.id)(this.format("sighash")).substring(0,10)}format(w){if(w==null&&(w="sighash"),w==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(H=>JSON.parse(H.format(w)))});const p=[];return w!=="sighash"&&p.push("error"),p.push(this.name+Ft(w,this.inputs)),p.join(" ")}static from(w){if(ne.isFragment(w))return w;if(typeof w=="string")return ne.from(C(w));if(w instanceof tt){const p=j("error",w),H=et(w);return Pt(w),new ne(Ot,p,H)}return new ne(Ot,w.name,w.inputs?w.inputs.map(pt.from):[])}static isFragment(w){return w&&w[Ct]===O}}class qt extends Qt{constructor(p,H,gt,Et){super(p,"event",H,gt);F(this,"anonymous");Object.defineProperty(this,Ct,{value:T}),(0,Q.h)(this,{anonymous:Et})}get topicHash(){return(0,v.id)(this.format("sighash"))}format(p){if(p==null&&(p="sighash"),p==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(gt=>JSON.parse(gt.format(p)))});const H=[];return p!=="sighash"&&H.push("event"),H.push(this.name+Ft(p,this.inputs)),p!=="sighash"&&this.anonymous&&H.push("anonymous"),H.join(" ")}static getTopicHash(p,H){return H=(H||[]).map(Et=>pt.from(Et)),new qt(Ot,p,H,!1).topicHash}static from(p){if(qt.isFragment(p))return p;if(typeof p=="string")try{return qt.from(C(p))}catch{(0,z.en)(!1,"invalid event fragment","obj",p)}else if(p instanceof tt){const H=j("event",p),gt=et(p,!0),Et=!!W(p,d(["anonymous"])).has("anonymous");return Pt(p),new qt(Ot,H,gt,Et)}return new qt(Ot,p.name,p.inputs?p.inputs.map(H=>pt.from(H,!0)):[],!!p.anonymous)}static isFragment(p){return p&&p[Ct]===T}}class jt extends Kt{constructor(p,H,gt,Et,Dt){super(p,H,gt);F(this,"payable");F(this,"gas");Object.defineProperty(this,Ct,{value:J}),(0,Q.h)(this,{payable:Et,gas:Dt})}format(p){if((0,z.hu)(p!=null&&p!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),p==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(gt=>JSON.parse(gt.format(p)))});const H=[`constructor${Ft(p,this.inputs)}`];return H.push(this.payable?"payable":"nonpayable"),this.gas!=null&&H.push(`@${this.gas.toString()}`),H.join(" ")}static from(p){if(jt.isFragment(p))return p;if(typeof p=="string")try{return jt.from(C(p))}catch{(0,z.en)(!1,"invalid constuctor fragment","obj",p)}else if(p instanceof tt){W(p,d(["constructor"]));const H=et(p),gt=!!W(p,y).has("payable"),Et=ht(p);return Pt(p),new jt(Ot,"constructor",H,gt,Et)}return new jt(Ot,"constructor",p.inputs?p.inputs.map(pt.from):[],!!p.payable,p.gas!=null?p.gas:null)}static isFragment(p){return p&&p[Ct]===J}}class pe extends Kt{constructor(p,H,gt){super(p,"fallback",H);F(this,"payable");Object.defineProperty(this,Ct,{value:V}),(0,Q.h)(this,{payable:gt})}format(p){const H=this.inputs.length===0?"receive":"fallback";if(p==="json"){const gt=this.payable?"payable":"nonpayable";return JSON.stringify({type:H,stateMutability:gt})}return`${H}()${this.payable?" payable":""}`}static from(p){if(pe.isFragment(p))return p;if(typeof p=="string")try{return pe.from(C(p))}catch{(0,z.en)(!1,"invalid fallback fragment","obj",p)}else if(p instanceof tt){const H=p.toString(),gt=p.peekKeyword(d(["fallback","receive"]));if((0,z.en)(gt,"type must be fallback or receive","obj",H),p.popKeyword(d(["fallback","receive"]))==="receive"){const B=et(p);return(0,z.en)(B.length===0,"receive cannot have arguments","obj.inputs",B),W(p,d(["payable"])),Pt(p),new pe(Ot,[],!0)}let Dt=et(p);Dt.length?(0,z.en)(Dt.length===1&&Dt[0].type==="bytes","invalid fallback inputs","obj.inputs",Dt.map(B=>B.format("minimal")).join(", ")):Dt=[pt.from("bytes")];const Nt=q(p);if((0,z.en)(Nt==="nonpayable"||Nt==="payable","fallback cannot be constants","obj.stateMutability",Nt),W(p,d(["returns"])).has("returns")){const B=et(p);(0,z.en)(B.length===1&&B[0].type==="bytes","invalid fallback outputs","obj.outputs",B.map(u=>u.format("minimal")).join(", "))}return Pt(p),new pe(Ot,Dt,Nt==="payable")}if(p.type==="receive")return new pe(Ot,[],!0);if(p.type==="fallback"){const H=[pt.from("bytes")],gt=p.stateMutability==="payable";return new pe(Ot,H,gt)}(0,z.en)(!1,"invalid fallback description","obj",p)}static isFragment(p){return p&&p[Ct]===V}}class re extends Qt{constructor(p,H,gt,Et,Dt,Nt){super(p,"function",H,Et);F(this,"constant");F(this,"outputs");F(this,"stateMutability");F(this,"payable");F(this,"gas");Object.defineProperty(this,Ct,{value:ft}),Dt=Object.freeze(Dt.slice());const B=gt==="view"||gt==="pure",u=gt==="payable";(0,Q.h)(this,{constant:B,gas:Nt,outputs:Dt,payable:u,stateMutability:gt})}get selector(){return(0,v.id)(this.format("sighash")).substring(0,10)}format(p){if(p==null&&(p="sighash"),p==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(gt=>JSON.parse(gt.format(p))),outputs:this.outputs.map(gt=>JSON.parse(gt.format(p)))});const H=[];return p!=="sighash"&&H.push("function"),H.push(this.name+Ft(p,this.inputs)),p!=="sighash"&&(this.stateMutability!=="nonpayable"&&H.push(this.stateMutability),this.outputs&&this.outputs.length&&(H.push("returns"),H.push(Ft(p,this.outputs))),this.gas!=null&&H.push(`@${this.gas.toString()}`)),H.join(" ")}static getSelector(p,H){return H=(H||[]).map(Et=>pt.from(Et)),new re(Ot,p,"view",H,[],null).selector}static from(p){if(re.isFragment(p))return p;if(typeof p=="string")try{return re.from(C(p))}catch{(0,z.en)(!1,"invalid function fragment","obj",p)}else if(p instanceof tt){const gt=j("function",p),Et=et(p),Dt=q(p);let Nt=[];W(p,d(["returns"])).has("returns")&&(Nt=et(p));const B=ht(p);return Pt(p),new re(Ot,gt,Dt,Et,Nt,B)}let H=p.stateMutability;return H==null&&(H="payable",typeof p.constant=="boolean"?(H="view",p.constant||(H="payable",typeof p.payable=="boolean"&&!p.payable&&(H="nonpayable"))):typeof p.payable=="boolean"&&!p.payable&&(H="nonpayable")),new re(Ot,p.name,H,p.inputs?p.inputs.map(pt.from):[],p.outputs?p.outputs.map(pt.from):[],p.gas!=null?p.gas:null)}static isFragment(p){return p&&p[Ct]===ft}}class ue extends Qt{constructor(w,p,H){super(w,"struct",p,H),Object.defineProperty(this,Ct,{value:ct})}format(){throw new Error("@TODO")}static from(w){if(typeof w=="string")try{return ue.from(C(w))}catch{(0,z.en)(!1,"invalid struct fragment","obj",w)}else if(w instanceof tt){const p=j("struct",w),H=et(w);return Pt(w),new ue(Ot,p,H)}return new ue(Ot,w.name,w.inputs?w.inputs.map(pt.from):[])}static isFragment(w){return w&&w[Ct]===ct}}},31965:function(yt,st,I){var E;"use strict";I.d(st,{_:function(){return y}});var f=I(85191),z=I(38649);const Q={};function v(rt,l){let nt=!1;return l<0&&(nt=!0,l*=-1),new y(Q,`${nt?"":"u"}int${l}`,rt,{signed:nt,width:l})}function d(rt,l){return new y(Q,`bytes${l||""}`,rt,{size:l})}const g=Symbol.for("_ethers_typed"),L=class{constructor(l,nt,N,x){F(this,"type");F(this,"value");K(this,E,void 0);F(this,"_typedSymbol");x==null&&(x=null),(0,f.NK)(Q,l,"Typed"),(0,z.h)(this,{_typedSymbol:g,type:nt,value:N}),A(this,E,x),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(l=>l.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return c(this,E)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return c(this,E)===!0?-1:c(this,E)===!1?this.value.length:null}static from(l,nt){return new L(Q,l,nt)}static uint8(l){return v(l,8)}static uint16(l){return v(l,16)}static uint24(l){return v(l,24)}static uint32(l){return v(l,32)}static uint40(l){return v(l,40)}static uint48(l){return v(l,48)}static uint56(l){return v(l,56)}static uint64(l){return v(l,64)}static uint72(l){return v(l,72)}static uint80(l){return v(l,80)}static uint88(l){return v(l,88)}static uint96(l){return v(l,96)}static uint104(l){return v(l,104)}static uint112(l){return v(l,112)}static uint120(l){return v(l,120)}static uint128(l){return v(l,128)}static uint136(l){return v(l,136)}static uint144(l){return v(l,144)}static uint152(l){return v(l,152)}static uint160(l){return v(l,160)}static uint168(l){return v(l,168)}static uint176(l){return v(l,176)}static uint184(l){return v(l,184)}static uint192(l){return v(l,192)}static uint200(l){return v(l,200)}static uint208(l){return v(l,208)}static uint216(l){return v(l,216)}static uint224(l){return v(l,224)}static uint232(l){return v(l,232)}static uint240(l){return v(l,240)}static uint248(l){return v(l,248)}static uint256(l){return v(l,256)}static uint(l){return v(l,256)}static int8(l){return v(l,-8)}static int16(l){return v(l,-16)}static int24(l){return v(l,-24)}static int32(l){return v(l,-32)}static int40(l){return v(l,-40)}static int48(l){return v(l,-48)}static int56(l){return v(l,-56)}static int64(l){return v(l,-64)}static int72(l){return v(l,-72)}static int80(l){return v(l,-80)}static int88(l){return v(l,-88)}static int96(l){return v(l,-96)}static int104(l){return v(l,-104)}static int112(l){return v(l,-112)}static int120(l){return v(l,-120)}static int128(l){return v(l,-128)}static int136(l){return v(l,-136)}static int144(l){return v(l,-144)}static int152(l){return v(l,-152)}static int160(l){return v(l,-160)}static int168(l){return v(l,-168)}static int176(l){return v(l,-176)}static int184(l){return v(l,-184)}static int192(l){return v(l,-192)}static int200(l){return v(l,-200)}static int208(l){return v(l,-208)}static int216(l){return v(l,-216)}static int224(l){return v(l,-224)}static int232(l){return v(l,-232)}static int240(l){return v(l,-240)}static int248(l){return v(l,-248)}static int256(l){return v(l,-256)}static int(l){return v(l,-256)}static bytes1(l){return d(l,1)}static bytes2(l){return d(l,2)}static bytes3(l){return d(l,3)}static bytes4(l){return d(l,4)}static bytes5(l){return d(l,5)}static bytes6(l){return d(l,6)}static bytes7(l){return d(l,7)}static bytes8(l){return d(l,8)}static bytes9(l){return d(l,9)}static bytes10(l){return d(l,10)}static bytes11(l){return d(l,11)}static bytes12(l){return d(l,12)}static bytes13(l){return d(l,13)}static bytes14(l){return d(l,14)}static bytes15(l){return d(l,15)}static bytes16(l){return d(l,16)}static bytes17(l){return d(l,17)}static bytes18(l){return d(l,18)}static bytes19(l){return d(l,19)}static bytes20(l){return d(l,20)}static bytes21(l){return d(l,21)}static bytes22(l){return d(l,22)}static bytes23(l){return d(l,23)}static bytes24(l){return d(l,24)}static bytes25(l){return d(l,25)}static bytes26(l){return d(l,26)}static bytes27(l){return d(l,27)}static bytes28(l){return d(l,28)}static bytes29(l){return d(l,29)}static bytes30(l){return d(l,30)}static bytes31(l){return d(l,31)}static bytes32(l){return d(l,32)}static address(l){return new L(Q,"address",l)}static bool(l){return new L(Q,"bool",!!l)}static bytes(l){return new L(Q,"bytes",l)}static string(l){return new L(Q,"string",l)}static array(l,nt){throw new Error("not implemented yet")}static tuple(l,nt){throw new Error("not implemented yet")}static overrides(l){return new L(Q,"overrides",Object.assign({},l))}static isTyped(l){return l&&typeof l=="object"&&"_typedSymbol"in l&&l._typedSymbol===g}static dereference(l,nt){if(L.isTyped(l)){if(l.type!==nt)throw new Error(`invalid type: expecetd ${nt}, got ${l.type}`);return l.value}return l}};let y=L;E=new WeakMap},93494:function(yt,st,I){"use strict";I.d(st,{K:function(){return nt}});var f=I(97505),z=I(49191),Q=I(85191);const v=BigInt(0),d=BigInt(36);function g(x){x=x.toLowerCase();const D=x.substring(2).split(""),S=new Uint8Array(40);for(let R=0;R<40;R++)S[R]=D[R].charCodeAt(0);const $=(0,z.Pw)((0,f.w)(S));for(let R=0;R<40;R+=2)$[R>>1]>>4>=8&&(D[R]=D[R].toUpperCase()),($[R>>1]&15)>=8&&(D[R+1]=D[R+1].toUpperCase());return"0x"+D.join("")}const y={};for(let x=0;x<10;x++)y[String(x)]=String(x);for(let x=0;x<26;x++)y[String.fromCharCode(65+x)]=String(10+x);const E=15;function L(x){x=x.toUpperCase(),x=x.substring(4)+x.substring(0,2)+"00";let D=x.split("").map($=>y[$]).join("");for(;D.length>=E;){let $=D.substring(0,E);D=parseInt($,10)%97+D.substring($.length)}let S=String(98-parseInt(D,10)%97);for(;S.length<2;)S="0"+S;return S}const rt=function(){const x={};for(let D=0;D<36;D++){const S="0123456789abcdefghijklmnopqrstuvwxyz"[D];x[S]=BigInt(D)}return x}();function l(x){x=x.toLowerCase();let D=v;for(let S=0;S<x.length;S++)D=D*d+rt[x[S]];return D}function nt(x){if((0,Q.en)(typeof x=="string","invalid address","address",x),x.match(/^(0x)?[0-9a-fA-F]{40}$/)){x.startsWith("0x")||(x="0x"+x);const D=g(x);return(0,Q.en)(!x.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||D===x,"bad address checksum","address",x),D}if(x.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,Q.en)(x.substring(2,4)===L(x),"bad icap checksum","address",x);let D=l(x.substring(4)).toString(16);for(;D.length<40;)D="0"+D;return g("0x"+D)}(0,Q.en)(!1,"invalid address","address",x)}function N(x){let D=BigInt(nt(x)).toString(36).toUpperCase();for(;D.length<30;)D="0"+D;return"XE"+L("XE00"+D)+D}},18745:function(yt,st,I){"use strict";I.d(st,{RC:function(){return Q},ru:function(){return g}});var f=I(85191),z=I(93494);function Q(y){return y&&typeof y.getAddress=="function"}function v(y){try{return getAddress(y),!0}catch{}return!1}async function d(y,E){const L=await E;return(L==null||L==="0x0000000000000000000000000000000000000000")&&((0,f.hu)(typeof y!="string","unconfigured name","UNCONFIGURED_NAME",{value:y}),(0,f.en)(!1,"invalid AddressLike value; did not resolve to a value address","target",y)),(0,z.K)(L)}function g(y,E){if(typeof y=="string")return y.match(/^0x[0-9a-f]{40}$/i)?(0,z.K)(y):((0,f.hu)(E!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),d(y,E.resolveName(y)));if(Q(y))return d(y,y.getAddress());if(y&&typeof y.then=="function")return d(y,y);(0,f.en)(!1,"unsupported addressable value","target",y)}},38577:function(yt,st,I){var oe,Pe,se,zt,Fe,ai,Tt,ci,H,gt,Et,Dt;"use strict";I.d(st,{CH:function(){return we}});var f=I(31965),z=I(97505),Q=I(7690),v=I(38649),d=I(85191),g=I(49191),y=I(59021),E=I(7117),L=I(70272),rt=I(30521);class l{constructor(u,m,b){F(this,"fragment");F(this,"name");F(this,"signature");F(this,"topic");F(this,"args");const k=u.name,_=u.format();(0,v.h)(this,{fragment:u,name:k,signature:_,topic:m,args:b})}}class nt{constructor(u,m,b,k){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");F(this,"value");const _=u.name,G=u.format();(0,v.h)(this,{fragment:u,name:_,args:b,signature:G,selector:m,value:k})}}class N{constructor(u,m,b){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");const k=u.name,_=u.format();(0,v.h)(this,{fragment:u,name:k,args:b,signature:_,selector:m})}}class x{constructor(u){F(this,"hash");F(this,"_isIndexed");(0,v.h)(this,{hash:u,_isIndexed:!0})}static isIndexed(u){return!!(u&&u._isIndexed)}}const D={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},S={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:B=>`reverted with reason string ${JSON.stringify(B)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:B=>{let u="unknown panic code";return B>=0&&B<=255&&D[B.toString()]&&(u=D[B.toString()]),`reverted with panic code 0x${B.toString(16)} (${u})`}}},p=class{constructor(u){K(this,Fe);K(this,Tt);F(this,"fragments");F(this,"deploy");F(this,"fallback");F(this,"receive");K(this,oe,void 0);K(this,Pe,void 0);K(this,se,void 0);K(this,zt,void 0);let m=[];typeof u=="string"?m=JSON.parse(u):m=u,A(this,se,new Map),A(this,oe,new Map),A(this,Pe,new Map);const b=[];for(const G of m)try{b.push(rt.HY.from(G))}catch(ut){console.log("EE",ut)}(0,v.h)(this,{fragments:Object.freeze(b)});let k=null,_=!1;A(this,zt,this.getAbiCoder()),this.fragments.forEach((G,ut)=>{let xt;switch(G.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,v.h)(this,{deploy:G});return;case"fallback":G.inputs.length===0?_=!0:((0,d.en)(!k||G.payable!==k.payable,"conflicting fallback fragments",`fragments[${ut}]`,G),k=G,_=k.payable);return;case"function":xt=c(this,se);break;case"event":xt=c(this,Pe);break;case"error":xt=c(this,oe);break;default:return}const bt=G.format();xt.has(bt)||xt.set(bt,G)}),this.deploy||(0,v.h)(this,{deploy:rt.Xg.from("constructor()")}),(0,v.h)(this,{fallback:k,receive:_})}format(u){const m=u?"minimal":"full";return this.fragments.map(k=>k.format(m))}formatJson(){const u=this.fragments.map(m=>m.format("json"));return JSON.stringify(u.map(m=>JSON.parse(m)))}getAbiCoder(){return E.R.defaultAbiCoder()}getFunctionName(u){const m=wt(this,Fe,ai).call(this,u,null,!1);return(0,d.en)(m,"no matching function","key",u),m.name}hasFunction(u){return!!wt(this,Fe,ai).call(this,u,null,!1)}getFunction(u,m){return wt(this,Fe,ai).call(this,u,m||null,!0)}forEachFunction(u){const m=Array.from(c(this,se).keys());m.sort((b,k)=>b.localeCompare(k));for(let b=0;b<m.length;b++){const k=m[b];u(c(this,se).get(k),b)}}getEventName(u){const m=wt(this,Tt,ci).call(this,u,null,!1);return(0,d.en)(m,"no matching event","key",u),m.name}hasEvent(u){return!!wt(this,Tt,ci).call(this,u,null,!1)}getEvent(u,m){return wt(this,Tt,ci).call(this,u,m||null,!0)}forEachEvent(u){const m=Array.from(c(this,Pe).keys());m.sort((b,k)=>b.localeCompare(k));for(let b=0;b<m.length;b++){const k=m[b];u(c(this,Pe).get(k),b)}}getError(u,m){if((0,g.A7)(u)){const k=u.toLowerCase();if(S[k])return rt.IC.from(S[k].signature);for(const _ of c(this,oe).values())if(k===_.selector)return _;return null}if(u.indexOf("(")===-1){const k=[];for(const[_,G]of c(this,oe))_.split("(")[0]===u&&k.push(G);if(k.length===0)return u==="Error"?rt.IC.from("error Error(string)"):u==="Panic"?rt.IC.from("error Panic(uint256)"):null;if(k.length>1){const _=k.map(G=>JSON.stringify(G.format())).join(", ");(0,d.en)(!1,`ambiguous error description (i.e. ${_})`,"name",u)}return k[0]}if(u=rt.IC.from(u).format(),u==="Error(string)")return rt.IC.from("error Error(string)");if(u==="Panic(uint256)")return rt.IC.from("error Panic(uint256)");const b=c(this,oe).get(u);return b||null}forEachError(u){const m=Array.from(c(this,oe).keys());m.sort((b,k)=>b.localeCompare(k));for(let b=0;b<m.length;b++){const k=m[b];u(c(this,oe).get(k),b)}}_decodeParams(u,m){return c(this,zt).decode(u,m)}_encodeParams(u,m){return c(this,zt).encode(u,m)}encodeDeploy(u){return this._encodeParams(this.deploy.inputs,u||[])}decodeErrorResult(u,m){if(typeof u=="string"){const b=this.getError(u);(0,d.en)(b,"unknown error","fragment",u),u=b}return(0,d.en)((0,g.QB)(m,0,4)===u.selector,`data signature does not match error ${u.name}.`,"data",m),this._decodeParams(u.inputs,(0,g.QB)(m,4))}encodeErrorResult(u,m){if(typeof u=="string"){const b=this.getError(u);(0,d.en)(b,"unknown error","fragment",u),u=b}return(0,g.zo)([u.selector,this._encodeParams(u.inputs,m||[])])}decodeFunctionData(u,m){if(typeof u=="string"){const b=this.getFunction(u);(0,d.en)(b,"unknown function","fragment",u),u=b}return(0,d.en)((0,g.QB)(m,0,4)===u.selector,`data signature does not match function ${u.name}.`,"data",m),this._decodeParams(u.inputs,(0,g.QB)(m,4))}encodeFunctionData(u,m){if(typeof u=="string"){const b=this.getFunction(u);(0,d.en)(b,"unknown function","fragment",u),u=b}return(0,g.zo)([u.selector,this._encodeParams(u.inputs,m||[])])}decodeFunctionResult(u,m){if(typeof u=="string"){const _=this.getFunction(u);(0,d.en)(_,"unknown function","fragment",u),u=_}let b="invalid length for result data";const k=(0,g.h_)(m);if(k.length%32===0)try{return c(this,zt).decode(u.outputs,k)}catch{b="could not decode result data"}(0,d.hu)(!1,b,"BAD_DATA",{value:(0,g.Dv)(k),info:{method:u.name,signature:u.format()}})}makeError(u,m){const b=(0,g.Pw)(u,"data"),k=E.R.getBuiltinCallException("call",m,b),_="execution reverted (unknown custom error)";if(k.message.startsWith(_)){const ut=(0,g.Dv)(b.slice(0,4)),xt=this.getError(ut);if(xt)try{const bt=c(this,zt).decode(xt.inputs,b.slice(4));k.revert={name:xt.name,signature:xt.format(),args:bt},k.reason=k.revert.signature,k.message=`execution reverted: ${k.reason}`}catch{k.message="execution reverted (coult not decode custom error)"}}const G=this.parseTransaction(m);return G&&(k.invocation={method:G.name,signature:G.signature,args:G.args}),k}encodeFunctionResult(u,m){if(typeof u=="string"){const b=this.getFunction(u);(0,d.en)(b,"unknown function","fragment",u),u=b}return(0,g.Dv)(c(this,zt).encode(u.outputs,m||[]))}encodeFilterTopics(u,m){if(typeof u=="string"){const _=this.getEvent(u);(0,d.en)(_,"unknown event","eventFragment",u),u=_}(0,d.hu)(m.length<=u.inputs.length,`too many arguments for ${u.format()}`,"UNEXPECTED_ARGUMENT",{count:m.length,expectedCount:u.inputs.length});const b=[];u.anonymous||b.push(u.topicHash);const k=(_,G)=>_.type==="string"?(0,Q.id)(G):_.type==="bytes"?(0,z.w)((0,g.Dv)(G)):(_.type==="bool"&&typeof G=="boolean"?G=G?"0x01":"0x00":_.type.match(/^u?int/)?G=(0,y.m9)(G):_.type.match(/^bytes/)?G=(0,g.SK)(G,32):_.type==="address"&&c(this,zt).encode(["address"],[G]),(0,g.U3)((0,g.Dv)(G),32));for(m.forEach((_,G)=>{const ut=u.inputs[G];if(!ut.indexed){(0,d.en)(_==null,"cannot filter non-indexed parameters; must be null","contract."+ut.name,_);return}_==null?b.push(null):ut.baseType==="array"||ut.baseType==="tuple"?(0,d.en)(!1,"filtering with tuples or arrays not supported","contract."+ut.name,_):Array.isArray(_)?b.push(_.map(xt=>k(ut,xt))):b.push(k(ut,_))});b.length&&b[b.length-1]===null;)b.pop();return b}encodeEventLog(u,m){if(typeof u=="string"){const G=this.getEvent(u);(0,d.en)(G,"unknown event","eventFragment",u),u=G}const b=[],k=[],_=[];return u.anonymous||b.push(u.topicHash),(0,d.en)(m.length===u.inputs.length,"event arguments/values mismatch","values",m),u.inputs.forEach((G,ut)=>{const xt=m[ut];if(G.indexed)if(G.type==="string")b.push((0,Q.id)(xt));else if(G.type==="bytes")b.push((0,z.w)(xt));else{if(G.baseType==="tuple"||G.baseType==="array")throw new Error("not implemented");b.push(c(this,zt).encode([G.type],[xt]))}else k.push(G),_.push(xt)}),{data:c(this,zt).encode(k,_),topics:b}}decodeEventLog(u,m,b){if(typeof u=="string"){const Ut=this.getEvent(u);(0,d.en)(Ut,"unknown event","eventFragment",u),u=Ut}if(b!=null&&!u.anonymous){const Ut=u.topicHash;(0,d.en)((0,g.A7)(b[0],32)&&b[0].toLowerCase()===Ut,"fragment/topic mismatch","topics[0]",b[0]),b=b.slice(1)}const k=[],_=[],G=[];u.inputs.forEach((Ut,ie)=>{Ut.indexed?Ut.type==="string"||Ut.type==="bytes"||Ut.baseType==="tuple"||Ut.baseType==="array"?(k.push(rt._R.from({type:"bytes32",name:Ut.name})),G.push(!0)):(k.push(Ut),G.push(!1)):(_.push(Ut),G.push(!1))});const ut=b!=null?c(this,zt).decode(k,(0,g.zo)(b)):null,xt=c(this,zt).decode(_,m,!0),bt=[],St=[];let Bt=0,kt=0;return u.inputs.forEach((Ut,ie)=>{let Me=null;if(Ut.indexed)if(ut==null)Me=new x(null);else if(G[ie])Me=new x(ut[kt++]);else try{Me=ut[kt++]}catch(ge){Me=ge}else try{Me=xt[Bt++]}catch(ge){Me=ge}bt.push(Me),St.push(Ut.name||null)}),L.x4.fromItems(bt,St)}parseTransaction(u){const m=(0,g.Pw)(u.data,"tx.data"),b=(0,y.yT)(u.value!=null?u.value:0,"tx.value"),k=this.getFunction((0,g.Dv)(m.slice(0,4)));if(!k)return null;const _=c(this,zt).decode(k.inputs,m.slice(4));return new nt(k,k.selector,_,b)}parseCallResult(u){throw new Error("@TODO")}parseLog(u){const m=this.getEvent(u.topics[0]);return!m||m.anonymous?null:new l(m,m.topicHash,this.decodeEventLog(m,u.data,u.topics))}parseError(u){const m=(0,g.Dv)(u),b=this.getError((0,g.QB)(m,0,4));if(!b)return null;const k=c(this,zt).decode(b.inputs,(0,g.QB)(m,4));return new N(b,b.selector,k)}static from(u){return u instanceof p?u:typeof u=="string"?new p(JSON.parse(u)):typeof u.format=="function"?new p(u.format("json")):new p(u)}};let $=p;oe=new WeakMap,Pe=new WeakMap,se=new WeakMap,zt=new WeakMap,Fe=new WeakSet,ai=function(u,m,b){if((0,g.A7)(u)){const _=u.toLowerCase();for(const G of c(this,se).values())if(_===G.selector)return G;return null}if(u.indexOf("(")===-1){const _=[];for(const[G,ut]of c(this,se))G.split("(")[0]===u&&_.push(ut);if(m){const G=m.length>0?m[m.length-1]:null;let ut=m.length,xt=!0;f._.isTyped(G)&&G.type==="overrides"&&(xt=!1,ut--);for(let bt=_.length-1;bt>=0;bt--){const St=_[bt].inputs.length;St!==ut&&(!xt||St!==ut-1)&&_.splice(bt,1)}for(let bt=_.length-1;bt>=0;bt--){const St=_[bt].inputs;for(let Bt=0;Bt<m.length;Bt++)if(f._.isTyped(m[Bt])){if(Bt>=St.length){if(m[Bt].type==="overrides")continue;_.splice(bt,1);break}if(m[Bt].type!==St[Bt].baseType){_.splice(bt,1);break}}}}if(_.length===1&&m&&m.length!==_[0].inputs.length){const G=m[m.length-1];(G==null||Array.isArray(G)||typeof G!="object")&&_.splice(0,1)}if(_.length===0)return null;if(_.length>1&&b){const G=_.map(ut=>JSON.stringify(ut.format())).join(", ");(0,d.en)(!1,`ambiguous function description (i.e. matches ${G})`,"key",u)}return _[0]}const k=c(this,se).get(rt.YW.from(u).format());return k||null},Tt=new WeakSet,ci=function(u,m,b){if((0,g.A7)(u)){const _=u.toLowerCase();for(const G of c(this,Pe).values())if(_===G.topicHash)return G;return null}if(u.indexOf("(")===-1){const _=[];for(const[G,ut]of c(this,Pe))G.split("(")[0]===u&&_.push(ut);if(m){for(let G=_.length-1;G>=0;G--)_[G].inputs.length<m.length&&_.splice(G,1);for(let G=_.length-1;G>=0;G--){const ut=_[G].inputs;for(let xt=0;xt<m.length;xt++)if(f._.isTyped(m[xt])&&m[xt].type!==ut[xt].baseType){_.splice(G,1);break}}}if(_.length===0)return null;if(_.length>1&&b){const G=_.map(ut=>JSON.stringify(ut.format())).join(", ");(0,d.en)(!1,`ambiguous event description (i.e. matches ${G})`,"key",u)}return _[0]}const k=c(this,Pe).get(rt.QV.from(u).format());return k||null};var R=I(18745),Y=I(43624),ot=I(64686);class X extends Y.Zb{constructor(m,b,k){super(m,m.provider);F(this,"interface");F(this,"fragment");F(this,"args");const _=b.decodeEventLog(k,m.data,m.topics);(0,v.h)(this,{args:_,fragment:k,interface:b})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class lt extends Y.Zb{constructor(m,b){super(m,m.provider);F(this,"error");(0,v.h)(this,{error:b})}}class tt extends Y.IX{constructor(m,b,k){super(k,b);K(this,H,void 0);A(this,H,m)}get logs(){return super.logs.map(m=>{const b=m.topics.length?c(this,H).getEvent(m.topics[0]):null;if(b)try{return new X(m,c(this,H),b)}catch(k){return new lt(m,k)}return m})}}H=new WeakMap;class C extends Y.Mw{constructor(m,b,k){super(k,b);K(this,gt,void 0);A(this,gt,m)}async wait(m){const b=await super.wait(m);return b==null?null:new tt(c(this,gt),this.provider,b)}}gt=new WeakMap;class dt extends ot.Z{constructor(m,b,k,_){super(m,b,k);F(this,"log");(0,v.h)(this,{log:_})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class j extends dt{constructor(u,m,b,k,_){super(u,m,b,new X(_,u.interface,k));const G=u.interface.decodeEventLog(k,this.log.data,this.log.topics);(0,v.h)(this,{args:G,fragment:k})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const W=BigInt(0);function q(B){return B&&typeof B.call=="function"}function et(B){return B&&typeof B.estimateGas=="function"}function ht(B){return B&&typeof B.resolveName=="function"}function Pt(B){return B&&typeof B.sendTransaction=="function"}class Rt{constructor(u,m,b){K(this,Et,void 0);F(this,"fragment");if((0,v.h)(this,{fragment:m}),m.inputs.length<b.length)throw new Error("too many arguments");const k=vt(u.runner,"resolveName"),_=ht(k)?k:null;A(this,Et,async function(){const G=await Promise.all(m.inputs.map((ut,xt)=>b[xt]==null?null:ut.walkAsync(b[xt],(St,Bt)=>St==="address"?Array.isArray(Bt)?Promise.all(Bt.map(kt=>(0,R.ru)(kt,_))):(0,R.ru)(Bt,_):Bt)));return u.interface.encodeFilterTopics(m,G)}())}getTopicFilter(){return c(this,Et)}}Et=new WeakMap;function vt(B,u){return B==null?null:typeof B[u]=="function"?B:B.provider&&typeof B.provider[u]=="function"?B.provider:null}function Ot(B){return B==null?null:B.provider||null}async function Ct(B,u){const m=f._.dereference(B,"overrides");(0,d.en)(typeof m=="object","invalid overrides parameter","overrides",B);const b=(0,Y.kK)(m);return(0,d.en)(b.to==null||(u||[]).indexOf("to")>=0,"cannot override to","overrides.to",b.to),(0,d.en)(b.data==null||(u||[]).indexOf("data")>=0,"cannot override data","overrides.data",b.data),b.from&&(b.from=await(0,R.ru)(b.from)),b}async function it(B,u,m){const b=vt(B,"resolveName"),k=ht(b)?b:null;return await Promise.all(u.map((_,G)=>_.walkAsync(m[G],(ut,xt)=>(xt=f._.dereference(xt,ut),ut==="address"?(0,R.ru)(xt,k):xt))))}function O(B){const u=async function(G){const ut=await Ct(G,["data"]);ut.to=await B.getAddress();const xt=B.interface,bt=(0,y.yT)(ut.value||W,"overrides.value")===W,St=(ut.data||"0x")==="0x";xt.fallback&&!xt.fallback.payable&&xt.receive&&!St&&!bt&&(0,d.en)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",G),(0,d.en)(xt.fallback||St,"cannot send data to receive-only contract","overrides.data",ut.data);const Bt=xt.receive||xt.fallback&&xt.fallback.payable;return(0,d.en)(Bt||bt,"cannot send value to non-payable fallback","overrides.value",ut.value),(0,d.en)(xt.fallback||St,"cannot send data to receive-only contract","overrides.data",ut.data),ut},m=async function(G){const ut=vt(B.runner,"call");(0,d.hu)(q(ut),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const xt=await u(G);try{return await ut.call(xt)}catch(bt){throw(0,d.Hl)(bt)&&bt.data?B.interface.makeError(bt.data,xt):bt}},b=async function(G){const ut=B.runner;(0,d.hu)(Pt(ut),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const xt=await ut.sendTransaction(await u(G)),bt=Ot(B.runner);return new C(B.interface,bt,xt)},k=async function(G){const ut=vt(B.runner,"estimateGas");return(0,d.hu)(et(ut),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await ut.estimateGas(await u(G))},_=async G=>await b(G);return(0,v.h)(_,{_contract:B,estimateGas:k,populateTransaction:u,send:b,staticCall:m}),_}function T(B,u){const m=function(...bt){const St=B.interface.getFunction(u,bt);return(0,d.hu)(St,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:u,args:bt}}),St},b=async function(...bt){const St=m(...bt);let Bt={};if(St.inputs.length+1===bt.length&&(Bt=await Ct(bt.pop())),St.inputs.length!==bt.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const kt=await it(B.runner,St.inputs,bt);return Object.assign({},Bt,await(0,v.m)({to:B.getAddress(),data:B.interface.encodeFunctionData(St,kt)}))},k=async function(...bt){const St=await ut(...bt);return St.length===1?St[0]:St},_=async function(...bt){const St=B.runner;(0,d.hu)(Pt(St),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Bt=await St.sendTransaction(await b(...bt)),kt=Ot(B.runner);return new C(B.interface,kt,Bt)},G=async function(...bt){const St=vt(B.runner,"estimateGas");return(0,d.hu)(et(St),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await St.estimateGas(await b(...bt))},ut=async function(...bt){const St=vt(B.runner,"call");(0,d.hu)(q(St),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Bt=await b(...bt);let kt="0x";try{kt=await St.call(Bt)}catch(ie){throw(0,d.Hl)(ie)&&ie.data?B.interface.makeError(ie.data,Bt):ie}const Ut=m(...bt);return B.interface.decodeFunctionResult(Ut,kt)},xt=async(...bt)=>m(...bt).constant?await k(...bt):await _(...bt);return(0,v.h)(xt,{name:B.interface.getFunctionName(u),_contract:B,_key:u,getFragment:m,estimateGas:G,populateTransaction:b,send:_,staticCall:k,staticCallResult:ut}),Object.defineProperty(xt,"fragment",{configurable:!1,enumerable:!0,get:()=>{const bt=B.interface.getFunction(u);return(0,d.hu)(bt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:u}}),bt}}),xt}function J(B,u){const m=function(...k){const _=B.interface.getEvent(u,k);return(0,d.hu)(_,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:u,args:k}}),_},b=function(...k){return new Rt(B,m(...k),k)};return(0,v.h)(b,{name:B.interface.getEventName(u),_contract:B,_key:u,getFragment:m}),Object.defineProperty(b,"fragment",{configurable:!1,enumerable:!0,get:()=>{const k=B.interface.getEvent(u);return(0,d.hu)(k,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:u}}),k}}),b}const V=Symbol.for("_ethersInternal_contract"),ft=new WeakMap;function ct(B,u){ft.set(B[V],u)}function pt(B){return ft.get(B[V])}function Kt(B){return B&&typeof B=="object"&&"getTopicFilter"in B&&typeof B.getTopicFilter=="function"&&B.fragment}async function Qt(B,u){let m,b=null;if(Array.isArray(u)){const _=function(G){if((0,g.A7)(G,32))return G;const ut=B.interface.getEvent(G);return(0,d.en)(ut,"unknown fragment","name",G),ut.topicHash};m=u.map(G=>G==null?null:Array.isArray(G)?G.map(_):_(G))}else u==="*"?m=[null]:typeof u=="string"?(0,g.A7)(u,32)?m=[u]:(b=B.interface.getEvent(u),(0,d.en)(b,"unknown fragment","event",u),m=[b.topicHash]):Kt(u)?m=await u.getTopicFilter():"fragment"in u?(b=u.fragment,m=[b.topicHash]):(0,d.en)(!1,"unknown event name","event",u);m=m.map(_=>{if(_==null)return null;if(Array.isArray(_)){const G=Array.from(new Set(_.map(ut=>ut.toLowerCase())).values());return G.length===1?G[0]:(G.sort(),G)}return _.toLowerCase()});const k=m.map(_=>_==null?"null":Array.isArray(_)?_.join("|"):_).join("&");return{fragment:b,tag:k,topics:m}}async function Ft(B,u){const{subs:m}=pt(B);return m.get((await Qt(B,u)).tag)||null}async function ne(B,u,m){const b=Ot(B.runner);(0,d.hu)(b,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:u});const{fragment:k,tag:_,topics:G}=await Qt(B,m),{addr:ut,subs:xt}=pt(B);let bt=xt.get(_);if(!bt){const Bt={address:ut||B,topics:G},kt=ge=>{let Ln=k;if(Ln==null)try{Ln=B.interface.getEvent(ge.topics[0])}catch{}if(Ln){const ir=Ln,fi=k?B.interface.decodeEventLog(k,ge.data,ge.topics):[];pe(B,m,fi,di=>new j(B,di,m,ir,ge))}else pe(B,m,[],ir=>new dt(B,ir,m,ge))};let Ut=[];bt={tag:_,listeners:[],start:()=>{Ut.length||Ut.push(b.on(Bt,kt))},stop:async()=>{if(Ut.length==0)return;let ge=Ut;Ut=[],await Promise.all(ge),b.off(Bt,kt)}},xt.set(_,bt)}return bt}let qt=Promise.resolve();async function jt(B,u,m,b){await qt;const k=await Ft(B,u);if(!k)return!1;const _=k.listeners.length;return k.listeners=k.listeners.filter(({listener:G,once:ut})=>{const xt=Array.from(m);b&&xt.push(b(ut?null:G));try{G.call(B,...xt)}catch{}return!ut}),k.listeners.length===0&&(k.stop(),pt(B).subs.delete(k.tag)),_>0}async function pe(B,u,m,b){try{await qt}catch{}const k=jt(B,u,m,b);return qt=k,await k}const re=["then"],Nt=class{constructor(u,m,b,k){F(this,"target");F(this,"interface");F(this,"runner");F(this,"filters");F(this,Dt);F(this,"fallback");(0,d.en)(typeof u=="string"||(0,R.RC)(u),"invalid value for Contract target","target",u),b==null&&(b=null);const _=$.from(m);(0,v.h)(this,{target:u,runner:b,interface:_}),Object.defineProperty(this,V,{value:{}});let G,ut=null,xt=null;if(k){const Bt=Ot(b);xt=new C(this.interface,Bt,k)}let bt=new Map;if(typeof u=="string")if((0,g.A7)(u))ut=u,G=Promise.resolve(u);else{const Bt=vt(b,"resolveName");if(!ht(Bt))throw(0,d.wf)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});G=Bt.resolveName(u).then(kt=>{if(kt==null)throw(0,d.wf)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:u});return pt(this).addr=kt,kt})}else G=u.getAddress().then(Bt=>{if(Bt==null)throw new Error("TODO");return pt(this).addr=Bt,Bt});ct(this,{addrPromise:G,addr:ut,deployTx:xt,subs:bt});const St=new Proxy({},{get:(Bt,kt,Ut)=>{if(typeof kt=="symbol"||re.indexOf(kt)>=0)return Reflect.get(Bt,kt,Ut);try{return this.getEvent(kt)}catch(ie){if(!(0,d.VZ)(ie,"INVALID_ARGUMENT")||ie.argument!=="key")throw ie}},has:(Bt,kt)=>re.indexOf(kt)>=0?Reflect.has(Bt,kt):Reflect.has(Bt,kt)||this.interface.hasEvent(String(kt))});return(0,v.h)(this,{filters:St}),(0,v.h)(this,{fallback:_.receive||_.fallback?O(this):null}),new Proxy(this,{get:(Bt,kt,Ut)=>{if(typeof kt=="symbol"||kt in Bt||re.indexOf(kt)>=0)return Reflect.get(Bt,kt,Ut);try{return Bt.getFunction(kt)}catch(ie){if(!(0,d.VZ)(ie,"INVALID_ARGUMENT")||ie.argument!=="key")throw ie}},has:(Bt,kt)=>typeof kt=="symbol"||kt in Bt||re.indexOf(kt)>=0?Reflect.has(Bt,kt):Bt.interface.hasFunction(kt)})}connect(u){return new Nt(this.target,this.interface,u)}attach(u){return new Nt(u,this.interface,this.runner)}async getAddress(){return await pt(this).addrPromise}async getDeployedCode(){const u=Ot(this.runner);(0,d.hu)(u,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const m=await u.getCode(await this.getAddress());return m==="0x"?null:m}async waitForDeployment(){const u=this.deploymentTransaction();if(u)return await u.wait(),this;if(await this.getDeployedCode()!=null)return this;const b=Ot(this.runner);return(0,d.hu)(b!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((k,_)=>{const G=async()=>{try{if(await this.getDeployedCode()!=null)return k(this);b.once("block",G)}catch(ut){_(ut)}};G()})}deploymentTransaction(){return pt(this).deployTx}getFunction(u){return typeof u!="string"&&(u=u.format()),T(this,u)}getEvent(u){return typeof u!="string"&&(u=u.format()),J(this,u)}async queryTransaction(u){throw new Error("@TODO")}async queryFilter(u,m,b){m==null&&(m=0),b==null&&(b="latest");const{addr:k,addrPromise:_}=pt(this),G=k||await _,{fragment:ut,topics:xt}=await Qt(this,u),bt={address:G,topics:xt,fromBlock:m,toBlock:b},St=Ot(this.runner);return(0,d.hu)(St,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await St.getLogs(bt)).map(Bt=>{let kt=ut;if(kt==null)try{kt=this.interface.getEvent(Bt.topics[0])}catch{}if(kt)try{return new X(Bt,this.interface,kt)}catch(Ut){return new lt(Bt,Ut)}return new Y.Zb(Bt,St)})}async on(u,m){const b=await ne(this,"on",u);return b.listeners.push({listener:m,once:!1}),b.start(),this}async once(u,m){const b=await ne(this,"once",u);return b.listeners.push({listener:m,once:!0}),b.start(),this}async emit(u,...m){return await pe(this,u,m,null)}async listenerCount(u){if(u){const k=await Ft(this,u);return k?k.listeners.length:0}const{subs:m}=pt(this);let b=0;for(const{listeners:k}of m.values())b+=k.length;return b}async listeners(u){if(u){const k=await Ft(this,u);return k?k.listeners.map(({listener:_})=>_):[]}const{subs:m}=pt(this);let b=[];for(const{listeners:k}of m.values())b=b.concat(k.map(({listener:_})=>_));return b}async off(u,m){const b=await Ft(this,u);if(!b)return this;if(m){const k=b.listeners.map(({listener:_})=>_).indexOf(m);k>=0&&b.listeners.splice(k,1)}return(m==null||b.listeners.length===0)&&(b.stop(),pt(this).subs.delete(b.tag)),this}async removeAllListeners(u){if(u){const m=await Ft(this,u);if(!m)return this;m.stop(),pt(this).subs.delete(m.tag)}else{const{subs:m}=pt(this);for(const{tag:b,stop:k}of m.values())k(),m.delete(b)}return this}async addListener(u,m){return await this.on(u,m)}async removeListener(u,m){return await this.off(u,m)}static buildClass(u){class m extends Nt{constructor(k,_=null){super(k,u,_)}}return m}static from(u,m,b){return b==null&&(b=null),new this(u,m,b)}};let ue=Nt;Dt=V;function $t(){return ue}class we extends $t(){}},97505:function(yt,st,I){"use strict";I.d(st,{w:function(){return Ct}});var f=I(90879),z=I(73072),Q=I(14585);const[v,d,g]=[[],[],[]],y=BigInt(0),E=BigInt(1),L=BigInt(2),rt=BigInt(7),l=BigInt(256),nt=BigInt(113);for(let it=0,O=E,T=1,J=0;it<24;it++){[T,J]=[J,(2*T+3*J)%5],v.push(2*(5*J+T)),d.push((it+1)*(it+2)/2%64);let V=y;for(let ft=0;ft<7;ft++)O=(O<<E^(O>>rt)*nt)%l,O&L&&(V^=E<<(E<<BigInt(ft))-E);g.push(V)}const[N,x]=z.ZP.split(g,!0),D=(it,O,T)=>T>32?z.ZP.rotlBH(it,O,T):z.ZP.rotlSH(it,O,T),S=(it,O,T)=>T>32?z.ZP.rotlBL(it,O,T):z.ZP.rotlSL(it,O,T);function $(it,O=24){const T=new Uint32Array(10);for(let J=24-O;J<24;J++){for(let ct=0;ct<10;ct++)T[ct]=it[ct]^it[ct+10]^it[ct+20]^it[ct+30]^it[ct+40];for(let ct=0;ct<10;ct+=2){const pt=(ct+8)%10,Kt=(ct+2)%10,Qt=T[Kt],Ft=T[Kt+1],ne=D(Qt,Ft,1)^T[pt],qt=S(Qt,Ft,1)^T[pt+1];for(let jt=0;jt<50;jt+=10)it[ct+jt]^=ne,it[ct+jt+1]^=qt}let V=it[2],ft=it[3];for(let ct=0;ct<24;ct++){const pt=d[ct],Kt=D(V,ft,pt),Qt=S(V,ft,pt),Ft=v[ct];V=it[Ft],ft=it[Ft+1],it[Ft]=Kt,it[Ft+1]=Qt}for(let ct=0;ct<50;ct+=10){for(let pt=0;pt<10;pt++)T[pt]=it[ct+pt];for(let pt=0;pt<10;pt++)it[ct+pt]^=~T[(pt+2)%10]&T[(pt+4)%10]}it[0]^=N[J],it[1]^=x[J]}T.fill(0)}class R extends Q.kb{constructor(O,T,J,V=!1,ft=24){if(super(),this.blockLen=O,this.suffix=T,this.outputLen=J,this.enableXOF=V,this.rounds=ft,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,f.ZP.number(J),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Q.Jq)(this.state)}keccak(){$(this.state32,this.rounds),this.posOut=0,this.pos=0}update(O){f.ZP.exists(this);const{blockLen:T,state:J}=this;O=(0,Q.O0)(O);const V=O.length;for(let ft=0;ft<V;){const ct=Math.min(T-this.pos,V-ft);for(let pt=0;pt<ct;pt++)J[this.pos++]^=O[ft++];this.pos===T&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:O,suffix:T,pos:J,blockLen:V}=this;O[J]^=T,T&128&&J===V-1&&this.keccak(),O[V-1]^=128,this.keccak()}writeInto(O){f.ZP.exists(this,!1),f.ZP.bytes(O),this.finish();const T=this.state,{blockLen:J}=this;for(let V=0,ft=O.length;V<ft;){this.posOut>=J&&this.keccak();const ct=Math.min(J-this.posOut,ft-V);O.set(T.subarray(this.posOut,this.posOut+ct),V),this.posOut+=ct,V+=ct}return O}xofInto(O){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(O)}xof(O){return f.ZP.number(O),this.xofInto(new Uint8Array(O))}digestInto(O){if(f.ZP.output(O,this),this.finished)throw new Error("digest() was already called");return this.writeInto(O),this.destroy(),O}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(O){const{blockLen:T,suffix:J,outputLen:V,rounds:ft,enableXOF:ct}=this;return O||(O=new R(T,J,V,ct,ft)),O.state32.set(this.state32),O.pos=this.pos,O.posOut=this.posOut,O.finished=this.finished,O.rounds=ft,O.suffix=J,O.outputLen=V,O.enableXOF=ct,O.destroyed=this.destroyed,O}}const Y=(it,O,T)=>(0,Q.hE)(()=>new R(O,it,T)),ot=Y(6,144,224/8),X=Y(6,136,256/8),lt=Y(6,104,384/8),tt=Y(6,72,512/8),C=Y(1,144,224/8),dt=Y(1,136,256/8),j=Y(1,104,384/8),W=Y(1,72,512/8),q=(it,O,T)=>(0,Q.K$)((J={})=>new R(O,it,J.dkLen===void 0?T:J.dkLen,!0)),et=q(31,168,128/8),ht=q(31,136,256/8);var Pt=I(49191);let Rt=!1;const vt=function(it){return dt(it)};let Ot=vt;function Ct(it){const O=(0,Pt.Pw)(it,"data");return(0,Pt.Dv)(Ot(O))}Ct._=vt,Ct.lock=function(){Rt=!0},Ct.register=function(it){if(Rt)throw new TypeError("keccak256 is locked");Ot=it},Object.freeze(Ct)},7690:function(yt,st,I){"use strict";I.d(st,{id:function(){return Q}});var f=I(97505),z=I(99058);function Q(v){return(0,f.w)((0,z.Y0)(v))}},13653:function(yt,st,I){var ps,$e,yr,ti,za,mr,wr,Ar,_n,tn,en,br,Er,xr,Pr,Cr,vr,Ir,Br,Nr,Or,Tr,Gn,Pn,Sr,kr,Qe,nn,Rr,Dr,ae,Be,rn,Qn,Kn,Vn,je,sn,zn,Ts,gs,ys,ms,Ke,Lr,Jn,Cn,jn,vn,$r,ni,Ja,Zn,As,bs,Ur,Fr,In,on,ke,Bn,Ze,_r,ui,Wn,Yn,Nn,Es,Hr,an,Gr,Qr,On,Re,ri,ja,ye,Tn,me,Kr,Ne,Xn,Sn,cn,xs,De,Vr,zr,Ee,Ue,Ps,Yi,Cs,Xi,qn,Ss,vs,qi,$n,ks,Jr,li,jr,hi,xe,We,tr,kn,er,Zr,Is,$i,Bs,to,nr,rr,Wr,un,Ye,Ve,ln,Ns,eo,Rn,Yr,Xr;"use strict";I.d(st,{Q:function(){return Zu}});var f=I(85191),z=I(7117),Q=I(93494),v=I(18745),d=I(97505),g=I(49191),y=I(59021),E=I(38649),L=I(7690);const rt=new Uint8Array(32);rt.fill(0);const l=BigInt(-1),nt=BigInt(0),N=BigInt(1),x=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function D(r){const t=(0,g.Pw)(r),e=t.length%32;return e?(0,g.zo)([t,rt.slice(e)]):(0,g.Dv)(t)}const S=(0,y.m9)(N,32),$=(0,y.m9)(nt,32),R={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Y=["name","version","chainId","verifyingContract","salt"];function ot(r){return function(t){return(0,f.en)(typeof t=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const X={name:ot("name"),version:ot("version"),chainId:function(r){const t=(0,y.yT)(r,"domain.chainId");return(0,f.en)(t>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(t)?Number(t):(0,y.B4)(t)},verifyingContract:function(r){try{return(0,Q.K)(r).toLowerCase()}catch{}(0,f.en)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const t=(0,g.Pw)(r,"domain.salt");return(0,f.en)(t.length===32,'invalid domain value "salt"',"domain.salt",r),(0,g.Dv)(t)}};function lt(r){{const t=r.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");(0,f.en)(n%8===0&&n!==0&&n<=256&&(t[2]==null||t[2]===String(n)),"invalid numeric width","type",r);const s=(0,y.sS)(x,e?n-1:n),i=e?(s+N)*l:nt;return function(o){const a=(0,y.yT)(o,"value");return(0,f.en)(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),(0,y.m9)(e?(0,y.$j)(a,256):a,32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return(0,f.en)(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",r),function(n){const s=(0,g.Pw)(n);return(0,f.en)(s.length===e,`invalid length for ${r}`,"value",n),D(n)}}}switch(r){case"address":return function(t){return(0,g.U3)((0,Q.K)(t),32)};case"bool":return function(t){return t?S:$};case"bytes":return function(t){return(0,d.w)(t)};case"string":return function(t){return(0,L.id)(t)}}return null}function tt(r,t){return`${r}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}const Se=class{constructor(t){K(this,ti);F(this,"primaryType");K(this,ps,void 0);K(this,$e,void 0);K(this,yr,void 0);A(this,ps,JSON.stringify(t)),A(this,$e,new Map),A(this,yr,new Map);const e=new Map,n=new Map,s=new Map;Object.keys(t).forEach(a=>{e.set(a,new Set),n.set(a,[]),s.set(a,new Set)});for(const a in t){const h=new Set;for(const P of t[a]){(0,f.en)(!h.has(P.name),`duplicate variable name ${JSON.stringify(P.name)} in ${JSON.stringify(a)}`,"types",t),h.add(P.name);const U=P.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;(0,f.en)(U!==a,`circular type reference to ${JSON.stringify(U)}`,"types",t),!lt(U)&&((0,f.en)(n.has(U),`unknown type ${JSON.stringify(U)}`,"types",t),n.get(U).push(a),e.get(a).add(U))}}const i=Array.from(n.keys()).filter(a=>n.get(a).length===0);(0,f.en)(i.length!==0,"missing primary type","types",t),(0,f.en)(i.length===1,`ambiguous primary types or unused types: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),(0,E.h)(this,{primaryType:i[0]});function o(a,h){(0,f.en)(!h.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),h.add(a);for(const P of e.get(a))if(n.has(P)){o(P,h);for(const U of h)s.get(U).add(P)}h.delete(a)}o(this.primaryType,new Set);for(const[a,h]of s){const P=Array.from(h);P.sort(),c(this,$e).set(a,tt(a,t[a])+P.map(U=>tt(U,t[U])).join(""))}}get types(){return JSON.parse(c(this,ps))}getEncoder(t){let e=c(this,yr).get(t);return e||(e=wt(this,ti,za).call(this,t),c(this,yr).set(t,e)),e}encodeType(t){const e=c(this,$e).get(t);return(0,f.en)(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return(0,d.w)(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(lt(t))return n(t,e);const s=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return(0,f.en)(!s[3]||parseInt(s[3])===e.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",e),e.map(o=>this._visit(s[1],o,n));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:h})=>(o[a]=this._visit(h,e[a],n),o),{});(0,f.en)(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Se(t)}static getPrimaryType(t){return Se.from(t).primaryType}static hashStruct(t,e,n){return Se.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const s=R[n];(0,f.en)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:s})}return e.sort((n,s)=>Y.indexOf(n.name)-Y.indexOf(s.name)),Se.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return(0,g.zo)(["0x1901",Se.hashDomain(t),Se.from(e).hash(n)])}static hash(t,e,n){return(0,d.w)(Se.encode(t,e,n))}static async resolveNames(t,e,n,s){t=Object.assign({},t);for(const a in t)t[a]==null&&delete t[a];const i={};t.verifyingContract&&!(0,g.A7)(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Se.from(e);o.visit(n,(a,h)=>(a==="address"&&!(0,g.A7)(h,20)&&(i[h]="0x"),h));for(const a in i)i[a]=await s(a);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),n=o.visit(n,(a,h)=>a==="address"&&i[h]?i[h]:h),{domain:t,value:n}}static getPayload(t,e,n){Se.hashDomain(t);const s={},i=[];Y.forEach(h=>{const P=t[h];P!=null&&(s[h]=X[h](P),i.push({name:h,type:R[h]}))});const o=Se.from(e),a=Object.assign({},e);return(0,f.en)(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(h,P)=>{if(h.match(/^bytes(\d*)/))return(0,g.Dv)((0,g.Pw)(P));if(h.match(/^u?int/))return(0,y.yT)(P).toString();switch(h){case"address":return P.toLowerCase();case"bool":return!!P;case"string":return(0,f.en)(typeof P=="string","invalid string","value",P),P}(0,f.en)(!1,"unsupported type","type",h)})}}};let C=Se;ps=new WeakMap,$e=new WeakMap,yr=new WeakMap,ti=new WeakSet,za=function(t){{const s=lt(t);if(s)return s}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const s=e[1],i=this.getEncoder(s);return o=>{(0,f.en)(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(i);return c(this,$e).has(s)&&(a=a.map(d.w)),(0,d.w)((0,g.zo)(a))}}const n=this.types[t];if(n){const s=(0,L.id)(c(this,$e).get(t));return i=>{const o=n.map(({name:a,type:h})=>{const P=this.getEncoder(h)(i[a]);return c(this,$e).has(h)?(0,d.w)(P):P});return o.unshift(s),(0,g.zo)(o)}}(0,f.en)(!1,`unknown type: ${t}`,"type",t)};function dt(r,t,e,n){return recoverAddress(C.hash(r,t,e),n)}var j=I(39072),W=I(99058);const q="0x0000000000000000000000000000000000000000";var et=I(38577);function ht(r){let t=0;function e(){return r[t++]<<8|r[t++]}let n=e(),s=1,i=[0,1];for(let Wt=1;Wt<n;Wt++)i.push(s+=e());let o=e(),a=t;t+=o;let h=0,P=0;function U(){return h==0&&(P=P<<8|r[t++],h=8),P>>--h&1}const M=31,Z=2**M,at=Z>>>1,At=at>>1,It=Z-1;let _t=0;for(let Wt=0;Wt<M;Wt++)_t=_t<<1|U();let Yt=[],ee=0,Gt=Z;for(;;){let Wt=Math.floor(((_t-ee+1)*s-1)/Gt),Le=0,sr=n;for(;sr-Le>1;){let Dn=Le+sr>>>1;Wt<i[Dn]?sr=Dn:Le=Dn}if(Le==0)break;Yt.push(Le);let ce=ee+Math.floor(Gt*i[Le]/s),de=ee+Math.floor(Gt*i[Le+1]/s)-1;for(;!((ce^de)&at);)_t=_t<<1&It|U(),ce=ce<<1&It,de=de<<1&It|1;for(;ce&~de&At;)_t=_t&at|_t<<1&It>>>1|U(),ce=ce<<1^at,de=(de^at)<<1|at|1;ee=ce,Gt=1+de-ce}let fe=n-4;return Yt.map(Wt=>{switch(Wt-fe){case 3:return fe+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return fe+256+(r[a++]<<8|r[a++]);case 1:return fe+r[a++];default:return Wt-1}})}function Pt(r){let t=0;return()=>r[t++]}function Rt(r){return Pt(ht(vt(r)))}function vt(r){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>t[s.charCodeAt(0)]=i);let e=r.length,n=new Uint8Array(6*e>>3);for(let s=0,i=0,o=0,a=0;s<e;s++)a=a<<6|t[r.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function Ot(r){return r&1?~r>>1:r>>1}function Ct(r,t){let e=Array(r);for(let n=0,s=0;n<r;n++)e[n]=s+=Ot(t());return e}function it(r,t=0){let e=[];for(;;){let n=r(),s=r();if(!s)break;t+=n;for(let i=0;i<s;i++)e.push(t+i);t+=s+1}return e}function O(r){return J(()=>{let t=it(r);if(t.length)return t})}function T(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(ft(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(ct(e,r))}return t.flat()}function J(r){let t=[];for(;;){let e=r(t.length);if(!e)break;t.push(e)}return t}function V(r,t,e){let n=Array(r).fill().map(()=>[]);for(let s=0;s<t;s++)Ct(r,e).forEach((i,o)=>n[o].push(i));return n}function ft(r,t){let e=1+t(),n=t(),s=J(t);return V(s.length,1+r,t).flatMap((o,a)=>{let[h,...P]=o;return Array(s[a]).fill().map((U,M)=>{let Z=M*n;return[h+M*e,P.map(at=>at+Z)]})})}function ct(r,t){let e=1+t();return V(e,1+r,t).map(s=>[s[0],s.slice(1)])}var pt=Rt("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");const Kt=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Qt=4;function Ft(r){return r.toString(16).toUpperCase().padStart(2,"0")}function ne(r){return`{${Ft(r)}}`}function qt(r){let t=[];for(let e=0,n=r.length;e<n;){let s=r.codePointAt(e);e+=s<65536?1:2,t.push(s)}return t}function jt(r){let e=r.length;if(e<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<e;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function pe(r,t){let e=r.length,n=e-t.length;for(let s=0;n==0&&s<e;s++)n=r[s]-t[s];return n}var re=Rt("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");function ue(r){return r>>24&255}function $t(r){return r&16777215}const we=new Map(O(re).flatMap((r,t)=>r.map(e=>[e,t+1<<24]))),oe=new Set(it(re)),Pe=new Map,se=new Map;for(let[r,t]of T(re)){if(!oe.has(r)&&t.length==2){let[e,n]=t,s=se.get(e);s||(s=new Map,se.set(e,s)),s.set(n,r)}Pe.set(r,t.reverse())}const zt=44032,Fe=4352,le=4449,Tt=4519,w=19,p=21,H=28,gt=p*H,Et=w*gt,Dt=zt+Et,Nt=Fe+w,B=le+p,u=Tt+H;function m(r){return r>=zt&&r<Dt}function b(r,t){if(r>=Fe&&r<Nt&&t>=le&&t<B)return zt+(r-Fe)*gt+(t-le)*H;if(m(r)&&t>Tt&&t<u&&(r-zt)%H==0)return r+(t-Tt);{let e=se.get(r);return e&&(e=e.get(t),e)?e:-1}}function k(r){let t=[],e=[],n=!1;function s(i){let o=we.get(i);o&&(n=!0,i|=o),t.push(i)}for(let i of r)for(;;){if(i<128)t.push(i);else if(m(i)){let o=i-zt,a=o/gt|0,h=o%gt/H|0,P=o%H;s(Fe+a),s(le+h),P>0&&s(Tt+P)}else{let o=Pe.get(i);o?e.push(...o):s(i)}if(!e.length)break;i=e.pop()}if(n&&t.length>1){let i=ue(t[0]);for(let o=1;o<t.length;o++){let a=ue(t[o]);if(a==0||i<=a){i=a;continue}let h=o-1;for(;;){let P=t[h+1];if(t[h+1]=t[h],t[h]=P,!h||(i=ue(t[--h]),i<=a))break}i=ue(t[o])}}return t}function _(r){let t=[],e=[],n=-1,s=0;for(let i of r){let o=ue(i),a=$t(i);if(n==-1)o==0?n=a:t.push(a);else if(s>0&&s>=o)o==0?(t.push(n,...e),e.length=0,n=a):e.push(a),s=o;else{let h=b(n,a);h>=0?n=h:s==0&&o==0?(t.push(n),n=a):(e.push(a),s=o)}}return n>=0&&t.push(n,...e),t}function G(r){return k(r).map($t)}function ut(r){return _(k(r))}const xt=46,bt=65039,St=".",Bt=1,kt=45;function Ut(){return new Set(it(pt))}const ie=new Map(T(pt)),Me=Ut(),ge=Ut(),Ln=new Set(it(pt).map(function(r){return this[r]},[...ge])),ir=Ut(),fi=Ut(),di=O(pt);function no(){return new Set([it(pt).map(r=>di[r]),it(pt)].flat(2))}const Za=pt(),ts=J(r=>{let t=J(pt).map(e=>e+96);if(t.length){let e=r>=Za;t[0]-=32,t=jt(t),e&&(t=`Restricted[${t}]`);let n=no(),s=no(),i=[...n,...s].sort((a,h)=>a-h),o=!pt();return{N:t,P:n,M:o,R:e,V:new Set(i)}}}),ro=Ut(),es=new Map;[...ro,...Ut()].sort((r,t)=>r-t).map((r,t,e)=>{let n=pt(),s=e[t]=n?e[t-n]:{V:[],M:new Map};s.V.push(r),ro.has(r)||es.set(r,s)});for(let{V:r,M:t}of new Set(es.values())){let e=[];for(let s of r){let i=ts.filter(a=>a.V.has(s)),o=e.find(({G:a})=>i.some(h=>a.has(h)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(s),i.forEach(a=>o.G.add(a))}let n=e.flatMap(({G:s})=>[...s]);for(let{G:s,V:i}of e){let o=new Set(n.filter(a=>!s.has(a)));for(let a of i)t.set(a,o)}}let ns=new Set,so=new Set;for(let r of ts)for(let t of r.V)(ns.has(t)?so:ns).add(t);for(let r of ns)!es.has(r)&&!so.has(r)&&es.set(r,Bt);const io=new Set([...ns,...G(ns)]),Wa=it(pt),oo=ao([]);function ao(r){let t=J(()=>{let a=it(pt).map(h=>Wa[h]);if(a.length)return ao(a)}).sort((a,h)=>h.Q.size-a.Q.size),e=pt(),n=e%3;e=e/3|0;let s=e&1;e>>=1;let i=e&1,o=e&2;return{B:t,V:n,F:s,S:i,C:o,Q:new Set(r)}}class Ya extends Array{get is_emoji(){return!0}}function Rs(r,t=ne){let e=[];$a(r[0])&&e.push("\u25CC");let n=0,s=r.length;for(let i=0;i<s;i++){let o=r[i];uo(o)&&(e.push(jt(r.slice(n,i))),e.push(t(o)),n=i+1)}return e.push(jt(r.slice(n,s))),e.join("")}function pi(r){return(uo(r)?"":`${gi(Rs([r]))} `)+ne(r)}function gi(r){return`"${r}"\u200E`}function Xa(r){if(r.length>=4&&r[2]==kt&&r[3]==kt)throw new Error("invalid label extension")}function co(r){for(let e=r.lastIndexOf(95);e>0;)if(r[--e]!==95)throw new Error("underscore allowed only at start")}function qa(r){let t=r[0],e=Kt.get(t);if(e)throw rs(`leading ${e}`);let n=r.length,s=-1;for(let i=1;i<n;i++){t=r[i];let o=Kt.get(t);if(o){if(s==i)throw rs(`${e} + ${o}`);s=i+1,e=o}}if(s==n)throw rs(`trailing ${e}`)}function $a(r){return ge.has(r)}function uo(r){return ir.has(r)}function qu(r,t){let e=t?G:ut;return r.split(St).map(n=>jt(go(qt(n),e).flatMap(s=>s.is_emoji?yi(s):s))).join(St)}function tc(r){return ho(lo(r))}function $u(r){let t=lo(r,!0);for(let{type:e,output:n,error:s}of t)if(!s&&e!=="Greek"){let i=0;for(;;){let o=n.indexOf(958,i);if(o<0)break;n[o]=926,i=o+1}}return ho(t)}function lo(r,t){let e=0;return r.split(St).map(n=>{let s=qt(n),i={input:s,offset:e};e+=s.length+1;let o;try{let a=i.tokens=go(s,ut),h=a.length,P;if(h){let U=a[0],M=h>1||U.is_emoji;if(!M&&U.every(Z=>Z<128))o=U,co(o),Xa(o),P="ASCII";else if(M&&(i.emoji=!0,U=a.flatMap(Z=>Z.is_emoji?[]:Z)),o=a.flatMap(Z=>!t&&Z.is_emoji?yi(Z):Z),co(o),!U.length)P="Emoji";else{if(ge.has(o[0]))throw rs("leading combining mark");for(let At=1;At<h;At++){let It=a[At];if(!It.is_emoji&&ge.has(It[0]))throw rs(`emoji + combining mark: "${jt(a[At-1])} + ${Rs([It[0]])}"`)}qa(o);let Z=[...new Set(U)],[at]=nc(Z);rc(at,U),ec(at,Z),P=at.N}}else throw new Error("empty label");i.type=P}catch(a){i.error=a}return i.output=o,i})}function ec(r,t){let e,n=[];for(let s of t){let i=es.get(s);if(i===Bt)return;if(i){let o=i.M.get(s);if(e=e?e.filter(a=>o.has(a)):[...o],!e.length)return}else n.push(s)}if(e){for(let s of e)if(n.every(i=>s.V.has(i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function nc(r){let t=ts;for(let e of r){let n=t.filter(s=>s.V.has(e));if(!n.length)throw t===ts?fo(e):po(t[0],e);if(t=n,n.length==1)break}return t}function ho(r){return r.map(({input:t,error:e,output:n})=>{if(e){let s=e.message;throw new Error(r.length==1?s:`Invalid label ${gi(Rs(t))}: ${s}`)}return jt(n)}).join(St)}function fo(r){return new Error(`disallowed character: ${pi(r)}`)}function po(r,t){let e=pi(t),n=ts.find(s=>s.P.has(t));return n&&(e=`${n.N} ${e}`),new Error(`illegal mixture: ${r.N} + ${e}`)}function rs(r){return new Error(`illegal placement: ${r}`)}function rc(r,t){let{V:e,M:n}=r;for(let s of t)if(!e.has(s))throw po(r,s);if(n){let s=G(t);for(let i=1,o=s.length;i<o;i++)if(Ln.has(s[i])){let a=i+1;for(let h;a<o&&Ln.has(h=s[a]);a++)for(let P=i;P<a;P++)if(s[P]==h)throw new Error(`non-spacing marks: repeated ${pi(h)}`);if(a-i>Qt)throw new Error(`non-spacing marks: too many ${gi(Rs(s.slice(i-1,a)))} (${a-i}/${Qt})`);i=a}}}function go(r,t){let e=[],n=[];for(r=r.slice().reverse();r.length;){let s=yo(r);if(s)n.length&&(e.push(t(n)),n=[]),e.push(s);else{let i=r.pop();if(io.has(i))n.push(i);else{let o=ie.get(i);if(o)n.push(...o);else if(!Me.has(i))throw fo(i)}}}return n.length&&e.push(t(n)),e}function yi(r){return r.filter(t=>t!=bt)}function yo(r,t){let e=oo,n,s,i=[],o=r.length;for(t&&(t.length=0);o;){let a=r[--o];if(e=e.B.find(h=>h.Q.has(a)),!e)break;if(e.S)s=a;else if(e.C&&a===s)break;i.push(a),e.F&&(i.push(bt),o>0&&r[o-1]==bt&&o--),e.V&&(n=mo(i,e),t&&t.push(...r.slice(o).reverse()),r.length=o)}return n}function mo(r,t){let e=Ya.from(r);return t.V==2&&e.splice(1,1),e}function tl(){let r=[];return t(oo,[]),r.sort(pe);function t(e,n,s){if(e.S)s=n[n.length-1];else if(e.C&&s===n[n.length-1])return;e.F&&n.push(bt),e.V&&r.push(mo(n,e));for(let i of e.B)for(let o of i.Q)t(i,[...n,o],s)}}const ss="valid",wo="mapped",mi="ignored",sc="disallowed",ic="emoji",oc="nfc",ac="stop";function cc(r,{nf:t=!0}={}){let e=qt(r).reverse(),n=[],s=[];for(;e.length;){let i=yo(e,n);if(i)s.push({type:ic,emoji:i,input:n.slice(),cps:yi(i)});else{let o=e.pop();if(o==xt)s.push({type:ac,cp:o});else if(io.has(o))s.push({type:ss,cps:[o]});else if(Me.has(o))s.push({type:mi,cp:o});else{let a=ie.get(o);a?s.push({type:wo,cp:o,cps:a.slice()}):s.push({type:sc,cp:o})}}}if(t)for(let i=0,o=-1;i<s.length;i++){let a=s[i];if(wi(a.type))if(Ao(a.cps)){let h=i+1;for(let Z=h;Z<s.length;Z++){let{type:at,cps:At}=s[Z];if(wi(at)){if(!Ao(At))break;h=Z+1}else if(at!==mi)break}o<0&&(o=i);let P=s.slice(o,h),U=P.flatMap(Z=>wi(Z.type)?Z.cps:[]),M=ut(U);pe(M,U)?(s.splice(o,h-o,{type:oc,input:U,cps:M,tokens0:bo(P),tokens:cc(jt(M),{nf:!1})}),i=o):i=h-1,o=-1}else o=i;else a.type!==mi&&(o=-1)}return bo(s)}function wi(r){return r==ss||r==wo}function Ao(r){return r.some(t=>fi.has(t))}function bo(r){for(let t=0;t<r.length;t++)if(r[t].type==ss){let e=t+1;for(;e<r.length&&r[e].type==ss;)e++;r.splice(t,e-t,{type:ss,cps:r.slice(t,e).flatMap(n=>n.cps)})}return r}const Eo=new Uint8Array(32);Eo.fill(0);function xo(r){return(0,f.en)(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Ai(r){const t=(0,W.Y0)(uc(r)),e=[];if(r.length===0)return e;let n=0;for(let s=0;s<t.length;s++)t[s]===46&&(e.push(xo(t.slice(n,s))),n=s+1);return(0,f.en)(n<t.length,"invalid ENS name; empty component","name",r),e.push(xo(t.slice(n))),e}function uc(r){try{return tc(r)}catch(t){(0,f.en)(!1,`invalid ENS name (${t.message})`,"name",r)}}function el(r){try{return Ai(r).length!==0}catch{}return!1}function bi(r){(0,f.en)(typeof r=="string","invalid ENS name; not a string","name",r);let t=Eo;const e=Ai(r);for(;e.length;)t=(0,d.w)((0,g.zo)([t,(0,d.w)(e.pop())]));return(0,g.Dv)(t)}function lc(r){return(0,g.Dv)((0,g.zo)(Ai(r).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}const Po="0x0000000000000000000000000000000000000000000000000000000000000000",Co=BigInt(0),vo=BigInt(1),Io=BigInt(2),Bo=BigInt(27),No=BigInt(28),Ds=BigInt(35),or={};function Oo(r){return(0,g.U3)((0,y.ot)(r),32)}const Ge=class{constructor(t,e,n,s){K(this,mr,void 0);K(this,wr,void 0);K(this,Ar,void 0);K(this,_n,void 0);(0,f.NK)(t,or,"Signature"),A(this,mr,e),A(this,wr,n),A(this,Ar,s),A(this,_n,null)}get r(){return c(this,mr)}set r(t){(0,f.en)((0,g.M5)(t)===32,"invalid r","value",t),A(this,mr,(0,g.Dv)(t))}get s(){return c(this,wr)}set s(t){(0,f.en)((0,g.M5)(t)===32,"invalid s","value",t);const e=(0,g.Dv)(t);(0,f.en)(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),A(this,wr,e)}get v(){return c(this,Ar)}set v(t){const e=(0,y.Dx)(t,"value");(0,f.en)(e===27||e===28,"invalid v","v",t),A(this,Ar,e)}get networkV(){return c(this,_n)}get legacyChainId(){const t=this.networkV;return t==null?null:Ge.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=(0,g.Pw)(this.s);return this.yParity&&(t[0]|=128),(0,g.Dv)(t)}get compactSerialized(){return(0,g.zo)([this.r,this.yParityAndS])}get serialized(){return(0,g.zo)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Ge(or,this.r,this.s,this.v);return this.networkV&&A(t,_n,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=(0,y.yT)(t,"v");return e==Bo||e==No?Co:((0,f.en)(e>=Ds,"invalid EIP-155 v","v",t),(e-Ds)/Io)}static getChainIdV(t,e){return(0,y.yT)(t)*Io+BigInt(35+e-27)}static getNormalizedV(t){const e=(0,y.yT)(t);return e===Co||e===Bo?27:e===vo||e===No?28:((0,f.en)(e>=Ds,"invalid v","v",t),e&vo?27:28)}static from(t){function e(P,U){(0,f.en)(P,U,"signature",t)}if(t==null)return new Ge(or,Po,Po,27);if(typeof t=="string"){const P=(0,g.Pw)(t,"signature");if(P.length===64){const U=(0,g.Dv)(P.slice(0,32)),M=P.slice(32,64),Z=M[0]&128?28:27;return M[0]&=127,new Ge(or,U,(0,g.Dv)(M),Z)}if(P.length===65){const U=(0,g.Dv)(P.slice(0,32)),M=P.slice(32,64);e((M[0]&128)===0,"non-canonical s");const Z=Ge.getNormalizedV(P[64]);return new Ge(or,U,(0,g.Dv)(M),Z)}e(!1,"invalid raw signature length")}if(t instanceof Ge)return t.clone();const n=t.r;e(n!=null,"missing r");const s=Oo(n),i=function(P,U){if(P!=null)return Oo(P);if(U!=null){e((0,g.A7)(U,32),"invalid yParityAndS");const M=(0,g.Pw)(U);return M[0]&=127,(0,g.Dv)(M)}e(!1,"missing s")}(t.s,t.yParityAndS);e(((0,g.Pw)(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(P,U,M){if(P!=null){const Z=(0,y.yT)(P);return{networkV:Z>=Ds?Z:void 0,v:Ge.getNormalizedV(Z)}}if(U!=null)return e((0,g.A7)(U,32),"invalid yParityAndS"),{v:(0,g.Pw)(U)[0]&128?28:27};if(M!=null){switch((0,y.Dx)(M,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),h=new Ge(or,s,i,a);return o&&A(h,_n,o),e(t.yParity==null||(0,y.Dx)(t.yParity,"sig.yParity")===h.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===h.yParityAndS,"yParityAndS mismatch"),h}};let _e=Ge;mr=new WeakMap,wr=new WeakMap,Ar=new WeakMap,_n=new WeakMap;var hc=I(44087),fc=I.t(hc,2);const Mt=BigInt(0),Zt=BigInt(1),hn=BigInt(2),is=BigInt(3),To=BigInt(8),Jt=Object.freeze({a:Mt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Zt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),So=(r,t)=>(r+t/hn)/t,Ls={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=Jt,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Zt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=So(i*r,t),h=So(-n*r,t);let P=mt(r-a*e-h*s,t),U=mt(-a*n-h*i,t);const M=P>o,Z=U>o;if(M&&(P=t-P),Z&&(U=t-U),P>o||U>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:M,k1:P,k2neg:Z,k2:U}}},He=32,Un=32,ko=32,Us=He+1,Fs=2*He+1;function Ro(r){const{a:t,b:e}=Jt,n=mt(r*r),s=mt(n*r);return mt(s+t*r+e)}const Ms=Jt.a===Mt;class Ei extends Error{constructor(t){super(t)}}function Do(r){if(!(r instanceof Vt))throw new TypeError("JacobianPoint expected")}class Vt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof Ht))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Ht.ZERO)?Vt.ZERO:new Vt(t.x,t.y,Zt)}static toAffineBatch(t){const e=mc(t.map(n=>n.z));return t.map((n,s)=>n.toAffine(e[s]))}static normalizeZ(t){return Vt.toAffineBatch(t).map(Vt.fromAffine)}equals(t){Do(t);const{x:e,y:n,z:s}=this,{x:i,y:o,z:a}=t,h=mt(s*s),P=mt(a*a),U=mt(e*P),M=mt(i*h),Z=mt(mt(n*a)*P),at=mt(mt(o*s)*h);return U===M&&Z===at}negate(){return new Vt(this.x,mt(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,s=mt(t*t),i=mt(e*e),o=mt(i*i),a=t+i,h=mt(hn*(mt(a*a)-s-o)),P=mt(is*s),U=mt(P*P),M=mt(U-hn*h),Z=mt(P*(h-M)-To*o),at=mt(hn*e*n);return new Vt(M,Z,at)}add(t){Do(t);const{x:e,y:n,z:s}=this,{x:i,y:o,z:a}=t;if(i===Mt||o===Mt)return this;if(e===Mt||n===Mt)return t;const h=mt(s*s),P=mt(a*a),U=mt(e*P),M=mt(i*h),Z=mt(mt(n*a)*P),at=mt(mt(o*s)*h),At=mt(M-U),It=mt(at-Z);if(At===Mt)return It===Mt?this.double():Vt.ZERO;const _t=mt(At*At),Yt=mt(At*_t),ee=mt(U*_t),Gt=mt(It*It-Yt-hn*ee),fe=mt(It*(ee-Gt)-Z*Yt),Wt=mt(s*a*At);return new Vt(Gt,fe,Wt)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=Vt.ZERO;if(typeof t=="bigint"&&t===Mt)return e;let n=Fo(t);if(n===Zt)return this;if(!Ms){let M=e,Z=this;for(;n>Mt;)n&Zt&&(M=M.add(Z)),Z=Z.double(),n>>=Zt;return M}let{k1neg:s,k1:i,k2neg:o,k2:a}=Ls.splitScalar(n),h=e,P=e,U=this;for(;i>Mt||a>Mt;)i&Zt&&(h=h.add(U)),a&Zt&&(P=P.add(U)),U=U.double(),i>>=Zt,a>>=Zt;return s&&(h=h.negate()),o&&(P=P.negate()),P=new Vt(mt(P.x*Ls.beta),P.y,P.z),h.add(P)}precomputeWindow(t){const e=Ms?128/t+1:256/t+1,n=[];let s=this,i=s;for(let o=0;o<e;o++){i=s,n.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(s),n.push(i);s=i.double()}return n}wNAF(t,e){!e&&this.equals(Vt.BASE)&&(e=Ht.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=e&&xi.get(e);s||(s=this.precomputeWindow(n),e&&n!==1&&(s=Vt.normalizeZ(s),xi.set(e,s)));let i=Vt.ZERO,o=Vt.BASE;const a=1+(Ms?128/n:256/n),h=2**(n-1),P=BigInt(2**n-1),U=2**n,M=BigInt(n);for(let Z=0;Z<a;Z++){const at=Z*h;let At=Number(t&P);t>>=M,At>h&&(At-=U,t+=Zt);const It=at,_t=at+Math.abs(At)-1,Yt=Z%2!==0,ee=At<0;At===0?o=o.add(_s(Yt,s[It])):i=i.add(_s(ee,s[_t]))}return{p:i,f:o}}multiply(t,e){let n=Fo(t),s,i;if(Ms){const{k1neg:o,k1:a,k2neg:h,k2:P}=Ls.splitScalar(n);let{p:U,f:M}=this.wNAF(a,e),{p:Z,f:at}=this.wNAF(P,e);U=_s(o,U),Z=_s(h,Z),Z=new Vt(mt(Z.x*Ls.beta),Z.y,Z.z),s=U.add(Z),i=M.add(at)}else{const{p:o,f:a}=this.wNAF(n,e);s=o,i=a}return Vt.normalizeZ([s,i])[0]}toAffine(t){const{x:e,y:n,z:s}=this,i=this.equals(Vt.ZERO);t==null&&(t=i?To:ur(s));const o=t,a=mt(o*o),h=mt(a*o),P=mt(e*a),U=mt(n*h),M=mt(s*o);if(i)return Ht.ZERO;if(M!==Zt)throw new Error("invZ was invalid");return new Ht(P,U)}}Vt.BASE=new Vt(Jt.Gx,Jt.Gy,Zt),Vt.ZERO=new Vt(Mt,Zt,Mt);function _s(r,t){const e=t.negate();return r?e:t}const xi=new WeakMap;class Ht{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,xi.delete(this)}hasEvenY(){return this.y%hn===Mt}static fromCompressedHex(t){const e=t.length===32,n=Ce(e?t:t.subarray(1));if(!Gs(n))throw new Error("Point is not on curve");const s=Ro(n);let i=yc(s);const o=(i&Zt)===Zt;e?o&&(i=mt(-i)):(t[0]&1)===1!==o&&(i=mt(-i));const a=new Ht(n,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Ce(t.subarray(1,He+1)),n=Ce(t.subarray(He+1,He*2+1)),s=new Ht(e,n);return s.assertValidity(),s}static fromHex(t){const e=Je(t),n=e.length,s=e[0];if(n===He)return this.fromCompressedHex(e);if(n===Us&&(s===2||s===3))return this.fromCompressedHex(e);if(n===Fs&&s===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Us} compressed bytes or ${Fs} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return Ht.BASE.multiply(Fn(t))}static fromSignature(t,e,n){const{r:s,s:i}=Ho(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=Pi(Je(t)),{n:a}=Jt,h=n===2||n===3?s+a:s,P=ur(h,a),U=mt(-o*P,a),M=mt(i*P,a),Z=n&1?"03":"02",at=Ht.fromHex(Z+dn(h)),At=Ht.BASE.multiplyAndAddUnsafe(at,U,M);if(!At)throw new Error("Cannot recover signature: point at infinify");return At.assertValidity(),At}toRawBytes(t=!1){return pn(this.toHex(t))}toHex(t=!1){const e=dn(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${dn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!Gs(e)||!Gs(n))throw new Error(t);const s=mt(n*n),i=Ro(e);if(mt(s-i)!==Mt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Ht(this.x,mt(-this.y))}double(){return Vt.fromAffine(this).double().toAffine()}add(t){return Vt.fromAffine(this).add(Vt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Vt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const s=Vt.fromAffine(this),i=e===Mt||e===Zt||this!==Ht.BASE?s.multiplyUnsafe(e):s.multiply(e),o=Vt.fromAffine(t).multiplyUnsafe(n),a=i.add(o);return a.equals(Vt.ZERO)?void 0:a.toAffine()}}Ht.BASE=new Ht(Jt.Gx,Jt.Gy),Ht.ZERO=new Ht(Mt,Mt);function Lo(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function Uo(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${ar(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ce(e),left:r.subarray(t+2)}}function dc(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${ar(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=Uo(r.subarray(2)),{data:n,left:s}=Uo(e);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${ar(s)}`);return{r:t,s:n}}class ze{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const s=e?ar(t):t;if(s.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ze(Hs(s.slice(0,64)),Hs(s.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s}=dc(e?t:pn(t));return new ze(n,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!hr(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!hr(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=Jt.n>>Zt;return this.s>t}normalizeS(){return this.hasHighS()?new ze(this.r,mt(-this.s,Jt.n)):this}toDERRawBytes(){return pn(this.toDERHex())}toDERHex(){const t=Lo(os(this.s)),e=Lo(os(this.r)),n=t.length/2,s=e.length/2,i=os(n),o=os(s);return`30${os(s+n+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return pn(this.toCompactHex())}toCompactHex(){return dn(this.r)+dn(this.s)}}function fn(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,s)=>n+s.length,0),e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}const pc=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ar(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=pc[r[e]];return t}const gc=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function dn(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Mt<=r&&r<gc))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function cr(r){const t=pn(dn(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function os(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Hs(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function pn(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,s=r.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Ce(r){return Hs(ar(r))}function Je(r){return r instanceof Uint8Array?Uint8Array.from(r):pn(r)}function Fo(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&hr(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mt(r,t=Jt.P){const e=r%t;return e>=Mt?e:t+e}function Oe(r,t){const{P:e}=Jt;let n=r;for(;t-- >Mt;)n*=n,n%=e;return n}function yc(r){const{P:t}=Jt,e=BigInt(6),n=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),h=r*r*r%t,P=h*h*r%t,U=Oe(P,is)*P%t,M=Oe(U,is)*P%t,Z=Oe(M,hn)*h%t,at=Oe(Z,n)*Z%t,At=Oe(at,s)*at%t,It=Oe(At,o)*At%t,_t=Oe(It,a)*It%t,Yt=Oe(_t,o)*At%t,ee=Oe(Yt,is)*P%t,Gt=Oe(ee,i)*at%t,fe=Oe(Gt,e)*h%t,Wt=Oe(fe,hn);if(Wt*Wt%t!==r)throw new Error("Cannot find square root");return Wt}function ur(r,t=Jt.P){if(r===Mt||t<=Mt)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=mt(r,t),n=t,s=Mt,i=Zt,o=Zt,a=Mt;for(;e!==Mt;){const P=n/e,U=n%e,M=s-o*P,Z=i-a*P;n=e,e=U,s=o,i=a,o=M,a=Z}if(n!==Zt)throw new Error("invert: does not exist");return mt(s,t)}function mc(r,t=Jt.P){const e=new Array(r.length),n=r.reduce((i,o,a)=>o===Mt?i:(e[a]=i,mt(i*o,t)),Zt),s=ur(n,t);return r.reduceRight((i,o,a)=>o===Mt?i:(e[a]=mt(i*e[a],t),mt(i*o,t)),s),e}function wc(r){const t=r.length*8-Un*8,e=Ce(r);return t>0?e>>BigInt(t):e}function Pi(r,t=!1){const e=wc(r);if(t)return e;const{n}=Jt;return e>=n?e-n:e}let lr,as;class Mo{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Ie.hmacSha256(this.k,...t)}hmacSync(...t){return as(this.k,...t)}checkSync(){if(typeof as!="function")throw new Ei("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return fn(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return fn(...e)}}function hr(r){return Mt<r&&r<Jt.n}function Gs(r){return Mt<r&&r<Jt.P}function _o(r,t,e,n=!0){const{n:s}=Jt,i=Pi(r,!0);if(!hr(i))return;const o=ur(i,s),a=Ht.BASE.multiply(i),h=mt(a.x,s);if(h===Mt)return;const P=mt(o*mt(t+e*h,s),s);if(P===Mt)return;let U=new ze(h,P),M=(a.x===U.r?0:2)|Number(a.y&Zt);return n&&U.hasHighS()&&(U=U.normalizeS(),M^=1),{sig:U,recovery:M}}function Fn(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Un)throw new Error("Expected 32 bytes of private key");t=Hs(r)}else if(r instanceof Uint8Array){if(r.length!==Un)throw new Error("Expected 32 bytes of private key");t=Ce(r)}else throw new TypeError("Expected valid private key");if(!hr(t))throw new Error("Expected private key: 0 < key < n");return t}function Ci(r){return r instanceof Ht?(r.assertValidity(),r):Ht.fromHex(r)}function Ho(r){if(r instanceof ze)return r.assertValidity(),r;try{return ze.fromDER(r)}catch{return ze.fromCompact(r)}}function Ac(r,t=!1){return Ht.fromPrivateKey(r).toRawBytes(t)}function bc(r,t,e,n=!1){return Ht.fromSignature(r,t,e).toRawBytes(n)}function Go(r){const t=r instanceof Uint8Array,e=typeof r=="string",n=(t||e)&&r.length;return t?n===Us||n===Fs:e?n===Us*2||n===Fs*2:r instanceof Ht}function Ec(r,t,e=!1){if(Go(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!Go(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=Ci(t);return n.assertValidity(),n.multiply(Fn(r)).toRawBytes(e)}function Qo(r){const t=r.length>He?r.slice(0,He):r;return Ce(t)}function xc(r){const t=Qo(r),e=mt(t,Jt.n);return Ko(e<Mt?t:e)}function Ko(r){return cr(r)}function Vo(r,t,e){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);const n=Je(r),s=Fn(t),i=[Ko(s),xc(n)];if(e!=null){e===!0&&(e=Ie.randomBytes(He));const h=Je(e);if(h.length!==He)throw new Error(`sign: Expected ${He} bytes of extra data`);i.push(h)}const o=fn(...i),a=Qo(n);return{seed:o,m:a,d:s}}function zo(r,t){const{sig:e,recovery:n}=r,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=s?e.toDERRawBytes():e.toCompactRawBytes();return i?[o,n]:o}async function nl(r,t,e={}){const{seed:n,m:s,d:i}=Vo(r,t,e.extraEntropy),o=new Mo(ko,Un);await o.reseed(n);let a;for(;!(a=_o(await o.generate(),s,i,e.canonical));)await o.reseed();return zo(a,e)}function Pc(r,t,e={}){const{seed:n,m:s,d:i}=Vo(r,t,e.extraEntropy),o=new Mo(ko,Un);o.reseedSync(n);let a;for(;!(a=_o(o.generateSync(),s,i,e.canonical));)o.reseedSync();return zo(a,e)}const Cc={strict:!0};function rl(r,t,e,n=Cc){let s;try{s=Ho(r),t=Je(t)}catch{return!1}const{r:i,s:o}=s;if(n.strict&&s.hasHighS())return!1;const a=Pi(t);let h;try{h=Ci(e)}catch{return!1}const{n:P}=Jt,U=ur(o,P),M=mt(a*U,P),Z=mt(i*U,P),at=Ht.BASE.multiplyAndAddUnsafe(h,M,Z);return at?mt(at.x,P)===i:!1}function Qs(r){return mt(Ce(r),Jt.n)}class fr{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=Je(t);if(e.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const n=Ce(e.subarray(0,32)),s=Ce(e.subarray(32,64));return new fr(n,s)}assertValidity(){const{r:t,s:e}=this;if(!Gs(t)||!hr(e))throw new Error("Invalid signature")}toHex(){return dn(this.r)+dn(this.s)}toRawBytes(){return pn(this.toHex())}}function vc(r){return Ht.fromPrivateKey(r).toRawX()}class Jo{constructor(t,e,n=Ie.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=Je(t);const{x:s,scalar:i}=this.getScalar(Fn(e));if(this.px=s,this.d=i,this.rand=Je(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=Ht.fromPrivateKey(t),n=e.hasEvenY()?t:Jt.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return cr(t^Ce(e))}finalizeNonce(t){const e=mt(Ce(t),Jt.n);if(e===Mt)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:s,scalar:i}=this.getScalar(e);return{R:n,rx:s,k:i}}finalizeSig(t,e,n,s){return new fr(t.x,mt(e+n*s,Jt.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:e,px:n,rand:s}=this,i=Ie.taggedHash,o=this.initNonce(e,await i(gn.aux,s)),{R:a,rx:h,k:P}=this.finalizeNonce(await i(gn.nonce,o,n,t)),U=Qs(await i(gn.challenge,h,n,t)),M=this.finalizeSig(a,P,U,e);return await Wo(M,t,n)||this.error(),M}calcSync(){const{m:t,d:e,px:n,rand:s}=this,i=Ie.taggedHashSync,o=this.initNonce(e,i(gn.aux,s)),{R:a,rx:h,k:P}=this.finalizeNonce(i(gn.nonce,o,n,t)),U=Qs(i(gn.challenge,h,n,t)),M=this.finalizeSig(a,P,U,e);return Yo(M,t,n)||this.error(),M}}async function Ic(r,t,e){return new Jo(r,t,e).calc()}function Bc(r,t,e){return new Jo(r,t,e).calcSync()}function jo(r,t,e){const n=r instanceof fr,s=n?r:fr.fromHex(r);return n&&s.assertValidity(),{...s,m:Je(t),P:Ci(e)}}function Zo(r,t,e,n){const s=Ht.BASE.multiplyAndAddUnsafe(t,Fn(e),mt(-n,Jt.n));return!(!s||!s.hasEvenY()||s.x!==r)}async function Wo(r,t,e){try{const{r:n,s,m:i,P:o}=jo(r,t,e),a=Qs(await Ie.taggedHash(gn.challenge,cr(n),o.toRawX(),i));return Zo(n,o,s,a)}catch{return!1}}function Yo(r,t,e){try{const{r:n,s,m:i,P:o}=jo(r,t,e),a=Qs(Ie.taggedHashSync(gn.challenge,cr(n),o.toRawX(),i));return Zo(n,o,s,a)}catch(n){if(n instanceof Ei)throw n;return!1}}const sl={Signature:fr,getPublicKey:vc,sign:Ic,verify:Wo,signSync:Bc,verifySync:Yo};Ht.BASE._setWindowSize(8);const ve={node:fc,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},gn={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Ks={},Ie={bytesToHex:ar,hexToBytes:pn,concatBytes:fn,mod:mt,invert:ur,isValidPrivateKey(r){try{return Fn(r),!0}catch{return!1}},_bigintTo32Bytes:cr,_normalizePrivateKey:Fn,hashToPrivateKey:r=>{r=Je(r);const t=Un+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=mt(Ce(r),Jt.n-Zt)+Zt;return cr(e)},randomBytes:(r=32)=>{if(ve.web)return ve.web.getRandomValues(new Uint8Array(r));if(ve.node){const{randomBytes:t}=ve.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ie.hashToPrivateKey(Ie.randomBytes(Un+8)),precompute(r=8,t=Ht.BASE){const e=t===Ht.BASE?t:new Ht(t.x,t.y);return e._setWindowSize(r),e.multiply(is),e},sha256:async(...r)=>{if(ve.web){const t=await ve.web.subtle.digest("SHA-256",fn(...r));return new Uint8Array(t)}else if(ve.node){const{createHash:t}=ve.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(ve.web){const e=await ve.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=fn(...t),s=await ve.web.subtle.sign("HMAC",e,n);return new Uint8Array(s)}else if(ve.node){const{createHmac:e}=ve.node,n=e("sha256",r);return t.forEach(s=>n.update(s)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=Ks[r];if(e===void 0){const n=await Ie.sha256(Uint8Array.from(r,s=>s.charCodeAt(0)));e=fn(n,n),Ks[r]=e}return Ie.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof lr!="function")throw new Ei("sha256Sync is undefined, you need to set it");let e=Ks[r];if(e===void 0){const n=lr(Uint8Array.from(r,s=>s.charCodeAt(0)));e=fn(n,n),Ks[r]=e}return lr(e,...t)},_JacobianPoint:Vt};Object.defineProperties(Ie,{sha256Sync:{configurable:!1,get(){return lr},set(r){lr||(lr=r)}},hmacSha256Sync:{configurable:!1,get(){return as},set(r){as||(as=r)}}});var Mn=I(90879),te=I(14585);class Xo extends te.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Mn.ZP.hash(t);const n=(0,te.O0)(e);if(this.iHash=t.create(),!(this.iHash instanceof te.kb))throw new TypeError("Expected instance of class which extends utils.Hash");const s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(s);i.set(n.length>this.iHash.blockLen?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Mn.ZP.exists(this),this.iHash.update(t),this}digestInto(t){Mn.ZP.exists(this),Mn.ZP.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qo=(r,t,e)=>new Xo(r,t).update(e).digest();qo.create=(r,t)=>new Xo(r,t);function $o(r,t,e,n){assert.hash(r);const s=checkOpts({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if(assert.number(i),assert.number(o),assert.number(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=toBytes(t),P=toBytes(e),U=new Uint8Array(o),M=hmac.create(r,h),Z=M._cloneInto().update(P);return{c:i,dkLen:o,asyncTick:a,DK:U,PRF:M,PRFSalt:Z}}function ta(r,t,e,n,s){return r.destroy(),t.destroy(),n&&n.destroy(),s.fill(0),e}function il(r,t,e,n){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:h}=$o(r,t,e,n);let P;const U=new Uint8Array(4),M=createView(U),Z=new Uint8Array(a.outputLen);for(let at=1,At=0;At<i;at++,At+=a.outputLen){const It=o.subarray(At,At+a.outputLen);M.setInt32(0,at,!1),(P=h._cloneInto(P)).update(U).digestInto(Z),It.set(Z.subarray(0,It.length));for(let _t=1;_t<s;_t++){a._cloneInto(P).update(Z).digestInto(Z);for(let Yt=0;Yt<It.length;Yt++)It[Yt]^=Z[Yt]}}return ta(a,h,o,P,Z)}async function ol(r,t,e,n){const{c:s,dkLen:i,asyncTick:o,DK:a,PRF:h,PRFSalt:P}=$o(r,t,e,n);let U;const M=new Uint8Array(4),Z=createView(M),at=new Uint8Array(h.outputLen);for(let At=1,It=0;It<i;At++,It+=h.outputLen){const _t=a.subarray(It,It+h.outputLen);Z.setInt32(0,At,!1),(U=P._cloneInto(U)).update(M).digestInto(at),_t.set(at.subarray(0,_t.length)),await asyncLoop(s-1,o,Yt=>{h._cloneInto(U).update(at).digestInto(at);for(let ee=0;ee<_t.length;ee++)_t[ee]^=at[ee]})}return ta(h,P,a,U,at)}function Nc(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),h=n?4:0,P=n?0:4;r.setUint32(t+h,o,n),r.setUint32(t+P,a,n)}class ea extends te.kb{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,te.GL)(this.buffer)}update(t){Mn.ZP.exists(this);const{view:e,buffer:n,blockLen:s}=this;t=(0,te.O0)(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const h=(0,te.GL)(t);for(;s<=i-o;o+=s)this.process(h,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mn.ZP.exists(this),Mn.ZP.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let h=o;h<s;h++)e[h]=0;Nc(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=(0,te.GL)(t);this.get().forEach((h,P)=>a.setUint32(4*P,h,i))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(n),t}}const Oc=(r,t,e)=>r&t^~r&e,Tc=(r,t,e)=>r&t^r&e^t&e,Sc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mn=new Uint32Array(64);class kc extends ea{constructor(){super(64,32,8,!1),this.A=yn[0]|0,this.B=yn[1]|0,this.C=yn[2]|0,this.D=yn[3]|0,this.E=yn[4]|0,this.F=yn[5]|0,this.G=yn[6]|0,this.H=yn[7]|0}get(){const{A:t,B:e,C:n,D:s,E:i,F:o,G:a,H:h}=this;return[t,e,n,s,i,o,a,h]}set(t,e,n,s,i,o,a,h){this.A=t|0,this.B=e|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=h|0}process(t,e){for(let M=0;M<16;M++,e+=4)mn[M]=t.getUint32(e,!1);for(let M=16;M<64;M++){const Z=mn[M-15],at=mn[M-2],At=(0,te.np)(Z,7)^(0,te.np)(Z,18)^Z>>>3,It=(0,te.np)(at,17)^(0,te.np)(at,19)^at>>>10;mn[M]=It+mn[M-7]+At+mn[M-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:h,G:P,H:U}=this;for(let M=0;M<64;M++){const Z=(0,te.np)(a,6)^(0,te.np)(a,11)^(0,te.np)(a,25),at=U+Z+Oc(a,h,P)+Sc[M]+mn[M]|0,It=((0,te.np)(n,2)^(0,te.np)(n,13)^(0,te.np)(n,22))+Tc(n,s,i)|0;U=P,P=h,h=a,a=o+at|0,o=i,i=s,s=n,n=at+It|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,h=h+this.F|0,P=P+this.G|0,U=U+this.H|0,this.set(n,s,i,o,a,h,P,U)}roundClean(){mn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Rc=(0,te.hE)(()=>new kc);var Lt=I(73072);const[Dc,Lc]=Lt.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),wn=new Uint32Array(80),An=new Uint32Array(80);class vi extends ea{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:h,Eh:P,El:U,Fh:M,Fl:Z,Gh:at,Gl:At,Hh:It,Hl:_t}=this;return[t,e,n,s,i,o,a,h,P,U,M,Z,at,At,It,_t]}set(t,e,n,s,i,o,a,h,P,U,M,Z,at,At,It,_t){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=h|0,this.Eh=P|0,this.El=U|0,this.Fh=M|0,this.Fl=Z|0,this.Gh=at|0,this.Gl=At|0,this.Hh=It|0,this.Hl=_t|0}process(t,e){for(let Gt=0;Gt<16;Gt++,e+=4)wn[Gt]=t.getUint32(e),An[Gt]=t.getUint32(e+=4);for(let Gt=16;Gt<80;Gt++){const fe=wn[Gt-15]|0,Wt=An[Gt-15]|0,Le=Lt.ZP.rotrSH(fe,Wt,1)^Lt.ZP.rotrSH(fe,Wt,8)^Lt.ZP.shrSH(fe,Wt,7),sr=Lt.ZP.rotrSL(fe,Wt,1)^Lt.ZP.rotrSL(fe,Wt,8)^Lt.ZP.shrSL(fe,Wt,7),ce=wn[Gt-2]|0,de=An[Gt-2]|0,Dn=Lt.ZP.rotrSH(ce,de,19)^Lt.ZP.rotrBH(ce,de,61)^Lt.ZP.shrSH(ce,de,6),Ji=Lt.ZP.rotrSL(ce,de,19)^Lt.ZP.rotrBL(ce,de,61)^Lt.ZP.shrSL(ce,de,6),si=Lt.ZP.add4L(sr,Ji,An[Gt-7],An[Gt-16]),ji=Lt.ZP.add4H(si,Le,Dn,wn[Gt-7],wn[Gt-16]);wn[Gt]=ji|0,An[Gt]=si|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:h,Dh:P,Dl:U,Eh:M,El:Z,Fh:at,Fl:At,Gh:It,Gl:_t,Hh:Yt,Hl:ee}=this;for(let Gt=0;Gt<80;Gt++){const fe=Lt.ZP.rotrSH(M,Z,14)^Lt.ZP.rotrSH(M,Z,18)^Lt.ZP.rotrBH(M,Z,41),Wt=Lt.ZP.rotrSL(M,Z,14)^Lt.ZP.rotrSL(M,Z,18)^Lt.ZP.rotrBL(M,Z,41),Le=M&at^~M&It,sr=Z&At^~Z&_t,ce=Lt.ZP.add5L(ee,Wt,sr,Lc[Gt],An[Gt]),de=Lt.ZP.add5H(ce,Yt,fe,Le,Dc[Gt],wn[Gt]),Dn=ce|0,Ji=Lt.ZP.rotrSH(n,s,28)^Lt.ZP.rotrBH(n,s,34)^Lt.ZP.rotrBH(n,s,39),si=Lt.ZP.rotrSL(n,s,28)^Lt.ZP.rotrBL(n,s,34)^Lt.ZP.rotrBL(n,s,39),ji=n&i^n&a^i&a,Wu=s&o^s&h^o&h;Yt=It|0,ee=_t|0,It=at|0,_t=At|0,at=M|0,At=Z|0,{h:M,l:Z}=Lt.ZP.add(P|0,U|0,de|0,Dn|0),P=a|0,U=h|0,a=i|0,h=o|0,i=n|0,o=s|0;const Ka=Lt.ZP.add3L(Dn,si,Wu);n=Lt.ZP.add3H(Ka,de,Ji,ji),s=Ka|0}({h:n,l:s}=Lt.ZP.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Lt.ZP.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:h}=Lt.ZP.add(this.Ch|0,this.Cl|0,a|0,h|0),{h:P,l:U}=Lt.ZP.add(this.Dh|0,this.Dl|0,P|0,U|0),{h:M,l:Z}=Lt.ZP.add(this.Eh|0,this.El|0,M|0,Z|0),{h:at,l:At}=Lt.ZP.add(this.Fh|0,this.Fl|0,at|0,At|0),{h:It,l:_t}=Lt.ZP.add(this.Gh|0,this.Gl|0,It|0,_t|0),{h:Yt,l:ee}=Lt.ZP.add(this.Hh|0,this.Hl|0,Yt|0,ee|0),this.set(n,s,i,o,a,h,P,U,M,Z,at,At,It,_t,Yt,ee)}roundClean(){wn.fill(0),An.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Uc extends vi{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Fc extends vi{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Mc=(0,te.hE)(()=>new vi),al=(0,te.hE)(()=>new Uc),cl=(0,te.hE)(()=>new Fc);function _c(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const na=_c(),ra=na.crypto||na.msCrypto;function ul(r){switch(r){case"sha256":return sha256.create();case"sha512":return sha512.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",r)}function Hc(r,t){const e={sha256:Rc,sha512:Mc}[r];return(0,f.en)(e!=null,"invalid hmac algorithm","algorithm",r),qo.create(e,t)}function ll(r,t,e,n,s){const i={sha256,sha512}[s];return assertArgument(i!=null,"invalid pbkdf2 algorithm","algorithm",s),pbkdf2(i,r,t,{c:e,dkLen:n})}function hl(r){assert(ra!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),assertArgument(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const t=new Uint8Array(r);return ra.getRandomValues(t),t}let sa=!1;const ia=function(r,t,e){return Hc(r,t).update(e).digest()};let oa=ia;function cs(r,t,e){const n=(0,g.Pw)(t,"key"),s=(0,g.Pw)(e,"data");return(0,g.Dv)(oa(r,n,s))}cs._=ia,cs.lock=function(){sa=!0},cs.register=function(r){if(sa)throw new Error("computeHmac is locked");oa=r},Object.freeze(cs),Ie.hmacSha256Sync=function(r,...t){return(0,g.Pw)(cs("sha256",r,(0,g.zo)(t)))};const Hn=class{constructor(t){K(this,tn,void 0);(0,f.en)((0,g.M5)(t)===32,"invalid private key","privateKey","[REDACTED]"),A(this,tn,(0,g.Dv)(t))}get privateKey(){return c(this,tn)}get publicKey(){return Hn.computePublicKey(c(this,tn))}get compressedPublicKey(){return Hn.computePublicKey(c(this,tn),!0)}sign(t){(0,f.en)((0,g.M5)(t)===32,"invalid digest length","digest",t);const[e,n]=Pc((0,g.h_)(t),(0,g.h_)(c(this,tn)),{recovered:!0,canonical:!0}),s=ze.fromHex(e);return _e.from({r:(0,y.m9)("0x"+s.r.toString(16),32),s:(0,y.m9)("0x"+s.s.toString(16),32),v:n?28:27})}computeSharedSecret(t){const e=Hn.computePublicKey(t);return(0,g.Dv)(Ec((0,g.h_)(c(this,tn)),(0,g.Pw)(e)))}static computePublicKey(t,e){let n=(0,g.Pw)(t,"key");if(n.length===32){const i=Ac(n,!!e);return(0,g.Dv)(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Ht.fromHex(n);return(0,g.Dv)(s.toRawBytes(e))}static recoverPublicKey(t,e){(0,f.en)((0,g.M5)(t)===32,"invalid digest length","digest",t);const n=_e.from(e),s=ze.fromCompact((0,g.h_)((0,g.zo)([n.r,n.s]))).toDERRawBytes(),i=bc((0,g.h_)(t),s,n.yParity);return(0,f.en)(i!=null,"invalid signature for digest","signature",e),(0,g.Dv)(i)}static addPoints(t,e,n){const s=Ht.fromHex(Hn.computePublicKey(t).substring(2)),i=Ht.fromHex(Hn.computePublicKey(e).substring(2));return"0x"+s.add(i).toHex(!!n)}};let us=Hn;tn=new WeakMap;function Gc(r){let t=r.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function aa(r,t,e){let n=0;for(let s=0;s<e;s++)n=n*256+r[t+s];return n}function ca(r,t,e,n){const s=[];for(;e<t+1+n;){const i=ua(r,e);s.push(i.result),e+=i.consumed,(0,f.hu)(e<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:t})}return{consumed:1+n,result:s}}function ua(r,t){(0,f.hu)(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const e=n=>{(0,f.hu)(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[t]>=248){const n=r[t]-247;e(t+1+n);const s=aa(r,t+1,n);return e(t+1+n+s),ca(r,t,t+1+n,n+s)}else if(r[t]>=192){const n=r[t]-192;return e(t+1+n),ca(r,t,t+1,n)}else if(r[t]>=184){const n=r[t]-183;e(t+1+n);const s=aa(r,t+1,n);e(t+1+n+s);const i=(0,g.Dv)(r.slice(t+1+n,t+1+n+s));return{consumed:1+n+s,result:i}}else if(r[t]>=128){const n=r[t]-128;e(t+1+n);const s=(0,g.Dv)(r.slice(t+1,t+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:Gc(r[t])}}function Ii(r){const t=(0,g.Pw)(r,"data"),e=ua(t,0);return(0,f.en)(e.consumed===t.length,"unexpected junk after rlp payload","data",r),e.result}function la(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function ha(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(ha(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=la(n.length);return s.unshift(247+s.length),s.concat(n)}const t=Array.prototype.slice.call((0,g.Pw)(r,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=la(t.length);return e.unshift(183+e.length),e.concat(t)}const fa="0123456789abcdef";function ls(r){let t="0x";for(const e of ha(r))t+=fa[e>>4],t+=fa[e&15];return t}function Qc(r){let t;return typeof r=="string"?t=us.computePublicKey(r,!1):t=r.publicKey,(0,Q.K)((0,d.w)("0x"+t.substring(4)).substring(26))}function Kc(r,t){return Qc(us.recoverPublicKey(r,t))}const be=BigInt(0),Vc=BigInt(2),zc=BigInt(27),Jc=BigInt(28),jc=BigInt(35),Zc=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bi(r){return r==="0x"?null:(0,Q.K)(r)}function da(r,t){try{return(0,j.z)(r)}catch(e){(0,f.en)(!1,e.message,t,r)}}function Vs(r,t){return r==="0x"?0:(0,y.Dx)(r,t)}function Ae(r,t){if(r==="0x")return be;const e=(0,y.yT)(r,t);return(0,f.en)(e<=Zc,"value exceeds uint size",t,e),e}function he(r,t){const e=(0,y.yT)(r,"value"),n=(0,y.ot)(e);return(0,f.en)(n.length<=32,"value too large",`tx.${t}`,e),n}function pa(r){return(0,j.z)(r).map(t=>[t.address,t.storageKeys])}function Wc(r){const t=Ii(r);(0,f.en)(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",r);const e={type:0,nonce:Vs(t[0],"nonce"),gasPrice:Ae(t[1],"gasPrice"),gasLimit:Ae(t[2],"gasLimit"),to:Bi(t[3]),value:Ae(t[4],"value"),data:(0,g.Dv)(t[5]),chainId:be};if(t.length===6)return e;const n=Ae(t[6],"v"),s=Ae(t[7],"r"),i=Ae(t[8],"s");if(s===be&&i===be)e.chainId=n;else{let o=(n-jc)/Vc;o<be&&(o=be),e.chainId=o,(0,f.en)(o!==be||n===zc||n===Jc,"non-canonical legacy v","v",t[6]),e.signature=_e.from({r:(0,g.U3)(t[7],32),s:(0,g.U3)(t[8],32),v:n}),e.hash=(0,d.w)(r)}return e}function ga(r,t){const e=[he(r.nonce||0,"nonce"),he(r.gasPrice||0,"gasPrice"),he(r.gasLimit||0,"gasLimit"),r.to!=null?(0,Q.K)(r.to):"0x",he(r.value||0,"value"),r.data||"0x"];let n=be;if(r.chainId!=be)n=(0,y.yT)(r.chainId,"tx.chainId"),(0,f.en)(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(r.signature){const i=r.signature.legacyChainId;i!=null&&(n=i)}if(!t)return n!==be&&(e.push((0,y.ot)(n)),e.push("0x"),e.push("0x")),ls(e);let s=BigInt(27+t.yParity);return n!==be?s=_e.getChainIdV(n,t.v):BigInt(t.v)!==s&&(0,f.en)(!1,"tx.chainId/sig.v mismatch","sig",t),e.push((0,y.ot)(s)),e.push((0,y.ot)(t.r)),e.push((0,y.ot)(t.s)),ls(e)}function ya(r,t){let e;try{if(e=Vs(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{(0,f.en)(!1,"invalid yParity","yParity",t[0])}const n=(0,g.U3)(t[1],32),s=(0,g.U3)(t[2],32),i=_e.from({r:n,s,yParity:e});r.signature=i}function Yc(r){const t=Ii((0,g.Pw)(r).slice(1));(0,f.en)(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",(0,g.Dv)(r));const e=Ae(t[2],"maxPriorityFeePerGas"),n=Ae(t[3],"maxFeePerGas"),s={type:2,chainId:Ae(t[0],"chainId"),nonce:Vs(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:Ae(t[4],"gasLimit"),to:Bi(t[5]),value:Ae(t[6],"value"),data:(0,g.Dv)(t[7]),accessList:da(t[8],"accessList")};return t.length===9||(s.hash=(0,d.w)(r),ya(s,t.slice(9))),s}function ma(r,t){const e=[he(r.chainId||0,"chainId"),he(r.nonce||0,"nonce"),he(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),he(r.maxFeePerGas||0,"maxFeePerGas"),he(r.gasLimit||0,"gasLimit"),r.to!=null?(0,Q.K)(r.to):"0x",he(r.value||0,"value"),r.data||"0x",pa(r.accessList||[])];return t&&(e.push(he(t.yParity,"yParity")),e.push((0,y.ot)(t.r)),e.push((0,y.ot)(t.s))),(0,g.zo)(["0x02",ls(e)])}function Xc(r){const t=Ii((0,g.Pw)(r).slice(1));(0,f.en)(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",(0,g.Dv)(r));const e={type:1,chainId:Ae(t[0],"chainId"),nonce:Vs(t[1],"nonce"),gasPrice:Ae(t[2],"gasPrice"),gasLimit:Ae(t[3],"gasLimit"),to:Bi(t[4]),value:Ae(t[5],"value"),data:(0,g.Dv)(t[6]),accessList:da(t[7],"accessList")};return t.length===8||(e.hash=(0,d.w)(r),ya(e,t.slice(8))),e}function wa(r,t){const e=[he(r.chainId||0,"chainId"),he(r.nonce||0,"nonce"),he(r.gasPrice||0,"gasPrice"),he(r.gasLimit||0,"gasLimit"),r.to!=null?(0,Q.K)(r.to):"0x",he(r.value||0,"value"),r.data||"0x",pa(r.accessList||[])];return t&&(e.push(he(t.yParity,"recoveryParam")),e.push((0,y.ot)(t.r)),e.push((0,y.ot)(t.s))),(0,g.zo)(["0x01",ls(e)])}const xn=class{constructor(){K(this,en,void 0);K(this,br,void 0);K(this,Er,void 0);K(this,xr,void 0);K(this,Pr,void 0);K(this,Cr,void 0);K(this,vr,void 0);K(this,Ir,void 0);K(this,Br,void 0);K(this,Nr,void 0);K(this,Or,void 0);K(this,Tr,void 0);A(this,en,null),A(this,br,null),A(this,xr,0),A(this,Pr,BigInt(0)),A(this,Cr,null),A(this,vr,null),A(this,Ir,null),A(this,Er,"0x"),A(this,Br,BigInt(0)),A(this,Nr,BigInt(0)),A(this,Or,null),A(this,Tr,null)}get type(){return c(this,en)}set type(t){switch(t){case null:A(this,en,null);break;case 0:case"legacy":A(this,en,0);break;case 1:case"berlin":case"eip-2930":A(this,en,1);break;case 2:case"london":case"eip-1559":A(this,en,2);break;default:(0,f.en)(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return c(this,br)}set to(t){A(this,br,t==null?null:(0,Q.K)(t))}get nonce(){return c(this,xr)}set nonce(t){A(this,xr,(0,y.Dx)(t,"value"))}get gasLimit(){return c(this,Pr)}set gasLimit(t){A(this,Pr,(0,y.yT)(t))}get gasPrice(){const t=c(this,Cr);return t==null&&(this.type===0||this.type===1)?be:t}set gasPrice(t){A(this,Cr,t==null?null:(0,y.yT)(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=c(this,vr);return t??(this.type===2?be:null)}set maxPriorityFeePerGas(t){A(this,vr,t==null?null:(0,y.yT)(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=c(this,Ir);return t??(this.type===2?be:null)}set maxFeePerGas(t){A(this,Ir,t==null?null:(0,y.yT)(t,"maxFeePerGas"))}get data(){return c(this,Er)}set data(t){A(this,Er,(0,g.Dv)(t))}get value(){return c(this,Br)}set value(t){A(this,Br,(0,y.yT)(t,"value"))}get chainId(){return c(this,Nr)}set chainId(t){A(this,Nr,(0,y.yT)(t))}get signature(){return c(this,Or)||null}set signature(t){A(this,Or,t==null?null:_e.from(t))}get accessList(){const t=c(this,Tr)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){A(this,Tr,t==null?null:(0,j.z)(t))}get hash(){return this.signature==null?null:(0,d.w)(this.serialized)}get unsignedHash(){return(0,d.w)(this.unsignedSerialized)}get from(){return this.signature==null?null:Kc(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:us.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch((0,f.hu)(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return ga(this,this.signature);case 1:return wa(this,this.signature);case 2:return ma(this,this.signature)}(0,f.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return ga(this);case 1:return wa(this);case 2:return ma(this)}(0,f.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,f.hu)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,f.hu)(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,f.hu)(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):e?s.push(2):t?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return xn.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new xn;if(typeof t=="string"){const n=(0,g.Pw)(t);if(n[0]>=127)return xn.from(Wc(n));switch(n[0]){case 1:return xn.from(Xc(n));case 2:return xn.from(Yc(n))}(0,f.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new xn;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=_e.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.hash!=null&&((0,f.en)(e.isSigned(),"unsigned transaction cannot define hash","tx",t),(0,f.en)(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&((0,f.en)(e.isSigned(),"unsigned transaction cannot define from","tx",t),(0,f.en)(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};let zs=xn;en=new WeakMap,br=new WeakMap,Er=new WeakMap,xr=new WeakMap,Pr=new WeakMap,Cr=new WeakMap,vr=new WeakMap,Ir=new WeakMap,Br=new WeakMap,Nr=new WeakMap,Or=new WeakMap,Tr=new WeakMap;function qc(r){r=atob(r);const t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return(0,g.Pw)(t)}function $c(r){const t=(0,g.Pw)(r);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}async function tu(r,t){const e=r.url.split(":")[0].toLowerCase();(0,f.hu)(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),(0,f.hu)(e==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(t){const P=new AbortController;n=P.signal,t.addListener(()=>{P.abort()})}const s={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:n},i=await fetch(r.url,s),o={};i.headers.forEach((P,U)=>{o[U.toLowerCase()]=P});const a=await i.arrayBuffer(),h=a==null?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:h}}const eu=12,nu=250;let Aa=tu;const ru=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),su=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ni=!1;async function ba(r,t){try{const e=r.match(ru);if(!e)throw new Error("invalid data");return new En(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?qc(e[3]):ou(e[3]))}catch{return new En(599,"BAD REQUEST (invalid data: URI)",{},null,new bn(r))}}function Ea(r){async function t(e,n){try{const s=e.match(su);if(!s)throw new Error("invalid link");return new bn(`${r}${s[2]}`)}catch{return new En(599,"BAD REQUEST (invalid IPFS URI)",{},null,new bn(e))}}return t}const Js={data:ba,ipfs:Ea("https://gateway.ipfs.io/ipfs/")},xa=new WeakMap;class iu{constructor(t){K(this,Gn,void 0);K(this,Pn,void 0);A(this,Gn,[]),A(this,Pn,!1),xa.set(t,()=>{if(!c(this,Pn)){A(this,Pn,!0);for(const e of c(this,Gn))setTimeout(()=>{e()},0);A(this,Gn,[])}})}addListener(t){(0,f.hu)(!c(this,Pn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),c(this,Gn).push(t)}get cancelled(){return c(this,Pn)}checkSignal(){(0,f.hu)(!this.cancelled,"cancelled","CANCELLED",{})}}Gn=new WeakMap,Pn=new WeakMap;function js(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}const ei=class{constructor(t){K(this,zn);K(this,Sr,void 0);K(this,kr,void 0);K(this,Qe,void 0);K(this,nn,void 0);K(this,Rr,void 0);K(this,Dr,void 0);K(this,ae,void 0);K(this,Be,void 0);K(this,rn,void 0);K(this,Qn,void 0);K(this,Kn,void 0);K(this,Vn,void 0);K(this,je,void 0);K(this,sn,void 0);A(this,Dr,String(t)),A(this,Sr,!1),A(this,kr,!0),A(this,Qe,{}),A(this,nn,""),A(this,Rr,3e5),A(this,sn,{slotInterval:nu,maxAttempts:eu})}get url(){return c(this,Dr)}set url(t){A(this,Dr,String(t))}get body(){return c(this,ae)==null?null:new Uint8Array(c(this,ae))}set body(t){if(t==null)A(this,ae,void 0),A(this,Be,void 0);else if(typeof t=="string")A(this,ae,(0,W.Y0)(t)),A(this,Be,"text/plain");else if(t instanceof Uint8Array)A(this,ae,t),A(this,Be,"application/octet-stream");else if(typeof t=="object")A(this,ae,(0,W.Y0)(JSON.stringify(t))),A(this,Be,"application/json");else throw new Error("invalid body")}hasBody(){return c(this,ae)!=null}get method(){return c(this,nn)?c(this,nn):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),A(this,nn,String(t).toUpperCase())}get headers(){const t=Object.assign({},c(this,Qe));return c(this,rn)&&(t.authorization=`Basic ${$c((0,W.Y0)(c(this,rn)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&c(this,Be)&&(t["content-type"]=c(this,Be)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){c(this,Qe)[String(t).toLowerCase()]=String(e)}clearHeaders(){A(this,Qe,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const s=e[n++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return c(this,rn)||null}setCredentials(t,e){(0,f.en)(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),A(this,rn,`${t}:${e}`)}get allowGzip(){return c(this,kr)}set allowGzip(t){A(this,kr,!!t)}get allowInsecureAuthentication(){return!!c(this,Sr)}set allowInsecureAuthentication(t){A(this,Sr,!!t)}get timeout(){return c(this,Rr)}set timeout(t){(0,f.en)(t>=0,"timeout must be non-zero","timeout",t),A(this,Rr,t)}get preflightFunc(){return c(this,Qn)||null}set preflightFunc(t){A(this,Qn,t)}get processFunc(){return c(this,Kn)||null}set processFunc(t){A(this,Kn,t)}get retryFunc(){return c(this,Vn)||null}set retryFunc(t){A(this,Vn,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${c(this,ae)?(0,g.Dv)(c(this,ae)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(c(this,sn).slotInterval=t.slotInterval),t.maxAttempts!=null&&(c(this,sn).maxAttempts=t.maxAttempts)}send(){return(0,f.hu)(c(this,je)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),A(this,je,new iu(this)),wt(this,zn,Ts).call(this,0,Pa()+this.timeout,0,this,new En(0,"",{},null,this))}cancel(){(0,f.hu)(c(this,je)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=xa.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();(0,f.hu)(this.method==="GET"&&(e!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new ei(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,A(s,Qe,Object.assign({},c(this,Qe))),c(this,ae)&&A(s,ae,new Uint8Array(c(this,ae))),A(s,Be,c(this,Be)),s}clone(){const t=new ei(this.url);return A(t,nn,c(this,nn)),c(this,ae)&&A(t,ae,c(this,ae)),A(t,Be,c(this,Be)),A(t,Qe,Object.assign({},c(this,Qe))),A(t,rn,c(this,rn)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),A(t,Qn,c(this,Qn)),A(t,Kn,c(this,Kn)),A(t,Vn,c(this,Vn)),t}static lockConfig(){Ni=!0}static getGateway(t){return Js[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Ni)throw new Error("gateways locked");Js[t]=e}static registerGetUrl(t){if(Ni)throw new Error("gateways locked");Aa=t}static createDataGateway(){return ba}static createIpfsGatewayFunc(t){return Ea(t)}};let bn=ei;Sr=new WeakMap,kr=new WeakMap,Qe=new WeakMap,nn=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,ae=new WeakMap,Be=new WeakMap,rn=new WeakMap,Qn=new WeakMap,Kn=new WeakMap,Vn=new WeakMap,je=new WeakMap,sn=new WeakMap,zn=new WeakSet,Ts=async function(t,e,n,s,i){var U,M,Z;if(t>=c(this,sn).maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,f.hu)(Pa()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await au(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Js){const at=await Js[a](o.url,js(c(s,je)));if(at instanceof En){let At=at;if(this.processFunc){js(c(s,je));try{At=await this.processFunc(o,At)}catch(It){(It.throttle==null||typeof It.stall!="number")&&At.makeServerError("error in post-processing function",It).assertOk()}}return At}o=at}this.preflightFunc&&(o=await this.preflightFunc(o));const h=await Aa(o,js(c(s,je)));let P=new En(h.statusCode,h.statusMessage,h.headers,h.body,s);if(P.statusCode===301||P.statusCode===302){try{const at=P.headers.location||"";return wt(U=o.redirect(at),zn,Ts).call(U,t+1,e,0,s,P)}catch{}return P}else if(P.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,P,t))){const at=P.headers["retry-after"];let At=c(this,sn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof at=="string"&&at.match(/^[1-9][0-9]*$/)&&(At=parseInt(at)),wt(M=o.clone(),zn,Ts).call(M,t+1,e,At,s,P)}if(this.processFunc){js(c(s,je));try{P=await this.processFunc(o,P)}catch(at){(at.throttle==null||typeof at.stall!="number")&&P.makeServerError("error in post-processing function",at).assertOk();let At=c(this,sn).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return at.stall>=0&&(At=at.stall),wt(Z=o.clone(),zn,Ts).call(Z,t+1,e,At,s,P)}}return P};const Ki=class{constructor(t,e,n,s,i){K(this,gs,void 0);K(this,ys,void 0);K(this,ms,void 0);K(this,Ke,void 0);K(this,Lr,void 0);K(this,Jn,void 0);A(this,gs,t),A(this,ys,e),A(this,ms,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),A(this,Ke,s==null?null:new Uint8Array(s)),A(this,Lr,i||null),A(this,Jn,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${c(this,Ke)?(0,g.Dv)(c(this,Ke)):"null"}>`}get statusCode(){return c(this,gs)}get statusMessage(){return c(this,ys)}get headers(){return Object.assign({},c(this,ms))}get body(){return c(this,Ke)==null?null:new Uint8Array(c(this,Ke))}get bodyText(){try{return c(this,Ke)==null?"":(0,W.ZN)(c(this,Ke))}catch{(0,f.hu)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,f.hu)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const s=e[n++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const s=new Ki(599,n,this.headers,this.body,c(this,Lr)||void 0);return A(s,Jn,{message:t,error:e}),s}throwThrottleError(t,e){e==null?e=-1:(0,f.en)(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw(0,E.h)(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return c(this,Ke)!=null}get request(){return c(this,Lr)}ok(){return c(this,Jn).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=c(this,Jn);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`),(0,f.hu)(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};let En=Ki;gs=new WeakMap,ys=new WeakMap,ms=new WeakMap,Ke=new WeakMap,Lr=new WeakMap,Jn=new WeakMap;function Pa(){return new Date().getTime()}function ou(r){return(0,W.Y0)(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function au(r){return new Promise(t=>setTimeout(t,r))}var cu=I(64686);const Oi="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Zs=null;function uu(r){if(Zs==null){Zs={};for(let e=0;e<Oi.length;e++)Zs[Oi[e]]=BigInt(e)}const t=Zs[r];return assertArgument(t!=null,"invalid base58 value","letter",r),t}const lu=BigInt(0),Ti=BigInt(58);function hu(r){let t=(0,y.Gh)((0,g.Pw)(r)),e="";for(;t;)e=Oi[Number(t%Ti)]+e,t/=Ti;return e}function fl(r){let t=lu;for(let e=0;e<r.length;e++)t*=Ti,t+=uu(r[e]);return t}function Si(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):(0,f.en)(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class fu{constructor(t){F(this,"name");(0,E.h)(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const du="org.ethers.plugins.provider.BasicMulticoin";class dl extends null{constructor(){super(du)}}const Ca=new RegExp("^(ipfs)://(.*)$","i"),va=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ca,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],ws=class{constructor(t,e,n){K(this,vn);F(this,"provider");F(this,"address");F(this,"name");K(this,Cn,void 0);K(this,jn,void 0);(0,E.h)(this,{provider:t,address:e,name:n}),A(this,Cn,null),A(this,jn,new et.CH(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return c(this,Cn)==null&&A(this,Cn,(async()=>{try{return await c(this,jn).supportsInterface("0x9061b923")}catch(t){if((0,f.VZ)(t,"CALL_EXCEPTION"))return!1;throw A(this,Cn,null),t}})()),await c(this,Cn)}async getAddress(t){if(t==null&&(t=60),t===60)try{const i=await wt(this,vn,$r).call(this,"addr(bytes32)");return i==null||i===q?null:i}catch(i){if((0,f.VZ)(i,"CALL_EXCEPTION"))return null;throw i}if(t>=0&&t<2147483648){let i=t+2147483648;const o=await wt(this,vn,$r).call(this,"addr(bytes32,uint)",[i]);if((0,g.A7)(o,20))return(0,Q.K)(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof fu&&i.supportsCoinType(t)){e=i;break}if(e==null)return null;const n=await wt(this,vn,$r).call(this,"addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const s=await e.decodeAddress(t,n);if(s!=null)return s;(0,f.hu)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await wt(this,vn,$r).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await wt(this,vn,$r).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const s=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${s}://${hu("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;(0,f.hu)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n<va.length;n++){const s=e.match(va[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=Si(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const h=(s[2]||"").split("/");if(h.length!==2)return t.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:t};const P=h[1],U=new et.CH(h[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const It=await U.ownerOf(P);if(a!==It)return t.push({type:"!owner",value:It}),{url:null,linkage:t};t.push({type:"owner",value:It})}else if(i==="erc1155"){const It=await U.balanceOf(a,P);if(!It)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:It.toString()})}let M=await U[o](P);if(M==null||M==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:M}),i==="erc1155"&&(M=M.replace("{id}",(0,y.m9)(P,32).substring(2)),t.push({type:"metadata-url-expanded",value:M})),M.match(/^ipfs:/i)&&(M=Si(M)),t.push({type:"metadata-url",value:M});let Z={};const at=await new bn(M).send();at.assertOk();try{Z=at.bodyJson}catch{try{t.push({type:"!metadata",value:at.bodyText})}catch{const Yt=at.body;return Yt&&t.push({type:"!metadata",value:(0,g.Dv)(Yt)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!Z)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(Z)});let At=Z.image;if(typeof At!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!At.match(/^(https:\/\/|data:)/i)){if(At.match(Ca)==null)return t.push({type:"!imageUrl-ipfs",value:At}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:At}),At=Si(At)}return t.push({type:"url",value:At}),{linkage:t,url:At}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return(0,f.hu)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async fromName(t,e){var s;let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const i=await wt(s=ws,ni,Ja).call(s,t,n);if(i!=null){const o=new ws(t,i,e);return n!==e&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};let hs=ws;Cn=new WeakMap,jn=new WeakMap,vn=new WeakSet,$r=async function(t,e){e=(e||[]).slice();const n=c(this,jn).interface;e.unshift(bi(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(t),(0,f.hu)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[lc(this.name),n.encodeFunctionData(s,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await c(this,jn)[t](...e);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!(0,f.VZ)(i,"CALL_EXCEPTION"))throw i}return null},ni=new WeakSet,Ja=async function(t,e){const n=await ws.getEnsAddress(t);try{const i=await new et.CH(n,["function resolver(bytes32) view returns (address)"],t).resolver(bi(e),{enableCcipRead:!0});return i===q?null:i}catch(s){throw s}return null},K(hs,ni);function pu(r){const t=(0,Q.K)(r.from);let n=(0,y.yT)(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,(0,Q.K)((0,g.QB)((0,d.w)(ls([t,n])),12))}function pl(r,t,e){const n=getAddress(r),s=getBytes(t,"salt"),i=getBytes(e,"initCodeHash");return assertArgument(s.length===32,"salt must be 32 bytes","salt",t),assertArgument(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",e),getAddress(dataSlice(keccak256(concat(["0xff",n,s,i])),12))}const Ia=BigInt(0);function Xt(r,t){return function(e){return e==null?t:r(e)}}function ki(r){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=>r(e))}}function fs(r,t){return e=>{const n={};for(const s in r){let i=s;if(t&&s in t&&!(i in e)){for(const o of t[s])if(o in e){i=o;break}}try{const o=r[s](e[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";(0,f.hu)(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:e})}}return n}}function gu(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}(0,f.en)(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function dr(r){return(0,f.en)((0,g.A7)(r,!0),"invalid data","value",r),r}function Te(r){return(0,f.en)((0,g.A7)(r,32),"invalid hash","value",r),r}function gl(r){if(!isHexString(r))throw new Error("invalid uint256");return zeroPadValue(r,32)}const yu=fs({address:Q.K,blockHash:Te,blockNumber:y.Dx,data:dr,index:y.Dx,removed:Xt(gu,!1),topics:ki(Te),transactionHash:Te,transactionIndex:y.Dx},{index:["logIndex"]});function mu(r){return yu(r)}const wu=fs({hash:Xt(Te),parentHash:Te,number:y.Dx,timestamp:y.Dx,nonce:Xt(dr),difficulty:y.yT,gasLimit:y.yT,gasUsed:y.yT,miner:Xt(Q.K),extraData:dr,baseFeePerGas:Xt(y.yT)});function Au(r){const t=wu(r);return t.transactions=r.transactions.map(e=>typeof e=="string"?e:Ba(e)),t}const bu=fs({transactionIndex:y.Dx,blockNumber:y.Dx,transactionHash:Te,address:Q.K,topics:ki(Te),data:dr,index:y.Dx,blockHash:Te},{index:["logIndex"]});function Eu(r){return bu(r)}const xu=fs({to:Xt(Q.K,null),from:Xt(Q.K,null),contractAddress:Xt(Q.K,null),index:y.Dx,root:Xt(g.Dv),gasUsed:y.yT,logsBloom:Xt(dr),blockHash:Te,hash:Te,logs:ki(Eu),blockNumber:y.Dx,cumulativeGasUsed:y.yT,effectiveGasPrice:Xt(y.yT),status:Xt(y.Dx),type:Xt(y.Dx,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Pu(r){return xu(r)}function Ba(r){r.to&&(0,y.yT)(r.to)===Ia&&(r.to="0x0000000000000000000000000000000000000000");const t=fs({hash:Te,type:e=>e==="0x"||e==null?0:(0,y.Dx)(e),accessList:Xt(j.z,null),blockHash:Xt(Te,null),blockNumber:Xt(y.Dx,null),transactionIndex:Xt(y.Dx,null),from:Q.K,gasPrice:Xt(y.yT),maxPriorityFeePerGas:Xt(y.yT),maxFeePerGas:Xt(y.yT),gasLimit:y.yT,to:Xt(Q.K,null),value:y.yT,nonce:y.Dx,data:dr,creates:Xt(Q.K,null),chainId:Xt(y.yT,null)},{data:["input"],gasLimit:["gas"]})(r);if(t.to==null&&t.creates==null&&(t.creates=pu(t)),(r.type===1||r.type===2)&&r.accessList==null&&(t.accessList=[]),r.signature?t.signature=_e.from(r.signature):t.signature=_e.from(r),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&(0,y.yT)(t.blockHash)===Ia&&(t.blockHash=null),t}const Cu="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ds{constructor(t){F(this,"name");(0,E.h)(this,{name:t})}clone(){return new ds(this.name)}}class Ws extends ds{constructor(e,n){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);F(this,"effectiveBlock");F(this,"txBase");F(this,"txCreate");F(this,"txDataZero");F(this,"txDataNonzero");F(this,"txAccessListStorageKey");F(this,"txAccessListAddress");const s={effectiveBlock:e};function i(o,a){let h=(n||{})[o];h==null&&(h=a),(0,f.en)(typeof h=="number",`invalud value for ${o}`,"costs",n),s[o]=h}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,E.h)(this,s)}clone(){return new Ws(this.effectiveBlock,this)}}class Ys extends ds{constructor(e,n){super("org.ethers.plugins.network.Ens");F(this,"address");F(this,"targetNetwork");(0,E.h)(this,{address:e||Cu,targetNetwork:n??1})}clone(){return new Ys(this.address,this.targetNetwork)}}const Vi=class extends null{constructor(e){super("org.ethers.plugins.network.FeeData");K(this,Zn,void 0);A(this,Zn,e)}get feeDataFunc(){return c(this,Zn)}async getFeeData(e){return await c(this,Zn).call(this,e)}clone(){return new Vi(c(this,Zn))}};let Na=Vi;Zn=new WeakMap;class Oa extends ds{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");K(this,As,void 0);K(this,bs,void 0);A(this,As,e),A(this,bs,n)}get url(){return c(this,As)}get processFunc(){return c(this,bs)}clone(){return this}}As=new WeakMap,bs=new WeakMap;const Ri=new Map,Mr=class{constructor(t,e){K(this,Ur,void 0);K(this,Fr,void 0);K(this,In,void 0);A(this,Ur,t),A(this,Fr,(0,y.yT)(e)),A(this,In,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return c(this,Ur)}set name(t){A(this,Ur,t)}get chainId(){return c(this,Fr)}set chainId(t){A(this,Fr,(0,y.yT)(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===(0,y.yT)(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===(0,y.yT)(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===(0,y.yT)(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(c(this,In).values())}attachPlugin(t){if(c(this,In).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return c(this,In).set(t.name,t.clone()),this}getPlugin(t){return c(this,In).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new Mr(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ws;let n=e.txBase;if(t.to==null&&(n+=e.txCreate),t.data)for(let s=2;s<t.data.length;s+=2)t.data.substring(s,s+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const s=(0,j.z)(t.accessList);for(const i in s)n+=e.txAccessListAddress+e.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(t){if(Iu(),t==null)return Mr.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=Ri.get(t);if(e)return e();if(typeof t=="bigint")return new Mr("unknown",t);(0,f.en)(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){(0,f.en)(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Mr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new Ys(t.ensAddress,t.ensNetwork)),e}(0,f.en)(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const n=Ri.get(t);n&&(0,f.en)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),Ri.set(t,e)}};let Xe=Mr;Ur=new WeakMap,Fr=new WeakMap,In=new WeakMap;function Ta(r,t){const e=String(r);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=e.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Sa(r){return new Oa(r,async(t,e,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),t()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Ta(a.maxFee,9),maxPriorityFeePerGas:Ta(a.maxPriorityFee,9)}}catch(i){(0,f.hu)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}function vu(r){return new Oa("data:",async(t,e,n)=>{const s=await t();if(s.maxFeePerGas==null||s.maxPriorityFeePerGas==null)return s;const i=s.maxFeePerGas-s.maxPriorityFeePerGas;return{gasPrice:s.gasPrice,maxFeePerGas:i+r,maxPriorityFeePerGas:r}})}let ka=!1;function Iu(){if(ka)return;ka=!0;function r(t,e,n){const s=function(){const i=new Xe(t,e);return n.ensNetwork!=null&&i.attachPlugin(new Ys(null,n.ensNetwork)),i.attachPlugin(new Ws),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Xe.register(t,s),Xe.register(e,s),n.altNames&&n.altNames.forEach(i=>{Xe.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("matic",137,{ensNetwork:1,plugins:[Sa("https://gasstation.polygon.technology/v2")]}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Sa("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[vu(BigInt("1000000"))]}),r("optimism-goerli",420,{}),r("xdai",100,{ensNetwork:1})}var qe=I(43624);function Di(r){return JSON.parse(JSON.stringify(r))}function yl(r,t){if(t==="block")return new Ra(r);if(isHexString(t,32))return new La(r,t);assert(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:t}})}class Ra{constructor(t){K(this,_r);K(this,on,void 0);K(this,ke,void 0);K(this,Bn,void 0);K(this,Ze,void 0);A(this,on,t),A(this,ke,null),A(this,Bn,4e3),A(this,Ze,-2)}get pollingInterval(){return c(this,Bn)}set pollingInterval(t){A(this,Bn,t)}start(){c(this,ke)||(A(this,ke,c(this,on)._setTimeout(wt(this,_r,ui).bind(this),c(this,Bn))),wt(this,_r,ui).call(this))}stop(){c(this,ke)&&(c(this,on)._clearTimeout(c(this,ke)),A(this,ke,null))}pause(t){this.stop(),t&&A(this,Ze,-2)}resume(){this.start()}}on=new WeakMap,ke=new WeakMap,Bn=new WeakMap,Ze=new WeakMap,_r=new WeakSet,ui=async function(){try{const t=await c(this,on).getBlockNumber();if(c(this,Ze)===-2){A(this,Ze,t);return}if(t!==c(this,Ze)){for(let e=c(this,Ze)+1;e<=t;e++){if(c(this,ke)==null)return;await c(this,on).emit("block",e)}A(this,Ze,t)}}catch{}c(this,ke)!=null&&A(this,ke,c(this,on)._setTimeout(wt(this,_r,ui).bind(this),c(this,Bn)))};class Da{constructor(t){K(this,Wn,void 0);K(this,Yn,void 0);K(this,Nn,void 0);A(this,Wn,t),A(this,Nn,!1),A(this,Yn,e=>{this._poll(e,c(this,Wn))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){c(this,Nn)||(A(this,Nn,!0),c(this,Yn).call(this,-2),c(this,Wn).on("block",c(this,Yn)))}stop(){c(this,Nn)&&(A(this,Nn,!1),c(this,Wn).off("block",c(this,Yn)))}pause(t){this.stop()}resume(){this.start()}}Wn=new WeakMap,Yn=new WeakMap,Nn=new WeakMap;class Bu extends Da{constructor(e,n){super(e);K(this,Es,void 0);A(this,Es,Di(n))}async _poll(e,n){throw new Error("@TODO")}}Es=new WeakMap;class La extends Da{constructor(e,n){super(e);K(this,Hr,void 0);A(this,Hr,n)}async _poll(e,n){const s=await n.getTransactionReceipt(c(this,Hr));s&&n.emit(c(this,Hr),s)}}Hr=new WeakMap;class Li{constructor(t,e){K(this,ri);K(this,an,void 0);K(this,Gr,void 0);K(this,Qr,void 0);K(this,On,void 0);K(this,Re,void 0);A(this,an,t),A(this,Gr,Di(e)),A(this,Qr,wt(this,ri,ja).bind(this)),A(this,On,!1),A(this,Re,-2)}start(){c(this,On)||(A(this,On,!0),c(this,Re)===-2&&c(this,an).getBlockNumber().then(t=>{A(this,Re,t)}),c(this,an).on("block",c(this,Qr)))}stop(){c(this,On)&&(A(this,On,!1),c(this,an).off("block",c(this,Qr)))}pause(t){this.stop(),t&&A(this,Re,-2)}resume(){this.start()}}an=new WeakMap,Gr=new WeakMap,Qr=new WeakMap,On=new WeakMap,Re=new WeakMap,ri=new WeakSet,ja=async function(t){if(c(this,Re)===-2)return;const e=Di(c(this,Gr));e.fromBlock=c(this,Re)+1,e.toBlock=t;const n=await c(this,an).getLogs(e);if(n.length===0){c(this,Re)<t-60&&A(this,Re,t-60);return}for(const s of n)c(this,an).emit(c(this,Gr),s),A(this,Re,s.blockNumber)};const Nu=BigInt(2),Ou=10;function Xs(r){return r&&typeof r.then=="function"}function qs(r,t){return r+":"+JSON.stringify(t,(e,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class Ua{constructor(t){F(this,"name");(0,E.h)(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function Tu(r){return JSON.parse(JSON.stringify(r))}function Ui(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Fi(r,t){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"pending":case"debug":case"error":case"network":return{type:r,tag:r}}if((0,g.A7)(r,32)){const e=r.toLowerCase();return{type:"transaction",tag:qs("tx",{hash:e}),hash:e}}if(r.orphan){const e=r;return{type:"orphan",tag:qs("orphan",e),filter:Tu(e)}}if(r.address||r.topics){const e=r,n={topics:(e.topics||[]).map(s=>s==null?null:Array.isArray(s)?Ui(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(e.address){const s=[],i=[],o=a=>{(0,g.A7)(a)?s.push(a):i.push((async()=>{s.push(await(0,v.ru)(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&&await Promise.all(i),n.address=Ui(s.map(a=>a.toLowerCase()))}return{filter:n,tag:qs("event",n),type:"event"}}(0,f.en)(!1,"unknown ProviderEvent","event",r)}function Mi(){return new Date().getTime()}const Su={cacheTimeout:250,pollingInterval:4e3};class ku{constructor(t,e){K(this,Ee);K(this,Ps);K(this,Cs);K(this,qn);K(this,vs);K(this,$n);K(this,Jr);K(this,ye,void 0);K(this,Tn,void 0);K(this,me,void 0);K(this,Kr,void 0);K(this,Ne,void 0);K(this,Xn,void 0);K(this,Sn,void 0);K(this,cn,void 0);K(this,xs,void 0);K(this,De,void 0);K(this,Vr,void 0);K(this,zr,void 0);if(A(this,zr,Object.assign({},Su,e||{})),t==="any")A(this,Xn,!0),A(this,Ne,null);else if(t){const n=Xe.from(t);A(this,Xn,!1),A(this,Ne,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else A(this,Xn,!1),A(this,Ne,null);A(this,cn,-1),A(this,Sn,new Map),A(this,ye,new Map),A(this,Tn,new Map),A(this,me,null),A(this,Kr,!1),A(this,xs,1),A(this,De,new Map),A(this,Vr,!1)}get pollingInterval(){return c(this,zr).pollingInterval}get provider(){return this}get plugins(){return Array.from(c(this,Tn).values())}attachPlugin(t){if(c(this,Tn).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return c(this,Tn).set(t.name,t.connect(this)),this}getPlugin(t){return c(this,Tn).get(t)||null}get disableCcipRead(){return c(this,Vr)}set disableCcipRead(t){A(this,Vr,!!t)}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const s=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const h=n[a],P=h.replace("{sender}",s).replace("{data}",i),U=new bn(P);h.indexOf("{data}")===-1&&(U.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:U,index:a,urls:n});let M="unknown error";const Z=await U.send();try{const at=Z.bodyJson;if(at.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:U,result:at}),at.data;at.message&&(M=at.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:U,result:at})}catch{}(0,f.hu)(Z.statusCode<400||Z.statusCode>=500,`response not found during CCIP fetch: ${M}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:h,errorMessage:M}}),o.push(M)}(0,f.hu)(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:o}})}_wrapBlock(t,e){return new qe.gO(Au(t),this)}_wrapLog(t,e){return new qe.Zb(mu(t),this)}_wrapTransactionReceipt(t,e){return new qe.IX(Pu(t),this)}_wrapTransactionResponse(t,e){return new qe.Mw(Ba(t),this)}_detectNetwork(){(0,f.hu)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){(0,f.hu)(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=(0,y.Dx)(await wt(this,Ee,Ue).call(this,{method:"getBlockNumber"}),"%response");return c(this,cn)>=0&&A(this,cn,t),t}_getAddress(t){return(0,v.ru)(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if((0,g.A7)(t))return(0,g.A7)(t,32)?t:(0,y.B4)(t);if(typeof t=="bigint"&&(t=(0,y.Dx)(t,"blockTag")),typeof t=="number")return t>=0?(0,y.B4)(t):c(this,cn)>=0?(0,y.B4)(c(this,cn)+t):this.getBlockNumber().then(e=>(0,y.B4)(e+t));(0,f.en)(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(h=>h==null?null:Array.isArray(h)?Ui(h.map(P=>P.toLowerCase())):h.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,s=(h,P,U)=>{let M;switch(h.length){case 0:break;case 1:M=h[0];break;default:h.sort(),M=h}if(n&&(P!=null||U!=null))throw new Error("invalid filter");const Z={};return M&&(Z.address=M),e.length&&(Z.topics=e),P&&(Z.fromBlock=P),U&&(Z.toBlock=U),n&&(Z.blockHash=n),Z};let i=[];if(t.address)if(Array.isArray(t.address))for(const h of t.address)i.push(this._getAddress(h));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&&(a=this._getBlockTag(t.toBlock)),i.filter(h=>typeof h!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(h=>s(h[0],h[1],h[2])):s(i,o,a)}_getTransactionRequest(t){const e=(0,qe.kK)(t),n=[];if(["to","from"].forEach(s=>{if(e[s]==null)return;const i=(0,v.ru)(e[s]);Xs(i)?n.push(async function(){e[s]=await i}()):e[s]=i}),e.blockTag!=null){const s=this._getBlockTag(e.blockTag);Xs(s)?n.push(async function(){e.blockTag=await s}()):e.blockTag=s}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(c(this,Ne)==null){const s=this._detectNetwork().then(i=>(this.emit("network",i,null),i),i=>{throw c(this,Ne)===s&&A(this,Ne,null),i});return A(this,Ne,s),(await s).clone()}const t=c(this,Ne),[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&&(c(this,Xn)?(this.emit("network",n,e),c(this,Ne)===t&&A(this,Ne,Promise.resolve(n))):(0,f.hu)(!1,`network changed: ${e.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:s,gasPrice:i}=await(0,E.m)({_block:wt(this,vs,qi).call(this,"latest",!1),gasPrice:(async()=>{try{const P=await wt(this,Ee,Ue).call(this,{method:"getGasPrice"});return(0,y.yT)(P,"%response")}catch{}return null})()});let o=null,a=null;const h=this._wrapBlock(s,t);return h&&h.baseFeePerGas&&(a=BigInt("1000000000"),o=h.baseFeePerGas*Nu+a),new qe.jW(i,o,a)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new bn(n.url),i=await n.processFunc(e,this,s);return new qe.jW(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return Xs(e)&&(e=await e),(0,y.yT)(await wt(this,Ee,Ue).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:n}=await(0,E.m)({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await wt(this,Cs,Xi).call(this,wt(this,Ps,Yi).call(this,e,n,t.enableCcipRead?0:-1))}async getBalance(t,e){return(0,y.yT)(await wt(this,qn,Ss).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return(0,y.Dx)(await wt(this,qn,Ss).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return(0,g.Dv)(await wt(this,qn,Ss).call(this,{method:"getCode"},t,e))}async getStorage(t,e,n){const s=(0,y.yT)(e,"position");return(0,g.Dv)(await wt(this,qn,Ss).call(this,{method:"getStorage",position:s},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:s}=await(0,E.m)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=zs.from(t);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(e)}async getBlock(t,e){const{network:n,params:s}=await(0,E.m)({network:this.getNetwork(),params:wt(this,vs,qi).call(this,t,!!e)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(t){const{network:e,params:n}=await(0,E.m)({network:this.getNetwork(),params:wt(this,Ee,Ue).call(this,{method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await(0,E.m)({network:this.getNetwork(),params:wt(this,Ee,Ue).call(this,{method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await wt(this,Ee,Ue).call(this,{method:"getTransaction",hash:t});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await(0,E.m)({network:this.getNetwork(),result:wt(this,Ee,Ue).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:(0,g.Dv)(e)}async getLogs(t){let e=this._getFilter(t);Xs(e)&&(e=await e);const{network:n,params:s}=await(0,E.m)({network:this.getNetwork(),params:wt(this,Ee,Ue).call(this,{method:"getLogs",filter:e})});return s.map(i=>this._wrapLog(i,n))}_getProvider(t){(0,f.hu)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await hs.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=(0,Q.K)(t);const e=bi(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await hs.getEnsAddress(this),i=await new et.CH(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===q)return null;const a=await new et.CH(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(n){if((0,f.VZ)(n,"BAD_DATA")&&n.value==="0x"||(0,f.VZ)(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const s=e??1;return s===0?this.getTransactionReceipt(t):new Promise(async(i,o)=>{let a=null;const h=async P=>{try{const U=await this.getTransactionReceipt(t);if(U!=null&&P-U.blockNumber+1>=s){i(U),a&&(clearTimeout(a),a=null);return}}catch(U){console.log("EEE",U)}this.once("block",h)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",h),o((0,f.wf)("timeout","TIMEOUT",{reason:"timeout"})))},n)),h(await this.getBlockNumber())})}async waitForBlock(t){(0,f.hu)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=c(this,De).get(t);e&&(e.timer&&clearTimeout(e.timer),c(this,De).delete(t))}_setTimeout(t,e){e==null&&(e=0);const n=Os(this,xs)._++,s=()=>{c(this,De).delete(n),t()};if(this.paused)c(this,De).set(n,{timer:null,func:s,time:e});else{const i=setTimeout(s,e);c(this,De).set(n,{timer:i,func:s,time:Mi()})}return n}_forEachSubscriber(t){for(const e of c(this,ye).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Ua(t.type);case"block":{const e=new Ra(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new Li(this,t.filter);case"transaction":return new La(this,t.hash);case"orphan":return new Bu(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of c(this,ye).values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=e,n.started&&e.start(),c(this,me)!=null&&e.pause(c(this,me));break}}async on(t,e){const n=await wt(this,Jr,li).call(this,t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,c(this,me)!=null&&n.subscriber.pause(c(this,me))),this}async once(t,e){const n=await wt(this,Jr,li).call(this,t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,c(this,me)!=null&&n.subscriber.pause(c(this,me))),this}async emit(t,...e){const n=await wt(this,$n,ks).call(this,t,e);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new cu.Z(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),c(this,ye).delete(n.tag)),s>0}async listenerCount(t){if(t){const n=await wt(this,$n,ks).call(this,t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of c(this,ye).values())e+=n.length;return e}async listeners(t){if(t){const n=await wt(this,$n,ks).call(this,t);return n?n.listeners.map(({listener:s})=>s):[]}let e=[];for(const{listeners:n}of c(this,ye).values())e=e.concat(n.map(({listener:s})=>s));return e}async off(t,e){const n=await wt(this,$n,ks).call(this,t);if(!n)return this;if(e){const s=n.listeners.map(({listener:i})=>i).indexOf(e);s>=0&&n.listeners.splice(s,1)}return(!e||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),c(this,ye).delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:s}=await wt(this,Jr,li).call(this,t);n&&s.stop(),c(this,ye).delete(e)}else for(const[e,{started:n,subscriber:s}]of c(this,ye))n&&s.stop(),c(this,ye).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return c(this,Kr)}destroy(){this.removeAllListeners();for(const t of c(this,De).keys())this._clearTimeout(t);A(this,Kr,!0)}get paused(){return c(this,me)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(A(this,cn,-1),c(this,me)!=null){if(c(this,me)==!!t)return;(0,f.hu)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),A(this,me,!!t);for(const e of c(this,De).values())e.timer&&clearTimeout(e.timer),e.time=Mi()-e.time}resume(){if(c(this,me)!=null){this._forEachSubscriber(t=>t.resume()),A(this,me,null);for(const t of c(this,De).values()){let e=t.time;e<0&&(e=0),t.time=Mi(),setTimeout(t.func,e)}}}}ye=new WeakMap,Tn=new WeakMap,me=new WeakMap,Kr=new WeakMap,Ne=new WeakMap,Xn=new WeakMap,Sn=new WeakMap,cn=new WeakMap,xs=new WeakMap,De=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Ee=new WeakSet,Ue=async function(t){const e=c(this,zr).cacheTimeout;if(e<0)return await this._perform(t);const n=qs(t.method,t);let s=c(this,Sn).get(n);return s||(s=this._perform(t),c(this,Sn).set(n,s),setTimeout(()=>{c(this,Sn).get(n)===s&&c(this,Sn).delete(n)},e)),await s},Ps=new WeakSet,Yi=async function(t,e,n){(0,f.hu)(n<Ou,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const s=(0,qe.kK)(t);try{return(0,g.Dv)(await this._perform({method:"call",transaction:s,blockTag:e}))}catch(i){if(!this.disableCcipRead&&(0,f.Hl)(i)&&i.data&&n>=0&&e==="latest"&&s.to!=null&&(0,g.QB)(i.data,0,4)==="0x556f1830"){const o=i.data,a=await(0,v.ru)(s.to,this);let h;try{h=Fu((0,g.QB)(i.data,4))}catch(M){(0,f.hu)(!1,M.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}(0,f.hu)(h.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:h.errorArgs}});const P=await this.ccipReadFetch(s,h.calldata,h.urls);(0,f.hu)(P!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:h.errorArgs}});const U={to:a,data:(0,g.zo)([h.selector,Uu([P,h.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:U});try{const M=await wt(this,Ps,Yi).call(this,U,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},U),result:M}),M}catch(M){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},U),error:M}),M}}throw i}},Cs=new WeakSet,Xi=async function(t){const{value:e}=await(0,E.m)({network:this.getNetwork(),value:t});return e},qn=new WeakSet,Ss=async function(t,e,n){let s=this._getAddress(e),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await wt(this,Cs,Xi).call(this,wt(this,Ee,Ue).call(this,Object.assign(t,{address:s,blockTag:i})))},vs=new WeakSet,qi=async function(t,e){if((0,g.A7)(t,32))return await wt(this,Ee,Ue).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await wt(this,Ee,Ue).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},$n=new WeakSet,ks=async function(t,e){let n=await Fi(t,this);return n.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(n=await Fi({orphan:"drop-log",log:e[0]},this)),c(this,ye).get(n.tag)||null},Jr=new WeakSet,li=async function(t){const e=await Fi(t,this),n=e.tag;let s=c(this,ye).get(n);return s||(s={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},c(this,ye).set(n,s)),s};function Ru(r,t){try{const e=_i(r,t);if(e)return(0,W.ZN)(e)}catch{}return null}function _i(r,t){if(r==="0x")return null;try{const e=(0,y.Dx)((0,g.QB)(r,t,t+32)),n=(0,y.Dx)((0,g.QB)(r,e,e+32));return(0,g.QB)(r,e+32,e+32+n)}catch{}return null}function Fa(r){const t=(0,y.ot)(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function Du(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}const Lu=new Uint8Array([]);function Uu(r){const t=[];let e=0;for(let n=0;n<r.length;n++)t.push(Lu),e+=32;for(let n=0;n<r.length;n++){const s=(0,g.Pw)(r[n]);t[n]=Fa(e),t.push(Fa(s.length)),t.push(Du(s)),e+=32+Math.ceil(s.length/32)*32}return(0,g.zo)(t)}const Ma="0x0000000000000000000000000000000000000000000000000000000000000000";function Fu(r){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,f.hu)((0,g.M5)(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=(0,g.QB)(r,0,32);(0,f.hu)((0,g.QB)(e,0,12)===(0,g.QB)(Ma,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,g.QB)(e,12);try{const n=[],s=(0,y.Dx)((0,g.QB)(r,32,64)),i=(0,y.Dx)((0,g.QB)(r,s,s+32)),o=(0,g.QB)(r,s+32);for(let a=0;a<i;a++){const h=Ru(o,a*32);if(h==null)throw new Error("abort");n.push(h)}t.urls=n}catch{(0,f.hu)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=_i(r,64);if(n==null)throw new Error("abort");t.calldata=n}catch{(0,f.hu)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,f.hu)((0,g.QB)(r,100,128)===(0,g.QB)(Ma,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,g.QB)(r,96,100);try{const n=_i(r,128);if(n==null)throw new Error("abort");t.extraData=n}catch{(0,f.hu)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function pr(r,t){if(r.provider)return r.provider;(0,f.hu)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function _a(r,t){let e=(0,qe.kK)(t);if(e.to!=null&&(e.to=(0,v.ru)(e.to,r)),e.from!=null){const n=e.from;e.from=Promise.all([r.getAddress(),(0,v.ru)(n,r)]).then(([s,i])=>((0,f.en)(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else e.from=r.getAddress();return await(0,E.m)(e)}class Mu{constructor(t){F(this,"provider");(0,E.h)(this,{provider:t||null})}async getNonce(t){return pr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await _a(this,t)}async populateTransaction(t){const e=pr(this,"populateTransaction"),n=await _a(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=(0,y.yT)(n.chainId);(0,f.en)(o===s.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?(0,f.en)(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&i&&(0,f.en)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await e.getFeeData();(0,f.hu)(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?((0,f.hu)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):(0,f.hu)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await(0,E.m)(n)}async estimateGas(t){return pr(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return pr(this,"call").call(await this.populateCall(t))}async resolveName(t){return await pr(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=pr(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const s=zs.from(n);return await e.broadcastTransaction(await this.signTransaction(s))}}const zi=class extends null{constructor(e,n){super(n);K(this,jr);F(this,"address");defineProperties(this,{address:e})}async getAddress(){return this.address}connect(e){return new zi(this.address,e)}async signTransaction(e){wt(this,jr,hi).call(this,"transactions","signTransaction")}async signMessage(e){wt(this,jr,hi).call(this,"messages","signMessage")}async signTypedData(e,n,s){wt(this,jr,hi).call(this,"typed-data","signTypedData")}};let Ha=zi;jr=new WeakSet,hi=function(e,n){assert(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:n})};function _u(r){return JSON.parse(JSON.stringify(r))}class Ga{constructor(t){K(this,Is);K(this,Bs);K(this,xe,void 0);K(this,We,void 0);K(this,tr,void 0);K(this,kn,void 0);K(this,er,void 0);K(this,Zr,void 0);A(this,xe,t),A(this,We,null),A(this,tr,wt(this,Is,$i).bind(this)),A(this,kn,!1),A(this,er,null),A(this,Zr,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){c(this,kn)||(A(this,kn,!0),wt(this,Is,$i).call(this,-2))}stop(){c(this,kn)&&(A(this,kn,!1),A(this,Zr,!0),wt(this,Bs,to).call(this),c(this,xe).off("block",c(this,tr)))}pause(t){t&&wt(this,Bs,to).call(this),c(this,xe).off("block",c(this,tr))}resume(){this.start()}}xe=new WeakMap,We=new WeakMap,tr=new WeakMap,kn=new WeakMap,er=new WeakMap,Zr=new WeakMap,Is=new WeakSet,$i=async function(t){try{c(this,We)==null&&A(this,We,this._subscribe(c(this,xe)));let e=null;try{e=await c(this,We)}catch(i){if(!(0,f.VZ)(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){A(this,We,null),c(this,xe)._recoverSubscriber(this,this._recover(c(this,xe)));return}const n=await c(this,xe).getNetwork();if(c(this,er)||A(this,er,n),c(this,er).chainId!==n.chainId)throw new Error("chaid changed");if(c(this,Zr))return;const s=await c(this,xe).send("eth_getFilterChanges",[e]);await this._emitResults(c(this,xe),s)}catch(e){console.log("@TODO",e)}c(this,xe).once("block",c(this,tr))},Bs=new WeakSet,to=function(){const t=c(this,We);t&&(A(this,We,null),t.then(e=>{c(this,xe).send("eth_uninstallFilter",[e])}))};class Hu extends Ga{constructor(e,n){super(e);K(this,nr,void 0);A(this,nr,_u(n))}_recover(e){return new Li(e,c(this,nr))}async _subscribe(e){return await e.send("eth_newFilter",[c(this,nr)])}async _emitResults(e,n){for(const s of n)e.emit(c(this,nr),e._wrapLog(s,e._network))}}nr=new WeakMap;class Gu extends Ga{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const n of e)t.emit("pending",n)}}const Qu="bigint,boolean,function,number,string,symbol".split(/,/g);function $s(r){if(r==null||Qu.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map($s);if(typeof r=="object")return Object.keys(r).reduce((t,e)=>(t[e]=r[e],t),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function Ku(r){return new Promise(t=>{setTimeout(t,r)})}function gr(r){return r&&r.toLowerCase()}function Qa(r){return r&&typeof r.pollingInterval=="number"}const Vu={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Hi extends Mu{constructor(e,n){super(e);F(this,"address");n=(0,Q.K)(n),(0,E.h)(this,{address:n})}connect(e){(0,f.hu)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=$s(e),s=[];if(n.from){const o=n.from;s.push((async()=>{const a=await(0,v.ru)(o,this.provider);(0,f.en)(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;s.push((async()=>{n.to=await(0,v.ru)(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const a=[1e3,100],h=async()=>{const P=await this.provider.getTransaction(s);if(P!=null){i(P.replaceableTransaction(n));return}this.provider._setTimeout(()=>{h()},a.pop()||4e3)};h()})}async signTransaction(e){const n=$s(e);if(n.from){const i=await(0,v.ru)(n.from,this.provider);(0,f.en)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(e){const n=typeof e=="string"?(0,W.Y0)(e):e;return await this.provider.send("personal_sign",[(0,g.Dv)(n),this.address.toLowerCase()])}async signTypedData(e,n,s){const i=$s(s),o=await C.resolveNames(e,n,i,async a=>{const h=await(0,v.ru)(a);return(0,f.en)(h!=null,"TypedData does not support null address","value",a),h});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(C.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?(0,W.Y0)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,g.Dv)(n)])}}class zu extends ku{constructor(e,n){super(e,n);K(this,Ns);K(this,rr,void 0);K(this,Wr,void 0);K(this,un,void 0);K(this,Ye,void 0);K(this,Ve,void 0);K(this,ln,void 0);A(this,Wr,1),A(this,rr,Object.assign({},Vu,n||{})),A(this,un,[]),A(this,Ye,null),A(this,ln,null);{let i=null;const o=new Promise(a=>{i=a});A(this,Ve,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");s&&((0,f.en)(e==null||s.matches(e),"staticNetwork MUST match network object","options",n),A(this,ln,s))}_getOption(e){return c(this,rr)[e]}get _network(){return(0,f.hu)(c(this,ln),"network is not available yet","NETWORK_ERROR"),c(this,ln)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let s=e.transaction;if(s&&s.type!=null&&(0,y.yT)(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return Xe.from((0,y.yT)(await this.send("eth_chainId",[])));const n={id:Os(this,Wr)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0]}catch(i){throw this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Xe.from((0,y.yT)(s.result));throw this.getRpcError(n,s)}_start(){c(this,Ve)==null||c(this,Ve).resolve==null||(c(this,Ve).resolve(),A(this,Ve,null),(async()=>{for(;c(this,ln)==null&&!this.destroyed;)try{A(this,ln,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,f.wf)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Ku(1e3)}wt(this,Ns,eo).call(this)})())}async _waitUntilReady(){if(c(this,Ve)!=null)return await c(this,Ve).promise}_getSubscriber(e){return e.type==="pending"?new Gu(this):e.type==="event"?this._getOption("polling")?new Li(this,e.filter):new Hu(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Ua("orphan"):super._getSubscriber(e)}get ready(){return c(this,Ve)==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(e[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=(0,y.B4)((0,y.yT)(e[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{e[s]!=null&&(n[s]=(0,g.Dv)(e[s]))}),e.accessList&&(n.accessList=(0,j.z)(e.accessList)),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[gr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[gr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[gr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[gr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(gr):e.filter.address=gr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:s}=e,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const h=i.message;if(!h.match(/revert/i)&&h.match(/insufficient funds/i))return(0,f.wf)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const h=Gi(i),P=z.R.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",e.params[0],h?h.data:null);return P.info={error:i,payload:e},P}const o=JSON.stringify(ju(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i)){const h={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,f.wf)("user rejected action","ACTION_REJECTED",{action:h[s]||"unknown",reason:"rejected",info:{payload:e,error:i}})}if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const h=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,f.wf)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:h,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,f.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:h,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,f.wf)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:h,info:{error:i}});if(o.match(/only replay-protected/i))return(0,f.wf)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:h,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,f.wf)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):(0,f.wf)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject((0,f.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const s=Os(this,Wr)._++,i=new Promise((o,a)=>{c(this,un).push({resolve:o,reject:a,payload:{method:e,params:n,id:s,jsonrpc:"2.0"}})});return wt(this,Ns,eo).call(this),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new Hi(this,i[e])}const{accounts:s}=await(0,E.m)({network:this.getNetwork(),accounts:n});e=(0,Q.K)(e);for(const i of s)if((0,Q.K)(i)===e)return new Hi(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Hi(this,n))}destroy(){c(this,Ye)&&(clearTimeout(c(this,Ye)),A(this,Ye,null));for(const{payload:e,reject:n}of c(this,un))n((0,f.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));A(this,un,[]),super.destroy()}}rr=new WeakMap,Wr=new WeakMap,un=new WeakMap,Ye=new WeakMap,Ve=new WeakMap,ln=new WeakMap,Ns=new WeakSet,eo=function(){if(c(this,Ye))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");A(this,Ye,setTimeout(()=>{A(this,Ye,null);const n=c(this,un);for(A(this,un,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==c(this,rr).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>c(this,rr).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:h,payload:P}of s){if(this.destroyed){h((0,f.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:P.method}));continue}const U=o.filter(M=>M.id===P.id)[0];if(U==null){const M=(0,f.wf)("missing response for request","BAD_DATA",{value:o,info:{payload:P}});this.emit("error",M),h(M);continue}if("error"in U){h(this.getRpcError(P,U));continue}a(U.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},e))};class Ju extends zu{constructor(e,n){super(e,n);K(this,Rn,void 0);A(this,Rn,4e3)}_getSubscriber(e){const n=super._getSubscriber(e);return Qa(n)&&(n.pollingInterval=c(this,Rn)),n}get pollingInterval(){return c(this,Rn)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");A(this,Rn,e),this._forEachSubscriber(n=>{Qa(n)&&(n.pollingInterval=c(this,Rn))})}}Rn=new WeakMap;class ml extends null{constructor(e,n,s){e==null&&(e="http://localhost:8545");super(n,s);K(this,Yr,void 0);typeof e=="string"?A(this,Yr,new FetchRequest(e)):A(this,Yr,e.clone())}_getConnection(){return c(this,Yr).clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Yr=new WeakMap;function Gi(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&(0,g.A7)(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const t in r){const e=Gi(r[t]);if(e)return e}return null}if(typeof r=="string")try{return Gi(JSON.parse(r))}catch{}return null}function Qi(r,t){if(r!=null){if(typeof r.message=="string"&&t.push(r.message),typeof r=="object")for(const e in r)Qi(r[e],t);if(typeof r=="string")try{return Qi(JSON.parse(r),t)}catch{}}}function ju(r){const t=[];return Qi(r,t),t}class Zu extends Ju{constructor(e,n){super(n,{batchMaxCount:1});K(this,Xr,void 0);A(this,Xr,async(s,i)=>{const o={method:s,params:i};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const a=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:a}),a}catch(a){const h=new Error(a.message);throw h.code=a.code,h.data=a.data,h.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:h}),h}})}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){(0,f.en)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await c(this,Xr).call(this,e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(s=>s.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await c(this,Xr).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(e)}}Xr=new WeakMap},43624:function(yt,st,I){var Y,ot,X;"use strict";I.d(st,{IX:function(){return N},Mw:function(){return x},Zb:function(){return nt},gO:function(){return l},jW:function(){return L},kK:function(){return rt}});var f=I(38649),z=I(49191),Q=I(59021),v=I(85191),d=I(39072);const g=BigInt(0);function y(tt){return tt??null}function E(tt){return tt==null?null:tt.toString()}class L{constructor(C,dt,j){F(this,"gasPrice");F(this,"maxFeePerGas");F(this,"maxPriorityFeePerGas");(0,f.h)(this,{gasPrice:y(C),maxFeePerGas:y(dt),maxPriorityFeePerGas:y(j)})}toJSON(){const{gasPrice:C,maxFeePerGas:dt,maxPriorityFeePerGas:j}=this;return{_type:"FeeData",gasPrice:E(C),maxFeePerGas:E(dt),maxPriorityFeePerGas:E(j)}}}function rt(tt){const C={};tt.to&&(C.to=tt.to),tt.from&&(C.from=tt.from),tt.data&&(C.data=(0,z.Dv)(tt.data));const dt="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const W of dt)!(W in tt)||tt[W]==null||(C[W]=(0,Q.yT)(tt[W],`request.${W}`));const j="type,nonce".split(/,/);for(const W of j)!(W in tt)||tt[W]==null||(C[W]=(0,Q.Dx)(tt[W],`request.${W}`));return tt.accessList&&(C.accessList=(0,d.z)(tt.accessList)),"blockTag"in tt&&(C.blockTag=tt.blockTag),"enableCcipRead"in tt&&(C.enableCcipRead=!!tt.enableCcipRead),"customData"in tt&&(C.customData=tt.customData),C}class l{constructor(C,dt){F(this,"provider");F(this,"number");F(this,"hash");F(this,"timestamp");F(this,"parentHash");F(this,"nonce");F(this,"difficulty");F(this,"gasLimit");F(this,"gasUsed");F(this,"miner");F(this,"extraData");F(this,"baseFeePerGas");K(this,Y,void 0);A(this,Y,C.transactions.map(j=>typeof j!="string"?new x(j,dt):j)),(0,f.h)(this,{provider:dt,hash:y(C.hash),number:C.number,timestamp:C.timestamp,parentHash:C.parentHash,nonce:C.nonce,difficulty:C.difficulty,gasLimit:C.gasLimit,gasUsed:C.gasUsed,miner:C.miner,extraData:C.extraData,baseFeePerGas:y(C.baseFeePerGas)})}get transactions(){return c(this,Y).map(C=>typeof C=="string"?C:C.hash)}get prefetchedTransactions(){const C=c(this,Y).slice();return C.length===0?[]:((0,v.hu)(typeof C[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),C)}toJSON(){const{baseFeePerGas:C,difficulty:dt,extraData:j,gasLimit:W,gasUsed:q,hash:et,miner:ht,nonce:Pt,number:Rt,parentHash:vt,timestamp:Ot,transactions:Ct}=this;return{_type:"Block",baseFeePerGas:E(C),difficulty:E(dt),extraData:j,gasLimit:E(W),gasUsed:E(q),hash:et,miner:ht,nonce:Pt,number:Rt,parentHash:vt,timestamp:Ot,transactions:Ct}}[Symbol.iterator](){let C=0;const dt=this.transactions;return{next:()=>C<this.length?{value:dt[C++],done:!1}:{value:void 0,done:!0}}}get length(){return c(this,Y).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(C){let dt;if(typeof C=="number")dt=c(this,Y)[C];else{const j=C.toLowerCase();for(const W of c(this,Y))if(typeof W=="string"){if(W!==j)continue;dt=W;break}else{if(W.hash===j)continue;dt=W;break}}if(dt==null)throw new Error("no such tx");return typeof dt=="string"?await this.provider.getTransaction(dt):dt}getPrefetchedTransaction(C){const dt=this.prefetchedTransactions;if(typeof C=="number")return dt[C];C=C.toLowerCase();for(const j of dt)if(j.hash===C)return j;(0,v.en)(!1,"no matching transaction","indexOrHash",C)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return D(this)}}Y=new WeakMap;class nt{constructor(C,dt){F(this,"provider");F(this,"transactionHash");F(this,"blockHash");F(this,"blockNumber");F(this,"removed");F(this,"address");F(this,"data");F(this,"topics");F(this,"index");F(this,"transactionIndex");this.provider=dt;const j=Object.freeze(C.topics.slice());(0,f.h)(this,{transactionHash:C.transactionHash,blockHash:C.blockHash,blockNumber:C.blockNumber,removed:C.removed,address:C.address,data:C.data,topics:j,index:C.index,transactionIndex:C.transactionIndex})}toJSON(){const{address:C,blockHash:dt,blockNumber:j,data:W,index:q,removed:et,topics:ht,transactionHash:Pt,transactionIndex:Rt}=this;return{_type:"log",address:C,blockHash:dt,blockNumber:j,data:W,index:q,removed:et,topics:ht,transactionHash:Pt,transactionIndex:Rt}}async getBlock(){const C=await this.provider.getBlock(this.blockHash);return(0,v.hu)(!!C,"failed to find transaction","UNKNOWN_ERROR",{}),C}async getTransaction(){const C=await this.provider.getTransaction(this.transactionHash);return(0,v.hu)(!!C,"failed to find transaction","UNKNOWN_ERROR",{}),C}async getTransactionReceipt(){const C=await this.provider.getTransactionReceipt(this.transactionHash);return(0,v.hu)(!!C,"failed to find transaction receipt","UNKNOWN_ERROR",{}),C}removedEvent(){return R(this)}}class N{constructor(C,dt){F(this,"provider");F(this,"to");F(this,"from");F(this,"contractAddress");F(this,"hash");F(this,"index");F(this,"blockHash");F(this,"blockNumber");F(this,"logsBloom");F(this,"gasUsed");F(this,"cumulativeGasUsed");F(this,"gasPrice");F(this,"type");F(this,"status");F(this,"root");K(this,ot,void 0);A(this,ot,Object.freeze(C.logs.map(W=>new nt(W,dt))));let j=g;C.effectiveGasPrice!=null?j=C.effectiveGasPrice:C.gasPrice!=null&&(j=C.gasPrice),(0,f.h)(this,{provider:dt,to:C.to,from:C.from,contractAddress:C.contractAddress,hash:C.hash,index:C.index,blockHash:C.blockHash,blockNumber:C.blockNumber,logsBloom:C.logsBloom,gasUsed:C.gasUsed,cumulativeGasUsed:C.cumulativeGasUsed,gasPrice:j,type:C.type,status:C.status,root:C.root})}get logs(){return c(this,ot)}toJSON(){const{to:C,from:dt,contractAddress:j,hash:W,index:q,blockHash:et,blockNumber:ht,logsBloom:Pt,logs:Rt,status:vt,root:Ot}=this;return{_type:"TransactionReceipt",blockHash:et,blockNumber:ht,contractAddress:j,cumulativeGasUsed:E(this.cumulativeGasUsed),from:dt,gasPrice:E(this.gasPrice),gasUsed:E(this.gasUsed),hash:W,index:q,logs:Rt,logsBloom:Pt,root:Ot,status:vt,to:C}}get length(){return this.logs.length}[Symbol.iterator](){let C=0;return{next:()=>C<this.length?{value:this.logs[C++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const C=await this.provider.getBlock(this.blockHash);if(C==null)throw new Error("TODO");return C}async getTransaction(){const C=await this.provider.getTransaction(this.hash);if(C==null)throw new Error("TODO");return C}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return $(this)}reorderedEvent(C){return(0,v.hu)(!C||C.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),S(this,C)}}ot=new WeakMap;const lt=class{constructor(C,dt){F(this,"provider");F(this,"blockNumber");F(this,"blockHash");F(this,"index");F(this,"hash");F(this,"type");F(this,"to");F(this,"from");F(this,"nonce");F(this,"gasLimit");F(this,"gasPrice");F(this,"maxPriorityFeePerGas");F(this,"maxFeePerGas");F(this,"data");F(this,"value");F(this,"chainId");F(this,"signature");F(this,"accessList");K(this,X,void 0);this.provider=dt,this.blockNumber=C.blockNumber!=null?C.blockNumber:null,this.blockHash=C.blockHash!=null?C.blockHash:null,this.hash=C.hash,this.index=C.index,this.type=C.type,this.from=C.from,this.to=C.to||null,this.gasLimit=C.gasLimit,this.nonce=C.nonce,this.data=C.data,this.value=C.value,this.gasPrice=C.gasPrice,this.maxPriorityFeePerGas=C.maxPriorityFeePerGas!=null?C.maxPriorityFeePerGas:null,this.maxFeePerGas=C.maxFeePerGas!=null?C.maxFeePerGas:null,this.chainId=C.chainId,this.signature=C.signature,this.accessList=C.accessList!=null?C.accessList:null,A(this,X,-1)}toJSON(){const{blockNumber:C,blockHash:dt,index:j,hash:W,type:q,to:et,from:ht,nonce:Pt,data:Rt,signature:vt,accessList:Ot}=this;return{_type:"TransactionReceipt",accessList:Ot,blockNumber:C,blockHash:dt,chainId:E(this.chainId),data:Rt,from:ht,gasLimit:E(this.gasLimit),gasPrice:E(this.gasPrice),hash:W,maxFeePerGas:E(this.maxFeePerGas),maxPriorityFeePerGas:E(this.maxPriorityFeePerGas),nonce:Pt,signature:vt,to:et,index:j,type:q,value:E(this.value)}}async getBlock(){let C=this.blockNumber;if(C==null){const j=await this.getTransaction();j&&(C=j.blockNumber)}if(C==null)return null;const dt=this.provider.getBlock(C);if(dt==null)throw new Error("TODO");return dt}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:dt,blockNumber:j}=await(0,f.m)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return dt==null||dt.blockNumber==null?0:j-dt.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(C,dt){const j=C??1,W=dt??0;let q=c(this,X),et=-1,ht=q===-1;const Pt=async()=>{if(ht)return null;const{blockNumber:Ct,nonce:it}=await(0,f.m)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(it<this.nonce){q=Ct;return}if(ht)return null;const O=await this.getTransaction();if(!(O&&O.blockNumber!=null))for(et===-1&&(et=q-3,et<c(this,X)&&(et=c(this,X)));et<=Ct;){if(ht)return null;const T=await this.provider.getBlock(et,!0);if(T==null)return;for(const J of T)if(J===this.hash)return;for(let J=0;J<T.length;J++){const V=await T.getTransaction(J);if(V.from===this.from&&V.nonce===this.nonce){if(ht)return null;const ft=await this.provider.getTransactionReceipt(V.hash);if(ft==null||Ct-ft.blockNumber+1<j)return;let ct="replaced";V.data===this.data&&V.to===this.to&&V.value===this.value?ct="repriced":V.data==="0x"&&V.from===V.to&&V.value===g&&(ct="cancelled"),(0,v.hu)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:ct==="replaced"||ct==="cancelled",reason:ct,replacement:V.replaceableTransaction(q),hash:V.hash,receipt:ft})}}et++}},Rt=Ct=>{if(Ct==null||Ct.status!==0)return Ct;(0,v.hu)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:Ct.to,from:Ct.from,data:""},receipt:Ct})},vt=await this.provider.getTransactionReceipt(this.hash);if(j===0)return Rt(vt);if(vt){if(await vt.confirmations()>=j)return Rt(vt)}else if(await Pt(),j===0)return null;return await new Promise((Ct,it)=>{const O=[],T=()=>{O.forEach(V=>V())};if(O.push(()=>{ht=!0}),W>0){const V=setTimeout(()=>{T(),it((0,v.wf)("wait for transaction timeout","TIMEOUT"))},W);O.push(()=>{clearTimeout(V)})}const J=async V=>{if(await V.confirmations()>=j){T();try{Ct(Rt(V))}catch(ft){it(ft)}}};if(O.push(()=>{this.provider.off(this.hash,J)}),this.provider.on(this.hash,J),q>=0){const V=async()=>{try{await Pt()}catch(ft){if((0,v.VZ)(ft,"TRANSACTION_REPLACED")){T(),it(ft);return}}ht||this.provider.once("block",V)};O.push(()=>{this.provider.off("block",V)}),this.provider.once("block",V)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return(0,v.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$(this)}reorderedEvent(C){return(0,v.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,v.hu)(!C||C.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),S(this,C)}replaceableTransaction(C){(0,v.en)(Number.isInteger(C)&&C>=0,"invalid startBlock","startBlock",C);const dt=new lt(this,this.provider);return A(dt,X,C),dt}};let x=lt;X=new WeakMap;function D(tt){return{orphan:"drop-block",hash:tt.hash,number:tt.number}}function S(tt,C){return{orphan:"reorder-transaction",tx:tt,other:C}}function $(tt){return{orphan:"drop-transaction",tx:tt}}function R(tt){return{orphan:"drop-log",log:{transactionHash:tt.transactionHash,blockHash:tt.blockHash,blockNumber:tt.blockNumber,address:tt.address,data:tt.data,topics:Object.freeze(tt.topics.slice()),index:tt.index}}}},39072:function(yt,st,I){"use strict";I.d(st,{z:function(){return d}});var f=I(93494),z=I(85191),Q=I(49191);function v(g,y){return{address:(0,f.K)(g),storageKeys:y.map((E,L)=>((0,z.en)((0,Q.A7)(E,32),"invalid slot",`storageKeys[${L}]`,E),E.toLowerCase()))}}function d(g){if(Array.isArray(g))return g.map((E,L)=>Array.isArray(E)?((0,z.en)(E.length===2,"invalid slot set",`value[${L}]`,E),v(E[0],E[1])):((0,z.en)(E!=null&&typeof E=="object","invalid address-slot set","value",g),v(E.address,E.storageKeys)));(0,z.en)(g!=null&&typeof g=="object","invalid access list","value",g);const y=Object.keys(g).map(E=>{const L=g[E].reduce((rt,l)=>(rt[l]=!0,rt),{});return v(E,Object.keys(L).sort())});return y.sort((E,L)=>E.address.localeCompare(L.address)),y}},49191:function(yt,st,I){"use strict";I.d(st,{A7:function(){return d},Dv:function(){return E},M5:function(){return rt},Pw:function(){return Q},QB:function(){return l},SK:function(){return D},U3:function(){return x},Zq:function(){return g},h_:function(){return v},zo:function(){return L}});var f=I(85191);function z(S,$,R){if(S instanceof Uint8Array)return R?new Uint8Array(S):S;if(typeof S=="string"&&S.match(/^0x([0-9a-f][0-9a-f])*$/i)){const Y=new Uint8Array((S.length-2)/2);let ot=2;for(let X=0;X<Y.length;X++)Y[X]=parseInt(S.substring(ot,ot+2),16),ot+=2;return Y}(0,f.en)(!1,"invalid BytesLike value",$||"value",S)}function Q(S,$){return z(S,$,!1)}function v(S,$){return z(S,$,!0)}function d(S,$){return!(typeof S!="string"||!S.match(/^0x[0-9A-Fa-f]*$/)||typeof $=="number"&&S.length!==2+2*$||$===!0&&S.length%2!==0)}function g(S){return d(S,!0)||S instanceof Uint8Array}const y="0123456789abcdef";function E(S){const $=Q(S);let R="0x";for(let Y=0;Y<$.length;Y++){const ot=$[Y];R+=y[(ot&240)>>4]+y[ot&15]}return R}function L(S){return"0x"+S.map($=>E($).substring(2)).join("")}function rt(S){return d(S,!0)?(S.length-2)/2:Q(S).length}function l(S,$,R){const Y=Q(S);return R!=null&&R>Y.length&&(0,f.hu)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:Y,length:Y.length,offset:R}),E(Y.slice($??0,R??Y.length))}function nt(S){let $=E(S).substring(2);for(;$.startsWith("00");)$=$.substring(2);return"0x"+$}function N(S,$,R){const Y=Q(S);(0,f.hu)($>=Y.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(Y),length:$,offset:$+1});const ot=new Uint8Array($);return ot.fill(0),R?ot.set(Y,$-Y.length):ot.set(Y,0),E(ot)}function x(S,$){return N(S,$,!0)}function D(S,$){return N(S,$,!1)}},85191:function(yt,st,I){"use strict";I.d(st,{hu:function(){return y},en:function(){return E},fG:function(){return L},fA:function(){return l},NK:function(){return nt},Hl:function(){return d},VZ:function(){return v},wf:function(){return g}});const f="6.7.1";var z=I(38649);function Q(N){if(N==null)return"null";if(Array.isArray(N))return"[ "+N.map(Q).join(", ")+" ]";if(N instanceof Uint8Array){const x="0123456789abcdef";let D="0x";for(let S=0;S<N.length;S++)D+=x[N[S]>>4],D+=x[N[S]&15];return D}if(typeof N=="object"&&typeof N.toJSON=="function")return Q(N.toJSON());switch(typeof N){case"boolean":case"symbol":return N.toString();case"bigint":return BigInt(N).toString();case"number":return N.toString();case"string":return JSON.stringify(N);case"object":{const x=Object.keys(N);return x.sort(),"{ "+x.map(D=>`${Q(D)}: ${Q(N[D])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function v(N,x){return N&&N.code===x}function d(N){return v(N,"CALL_EXCEPTION")}function g(N,x,D){{const $=[];if(D){if("message"in D||"code"in D||"name"in D)throw new Error(`value will overwrite populated values: ${Q(D)}`);for(const R in D){const Y=D[R];$.push(R+"="+Q(Y))}}$.push(`code=${x}`),$.push(`version=${f}`),$.length&&(N+=" ("+$.join(", ")+")")}let S;switch(x){case"INVALID_ARGUMENT":S=new TypeError(N);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":S=new RangeError(N);break;default:S=new Error(N)}return(0,z.h)(S,{code:x}),D&&Object.assign(S,D),S}function y(N,x,D,S){if(!N)throw g(x,D,S)}function E(N,x,D,S){y(N,x,"INVALID_ARGUMENT",{argument:D,value:S})}function L(N,x,D){D==null&&(D=""),D&&(D=": "+D),y(N>=x,"missing arguemnt"+D,"MISSING_ARGUMENT",{count:N,expectedCount:x}),y(N<=x,"too many arguemnts"+D,"UNEXPECTED_ARGUMENT",{count:N,expectedCount:x})}const rt=["NFD","NFC","NFKD","NFKC"].reduce((N,x)=>{try{if("test".normalize(x)!=="test")throw new Error("bad");if(x==="NFD"){const D=String.fromCharCode(233).normalize("NFD"),S=String.fromCharCode(101,769);if(D!==S)throw new Error("broken")}N.push(x)}catch{}return N},[]);function l(N){y(rt.indexOf(N)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:N}})}function nt(N,x,D){if(D==null&&(D=""),N!==x){let S=D,$="new";D&&(S+=".",$+=" "+D),y(!1,`private constructor; use ${S}from* methods`,"UNSUPPORTED_OPERATION",{operation:$})}}},64686:function(yt,st,I){var Q;"use strict";I.d(st,{Z:function(){return z}});var f=I(38649);class z{constructor(d,g,y){F(this,"filter");F(this,"emitter");K(this,Q,void 0);A(this,Q,g),(0,f.h)(this,{emitter:d,filter:y})}async removeListener(){c(this,Q)!=null&&await this.emitter.off(this.filter,c(this,Q))}}Q=new WeakMap},59021:function(yt,st,I){"use strict";I.d(st,{$j:function(){return y},B4:function(){return $},Dx:function(){return N},Gh:function(){return nt},He:function(){return x},_Y:function(){return g},m9:function(){return D},ot:function(){return S},sS:function(){return E},yT:function(){return L}});var f=I(49191),z=I(85191);const Q=BigInt(0),v=BigInt(1),d=9007199254740991;function g(R,Y){const ot=rt(R,"value"),X=BigInt(N(Y,"width"));if((0,z.hu)(ot>>X===Q,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:R}),ot>>X-v){const lt=(v<<X)-v;return-((~ot&lt)+v)}return ot}function y(R,Y){let ot=L(R,"value");const X=BigInt(N(Y,"width")),lt=v<<X-v;if(ot<Q){ot=-ot,(0,z.hu)(ot<=lt,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:R});const tt=(v<<X)-v;return(~ot&tt)+v}else(0,z.hu)(ot<lt,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:R});return ot}function E(R,Y){const ot=rt(R,"value"),X=BigInt(N(Y,"bits"));return ot&(v<<X)-v}function L(R,Y){switch(typeof R){case"bigint":return R;case"number":return(0,z.en)(Number.isInteger(R),"underflow",Y||"value",R),(0,z.en)(R>=-d&&R<=d,"overflow",Y||"value",R),BigInt(R);case"string":try{if(R==="")throw new Error("empty string");return R[0]==="-"&&R[1]!=="-"?-BigInt(R.substring(1)):BigInt(R)}catch(ot){(0,z.en)(!1,`invalid BigNumberish string: ${ot.message}`,Y||"value",R)}}(0,z.en)(!1,"invalid BigNumberish value",Y||"value",R)}function rt(R,Y){const ot=L(R,Y);return(0,z.hu)(ot>=Q,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:R}),ot}const l="0123456789abcdef";function nt(R){if(R instanceof Uint8Array){let Y="0x0";for(const ot of R)Y+=l[ot>>4],Y+=l[ot&15];return BigInt(Y)}return L(R)}function N(R,Y){switch(typeof R){case"bigint":return(0,z.en)(R>=-d&&R<=d,"overflow",Y||"value",R),Number(R);case"number":return(0,z.en)(Number.isInteger(R),"underflow",Y||"value",R),(0,z.en)(R>=-d&&R<=d,"overflow",Y||"value",R),R;case"string":try{if(R==="")throw new Error("empty string");return N(BigInt(R),Y)}catch(ot){(0,z.en)(!1,`invalid numeric string: ${ot.message}`,Y||"value",R)}}(0,z.en)(!1,"invalid numeric value",Y||"value",R)}function x(R){return N(nt(R))}function D(R,Y){let X=rt(R,"value").toString(16);if(Y==null)X.length%2&&(X="0"+X);else{const lt=N(Y,"width");for((0,z.hu)(lt*2>=X.length,`value exceeds width (${lt} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:R});X.length<lt*2;)X="0"+X}return"0x"+X}function S(R){const Y=rt(R,"value");if(Y===Q)return new Uint8Array([]);let ot=Y.toString(16);ot.length%2&&(ot="0"+ot);const X=new Uint8Array(ot.length/2);for(let lt=0;lt<X.length;lt++){const tt=lt*2;X[lt]=parseInt(ot.substring(tt,tt+2),16)}return X}function $(R){let Y=(0,f.Dv)((0,f.Zq)(R)?R:S(R)).substring(2);for(;Y.startsWith("0");)Y=Y.substring(1);return Y===""&&(Y="0"),"0x"+Y}},38649:function(yt,st,I){"use strict";I.d(st,{h:function(){return Q},m:function(){return z}});function f(v,d,g){const y=d.split("|").map(L=>L.trim());for(let L=0;L<y.length;L++)switch(d){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof v===d)return}const E=new Error(`invalid value for type ${d}`);throw E.code="INVALID_ARGUMENT",E.argument=`value.${g}`,E.value=v,E}async function z(v){const d=Object.keys(v);return(await Promise.all(d.map(y=>Promise.resolve(v[y])))).reduce((y,E,L)=>(y[d[L]]=E,y),{})}function Q(v,d,g){for(let y in d){let E=d[y];const L=g?g[y]:null;L&&f(E,L,y),Object.defineProperty(v,y,{enumerable:!0,value:E,writable:!1})}}},99058:function(yt,st,I){"use strict";I.d(st,{Y0:function(){return E},ZN:function(){return rt}});var f=I(49191),z=I(85191);function Q(nt,N,x,D,S){(0,z.en)(!1,`invalid codepoint at offset ${N}; ${nt}`,"bytes",x)}function v(nt,N,x,D,S){if(nt==="BAD_PREFIX"||nt==="UNEXPECTED_CONTINUE"){let $=0;for(let R=N+1;R<x.length&&x[R]>>6===2;R++)$++;return $}return nt==="OVERRUN"?x.length-N-1:0}function d(nt,N,x,D,S){return nt==="OVERLONG"?((0,z.en)(typeof S=="number","invalid bad code point for replacement","badCodepoint",S),D.push(S),0):(D.push(65533),v(nt,N,x,D,S))}const g=Object.freeze({error:Q,ignore:v,replace:d});function y(nt,N){N==null&&(N=g.error);const x=(0,f.Pw)(nt,"bytes"),D=[];let S=0;for(;S<x.length;){const $=x[S++];if(!($>>7)){D.push($);continue}let R=null,Y=null;if(($&224)===192)R=1,Y=127;else if(($&240)===224)R=2,Y=2047;else if(($&248)===240)R=3,Y=65535;else{($&192)===128?S+=N("UNEXPECTED_CONTINUE",S-1,x,D):S+=N("BAD_PREFIX",S-1,x,D);continue}if(S-1+R>=x.length){S+=N("OVERRUN",S-1,x,D);continue}let ot=$&(1<<8-R-1)-1;for(let X=0;X<R;X++){let lt=x[S];if((lt&192)!=128){S+=N("MISSING_CONTINUE",S,x,D),ot=null;break}ot=ot<<6|lt&63,S++}if(ot!==null){if(ot>1114111){S+=N("OUT_OF_RANGE",S-1-R,x,D,ot);continue}if(ot>=55296&&ot<=57343){S+=N("UTF16_SURROGATE",S-1-R,x,D,ot);continue}if(ot<=Y){S+=N("OVERLONG",S-1-R,x,D,ot);continue}D.push(ot)}}return D}function E(nt,N){N!=null&&((0,z.fA)(N),nt=nt.normalize(N));let x=[];for(let D=0;D<nt.length;D++){const S=nt.charCodeAt(D);if(S<128)x.push(S);else if(S<2048)x.push(S>>6|192),x.push(S&63|128);else if((S&64512)==55296){D++;const $=nt.charCodeAt(D);(0,z.en)(D<nt.length&&($&64512)===56320,"invalid surrogate pair","str",nt);const R=65536+((S&1023)<<10)+($&1023);x.push(R>>18|240),x.push(R>>12&63|128),x.push(R>>6&63|128),x.push(R&63|128)}else x.push(S>>12|224),x.push(S>>6&63|128),x.push(S&63|128)}return new Uint8Array(x)}function L(nt){return nt.map(N=>N<=65535?String.fromCharCode(N):(N-=65536,String.fromCharCode((N>>10&1023)+55296,(N&1023)+56320))).join("")}function rt(nt,N){return L(y(nt,N))}function l(nt,N){return y(E(nt,N))}},73983:function(yt,st,I){"use strict";I.d(st,{v:function(){return f}});var f=I(2337),z=null}}]);
}());