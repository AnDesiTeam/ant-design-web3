"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1832],{56967:function(A,r,n){n.r(r);var t=n(14433),c=n(39848),u=n(51990),E=n(21063),P=n(8851),p=n(56845),D=n(22949),C=n(24197),h=n(6732),_=n(11527),m=(0,t.QB)([u.R,E.y],[(0,P.I)()]),s=m.publicClient,i=m.chains,d=(0,c._g)({autoConnect:!0,publicClient:s,connectors:[new p.i({chains:i}),new D.z({chains:i,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),M=function(){return(0,_.jsx)(C.hm,{availableChains:i,config:d,children:(0,_.jsx)(h.Connector,{children:(0,_.jsx)(h.ConnectButton,{})})})};r.default=M},61820:function(A,r,n){n.r(r);var t=n(6732),c=n(99661),u=n(11527),E=(0,c.Qz)({rpcs:[new c.ic({apiKey:"d0eeefc2a4da4a8ba707889259b437d6"})],wallets:[new c.AX({projectId:"c07c0051c2055890eade3556618e38a6"}),new c.Y8],chains:[c.ny]}),P=function(){return(0,u.jsx)(c.Gn,{provider:E,children:(0,u.jsx)(t.Connector,{children:(0,u.jsx)(t.ConnectButton,{})})})};r.default=P},72225:function(A,r,n){n.r(r);var t=n(14433),c=n(51990),u=n(39848),E=n(8851),P=n(56845),p=n(22949),D=n(24197),C=n(6732),h=n(11527),_=(0,t.QB)([c.R],[(0,E.I)()]),m=_.publicClient,s=_.chains,i=(0,u._g)({autoConnect:!0,publicClient:m,connectors:[new P.i({chains:s}),new p.z({chains:s,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),d=function(){return(0,h.jsx)(D.hm,{ens:!0,config:i,children:(0,h.jsx)(C.Connector,{children:(0,h.jsx)(C.ConnectButton,{})})})};r.default=d},37669:function(A,r,n){n.r(r);var t=n(14433),c=n(51990),u=n(39848),E=n(8851),P=n(56845),p=n(22949),D=n(24197),C=n(6732),h=n(11527),_=(0,t.QB)([c.R],[(0,E.I)()]),m=_.publicClient,s=_.chains,i=(0,u._g)({autoConnect:!0,publicClient:m,connectors:[new P.i({chains:s}),new p.z({chains:s,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),d=function(){return(0,h.jsx)(D.hm,{config:i,children:(0,h.jsx)(C.Connector,{children:(0,h.jsx)(C.ConnectButton,{})})})};r.default=d},94313:function(A,r,n){n.r(r);var t=n(14433),c=n(51990),u=n(39848),E=n(8851),P=n(56845),p=n(22949),D=n(24197),C=n(6732),h=n(11527),_=(0,t.QB)([c.R],[(0,E.I)()]),m=_.publicClient,s=_.chains,i=(0,u._g)({autoConnect:!0,publicClient:m,connectors:[new P.i,new p.z({chains:s,options:{projectId:"c07c0051c2055890eade3556618e38a6"}})]}),d=function(){return(0,h.jsx)(D.hm,{config:i,children:(0,h.jsx)(C.Connector,{children:(0,h.jsx)(C.ConnectButton,{})})})};r.default=d},56845:function(A,r,n){n.d(r,{i:function(){return D}});var t=n(11163),c=n(80713),u=n(31043),E=n(296),P=n(56907),p,D=class extends t._{constructor({chains:C,options:h}={}){const _={name:"MetaMask",shimDisconnect:!0,getProvider(){function m(i){if(i!=null&&i.isMetaMask&&!(i.isBraveWallet&&!i._events&&!i._state)&&!i.isApexWallet&&!i.isAvalanche&&!i.isBitKeep&&!i.isBlockWallet&&!i.isCoin98&&!i.isFordefi&&!i.isMathWallet&&!(i.isOkxWallet||i.isOKExWallet)&&!(i.isOneInchIOSWallet||i.isOneInchAndroidWallet)&&!i.isOpera&&!i.isPortal&&!i.isRabby&&!i.isDefiant&&!i.isTokenPocket&&!i.isTokenary&&!i.isZeal&&!i.isZerion)return i}if(typeof window>"u")return;const s=window.ethereum;return s!=null&&s.providers?s.providers.find(m):m(s)},...h};super({chains:C,options:_}),this.id="metaMask",this.shimDisconnectKey=`${this.id}.shimDisconnect`,(0,u.Ko)(this,p,void 0),(0,u.qx)(this,p,_.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:C}={}){var h,_,m,s;try{const i=await this.getProvider();if(!i)throw new c.N;i.on&&(i.on("accountsChanged",this.onAccountsChanged),i.on("chainChanged",this.onChainChanged),i.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let d=null;if((0,u.ac)(this,p)&&((h=this.options)!=null&&h.shimDisconnect)&&!((_=this.storage)!=null&&_.getItem(this.shimDisconnectKey))&&(d=await this.getAccount().catch(()=>null),!!d))try{await i.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),d=await this.getAccount()}catch(O){if(this.isUserRejectedRequestError(O))throw new E.ab(O);if(O.code===new E.pT(O).code)throw O}if(!d){const W=await i.request({method:"eth_requestAccounts"});d=(0,P.K)(W[0])}let M=await this.getChainId(),K=this.isChainUnsupported(M);return C&&M!==C&&(M=(await this.switchChain(C)).id,K=this.isChainUnsupported(M)),(m=this.options)!=null&&m.shimDisconnect&&((s=this.storage)==null||s.setItem(this.shimDisconnectKey,!0)),{account:d,chain:{id:M,unsupported:K},provider:i}}catch(i){throw this.isUserRejectedRequestError(i)?new E.ab(i):i.code===-32002?new E.pT(i):i}}};p=new WeakMap},22949:function(A,r,n){n.d(r,{z:function(){return Z}});var t=n(31043),c=n(3332),u=n(56907),E=n(296),P=n(9474),p=n(86427),D=n(30460),C="eip155",h="store",_="requestedChains",m="wallet_addEthereumChain",s,i,d,M,K,W,O,z,Q,F,R,b,L,B,y,H,j,Y,S,G,Z=class extends t.wR{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),(0,t.Ko)(this,d),(0,t.Ko)(this,K),(0,t.Ko)(this,O),(0,t.Ko)(this,Q),(0,t.Ko)(this,R),(0,t.Ko)(this,L),(0,t.Ko)(this,y),(0,t.Ko)(this,j),(0,t.Ko)(this,S),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,(0,t.Ko)(this,s,void 0),(0,t.Ko)(this,i,void 0),this.onAccountsChanged=a=>{a.length===0?this.emit("disconnect"):this.emit("change",{account:(0,u.K)(a[0])})},this.onChainChanged=a=>{const f=Number(a),l=this.isChainUnsupported(f);this.emit("change",{chain:{id:f,unsupported:l}})},this.onDisconnect=()=>{(0,t.U9)(this,L,B).call(this,[]),this.emit("disconnect")},this.onDisplayUri=a=>{this.emit("message",{type:"display_uri",data:a})},this.onConnect=()=>{this.emit("connect",{})},(0,t.U9)(this,d,M).call(this)}async connect({chainId:e,pairingTopic:a}={}){var f,l,o,g,I;try{let v=e;if(!v){const T=(f=this.storage)==null?void 0:f.getItem(h),U=(g=(o=(l=T==null?void 0:T.state)==null?void 0:l.data)==null?void 0:o.chain)==null?void 0:g.id;U&&!this.isChainUnsupported(U)?v=U:v=(I=this.chains[0])==null?void 0:I.id}if(!v)throw new Error("No chains found on connector.");const w=await this.getProvider();(0,t.U9)(this,Q,F).call(this);const x=(0,t.U9)(this,O,z).call(this);if(w.session&&x&&await w.disconnect(),!w.session||x){const T=this.chains.filter(U=>U.id!==v).map(U=>U.id);this.emit("message",{type:"connecting"}),await w.connect({pairingTopic:a,chains:[v],optionalChains:T.length?T:void 0}),(0,t.U9)(this,L,B).call(this,this.chains.map(({id:U})=>U))}const N=await w.enable(),X=(0,u.K)(N[0]),V=await this.getChainId(),$=this.isChainUnsupported(V);return{account:X,chain:{id:V,unsupported:$}}}catch(v){throw/user rejected/i.test(v==null?void 0:v.message)?new E.ab(v):v}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(a){if(!/No matching key/i.test(a.message))throw a}finally{(0,t.U9)(this,R,b).call(this),(0,t.U9)(this,L,B).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,u.K)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return(0,t.ac)(this,s)||await(0,t.U9)(this,d,M).call(this),e&&await this.switchChain(e),(0,t.ac)(this,s)}async getWalletClient({chainId:e}={}){const[a,f]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),l=this.chains.find(o=>o.id===e);if(!a)throw new Error("provider is required.");return(0,P.K)({account:f,chain:l,transport:(0,p.P)(a)})}async isAuthorized(){try{const[e,a]=await Promise.all([this.getAccount(),this.getProvider()]),f=(0,t.U9)(this,O,z).call(this);if(!e)return!1;if(f&&a.session){try{await a.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){var f,l;const a=this.chains.find(o=>o.id===e);if(!a)throw new E.x3(new Error("chain not found on connector."));try{const o=await this.getProvider(),g=(0,t.U9)(this,j,Y).call(this),I=(0,t.U9)(this,S,G).call(this);if(!g.includes(e)&&I.includes(m)){await o.request({method:m,params:[{chainId:(0,D.eC)(a.id),blockExplorerUrls:[(l=(f=a.blockExplorers)==null?void 0:f.default)==null?void 0:l.url],chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[...a.rpcUrls.default.http]}]});const w=(0,t.U9)(this,y,H).call(this);w.push(e),(0,t.U9)(this,L,B).call(this,w)}return await o.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,D.eC)(e)}]}),a}catch(o){const g=typeof o=="string"?o:o==null?void 0:o.message;throw/user rejected request/i.test(g)?new E.ab(o):new E.x3(o)}}};s=new WeakMap,i=new WeakMap,d=new WeakSet,M=async function(){return!(0,t.ac)(this,i)&&typeof window<"u"&&(0,t.qx)(this,i,(0,t.U9)(this,K,W).call(this)),(0,t.ac)(this,i)},K=new WeakSet,W=async function(){const{EthereumProvider:e,OPTIONAL_EVENTS:a,OPTIONAL_METHODS:f}=await n.e(5217).then(n.bind(n,85217)),[l,...o]=this.chains.map(({id:g})=>g);if(l){const{projectId:g,showQrModal:I=!0,qrModalOptions:v,metadata:w,relayUrl:x}=this.options;(0,t.qx)(this,s,await e.init({showQrModal:I,qrModalOptions:v,projectId:g,optionalMethods:f,optionalEvents:a,chains:[l],optionalChains:o.length?o:void 0,rpcMap:Object.fromEntries(this.chains.map(N=>[N.id,N.rpcUrls.default.http[0]])),metadata:w,relayUrl:x}))}},O=new WeakSet,z=function(){if((0,t.U9)(this,S,G).call(this).includes(m)||!this.options.isNewChainsStale)return!1;const a=(0,t.U9)(this,y,H).call(this),f=this.chains.map(({id:o})=>o),l=(0,t.U9)(this,j,Y).call(this);return l.length&&!l.some(o=>f.includes(o))?!1:!f.every(o=>a.includes(o))},Q=new WeakSet,F=function(){(0,t.ac)(this,s)&&((0,t.U9)(this,R,b).call(this),(0,t.ac)(this,s).on("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,s).on("chainChanged",this.onChainChanged),(0,t.ac)(this,s).on("disconnect",this.onDisconnect),(0,t.ac)(this,s).on("session_delete",this.onDisconnect),(0,t.ac)(this,s).on("display_uri",this.onDisplayUri),(0,t.ac)(this,s).on("connect",this.onConnect))},R=new WeakSet,b=function(){(0,t.ac)(this,s)&&((0,t.ac)(this,s).removeListener("accountsChanged",this.onAccountsChanged),(0,t.ac)(this,s).removeListener("chainChanged",this.onChainChanged),(0,t.ac)(this,s).removeListener("disconnect",this.onDisconnect),(0,t.ac)(this,s).removeListener("session_delete",this.onDisconnect),(0,t.ac)(this,s).removeListener("display_uri",this.onDisplayUri),(0,t.ac)(this,s).removeListener("connect",this.onConnect))},L=new WeakSet,B=function(e){var a;(a=this.storage)==null||a.setItem(_,e)},y=new WeakSet,H=function(){var e;return((e=this.storage)==null?void 0:e.getItem(_))??[]},j=new WeakSet,Y=function(){var l,o,g;if(!(0,t.ac)(this,s))return[];const e=(l=(0,t.ac)(this,s).session)==null?void 0:l.namespaces;return e?((g=(o=(0,c.fK)(e)[C])==null?void 0:o.chains)==null?void 0:g.map(I=>parseInt(I.split(":")[1]||"")))??[]:[]},S=new WeakSet,G=function(){var l,o;if(!(0,t.ac)(this,s))return[];const e=(l=(0,t.ac)(this,s).session)==null?void 0:l.namespaces;return e?((o=(0,c.fK)(e)[C])==null?void 0:o.methods)??[]:[]}},8851:function(A,r,n){n.d(r,{I:function(){return t}});function t(){return function(c){return c.rpcUrls.public.http[0]?{chain:c,rpcUrls:c.rpcUrls.public}:null}}},21063:function(A,r,n){n.d(r,{y:function(){return c}});var t=n(23903);const c=(0,t.a)({id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}})}}]);
