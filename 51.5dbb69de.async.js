"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[51],{57653:function(Pn,J,s){s.d(J,{GU:function(){return un},mg:function(){return $.mg},VX:function(){return vn},gV:function(){return fn},M6:function(){return G},hm:function(){return Cn},be:function(){return tn},Zv:function(){return $.Zv},eu:function(){return $.eu}});var K=s(77117),W=s.n(K),z=s(67855),Y=s.n(z),x=s(38887),q=s.n(x),_=s(95530),nn=s.n(_),P=s(50959),$=s(72257),S=s(186),en=s(13448),t=s.n(en),an=s(74815),y=s.n(an),rn={name:"MetaMask",create:function(){return W()(W()({},$.Zv),{},{hasWalletReady:function(){var n=y()(t()().mark(function l(){var e;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",!!((e=window.ethereum)!==null&&e!==void 0&&e.isMetaMask));case 1:case"end":return a.stop()}},l)}));function c(){return n.apply(this,arguments)}return c}(),hasExtensionInstalled:function(){var n=y()(t()().mark(function l(){var e;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",!!((e=window.ethereum)!==null&&e!==void 0&&e.isMetaMask));case 1:case"end":return a.stop()}},l)}));function c(){return n.apply(this,arguments)}return c}()})}},tn={name:"WalletConnect",create:function(n){var c=function(){var l=y()(t()().mark(function e(){var u;return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n==null?void 0:n.getProvider();case 2:return u=i.sent,i.abrupt("return",new Promise(function(E){u.on("display_uri",function(I){E({uri:I})})}));case 4:case"end":return i.stop()}},e)}));return function(){return l.apply(this,arguments)}}();return W()(W()({},$.Tl),{},{hasWalletReady:function(){var l=y()(t()().mark(function u(){return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",!0);case 1:case"end":return i.stop()}},u)}));function e(){return l.apply(this,arguments)}return e}(),getQrCode:(n==null?void 0:n.options.showQrModal)===!1?c:void 0})}},un={name:"Coinbase Wallet",create:function(){return W()(W()({},$.p_),{},{hasWalletReady:function(){var n=y()(t()().mark(function l(){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",!0);case 1:case"end":return u.stop()}},l)}));function c(){return n.apply(this,arguments)}return c}()})}},sn=s(96345),ln=s.n(sn),on=s(15033),cn=s.n(on),dn=s(21320),V=s.n(dn),G=ln()(function p(n){var c=this;cn()(this,p),V()(this,"name",[]),V()(this,"create",function(l){var e,u=l,a=u.find(function(C){return C.name==="WalletConnect"}),i=u.find(function(C){return C.name===c.wallet.name}),E=function(){var C=y()(t()().mark(function h(){var w;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,a==null?void 0:a.getProvider();case 2:return w=m.sent,m.abrupt("return",new Promise(function(T){w.on("display_uri",function(b){T({uri:b})})}));case 4:case"end":return m.stop()}},h)}));return function(){return C.apply(this,arguments)}}(),I=function(){var h,w=i==null||(h=i.options)===null||h===void 0?void 0:h.getProvider();return!!w};return W()(W()({},c.wallet),{},{getWagmiConnector:function(){return I()?i:a},hasExtensionInstalled:function(){var C=y()(t()().mark(function w(){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",I());case 1:case"end":return m.stop()}},w)}));function h(){return C.apply(this,arguments)}return h}(),hasWalletReady:function(){var C=y()(t()().mark(function w(){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",!!(I()||a));case 1:case"end":return m.stop()}},w)}));function h(){return C.apply(this,arguments)}return h}(),getQrCode:(a==null||(e=a.options)===null||e===void 0?void 0:e.showQrModal)===!1?E:void 0})}),this.wallet=n,n.extensions&&this.name.push(n.name),n.app&&this.name.push("WalletConnect")}),fn=new G($.eu),vn={name:"Safeheron",create:function(n){return W()(W()({},$.OJ),{},{hasWalletReady:function(){var c=y()(t()().mark(function e(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",!!(n!=null&&n.ready));case 1:case"end":return a.stop()}},e)}));function l(){return c.apply(this,arguments)}return l}(),hasExtensionInstalled:function(){var c=y()(t()().mark(function e(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",!!(n!=null&&n.ready));case 1:case"end":return a.stop()}},e)}));function l(){return c.apply(this,arguments)}return l}()})}},hn=s(28152),H=s.n(hn),Q=s(18661),Z=s(32836);function mn(p,n){return F.apply(this,arguments)}function F(){return F=y()(t()().mark(function p(n,c){var l;return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,Z.Lk)({address:n.address,chainId:c});case 2:return l=u.sent,u.abrupt("return",W()(W()({},n),{},{name:l??void 0}));case 4:case"end":return u.stop()}},p)})),F.apply(this,arguments)}function pn(p,n,c){return U.apply(this,arguments)}function U(){return U=y()(t()().mark(function p(n,c,l){var e,u;return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,Z.a4)({address:(0,Q.O_)(n),args:[c],chainId:l,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return e=i.sent,i.next=5,(0,Q.Xw)(e);case 5:return u=i.sent,i.abrupt("return",u);case 7:case"end":return i.stop()}},p)})),U.apply(this,arguments)}var O=s(11527),gn=function(n){var c,l=n.children,e=n.assets,u=n.availableChains,a=n.availableConnectors,i=n.ens,E=n.balance,I=n.locale,C=(0,S.mA)(),h=C.address,w=C.isDisconnected,M=P.useState(),m=H()(M,2),T=m[0],b=m[1],N=(0,S.$4)(),wn=N.connectAsync,Wn=(0,S.g0)(),L=Wn.switchNetwork,bn=(0,S.LN)(),R=bn.chain,$n=(0,S.qL)(),Rn=$n.disconnectAsync,In=P.useState(void 0),B=H()(In,2),A=B[0],X=B[1],Mn=(0,S.KQ)({address:E&&T?(0,Q.O_)(T.address):void 0}),k=Mn.data;P.useEffect(function(){if(!h||w){b(void 0);return}var f=function(){var o=y()(t()().mark(function r(){var v;return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(v={address:h},d.t0=b,!i){d.next=8;break}return d.next=5,mn(v);case 5:d.t1=d.sent,d.next=9;break;case 8:d.t1=v;case 9:d.t2=d.t1,(0,d.t0)(d.t2);case 11:case"end":return d.stop()}},r)}));return function(){return o.apply(this,arguments)}}();f()},[h,w,R,i]);var An=P.useMemo(function(){var f=e==null?void 0:e.filter(function(r){return r.create});a.forEach(function(r){var v=f==null?void 0:f.find(function(g){var d;return g.name===r.name||((d=g.name)===null||d===void 0?void 0:d.includes(r.name))});v!=null&&v.create||console.error("Can not find wallet factory for ".concat(r.name,", you should config it in WagmiWeb3ConfigProvider 'assets'."))});var o=f==null?void 0:f.map(function(r){var v;return typeof r.name=="string"?v=a.find(function(g){return g.name===r.name}):v=r.name.map(function(g){return a.find(function(d){return d.name===g})}).filter(function(g){return g!==void 0}),!v||Array.isArray(v)&&v.length===0?null:r.create(v)}).filter(function(r){return r!==null});return o},[a,e]),kn=P.useMemo(function(){return u.map(function(f){var o=e==null?void 0:e.find(function(r){return r.id===f.id});return o!=null&&o.id?{id:o.id,name:o.name,icon:o.icon}:(console.error("Can not find chain ".concat(f.id,", you should config it in WagmiWeb3ConfigProvider 'assets'.")),null)}).filter(function(f){return f!==null})},[u,e]);return P.useEffect(function(){var f;if(!(!R&&A)){var o=R??u[0];if(o){var r=e==null?void 0:e.find(function(v){return v.id===(o==null?void 0:o.id)});(f=r)!==null&&f!==void 0&&f.id||(r={id:o.id,name:o.name}),X(r)}}},[R,e,u,A]),(0,O.jsx)(Q.BQ,{locale:I,availableChains:kn,chain:A,account:T,balance:E?{symbol:k==null?void 0:k.symbol,value:k==null?void 0:k.value,decimals:k==null?void 0:k.decimals,icon:A==null||(c=A.nativeCurrency)===null||c===void 0?void 0:c.icon}:void 0,availableWallets:An,connect:function(){var f=y()(t()().mark(function o(r){var v,g,d;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return d=r==null||(v=(g=r).getWagmiConnector)===null||v===void 0?void 0:v.call(g),d||(d=a.find(function(En){return En.name===(r==null?void 0:r.name)})),D.next=4,wn({connector:d,chainId:A==null?void 0:A.id});case 4:case"end":return D.stop()}},o)}));return function(o){return f.apply(this,arguments)}}(),disconnect:y()(t()().mark(function f(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rn();case 2:case"end":return r.stop()}},f)})),switchChain:function(){var f=y()(t()().mark(function o(r){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:R?L==null||L(r.id):X(r);case 1:case"end":return g.stop()}},o)}));return function(o){return f.apply(this,arguments)}}(),getNFTMetadata:function(){var f=y()(t()().mark(function o(r){var v,g;return t()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return v=r.address,g=r.tokenId,j.abrupt("return",pn(v,g,R==null?void 0:R.id));case 2:case"end":return j.stop()}},o)}));return function(o){return f.apply(this,arguments)}}(),children:l})},yn=["children","assets","ens","locale","balance","config"];function Cn(p){var n=p.children,c=p.assets,l=c===void 0?[]:c,e=p.ens,u=p.locale,a=p.balance,i=p.config,E=nn()(p,yn),I=P.useMemo(function(){var h,w=[],M=q()(i.connectors),m;try{for(M.s();!(m=M.n()).done;){var T=m.value;T.chains.forEach(function(b){w.find(function(N){return N.id===b.id})||w.push(b)})}}catch(b){M.e(b)}finally{M.f()}return(h=i.publicClient.chains)===null||h===void 0||h.forEach(function(b){w.find(function(N){return N.id===b.id})||w.push(b)}),w},[i]),C=[].concat(Y()(l),[$.ny,$.Du]);return l.find(function(h){return h.name==="MetaMask"||Array.isArray(h.name)&&h.name.includes("MetaMask")})||C.unshift(rn),(0,O.jsx)(S.eM,W()(W()({config:i},E),{},{children:(0,O.jsx)(gn,{locale:u,assets:C,availableChains:I,availableConnectors:i.connectors||[],ens:e,balance:a,children:n})}))}}}]);
