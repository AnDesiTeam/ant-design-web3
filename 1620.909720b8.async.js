!(function(){var My=Object.defineProperty;var Dy=(B,x,l)=>x in B?My(B,x,{enumerable:!0,configurable:!0,writable:!0,value:l}):B[x]=l;var O=(B,x,l)=>(Dy(B,typeof x!="symbol"?x+"":x,l),l);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1620],{64230:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyType=void 0;var l;(function(u){u[u.ED25519=0]="ED25519"})(l=x.KeyType||(x.KeyType={}))},61125:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PublicKey=x.KeyPairEd25519=x.KeyPair=x.KeyType=void 0;var u=l(64230);Object.defineProperty(x,"KeyType",{enumerable:!0,get:function(){return u.KeyType}});var f=l(20181);Object.defineProperty(x,"KeyPair",{enumerable:!0,get:function(){return f.KeyPair}});var v=l(29624);Object.defineProperty(x,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var m=l(61624);Object.defineProperty(x,"PublicKey",{enumerable:!0,get:function(){return m.PublicKey}})},20181:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPair=void 0;const u=l(61736),f=l(29624);class v extends u.KeyPairBase{static fromRandom(b){switch(b.toUpperCase()){case"ED25519":return f.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${b}`)}}static fromString(b){const y=b.split(":");if(y.length===1)return new f.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new f.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}x.KeyPair=v},61736:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPairBase=void 0;class l{}x.KeyPairBase=l},29624:function(B,x,l){"use strict";var u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPairEd25519=void 0;const f=l(48797),v=u(l(15711)),m=l(64230),b=l(61736),y=l(61624);class h extends b.KeyPairBase{constructor(S){super();const k=v.default.sign.keyPair.fromSecretKey((0,f.baseDecode)(S));this.publicKey=new y.PublicKey({keyType:m.KeyType.ED25519,data:k.publicKey}),this.secretKey=S}static fromRandom(){const S=v.default.sign.keyPair();return new h((0,f.baseEncode)(S.secretKey))}sign(S){return{signature:v.default.sign.detached(S,(0,f.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(S,k){return this.publicKey.verify(S,k)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}x.KeyPairEd25519=h},61624:function(B,x,l){"use strict";var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(x,"__esModule",{value:!0}),x.PublicKey=void 0;const f=l(95036),v=l(48797),m=u(l(15711)),b=l(64230);function y(S){switch(S){case b.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${S}`)}}function h(S){switch(S.toLowerCase()){case"ed25519":return b.KeyType.ED25519;default:throw new Error(`Unknown key type ${S}`)}}class E extends f.Assignable{static from(k){return typeof k=="string"?E.fromString(k):k}static fromString(k){const R=k.split(":");if(R.length===1)return new E({keyType:b.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new E({keyType:h(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(k,R){switch(this.keyType){case b.KeyType.ED25519:return m.default.sign.detached.verify(k,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}x.PublicKey=E},76895:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyType=void 0;var l;(function(u){u[u.ED25519=0]="ED25519"})(l=x.KeyType||(x.KeyType={}))},38369:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PublicKey=x.KeyPairEd25519=x.KeyPair=x.KeyType=void 0;var u=l(76895);Object.defineProperty(x,"KeyType",{enumerable:!0,get:function(){return u.KeyType}});var f=l(89055);Object.defineProperty(x,"KeyPair",{enumerable:!0,get:function(){return f.KeyPair}});var v=l(75713);Object.defineProperty(x,"KeyPairEd25519",{enumerable:!0,get:function(){return v.KeyPairEd25519}});var m=l(21833);Object.defineProperty(x,"PublicKey",{enumerable:!0,get:function(){return m.PublicKey}})},89055:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPair=void 0;const u=l(34980),f=l(75713);class v extends u.KeyPairBase{static fromRandom(b){switch(b.toUpperCase()){case"ED25519":return f.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${b}`)}}static fromString(b){const y=b.split(":");if(y.length===1)return new f.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new f.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}x.KeyPair=v},34980:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPairBase=void 0;class l{}x.KeyPairBase=l},75713:function(B,x,l){"use strict";var u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(x,"__esModule",{value:!0}),x.KeyPairEd25519=void 0;const f=l(48797),v=u(l(15711)),m=l(76895),b=l(34980),y=l(21833);class h extends b.KeyPairBase{constructor(S){super();const k=v.default.sign.keyPair.fromSecretKey((0,f.baseDecode)(S));this.publicKey=new y.PublicKey({keyType:m.KeyType.ED25519,data:k.publicKey}),this.secretKey=S}static fromRandom(){const S=v.default.sign.keyPair();return new h((0,f.baseEncode)(S.secretKey))}sign(S){return{signature:v.default.sign.detached(S,(0,f.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(S,k){return this.publicKey.verify(S,k)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}x.KeyPairEd25519=h},21833:function(B,x,l){"use strict";var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(x,"__esModule",{value:!0}),x.PublicKey=void 0;const f=l(85918),v=l(48797),m=u(l(15711)),b=l(76895);function y(S){switch(S){case b.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${S}`)}}function h(S){switch(S.toLowerCase()){case"ed25519":return b.KeyType.ED25519;default:throw new Error(`Unknown key type ${S}`)}}class E extends f.Assignable{static from(k){return typeof k=="string"?E.fromString(k):k}static fromString(k){const R=k.split(":");if(R.length===1)return new E({keyType:b.KeyType.ED25519,data:(0,v.baseDecode)(R[0])});if(R.length===2)return new E({keyType:h(R[0]),data:(0,v.baseDecode)(R[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,v.baseEncode)(this.data)}`}verify(k,R){switch(this.keyType){case b.KeyType.ED25519:return m.default.sign.detached.verify(k,R,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}x.PublicKey=E},64091:function(B,x,l){"use strict";var u=this&&this.__awaiter||function(y,h,E,S){function k(R){return R instanceof E?R:new E(function(P){P(R)})}return new(E||(E=Promise))(function(R,P){function p(z){try{M(S.next(z))}catch(G){P(G)}}function U(z){try{M(S.throw(z))}catch(G){P(G)}}function M(z){z.done?R(z.value):k(z.value).then(p,U)}M((S=S.apply(y,h||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0}),x.BrowserLocalStorageKeyStore=void 0;const f=l(61125),v=l(38149),m="near-api-js:keystore:";class b extends v.KeyStore{constructor(h=window.localStorage,E=m){super(),this.localStorage=h,this.prefix=E}setKey(h,E,S){return u(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(h,E),S.toString())})}getKey(h,E){return u(this,void 0,void 0,function*(){const S=this.localStorage.getItem(this.storageKeyForSecretKey(h,E));return S?f.KeyPair.fromString(S):null})}removeKey(h,E){return u(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(h,E))})}clear(){return u(this,void 0,void 0,function*(){for(const h of this.storageKeys())h.startsWith(this.prefix)&&this.localStorage.removeItem(h)})}getNetworks(){return u(this,void 0,void 0,function*(){const h=new Set;for(const E of this.storageKeys())if(E.startsWith(this.prefix)){const S=E.substring(this.prefix.length).split(":");h.add(S[1])}return Array.from(h.values())})}getAccounts(h){return u(this,void 0,void 0,function*(){const E=new Array;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const k=S.substring(this.prefix.length).split(":");k[1]===h&&E.push(k[0])}return E})}storageKeyForSecretKey(h,E){return`${this.prefix}${E}:${h}`}*storageKeys(){for(let h=0;h<this.localStorage.length;h++)yield this.localStorage.key(h)}}x.BrowserLocalStorageKeyStore=b},67265:function(B,x,l){"use strict";var u;u={value:!0},x.X=void 0;var f=l(64091);Object.defineProperty(x,"X",{enumerable:!0,get:function(){return f.BrowserLocalStorageKeyStore}})},62384:function(B,x,l){"use strict";var u=this&&this.__awaiter||function(b,y,h,E){function S(k){return k instanceof h?k:new h(function(R){R(k)})}return new(h||(h=Promise))(function(k,R){function P(M){try{U(E.next(M))}catch(z){R(z)}}function p(M){try{U(E.throw(M))}catch(z){R(z)}}function U(M){M.done?k(M.value):S(M.value).then(P,p)}U((E=E.apply(b,y||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0}),x.InMemoryKeyStore=void 0;const f=l(61125),v=l(56363);class m extends v.KeyStore{constructor(){super(),this.keys={}}setKey(y,h,E){return u(this,void 0,void 0,function*(){this.keys[`${h}:${y}`]=E.toString()})}getKey(y,h){return u(this,void 0,void 0,function*(){const E=this.keys[`${h}:${y}`];return E?f.KeyPair.fromString(E):null})}removeKey(y,h){return u(this,void 0,void 0,function*(){delete this.keys[`${h}:${y}`]})}clear(){return u(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return u(this,void 0,void 0,function*(){const y=new Set;return Object.keys(this.keys).forEach(h=>{const E=h.split(":");y.add(E[1])}),Array.from(y.values())})}getAccounts(y){return u(this,void 0,void 0,function*(){const h=new Array;return Object.keys(this.keys).forEach(E=>{const S=E.split(":");S[S.length-1]===y&&h.push(S.slice(0,S.length-1).join(":"))}),h})}toString(){return"InMemoryKeyStore"}}x.InMemoryKeyStore=m},38149:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MergeKeyStore=x.KeyStore=x.InMemoryKeyStore=void 0;var u=l(62384);Object.defineProperty(x,"InMemoryKeyStore",{enumerable:!0,get:function(){return u.InMemoryKeyStore}});var f=l(56363);Object.defineProperty(x,"KeyStore",{enumerable:!0,get:function(){return f.KeyStore}});var v=l(73917);Object.defineProperty(x,"MergeKeyStore",{enumerable:!0,get:function(){return v.MergeKeyStore}})},56363:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KeyStore=void 0;class l{}x.KeyStore=l},73917:function(B,x,l){"use strict";var u=this&&this.__awaiter||function(m,b,y,h){function E(S){return S instanceof y?S:new y(function(k){k(S)})}return new(y||(y=Promise))(function(S,k){function R(U){try{p(h.next(U))}catch(M){k(M)}}function P(U){try{p(h.throw(U))}catch(M){k(M)}}function p(U){U.done?S(U.value):E(U.value).then(R,P)}p((h=h.apply(m,b||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0}),x.MergeKeyStore=void 0;const f=l(56363);class v extends f.KeyStore{constructor(b,y={writeKeyStoreIndex:0}){super(),this.options=y,this.keyStores=b}setKey(b,y,h){return u(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(b,y,h)})}getKey(b,y){return u(this,void 0,void 0,function*(){for(const h of this.keyStores){const E=yield h.getKey(b,y);if(E)return E}return null})}removeKey(b,y){return u(this,void 0,void 0,function*(){for(const h of this.keyStores)yield h.removeKey(b,y)})}clear(){return u(this,void 0,void 0,function*(){for(const b of this.keyStores)yield b.clear()})}getNetworks(){return u(this,void 0,void 0,function*(){const b=new Set;for(const y of this.keyStores)for(const h of yield y.getNetworks())b.add(h);return Array.from(b)})}getAccounts(b){return u(this,void 0,void 0,function*(){const y=new Set;for(const h of this.keyStores)for(const E of yield h.getAccounts(b))y.add(E);return Array.from(y)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}x.MergeKeyStore=v},48788:function(B,x,l){"use strict";var u=l(55872).Buffer;Object.defineProperty(x,"__esModule",{value:!0}),x.actionCreators=x.stringifyJsonOrBytes=void 0;const f=l(7632);function v(){return new f.AccessKey({permission:new f.AccessKeyPermission({fullAccess:new f.FullAccessPermission({})})})}function m(M,z,G){return new f.AccessKey({permission:new f.AccessKeyPermission({functionCall:new f.FunctionCallPermission({receiverId:M,allowance:G,methodNames:z})})})}function b(){return new f.Action({createAccount:new f.CreateAccount({})})}function y(M){return new f.Action({deployContract:new f.DeployContract({code:M})})}function h(M){return M.byteLength!==void 0&&M.byteLength===M.length?M:u.from(JSON.stringify(M))}x.stringifyJsonOrBytes=h;function E(M,z,G,j,pe=h,ye=!1){return ye?new f.Action({functionCall:new f.FunctionCall({methodName:M,args:z,gas:G,deposit:j})}):new f.Action({functionCall:new f.FunctionCall({methodName:M,args:pe(z),gas:G,deposit:j})})}function S(M){return new f.Action({transfer:new f.Transfer({deposit:M})})}function k(M,z){return new f.Action({stake:new f.Stake({stake:M,publicKey:z})})}function R(M,z){return new f.Action({addKey:new f.AddKey({publicKey:M,accessKey:z})})}function P(M){return new f.Action({deleteKey:new f.DeleteKey({publicKey:M})})}function p(M){return new f.Action({deleteAccount:new f.DeleteAccount({beneficiaryId:M})})}function U({delegateAction:M,signature:z}){return new f.Action({signedDelegate:new f.SignedDelegate({delegateAction:M,signature:z})})}x.actionCreators={addKey:R,createAccount:b,deleteAccount:p,deleteKey:P,deployContract:y,fullAccessKey:v,functionCall:E,functionCallAccessKey:m,signedDelegate:U,stake:k,transfer:S}},7632:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Action=x.SignedDelegate=x.DeleteAccount=x.DeleteKey=x.AddKey=x.Stake=x.Transfer=x.FunctionCall=x.DeployContract=x.CreateAccount=x.IAction=x.AccessKey=x.AccessKeyPermission=x.FullAccessPermission=x.FunctionCallPermission=void 0;const u=l(85918);class f{constructor(pe){if(Object.keys(pe).length!==1)throw new Error("Enum can only take single value");Object.keys(pe).map(ye=>{this[ye]=pe[ye],this.enum=ye})}}class v extends u.Assignable{}x.FunctionCallPermission=v;class m extends u.Assignable{}x.FullAccessPermission=m;class b extends f{}x.AccessKeyPermission=b;class y extends u.Assignable{}x.AccessKey=y;class h extends u.Assignable{}x.IAction=h;class E extends h{}x.CreateAccount=E;class S extends h{}x.DeployContract=S;class k extends h{}x.FunctionCall=k;class R extends h{}x.Transfer=R;class P extends h{}x.Stake=P;class p extends h{}x.AddKey=p;class U extends h{}x.DeleteKey=U;class M extends h{}x.DeleteAccount=M;class z extends h{}x.SignedDelegate=z;class G extends f{}x.Action=G},51084:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.createTransaction=void 0;const u=l(56855);function f(v,m,b,y,h,E){return new u.Transaction({signerId:v,publicKey:m,nonce:y,receiverId:b,actions:h,blockHash:E})}x.createTransaction=f},72864:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.buildDelegateAction=x.DelegateAction=void 0;const u=l(85918);class f extends u.Assignable{}x.DelegateAction=f;function v({actions:m,maxBlockHeight:b,nonce:y,publicKey:h,receiverId:E,senderId:S}){return new f({senderId:S,receiverId:E,actions:m,nonce:y,maxBlockHeight:b,publicKey:h})}x.buildDelegateAction=v},7782:function(B,x,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,y){y===void 0&&(y=b);var h=Object.getOwnPropertyDescriptor(m,b);(!h||("get"in h?!m.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,y,h)}:function(v,m,b,y){y===void 0&&(y=b),v[y]=m[b]}),f=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(x,"__esModule",{value:!0}),f(l(48788),x),f(l(7632),x),f(l(51084),x),f(l(72864),x),f(l(56855),x),f(l(65086),x),f(l(6409),x)},59659:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.DelegateActionPrefix=void 0;const u=l(85918),f=Math.pow(2,30),v={MetaTransactions:366};class m extends u.Assignable{}class b extends m{constructor(E){super({prefix:f+E})}}class y extends b{constructor(){super(v.MetaTransactions)}}x.DelegateActionPrefix=y},56855:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SCHEMA=x.SignedTransaction=x.Transaction=x.decodeSignedTransaction=x.decodeTransaction=x.encodeTransaction=x.encodeSignedDelegate=x.encodeDelegateAction=void 0;const u=l(38369),f=l(85918),v=l(48797),m=l(7632),b=l(72864),y=l(59659),h=l(6409);function E(M){return new Uint8Array([...(0,v.serialize)(x.SCHEMA,new y.DelegateActionPrefix),...(0,v.serialize)(x.SCHEMA,M)])}x.encodeDelegateAction=E;function S(M){return(0,v.serialize)(x.SCHEMA,M)}x.encodeSignedDelegate=S;function k(M){return(0,v.serialize)(x.SCHEMA,M)}x.encodeTransaction=k;function R(M){return(0,v.deserialize)(x.SCHEMA,p,M)}x.decodeTransaction=R;function P(M){return(0,v.deserialize)(x.SCHEMA,U,M)}x.decodeSignedTransaction=P;class p extends f.Assignable{encode(){return k(this)}static decode(z){return R(z)}}x.Transaction=p;class U extends f.Assignable{encode(){return k(this)}static decode(z){return P(z)}}x.SignedTransaction=U,x.SCHEMA=new Map([[h.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[U,{kind:"struct",fields:[["transaction",p],["signature",h.Signature]]}],[p,{kind:"struct",fields:[["signerId","string"],["publicKey",u.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[m.Action]]]}],[u.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[m.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",m.AccessKeyPermission]]}],[m.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",m.FunctionCallPermission],["fullAccess",m.FullAccessPermission]]}],[m.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[m.FullAccessPermission,{kind:"struct",fields:[]}],[m.Action,{kind:"enum",field:"enum",values:[["createAccount",m.CreateAccount],["deployContract",m.DeployContract],["functionCall",m.FunctionCall],["transfer",m.Transfer],["stake",m.Stake],["addKey",m.AddKey],["deleteKey",m.DeleteKey],["deleteAccount",m.DeleteAccount],["signedDelegate",m.SignedDelegate]]}],[m.CreateAccount,{kind:"struct",fields:[]}],[m.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[m.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[m.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[m.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",u.PublicKey]]}],[m.AddKey,{kind:"struct",fields:[["publicKey",u.PublicKey],["accessKey",m.AccessKey]]}],[m.DeleteKey,{kind:"struct",fields:[["publicKey",u.PublicKey]]}],[m.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[b.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[m.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",u.PublicKey]]}],[y.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[m.SignedDelegate,{kind:"struct",fields:[["delegateAction",b.DelegateAction],["signature",h.Signature]]}]])},65086:function(B,x,l){"use strict";var u=this&&this.__awaiter||function(R,P,p,U){function M(z){return z instanceof p?z:new p(function(G){G(z)})}return new(p||(p=Promise))(function(z,G){function j(F){try{ye(U.next(F))}catch(V){G(V)}}function pe(F){try{ye(U.throw(F))}catch(V){G(V)}}function ye(F){F.done?z(F.value):M(F.value).then(j,pe)}ye((U=U.apply(R,P||[])).next())})},f=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(x,"__esModule",{value:!0}),x.signDelegateAction=x.signTransaction=void 0;const v=f(l(3541)),m=l(7632),b=l(51084),y=l(56855),h=l(6409);function E(R,P,p,U){return u(this,void 0,void 0,function*(){const M=(0,y.encodeTransaction)(R),z=new Uint8Array(v.default.sha256.array(M)),G=yield P.signMessage(M,p,U),j=new y.SignedTransaction({transaction:R,signature:new h.Signature({keyType:R.publicKey.keyType,data:G.signature})});return[z,j]})}function S(...R){return u(this,void 0,void 0,function*(){if(R[0].constructor===y.Transaction){const[P,p,U,M]=R;return E(P,p,U,M)}else{const[P,p,U,M,z,G,j]=R,pe=yield z.getPublicKey(G,j),ye=(0,b.createTransaction)(G,pe,P,p,U,M);return E(ye,z,G,j)}})}x.signTransaction=S;function k({delegateAction:R,signer:P}){return u(this,void 0,void 0,function*(){const p=(0,y.encodeDelegateAction)(R),U=yield P.sign(p),M=new m.SignedDelegate({delegateAction:R,signature:new h.Signature({keyType:R.publicKey.keyType,data:U})});return{hash:new Uint8Array(v.default.sha256.array(p)),signedDelegateAction:M}})}x.signDelegateAction=k},6409:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Signature=void 0;const u=l(85918);class f extends u.Assignable{}x.Signature=f},99491:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Assignable=void 0;class l{constructor(f){Object.keys(f).map(v=>{this[v]=f[v]})}}x.Assignable=l},84770:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ErrorContext=x.TypedError=x.ArgumentTypeError=x.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}x.PositionalArgsError=l;class u extends Error{constructor(b,y,h){super(`Expected ${y} for '${b}' argument, but got '${JSON.stringify(h)}'`)}}x.ArgumentTypeError=u;class f extends Error{constructor(b,y,h){super(b),this.type=y||"UntypedError",this.context=h}}x.TypedError=f;class v{constructor(b){this.transactionHash=b}}x.ErrorContext=v},95036:function(B,x,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,y){y===void 0&&(y=b);var h=Object.getOwnPropertyDescriptor(m,b);(!h||("get"in h?!m.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,y,h)}:function(v,m,b,y){y===void 0&&(y=b),v[y]=m[b]}),f=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(x,"__esModule",{value:!0}),f(l(99491),x),f(l(84770),x),f(l(61721),x)},61721:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FinalExecutionStatusBasic=x.ExecutionStatusBasic=x.IdType=void 0;var u=l(88297);Object.defineProperty(x,"IdType",{enumerable:!0,get:function(){return u.IdType}});var f=l(20862);Object.defineProperty(x,"ExecutionStatusBasic",{enumerable:!0,get:function(){return f.ExecutionStatusBasic}}),Object.defineProperty(x,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return f.FinalExecutionStatusBasic}})},88297:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.IdType=void 0;var l;(function(u){u.Transaction="transaction",u.Receipt="receipt"})(l=x.IdType||(x.IdType={}))},20862:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FinalExecutionStatusBasic=x.ExecutionStatusBasic=void 0;var l;(function(f){f.Unknown="Unknown",f.Pending="Pending",f.Failure="Failure"})(l=x.ExecutionStatusBasic||(x.ExecutionStatusBasic={}));var u;(function(f){f.NotStarted="NotStarted",f.Started="Started",f.Failure="Failure"})(u=x.FinalExecutionStatusBasic||(x.FinalExecutionStatusBasic={}))},94510:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Assignable=void 0;class l{constructor(f){Object.keys(f).map(v=>{this[v]=f[v]})}}x.Assignable=l},65499:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ErrorContext=x.TypedError=x.ArgumentTypeError=x.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}x.PositionalArgsError=l;class u extends Error{constructor(b,y,h){super(`Expected ${y} for '${b}' argument, but got '${JSON.stringify(h)}'`)}}x.ArgumentTypeError=u;class f extends Error{constructor(b,y,h){super(b),this.type=y||"UntypedError",this.context=h}}x.TypedError=f;class v{constructor(b){this.transactionHash=b}}x.ErrorContext=v},85918:function(B,x,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(v,m,b,y){y===void 0&&(y=b);var h=Object.getOwnPropertyDescriptor(m,b);(!h||("get"in h?!m.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(v,y,h)}:function(v,m,b,y){y===void 0&&(y=b),v[y]=m[b]}),f=this&&this.__exportStar||function(v,m){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(m,b)&&u(m,v,b)};Object.defineProperty(x,"__esModule",{value:!0}),f(l(94510),x),f(l(65499),x),f(l(90835),x)},90835:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FinalExecutionStatusBasic=x.ExecutionStatusBasic=x.IdType=void 0;var u=l(42164);Object.defineProperty(x,"IdType",{enumerable:!0,get:function(){return u.IdType}});var f=l(6595);Object.defineProperty(x,"ExecutionStatusBasic",{enumerable:!0,get:function(){return f.ExecutionStatusBasic}}),Object.defineProperty(x,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return f.FinalExecutionStatusBasic}})},42164:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.IdType=void 0;var l;(function(u){u.Transaction="transaction",u.Receipt="receipt"})(l=x.IdType||(x.IdType={}))},6595:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FinalExecutionStatusBasic=x.ExecutionStatusBasic=void 0;var l;(function(f){f.Unknown="Unknown",f.Pending="Pending",f.Failure="Failure"})(l=x.ExecutionStatusBasic||(x.ExecutionStatusBasic={}));var u;(function(f){f.NotStarted="NotStarted",f.Started="Started",f.Failure="Failure"})(u=x.FinalExecutionStatusBasic||(x.FinalExecutionStatusBasic={}))},98316:function(B,x,l){"use strict";var u;u={value:!0},x.Z1=u=u=u=u=u=void 0;const f=l(29415),v=l(14400),m=l(40117),b=l(45018),y=l(79426),h=l(30158),E=F=>F[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function S(F){if(typeof F!="string")throw new TypeError(`Invalid mnemonic type: ${typeof F}`);return F.normalize("NFKD")}function k(F){const V=S(F),de=V.split(" ");if(![12,15,18,21,24].includes(de.length))throw new Error("Invalid mnemonic");return{nfkd:V,words:de}}function R(F){f.default.bytes(F,16,20,24,28,32)}function P(F,V=128){if(f.default.number(V),V%32!==0||V>256)throw new TypeError("Invalid entropy");return z((0,y.randomBytes)(V/8),F)}u=P;const p=F=>{const V=8-F.length/4;return new Uint8Array([(0,m.sha256)(F)[0]>>V<<V])};function U(F){if(!Array.isArray(F)||F.length!==2**11||typeof F[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return F.forEach(V=>{if(typeof V!="string")throw new Error(`Wordlist: non-string element: ${V}`)}),h.utils.chain(h.utils.checksum(1,p),h.utils.radix2(11,!0),h.utils.alphabet(F))}function M(F,V){const{words:de}=k(F),Te=U(V).decode(de);return R(Te),Te}u=M;function z(F,V){return R(F),U(V).encode(F).join(E(V)?"\u3000":" ")}u=z;function G(F,V){try{M(F,V)}catch{return!1}return!0}u=G;const j=F=>S(`mnemonic${F}`);function pe(F,V=""){return(0,v.pbkdf2Async)(b.sha512,k(F).nfkd,j(V),{c:2048,dkLen:64})}u=pe;function ye(F,V=""){return(0,v.pbkdf2)(b.sha512,k(F).nfkd,j(V),{c:2048,dkLen:64})}x.Z1=ye},33649:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0})},14676:function(B,x,l){"use strict";var u=this&&this.__createBinding||(Object.create?function(m,b,y,h){h===void 0&&(h=y);var E=Object.getOwnPropertyDescriptor(b,y);(!E||("get"in E?!b.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(m,h,E)}:function(m,b,y,h){h===void 0&&(h=y),m[h]=b[y]}),f=this&&this.__exportStar||function(m,b){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(b,y)&&u(b,m,y)};Object.defineProperty(x,"__esModule",{value:!0});const v=l(67301);x.default=v.PromisePool,f(l(33649),x),f(l(67301),x),f(l(17090),x),f(l(58059),x),f(l(23457),x),f(l(12559),x)},17090:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PromisePoolError=void 0;class l extends Error{constructor(f,v){super(),this.raw=f,this.item=v,this.name=this.constructor.name,this.message=this.messageFrom(f),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(f,v){return new this(f,v)}messageFrom(f){return f instanceof Error||typeof f=="object"?f.message:typeof f=="string"||typeof f=="number"?f.toString():""}}x.PromisePoolError=l},26610:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PromisePoolExecutor=void 0;const u=l(67301),f=l(17090),v=l(23457),m=l(12559);class b{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(h){if(!this.isValidConcurrency(h))throw m.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${h}" (${typeof h})`);return this.meta.concurrency=h,this}isValidConcurrency(h){return typeof h=="number"&&h>=1}withTaskTimeout(h){return this.meta.taskTimeout=h,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(h){return this.meta.shouldResultsCorrespond=h,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(h){return this.meta.items=h,this}items(){return this.meta.items}itemsCount(){const h=this.items();return Array.isArray(h)?h.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(h){return this.handler=h,this}hasErrorHandler(){return!!this.errorHandler}handleError(h){return this.errorHandler=h,this}onTaskStarted(h){return this.onTaskStartedHandlers=h,this}onTaskFinished(h){return this.onTaskFinishedHandlers=h,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new v.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw m.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const h=this.taskTimeout();if(!(h==null||typeof h=="number"&&h>=0))throw m.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(h)}" (${typeof h})`);if(!this.areItemsValid())throw m.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw m.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(E=>{if(E&&typeof E!="function")throw m.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof E}"`)}),this.onTaskFinishedHandlers.forEach(E=>{if(E&&typeof E!="function")throw m.ValidationError.createFrom(`The error handler must be a function. Received "${typeof E}"`)}),this}areItemsValid(){const h=this.items();return!!(Array.isArray(h)||typeof h[Symbol.iterator]=="function"||typeof h[Symbol.asyncIterator]=="function")}prepareResultsArray(){const h=this.items();return Array.isArray(h)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(h.length).fill(u.PromisePool.notRun),this):this:this}async process(){let h=0;for await(const E of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[h]=u.PromisePool.notRun),this.startProcessing(E,h),h+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(h,E){const S=this.createTaskFor(h,E).then(k=>{this.save(k,E).removeActive(S)}).catch(async k=>{await this.handleErrorFor(k,h,E),this.removeActive(S)}).finally(()=>{this.processedItems().push(h),this.runOnTaskFinishedHandlers(h)});this.tasks().push(S),this.runOnTaskStartedHandlers(h)}async createTaskFor(h,E){if(this.taskTimeout()===void 0)return this.handler(h,E,this);const[S,k]=this.createTaskTimeout(h);return Promise.race([this.handler(h,E,this),S()]).finally(k)}createTaskTimeout(h){let E;return[async()=>new Promise((R,P)=>{E=setTimeout(()=>{P(new f.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,h))},this.taskTimeout())}),()=>clearTimeout(E)]}save(h,E){return this.shouldUseCorrespondingResults()?this.results()[E]=h:this.results().push(h),this}removeActive(h){return this.tasks().splice(this.tasks().indexOf(h),1),this}async handleErrorFor(h,E,S){if(this.shouldUseCorrespondingResults()&&(this.results()[S]=u.PromisePool.failed),!this.isStoppingThePoolError(h)){if(this.isValidationError(h))throw this.markAsStopped(),h;this.hasErrorHandler()?await this.runErrorHandlerFor(h,E):this.saveErrorFor(h,E)}}isStoppingThePoolError(h){return h instanceof v.StopThePromisePoolError}isValidationError(h){return h instanceof m.ValidationError}async runErrorHandlerFor(h,E){var S;try{await((S=this.errorHandler)==null?void 0:S.call(this,h,E,this))}catch(k){this.rethrowIfNotStoppingThePool(k)}}runOnTaskStartedHandlers(h){this.onTaskStartedHandlers.forEach(E=>{E(h,this)})}runOnTaskFinishedHandlers(h){this.onTaskFinishedHandlers.forEach(E=>{E(h,this)})}rethrowIfNotStoppingThePool(h){if(!this.isStoppingThePoolError(h))throw h}saveErrorFor(h,E){this.errors().push(f.PromisePoolError.createFrom(h,E))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}x.PromisePoolExecutor=b},67301:function(B,x,l){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PromisePool=void 0;const u=l(26610);class f{constructor(m){this.timeout=void 0,this.concurrency=10,this.items=m??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(m){return this.concurrency=m,this}static withConcurrency(m){return new this().withConcurrency(m)}withTaskTimeout(m){return this.timeout=m,this}static withTaskTimeout(m){return new this().withTaskTimeout(m)}for(m){const b=new f(m).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&b.handleError(this.errorHandler),typeof this.timeout=="number"?b.withTaskTimeout(this.timeout):b}static for(m){return new this().for(m)}handleError(m){return this.errorHandler=m,this}onTaskStarted(m){return this.onTaskStartedHandlers.push(m),this}onTaskFinished(m){return this.onTaskFinishedHandlers.push(m),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(m){return new u.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(m).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}x.PromisePool=f,f.notRun=Symbol("notRun"),f.failed=Symbol("failed")},58059:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0})},23457:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.StopThePromisePoolError=void 0;class l extends Error{}x.StopThePromisePoolError=l},12559:function(B,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ValidationError=void 0;class l extends Error{constructor(f){super(f),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(f){return new this(f)}}x.ValidationError=l},39556:function(B){"use strict";(function(x){function l(D){return parseInt(D)===D}function u(D){if(!l(D.length))return!1;for(var q=0;q<D.length;q++)if(!l(D[q])||D[q]<0||D[q]>255)return!1;return!0}function f(D,q){if(D.buffer&&ArrayBuffer.isView(D)&&D.name==="Uint8Array")return q&&(D.slice?D=D.slice():D=Array.prototype.slice.call(D)),D;if(Array.isArray(D)){if(!u(D))throw new Error("Array contains invalid value: "+D);return new Uint8Array(D)}if(l(D.length)&&u(D))return new Uint8Array(D);throw new Error("unsupported array-like object")}function v(D){return new Uint8Array(D)}function m(D,q,ae,W,Z){(W!=null||Z!=null)&&(D.slice?D=D.slice(W,Z):D=Array.prototype.slice.call(D,W,Z)),q.set(D,ae)}var b=function(){function D(ae){var W=[],Z=0;for(ae=encodeURI(ae);Z<ae.length;){var me=ae.charCodeAt(Z++);me===37?(W.push(parseInt(ae.substr(Z,2),16)),Z+=2):W.push(me)}return f(W)}function q(ae){for(var W=[],Z=0;Z<ae.length;){var me=ae[Z];me<128?(W.push(String.fromCharCode(me)),Z++):me>191&&me<224?(W.push(String.fromCharCode((me&31)<<6|ae[Z+1]&63)),Z+=2):(W.push(String.fromCharCode((me&15)<<12|(ae[Z+1]&63)<<6|ae[Z+2]&63)),Z+=3)}return W.join("")}return{toBytes:D,fromBytes:q}}(),y=function(){function D(W){for(var Z=[],me=0;me<W.length;me+=2)Z.push(parseInt(W.substr(me,2),16));return Z}var q="0123456789abcdef";function ae(W){for(var Z=[],me=0;me<W.length;me++){var ve=W[me];Z.push(q[(ve&240)>>4]+q[ve&15])}return Z.join("")}return{toBytes:D,fromBytes:ae}}(),h={16:10,24:12,32:14},E=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],k=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],R=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],P=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],p=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],M=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],z=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],G=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],j=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],pe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ye=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],V=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function de(D){for(var q=[],ae=0;ae<D.length;ae+=4)q.push(D[ae]<<24|D[ae+1]<<16|D[ae+2]<<8|D[ae+3]);return q}var Te=function(D){if(!(this instanceof Te))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:f(D,!0)}),this._prepare()};Te.prototype._prepare=function(){var D=h[this.key.length];if(D==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var q=0;q<=D;q++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var ae=(D+1)*4,W=this.key.length/4,Z=de(this.key),me,q=0;q<W;q++)me=q>>2,this._Ke[me][q%4]=Z[q],this._Kd[D-me][q%4]=Z[q];for(var ve=0,Pe=W,Ke;Pe<ae;){if(Ke=Z[W-1],Z[0]^=S[Ke>>16&255]<<24^S[Ke>>8&255]<<16^S[Ke&255]<<8^S[Ke>>24&255]^E[ve]<<24,ve+=1,W!=8)for(var q=1;q<W;q++)Z[q]^=Z[q-1];else{for(var q=1;q<W/2;q++)Z[q]^=Z[q-1];Ke=Z[W/2-1],Z[W/2]^=S[Ke&255]^S[Ke>>8&255]<<8^S[Ke>>16&255]<<16^S[Ke>>24&255]<<24;for(var q=W/2+1;q<W;q++)Z[q]^=Z[q-1]}for(var q=0,St,mt;q<W&&Pe<ae;)St=Pe>>2,mt=Pe%4,this._Ke[St][mt]=Z[q],this._Kd[D-St][mt]=Z[q++],Pe++}for(var St=1;St<D;St++)for(var mt=0;mt<4;mt++)Ke=this._Kd[St][mt],this._Kd[St][mt]=pe[Ke>>24&255]^ye[Ke>>16&255]^F[Ke>>8&255]^V[Ke&255]},Te.prototype.encrypt=function(D){if(D.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var q=this._Ke.length-1,ae=[0,0,0,0],W=de(D),Z=0;Z<4;Z++)W[Z]^=this._Ke[0][Z];for(var me=1;me<q;me++){for(var Z=0;Z<4;Z++)ae[Z]=R[W[Z]>>24&255]^P[W[(Z+1)%4]>>16&255]^p[W[(Z+2)%4]>>8&255]^U[W[(Z+3)%4]&255]^this._Ke[me][Z];W=ae.slice()}for(var ve=v(16),Pe,Z=0;Z<4;Z++)Pe=this._Ke[q][Z],ve[4*Z]=(S[W[Z]>>24&255]^Pe>>24)&255,ve[4*Z+1]=(S[W[(Z+1)%4]>>16&255]^Pe>>16)&255,ve[4*Z+2]=(S[W[(Z+2)%4]>>8&255]^Pe>>8)&255,ve[4*Z+3]=(S[W[(Z+3)%4]&255]^Pe)&255;return ve},Te.prototype.decrypt=function(D){if(D.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var q=this._Kd.length-1,ae=[0,0,0,0],W=de(D),Z=0;Z<4;Z++)W[Z]^=this._Kd[0][Z];for(var me=1;me<q;me++){for(var Z=0;Z<4;Z++)ae[Z]=M[W[Z]>>24&255]^z[W[(Z+3)%4]>>16&255]^G[W[(Z+2)%4]>>8&255]^j[W[(Z+1)%4]&255]^this._Kd[me][Z];W=ae.slice()}for(var ve=v(16),Pe,Z=0;Z<4;Z++)Pe=this._Kd[q][Z],ve[4*Z]=(k[W[Z]>>24&255]^Pe>>24)&255,ve[4*Z+1]=(k[W[(Z+3)%4]>>16&255]^Pe>>16)&255,ve[4*Z+2]=(k[W[(Z+2)%4]>>8&255]^Pe>>8)&255,ve[4*Z+3]=(k[W[(Z+1)%4]&255]^Pe)&255;return ve};var ke=function(D){if(!(this instanceof ke))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Te(D)};ke.prototype.encrypt=function(D){if(D=f(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var q=v(D.length),ae=v(16),W=0;W<D.length;W+=16)m(D,ae,0,W,W+16),ae=this._aes.encrypt(ae),m(ae,q,W);return q},ke.prototype.decrypt=function(D){if(D=f(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var q=v(D.length),ae=v(16),W=0;W<D.length;W+=16)m(D,ae,0,W,W+16),ae=this._aes.decrypt(ae),m(ae,q,W);return q};var ce=function(D,q){if(!(this instanceof ce))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!q)q=v(16);else if(q.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=f(q,!0),this._aes=new Te(D)};ce.prototype.encrypt=function(D){if(D=f(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var q=v(D.length),ae=v(16),W=0;W<D.length;W+=16){m(D,ae,0,W,W+16);for(var Z=0;Z<16;Z++)ae[Z]^=this._lastCipherblock[Z];this._lastCipherblock=this._aes.encrypt(ae),m(this._lastCipherblock,q,W)}return q},ce.prototype.decrypt=function(D){if(D=f(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var q=v(D.length),ae=v(16),W=0;W<D.length;W+=16){m(D,ae,0,W,W+16),ae=this._aes.decrypt(ae);for(var Z=0;Z<16;Z++)q[W+Z]=ae[Z]^this._lastCipherblock[Z];m(D,this._lastCipherblock,0,W,W+16)}return q};var Se=function(D,q,ae){if(!(this instanceof Se))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!q)q=v(16);else if(q.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");ae||(ae=1),this.segmentSize=ae,this._shiftRegister=f(q,!0),this._aes=new Te(D)};Se.prototype.encrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var q=f(D,!0),ae,W=0;W<q.length;W+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var Z=0;Z<this.segmentSize;Z++)q[W+Z]^=ae[Z];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(q,this._shiftRegister,16-this.segmentSize,W,W+this.segmentSize)}return q},Se.prototype.decrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var q=f(D,!0),ae,W=0;W<q.length;W+=this.segmentSize){ae=this._aes.encrypt(this._shiftRegister);for(var Z=0;Z<this.segmentSize;Z++)q[W+Z]^=ae[Z];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(D,this._shiftRegister,16-this.segmentSize,W,W+this.segmentSize)}return q};var we=function(D,q){if(!(this instanceof we))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!q)q=v(16);else if(q.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=f(q,!0),this._lastPrecipherIndex=16,this._aes=new Te(D)};we.prototype.encrypt=function(D){for(var q=f(D,!0),ae=0;ae<q.length;ae++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),q[ae]^=this._lastPrecipher[this._lastPrecipherIndex++];return q},we.prototype.decrypt=we.prototype.encrypt;var Ie=function(D){if(!(this instanceof Ie))throw Error("Counter must be instanitated with `new`");D!==0&&!D&&(D=1),typeof D=="number"?(this._counter=v(16),this.setValue(D)):this.setBytes(D)};Ie.prototype.setValue=function(D){if(typeof D!="number"||parseInt(D)!=D)throw new Error("invalid counter value (must be an integer)");for(var q=15;q>=0;--q)this._counter[q]=D%256,D=D>>8},Ie.prototype.setBytes=function(D){if(D=f(D,!0),D.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=D},Ie.prototype.increment=function(){for(var D=15;D>=0;D--)if(this._counter[D]===255)this._counter[D]=0;else{this._counter[D]++;break}};var He=function(D,q){if(!(this instanceof He))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",q instanceof Ie||(q=new Ie(q)),this._counter=q,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Te(D)};He.prototype.encrypt=function(D){for(var q=f(D,!0),ae=0;ae<q.length;ae++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),q[ae]^=this._remainingCounter[this._remainingCounterIndex++];return q},He.prototype.decrypt=He.prototype.encrypt;function ft(D){D=f(D,!0);var q=16-D.length%16,ae=v(D.length+q);m(D,ae);for(var W=D.length;W<ae.length;W++)ae[W]=q;return ae}function nt(D){if(D=f(D,!0),D.length<16)throw new Error("PKCS#7 invalid length");var q=D[D.length-1];if(q>16)throw new Error("PKCS#7 padding byte out of range");for(var ae=D.length-q,W=0;W<q;W++)if(D[ae+W]!==q)throw new Error("PKCS#7 invalid padding byte");var Z=v(ae);return m(D,Z,0,0,ae),Z}var X={AES:Te,Counter:Ie,ModeOfOperation:{ecb:ke,cbc:ce,cfb:Se,ofb:we,ctr:He},utils:{hex:y,utf8:b},padding:{pkcs7:{pad:ft,strip:nt}},_arrayTest:{coerceArray:f,createArray:v,copyArray:m}};B.exports=X})(this)},29938:function(B,x,l){var u=l(38032);function f(v,m){function b(y,h){var E=m||{},S;"randomize"in E||(E.randomize=!0),S=u.operation(E);function k(p){h(p||new Error("Aborted"))}function R(p,U){if(p.bail){k(p);return}S.retry(p)?E.onRetry&&E.onRetry(p,U):h(S.mainError())}function P(p){var U;try{U=v(k,p)}catch(M){R(M,p);return}Promise.resolve(U).then(y).catch(function(z){R(z,p)})}S.attempt(P)}return new Promise(b)}B.exports=f},11674:function(B,x,l){B.exports=l(78433)},30337:function(B,x,l){"use strict";var u=l(25223),f=l(7642),v=l(97103),m=l(82230),b=l(20380),y=l(3444),h=l(34807),E=l(95190),S=l(97022),k=l(94278),R=l(48605);B.exports=function(p){return new Promise(function(M,z){var G=p.data,j=p.headers,pe=p.responseType,ye;function F(){p.cancelToken&&p.cancelToken.unsubscribe(ye),p.signal&&p.signal.removeEventListener("abort",ye)}u.isFormData(G)&&u.isStandardBrowserEnv()&&delete j["Content-Type"];var V=new XMLHttpRequest;if(p.auth){var de=p.auth.username||"",Te=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";j.Authorization="Basic "+btoa(de+":"+Te)}var ke=b(p.baseURL,p.url);V.open(p.method.toUpperCase(),m(ke,p.params,p.paramsSerializer),!0),V.timeout=p.timeout;function ce(){if(V){var Ie="getAllResponseHeaders"in V?y(V.getAllResponseHeaders()):null,He=!pe||pe==="text"||pe==="json"?V.responseText:V.response,ft={data:He,status:V.status,statusText:V.statusText,headers:Ie,config:p,request:V};f(function(X){M(X),F()},function(X){z(X),F()},ft),V=null}}if("onloadend"in V?V.onloadend=ce:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(ce)},V.onabort=function(){V&&(z(new S("Request aborted",S.ECONNABORTED,p,V)),V=null)},V.onerror=function(){z(new S("Network Error",S.ERR_NETWORK,p,V,V)),V=null},V.ontimeout=function(){var He=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",ft=p.transitional||E;p.timeoutErrorMessage&&(He=p.timeoutErrorMessage),z(new S(He,ft.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,p,V)),V=null},u.isStandardBrowserEnv()){var Se=(p.withCredentials||h(ke))&&p.xsrfCookieName?v.read(p.xsrfCookieName):void 0;Se&&(j[p.xsrfHeaderName]=Se)}"setRequestHeader"in V&&u.forEach(j,function(He,ft){typeof G>"u"&&ft.toLowerCase()==="content-type"?delete j[ft]:V.setRequestHeader(ft,He)}),u.isUndefined(p.withCredentials)||(V.withCredentials=!!p.withCredentials),pe&&pe!=="json"&&(V.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&V.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&V.upload&&V.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(ye=function(Ie){V&&(z(!Ie||Ie&&Ie.type?new k:Ie),V.abort(),V=null)},p.cancelToken&&p.cancelToken.subscribe(ye),p.signal&&(p.signal.aborted?ye():p.signal.addEventListener("abort",ye))),G||(G=null);var we=R(ke);if(we&&["http","https","file"].indexOf(we)===-1){z(new S("Unsupported protocol "+we+":",S.ERR_BAD_REQUEST,p));return}V.send(G)})}},78433:function(B,x,l){"use strict";var u=l(25223),f=l(84744),v=l(41633),m=l(46995),b=l(86154);function y(E){var S=new v(E),k=f(v.prototype.request,S);return u.extend(k,v.prototype,S),u.extend(k,S),k.create=function(P){return y(m(E,P))},k}var h=y(b);h.Axios=v,h.CanceledError=l(94278),h.CancelToken=l(22079),h.isCancel=l(79898),h.VERSION=l(52518).version,h.toFormData=l(7167),h.AxiosError=l(97022),h.Cancel=h.CanceledError,h.all=function(S){return Promise.all(S)},h.spread=l(80765),h.isAxiosError=l(49421),B.exports=h,B.exports.default=h},22079:function(B,x,l){"use strict";var u=l(94278);function f(v){if(typeof v!="function")throw new TypeError("executor must be a function.");var m;this.promise=new Promise(function(h){m=h});var b=this;this.promise.then(function(y){if(b._listeners){var h,E=b._listeners.length;for(h=0;h<E;h++)b._listeners[h](y);b._listeners=null}}),this.promise.then=function(y){var h,E=new Promise(function(S){b.subscribe(S),h=S}).then(y);return E.cancel=function(){b.unsubscribe(h)},E},v(function(h){b.reason||(b.reason=new u(h),m(b.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.prototype.subscribe=function(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]},f.prototype.unsubscribe=function(m){if(this._listeners){var b=this._listeners.indexOf(m);b!==-1&&this._listeners.splice(b,1)}},f.source=function(){var m,b=new f(function(h){m=h});return{token:b,cancel:m}},B.exports=f},94278:function(B,x,l){"use strict";var u=l(97022),f=l(25223);function v(m){u.call(this,m??"canceled",u.ERR_CANCELED),this.name="CanceledError"}f.inherits(v,u,{__CANCEL__:!0}),B.exports=v},79898:function(B){"use strict";B.exports=function(l){return!!(l&&l.__CANCEL__)}},41633:function(B,x,l){"use strict";var u=l(25223),f=l(82230),v=l(95469),m=l(81917),b=l(46995),y=l(20380),h=l(29132),E=h.validators;function S(k){this.defaults=k,this.interceptors={request:new v,response:new v}}S.prototype.request=function(R,P){typeof R=="string"?(P=P||{},P.url=R):P=R||{},P=b(this.defaults,P),P.method?P.method=P.method.toLowerCase():this.defaults.method?P.method=this.defaults.method.toLowerCase():P.method="get";var p=P.transitional;p!==void 0&&h.assertOptions(p,{silentJSONParsing:E.transitional(E.boolean),forcedJSONParsing:E.transitional(E.boolean),clarifyTimeoutError:E.transitional(E.boolean)},!1);var U=[],M=!0;this.interceptors.request.forEach(function(de){typeof de.runWhen=="function"&&de.runWhen(P)===!1||(M=M&&de.synchronous,U.unshift(de.fulfilled,de.rejected))});var z=[];this.interceptors.response.forEach(function(de){z.push(de.fulfilled,de.rejected)});var G;if(!M){var j=[m,void 0];for(Array.prototype.unshift.apply(j,U),j=j.concat(z),G=Promise.resolve(P);j.length;)G=G.then(j.shift(),j.shift());return G}for(var pe=P;U.length;){var ye=U.shift(),F=U.shift();try{pe=ye(pe)}catch(V){F(V);break}}try{G=m(pe)}catch(V){return Promise.reject(V)}for(;z.length;)G=G.then(z.shift(),z.shift());return G},S.prototype.getUri=function(R){R=b(this.defaults,R);var P=y(R.baseURL,R.url);return f(P,R.params,R.paramsSerializer)},u.forEach(["delete","get","head","options"],function(R){S.prototype[R]=function(P,p){return this.request(b(p||{},{method:R,url:P,data:(p||{}).data}))}}),u.forEach(["post","put","patch"],function(R){function P(p){return function(M,z,G){return this.request(b(G||{},{method:R,headers:p?{"Content-Type":"multipart/form-data"}:{},url:M,data:z}))}}S.prototype[R]=P(),S.prototype[R+"Form"]=P(!0)}),B.exports=S},97022:function(B,x,l){"use strict";var u=l(25223);function f(b,y,h,E,S){Error.call(this),this.message=b,this.name="AxiosError",y&&(this.code=y),h&&(this.config=h),E&&(this.request=E),S&&(this.response=S)}u.inherits(f,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var v=f.prototype,m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(b){m[b]={value:b}}),Object.defineProperties(f,m),Object.defineProperty(v,"isAxiosError",{value:!0}),f.from=function(b,y,h,E,S,k){var R=Object.create(v);return u.toFlatObject(b,R,function(p){return p!==Error.prototype}),f.call(R,b.message,y,h,E,S),R.name=b.name,k&&Object.assign(R,k),R},B.exports=f},95469:function(B,x,l){"use strict";var u=l(25223);function f(){this.handlers=[]}f.prototype.use=function(m,b,y){return this.handlers.push({fulfilled:m,rejected:b,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1},f.prototype.eject=function(m){this.handlers[m]&&(this.handlers[m]=null)},f.prototype.forEach=function(m){u.forEach(this.handlers,function(y){y!==null&&m(y)})},B.exports=f},20380:function(B,x,l){"use strict";var u=l(36887),f=l(96904);B.exports=function(m,b){return m&&!u(b)?f(m,b):b}},81917:function(B,x,l){"use strict";var u=l(25223),f=l(42471),v=l(79898),m=l(86154),b=l(94278);function y(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new b}B.exports=function(E){y(E),E.headers=E.headers||{},E.data=f.call(E,E.data,E.headers,E.transformRequest),E.headers=u.merge(E.headers.common||{},E.headers[E.method]||{},E.headers),u.forEach(["delete","get","head","post","put","patch","common"],function(R){delete E.headers[R]});var S=E.adapter||m.adapter;return S(E).then(function(R){return y(E),R.data=f.call(E,R.data,R.headers,E.transformResponse),R},function(R){return v(R)||(y(E),R&&R.response&&(R.response.data=f.call(E,R.response.data,R.response.headers,E.transformResponse))),Promise.reject(R)})}},46995:function(B,x,l){"use strict";var u=l(25223);B.exports=function(v,m){m=m||{};var b={};function y(P,p){return u.isPlainObject(P)&&u.isPlainObject(p)?u.merge(P,p):u.isPlainObject(p)?u.merge({},p):u.isArray(p)?p.slice():p}function h(P){if(u.isUndefined(m[P])){if(!u.isUndefined(v[P]))return y(void 0,v[P])}else return y(v[P],m[P])}function E(P){if(!u.isUndefined(m[P]))return y(void 0,m[P])}function S(P){if(u.isUndefined(m[P])){if(!u.isUndefined(v[P]))return y(void 0,v[P])}else return y(void 0,m[P])}function k(P){if(P in m)return y(v[P],m[P]);if(P in v)return y(void 0,v[P])}var R={url:E,method:E,data:E,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:k};return u.forEach(Object.keys(v).concat(Object.keys(m)),function(p){var U=R[p]||h,M=U(p);u.isUndefined(M)&&U!==k||(b[p]=M)}),b}},7642:function(B,x,l){"use strict";var u=l(97022);B.exports=function(v,m,b){var y=b.config.validateStatus;!b.status||!y||y(b.status)?v(b):m(new u("Request failed with status code "+b.status,[u.ERR_BAD_REQUEST,u.ERR_BAD_RESPONSE][Math.floor(b.status/100)-4],b.config,b.request,b))}},42471:function(B,x,l){"use strict";var u=l(25223),f=l(86154);B.exports=function(m,b,y){var h=this||f;return u.forEach(y,function(S){m=S.call(h,m,b)}),m}},86154:function(B,x,l){"use strict";var u=l(14224),f=l(25223),v=l(29245),m=l(97022),b=l(95190),y=l(7167),h={"Content-Type":"application/x-www-form-urlencoded"};function E(P,p){!f.isUndefined(P)&&f.isUndefined(P["Content-Type"])&&(P["Content-Type"]=p)}function S(){var P;return(typeof XMLHttpRequest<"u"||typeof u<"u"&&Object.prototype.toString.call(u)==="[object process]")&&(P=l(30337)),P}function k(P,p,U){if(f.isString(P))try{return(p||JSON.parse)(P),f.trim(P)}catch(M){if(M.name!=="SyntaxError")throw M}return(U||JSON.stringify)(P)}var R={transitional:b,adapter:S(),transformRequest:[function(p,U){if(v(U,"Accept"),v(U,"Content-Type"),f.isFormData(p)||f.isArrayBuffer(p)||f.isBuffer(p)||f.isStream(p)||f.isFile(p)||f.isBlob(p))return p;if(f.isArrayBufferView(p))return p.buffer;if(f.isURLSearchParams(p))return E(U,"application/x-www-form-urlencoded;charset=utf-8"),p.toString();var M=f.isObject(p),z=U&&U["Content-Type"],G;if((G=f.isFileList(p))||M&&z==="multipart/form-data"){var j=this.env&&this.env.FormData;return y(G?{"files[]":p}:p,j&&new j)}else if(M||z==="application/json")return E(U,"application/json"),k(p);return p}],transformResponse:[function(p){var U=this.transitional||R.transitional,M=U&&U.silentJSONParsing,z=U&&U.forcedJSONParsing,G=!M&&this.responseType==="json";if(G||z&&f.isString(p)&&p.length)try{return JSON.parse(p)}catch(j){if(G)throw j.name==="SyntaxError"?m.from(j,m.ERR_BAD_RESPONSE,this,null,this.response):j}return p}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l(77747)},validateStatus:function(p){return p>=200&&p<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(p){R.headers[p]={}}),f.forEach(["post","put","patch"],function(p){R.headers[p]=f.merge(h)}),B.exports=R},95190:function(B){"use strict";B.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},52518:function(B){B.exports={version:"0.27.2"}},84744:function(B){"use strict";B.exports=function(l,u){return function(){for(var v=new Array(arguments.length),m=0;m<v.length;m++)v[m]=arguments[m];return l.apply(u,v)}}},82230:function(B,x,l){"use strict";var u=l(25223);function f(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}B.exports=function(m,b,y){if(!b)return m;var h;if(y)h=y(b);else if(u.isURLSearchParams(b))h=b.toString();else{var E=[];u.forEach(b,function(R,P){R===null||typeof R>"u"||(u.isArray(R)?P=P+"[]":R=[R],u.forEach(R,function(U){u.isDate(U)?U=U.toISOString():u.isObject(U)&&(U=JSON.stringify(U)),E.push(f(P)+"="+f(U))}))}),h=E.join("&")}if(h){var S=m.indexOf("#");S!==-1&&(m=m.slice(0,S)),m+=(m.indexOf("?")===-1?"?":"&")+h}return m}},96904:function(B){"use strict";B.exports=function(l,u){return u?l.replace(/\/+$/,"")+"/"+u.replace(/^\/+/,""):l}},97103:function(B,x,l){"use strict";var u=l(25223);B.exports=u.isStandardBrowserEnv()?function(){return{write:function(m,b,y,h,E,S){var k=[];k.push(m+"="+encodeURIComponent(b)),u.isNumber(y)&&k.push("expires="+new Date(y).toGMTString()),u.isString(h)&&k.push("path="+h),u.isString(E)&&k.push("domain="+E),S===!0&&k.push("secure"),document.cookie=k.join("; ")},read:function(m){var b=document.cookie.match(new RegExp("(^|;\\s*)("+m+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(m){this.write(m,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},36887:function(B){"use strict";B.exports=function(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}},49421:function(B,x,l){"use strict";var u=l(25223);B.exports=function(v){return u.isObject(v)&&v.isAxiosError===!0}},34807:function(B,x,l){"use strict";var u=l(25223);B.exports=u.isStandardBrowserEnv()?function(){var v=/(msie|trident)/i.test(navigator.userAgent),m=document.createElement("a"),b;function y(h){var E=h;return v&&(m.setAttribute("href",E),E=m.href),m.setAttribute("href",E),{href:m.href,protocol:m.protocol?m.protocol.replace(/:$/,""):"",host:m.host,search:m.search?m.search.replace(/^\?/,""):"",hash:m.hash?m.hash.replace(/^#/,""):"",hostname:m.hostname,port:m.port,pathname:m.pathname.charAt(0)==="/"?m.pathname:"/"+m.pathname}}return b=y(window.location.href),function(E){var S=u.isString(E)?y(E):E;return S.protocol===b.protocol&&S.host===b.host}}():function(){return function(){return!0}}()},29245:function(B,x,l){"use strict";var u=l(25223);B.exports=function(v,m){u.forEach(v,function(y,h){h!==m&&h.toUpperCase()===m.toUpperCase()&&(v[m]=y,delete v[h])})}},77747:function(B){B.exports=null},3444:function(B,x,l){"use strict";var u=l(25223),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];B.exports=function(m){var b={},y,h,E;return m&&u.forEach(m.split(`
`),function(k){if(E=k.indexOf(":"),y=u.trim(k.substr(0,E)).toLowerCase(),h=u.trim(k.substr(E+1)),y){if(b[y]&&f.indexOf(y)>=0)return;y==="set-cookie"?b[y]=(b[y]?b[y]:[]).concat([h]):b[y]=b[y]?b[y]+", "+h:h}}),b}},48605:function(B){"use strict";B.exports=function(l){var u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return u&&u[1]||""}},80765:function(B){"use strict";B.exports=function(l){return function(f){return l.apply(null,f)}}},7167:function(B,x,l){"use strict";var u=l(55872).Buffer,f=l(25223);function v(m,b){b=b||new FormData;var y=[];function h(S){return S===null?"":f.isDate(S)?S.toISOString():f.isArrayBuffer(S)||f.isTypedArray(S)?typeof Blob=="function"?new Blob([S]):u.from(S):S}function E(S,k){if(f.isPlainObject(S)||f.isArray(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+k);y.push(S),f.forEach(S,function(P,p){if(!f.isUndefined(P)){var U=k?k+"."+p:p,M;if(P&&!k&&typeof P=="object"){if(f.endsWith(p,"{}"))P=JSON.stringify(P);else if(f.endsWith(p,"[]")&&(M=f.toArray(P))){M.forEach(function(z){!f.isUndefined(z)&&b.append(U,h(z))});return}}E(P,U)}}),y.pop()}else b.append(k,h(S))}return E(m),b}B.exports=v},29132:function(B,x,l){"use strict";var u=l(52518).version,f=l(97022),v={};["object","boolean","number","function","string","symbol"].forEach(function(y,h){v[y]=function(S){return typeof S===y||"a"+(h<1?"n ":" ")+y}});var m={};v.transitional=function(h,E,S){function k(R,P){return"[Axios v"+u+"] Transitional option '"+R+"'"+P+(S?". "+S:"")}return function(R,P,p){if(h===!1)throw new f(k(P," has been removed"+(E?" in "+E:"")),f.ERR_DEPRECATED);return E&&!m[P]&&(m[P]=!0,console.warn(k(P," has been deprecated since v"+E+" and will be removed in the near future"))),h?h(R,P,p):!0}};function b(y,h,E){if(typeof y!="object")throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);for(var S=Object.keys(y),k=S.length;k-- >0;){var R=S[k],P=h[R];if(P){var p=y[R],U=p===void 0||P(p,R,y);if(U!==!0)throw new f("option "+R+" must be "+U,f.ERR_BAD_OPTION_VALUE);continue}if(E!==!0)throw new f("Unknown option "+R,f.ERR_BAD_OPTION)}}B.exports={assertOptions:b,validators:v}},25223:function(B,x,l){"use strict";var u=l(84744),f=Object.prototype.toString,v=function(X){return function(D){var q=f.call(D);return X[q]||(X[q]=q.slice(8,-1).toLowerCase())}}(Object.create(null));function m(X){return X=X.toLowerCase(),function(q){return v(q)===X}}function b(X){return Array.isArray(X)}function y(X){return typeof X>"u"}function h(X){return X!==null&&!y(X)&&X.constructor!==null&&!y(X.constructor)&&typeof X.constructor.isBuffer=="function"&&X.constructor.isBuffer(X)}var E=m("ArrayBuffer");function S(X){var D;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?D=ArrayBuffer.isView(X):D=X&&X.buffer&&E(X.buffer),D}function k(X){return typeof X=="string"}function R(X){return typeof X=="number"}function P(X){return X!==null&&typeof X=="object"}function p(X){if(v(X)!=="object")return!1;var D=Object.getPrototypeOf(X);return D===null||D===Object.prototype}var U=m("Date"),M=m("File"),z=m("Blob"),G=m("FileList");function j(X){return f.call(X)==="[object Function]"}function pe(X){return P(X)&&j(X.pipe)}function ye(X){var D="[object FormData]";return X&&(typeof FormData=="function"&&X instanceof FormData||f.call(X)===D||j(X.toString)&&X.toString()===D)}var F=m("URLSearchParams");function V(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")}function de(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Te(X,D){if(!(X===null||typeof X>"u"))if(typeof X!="object"&&(X=[X]),b(X))for(var q=0,ae=X.length;q<ae;q++)D.call(null,X[q],q,X);else for(var W in X)Object.prototype.hasOwnProperty.call(X,W)&&D.call(null,X[W],W,X)}function ke(){var X={};function D(W,Z){p(X[Z])&&p(W)?X[Z]=ke(X[Z],W):p(W)?X[Z]=ke({},W):b(W)?X[Z]=W.slice():X[Z]=W}for(var q=0,ae=arguments.length;q<ae;q++)Te(arguments[q],D);return X}function ce(X,D,q){return Te(D,function(W,Z){q&&typeof W=="function"?X[Z]=u(W,q):X[Z]=W}),X}function Se(X){return X.charCodeAt(0)===65279&&(X=X.slice(1)),X}function we(X,D,q,ae){X.prototype=Object.create(D.prototype,ae),X.prototype.constructor=X,q&&Object.assign(X.prototype,q)}function Ie(X,D,q){var ae,W,Z,me={};D=D||{};do{for(ae=Object.getOwnPropertyNames(X),W=ae.length;W-- >0;)Z=ae[W],me[Z]||(D[Z]=X[Z],me[Z]=!0);X=Object.getPrototypeOf(X)}while(X&&(!q||q(X,D))&&X!==Object.prototype);return D}function He(X,D,q){X=String(X),(q===void 0||q>X.length)&&(q=X.length),q-=D.length;var ae=X.indexOf(D,q);return ae!==-1&&ae===q}function ft(X){if(!X)return null;var D=X.length;if(y(D))return null;for(var q=new Array(D);D-- >0;)q[D]=X[D];return q}var nt=function(X){return function(D){return X&&D instanceof X}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));B.exports={isArray:b,isArrayBuffer:E,isBuffer:h,isFormData:ye,isArrayBufferView:S,isString:k,isNumber:R,isObject:P,isPlainObject:p,isUndefined:y,isDate:U,isFile:M,isBlob:z,isFunction:j,isStream:pe,isURLSearchParams:F,isStandardBrowserEnv:de,forEach:Te,merge:ke,extend:ce,trim:V,stripBOM:Se,inherits:we,toFlatObject:Ie,kindOf:v,kindOfTest:m,endsWith:He,toArray:ft,isTypedArray:nt,isFileList:G}},71504:function(B,x,l){"use strict";var u,f=l(55872).Buffer;u={value:!0};var v=l(50521);function m(k,R){return R===void 0&&(R="utf8"),f.isBuffer(k)?h(k.toString("base64")):h(f.from(k,R).toString("base64"))}function b(k,R){return R===void 0&&(R="utf8"),f.from(y(k),"base64").toString(R)}function y(k){return k=k.toString(),v.default(k).replace(/\-/g,"+").replace(/_/g,"/")}function h(k){return k.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function E(k){return f.from(y(k),"base64")}var S=m;S.encode=m,S.decode=b,S.toBase64=y,S.fromBase64=h,S.toBuffer=E,x.default=S},50521:function(B,x,l){"use strict";var u=l(55872).Buffer;Object.defineProperty(x,"__esModule",{value:!0});function f(v){var m=4,b=v.length,y=b%m;if(!y)return v;var h=b,E=m-y,S=b+E,k=u.alloc(S);for(k.write(v);E--;)k.write("=",h++);return k.toString()}x.default=f},27220:function(B,x,l){B.exports=l(71504).default,B.exports.default=B.exports},36243:function(B){B.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var createOutputMethod=function(B,x){return function(l){return new Sha256(x,!0).update(l)[B]()}},createMethod=function(B){var x=createOutputMethod("hex",B);NODE_JS&&(x=nodeWrap(x,B)),x.create=function(){return new Sha256(B)},x.update=function(f){return x.create().update(f)};for(var l=0;l<OUTPUT_TYPES.length;++l){var u=OUTPUT_TYPES[l];x[u]=createOutputMethod(u,B)}return x},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(B){if(typeof B=="string")return crypto.createHash(algorithm).update(B,"utf8").digest("hex");if(B==null)throw new Error(ERROR);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),Array.isArray(B)||ArrayBuffer.isView(B)||B.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(B)).digest("hex"):method(B)};return nodeMethod},createHmacOutputMethod=function(B,x){return function(l,u){return new HmacSha256(l,x,!0).update(u)[B]()}},createHmacMethod=function(B){var x=createHmacOutputMethod("hex",B);x.create=function(f){return new HmacSha256(f,B)},x.update=function(f,v){return x.create(f).update(v)};for(var l=0;l<OUTPUT_TYPES.length;++l){var u=OUTPUT_TYPES[l];x[u]=createHmacOutputMethod(u,B)}return x};function Sha256(B,x){x?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}Sha256.prototype.update=function(B){if(!this.finalized){var x,l=typeof B;if(l!=="string"){if(l==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);x=!0}for(var u,f=0,v,m=B.length,b=this.blocks;f<m;){if(this.hashed&&(this.hashed=!1,b[0]=this.block,b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0),x)for(v=this.start;f<m&&v<64;++f)b[v>>2]|=B[f]<<SHIFT[v++&3];else for(v=this.start;f<m&&v<64;++f)u=B.charCodeAt(f),u<128?b[v>>2]|=u<<SHIFT[v++&3]:u<2048?(b[v>>2]|=(192|u>>6)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]):u<55296||u>=57344?(b[v>>2]|=(224|u>>12)<<SHIFT[v++&3],b[v>>2]|=(128|u>>6&63)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]):(u=65536+((u&1023)<<10|B.charCodeAt(++f)&1023),b[v>>2]|=(240|u>>18)<<SHIFT[v++&3],b[v>>2]|=(128|u>>12&63)<<SHIFT[v++&3],b[v>>2]|=(128|u>>6&63)<<SHIFT[v++&3],b[v>>2]|=(128|u&63)<<SHIFT[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=b[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,x=this.lastByteIndex;B[16]=this.block,B[x>>2]|=EXTRA[x&3],this.block=B[16],x>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var B=this.h0,x=this.h1,l=this.h2,u=this.h3,f=this.h4,v=this.h5,m=this.h6,b=this.h7,y=this.blocks,h,E,S,k,R,P,p,U,M,z,G;for(h=16;h<64;++h)R=y[h-15],E=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,R=y[h-2],S=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,y[h]=y[h-16]+E+y[h-7]+S<<0;for(G=x&l,h=0;h<64;h+=4)this.first?(this.is224?(U=300032,R=y[0]-1413257819,b=R-150054599<<0,u=R+24177077<<0):(U=704751109,R=y[0]-210244248,b=R-1521486534<<0,u=R+143694565<<0),this.first=!1):(E=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),S=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),U=B&x,k=U^B&l^G,p=f&v^~f&m,R=b+S+p+K[h]+y[h],P=E+k,b=u+R<<0,u=R+P<<0),E=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),S=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),M=u&B,k=M^u&x^U,p=b&f^~b&v,R=m+S+p+K[h+1]+y[h+1],P=E+k,m=l+R<<0,l=R+P<<0,E=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),S=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),z=l&u,k=z^l&B^M,p=m&b^~m&f,R=v+S+p+K[h+2]+y[h+2],P=E+k,v=x+R<<0,x=R+P<<0,E=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),S=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),G=x&l,k=G^x&u^z,p=v&m^~v&b,R=f+S+p+K[h+3]+y[h+3],P=E+k,f=B+R<<0,B=R+P<<0;this.h0=this.h0+B<<0,this.h1=this.h1+x<<0,this.h2=this.h2+l<<0,this.h3=this.h3+u<<0,this.h4=this.h4+f<<0,this.h5=this.h5+v<<0,this.h6=this.h6+m<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var B=this.h0,x=this.h1,l=this.h2,u=this.h3,f=this.h4,v=this.h5,m=this.h6,b=this.h7,y=HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[x&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[v&15]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15];return this.is224||(y+=HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[b&15]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var B=this.h0,x=this.h1,l=this.h2,u=this.h3,f=this.h4,v=this.h5,m=this.h6,b=this.h7,y=[B>>24&255,B>>16&255,B>>8&255,B&255,x>>24&255,x>>16&255,x>>8&255,x&255,l>>24&255,l>>16&255,l>>8&255,l&255,u>>24&255,u>>16&255,u>>8&255,u&255,f>>24&255,f>>16&255,f>>8&255,f&255,v>>24&255,v>>16&255,v>>8&255,v&255,m>>24&255,m>>16&255,m>>8&255,m&255];return this.is224||y.push(b>>24&255,b>>16&255,b>>8&255,b&255),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),x=new DataView(B);return x.setUint32(0,this.h0),x.setUint32(4,this.h1),x.setUint32(8,this.h2),x.setUint32(12,this.h3),x.setUint32(16,this.h4),x.setUint32(20,this.h5),x.setUint32(24,this.h6),this.is224||x.setUint32(28,this.h7),B};function HmacSha256(B,x,l){var u,f=typeof B;if(f==="string"){var v=[],m=B.length,b=0,y;for(u=0;u<m;++u)y=B.charCodeAt(u),y<128?v[b++]=y:y<2048?(v[b++]=192|y>>6,v[b++]=128|y&63):y<55296||y>=57344?(v[b++]=224|y>>12,v[b++]=128|y>>6&63,v[b++]=128|y&63):(y=65536+((y&1023)<<10|B.charCodeAt(++u)&1023),v[b++]=240|y>>18,v[b++]=128|y>>12&63,v[b++]=128|y>>6&63,v[b++]=128|y&63);B=v}else if(f==="object"){if(B===null)throw new Error(ERROR);if(ARRAY_BUFFER&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(B)))throw new Error(ERROR)}else throw new Error(ERROR);B.length>64&&(B=new Sha256(x,!0).update(B).array());var h=[],E=[];for(u=0;u<64;++u){var S=B[u]||0;h[u]=92^S,E[u]=54^S}Sha256.call(this,x,l),this.update(E),this.oKeyPad=h,this.inner=!0,this.sharedMemory=l}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},41389:function(B,x,l){B.exports=l(69136)(l(91e3))},69136:function(B,x,l){const u=l(40704),f=l(70702);B.exports=function(v){const m=u(v),b=f(v);return function(y,h){switch(typeof y=="string"?y.toLowerCase():y){case"keccak224":return new m(1152,448,null,224,h);case"keccak256":return new m(1088,512,null,256,h);case"keccak384":return new m(832,768,null,384,h);case"keccak512":return new m(576,1024,null,512,h);case"sha3-224":return new m(1152,448,6,224,h);case"sha3-256":return new m(1088,512,6,256,h);case"sha3-384":return new m(832,768,6,384,h);case"sha3-512":return new m(576,1024,6,512,h);case"shake128":return new b(1344,256,31,h);case"shake256":return new b(1088,512,31,h);default:throw new Error("Invald algorithm: "+y)}}}},40704:function(B,x,l){var u=l(55872).Buffer;const{Transform:f}=l(62981);B.exports=v=>class t0 extends f{constructor(b,y,h,E,S){super(S),this._rate=b,this._capacity=y,this._delimitedSuffix=h,this._hashBitLength=E,this._options=S,this._state=new v,this._state.initialize(b,y),this._finalized=!1}_transform(b,y,h){let E=null;try{this.update(b,y)}catch(S){E=S}h(E)}_flush(b){let y=null;try{this.push(this.digest())}catch(h){y=h}b(y)}update(b,y){if(!u.isBuffer(b)&&typeof b!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return u.isBuffer(b)||(b=u.from(b,y)),this._state.absorb(b),this}digest(b){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let y=this._state.squeeze(this._hashBitLength/8);return b!==void 0&&(y=y.toString(b)),this._resetState(),y}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const b=new t0(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(b._state),b._finalized=this._finalized,b}}},70702:function(B,x,l){var u=l(55872).Buffer;const{Transform:f}=l(62981);B.exports=v=>class r0 extends f{constructor(b,y,h,E){super(E),this._rate=b,this._capacity=y,this._delimitedSuffix=h,this._options=E,this._state=new v,this._state.initialize(b,y),this._finalized=!1}_transform(b,y,h){let E=null;try{this.update(b,y)}catch(S){E=S}h(E)}_flush(){}_read(b){this.push(this.squeeze(b))}update(b,y){if(!u.isBuffer(b)&&typeof b!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return u.isBuffer(b)||(b=u.from(b,y)),this._state.absorb(b),this}squeeze(b,y){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let h=this._state.squeeze(b);return y!==void 0&&(h=h.toString(y)),h}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const b=new r0(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(b._state),b._finalized=this._finalized,b}}},26921:function(B,x){const l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];x.p1600=function(u){for(let f=0;f<24;++f){const v=u[0]^u[10]^u[20]^u[30]^u[40],m=u[1]^u[11]^u[21]^u[31]^u[41],b=u[2]^u[12]^u[22]^u[32]^u[42],y=u[3]^u[13]^u[23]^u[33]^u[43],h=u[4]^u[14]^u[24]^u[34]^u[44],E=u[5]^u[15]^u[25]^u[35]^u[45],S=u[6]^u[16]^u[26]^u[36]^u[46],k=u[7]^u[17]^u[27]^u[37]^u[47],R=u[8]^u[18]^u[28]^u[38]^u[48],P=u[9]^u[19]^u[29]^u[39]^u[49];let p=R^(b<<1|y>>>31),U=P^(y<<1|b>>>31);const M=u[0]^p,z=u[1]^U,G=u[10]^p,j=u[11]^U,pe=u[20]^p,ye=u[21]^U,F=u[30]^p,V=u[31]^U,de=u[40]^p,Te=u[41]^U;p=v^(h<<1|E>>>31),U=m^(E<<1|h>>>31);const ke=u[2]^p,ce=u[3]^U,Se=u[12]^p,we=u[13]^U,Ie=u[22]^p,He=u[23]^U,ft=u[32]^p,nt=u[33]^U,X=u[42]^p,D=u[43]^U;p=b^(S<<1|k>>>31),U=y^(k<<1|S>>>31);const q=u[4]^p,ae=u[5]^U,W=u[14]^p,Z=u[15]^U,me=u[24]^p,ve=u[25]^U,Pe=u[34]^p,Ke=u[35]^U,St=u[44]^p,mt=u[45]^U;p=h^(R<<1|P>>>31),U=E^(P<<1|R>>>31);const jt=u[6]^p,Sr=u[7]^U,xn=u[16]^p,Rr=u[17]^U,Xr=u[26]^p,ne=u[27]^U,le=u[36]^p,H=u[37]^U,Ve=u[46]^p,Oe=u[47]^U;p=S^(v<<1|m>>>31),U=k^(m<<1|v>>>31);const $e=u[8]^p,Ze=u[9]^U,Ot=u[18]^p,zt=u[19]^U,ur=u[28]^p,se=u[29]^U,ut=u[38]^p,Tt=u[39]^U,fr=u[48]^p,bt=u[49]^U,dr=M,Be=z,Cr=j<<4|G>>>28,br=G<<4|j>>>28,lr=pe<<3|ye>>>29,nn=ye<<3|pe>>>29,Hr=V<<9|F>>>23,kt=F<<9|V>>>23,mr=de<<18|Te>>>14,Kr=Te<<18|de>>>14,Yr=ke<<1|ce>>>31,kr=ce<<1|ke>>>31,hr=we<<12|Se>>>20,pn=Se<<12|we>>>20,Sn=Ie<<10|He>>>22,_r=He<<10|Ie>>>22,Ar=nt<<13|ft>>>19,ze=ft<<13|nt>>>19,Ir=X<<2|D>>>30,$t=D<<2|X>>>30,it=ae<<30|q>>>2,Qt=q<<30|ae>>>2,Zt=W<<6|Z>>>26,Ln=Z<<6|W>>>26,g=ve<<11|me>>>21,_=me<<11|ve>>>21,A=Pe<<15|Ke>>>17,c=Ke<<15|Pe>>>17,C=mt<<29|St>>>3,$=St<<29|mt>>>3,J=jt<<28|Sr>>>4,te=Sr<<28|jt>>>4,be=Rr<<23|xn>>>9,Ne=xn<<23|Rr>>>9,fe=Xr<<25|ne>>>7,ot=ne<<25|Xr>>>7,_e=le<<21|H>>>11,Ge=H<<21|le>>>11,Le=Oe<<24|Ve>>>8,Qe=Ve<<24|Oe>>>8,Ye=$e<<27|Ze>>>5,Je=Ze<<27|$e>>>5,Xe=Ot<<20|zt>>>12,je=zt<<20|Ot>>>12,Re=se<<7|ur>>>25,De=ur<<7|se>>>25,Ce=ut<<8|Tt>>>24,Me=Tt<<8|ut>>>24,Ue=fr<<14|bt>>>18,Ae=bt<<14|fr>>>18;u[0]=dr^~hr&g,u[1]=Be^~pn&_,u[10]=J^~Xe&lr,u[11]=te^~je&nn,u[20]=Yr^~Zt&fe,u[21]=kr^~Ln&ot,u[30]=Ye^~Cr&Sn,u[31]=Je^~br&_r,u[40]=it^~be&Re,u[41]=Qt^~Ne&De,u[2]=hr^~g&_e,u[3]=pn^~_&Ge,u[12]=Xe^~lr&Ar,u[13]=je^~nn&ze,u[22]=Zt^~fe&Ce,u[23]=Ln^~ot&Me,u[32]=Cr^~Sn&A,u[33]=br^~_r&c,u[42]=be^~Re&Hr,u[43]=Ne^~De&kt,u[4]=g^~_e&Ue,u[5]=_^~Ge&Ae,u[14]=lr^~Ar&C,u[15]=nn^~ze&$,u[24]=fe^~Ce&mr,u[25]=ot^~Me&Kr,u[34]=Sn^~A&Le,u[35]=_r^~c&Qe,u[44]=Re^~Hr&Ir,u[45]=De^~kt&$t,u[6]=_e^~Ue&dr,u[7]=Ge^~Ae&Be,u[16]=Ar^~C&J,u[17]=ze^~$&te,u[26]=Ce^~mr&Yr,u[27]=Me^~Kr&kr,u[36]=A^~Le&Ye,u[37]=c^~Qe&Je,u[46]=Hr^~Ir&it,u[47]=kt^~$t&Qt,u[8]=Ue^~dr&hr,u[9]=Ae^~Be&pn,u[18]=C^~J&Xe,u[19]=$^~te&je,u[28]=mr^~Yr&Zt,u[29]=Kr^~kr&Ln,u[38]=Le^~Ye&Cr,u[39]=Qe^~Je&br,u[48]=Ir^~it&be,u[49]=$t^~Qt&Ne,u[0]^=l[f*2],u[1]^=l[f*2+1]}}},91e3:function(B,x,l){var u=l(55872).Buffer;const f=l(26921);function v(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}v.prototype.initialize=function(m,b){for(let y=0;y<50;++y)this.state[y]=0;this.blockSize=m/8,this.count=0,this.squeezing=!1},v.prototype.absorb=function(m){for(let b=0;b<m.length;++b)this.state[~~(this.count/4)]^=m[b]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(f.p1600(this.state),this.count=0)},v.prototype.absorbLastFewBits=function(m){this.state[~~(this.count/4)]^=m<<8*(this.count%4),m&128&&this.count===this.blockSize-1&&f.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),f.p1600(this.state),this.count=0,this.squeezing=!0},v.prototype.squeeze=function(m){this.squeezing||this.absorbLastFewBits(1);const b=u.alloc(m);for(let y=0;y<m;++y)b[y]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(f.p1600(this.state),this.count=0);return b},v.prototype.copy=function(m){for(let b=0;b<50;++b)m.state[b]=this.state[b];m.blockSize=this.blockSize,m.count=this.count,m.squeezing=this.squeezing},B.exports=v},38032:function(B,x,l){B.exports=l(54215)},54215:function(B,x,l){var u=l(55310);x.operation=function(f){var v=x.timeouts(f);return new u(v,{forever:f&&(f.forever||f.retries===1/0),unref:f&&f.unref,maxRetryTime:f&&f.maxRetryTime})},x.timeouts=function(f){if(f instanceof Array)return[].concat(f);var v={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var m in f)v[m]=f[m];if(v.minTimeout>v.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var b=[],y=0;y<v.retries;y++)b.push(this.createTimeout(y,v));return f&&f.forever&&!b.length&&b.push(this.createTimeout(y,v)),b.sort(function(h,E){return h-E}),b},x.createTimeout=function(f,v){var m=v.randomize?Math.random()+1:1,b=Math.round(m*Math.max(v.minTimeout,1)*Math.pow(v.factor,f));return b=Math.min(b,v.maxTimeout),b},x.wrap=function(f,v,m){if(v instanceof Array&&(m=v,v=null),!m){m=[];for(var b in f)typeof f[b]=="function"&&m.push(b)}for(var y=0;y<m.length;y++){var h=m[y],E=f[h];f[h]=function(k){var R=x.operation(v),P=Array.prototype.slice.call(arguments,1),p=P.pop();P.push(function(U){R.retry(U)||(U&&(arguments[0]=R.mainError()),p.apply(this,arguments))}),R.attempt(function(){k.apply(f,P)})}.bind(f,E),f[h].options=v}}},55310:function(B){function x(l,u){typeof u=="boolean"&&(u={forever:u}),this._originalTimeouts=JSON.parse(JSON.stringify(l)),this._timeouts=l,this._options=u||{},this._maxRetryTime=u&&u.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=x,x.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},x.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},x.prototype.retry=function(l){if(this._timeout&&clearTimeout(this._timeout),!l)return!1;var u=new Date().getTime();if(l&&u-this._operationStart>=this._maxRetryTime)return this._errors.push(l),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(l);var f=this._timeouts.shift();if(f===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),f=this._cachedTimeouts.slice(-1);else return!1;var v=this;return this._timer=setTimeout(function(){v._attempts++,v._operationTimeoutCb&&(v._timeout=setTimeout(function(){v._operationTimeoutCb(v._attempts)},v._operationTimeout),v._options.unref&&v._timeout.unref()),v._fn(v._attempts)},f),this._options.unref&&this._timer.unref(),!0},x.prototype.attempt=function(l,u){this._fn=l,u&&(u.timeout&&(this._operationTimeout=u.timeout),u.cb&&(this._operationTimeoutCb=u.cb));var f=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){f._operationTimeoutCb()},f._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},x.prototype.try=function(l){console.log("Using RetryOperation.try() is deprecated"),this.attempt(l)},x.prototype.start=function(l){console.log("Using RetryOperation.start() is deprecated"),this.attempt(l)},x.prototype.start=x.prototype.try,x.prototype.errors=function(){return this._errors},x.prototype.attempts=function(){return this._attempts},x.prototype.mainError=function(){if(this._errors.length===0)return null;for(var l={},u=null,f=0,v=0;v<this._errors.length;v++){var m=this._errors[v],b=m.message,y=(l[b]||0)+1;l[b]=y,y>=f&&(u=m,f=y)}return u}},9495:function(B){"use strict";(function(x){function u(P){const p=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,M=3144134277,z=1013904242,G=2773480762,j=1359893119,pe=2600822924,ye=528734635,F=1541459225;const V=new Uint32Array(64);function de(He){let ft=0,nt=He.length;for(;nt>=64;){let X=U,D=M,q=z,ae=G,W=j,Z=pe,me=ye,ve=F,Pe,Ke,St,mt,jt;for(Ke=0;Ke<16;Ke++)St=ft+Ke*4,V[Ke]=(He[St]&255)<<24|(He[St+1]&255)<<16|(He[St+2]&255)<<8|He[St+3]&255;for(Ke=16;Ke<64;Ke++)Pe=V[Ke-2],mt=(Pe>>>17|Pe<<32-17)^(Pe>>>19|Pe<<32-19)^Pe>>>10,Pe=V[Ke-15],jt=(Pe>>>7|Pe<<32-7)^(Pe>>>18|Pe<<32-18)^Pe>>>3,V[Ke]=(mt+V[Ke-7]|0)+(jt+V[Ke-16]|0)|0;for(Ke=0;Ke<64;Ke++)mt=(((W>>>6|W<<32-6)^(W>>>11|W<<32-11)^(W>>>25|W<<32-25))+(W&Z^~W&me)|0)+(ve+(p[Ke]+V[Ke]|0)|0)|0,jt=((X>>>2|X<<32-2)^(X>>>13|X<<32-13)^(X>>>22|X<<32-22))+(X&D^X&q^D&q)|0,ve=me,me=Z,Z=W,W=ae+mt|0,ae=q,q=D,D=X,X=mt+jt|0;U=U+X|0,M=M+D|0,z=z+q|0,G=G+ae|0,j=j+W|0,pe=pe+Z|0,ye=ye+me|0,F=F+ve|0,ft+=64,nt-=64}}de(P);let Te,ke=P.length%64,ce=P.length/536870912|0,Se=P.length<<3,we=ke<56?56:120,Ie=P.slice(P.length-ke,P.length);for(Ie.push(128),Te=ke+1;Te<we;Te++)Ie.push(0);return Ie.push(ce>>>24&255),Ie.push(ce>>>16&255),Ie.push(ce>>>8&255),Ie.push(ce>>>0&255),Ie.push(Se>>>24&255),Ie.push(Se>>>16&255),Ie.push(Se>>>8&255),Ie.push(Se>>>0&255),de(Ie),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe>>>0&255,ye>>>24&255,ye>>>16&255,ye>>>8&255,ye>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255]}function f(P,p,U){P=P.length<=64?P:u(P);const M=64+p.length+4,z=new Array(M),G=new Array(64);let j,pe=[];for(j=0;j<64;j++)z[j]=54;for(j=0;j<P.length;j++)z[j]^=P[j];for(j=0;j<p.length;j++)z[64+j]=p[j];for(j=M-4;j<M;j++)z[j]=0;for(j=0;j<64;j++)G[j]=92;for(j=0;j<P.length;j++)G[j]^=P[j];function ye(){for(let F=M-1;F>=M-4;F--){if(z[F]++,z[F]<=255)return;z[F]=0}}for(;U>=32;)ye(),pe=pe.concat(u(G.concat(u(z)))),U-=32;return U>0&&(ye(),pe=pe.concat(u(G.concat(u(z))).slice(0,U))),pe}function v(P,p,U,M,z){let G;for(h(P,(2*U-1)*16,z,0,16),G=0;G<2*U;G++)y(P,G*16,z,16),b(z,M),h(z,0,P,p+G*16,16);for(G=0;G<U;G++)h(P,p+G*2*16,P,G*16,16);for(G=0;G<U;G++)h(P,p+(G*2+1)*16,P,(G+U)*16,16)}function m(P,p){return P<<p|P>>>32-p}function b(P,p){h(P,0,p,0,16);for(let U=8;U>0;U-=2)p[4]^=m(p[0]+p[12],7),p[8]^=m(p[4]+p[0],9),p[12]^=m(p[8]+p[4],13),p[0]^=m(p[12]+p[8],18),p[9]^=m(p[5]+p[1],7),p[13]^=m(p[9]+p[5],9),p[1]^=m(p[13]+p[9],13),p[5]^=m(p[1]+p[13],18),p[14]^=m(p[10]+p[6],7),p[2]^=m(p[14]+p[10],9),p[6]^=m(p[2]+p[14],13),p[10]^=m(p[6]+p[2],18),p[3]^=m(p[15]+p[11],7),p[7]^=m(p[3]+p[15],9),p[11]^=m(p[7]+p[3],13),p[15]^=m(p[11]+p[7],18),p[1]^=m(p[0]+p[3],7),p[2]^=m(p[1]+p[0],9),p[3]^=m(p[2]+p[1],13),p[0]^=m(p[3]+p[2],18),p[6]^=m(p[5]+p[4],7),p[7]^=m(p[6]+p[5],9),p[4]^=m(p[7]+p[6],13),p[5]^=m(p[4]+p[7],18),p[11]^=m(p[10]+p[9],7),p[8]^=m(p[11]+p[10],9),p[9]^=m(p[8]+p[11],13),p[10]^=m(p[9]+p[8],18),p[12]^=m(p[15]+p[14],7),p[13]^=m(p[12]+p[15],9),p[14]^=m(p[13]+p[12],13),p[15]^=m(p[14]+p[13],18);for(let U=0;U<16;++U)P[U]+=p[U]}function y(P,p,U,M){for(let z=0;z<M;z++)U[z]^=P[p+z]}function h(P,p,U,M,z){for(;z--;)U[M++]=P[p++]}function E(P){if(!P||typeof P.length!="number")return!1;for(let p=0;p<P.length;p++){const U=P[p];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function S(P,p){if(typeof P!="number"||P%1)throw new Error("invalid "+p);return P}function k(P,p,U,M,z,G,j){if(U=S(U,"N"),M=S(M,"r"),z=S(z,"p"),G=S(G,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/M)throw new Error("N too large");if(M>2147483647/128/z)throw new Error("r too large");if(!E(P))throw new Error("password must be an array or buffer");if(P=Array.prototype.slice.call(P),!E(p))throw new Error("salt must be an array or buffer");p=Array.prototype.slice.call(p);let pe=f(P,p,z*128*M);const ye=new Uint32Array(z*32*M);for(let W=0;W<ye.length;W++){const Z=W*4;ye[W]=(pe[Z+3]&255)<<24|(pe[Z+2]&255)<<16|(pe[Z+1]&255)<<8|(pe[Z+0]&255)<<0}const F=new Uint32Array(64*M),V=new Uint32Array(32*M*U),de=32*M,Te=new Uint32Array(16),ke=new Uint32Array(16),ce=z*U*2;let Se=0,we=null,Ie=!1,He=0,ft=0,nt,X;const D=j?parseInt(1e3/M):4294967295,q=typeof setImmediate<"u"?setImmediate:setTimeout,ae=function(){if(Ie)return j(new Error("cancelled"),Se/ce);let W;switch(He){case 0:X=ft*32*M,h(ye,X,F,0,de),He=1,nt=0;case 1:W=U-nt,W>D&&(W=D);for(let me=0;me<W;me++)h(F,0,V,(nt+me)*de,de),v(F,de,M,Te,ke);if(nt+=W,Se+=W,j){const me=parseInt(1e3*Se/ce);if(me!==we){if(Ie=j(null,Se/ce),Ie)break;we=me}}if(nt<U)break;nt=0,He=2;case 2:W=U-nt,W>D&&(W=D);for(let me=0;me<W;me++){const ve=(2*M-1)*16,Pe=F[ve]&U-1;y(V,Pe*de,F,de),v(F,de,M,Te,ke)}if(nt+=W,Se+=W,j){const me=parseInt(1e3*Se/ce);if(me!==we){if(Ie=j(null,Se/ce),Ie)break;we=me}}if(nt<U)break;if(h(F,0,ye,X,de),ft++,ft<z){He=0;break}pe=[];for(let me=0;me<ye.length;me++)pe.push(ye[me]>>0&255),pe.push(ye[me]>>8&255),pe.push(ye[me]>>16&255),pe.push(ye[me]>>24&255);const Z=f(P,pe,G);return j&&j(null,1,Z),Z}j&&q(ae)};if(!j)for(;;){const W=ae();if(W!=null)return W}ae()}const R={scrypt:function(P,p,U,M,z,G,j){return new Promise(function(pe,ye){let F=0;j&&j(0),k(P,p,U,M,z,G,function(V,de,Te){if(V)ye(V);else if(Te)j&&F!==1&&j(1),pe(new Uint8Array(Te));else if(j&&de!==F)return F=de,j(de)})})},syncScrypt:function(P,p,U,M,z,G){return new Uint8Array(k(P,p,U,M,z,G))}};B.exports=R})(this)},85323:function(B,x,l){B.exports=l(85830)(l(403))},403:function(B,x,l){const u=l(86677).ec,f=new u("secp256k1"),v=f.curve,m=v.n.constructor;function b(S,k){let R=new m(k);if(R.cmp(v.p)>=0)return null;R=R.toRed(v.red);let P=R.redSqr().redIMul(R).redIAdd(v.b).redSqrt();return S===3!==P.isOdd()&&(P=P.redNeg()),f.keyPair({pub:{x:R,y:P}})}function y(S,k,R){let P=new m(k),p=new m(R);if(P.cmp(v.p)>=0||p.cmp(v.p)>=0||(P=P.toRed(v.red),p=p.toRed(v.red),(S===6||S===7)&&p.isOdd()!==(S===7)))return null;const U=P.redSqr().redIMul(P);return p.redSqr().redISub(U.redIAdd(v.b)).isZero()?f.keyPair({pub:{x:P,y:p}}):null}function h(S){const k=S[0];switch(k){case 2:case 3:return S.length!==33?null:b(k,S.subarray(1,33));case 4:case 6:case 7:return S.length!==65?null:y(k,S.subarray(1,33),S.subarray(33,65));default:return null}}function E(S,k){const R=k.encode(null,S.length===33);for(let P=0;P<S.length;++P)S[P]=R[P]}B.exports={contextRandomize(){return 0},privateKeyVerify(S){const k=new m(S);return k.cmp(v.n)<0&&!k.isZero()?0:1},privateKeyNegate(S){const k=new m(S),R=v.n.sub(k).umod(v.n).toArrayLike(Uint8Array,"be",32);return S.set(R),0},privateKeyTweakAdd(S,k){const R=new m(k);if(R.cmp(v.n)>=0||(R.iadd(new m(S)),R.cmp(v.n)>=0&&R.isub(v.n),R.isZero()))return 1;const P=R.toArrayLike(Uint8Array,"be",32);return S.set(P),0},privateKeyTweakMul(S,k){let R=new m(k);if(R.cmp(v.n)>=0||R.isZero())return 1;R.imul(new m(S)),R.cmp(v.n)>=0&&(R=R.umod(v.n));const P=R.toArrayLike(Uint8Array,"be",32);return S.set(P),0},publicKeyVerify(S){return h(S)===null?1:0},publicKeyCreate(S,k){const R=new m(k);if(R.cmp(v.n)>=0||R.isZero())return 1;const P=f.keyFromPrivate(k).getPublic();return E(S,P),0},publicKeyConvert(S,k){const R=h(k);if(R===null)return 1;const P=R.getPublic();return E(S,P),0},publicKeyNegate(S,k){const R=h(k);if(R===null)return 1;const P=R.getPublic();return P.y=P.y.redNeg(),E(S,P),0},publicKeyCombine(S,k){const R=new Array(k.length);for(let p=0;p<k.length;++p)if(R[p]=h(k[p]),R[p]===null)return 1;let P=R[0].getPublic();for(let p=1;p<R.length;++p)P=P.add(R[p].pub);return P.isInfinity()?2:(E(S,P),0)},publicKeyTweakAdd(S,k,R){const P=h(k);if(P===null)return 1;if(R=new m(R),R.cmp(v.n)>=0)return 2;const p=P.getPublic().add(v.g.mul(R));return p.isInfinity()?2:(E(S,p),0)},publicKeyTweakMul(S,k,R){const P=h(k);if(P===null)return 1;if(R=new m(R),R.cmp(v.n)>=0||R.isZero())return 2;const p=P.getPublic().mul(R);return E(S,p),0},signatureNormalize(S){const k=new m(S.subarray(0,32)),R=new m(S.subarray(32,64));return k.cmp(v.n)>=0||R.cmp(v.n)>=0?1:(R.cmp(f.nh)===1&&S.set(v.n.sub(R).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(S,k){const R=k.subarray(0,32),P=k.subarray(32,64);if(new m(R).cmp(v.n)>=0||new m(P).cmp(v.n)>=0)return 1;const{output:p}=S;let U=p.subarray(4,4+33);U[0]=0,U.set(R,1);let M=33,z=0;for(;M>1&&U[z]===0&&!(U[z+1]&128);--M,++z);if(U=U.subarray(z),U[0]&128||M>1&&U[0]===0&&!(U[1]&128))return 1;let G=p.subarray(6+33,6+33+33);G[0]=0,G.set(P,1);let j=33,pe=0;for(;j>1&&G[pe]===0&&!(G[pe+1]&128);--j,++pe);return G=G.subarray(pe),G[0]&128||j>1&&G[0]===0&&!(G[1]&128)?1:(S.outputlen=6+M+j,p[0]=48,p[1]=S.outputlen-2,p[2]=2,p[3]=U.length,p.set(U,4),p[4+M]=2,p[5+M]=G.length,p.set(G,6+M),0)},signatureImport(S,k){if(k.length<8||k.length>72||k[0]!==48||k[1]!==k.length-2||k[2]!==2)return 1;const R=k[3];if(R===0||5+R>=k.length||k[4+R]!==2)return 1;const P=k[5+R];if(P===0||6+R+P!==k.length||k[4]&128||R>1&&k[4]===0&&!(k[5]&128)||k[R+6]&128||P>1&&k[R+6]===0&&!(k[R+7]&128))return 1;let p=k.subarray(4,4+R);if(p.length===33&&p[0]===0&&(p=p.subarray(1)),p.length>32)return 1;let U=k.subarray(6+R);if(U.length===33&&U[0]===0&&(U=U.slice(1)),U.length>32)throw new Error("S length is too long");let M=new m(p);M.cmp(v.n)>=0&&(M=new m(0));let z=new m(k.subarray(6+R));return z.cmp(v.n)>=0&&(z=new m(0)),S.set(M.toArrayLike(Uint8Array,"be",32),0),S.set(z.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(S,k,R,P,p){if(p){const z=p;p=G=>{const j=z(k,R,null,P,G);if(!(j instanceof Uint8Array&&j.length===32))throw new Error("This is the way");return new m(j)}}const U=new m(R);if(U.cmp(v.n)>=0||U.isZero())return 1;let M;try{M=f.sign(k,R,{canonical:!0,k:p,pers:P})}catch{return 1}return S.signature.set(M.r.toArrayLike(Uint8Array,"be",32),0),S.signature.set(M.s.toArrayLike(Uint8Array,"be",32),32),S.recid=M.recoveryParam,0},ecdsaVerify(S,k,R){const P={r:S.subarray(0,32),s:S.subarray(32,64)},p=new m(P.r),U=new m(P.s);if(p.cmp(v.n)>=0||U.cmp(v.n)>=0)return 1;if(U.cmp(f.nh)===1||p.isZero()||U.isZero())return 3;const M=h(R);if(M===null)return 2;const z=M.getPublic();return f.verify(k,P,z)?0:3},ecdsaRecover(S,k,R,P){const p={r:k.slice(0,32),s:k.slice(32,64)},U=new m(p.r),M=new m(p.s);if(U.cmp(v.n)>=0||M.cmp(v.n)>=0)return 1;if(U.isZero()||M.isZero())return 2;let z;try{z=f.recoverPubKey(P,p,R)}catch{return 2}return E(S,z),0},ecdh(S,k,R,P,p,U,M){const z=h(k);if(z===null)return 1;const G=new m(R);if(G.cmp(v.n)>=0||G.isZero())return 2;const j=z.getPublic().mul(G);if(p===void 0){const pe=j.encode(null,!0),ye=f.hash().update(pe).digest();for(let F=0;F<32;++F)S[F]=ye[F]}else{U||(U=new Uint8Array(32));const pe=j.getX().toArray("be",32);for(let de=0;de<32;++de)U[de]=pe[de];M||(M=new Uint8Array(32));const ye=j.getY().toArray("be",32);for(let de=0;de<32;++de)M[de]=ye[de];const F=p(U,M,P);if(!(F instanceof Uint8Array&&F.length===S.length))return 2;S.set(F)}return 0}}},85830:function(B){const x={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function l(b,y){if(!b)throw new Error(y)}function u(b,y,h){if(l(y instanceof Uint8Array,`Expected ${b} to be an Uint8Array`),h!==void 0)if(Array.isArray(h)){const E=h.join(", "),S=`Expected ${b} to be an Uint8Array with length [${E}]`;l(h.includes(y.length),S)}else{const E=`Expected ${b} to be an Uint8Array with length ${h}`;l(y.length===h,E)}}function f(b){l(m(b)==="Boolean","Expected compressed to be a Boolean")}function v(b=h=>new Uint8Array(h),y){return typeof b=="function"&&(b=b(y)),u("output",b,y),b}function m(b){return Object.prototype.toString.call(b).slice(8,-1)}B.exports=b=>({contextRandomize(y){switch(l(y===null||y instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),y!==null&&u("seed",y,32),b.contextRandomize(y)){case 1:throw new Error(x.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(y){return u("private key",y,32),b.privateKeyVerify(y)===0},privateKeyNegate(y){switch(u("private key",y,32),b.privateKeyNegate(y)){case 0:return y;case 1:throw new Error(x.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(y,h){switch(u("private key",y,32),u("tweak",h,32),b.privateKeyTweakAdd(y,h)){case 0:return y;case 1:throw new Error(x.TWEAK_ADD)}},privateKeyTweakMul(y,h){switch(u("private key",y,32),u("tweak",h,32),b.privateKeyTweakMul(y,h)){case 0:return y;case 1:throw new Error(x.TWEAK_MUL)}},publicKeyVerify(y){return u("public key",y,[33,65]),b.publicKeyVerify(y)===0},publicKeyCreate(y,h=!0,E){switch(u("private key",y,32),f(h),E=v(E,h?33:65),b.publicKeyCreate(E,y)){case 0:return E;case 1:throw new Error(x.SECKEY_INVALID);case 2:throw new Error(x.PUBKEY_SERIALIZE)}},publicKeyConvert(y,h=!0,E){switch(u("public key",y,[33,65]),f(h),E=v(E,h?33:65),b.publicKeyConvert(E,y)){case 0:return E;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.PUBKEY_SERIALIZE)}},publicKeyNegate(y,h=!0,E){switch(u("public key",y,[33,65]),f(h),E=v(E,h?33:65),b.publicKeyNegate(E,y)){case 0:return E;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.IMPOSSIBLE_CASE);case 3:throw new Error(x.PUBKEY_SERIALIZE)}},publicKeyCombine(y,h=!0,E){l(Array.isArray(y),"Expected public keys to be an Array"),l(y.length>0,"Expected public keys array will have more than zero items");for(const S of y)u("public key",S,[33,65]);switch(f(h),E=v(E,h?33:65),b.publicKeyCombine(E,y)){case 0:return E;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.PUBKEY_COMBINE);case 3:throw new Error(x.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(y,h,E=!0,S){switch(u("public key",y,[33,65]),u("tweak",h,32),f(E),S=v(S,E?33:65),b.publicKeyTweakAdd(S,y,h)){case 0:return S;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.TWEAK_ADD)}},publicKeyTweakMul(y,h,E=!0,S){switch(u("public key",y,[33,65]),u("tweak",h,32),f(E),S=v(S,E?33:65),b.publicKeyTweakMul(S,y,h)){case 0:return S;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.TWEAK_MUL)}},signatureNormalize(y){switch(u("signature",y,64),b.signatureNormalize(y)){case 0:return y;case 1:throw new Error(x.SIG_PARSE)}},signatureExport(y,h){u("signature",y,64),h=v(h,72);const E={output:h,outputlen:72};switch(b.signatureExport(E,y)){case 0:return h.slice(0,E.outputlen);case 1:throw new Error(x.SIG_PARSE);case 2:throw new Error(x.IMPOSSIBLE_CASE)}},signatureImport(y,h){switch(u("signature",y),h=v(h,64),b.signatureImport(h,y)){case 0:return h;case 1:throw new Error(x.SIG_PARSE);case 2:throw new Error(x.IMPOSSIBLE_CASE)}},ecdsaSign(y,h,E={},S){u("message",y,32),u("private key",h,32),l(m(E)==="Object","Expected options to be an Object"),E.data!==void 0&&u("options.data",E.data),E.noncefn!==void 0&&l(m(E.noncefn)==="Function","Expected options.noncefn to be a Function"),S=v(S,64);const k={signature:S,recid:null};switch(b.ecdsaSign(k,y,h,E.data,E.noncefn)){case 0:return k;case 1:throw new Error(x.SIGN);case 2:throw new Error(x.IMPOSSIBLE_CASE)}},ecdsaVerify(y,h,E){switch(u("signature",y,64),u("message",h,32),u("public key",E,[33,65]),b.ecdsaVerify(y,h,E)){case 0:return!0;case 3:return!1;case 1:throw new Error(x.SIG_PARSE);case 2:throw new Error(x.PUBKEY_PARSE)}},ecdsaRecover(y,h,E,S=!0,k){switch(u("signature",y,64),l(m(h)==="Number"&&h>=0&&h<=3,"Expected recovery id to be a Number within interval [0, 3]"),u("message",E,32),f(S),k=v(k,S?33:65),b.ecdsaRecover(k,y,h,E)){case 0:return k;case 1:throw new Error(x.SIG_PARSE);case 2:throw new Error(x.RECOVER);case 3:throw new Error(x.IMPOSSIBLE_CASE)}},ecdh(y,h,E={},S){switch(u("public key",y,[33,65]),u("private key",h,32),l(m(E)==="Object","Expected options to be an Object"),E.data!==void 0&&u("options.data",E.data),E.hashfn!==void 0?(l(m(E.hashfn)==="Function","Expected options.hashfn to be a Function"),E.xbuf!==void 0&&u("options.xbuf",E.xbuf,32),E.ybuf!==void 0&&u("options.ybuf",E.ybuf,32),u("output",S)):S=v(S,32),b.ecdh(S,y,h,E.data,E.hashfn,E.xbuf,E.ybuf)){case 0:return S;case 1:throw new Error(x.PUBKEY_PARSE);case 2:throw new Error(x.ECDH)}}})},15711:function(B,x,l){(function(u){"use strict";var f=function(g){var _,A=new Float64Array(16);if(g)for(_=0;_<g.length;_++)A[_]=g[_];return A},v=function(){throw new Error("no PRNG")},m=new Uint8Array(16),b=new Uint8Array(32);b[0]=9;var y=f(),h=f([1]),E=f([56129,1]),S=f([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),k=f([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),R=f([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),P=f([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=f([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(g,_,A,c){g[_]=A>>24&255,g[_+1]=A>>16&255,g[_+2]=A>>8&255,g[_+3]=A&255,g[_+4]=c>>24&255,g[_+5]=c>>16&255,g[_+6]=c>>8&255,g[_+7]=c&255}function M(g,_,A,c,C){var $,J=0;for($=0;$<C;$++)J|=g[_+$]^A[c+$];return(1&J-1>>>8)-1}function z(g,_,A,c){return M(g,_,A,c,16)}function G(g,_,A,c){return M(g,_,A,c,32)}function j(g,_,A,c){for(var C=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,J=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,te=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,be=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ne=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,fe=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,ot=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,_e=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,Ge=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Le=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Qe=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,Ye=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,Je=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Xe=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,je=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Re=C,De=$,Ce=J,Me=te,Ue=be,Ae=Ne,Q=fe,ee=ot,ue=_e,oe=Ge,ie=Le,xe=Qe,We=Ye,tt=Je,et=Xe,rt=je,N,ct=0;ct<20;ct+=2)N=Re+We|0,Ue^=N<<7|N>>>32-7,N=Ue+Re|0,ue^=N<<9|N>>>32-9,N=ue+Ue|0,We^=N<<13|N>>>32-13,N=We+ue|0,Re^=N<<18|N>>>32-18,N=Ae+De|0,oe^=N<<7|N>>>32-7,N=oe+Ae|0,tt^=N<<9|N>>>32-9,N=tt+oe|0,De^=N<<13|N>>>32-13,N=De+tt|0,Ae^=N<<18|N>>>32-18,N=ie+Q|0,et^=N<<7|N>>>32-7,N=et+ie|0,Ce^=N<<9|N>>>32-9,N=Ce+et|0,Q^=N<<13|N>>>32-13,N=Q+Ce|0,ie^=N<<18|N>>>32-18,N=rt+xe|0,Me^=N<<7|N>>>32-7,N=Me+rt|0,ee^=N<<9|N>>>32-9,N=ee+Me|0,xe^=N<<13|N>>>32-13,N=xe+ee|0,rt^=N<<18|N>>>32-18,N=Re+Me|0,De^=N<<7|N>>>32-7,N=De+Re|0,Ce^=N<<9|N>>>32-9,N=Ce+De|0,Me^=N<<13|N>>>32-13,N=Me+Ce|0,Re^=N<<18|N>>>32-18,N=Ae+Ue|0,Q^=N<<7|N>>>32-7,N=Q+Ae|0,ee^=N<<9|N>>>32-9,N=ee+Q|0,Ue^=N<<13|N>>>32-13,N=Ue+ee|0,Ae^=N<<18|N>>>32-18,N=ie+oe|0,xe^=N<<7|N>>>32-7,N=xe+ie|0,ue^=N<<9|N>>>32-9,N=ue+xe|0,oe^=N<<13|N>>>32-13,N=oe+ue|0,ie^=N<<18|N>>>32-18,N=rt+et|0,We^=N<<7|N>>>32-7,N=We+rt|0,tt^=N<<9|N>>>32-9,N=tt+We|0,et^=N<<13|N>>>32-13,N=et+tt|0,rt^=N<<18|N>>>32-18;Re=Re+C|0,De=De+$|0,Ce=Ce+J|0,Me=Me+te|0,Ue=Ue+be|0,Ae=Ae+Ne|0,Q=Q+fe|0,ee=ee+ot|0,ue=ue+_e|0,oe=oe+Ge|0,ie=ie+Le|0,xe=xe+Qe|0,We=We+Ye|0,tt=tt+Je|0,et=et+Xe|0,rt=rt+je|0,g[0]=Re>>>0&255,g[1]=Re>>>8&255,g[2]=Re>>>16&255,g[3]=Re>>>24&255,g[4]=De>>>0&255,g[5]=De>>>8&255,g[6]=De>>>16&255,g[7]=De>>>24&255,g[8]=Ce>>>0&255,g[9]=Ce>>>8&255,g[10]=Ce>>>16&255,g[11]=Ce>>>24&255,g[12]=Me>>>0&255,g[13]=Me>>>8&255,g[14]=Me>>>16&255,g[15]=Me>>>24&255,g[16]=Ue>>>0&255,g[17]=Ue>>>8&255,g[18]=Ue>>>16&255,g[19]=Ue>>>24&255,g[20]=Ae>>>0&255,g[21]=Ae>>>8&255,g[22]=Ae>>>16&255,g[23]=Ae>>>24&255,g[24]=Q>>>0&255,g[25]=Q>>>8&255,g[26]=Q>>>16&255,g[27]=Q>>>24&255,g[28]=ee>>>0&255,g[29]=ee>>>8&255,g[30]=ee>>>16&255,g[31]=ee>>>24&255,g[32]=ue>>>0&255,g[33]=ue>>>8&255,g[34]=ue>>>16&255,g[35]=ue>>>24&255,g[36]=oe>>>0&255,g[37]=oe>>>8&255,g[38]=oe>>>16&255,g[39]=oe>>>24&255,g[40]=ie>>>0&255,g[41]=ie>>>8&255,g[42]=ie>>>16&255,g[43]=ie>>>24&255,g[44]=xe>>>0&255,g[45]=xe>>>8&255,g[46]=xe>>>16&255,g[47]=xe>>>24&255,g[48]=We>>>0&255,g[49]=We>>>8&255,g[50]=We>>>16&255,g[51]=We>>>24&255,g[52]=tt>>>0&255,g[53]=tt>>>8&255,g[54]=tt>>>16&255,g[55]=tt>>>24&255,g[56]=et>>>0&255,g[57]=et>>>8&255,g[58]=et>>>16&255,g[59]=et>>>24&255,g[60]=rt>>>0&255,g[61]=rt>>>8&255,g[62]=rt>>>16&255,g[63]=rt>>>24&255}function pe(g,_,A,c){for(var C=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,J=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,te=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,be=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ne=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,fe=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,ot=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,_e=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,Ge=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Le=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,Qe=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,Ye=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,Je=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Xe=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,je=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Re=C,De=$,Ce=J,Me=te,Ue=be,Ae=Ne,Q=fe,ee=ot,ue=_e,oe=Ge,ie=Le,xe=Qe,We=Ye,tt=Je,et=Xe,rt=je,N,ct=0;ct<20;ct+=2)N=Re+We|0,Ue^=N<<7|N>>>32-7,N=Ue+Re|0,ue^=N<<9|N>>>32-9,N=ue+Ue|0,We^=N<<13|N>>>32-13,N=We+ue|0,Re^=N<<18|N>>>32-18,N=Ae+De|0,oe^=N<<7|N>>>32-7,N=oe+Ae|0,tt^=N<<9|N>>>32-9,N=tt+oe|0,De^=N<<13|N>>>32-13,N=De+tt|0,Ae^=N<<18|N>>>32-18,N=ie+Q|0,et^=N<<7|N>>>32-7,N=et+ie|0,Ce^=N<<9|N>>>32-9,N=Ce+et|0,Q^=N<<13|N>>>32-13,N=Q+Ce|0,ie^=N<<18|N>>>32-18,N=rt+xe|0,Me^=N<<7|N>>>32-7,N=Me+rt|0,ee^=N<<9|N>>>32-9,N=ee+Me|0,xe^=N<<13|N>>>32-13,N=xe+ee|0,rt^=N<<18|N>>>32-18,N=Re+Me|0,De^=N<<7|N>>>32-7,N=De+Re|0,Ce^=N<<9|N>>>32-9,N=Ce+De|0,Me^=N<<13|N>>>32-13,N=Me+Ce|0,Re^=N<<18|N>>>32-18,N=Ae+Ue|0,Q^=N<<7|N>>>32-7,N=Q+Ae|0,ee^=N<<9|N>>>32-9,N=ee+Q|0,Ue^=N<<13|N>>>32-13,N=Ue+ee|0,Ae^=N<<18|N>>>32-18,N=ie+oe|0,xe^=N<<7|N>>>32-7,N=xe+ie|0,ue^=N<<9|N>>>32-9,N=ue+xe|0,oe^=N<<13|N>>>32-13,N=oe+ue|0,ie^=N<<18|N>>>32-18,N=rt+et|0,We^=N<<7|N>>>32-7,N=We+rt|0,tt^=N<<9|N>>>32-9,N=tt+We|0,et^=N<<13|N>>>32-13,N=et+tt|0,rt^=N<<18|N>>>32-18;g[0]=Re>>>0&255,g[1]=Re>>>8&255,g[2]=Re>>>16&255,g[3]=Re>>>24&255,g[4]=Ae>>>0&255,g[5]=Ae>>>8&255,g[6]=Ae>>>16&255,g[7]=Ae>>>24&255,g[8]=ie>>>0&255,g[9]=ie>>>8&255,g[10]=ie>>>16&255,g[11]=ie>>>24&255,g[12]=rt>>>0&255,g[13]=rt>>>8&255,g[14]=rt>>>16&255,g[15]=rt>>>24&255,g[16]=Q>>>0&255,g[17]=Q>>>8&255,g[18]=Q>>>16&255,g[19]=Q>>>24&255,g[20]=ee>>>0&255,g[21]=ee>>>8&255,g[22]=ee>>>16&255,g[23]=ee>>>24&255,g[24]=ue>>>0&255,g[25]=ue>>>8&255,g[26]=ue>>>16&255,g[27]=ue>>>24&255,g[28]=oe>>>0&255,g[29]=oe>>>8&255,g[30]=oe>>>16&255,g[31]=oe>>>24&255}function ye(g,_,A,c){j(g,_,A,c)}function F(g,_,A,c){pe(g,_,A,c)}var V=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function de(g,_,A,c,C,$,J){var te=new Uint8Array(16),be=new Uint8Array(64),Ne,fe;for(fe=0;fe<16;fe++)te[fe]=0;for(fe=0;fe<8;fe++)te[fe]=$[fe];for(;C>=64;){for(ye(be,te,J,V),fe=0;fe<64;fe++)g[_+fe]=A[c+fe]^be[fe];for(Ne=1,fe=8;fe<16;fe++)Ne=Ne+(te[fe]&255)|0,te[fe]=Ne&255,Ne>>>=8;C-=64,_+=64,c+=64}if(C>0)for(ye(be,te,J,V),fe=0;fe<C;fe++)g[_+fe]=A[c+fe]^be[fe];return 0}function Te(g,_,A,c,C){var $=new Uint8Array(16),J=new Uint8Array(64),te,be;for(be=0;be<16;be++)$[be]=0;for(be=0;be<8;be++)$[be]=c[be];for(;A>=64;){for(ye(J,$,C,V),be=0;be<64;be++)g[_+be]=J[be];for(te=1,be=8;be<16;be++)te=te+($[be]&255)|0,$[be]=te&255,te>>>=8;A-=64,_+=64}if(A>0)for(ye(J,$,C,V),be=0;be<A;be++)g[_+be]=J[be];return 0}function ke(g,_,A,c,C){var $=new Uint8Array(32);F($,c,C,V);for(var J=new Uint8Array(8),te=0;te<8;te++)J[te]=c[te+16];return Te(g,_,A,J,$)}function ce(g,_,A,c,C,$,J){var te=new Uint8Array(32);F(te,$,J,V);for(var be=new Uint8Array(8),Ne=0;Ne<8;Ne++)be[Ne]=$[Ne+16];return de(g,_,A,c,C,be,te)}var Se=function(g){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var _,A,c,C,$,J,te,be;_=g[0]&255|(g[1]&255)<<8,this.r[0]=_&8191,A=g[2]&255|(g[3]&255)<<8,this.r[1]=(_>>>13|A<<3)&8191,c=g[4]&255|(g[5]&255)<<8,this.r[2]=(A>>>10|c<<6)&7939,C=g[6]&255|(g[7]&255)<<8,this.r[3]=(c>>>7|C<<9)&8191,$=g[8]&255|(g[9]&255)<<8,this.r[4]=(C>>>4|$<<12)&255,this.r[5]=$>>>1&8190,J=g[10]&255|(g[11]&255)<<8,this.r[6]=($>>>14|J<<2)&8191,te=g[12]&255|(g[13]&255)<<8,this.r[7]=(J>>>11|te<<5)&8065,be=g[14]&255|(g[15]&255)<<8,this.r[8]=(te>>>8|be<<8)&8191,this.r[9]=be>>>5&127,this.pad[0]=g[16]&255|(g[17]&255)<<8,this.pad[1]=g[18]&255|(g[19]&255)<<8,this.pad[2]=g[20]&255|(g[21]&255)<<8,this.pad[3]=g[22]&255|(g[23]&255)<<8,this.pad[4]=g[24]&255|(g[25]&255)<<8,this.pad[5]=g[26]&255|(g[27]&255)<<8,this.pad[6]=g[28]&255|(g[29]&255)<<8,this.pad[7]=g[30]&255|(g[31]&255)<<8};Se.prototype.blocks=function(g,_,A){for(var c=this.fin?0:2048,C,$,J,te,be,Ne,fe,ot,_e,Ge,Le,Qe,Ye,Je,Xe,je,Re,De,Ce,Me=this.h[0],Ue=this.h[1],Ae=this.h[2],Q=this.h[3],ee=this.h[4],ue=this.h[5],oe=this.h[6],ie=this.h[7],xe=this.h[8],We=this.h[9],tt=this.r[0],et=this.r[1],rt=this.r[2],N=this.r[3],ct=this.r[4],pt=this.r[5],yt=this.r[6],at=this.r[7],ht=this.r[8],xt=this.r[9];A>=16;)C=g[_+0]&255|(g[_+1]&255)<<8,Me+=C&8191,$=g[_+2]&255|(g[_+3]&255)<<8,Ue+=(C>>>13|$<<3)&8191,J=g[_+4]&255|(g[_+5]&255)<<8,Ae+=($>>>10|J<<6)&8191,te=g[_+6]&255|(g[_+7]&255)<<8,Q+=(J>>>7|te<<9)&8191,be=g[_+8]&255|(g[_+9]&255)<<8,ee+=(te>>>4|be<<12)&8191,ue+=be>>>1&8191,Ne=g[_+10]&255|(g[_+11]&255)<<8,oe+=(be>>>14|Ne<<2)&8191,fe=g[_+12]&255|(g[_+13]&255)<<8,ie+=(Ne>>>11|fe<<5)&8191,ot=g[_+14]&255|(g[_+15]&255)<<8,xe+=(fe>>>8|ot<<8)&8191,We+=ot>>>5|c,_e=0,Ge=_e,Ge+=Me*tt,Ge+=Ue*(5*xt),Ge+=Ae*(5*ht),Ge+=Q*(5*at),Ge+=ee*(5*yt),_e=Ge>>>13,Ge&=8191,Ge+=ue*(5*pt),Ge+=oe*(5*ct),Ge+=ie*(5*N),Ge+=xe*(5*rt),Ge+=We*(5*et),_e+=Ge>>>13,Ge&=8191,Le=_e,Le+=Me*et,Le+=Ue*tt,Le+=Ae*(5*xt),Le+=Q*(5*ht),Le+=ee*(5*at),_e=Le>>>13,Le&=8191,Le+=ue*(5*yt),Le+=oe*(5*pt),Le+=ie*(5*ct),Le+=xe*(5*N),Le+=We*(5*rt),_e+=Le>>>13,Le&=8191,Qe=_e,Qe+=Me*rt,Qe+=Ue*et,Qe+=Ae*tt,Qe+=Q*(5*xt),Qe+=ee*(5*ht),_e=Qe>>>13,Qe&=8191,Qe+=ue*(5*at),Qe+=oe*(5*yt),Qe+=ie*(5*pt),Qe+=xe*(5*ct),Qe+=We*(5*N),_e+=Qe>>>13,Qe&=8191,Ye=_e,Ye+=Me*N,Ye+=Ue*rt,Ye+=Ae*et,Ye+=Q*tt,Ye+=ee*(5*xt),_e=Ye>>>13,Ye&=8191,Ye+=ue*(5*ht),Ye+=oe*(5*at),Ye+=ie*(5*yt),Ye+=xe*(5*pt),Ye+=We*(5*ct),_e+=Ye>>>13,Ye&=8191,Je=_e,Je+=Me*ct,Je+=Ue*N,Je+=Ae*rt,Je+=Q*et,Je+=ee*tt,_e=Je>>>13,Je&=8191,Je+=ue*(5*xt),Je+=oe*(5*ht),Je+=ie*(5*at),Je+=xe*(5*yt),Je+=We*(5*pt),_e+=Je>>>13,Je&=8191,Xe=_e,Xe+=Me*pt,Xe+=Ue*ct,Xe+=Ae*N,Xe+=Q*rt,Xe+=ee*et,_e=Xe>>>13,Xe&=8191,Xe+=ue*tt,Xe+=oe*(5*xt),Xe+=ie*(5*ht),Xe+=xe*(5*at),Xe+=We*(5*yt),_e+=Xe>>>13,Xe&=8191,je=_e,je+=Me*yt,je+=Ue*pt,je+=Ae*ct,je+=Q*N,je+=ee*rt,_e=je>>>13,je&=8191,je+=ue*et,je+=oe*tt,je+=ie*(5*xt),je+=xe*(5*ht),je+=We*(5*at),_e+=je>>>13,je&=8191,Re=_e,Re+=Me*at,Re+=Ue*yt,Re+=Ae*pt,Re+=Q*ct,Re+=ee*N,_e=Re>>>13,Re&=8191,Re+=ue*rt,Re+=oe*et,Re+=ie*tt,Re+=xe*(5*xt),Re+=We*(5*ht),_e+=Re>>>13,Re&=8191,De=_e,De+=Me*ht,De+=Ue*at,De+=Ae*yt,De+=Q*pt,De+=ee*ct,_e=De>>>13,De&=8191,De+=ue*N,De+=oe*rt,De+=ie*et,De+=xe*tt,De+=We*(5*xt),_e+=De>>>13,De&=8191,Ce=_e,Ce+=Me*xt,Ce+=Ue*ht,Ce+=Ae*at,Ce+=Q*yt,Ce+=ee*pt,_e=Ce>>>13,Ce&=8191,Ce+=ue*ct,Ce+=oe*N,Ce+=ie*rt,Ce+=xe*et,Ce+=We*tt,_e+=Ce>>>13,Ce&=8191,_e=(_e<<2)+_e|0,_e=_e+Ge|0,Ge=_e&8191,_e=_e>>>13,Le+=_e,Me=Ge,Ue=Le,Ae=Qe,Q=Ye,ee=Je,ue=Xe,oe=je,ie=Re,xe=De,We=Ce,_+=16,A-=16;this.h[0]=Me,this.h[1]=Ue,this.h[2]=Ae,this.h[3]=Q,this.h[4]=ee,this.h[5]=ue,this.h[6]=oe,this.h[7]=ie,this.h[8]=xe,this.h[9]=We},Se.prototype.finish=function(g,_){var A=new Uint16Array(10),c,C,$,J;if(this.leftover){for(J=this.leftover,this.buffer[J++]=1;J<16;J++)this.buffer[J]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,J=2;J<10;J++)this.h[J]+=c,c=this.h[J]>>>13,this.h[J]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,A[0]=this.h[0]+5,c=A[0]>>>13,A[0]&=8191,J=1;J<10;J++)A[J]=this.h[J]+c,c=A[J]>>>13,A[J]&=8191;for(A[9]-=8192,C=(c^1)-1,J=0;J<10;J++)A[J]&=C;for(C=~C,J=0;J<10;J++)this.h[J]=this.h[J]&C|A[J];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,J=1;J<8;J++)$=(this.h[J]+this.pad[J]|0)+($>>>16)|0,this.h[J]=$&65535;g[_+0]=this.h[0]>>>0&255,g[_+1]=this.h[0]>>>8&255,g[_+2]=this.h[1]>>>0&255,g[_+3]=this.h[1]>>>8&255,g[_+4]=this.h[2]>>>0&255,g[_+5]=this.h[2]>>>8&255,g[_+6]=this.h[3]>>>0&255,g[_+7]=this.h[3]>>>8&255,g[_+8]=this.h[4]>>>0&255,g[_+9]=this.h[4]>>>8&255,g[_+10]=this.h[5]>>>0&255,g[_+11]=this.h[5]>>>8&255,g[_+12]=this.h[6]>>>0&255,g[_+13]=this.h[6]>>>8&255,g[_+14]=this.h[7]>>>0&255,g[_+15]=this.h[7]>>>8&255},Se.prototype.update=function(g,_,A){var c,C;if(this.leftover){for(C=16-this.leftover,C>A&&(C=A),c=0;c<C;c++)this.buffer[this.leftover+c]=g[_+c];if(A-=C,_+=C,this.leftover+=C,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(C=A-A%16,this.blocks(g,_,C),_+=C,A-=C),A){for(c=0;c<A;c++)this.buffer[this.leftover+c]=g[_+c];this.leftover+=A}};function we(g,_,A,c,C,$){var J=new Se($);return J.update(A,c,C),J.finish(g,_),0}function Ie(g,_,A,c,C,$){var J=new Uint8Array(16);return we(J,0,A,c,C,$),z(g,_,J,0)}function He(g,_,A,c,C){var $;if(A<32)return-1;for(ce(g,0,_,0,A,c,C),we(g,16,g,32,A-32,g),$=0;$<16;$++)g[$]=0;return 0}function ft(g,_,A,c,C){var $,J=new Uint8Array(32);if(A<32||(ke(J,0,32,c,C),Ie(_,16,_,32,A-32,J)!==0))return-1;for(ce(g,0,_,0,A,c,C),$=0;$<32;$++)g[$]=0;return 0}function nt(g,_){var A;for(A=0;A<16;A++)g[A]=_[A]|0}function X(g){var _,A,c=1;for(_=0;_<16;_++)A=g[_]+c+65535,c=Math.floor(A/65536),g[_]=A-c*65536;g[0]+=c-1+37*(c-1)}function D(g,_,A){for(var c,C=~(A-1),$=0;$<16;$++)c=C&(g[$]^_[$]),g[$]^=c,_[$]^=c}function q(g,_){var A,c,C,$=f(),J=f();for(A=0;A<16;A++)J[A]=_[A];for(X(J),X(J),X(J),c=0;c<2;c++){for($[0]=J[0]-65517,A=1;A<15;A++)$[A]=J[A]-65535-($[A-1]>>16&1),$[A-1]&=65535;$[15]=J[15]-32767-($[14]>>16&1),C=$[15]>>16&1,$[14]&=65535,D(J,$,1-C)}for(A=0;A<16;A++)g[2*A]=J[A]&255,g[2*A+1]=J[A]>>8}function ae(g,_){var A=new Uint8Array(32),c=new Uint8Array(32);return q(A,g),q(c,_),G(A,0,c,0)}function W(g){var _=new Uint8Array(32);return q(_,g),_[0]&1}function Z(g,_){var A;for(A=0;A<16;A++)g[A]=_[2*A]+(_[2*A+1]<<8);g[15]&=32767}function me(g,_,A){for(var c=0;c<16;c++)g[c]=_[c]+A[c]}function ve(g,_,A){for(var c=0;c<16;c++)g[c]=_[c]-A[c]}function Pe(g,_,A){var c,C,$=0,J=0,te=0,be=0,Ne=0,fe=0,ot=0,_e=0,Ge=0,Le=0,Qe=0,Ye=0,Je=0,Xe=0,je=0,Re=0,De=0,Ce=0,Me=0,Ue=0,Ae=0,Q=0,ee=0,ue=0,oe=0,ie=0,xe=0,We=0,tt=0,et=0,rt=0,N=A[0],ct=A[1],pt=A[2],yt=A[3],at=A[4],ht=A[5],xt=A[6],Nt=A[7],Et=A[8],It=A[9],Ct=A[10],Bt=A[11],wt=A[12],er=A[13],Xt=A[14],tr=A[15];c=_[0],$+=c*N,J+=c*ct,te+=c*pt,be+=c*yt,Ne+=c*at,fe+=c*ht,ot+=c*xt,_e+=c*Nt,Ge+=c*Et,Le+=c*It,Qe+=c*Ct,Ye+=c*Bt,Je+=c*wt,Xe+=c*er,je+=c*Xt,Re+=c*tr,c=_[1],J+=c*N,te+=c*ct,be+=c*pt,Ne+=c*yt,fe+=c*at,ot+=c*ht,_e+=c*xt,Ge+=c*Nt,Le+=c*Et,Qe+=c*It,Ye+=c*Ct,Je+=c*Bt,Xe+=c*wt,je+=c*er,Re+=c*Xt,De+=c*tr,c=_[2],te+=c*N,be+=c*ct,Ne+=c*pt,fe+=c*yt,ot+=c*at,_e+=c*ht,Ge+=c*xt,Le+=c*Nt,Qe+=c*Et,Ye+=c*It,Je+=c*Ct,Xe+=c*Bt,je+=c*wt,Re+=c*er,De+=c*Xt,Ce+=c*tr,c=_[3],be+=c*N,Ne+=c*ct,fe+=c*pt,ot+=c*yt,_e+=c*at,Ge+=c*ht,Le+=c*xt,Qe+=c*Nt,Ye+=c*Et,Je+=c*It,Xe+=c*Ct,je+=c*Bt,Re+=c*wt,De+=c*er,Ce+=c*Xt,Me+=c*tr,c=_[4],Ne+=c*N,fe+=c*ct,ot+=c*pt,_e+=c*yt,Ge+=c*at,Le+=c*ht,Qe+=c*xt,Ye+=c*Nt,Je+=c*Et,Xe+=c*It,je+=c*Ct,Re+=c*Bt,De+=c*wt,Ce+=c*er,Me+=c*Xt,Ue+=c*tr,c=_[5],fe+=c*N,ot+=c*ct,_e+=c*pt,Ge+=c*yt,Le+=c*at,Qe+=c*ht,Ye+=c*xt,Je+=c*Nt,Xe+=c*Et,je+=c*It,Re+=c*Ct,De+=c*Bt,Ce+=c*wt,Me+=c*er,Ue+=c*Xt,Ae+=c*tr,c=_[6],ot+=c*N,_e+=c*ct,Ge+=c*pt,Le+=c*yt,Qe+=c*at,Ye+=c*ht,Je+=c*xt,Xe+=c*Nt,je+=c*Et,Re+=c*It,De+=c*Ct,Ce+=c*Bt,Me+=c*wt,Ue+=c*er,Ae+=c*Xt,Q+=c*tr,c=_[7],_e+=c*N,Ge+=c*ct,Le+=c*pt,Qe+=c*yt,Ye+=c*at,Je+=c*ht,Xe+=c*xt,je+=c*Nt,Re+=c*Et,De+=c*It,Ce+=c*Ct,Me+=c*Bt,Ue+=c*wt,Ae+=c*er,Q+=c*Xt,ee+=c*tr,c=_[8],Ge+=c*N,Le+=c*ct,Qe+=c*pt,Ye+=c*yt,Je+=c*at,Xe+=c*ht,je+=c*xt,Re+=c*Nt,De+=c*Et,Ce+=c*It,Me+=c*Ct,Ue+=c*Bt,Ae+=c*wt,Q+=c*er,ee+=c*Xt,ue+=c*tr,c=_[9],Le+=c*N,Qe+=c*ct,Ye+=c*pt,Je+=c*yt,Xe+=c*at,je+=c*ht,Re+=c*xt,De+=c*Nt,Ce+=c*Et,Me+=c*It,Ue+=c*Ct,Ae+=c*Bt,Q+=c*wt,ee+=c*er,ue+=c*Xt,oe+=c*tr,c=_[10],Qe+=c*N,Ye+=c*ct,Je+=c*pt,Xe+=c*yt,je+=c*at,Re+=c*ht,De+=c*xt,Ce+=c*Nt,Me+=c*Et,Ue+=c*It,Ae+=c*Ct,Q+=c*Bt,ee+=c*wt,ue+=c*er,oe+=c*Xt,ie+=c*tr,c=_[11],Ye+=c*N,Je+=c*ct,Xe+=c*pt,je+=c*yt,Re+=c*at,De+=c*ht,Ce+=c*xt,Me+=c*Nt,Ue+=c*Et,Ae+=c*It,Q+=c*Ct,ee+=c*Bt,ue+=c*wt,oe+=c*er,ie+=c*Xt,xe+=c*tr,c=_[12],Je+=c*N,Xe+=c*ct,je+=c*pt,Re+=c*yt,De+=c*at,Ce+=c*ht,Me+=c*xt,Ue+=c*Nt,Ae+=c*Et,Q+=c*It,ee+=c*Ct,ue+=c*Bt,oe+=c*wt,ie+=c*er,xe+=c*Xt,We+=c*tr,c=_[13],Xe+=c*N,je+=c*ct,Re+=c*pt,De+=c*yt,Ce+=c*at,Me+=c*ht,Ue+=c*xt,Ae+=c*Nt,Q+=c*Et,ee+=c*It,ue+=c*Ct,oe+=c*Bt,ie+=c*wt,xe+=c*er,We+=c*Xt,tt+=c*tr,c=_[14],je+=c*N,Re+=c*ct,De+=c*pt,Ce+=c*yt,Me+=c*at,Ue+=c*ht,Ae+=c*xt,Q+=c*Nt,ee+=c*Et,ue+=c*It,oe+=c*Ct,ie+=c*Bt,xe+=c*wt,We+=c*er,tt+=c*Xt,et+=c*tr,c=_[15],Re+=c*N,De+=c*ct,Ce+=c*pt,Me+=c*yt,Ue+=c*at,Ae+=c*ht,Q+=c*xt,ee+=c*Nt,ue+=c*Et,oe+=c*It,ie+=c*Ct,xe+=c*Bt,We+=c*wt,tt+=c*er,et+=c*Xt,rt+=c*tr,$+=38*De,J+=38*Ce,te+=38*Me,be+=38*Ue,Ne+=38*Ae,fe+=38*Q,ot+=38*ee,_e+=38*ue,Ge+=38*oe,Le+=38*ie,Qe+=38*xe,Ye+=38*We,Je+=38*tt,Xe+=38*et,je+=38*rt,C=1,c=$+C+65535,C=Math.floor(c/65536),$=c-C*65536,c=J+C+65535,C=Math.floor(c/65536),J=c-C*65536,c=te+C+65535,C=Math.floor(c/65536),te=c-C*65536,c=be+C+65535,C=Math.floor(c/65536),be=c-C*65536,c=Ne+C+65535,C=Math.floor(c/65536),Ne=c-C*65536,c=fe+C+65535,C=Math.floor(c/65536),fe=c-C*65536,c=ot+C+65535,C=Math.floor(c/65536),ot=c-C*65536,c=_e+C+65535,C=Math.floor(c/65536),_e=c-C*65536,c=Ge+C+65535,C=Math.floor(c/65536),Ge=c-C*65536,c=Le+C+65535,C=Math.floor(c/65536),Le=c-C*65536,c=Qe+C+65535,C=Math.floor(c/65536),Qe=c-C*65536,c=Ye+C+65535,C=Math.floor(c/65536),Ye=c-C*65536,c=Je+C+65535,C=Math.floor(c/65536),Je=c-C*65536,c=Xe+C+65535,C=Math.floor(c/65536),Xe=c-C*65536,c=je+C+65535,C=Math.floor(c/65536),je=c-C*65536,c=Re+C+65535,C=Math.floor(c/65536),Re=c-C*65536,$+=C-1+37*(C-1),C=1,c=$+C+65535,C=Math.floor(c/65536),$=c-C*65536,c=J+C+65535,C=Math.floor(c/65536),J=c-C*65536,c=te+C+65535,C=Math.floor(c/65536),te=c-C*65536,c=be+C+65535,C=Math.floor(c/65536),be=c-C*65536,c=Ne+C+65535,C=Math.floor(c/65536),Ne=c-C*65536,c=fe+C+65535,C=Math.floor(c/65536),fe=c-C*65536,c=ot+C+65535,C=Math.floor(c/65536),ot=c-C*65536,c=_e+C+65535,C=Math.floor(c/65536),_e=c-C*65536,c=Ge+C+65535,C=Math.floor(c/65536),Ge=c-C*65536,c=Le+C+65535,C=Math.floor(c/65536),Le=c-C*65536,c=Qe+C+65535,C=Math.floor(c/65536),Qe=c-C*65536,c=Ye+C+65535,C=Math.floor(c/65536),Ye=c-C*65536,c=Je+C+65535,C=Math.floor(c/65536),Je=c-C*65536,c=Xe+C+65535,C=Math.floor(c/65536),Xe=c-C*65536,c=je+C+65535,C=Math.floor(c/65536),je=c-C*65536,c=Re+C+65535,C=Math.floor(c/65536),Re=c-C*65536,$+=C-1+37*(C-1),g[0]=$,g[1]=J,g[2]=te,g[3]=be,g[4]=Ne,g[5]=fe,g[6]=ot,g[7]=_e,g[8]=Ge,g[9]=Le,g[10]=Qe,g[11]=Ye,g[12]=Je,g[13]=Xe,g[14]=je,g[15]=Re}function Ke(g,_){Pe(g,_,_)}function St(g,_){var A=f(),c;for(c=0;c<16;c++)A[c]=_[c];for(c=253;c>=0;c--)Ke(A,A),c!==2&&c!==4&&Pe(A,A,_);for(c=0;c<16;c++)g[c]=A[c]}function mt(g,_){var A=f(),c;for(c=0;c<16;c++)A[c]=_[c];for(c=250;c>=0;c--)Ke(A,A),c!==1&&Pe(A,A,_);for(c=0;c<16;c++)g[c]=A[c]}function jt(g,_,A){var c=new Uint8Array(32),C=new Float64Array(80),$,J,te=f(),be=f(),Ne=f(),fe=f(),ot=f(),_e=f();for(J=0;J<31;J++)c[J]=_[J];for(c[31]=_[31]&127|64,c[0]&=248,Z(C,A),J=0;J<16;J++)be[J]=C[J],fe[J]=te[J]=Ne[J]=0;for(te[0]=fe[0]=1,J=254;J>=0;--J)$=c[J>>>3]>>>(J&7)&1,D(te,be,$),D(Ne,fe,$),me(ot,te,Ne),ve(te,te,Ne),me(Ne,be,fe),ve(be,be,fe),Ke(fe,ot),Ke(_e,te),Pe(te,Ne,te),Pe(Ne,be,ot),me(ot,te,Ne),ve(te,te,Ne),Ke(be,te),ve(Ne,fe,_e),Pe(te,Ne,E),me(te,te,fe),Pe(Ne,Ne,te),Pe(te,fe,_e),Pe(fe,be,C),Ke(be,ot),D(te,be,$),D(Ne,fe,$);for(J=0;J<16;J++)C[J+16]=te[J],C[J+32]=Ne[J],C[J+48]=be[J],C[J+64]=fe[J];var Ge=C.subarray(32),Le=C.subarray(16);return St(Ge,Ge),Pe(Le,Le,Ge),q(g,Le),0}function Sr(g,_){return jt(g,_,b)}function xn(g,_){return v(_,32),Sr(g,_)}function Rr(g,_,A){var c=new Uint8Array(32);return jt(c,A,_),F(g,m,c,V)}var Xr=He,ne=ft;function le(g,_,A,c,C,$){var J=new Uint8Array(32);return Rr(J,C,$),Xr(g,_,A,c,J)}function H(g,_,A,c,C,$){var J=new Uint8Array(32);return Rr(J,C,$),ne(g,_,A,c,J)}var Ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Oe(g,_,A,c){for(var C=new Int32Array(16),$=new Int32Array(16),J,te,be,Ne,fe,ot,_e,Ge,Le,Qe,Ye,Je,Xe,je,Re,De,Ce,Me,Ue,Ae,Q,ee,ue,oe,ie,xe,We=g[0],tt=g[1],et=g[2],rt=g[3],N=g[4],ct=g[5],pt=g[6],yt=g[7],at=_[0],ht=_[1],xt=_[2],Nt=_[3],Et=_[4],It=_[5],Ct=_[6],Bt=_[7],wt=0;c>=128;){for(Ue=0;Ue<16;Ue++)Ae=8*Ue+wt,C[Ue]=A[Ae+0]<<24|A[Ae+1]<<16|A[Ae+2]<<8|A[Ae+3],$[Ue]=A[Ae+4]<<24|A[Ae+5]<<16|A[Ae+6]<<8|A[Ae+7];for(Ue=0;Ue<80;Ue++)if(J=We,te=tt,be=et,Ne=rt,fe=N,ot=ct,_e=pt,Ge=yt,Le=at,Qe=ht,Ye=xt,Je=Nt,Xe=Et,je=It,Re=Ct,De=Bt,Q=yt,ee=Bt,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=(N>>>14|Et<<32-14)^(N>>>18|Et<<32-18)^(Et>>>41-32|N<<32-(41-32)),ee=(Et>>>14|N<<32-14)^(Et>>>18|N<<32-18)^(N>>>41-32|Et<<32-(41-32)),ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Q=N&ct^~N&pt,ee=Et&It^~Et&Ct,ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Q=Ve[Ue*2],ee=Ve[Ue*2+1],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Q=C[Ue%16],ee=$[Ue%16],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,Ce=ie&65535|xe<<16,Me=ue&65535|oe<<16,Q=Ce,ee=Me,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=(We>>>28|at<<32-28)^(at>>>34-32|We<<32-(34-32))^(at>>>39-32|We<<32-(39-32)),ee=(at>>>28|We<<32-28)^(We>>>34-32|at<<32-(34-32))^(We>>>39-32|at<<32-(39-32)),ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Q=We&tt^We&et^tt&et,ee=at&ht^at&xt^ht&xt,ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,Ge=ie&65535|xe<<16,De=ue&65535|oe<<16,Q=Ne,ee=Je,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=Ce,ee=Me,ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,Ne=ie&65535|xe<<16,Je=ue&65535|oe<<16,tt=J,et=te,rt=be,N=Ne,ct=fe,pt=ot,yt=_e,We=Ge,ht=Le,xt=Qe,Nt=Ye,Et=Je,It=Xe,Ct=je,Bt=Re,at=De,Ue%16===15)for(Ae=0;Ae<16;Ae++)Q=C[Ae],ee=$[Ae],ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=C[(Ae+9)%16],ee=$[(Ae+9)%16],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Ce=C[(Ae+1)%16],Me=$[(Ae+1)%16],Q=(Ce>>>1|Me<<32-1)^(Ce>>>8|Me<<32-8)^Ce>>>7,ee=(Me>>>1|Ce<<32-1)^(Me>>>8|Ce<<32-8)^(Me>>>7|Ce<<32-7),ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,Ce=C[(Ae+14)%16],Me=$[(Ae+14)%16],Q=(Ce>>>19|Me<<32-19)^(Me>>>61-32|Ce<<32-(61-32))^Ce>>>6,ee=(Me>>>19|Ce<<32-19)^(Ce>>>61-32|Me<<32-(61-32))^(Me>>>6|Ce<<32-6),ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,C[Ae]=ie&65535|xe<<16,$[Ae]=ue&65535|oe<<16;Q=We,ee=at,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[0],ee=_[0],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[0]=We=ie&65535|xe<<16,_[0]=at=ue&65535|oe<<16,Q=tt,ee=ht,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[1],ee=_[1],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[1]=tt=ie&65535|xe<<16,_[1]=ht=ue&65535|oe<<16,Q=et,ee=xt,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[2],ee=_[2],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[2]=et=ie&65535|xe<<16,_[2]=xt=ue&65535|oe<<16,Q=rt,ee=Nt,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[3],ee=_[3],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[3]=rt=ie&65535|xe<<16,_[3]=Nt=ue&65535|oe<<16,Q=N,ee=Et,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[4],ee=_[4],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[4]=N=ie&65535|xe<<16,_[4]=Et=ue&65535|oe<<16,Q=ct,ee=It,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[5],ee=_[5],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[5]=ct=ie&65535|xe<<16,_[5]=It=ue&65535|oe<<16,Q=pt,ee=Ct,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[6],ee=_[6],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[6]=pt=ie&65535|xe<<16,_[6]=Ct=ue&65535|oe<<16,Q=yt,ee=Bt,ue=ee&65535,oe=ee>>>16,ie=Q&65535,xe=Q>>>16,Q=g[7],ee=_[7],ue+=ee&65535,oe+=ee>>>16,ie+=Q&65535,xe+=Q>>>16,oe+=ue>>>16,ie+=oe>>>16,xe+=ie>>>16,g[7]=yt=ie&65535|xe<<16,_[7]=Bt=ue&65535|oe<<16,wt+=128,c-=128}return c}function $e(g,_,A){var c=new Int32Array(8),C=new Int32Array(8),$=new Uint8Array(256),J,te=A;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,C[0]=4089235720,C[1]=2227873595,C[2]=4271175723,C[3]=1595750129,C[4]=2917565137,C[5]=725511199,C[6]=4215389547,C[7]=327033209,Oe(c,C,_,A),A%=128,J=0;J<A;J++)$[J]=_[te-A+J];for($[A]=128,A=256-128*(A<112?1:0),$[A-9]=0,U($,A-8,te/536870912|0,te<<3),Oe(c,C,$,A),J=0;J<8;J++)U(g,8*J,c[J],C[J]);return 0}function Ze(g,_){var A=f(),c=f(),C=f(),$=f(),J=f(),te=f(),be=f(),Ne=f(),fe=f();ve(A,g[1],g[0]),ve(fe,_[1],_[0]),Pe(A,A,fe),me(c,g[0],g[1]),me(fe,_[0],_[1]),Pe(c,c,fe),Pe(C,g[3],_[3]),Pe(C,C,k),Pe($,g[2],_[2]),me($,$,$),ve(J,c,A),ve(te,$,C),me(be,$,C),me(Ne,c,A),Pe(g[0],J,te),Pe(g[1],Ne,be),Pe(g[2],be,te),Pe(g[3],J,Ne)}function Ot(g,_,A){var c;for(c=0;c<4;c++)D(g[c],_[c],A)}function zt(g,_){var A=f(),c=f(),C=f();St(C,_[2]),Pe(A,_[0],C),Pe(c,_[1],C),q(g,c),g[31]^=W(A)<<7}function ur(g,_,A){var c,C;for(nt(g[0],y),nt(g[1],h),nt(g[2],h),nt(g[3],y),C=255;C>=0;--C)c=A[C/8|0]>>(C&7)&1,Ot(g,_,c),Ze(_,g),Ze(g,g),Ot(g,_,c)}function se(g,_){var A=[f(),f(),f(),f()];nt(A[0],R),nt(A[1],P),nt(A[2],h),Pe(A[3],R,P),ur(g,A,_)}function ut(g,_,A){var c=new Uint8Array(64),C=[f(),f(),f(),f()],$;for(A||v(_,32),$e(c,_,32),c[0]&=248,c[31]&=127,c[31]|=64,se(C,c),zt(g,C),$=0;$<32;$++)_[$+32]=g[$];return 0}var Tt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fr(g,_){var A,c,C,$;for(c=63;c>=32;--c){for(A=0,C=c-32,$=c-12;C<$;++C)_[C]+=A-16*_[c]*Tt[C-(c-32)],A=Math.floor((_[C]+128)/256),_[C]-=A*256;_[C]+=A,_[c]=0}for(A=0,C=0;C<32;C++)_[C]+=A-(_[31]>>4)*Tt[C],A=_[C]>>8,_[C]&=255;for(C=0;C<32;C++)_[C]-=A*Tt[C];for(c=0;c<32;c++)_[c+1]+=_[c]>>8,g[c]=_[c]&255}function bt(g){var _=new Float64Array(64),A;for(A=0;A<64;A++)_[A]=g[A];for(A=0;A<64;A++)g[A]=0;fr(g,_)}function dr(g,_,A,c){var C=new Uint8Array(64),$=new Uint8Array(64),J=new Uint8Array(64),te,be,Ne=new Float64Array(64),fe=[f(),f(),f(),f()];$e(C,c,32),C[0]&=248,C[31]&=127,C[31]|=64;var ot=A+64;for(te=0;te<A;te++)g[64+te]=_[te];for(te=0;te<32;te++)g[32+te]=C[32+te];for($e(J,g.subarray(32),A+32),bt(J),se(fe,J),zt(g,fe),te=32;te<64;te++)g[te]=c[te];for($e($,g,A+64),bt($),te=0;te<64;te++)Ne[te]=0;for(te=0;te<32;te++)Ne[te]=J[te];for(te=0;te<32;te++)for(be=0;be<32;be++)Ne[te+be]+=$[te]*C[be];return fr(g.subarray(32),Ne),ot}function Be(g,_){var A=f(),c=f(),C=f(),$=f(),J=f(),te=f(),be=f();return nt(g[2],h),Z(g[1],_),Ke(C,g[1]),Pe($,C,S),ve(C,C,g[2]),me($,g[2],$),Ke(J,$),Ke(te,J),Pe(be,te,J),Pe(A,be,C),Pe(A,A,$),mt(A,A),Pe(A,A,C),Pe(A,A,$),Pe(A,A,$),Pe(g[0],A,$),Ke(c,g[0]),Pe(c,c,$),ae(c,C)&&Pe(g[0],g[0],p),Ke(c,g[0]),Pe(c,c,$),ae(c,C)?-1:(W(g[0])===_[31]>>7&&ve(g[0],y,g[0]),Pe(g[3],g[0],g[1]),0)}function Cr(g,_,A,c){var C,$=new Uint8Array(32),J=new Uint8Array(64),te=[f(),f(),f(),f()],be=[f(),f(),f(),f()];if(A<64||Be(be,c))return-1;for(C=0;C<A;C++)g[C]=_[C];for(C=0;C<32;C++)g[C+32]=c[C];if($e(J,g,A),bt(J),ur(te,be,J),se(be,_.subarray(32)),Ze(te,be),zt($,te),A-=64,G(_,0,$,0)){for(C=0;C<A;C++)g[C]=0;return-1}for(C=0;C<A;C++)g[C]=_[C+64];return A}var br=32,lr=24,nn=32,Hr=16,kt=32,mr=32,Kr=32,Yr=32,kr=32,hr=lr,pn=nn,Sn=Hr,_r=64,Ar=32,ze=64,Ir=32,$t=64;u.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ce,crypto_stream:ke,crypto_stream_salsa20_xor:de,crypto_stream_salsa20:Te,crypto_onetimeauth:we,crypto_onetimeauth_verify:Ie,crypto_verify_16:z,crypto_verify_32:G,crypto_secretbox:He,crypto_secretbox_open:ft,crypto_scalarmult:jt,crypto_scalarmult_base:Sr,crypto_box_beforenm:Rr,crypto_box_afternm:Xr,crypto_box:le,crypto_box_open:H,crypto_box_keypair:xn,crypto_hash:$e,crypto_sign:dr,crypto_sign_keypair:ut,crypto_sign_open:Cr,crypto_secretbox_KEYBYTES:br,crypto_secretbox_NONCEBYTES:lr,crypto_secretbox_ZEROBYTES:nn,crypto_secretbox_BOXZEROBYTES:Hr,crypto_scalarmult_BYTES:kt,crypto_scalarmult_SCALARBYTES:mr,crypto_box_PUBLICKEYBYTES:Kr,crypto_box_SECRETKEYBYTES:Yr,crypto_box_BEFORENMBYTES:kr,crypto_box_NONCEBYTES:hr,crypto_box_ZEROBYTES:pn,crypto_box_BOXZEROBYTES:Sn,crypto_sign_BYTES:_r,crypto_sign_PUBLICKEYBYTES:Ar,crypto_sign_SECRETKEYBYTES:ze,crypto_sign_SEEDBYTES:Ir,crypto_hash_BYTES:$t,gf:f,D:S,L:Tt,pack25519:q,unpack25519:Z,M:Pe,A:me,S:Ke,Z:ve,pow2523:mt,add:Ze,set25519:nt,modL:fr,scalarmult:ur,scalarbase:se};function it(g,_){if(g.length!==br)throw new Error("bad key size");if(_.length!==lr)throw new Error("bad nonce size")}function Qt(g,_){if(g.length!==Kr)throw new Error("bad public key size");if(_.length!==Yr)throw new Error("bad secret key size")}function Zt(){for(var g=0;g<arguments.length;g++)if(!(arguments[g]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ln(g){for(var _=0;_<g.length;_++)g[_]=0}u.randomBytes=function(g){var _=new Uint8Array(g);return v(_,g),_},u.secretbox=function(g,_,A){Zt(g,_,A),it(A,_);for(var c=new Uint8Array(nn+g.length),C=new Uint8Array(c.length),$=0;$<g.length;$++)c[$+nn]=g[$];return He(C,c,c.length,_,A),C.subarray(Hr)},u.secretbox.open=function(g,_,A){Zt(g,_,A),it(A,_);for(var c=new Uint8Array(Hr+g.length),C=new Uint8Array(c.length),$=0;$<g.length;$++)c[$+Hr]=g[$];return c.length<32||ft(C,c,c.length,_,A)!==0?null:C.subarray(nn)},u.secretbox.keyLength=br,u.secretbox.nonceLength=lr,u.secretbox.overheadLength=Hr,u.scalarMult=function(g,_){if(Zt(g,_),g.length!==mr)throw new Error("bad n size");if(_.length!==kt)throw new Error("bad p size");var A=new Uint8Array(kt);return jt(A,g,_),A},u.scalarMult.base=function(g){if(Zt(g),g.length!==mr)throw new Error("bad n size");var _=new Uint8Array(kt);return Sr(_,g),_},u.scalarMult.scalarLength=mr,u.scalarMult.groupElementLength=kt,u.box=function(g,_,A,c){var C=u.box.before(A,c);return u.secretbox(g,_,C)},u.box.before=function(g,_){Zt(g,_),Qt(g,_);var A=new Uint8Array(kr);return Rr(A,g,_),A},u.box.after=u.secretbox,u.box.open=function(g,_,A,c){var C=u.box.before(A,c);return u.secretbox.open(g,_,C)},u.box.open.after=u.secretbox.open,u.box.keyPair=function(){var g=new Uint8Array(Kr),_=new Uint8Array(Yr);return xn(g,_),{publicKey:g,secretKey:_}},u.box.keyPair.fromSecretKey=function(g){if(Zt(g),g.length!==Yr)throw new Error("bad secret key size");var _=new Uint8Array(Kr);return Sr(_,g),{publicKey:_,secretKey:new Uint8Array(g)}},u.box.publicKeyLength=Kr,u.box.secretKeyLength=Yr,u.box.sharedKeyLength=kr,u.box.nonceLength=hr,u.box.overheadLength=u.secretbox.overheadLength,u.sign=function(g,_){if(Zt(g,_),_.length!==ze)throw new Error("bad secret key size");var A=new Uint8Array(_r+g.length);return dr(A,g,g.length,_),A},u.sign.open=function(g,_){if(Zt(g,_),_.length!==Ar)throw new Error("bad public key size");var A=new Uint8Array(g.length),c=Cr(A,g,g.length,_);if(c<0)return null;for(var C=new Uint8Array(c),$=0;$<C.length;$++)C[$]=A[$];return C},u.sign.detached=function(g,_){for(var A=u.sign(g,_),c=new Uint8Array(_r),C=0;C<c.length;C++)c[C]=A[C];return c},u.sign.detached.verify=function(g,_,A){if(Zt(g,_,A),_.length!==_r)throw new Error("bad signature size");if(A.length!==Ar)throw new Error("bad public key size");var c=new Uint8Array(_r+g.length),C=new Uint8Array(_r+g.length),$;for($=0;$<_r;$++)c[$]=_[$];for($=0;$<g.length;$++)c[$+_r]=g[$];return Cr(C,c,c.length,A)>=0},u.sign.keyPair=function(){var g=new Uint8Array(Ar),_=new Uint8Array(ze);return ut(g,_),{publicKey:g,secretKey:_}},u.sign.keyPair.fromSecretKey=function(g){if(Zt(g),g.length!==ze)throw new Error("bad secret key size");for(var _=new Uint8Array(Ar),A=0;A<_.length;A++)_[A]=g[32+A];return{publicKey:_,secretKey:new Uint8Array(g)}},u.sign.keyPair.fromSeed=function(g){if(Zt(g),g.length!==Ir)throw new Error("bad seed size");for(var _=new Uint8Array(Ar),A=new Uint8Array(ze),c=0;c<32;c++)A[c]=g[c];return ut(_,A,!0),{publicKey:_,secretKey:A}},u.sign.publicKeyLength=Ar,u.sign.secretKeyLength=ze,u.sign.seedLength=Ir,u.sign.signatureLength=_r,u.hash=function(g){Zt(g);var _=new Uint8Array($t);return $e(_,g,g.length),_},u.hash.hashLength=$t,u.verify=function(g,_){return Zt(g,_),g.length===0||_.length===0||g.length!==_.length?!1:M(g,0,_,0,g.length)===0},u.setPRNG=function(g){v=g},function(){var g=typeof self<"u"?self.crypto||self.msCrypto:null;if(g&&g.getRandomValues){var _=65536;u.setPRNG(function(A,c){var C,$=new Uint8Array(c);for(C=0;C<c;C+=_)g.getRandomValues($.subarray(C,C+Math.min(c-C,_)));for(C=0;C<c;C++)A[C]=$[C];Ln($)})}else g=l(39201),g&&g.randomBytes&&u.setPRNG(function(A,c){var C,$=g.randomBytes(c);for(C=0;C<c;C++)A[C]=$[C];Ln($)})}()})(B.exports?B.exports:self.nacl=self.nacl||{})},31620:function(B,x,l){var Vf,Jf,Zf,Xf,Yf,Qf;"use strict";l.r(x),l.d(x,{WebIrys:function(){return Wf},default:function(){return Wf}});var u={};l.r(u),l.d(u,{arToWinston:function(){return Xe},b64UrlDecode:function(){return Ye},b64UrlEncode:function(){return Qe},b64UrlToBuffer:function(){return _e},b64UrlToString:function(){return be},bufferToString:function(){return Ne},bufferTob64:function(){return Ge},bufferTob64Url:function(){return Le},concatBuffers:function(){return te},stringToB64Url:function(){return ot},stringToBuffer:function(){return fe},winstonToAr:function(){return Je}});var f={};l.r(f),l.d(f,{AVSCTap:function(){return So},AlgorandSigner:function(){return Yd},AptosSigner:function(){return el},ArconnectSigner:function(){return tl},Arweave:function(){return Ma},ArweaveSigner:function(){return bs},Bundle:function(){return wu},BundleItem:function(){return al},CryptoDriver:function(){return rc},Curve25519:function(){return $},DataItem:function(){return fi},EthereumSigner:function(){return Ms},HexInjectedSolanaSigner:function(){return Fs},HexSolanaSigner:function(){return Qd},InjectedAptosSigner:function(){return Hs},InjectedEthereumSigner:function(){return Vd},InjectedSolanaSigner:function(){return dc},InjectedTypedEthereumSigner:function(){return bo},MAX_TAG_BYTES:function(){return Ao},MIN_BINARY_SIZE:function(){return _o},MultiSignatureAptosSigner:function(){return xu},NearSigner:function(){return go},PolygonSigner:function(){return Xd},Rsa4096:function(){return nc},SIG_CONFIG:function(){return A},SignatureConfig:function(){return _},Signer:function(){return g},SolanaSigner:function(){return ho},TypedEthereumSigner:function(){return yu},bundleAndSignData:function(){return Eu},byteArrayToLong:function(){return Yt},concatBuffers:function(){return te},createData:function(){return Po},deepHash:function(){return Re},deserializeTags:function(){return js},exportForTesting:function(){return Zd},getCryptoDriver:function(){return ar},getSignatureAndId:function(){return Su},indexToType:function(){return mo},keccak256:function(){return xo},longTo16ByteArray:function(){return nl},longTo32ByteArray:function(){return Eo},longTo8ByteArray:function(){return vo},longToNByteArray:function(){return Gi},secp256k1:function(){return du},serializeTags:function(){return mu},shortTo2ByteArray:function(){return bu},sign:function(){return To},stringToBuffer:function(){return fe},unbundleData:function(){return sl}});var v={};l.r(v),l.d(v,{default:function(){return cl},processStream:function(){return _u},streamExportForTesting:function(){return ul},streamSigner:function(){return ol}});var m={};l.r(m),l.d(m,{DataItem:function(){return fi},bundleAndSignData:function(){return Eu},createData:function(){return Po},deepHash:function(){return Re},getCryptoDriver:function(){return ar},stringToBuffer:function(){return fe}});const b=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(Vf=globalThis.crypto).subtle??(Vf.subtle={}),(Jf=globalThis.crypto.subtle).generateKey??(Jf.generateKey=b),(Zf=globalThis.crypto.subtle).importKey??(Zf.importKey=b),(Xf=globalThis.crypto.subtle).exportKey??(Xf.exportKey=b),(Yf=globalThis.crypto.subtle).digest??(Yf.digest=b),(Qf=globalThis.crypto.subtle).sign??(Qf.sign=b);var y=null,h=l(18731),E=l(29938),S=l(35906),k=l(55872).Buffer;function R(r){class e extends r.arbundles.DataItem{constructor(i,s,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?k.from(i):s.arbundles.createData(i,s.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??S.randomBytes(32).toString("base64").slice(0,32)}).getRaw());O(this,"Irys");O(this,"signer");this.Irys=s,this.signer=s.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(i){return(await this.Irys.uploader.uploadTransaction(this,{...i,getReceiptSignature:!0})).data}async upload(i){return(await this.Irys.uploader.uploadTransaction(this,i)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return r.arbundles.DataItem.verify(this.getRaw())}}return e}var P=l(27220),p=l(1562);p.Z.set({DECIMAL_PLACES:50});const U=r=>new Promise(e=>setTimeout(e,r));class M{constructor(e,t,n){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"arbundles");this.api=e,this.token=t,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,t,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${t}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return M.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return M.checkAndThrow(t,"Getting balance"),new p.Z(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");M.checkAndThrow(t,"Getting Bundler address");const n=t.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,t){const n=await this.api.get(`/price/${e}/${t}`);return M.checkAndThrow(n,"Getting storage cost"),new p.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const t=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,i=(await this.getPrice(this.tokenConfig.name,t)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(i).decimalPlaces(0)}toAtomic(e){return new p.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new p.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,t=30){if(this.tokenConfig.isSlow)return;t<0&&(t=0);let n,i;const s=async()=>{for(;!i;){if(await this.tokenConfig.getTx(e).then(w=>w==null?void 0:w.confirmed).catch(w=>(n=w,!1)))return!0;await U(1e3)}return!1},a=async()=>(await U(t*1e3),i=!0,"RACE"),o=await Promise.race([a(),s()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${t} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new p.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return M.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,t){const{id:n,deadlineHeight:i,timestamp:s,public:a,signature:o,version:d}=t,w=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(d),e.stringToBuffer(n),e.stringToBuffer(i.toString()),e.stringToBuffer(s.toString())]);return await e.getCryptoDriver().verify(a,w,P.toBuffer(o))}async getReceipt(e){var o,d,w,T,I,L;const t=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await E(async()=>await this.api.post("/graphql",{query:t},{headers:{"content-type":"application/json"},validateStatus:Y=>Y===200})),i=(L=(I=(T=(w=(d=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:d.transactions)==null?void 0:w.edges)==null?void 0:T.at(0))==null?void 0:I.node)==null?void 0:L.receipt;if(!i)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:i.version,id:e,timestamp:i.timestamp,validatorSignatures:[],signature:i.signature,deadlineHeight:i.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var z=l(55872).Buffer;async function G(r,e,t){const n=r.tokenConfig,{deepHash:i,stringToBuffer:s}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:r.token,amount:new p.Z(t).toString(),nonce:await r.getNonce(),signature:"",sigType:n.getSigner().signatureType},d=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]);z.isBuffer(o.publicKey)||(o.publicKey=z.from(o.publicKey));const w=await n.sign(d),T=await n.verify(o.publicKey,d,w);o.publicKey=P.encode(o.publicKey),o.signature=P.encode(z.from(w));const I=P.toBuffer(o.publicKey),L=P.toBuffer(o.signature),Y=await i([s(o.currency),s(o.amount.toString()),s(o.nonce.toString())]),re=await n.verify(I,Y,L),he=n.ownerToAddress(n.name=="arweave"?P.decode(o.publicKey):P.toBuffer(o.publicKey))===n.address;if(!(T||re||he))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const Ee=await e.post("/account/withdraw",o);if(Ee.status===202){const qe=Ee.data.tx_id,dt=await r.confirmationPoll(qe);if(dt!==!0)throw new Error(`Unable to confirm withdrawal tx ${qe} ${dt?dt==null?void 0:dt.toString():""}`)}else M.checkAndThrow(Ee,"Withdrawing balance");return Ee.data}var j=l(26748);class pe{constructor({url:e,retryConfig:t,query:n,queryName:i,opts:s}){O(this,"queryVars",{});O(this,"queryFields");O(this,"queryInfo");O(this,"_query");O(this,"url");O(this,"config");O(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...t}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${i}`);if(this.queryInfo={...n},this.queryFields=n.query,i.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(s!=null&&s.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var d,w;if(this.config.userProvided)return this;const e=T=>JSON.stringify(T,(I,L)=>{if(L instanceof Array)return L[0];if(typeof L=="object")return L;if(L!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),t=e(this.queryFields),n=e({pageInfo:{[((d=this.queryInfo.paging)==null?void 0:d.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),i=this.queryInfo.enumValues,s={...this.queryInfo.vars,...this.queryVars};for(const[T,I]of Object.entries(this.queryInfo.remapVars??{}))if((s==null?void 0:s[T])!==void 0){if(typeof I=="function"){const L=I(T,s[T],s);if(!L)continue;const[Y,re]=L;if(s[Y]=re,Y===T)continue}else s[I]=s[T];s[T]=void 0}const a=JSON.stringify(s,function(T,I){return I===void 0||I instanceof Array||typeof I=="object"||typeof I=="number"||i!=null&&i.includes(T)?I:`'${I}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((w=this==null?void 0:this.queryInfo)!=null&&w.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${t}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${t}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await E(async i=>{const s=await(0,h.Z)(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(s.data.errors)throw s;return s},this.config.retryOpts)}catch(i){throw new Error(`Error running query
 ${this._query} - ${i.message?i.message+" -":""} (${JSON.stringify(((n=i==null?void 0:i.data)==null?void 0:n.errors.map(s=>s.message))??(i==null?void 0:i.errors)??i)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const t=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const i=t.pageInfo[this.queryInfo.paging.hasNextPage]?t.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=i,this.trimmer(t.edges.map(s=>s.node))}return this.trimmer([t].flat(20))}trimmer(e){var i,s;const t=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(t>=((i=this==null?void 0:this.config)==null?void 0:i.numPages)&&(this.resultTracker.done=!0),n>=((s=this==null?void 0:this.config)==null?void 0:s.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const t=await this.getPage();if(!t)break;e.push(...t)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const t of e)yield t}while(this.queryVars.after)}stream(){return j.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,t=!1){const n=(i,s,a)=>{for(const o of Object.keys(a)){let d=s[o];Array.isArray(d)&&(d=d[0]);const w=a[o];if(d===void 0)throw new Error(`Illegal field ${i}${o}`);typeof w=="object"&&n(i+o+".",d,w)}};return t||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,t){return this.all().then(e,t)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const ye={id:"",timestamp:0,height:"",previous:""},V={name:"block",query:ye,vars:{id:void 0}},Te={name:"blocks",query:ye,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.height={...t.height,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.height={...t.height,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},ke={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},Se={name:"transaction",query:ke,vars:{id:void 0}},X={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,from:new Date(e).getTime()},t.fromTimestamp=void 0},toTimestamp:(r,e,t)=>{t.timestamp={...t.timestamp,to:new Date(e).getTime()},t.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:ke,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(r,e)=>[r,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(r,e,t)=>{t.block={...t.block,min:e},t.minHeight=void 0},maxHeight:(r,e,t)=>{t.block={...t.block,max:e},t.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":Te};class D{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){O(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,t){const n=(t==null?void 0:t.query)??X[e];return new pe({...this.opts,query:n,queryName:e})}}var q=null;class ae{constructor({url:e,arbundles:t}){O(this,"api");O(this,"utils");O(this,"uploader");O(this,"funder");O(this,"address");O(this,"token");O(this,"tokenConfig");O(this,"provenance");O(this,"transactions");O(this,"_readyPromise");O(this,"url");O(this,"arbundles");O(this,"IrysTransaction");this.url=e,this.arbundles=t,this.IrysTransaction=R(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new D({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new D(e??{url:this.url})}async withdrawBalance(e){return G(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return M.verifyReceipt(this.arbundles,e)}createTransaction(e,t){return new this.IrysTransaction(e,this,t)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,t){return this.uploader.uploadData(e,t)}async uploadWithReceipt(e,t){return this.uploader.uploadData(e,{...t,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(t){return new e.IrysTransaction(t,e,{dataIsRawTransaction:!0})}}}}O(ae,"VERSION","0.0.2");class W{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":ae.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=h.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return E(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}class Z{constructor(e){O(this,"utils");this.utils=e}async fund(e,t=1){const n=new p.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const i=this.utils.tokenConfig,s=await this.utils.getBundlerAddress(this.utils.token);let a;if(i.needsFee){const I=await i.getFee(i.base[0]==="winston"?0:n,s);a=p.Z.isBigNumber(I)?I.multipliedBy(t).integerValue(p.Z.ROUND_CEIL):I}const o=await i.createTx(n,s,a);let d;try{d=await i.sendTx(o.tx)}catch(I){throw I}if(o.txId??(o.txId=d),!o.txId)throw new Error("Undefined transaction ID");M.checkAndThrow(d,`Sending transaction to the ${this.utils.token} network`);let w=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(I=>{w=I}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${w?` - ${(w==null?void 0:w.message)??w}`:""}`);return{reward:p.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:s,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await E(async()=>{const t=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return M.checkAndThrow(t,`Posting transaction ${e} information to the bundler`,[202]),t},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var me=l(39098),ve=l.n(me);const Pe="logger/5.7.0";let Ke=!1,St=!1;const mt={debug:1,default:2,info:2,warning:3,error:4,off:5};let jt=mt.default,Sr=null;function xn(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Rr=xn();var Xr;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Xr||(Xr={}));var ne;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ne||(ne={}));const le="0123456789abcdef";class H{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();mt[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(jt>mt[n])&&console.log.apply(console,t)}debug(...e){this._log(H.levels.DEBUG,e)}info(...e){this._log(H.levels.INFO,e)}warn(...e){this._log(H.levels.WARNING,e)}makeError(e,t,n){if(St)return this.makeError("censored error",t,{});t||(t=H.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(d=>{const w=n[d];try{if(w instanceof Uint8Array){let T="";for(let I=0;I<w.length;I++)T+=le[w[I]>>4],T+=le[w[I]&15];i.push(d+"=Uint8Array(0x"+T+")")}else i.push(d+"="+JSON.stringify(w))}catch{i.push(d+"="+JSON.stringify(n[d].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let a="";switch(t){case ne.NUMERIC_FAULT:{a="NUMERIC_FAULT";const d=e;switch(d){case"overflow":case"underflow":case"division-by-zero":a+="-"+d;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case ne.CALL_EXCEPTION:case ne.INSUFFICIENT_FUNDS:case ne.MISSING_NEW:case ne.NONCE_EXPIRED:case ne.REPLACEMENT_UNDERPRICED:case ne.TRANSACTION_REPLACED:case ne.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=t,Object.keys(n).forEach(function(d){o[d]=n[d]}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,H.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Rr&&this.throwError("platform missing String.prototype.normalize",H.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Rr})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,H.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,H.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",H.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Sr||(Sr=new H(Pe)),Sr}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ke){if(!e)return;this.globalLogger().throwError("error censorship permanent",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,Ke=!!t}static setLogLevel(e){const t=mt[e.toLowerCase()];if(t==null){H.globalLogger().warn("invalid log level - "+e);return}jt=t}static from(e){return new H(e)}}H.errors=ne,H.levels=Xr;const Ve="bytes/5.7.0",Oe=new H(Ve);function $e(r){return!!r.toHexString}function Ze(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Ze(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Ot(r){return bt(r)&&!(r.length%2)||ur(r)}function zt(r){return typeof r=="number"&&r==r&&r%1===0}function ur(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!zt(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!zt(t)||t<0||t>=256)return!1}return!0}function se(r,e){if(e||(e={}),typeof r=="number"){Oe.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ze(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),$e(r)&&(r=r.toHexString()),bt(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Oe.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Ze(new Uint8Array(n))}return ur(r)?Ze(new Uint8Array(r)):Oe.throwArgumentError("invalid arrayify value","value",r)}function ut(r){const e=r.map(i=>se(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ze(n)}function Tt(r){let e=se(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function fr(r,e){r=se(r),r.length>e&&Oe.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Ze(t)}function bt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const dr="0123456789abcdef";function Be(r,e){if(e||(e={}),typeof r=="number"){Oe.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=dr[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),$e(r))return r.toHexString();if(bt(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Oe.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ur(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=dr[(i&240)>>4]+dr[i&15]}return t}return Oe.throwArgumentError("invalid hexlify value","value",r)}function Cr(r){if(typeof r!="string")r=Be(r);else if(!bt(r)||r.length%2)return null;return(r.length-2)/2}function br(r,e,t){return typeof r!="string"?r=Be(r):(!bt(r)||r.length%2)&&Oe.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function lr(r){let e="0x";return r.forEach(t=>{e+=Be(t).substring(2)}),e}function nn(r){const e=Hr(Be(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function Hr(r){typeof r!="string"&&(r=Be(r)),bt(r)||Oe.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function kt(r,e){for(typeof r!="string"?r=Be(r):bt(r)||Oe.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Oe.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function mr(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ot(r)){let t=se(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Be(t.slice(0,32)),e.s=Be(t.slice(32,64))):t.length===65?(e.r=Be(t.slice(0,32)),e.s=Be(t.slice(32,64)),e.v=t[64]):Oe.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Oe.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Be(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=fr(se(e._vs),32);e._vs=Be(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Oe.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const a=Be(i);e.s==null?e.s=a:e.s!==a&&Oe.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Oe.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Oe.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!bt(e.r)?Oe.throwArgumentError("signature missing or invalid r","signature",r):e.r=kt(e.r,32),e.s==null||!bt(e.s)?Oe.throwArgumentError("signature missing or invalid s","signature",r):e.s=kt(e.s,32);const t=se(e.s);t[0]>=128&&Oe.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=Be(t);e._vs&&(bt(e._vs)||Oe.throwArgumentError("signature invalid _vs","signature",r),e._vs=kt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Oe.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Kr(r){return r=mr(r),Be(ut([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const Yr="bignumber/5.7.0";var kr=ve().BN;const hr=new H(Yr),pn={},Sn=9007199254740991;function _r(r){return r!=null&&(ze.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||isHexString(r)||typeof r=="bigint"||isBytes(r))}let Ar=!1;class ze{constructor(e,t){e!==pn&&hr.throwError("cannot call constructor directly; use BigNumber.from",H.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return $t(it(this).fromTwos(e))}toTwos(e){return $t(it(this).toTwos(e))}abs(){return this._hex[0]==="-"?ze.from(this._hex.substring(1)):this}add(e){return $t(it(this).add(it(e)))}sub(e){return $t(it(this).sub(it(e)))}div(e){return ze.from(e).isZero()&&Qt("division-by-zero","div"),$t(it(this).div(it(e)))}mul(e){return $t(it(this).mul(it(e)))}mod(e){const t=it(e);return t.isNeg()&&Qt("division-by-zero","mod"),$t(it(this).umod(t))}pow(e){const t=it(e);return t.isNeg()&&Qt("negative-power","pow"),$t(it(this).pow(t))}and(e){const t=it(e);return(this.isNegative()||t.isNeg())&&Qt("unbound-bitwise-result","and"),$t(it(this).and(t))}or(e){const t=it(e);return(this.isNegative()||t.isNeg())&&Qt("unbound-bitwise-result","or"),$t(it(this).or(t))}xor(e){const t=it(e);return(this.isNegative()||t.isNeg())&&Qt("unbound-bitwise-result","xor"),$t(it(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Qt("negative-width","mask"),$t(it(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Qt("negative-width","shl"),$t(it(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Qt("negative-width","shr"),$t(it(this).shrn(e))}eq(e){return it(this).eq(it(e))}lt(e){return it(this).lt(it(e))}lte(e){return it(this).lte(it(e))}gt(e){return it(this).gt(it(e))}gte(e){return it(this).gte(it(e))}isNegative(){return this._hex[0]==="-"}isZero(){return it(this).isZero()}toNumber(){try{return it(this).toNumber()}catch{Qt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hr.throwError("this platform does not support BigInt",H.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ar||(Ar=!0,hr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",H.errors.UNEXPECTED_ARGUMENT,{}):hr.throwError("BigNumber.toString does not accept parameters",H.errors.UNEXPECTED_ARGUMENT,{})),it(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ze)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ze(pn,Ir(e)):e.match(/^-?[0-9]+$/)?new ze(pn,Ir(new kr(e))):hr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Qt("underflow","BigNumber.from",e),(e>=Sn||e<=-Sn)&&Qt("overflow","BigNumber.from",e),ze.from(String(e));const t=e;if(typeof t=="bigint")return ze.from(t.toString());if(ur(t))return ze.from(Be(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return ze.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(bt(n)||n[0]==="-"&&bt(n.substring(1))))return ze.from(n)}return hr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Ir(r){if(typeof r!="string")return Ir(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&hr.throwArgumentError("invalid hex","value",r),r=Ir(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function $t(r){return ze.from(Ir(r))}function it(r){const e=ze.from(r).toHexString();return e[0]==="-"?new kr("-"+e.substring(3),16):new kr(e.substring(2),16)}function Qt(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),hr.throwError(r,H.errors.NUMERIC_FAULT,n)}function Zt(r){return new kr(r,36).toString(16)}function Ln(r){return new kr(r,16).toString(36)}class g{constructor(){O(this,"publicKey");O(this,"signatureType");O(this,"signatureLength");O(this,"ownerLength");O(this,"pem")}static verify(e,t,n,i){throw new Error("You must implement verify method on child")}}var _;(function(r){r[r.ARWEAVE=1]="ARWEAVE",r[r.ED25519=2]="ED25519",r[r.ETHEREUM=3]="ETHEREUM",r[r.SOLANA=4]="SOLANA",r[r.INJECTEDAPTOS=5]="INJECTEDAPTOS",r[r.MULTIAPTOS=6]="MULTIAPTOS",r[r.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(_||(_={}));const A={[_.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[_.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[_.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[_.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[_.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[_.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[_.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var c=l(4909),C=l(55872).Buffer;class ${constructor(e,t){O(this,"_key");O(this,"pk");O(this,"ownerLength",A[2].pubLength);O(this,"signatureLength",A[2].sigLength);O(this,"_publicKey");O(this,"signatureType",2);this._key=e,this.pk=t}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,c.Xx)(C.from(e),C.from(this.key))}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=P.toBuffer(e)),(0,c.T)(C.from(n),C.from(t),C.from(i))}}var J=l(65415);function te(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;t.set(new Uint8Array(r[0]),n),n+=r[0].byteLength;for(let i=1;i<r.length;i++)t.set(new Uint8Array(r[i]),n),n+=r[i].byteLength;return t}function be(r){const e=_e(r);return Ne(e)}function Ne(r){return new TextDecoder("utf-8",{fatal:!0}).decode(r)}function fe(r){return new TextEncoder().encode(r)}function ot(r){return Le(fe(r))}function _e(r){return new Uint8Array((0,J.toByteArray)(Ye(r)))}function Ge(r){return(0,J.fromByteArray)(new Uint8Array(r))}function Le(r){return Qe(Ge(r))}function Qe(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Ye(r){r=r.replace(/\-/g,"+").replace(/\_/g,"/");let e;return r.length%4==0?e=0:e=4-r.length%4,r.concat("=".repeat(e))}function Je(r){return new p.Z(r).shiftedBy(-12)}function Xe(r){return new p.Z(r).shiftedBy(12)}class je{constructor(){O(this,"keyLength",4096);O(this,"publicExponent",65537);O(this,"hashAlgorithm","sha256");O(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),t=await this.driver.exportKey("jwk",e.privateKey);return{kty:t.kty,e:t.e,n:t.n,d:t.d,p:t.p,q:t.q,dp:t.dp,dq:t.dq,qi:t.qi}}async sign(e,t,{saltLength:n}={saltLength:32}){const i=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),t);return new Uint8Array(i)}async hash(e,t="SHA-256"){const n=await this.driver.digest(t,e);return new Uint8Array(n)}async verify(e,t,n){const i={kty:"RSA",e:"AQAB",n:e},s=await this.jwkToPublicCryptoKey(i),a=await this.driver.digest("SHA-256",t),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},s,n,t),d=await this.driver.verify({name:"RSA-PSS",saltLength:32},s,n,t),w=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((s.algorithm.modulusLength-1)/8)-a.byteLength-2},s,n,t);return o||d||w}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?fe(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:fe(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},s,e);return te([a,o])}async decrypt(e,t,n){const i=await this.driver.importKey("raw",typeof t=="string"?fe(t):t,{name:"PBKDF2",length:32},!1,["deriveKey"]),s=await this.driver.deriveKey({name:"PBKDF2",salt:fe(n||"salt"),iterations:1e5,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},s,e.slice(16));return te([o])}}async function Re(r){if(typeof r[Symbol.asyncIterator]=="function"){const i=r,s=(0,S.createHash)("sha384");let a=0;for await(const w of i)a+=w.byteLength,s.update(w);const o=te([fe("blob"),fe(a.toString())]),d=te([await ar().hash(o,"SHA-384"),s.digest()]);return await ar().hash(d,"SHA-384")}else if(Array.isArray(r)){const i=te([fe("list"),fe(r.length.toString())]);return await De(r,await ar().hash(i,"SHA-384"))}const e=r,t=te([fe("blob"),fe(e.byteLength.toString())]),n=te([await ar().hash(t,"SHA-384"),await ar().hash(e,"SHA-384")]);return await ar().hash(n,"SHA-384")}async function De(r,e){if(r.length<1)return e;const t=te([e,await Re(r[0])]),n=await ar().hash(t,"SHA-384");return await De(r.slice(1),n)}async function Ce(r){const e=createHash("sha384");for await(const t of r)e.update(t);return e.digest()}var Me=null;class Ue extends Error{constructor(t,n={}){var e=(...C1)=>{super(...C1);O(this,"type");O(this,"response")};n.message?e(n.message):e(),this.type=t,this.response=n.response}getType(){return this.type}}function Ae(r){let e=r.data;if(typeof r.data=="string")try{e=JSON.parse(r.data)}catch{}if(r.data instanceof ArrayBuffer||r.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:r.statusText||"unknown"}class Q{constructor(e,t){O(this,"api");O(this,"network");this.api=e,this.network=t}async getByHash(e){const t=await this.api.get(`block/hash/${e}`);if(t.status===200)return t.data;throw t.status===404?new Ue("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getByHeight(e){const t=await this.api.get(`block/height/${e}`);if(t.status===200)return t.data;throw t.status===404?new Ue("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var ee=l(55872).Buffer;const ue=256*1024,oe=32*1024,ie=32,xe=32;class We{constructor(e){O(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const t=[];let n=e,i=0;for(;n.byteLength>=ue;){let s=ue;const a=n.byteLength-ue;a>0&&a<oe&&(s=Math.ceil(n.byteLength/2));const o=n.slice(0,s),d=await this.crypto.hash(o);i+=o.byteLength,t.push({dataHash:d,minByteRange:i-o.byteLength,maxByteRange:i}),n=n.slice(s)}return t.push({dataHash:await this.crypto.hash(n),minByteRange:i,maxByteRange:i+n.byteLength}),t}async generateLeaves(e){return Promise.all(e.map(async({dataHash:t,minByteRange:n,maxByteRange:i})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(t),this.hash(et(i))])),dataHash:t,minByteRange:n,maxByteRange:i})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const t=await this.chunkData(e),n=await this.generateLeaves(t),i=await this.buildLayers(n),s=await this.generateProofs(i),a=t.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(t.splice(t.length-1,1),s.splice(s.length-1,1)),{data_root:i.id,chunks:t,proofs:s}}async buildLayers(e,t=0){if(e.length<2)return e[0];const n=[];for(let i=0;i<e.length;i+=2)n.push(await this.hashBranch(e[i],e[i+1]));return this.buildLayers(n,t+1)}generateProofs(e){const t=this.resolveBranchProofs(e);return Array.isArray(t)?tt(t):[t]}resolveBranchProofs(e,t=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:te([t,e.dataHash,et(e.maxByteRange)])};if(e.type=="branch"){const i=te([t,e.leftChild.id,e.rightChild.id,et(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,i,n+1),this.resolveBranchProofs(e.rightChild,i,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,t,n,i,s){if(i<=0)return!1;if(t>=i)return this.validatePath(e,0,i-1,i,s);if(t<0)return this.validatePath(e,0,0,i,s);if(s.length==xe+ie){const L=s.slice(0,xe),Y=s.slice(L.length,L.length+ie),re=await this.hash([await this.hash(L),await this.hash(Y)]);return N(e,re)?{offset:i-1,leftBound:n,rightBound:i,chunkSize:i-n}:!1}const a=s.slice(0,xe),o=s.slice(a.length,a.length+xe),d=s.slice(a.length+o.length,a.length+o.length+ie),w=rt(d),T=s.slice(a.length+o.length+d.length),I=await this.hash([await this.hash(a),await this.hash(o),await this.hash(d)]);return N(e,I)?t<w?await this.validatePath(a,t,n,Math.min(i,w),T):await this.validatePath(o,t,Math.max(n,w),i,T):!1}async hashBranch(e,t){return t?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(t.id),await this.hash(et(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}:e}async hash(e){return Array.isArray(e)&&(e=tc.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,t=""){if(e.byteLength<1)return t;const n=e.slice(0,xe),i=e.slice(n.length,n.length+xe),s=e.slice(n.length+i.length,n.length+i.length+ie),a=rt(s),o=e.slice(n.length+i.length+s.length),d=await this.hash([await this.hash(n),await this.hash(i),await this.hash(s)]),w=`${t}
${JSON.stringify(ee.from(n))},${JSON.stringify(ee.from(i))},${a} => ${JSON.stringify(d)}`;return this.debug(o,w)}}function tt(r){const e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...tt(t)):e.push(t)}),e}function et(r){const e=new Uint8Array(ie);for(let t=e.length-1;t>=0;t--){const n=r%256;e[t]=n,r=(r-n)/256}return e}function rt(r){let e=0;for(let t=0;t<r.length;t++)e*=256,e+=r[t];return e}const N=(r,e)=>r.every((t,n)=>e[n]===t);var ct=We;class pt{constructor(e){O(this,"api");this.api=e}async getTransactionMetadata(e){const t=await this.api.get(`tx/${e}/offset`);if(t.status===200)return t.data;throw new Error(`Unable to get transaction offset: ${Ae(t)}`)}async getChunk(e){const t=await this.api.get(`chunk/${e}`);if(t.status===200)return t.data;throw new Error(`Unable to get chunk: ${Ae(t)}`)}async getChunkData(e){const t=await this.getChunk(e);return _e(t.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,t){const n=await this.getTransactionMetadata(e),i=parseInt(n.size),s=new Uint8Array(i);let a=0;for await(const o of this.concurrentChunkDownloader(e,t))s.set(o,a),a+=o.length;return s}async*concurrentChunkDownloader(e,t){const n={concurrency:10,...t},i=await this.getTransactionMetadata(e),s=new p.Z(i.offset),a=new p.Z(i.size),o=s.minus(a).plus(1);let d=0;const w=Math.ceil(a.dividedBy(ue).toNumber()),T=he=>this.getChunkData(he.toString()).then(Ee=>(d+=Ee.length,Ee)),I=[],L=w-2,Y=Math.min(L,n.concurrency);let re=0;for(let he=0;he<Y;he++)I.push(T(o.plus(ue*re++)));for(;re<L;)I.push(T(o.plus(ue*re++))),yield I.shift();for(;I.length>0;)yield I.shift();if(yield T(o.plus(ue*re++)),a.isGreaterThan(d)&&(yield T(o.plus(ue*re++))),!a.isEqualTo(d))throw new Error(`got ${d}B, expected ${a.toString()}B`)}}function yt(r,e){const t=r;return t.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:fe,concatBuffers:te},crypto:r}}),t}class at{constructor({deps:e}){O(this,"crypto");O(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const i=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(i,"SHA-384"))}const t=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(t,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,t){if(e.length<1)return t;const n=this.utils.concatBuffers([t,await this.deepHash(e[0])]),i=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),i)}}class ht{constructor(e){O(this,"_instance");O(this,"cookieMap",new Map);O(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const t=this.cookieMap.get(new URL(e.baseURL??"").host);return t&&(e.headers.cookie=t),e}async responseInterceptor(e){var n;const t=(n=e.headers)==null?void 0:n["set-cookie"];return t&&this.cookieMap.set(e.request.host,t),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":tc.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,t){var n;try{return await this.request(e,{...t,method:"GET"})}catch(i){if((n=i.response)!=null&&n.status)return i.response;throw i}}async post(e,t,n){var i;try{return await this.request(e,{data:t,...n,method:"POST"})}catch(s){if((i=s.response)!=null&&i.status)return s.response;throw s}}get instance(){if(this._instance)return this._instance;const e=h.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response: ${t.config.url} - ${t.status}`),t))),this._instance=e}async request(e,t){const n=this.instance,i=(t==null?void 0:t.url)??new URL(e,this.config.url).toString();return E(s=>n({...t,url:i}),{...this.config.retry,...t==null?void 0:t.retry})}}const xt=r=>typeof r!="string"&&"url"in r,Nt={maxAttempts:15,randomlySelect:!0};class Et{constructor({gateways:e,miners:t,opts:n}){O(this,"minerInstances",[]);O(this,"globalConfig");O(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},t&&this.addMiners(t),e&&this.addGateways(e)}async addPeersFrom(e,t){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,t==null?void 0:t.limit).map(i=>`http://${i}`))}addMiners(e){e.forEach(t=>this.minerInstances.push(new ht(xt(t)?t:{url:new URL(t),...this.globalConfig})))}addGateways(e){e.forEach(t=>this.gatewayInstances.push(new ht(xt(t)?t:{url:new URL(t),...this.globalConfig})))}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{data:t,...n,method:"POST"})}async request(e,t){const n={...Nt,...t==null?void 0:t.fallback};let i=0;const s=[],a=t!=null&&t.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),d=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;i++<o;){const w=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):i-1);if(w)try{return await w.request(e,{...t})}catch(T){if(d==null||d(T,w),s.push(T),i>=o)throw T}}throw new Error("unreachable")}}var It=Et;class Ct{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?Ne(this[e]):t&&t.decode&&!t.string?this[e]:Le(this[e]);if(this[e]instanceof Array){if((t==null?void 0:t.decode)!==void 0||(t==null?void 0:t.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return t&&t.decode==!0?t&&t.string?be(this[e]):_e(this[e]):this[e]}}class Bt extends Ct{constructor(t,n){super();O(this,"name");O(this,"value");this.name=t,this.value=n}}class wt extends Ct{constructor({attributes:t,deps:n}){super();O(this,"format",2);O(this,"id","");O(this,"last_tx","");O(this,"owner","");O(this,"tags",[]);O(this,"target","");O(this,"quantity","0");O(this,"data_size","0");O(this,"data",new Uint8Array);O(this,"data_root","");O(this,"reward","0");O(this,"signature","");O(this,"merkle");O(this,"deepHash");O(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,t),typeof this.data=="string"&&(this.data=_e(this.data)),t.tags&&(this.tags=t.tags)}addTag(t,n){this.tags.push({name:ot(t),value:ot(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Le(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:n,reward:i,tags:s,signature:a}){this.id=t,this.owner=n,i&&(this.reward=i),s&&(this.tags=s),this.signature=a}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(t),this.data_root=Le(this.chunks.data_root)),!this.chunks&&t.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const i=this.chunks.proofs[t],s=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:Le(i.proof),offset:i.offset.toString(),chunk:Le(n.slice(s.minByteRange,s.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const t=this.tags.reduce((i,s)=>te([i,_e(s.name),_e(s.value)]),new Uint8Array);return te([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),fe(this.quantity),fe(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(i=>[_e(i.name),_e(i.value)]);return await this.deepHash.deepHash([fe(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),fe(this.quantity),fe(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,fe(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class er{constructor(e){O(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const Xt=1,tr=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],ec=1e3*40;class Bi{constructor({deps:e,transaction:t}){O(this,"chunkIndex",0);O(this,"txPosted",!1);O(this,"transaction");O(this,"lastRequestTimeEnd",0);O(this,"totalErrors",0);O(this,"data");O(this,"lastResponseStatus",0);O(this,"lastResponseError","");O(this,"crypto");O(this,"api");O(this,"merkle");O(this,"deepHash");if(!t.id)throw new Error("Transaction is not signed");if(!t.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=t.data,this.transaction=new wt({attributes:Object.assign({},t,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+ec-Date.now(),ec);if(t>0&&(t=t-t*Math.random()*.3,await new Promise(a=>setTimeout(a,t))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),_e(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=Ae(s),tr.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:t,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const i=new wt(e.transaction);i.chunks||await i.prepareChunks(t);const s=new Bi({deps:n,transaction:i});if(s.chunkIndex=e.chunkIndex,s.lastRequestTimeEnd=e.lastRequestTimeEnd,s.lastResponseError=e.lastResponseError,s.lastResponseStatus=e.lastResponseStatus,s.txPosted=e.txPosted,s.data=t,s.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,t){const n=await e.get(`tx/${t}`);if(n.status!==200)throw new Error(`Tx ${t} not found: ${n.status}`);const i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Xt){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Xt;return}throw this.lastResponseError=Ae(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=Ae(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}class n0{constructor({deps:e}){O(this,"api");O(this,"crypto");O(this,"chunks");O(this,"merkle");O(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,t){const n=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){const t=await this.api.get(`tx/${e}`);if(t.status==200){const n=parseInt(t.data.data_size);if(t.data.format>=2&&n>0&&n<=1024*1024*12){const i=await this.getData(e);return new wt({attributes:{...t.data,data:i},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new wt({attributes:{...t.data,format:t.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw t.status===404?new Ue("TX_NOT_FOUND"):t.status===410?new Ue("TX_FAILED"):new Ue("TX_INVALID")}fromRaw(e){return new wt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(t=>t.status===200?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(e){let t;try{t=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async getDataStream(e){let t;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;t=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!t){console.warn(`Falling back to chunks for ${e}`);try{t=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!t)throw new Error(`${e} data was not found!`);return t}async sign(e,t,n){const s=typeof t=="object"&&(o=>{let d=!0;return["n","e","d","p","q","dp","dq","qi"].map(w=>!(w in o)&&(d=!1)),d})(t),a=typeof arweaveWallet=="object";if(!s&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(d=>new Bt(d.name,d.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(s){e.setOwner(t.n);const o=await e.getSignatureData(),d=await this.crypto.sign(t,o,n),w=await this.crypto.hash(d);e.setSignature({id:Le(w),owner:t.n,signature:Le(d)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const t=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=Le(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,n)}async post(e){if(typeof e=="string"?e=new wt({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new wt({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof wt)&&(e=new wt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof wt))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(n){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let n;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof wt){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),n=new Bi({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=t)}else{if(typeof e=="string"&&(e=await Bi.fromTransactionId(this.api,e)),!t||!(t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await Bi.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:t})}return n}async*upload(e,t){const n=await this.getUploader(e,t);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class i0{constructor(e,t){O(this,"api");O(this,"crypto");this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(t){return t}]}).then(t=>t.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return Le(await this.crypto.hash(_e(e)))}}const Yo=class{constructor(e){O(this,"config");O(this,"api");O(this,"wallets");O(this,"transactions");O(this,"network");O(this,"blocks");O(this,"chunks");O(this,"crypto");O(this,"deepHash");O(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=yt(e.crypto,{deepHash:at}),this.deepHash=this.crypto.deepHash;const t=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new It({gateways:t,miners:e.miners}),this.wallets=new i0(this.api,this.crypto),this.chunks=new pt(this.api),this.network=new er(this.api),this.blocks=new Q(this.api,this.network),this.merkle=new ct({deps:{crypto:this.crypto}}),this.transactions=new n0({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return Yo.utils}getConfig(){return this.config}async createTransaction(e,t){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&t&&t!=="use_wallet"&&(n.owner=t.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=fe(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const i=new wt({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await i.getSignatureData(),i}};let Hn=Yo;O(Hn,"init"),O(Hn,"utils",u),O(Hn,"VERSION","0.0.1");var tc=Hn;class Ma extends Hn{constructor(e,t){super({crypto:(t==null?void 0:t.crypto)??new je,...t,gateways:e??"https://arweave.net"})}static init(e){return new Ma(e)}}const Fy=null;var Ly=null;const s0=je.default?je.default:je;class rc extends s0{getPublicKey(e){throw new Error("Unimplemented")}}let a0;function ar(){return a0??(a0=new rc)}var o0=l(55872).Buffer;class nc{constructor(e,t){O(this,"_key");O(this,"pk");O(this,"signatureType",1);O(this,"ownerLength",A[1].pubLength);O(this,"signatureLength",A[1].sigLength);O(this,"_publicKey");this._key=e,this.pk=t,t||(this.pk=ar().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,S.createSign)("sha256").update(e).sign({key:this._key,padding:S.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,t,n){return await ar().verify(o0.isBuffer(e)?P.encode(e):e,t,n)}}var c0=l(90980),gs=l(55872).Buffer;const Kn=c0.define;function u0(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Da(r){return u0(gs.from(r,"hex").toString("base64"))}const ic=Kn("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),sc=Kn("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),f0=Kn("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(sc),this.key("publicKey").bitstr())}),ac=Kn("Version",function(){this.int({0:"two-prime",1:"multi"})}),d0=Kn("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),oc=Kn("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(ac),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(d0))}),l0=Kn("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(ac),this.key("algorithm").use(sc),this.key("privateKey").bitstr())}),Hy="1.2.840.113549.1.1.1";function cc(r,e){return e=e||{},Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function Fa(r){return r.length%2===1?"0"+r:r}function uc(r,e){const t=ic.decode(r,"der"),n=Fa(t.e.toString(16)),i={kty:"RSA",n:_n(t.n),e:Da(n)};return cc(i,e)}function fc(r,e){const t=oc.decode(r,"der"),n=Fa(t.e.toString(16)),i={kty:"RSA",n:_n(t.n),e:Da(n),d:_n(t.d),p:_n(t.p),q:_n(t.q),dp:_n(t.dp),dq:_n(t.dq),qi:_n(t.qi)};return cc(i,e)}function h0(r,e){const t=f0.decode(r,"der");return uc(t.publicKey.data,e)}function x0(r,e){const t=l0.decode(r,"der");return fc(t.privateKey.data,e)}function p0(r){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(r);if(!e)return null;const t=!!e[1];return e[2]==="PRIVATE"?t?fc:x0:t?uc:h0}function y0(r){return{n:An(r.n),e:An(r.e),d:r.d&&An(r.d),p:r.p&&An(r.p),q:r.q&&An(r.q),dp:r.dp&&An(r.dp),dq:r.dq&&An(r.dq),qi:r.qi&&An(r.qi)}}function _n(r){return Da(Fa(r.toString(16)))}function g0(r){return new me(gs.from(r,"base64"))}function An(r){return/^[0-9]+$/.test(r)?new me(r,10):g0(r)}function Ky(r,e){let t=r.toString().split(/(\r\n|\r|\n)+/g);t=t.filter(function(i){return i.trim().length!==0});const n=p0(t[0]);return t=t.slice(1,-1).join(""),n(gs.from(t.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function b0(r){const e=y0(r),t=!!e.d,n=t?"PRIVATE":"PUBLIC",i="-----BEGIN RSA "+n+` KEY-----
`,s=`
-----END RSA `+n+` KEY-----
`;let a=gs.alloc(0);t?(e.version="two-prime",a=oc.encode(e,"der")):a=ic.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return i+o+s}class bs extends nc{constructor(t){super(b0(t),t.n);O(this,"jwk");this.jwk=t}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return P.toBuffer(this.pk)}sign(t){return ar().sign(this.jwk,t)}static async verify(t,n,i){return await ar().verify(t,n,i)}}var La=l(55872).Buffer;class dc{constructor(e){O(this,"_publicKey");O(this,"ownerLength",A[2].pubLength);O(this,"signatureLength",A[2].sigLength);O(this,"signatureType",2);O(this,"pem");O(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,t,n){let i=e;return typeof e=="string"&&(i=P.toBuffer(e)),(0,c.T)(La.from(n),La.from(t),La.from(i))}}var lc=l(40954),m0=l.n(lc);function rr(r){return"0x"+m0().keccak_256(se(r))}const w0="strings/5.7.0",hc=new H(w0);var Tn;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Tn||(Tn={}));var Br;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Br||(Br={}));function v0(r,e,t,n,i){return hc.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function xc(r,e,t,n,i){if(r===Br.BAD_PREFIX||r===Br.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===Br.OVERRUN?t.length-e-1:0}function E0(r,e,t,n,i){return r===Br.OVERLONG?(n.push(i),0):(n.push(65533),xc(r,e,t,n,i))}const S0=Object.freeze({error:v0,ignore:xc,replace:E0});function Ha(r,e){e==null&&(e=S0.error),r=se(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Br.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(Br.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(Br.OVERRUN,n-1,r,t);continue}let o=i&(1<<8-s-1)-1;for(let d=0;d<s;d++){let w=r[n];if((w&192)!=128){n+=e(Br.MISSING_CONTINUE,n,r,t),o=null;break}o=o<<6|w&63,n++}if(o!==null){if(o>1114111){n+=e(Br.OUT_OF_RANGE,n-1-s,r,t,o);continue}if(o>=55296&&o<=57343){n+=e(Br.UTF16_SURROGATE,n-1-s,r,t,o);continue}if(o<=a){n+=e(Br.OVERLONG,n-1-s,r,t,o);continue}t.push(o)}}return t}function Qr(r,e=Tn.current){e!=Tn.current&&(hc.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return se(t)}function Ka(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function zy(r,e){return'"'+Ha(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Ka(t):(t-=65536,Ka((t>>10&1023)+55296)+Ka((t&1023)+56320))}).join("")+'"'}function _0(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function A0(r,e){return _0(Ha(r,e))}function $y(r,e=Tn.current){return Ha(Qr(r,e))}const T0=`Ethereum Signed Message:
`;function ms(r){return typeof r=="string"&&(r=Qr(r)),rr(ut([Qr(T0),Qr(String(r.length)),r]))}var P0=l(14751),Ur=l.n(P0),qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof l.g<"u"?l.g:typeof self<"u"?self:{};function jy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ri(r,e,t){return t={path:e,exports:{},require:function(n,i){return R0(n,i??t.path)}},r(t,t.exports),t.exports}function Gy(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Wy(r){return r&&Object.prototype.hasOwnProperty.call(r,"default")&&Object.keys(r).length===1?r.default:r}function Vy(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function R0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var za=pc;function pc(r,e){if(!r)throw new Error(e||"Assertion failed")}pc.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var en=ri(function(r,e){"use strict";var t=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var d=[];if(typeof a!="string"){for(var w=0;w<a.length;w++)d[w]=a[w]|0;return d}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var w=0;w<a.length;w+=2)d.push(parseInt(a[w]+a[w+1],16))}else for(var w=0;w<a.length;w++){var T=a.charCodeAt(w),I=T>>8,L=T&255;I?d.push(I,L):d.push(L)}return d}t.toArray=n;function i(a){return a.length===1?"0"+a:a}t.zero2=i;function s(a){for(var o="",d=0;d<a.length;d++)o+=i(a[d].toString(16));return o}t.toHex=s,t.encode=function(o,d){return d==="hex"?s(o):o}}),Or=ri(function(r,e){"use strict";var t=e;t.assert=za,t.toArray=en.toArray,t.zero2=en.zero2,t.toHex=en.toHex,t.encode=en.encode;function n(d,w,T){var I=new Array(Math.max(d.bitLength(),T)+1);I.fill(0);for(var L=1<<w+1,Y=d.clone(),re=0;re<I.length;re++){var he,Ee=Y.andln(L-1);Y.isOdd()?(Ee>(L>>1)-1?he=(L>>1)-Ee:he=Ee,Y.isubn(he)):he=0,I[re]=he,Y.iushrn(1)}return I}t.getNAF=n;function i(d,w){var T=[[],[]];d=d.clone(),w=w.clone();for(var I=0,L=0,Y;d.cmpn(-I)>0||w.cmpn(-L)>0;){var re=d.andln(3)+I&3,he=w.andln(3)+L&3;re===3&&(re=-1),he===3&&(he=-1);var Ee;re&1?(Y=d.andln(7)+I&7,(Y===3||Y===5)&&he===2?Ee=-re:Ee=re):Ee=0,T[0].push(Ee);var qe;he&1?(Y=w.andln(7)+L&7,(Y===3||Y===5)&&re===2?qe=-he:qe=he):qe=0,T[1].push(qe),2*I===Ee+1&&(I=1-I),2*L===qe+1&&(L=1-L),d.iushrn(1),w.iushrn(1)}return T}t.getJSF=i;function s(d,w,T){var I="_"+w;d.prototype[w]=function(){return this[I]!==void 0?this[I]:this[I]=T.call(this)}}t.cachedProperty=s;function a(d){return typeof d=="string"?t.toArray(d,"hex"):d}t.parseBytes=a;function o(d){return new(ve())(d,"hex","le")}t.intFromLE=o}),ws=Or.getNAF,C0=Or.getJSF,vs=Or.assert;function Pn(r,e){this.type=r,this.p=new(ve())(e.p,16),this.red=e.prime?ve().red(e.prime):ve().mont(this.p),this.zero=new(ve())(0).toRed(this.red),this.one=new(ve())(1).toRed(this.red),this.two=new(ve())(2).toRed(this.red),this.n=e.n&&new(ve())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var zn=Pn;Pn.prototype.point=function(){throw new Error("Not implemented")},Pn.prototype.validate=function(){throw new Error("Not implemented")},Pn.prototype._fixedNafMul=function(e,t){vs(e.precomputed);var n=e._getDoubles(),i=ws(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,d;for(o=0;o<i.length;o+=n.step){d=0;for(var w=o+n.step-1;w>=o;w--)d=(d<<1)+i[w];a.push(d)}for(var T=this.jpoint(null,null,null),I=this.jpoint(null,null,null),L=s;L>0;L--){for(o=0;o<a.length;o++)d=a[o],d===L?I=I.mixedAdd(n.points[o]):d===-L&&(I=I.mixedAdd(n.points[o].neg()));T=T.add(I)}return T.toP()},Pn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=ws(t,n,this._bitLength),o=this.jpoint(null,null,null),d=a.length-1;d>=0;d--){for(var w=0;d>=0&&a[d]===0;d--)w++;if(d>=0&&w++,o=o.dblp(w),d<0)break;var T=a[d];vs(T!==0),e.type==="affine"?T>0?o=o.mixedAdd(s[T-1>>1]):o=o.mixedAdd(s[-T-1>>1].neg()):T>0?o=o.add(s[T-1>>1]):o=o.add(s[-T-1>>1].neg())}return e.type==="affine"?o.toP():o},Pn.prototype._wnafMulAdd=function(e,t,n,i,s){var a=this._wnafT1,o=this._wnafT2,d=this._wnafT3,w=0,T,I,L;for(T=0;T<i;T++){L=t[T];var Y=L._getNAFPoints(e);a[T]=Y.wnd,o[T]=Y.points}for(T=i-1;T>=1;T-=2){var re=T-1,he=T;if(a[re]!==1||a[he]!==1){d[re]=ws(n[re],a[re],this._bitLength),d[he]=ws(n[he],a[he],this._bitLength),w=Math.max(d[re].length,w),w=Math.max(d[he].length,w);continue}var Ee=[t[re],null,null,t[he]];t[re].y.cmp(t[he].y)===0?(Ee[1]=t[re].add(t[he]),Ee[2]=t[re].toJ().mixedAdd(t[he].neg())):t[re].y.cmp(t[he].y.redNeg())===0?(Ee[1]=t[re].toJ().mixedAdd(t[he]),Ee[2]=t[re].add(t[he].neg())):(Ee[1]=t[re].toJ().mixedAdd(t[he]),Ee[2]=t[re].toJ().mixedAdd(t[he].neg()));var qe=[-3,-1,-5,-7,0,7,5,1,3],dt=C0(n[re],n[he]);for(w=Math.max(dt[0].length,w),d[re]=new Array(w),d[he]=new Array(w),I=0;I<w;I++){var Rt=dt[0][I]|0,Wt=dt[1][I]|0;d[re][I]=qe[(Rt+1)*3+(Wt+1)],d[he][I]=0,o[re]=Ee}}var Ut=this.jpoint(null,null,null),Er=this._wnafT4;for(T=w;T>=0;T--){for(var Pr=0;T>=0;){var qt=!0;for(I=0;I<i;I++)Er[I]=d[I][T]|0,Er[I]!==0&&(qt=!1);if(!qt)break;Pr++,T--}if(T>=0&&Pr++,Ut=Ut.dblp(Pr),T<0)break;for(I=0;I<i;I++){var Fr=Er[I];Fr!==0&&(Fr>0?L=o[I][Fr-1>>1]:Fr<0&&(L=o[I][-Fr-1>>1].neg()),L.type==="affine"?Ut=Ut.mixedAdd(L):Ut=Ut.add(L))}}for(T=0;T<i;T++)o[T]=null;return s?Ut:Ut.toP()};function zr(r,e){this.curve=r,this.type=e,this.precomputed=null}Pn.BasePoint=zr,zr.prototype.eq=function(){throw new Error("Not implemented")},zr.prototype.validate=function(){return this.curve.validate(this)},Pn.prototype.decodePoint=function(e,t){e=Or.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?vs(e[e.length-1]%2===0):e[0]===7&&vs(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},zr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},zr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},zr.prototype.encode=function(e,t){return Or.encode(this._encode(t),e)},zr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},zr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},zr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},zr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}},zr.prototype._getBeta=function(){return null},zr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var $a=ri(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),k0=Or.assert;function $r(r){zn.call(this,"short",r),this.a=new(ve())(r.a,16).toRed(this.red),this.b=new(ve())(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$a($r,zn);var I0=$r;$r.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new(ve())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new(ve())(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],k0(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(ve())(o.a,16),b:new(ve())(o.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}},$r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ve().mont(e),n=new(ve())(2).toRed(t).redInvm(),i=n.redNeg(),s=new(ve())(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]},$r.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new(ve())(1),a=new(ve())(0),o=new(ve())(0),d=new(ve())(1),w,T,I,L,Y,re,he,Ee=0,qe,dt;n.cmpn(0)!==0;){var Rt=i.div(n);qe=i.sub(Rt.mul(n)),dt=o.sub(Rt.mul(s));var Wt=d.sub(Rt.mul(a));if(!I&&qe.cmp(t)<0)w=he.neg(),T=s,I=qe.neg(),L=dt;else if(I&&++Ee===2)break;he=qe,i=n,n=qe,o=s,s=dt,d=a,a=Wt}Y=qe.neg(),re=dt;var Ut=I.sqr().add(L.sqr()),Er=Y.sqr().add(re.sqr());return Er.cmp(Ut)>=0&&(Y=w,re=T),I.negative&&(I=I.neg(),L=L.neg()),Y.negative&&(Y=Y.neg(),re=re.neg()),[{a:I,b:L},{a:Y,b:re}]},$r.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),d=a.mul(i.a),w=s.mul(n.b),T=a.mul(i.b),I=e.sub(o).sub(d),L=w.add(T).neg();return{k1:I,k2:L}},$r.prototype.pointFromX=function(e,t){e=new(ve())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},$r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},$r.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),d=e[a],w=d._getBeta();o.k1.negative&&(o.k1.ineg(),d=d.neg(!0)),o.k2.negative&&(o.k2.ineg(),w=w.neg(!0)),i[a*2]=d,i[a*2+1]=w,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var T=this._wnafMulAdd(1,i,s,a*2,n),I=0;I<a*2;I++)i[I]=null,s[I]=null;return T};function nr(r,e,t,n){zn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ve())(e,16),this.y=new(ve())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$a(nr,zn.BasePoint),$r.prototype.point=function(e,t,n){return new nr(this,e,t,n)},$r.prototype.pointFromJSON=function(e,t){return nr.fromJSON(this,e,t)},nr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},nr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nr.prototype.isInfinity=function(){return this.inf},nr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},nr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},nr.prototype.getX=function(){return this.x.fromRed()},nr.prototype.getY=function(){return this.y.fromRed()},nr.prototype.mul=function(e){return e=new(ve())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},nr.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},nr.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},nr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},nr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},nr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function or(r,e,t,n){zn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ve())(0)):(this.x=new(ve())(e,16),this.y=new(ve())(t,16),this.z=new(ve())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$a(or,zn.BasePoint),$r.prototype.jpoint=function(e,t,n){return new or(this,e,t,n)},or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},or.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),d=i.redSub(s),w=a.redSub(o);if(d.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=d.redSqr(),I=T.redMul(d),L=i.redMul(T),Y=w.redSqr().redIAdd(I).redISub(L).redISub(L),re=w.redMul(L.redISub(Y)).redISub(a.redMul(I)),he=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(Y,re,he)},or.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(i),d=s.redSub(a);if(o.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=o.redSqr(),T=w.redMul(o),I=n.redMul(w),L=d.redSqr().redIAdd(T).redISub(I).redISub(I),Y=d.redMul(I.redISub(L)).redISub(s.redMul(T)),re=this.z.redMul(o);return this.curve.jpoint(L,Y,re)},or.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,d=this.z,w=d.redSqr().redSqr(),T=o.redAdd(o);for(t=0;t<e;t++){var I=a.redSqr(),L=T.redSqr(),Y=L.redSqr(),re=I.redAdd(I).redIAdd(I).redIAdd(i.redMul(w)),he=a.redMul(L),Ee=re.redSqr().redISub(he.redAdd(he)),qe=he.redISub(Ee),dt=re.redMul(qe);dt=dt.redIAdd(dt).redISub(Y);var Rt=T.redMul(d);t+1<e&&(w=w.redMul(Y)),a=Ee,d=Rt,T=dt}return this.curve.jpoint(a,T.redMul(s),d)},or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},or.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i),w=d.redSqr().redISub(o).redISub(o),T=a.redIAdd(a);T=T.redIAdd(T),T=T.redIAdd(T),e=w,t=d.redMul(o.redISub(w)).redISub(T),n=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),L=this.y.redSqr(),Y=L.redSqr(),re=this.x.redAdd(L).redSqr().redISub(I).redISub(Y);re=re.redIAdd(re);var he=I.redAdd(I).redIAdd(I),Ee=he.redSqr(),qe=Y.redIAdd(Y);qe=qe.redIAdd(qe),qe=qe.redIAdd(qe),e=Ee.redISub(re).redISub(re),t=he.redMul(re.redISub(e)).redISub(qe),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},or.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),w=d.redSqr().redISub(o).redISub(o);e=w;var T=a.redIAdd(a);T=T.redIAdd(T),T=T.redIAdd(T),t=d.redMul(o.redISub(w)).redISub(T),n=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),L=this.y.redSqr(),Y=this.x.redMul(L),re=this.x.redSub(I).redMul(this.x.redAdd(I));re=re.redAdd(re).redIAdd(re);var he=Y.redIAdd(Y);he=he.redIAdd(he);var Ee=he.redAdd(he);e=re.redSqr().redISub(Ee),n=this.y.redAdd(this.z).redSqr().redISub(L).redISub(I);var qe=L.redSqr();qe=qe.redIAdd(qe),qe=qe.redIAdd(qe),qe=qe.redIAdd(qe),t=re.redMul(he.redISub(e)).redISub(qe)}return this.curve.jpoint(e,t,n)},or.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),d=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),w=t.redAdd(t);w=w.redIAdd(w);var T=w.redMul(o),I=d.redSqr().redISub(T.redAdd(T)),L=T.redISub(I),Y=o.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var re=d.redMul(L).redISub(Y),he=n.redAdd(n).redMul(i);return this.curve.jpoint(I,re,he)},or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var d=o.redSqr(),w=i.redIAdd(i);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var T=s.redIAdd(o).redSqr().redISub(a).redISub(d).redISub(w),I=t.redMul(T);I=I.redIAdd(I),I=I.redIAdd(I);var L=this.x.redMul(d).redISub(I);L=L.redIAdd(L),L=L.redIAdd(L);var Y=this.y.redMul(T.redMul(w.redISub(T)).redISub(o.redMul(d)));Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var re=this.z.redAdd(o).redSqr().redISub(n).redISub(d);return this.curve.jpoint(L,Y,re)},or.prototype.mul=function(e,t){return e=new(ve())(e,t),this.curve._wnafMul(this,e)},or.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},or.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},or.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Es=ri(function(r,e){"use strict";var t=e;t.base=zn,t.short=I0,t.mont=null,t.edwards=null}),Ss=ri(function(r,e){"use strict";var t=e,n=Or.assert;function i(o){o.type==="short"?this.curve=new Es.short(o):o.type==="edwards"?this.curve=new Es.edwards(o):this.curve=new Es.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(o,d){Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){var w=new i(d);return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:w}),w}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ur().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ur().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ur().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ur().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ur().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ur().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ur().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ur().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Rn(r){if(!(this instanceof Rn))return new Rn(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=en.toArray(r.entropy,r.entropyEnc||"hex"),t=en.toArray(r.nonce,r.nonceEnc||"hex"),n=en.toArray(r.pers,r.persEnc||"hex");za(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var yc=Rn;Rn.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Rn.prototype._hmac=function(){return new(Ur()).hmac(this.hash,this.K)},Rn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Rn.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=en.toArray(e,t),n=en.toArray(n,i),za(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Rn.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=en.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,en.encode(a,t)};var qa=Or.assert;function xr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ja=xr;xr.fromPublic=function(e,t,n){return t instanceof xr?t:new xr(e,{pub:t,pubEnc:n})},xr.fromPrivate=function(e,t,n){return t instanceof xr?t:new xr(e,{priv:t,privEnc:n})},xr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},xr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},xr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},xr.prototype._importPrivate=function(e,t){this.priv=new(ve())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},xr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?qa(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qa(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},xr.prototype.derive=function(e){return e.validate()||qa(e.validate(),"public point not validated"),e.mul(this.priv).getX()},xr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},xr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},xr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var B0=Or.assert;function _s(r,e){if(r instanceof _s)return r;this._importDER(r,e)||(B0(r.r&&r.s,"Signature without r or s"),this.r=new(ve())(r.r,16),this.s=new(ve())(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var As=_s;function U0(){this.place=0}function Ga(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function gc(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}_s.prototype._importDER=function(e,t){e=Or.toArray(e,t);var n=new U0;if(e[n.place++]!==48)return!1;var i=Ga(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Ga(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=Ga(e,n);if(o===!1||e.length!==o+n.place)return!1;var d=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new(ve())(a),this.s=new(ve())(d),this.recoveryParam=null,!0};function Wa(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}_s.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=gc(t),n=gc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Wa(i,t.length),i=i.concat(t),i.push(2),Wa(i,n.length);var s=i.concat(n),a=[48];return Wa(a,s.length),a=a.concat(s),Or.encode(a,e)};var O0=function(){throw new Error("unsupported")},bc=Or.assert;function qr(r){if(!(this instanceof qr))return new qr(r);typeof r=="string"&&(bc(Object.prototype.hasOwnProperty.call(Ss,r),"Unknown curve "+r),r=Ss[r]),r instanceof Ss.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var N0=qr;qr.prototype.keyPair=function(e){return new ja(this,e)},qr.prototype.keyFromPrivate=function(e,t){return ja.fromPrivate(this,e,t)},qr.prototype.keyFromPublic=function(e,t){return ja.fromPublic(this,e,t)},qr.prototype.genKeyPair=function(e){e||(e={});for(var t=new yc({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||O0(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new(ve())(2));;){var s=new(ve())(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},qr.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},qr.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(ve())(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),o=e.toArray("be",s),d=new yc({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new(ve())(1)),T=0;;T++){var I=i.k?i.k(T):new(ve())(d.generate(this.n.byteLength()));if(I=this._truncateToN(I,!0),!(I.cmpn(1)<=0||I.cmp(w)>=0)){var L=this.g.mul(I);if(!L.isInfinity()){var Y=L.getX(),re=Y.umod(this.n);if(re.cmpn(0)!==0){var he=I.invm(this.n).mul(re.mul(t.getPrivate()).iadd(e));if(he=he.umod(this.n),he.cmpn(0)!==0){var Ee=(L.getY().isOdd()?1:0)|(Y.cmp(re)!==0?2:0);return i.canonical&&he.cmp(this.nh)>0&&(he=this.n.sub(he),Ee^=1),new As({r:re,s:he,recoveryParam:Ee})}}}}}},qr.prototype.verify=function(e,t,n,i){e=this._truncateToN(new(ve())(e,16)),n=this.keyFromPublic(n,i),t=new As(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),d=o.mul(e).umod(this.n),w=o.mul(s).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(d,n.getPublic(),w),T.isInfinity()?!1:T.eqXToP(s)):(T=this.g.mulAdd(d,n.getPublic(),w),T.isInfinity()?!1:T.getX().umod(this.n).cmp(s)===0)},qr.prototype.recoverPubKey=function(r,e,t,n){bc((3&t)===t,"The recovery param is more than two bits"),e=new As(e,n);var i=this.n,s=new(ve())(r),a=e.r,o=e.s,d=t&1,w=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?a=this.curve.pointFromX(a.add(this.curve.n),d):a=this.curve.pointFromX(a,d);var T=e.r.invm(i),I=i.sub(s).mul(T).umod(i),L=o.mul(T).umod(i);return this.g.mulAdd(I,a,L)},qr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new As(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var M0=ri(function(r,e){"use strict";var t=e;t.version="6.5.4",t.utils=Or,t.rand=function(){throw new Error("unsupported")},t.curve=Es,t.curves=Ss,t.ec=N0,t.eddsa=null}),D0=M0.ec;const F0="properties/5.7.0";var L0=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const Ts=new H(F0);function ge(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ui(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function yn(r){return L0(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function H0(r,e){(!r||typeof r!="object")&&Ts.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Ts.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Cn(r){const e={};for(const t in r)e[t]=r[t];return e}const K0={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function mc(r){if(r==null||K0[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!mc(n))return!1}return!0}return Ts.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function z0(r){if(mc(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>ni(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&ge(e,t,ni(n))}return e}return Ts.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function ni(r){return z0(r)}class ii{constructor(e){for(const t in e)this[t]=ni(e[t])}}const $0="signing-key/5.7.0",Va=new H($0);let Ja=null;function sn(){return Ja||(Ja=new D0("secp256k1")),Ja}class si{constructor(e){ge(this,"curve","secp256k1"),ge(this,"privateKey",Be(e)),Cr(this.privateKey)!==32&&Va.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=sn().keyFromPrivate(se(this.privateKey));ge(this,"publicKey","0x"+t.getPublic(!1,"hex")),ge(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ge(this,"_isSigningKey",!0)}_addPoint(e){const t=sn().keyFromPublic(se(this.publicKey)),n=sn().keyFromPublic(se(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=sn().keyFromPrivate(se(this.privateKey)),n=se(e);n.length!==32&&Va.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return mr({recoveryParam:i.recoveryParam,r:kt("0x"+i.r.toString(16),32),s:kt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=sn().keyFromPrivate(se(this.privateKey)),n=sn().keyFromPublic(se(vc(e)));return kt("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function wc(r,e){const t=mr(e),n={r:se(t.r),s:se(t.s)};return"0x"+sn().recoverPubKey(se(r),n,t.recoveryParam).encode("hex",!1)}function vc(r,e){const t=se(r);if(t.length===32){const n=new si(t);return e?"0x"+sn().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?Be(t):"0x"+sn().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+sn().keyFromPublic(t).getPublic(!0,"hex"):Be(t)}return Va.throwArgumentError("invalid public or private key","key","[REDACTED]")}const q0="rlp/5.7.0",an=new H(q0);function Ec(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Sc(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function _c(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(_c(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Ec(n.length);return i.unshift(247+i.length),i.concat(n)}Ot(r)||an.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(se(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Ec(e.length);return t.unshift(183+t.length),t.concat(e)}function Oi(r){return Be(_c(r))}function Ac(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Tc(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&an.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Tc(r,e){if(r.length===0&&an.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&an.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=Sc(r,e+1,t);return e+1+t+n>r.length&&an.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),Ac(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&an.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),Ac(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&an.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=Sc(r,e+1,t);e+1+t+n>r.length&&an.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const i=hexlify(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&an.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:hexlify(r[e])}}function Jy(r){const e=arrayify(r),t=Tc(e,0);return t.consumed!==e.length&&an.throwArgumentError("invalid rlp data","data",r),t.result}const j0="address/5.7.0",kn=new H(j0);function Pc(r){bt(r,20)||kn.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=se(rr(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const G0=9007199254740991;function W0(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Za={};for(let r=0;r<10;r++)Za[String(r)]=String(r);for(let r=0;r<26;r++)Za[String.fromCharCode(65+r)]=String(10+r);const Rc=Math.floor(W0(G0));function Cc(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Za[n]).join("");for(;e.length>=Rc;){let n=e.substring(0,Rc);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Mt(r){let e=null;if(typeof r!="string"&&kn.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Pc(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&kn.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Cc(r)&&kn.throwArgumentError("bad icap checksum","address",r),e=Zt(r.substring(4));e.length<40;)e="0"+e;e=Pc("0x"+e)}else kn.throwArgumentError("invalid address","address",r);return e}function Zy(r){try{return Mt(r),!0}catch{}return!1}function Xy(r){let e=_base16To36(Mt(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Cc("XE00"+e)+e}function V0(r){let e=null;try{e=Mt(r.from)}catch{kn.throwArgumentError("missing from address","transaction",r)}const t=Tt(se(ze.from(r.nonce).toHexString()));return Mt(br(rr(Oi([e,t])),12))}function Yy(r,e,t){return hexDataLength(e)!==32&&kn.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(t)!==32&&kn.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Mt(hexDataSlice(keccak256(concat(["0xff",Mt(r),e,t])),12))}const J0="transactions/5.7.0",pr=new H(J0);var kc;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(kc||(kc={}));function Xa(r){return r==="0x"?null:getAddress(r)}function yr(r){return r==="0x"?Zero:BigNumber.from(r)}const Z0=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],X0={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function In(r){const e=vc(r);return Mt(br(rr(br(e,1)),12))}function Ps(r,e){return In(wc(se(r),e))}function Nr(r,e){const t=Tt(ze.from(r).toHexString());return t.length>32&&pr.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Ya(r,e){return{address:Mt(r),storageKeys:(e||[]).map((t,n)=>(Cr(t)!==32&&pr.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function Rs(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&pr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Ya(t[0],t[1])):Ya(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return Ya(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function Ic(r){return Rs(r).map(e=>[e.address,e.storageKeys])}function Bc(r,e){if(r.gasPrice!=null){const n=ze.from(r.gasPrice),i=ze.from(r.maxFeePerGas||0);n.eq(i)||pr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[Nr(r.chainId||0,"chainId"),Nr(r.nonce||0,"nonce"),Nr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Nr(r.maxFeePerGas||0,"maxFeePerGas"),Nr(r.gasLimit||0,"gasLimit"),r.to!=null?Mt(r.to):"0x",Nr(r.value||0,"value"),r.data||"0x",Ic(r.accessList||[])];if(e){const n=mr(e);t.push(Nr(n.recoveryParam,"recoveryParam")),t.push(Tt(n.r)),t.push(Tt(n.s))}return lr(["0x02",Oi(t)])}function Uc(r,e){const t=[Nr(r.chainId||0,"chainId"),Nr(r.nonce||0,"nonce"),Nr(r.gasPrice||0,"gasPrice"),Nr(r.gasLimit||0,"gasLimit"),r.to!=null?Mt(r.to):"0x",Nr(r.value||0,"value"),r.data||"0x",Ic(r.accessList||[])];if(e){const n=mr(e);t.push(Nr(n.recoveryParam,"recoveryParam")),t.push(Tt(n.r)),t.push(Tt(n.s))}return lr(["0x01",Oi(t)])}function Y0(r,e){H0(r,X0);const t=[];Z0.forEach(function(a){let o=r[a.name]||[];const d={};a.numeric&&(d.hexPad="left"),o=se(Be(o,d)),a.length&&o.length!==a.length&&o.length>0&&pr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=Tt(o),o.length>a.maxLength&&pr.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),t.push(Be(o))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&pr.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Ot(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(Be(n)),t.push("0x"),t.push("0x")),!e)return Oi(t);const i=mr(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&pr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&pr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Be(s)),t.push(Tt(se(i.r))),t.push(Tt(se(i.s))),Oi(t)}function Oc(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&pr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),Y0(r,e);switch(r.type){case 1:return Uc(r,e);case 2:return Bc(r,e);default:break}return pr.throwError(`unsupported transaction type: ${r.type}`,H.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function Nc(r,e,t){try{const n=yr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{pr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=hexZeroPad(e[1],32),r.s=hexZeroPad(e[2],32);try{const n=keccak256(t(r));r.from=Ps(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function Q0(r){const e=RLP.decode(r.slice(1));e.length!==9&&e.length!==12&&pr.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(r));const t=yr(e[2]),n=yr(e[3]),i={type:2,chainId:yr(e[0]).toNumber(),nonce:yr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:yr(e[4]),to:Xa(e[5]),value:yr(e[6]),data:e[7],accessList:Rs(e[8])};return e.length===9||(i.hash=keccak256(r),Nc(i,e.slice(9),Bc)),i}function ed(r){const e=RLP.decode(r.slice(1));e.length!==8&&e.length!==11&&pr.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(r));const t={type:1,chainId:yr(e[0]).toNumber(),nonce:yr(e[1]).toNumber(),gasPrice:yr(e[2]),gasLimit:yr(e[3]),to:Xa(e[4]),value:yr(e[5]),data:e[6],accessList:Rs(e[7])};return e.length===8||(t.hash=keccak256(r),Nc(t,e.slice(8),Uc)),t}function td(r){const e=RLP.decode(r);e.length!==9&&e.length!==6&&pr.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:yr(e[0]).toNumber(),gasPrice:yr(e[1]),gasLimit:yr(e[2]),to:Xa(e[3]),value:yr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=BigNumber.from(e[6]).toNumber()}catch{return t}if(t.r=hexZeroPad(e[7],32),t.s=hexZeroPad(e[8],32),BigNumber.from(t.r).isZero()&&BigNumber.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(hexlify(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=keccak256(RLP.encode(i));try{t.from=Ps(s,{r:hexlify(t.r),s:hexlify(t.s),recoveryParam:n})}catch{}t.hash=keccak256(r)}return t.type=null,t}function Qy(r){const e=arrayify(r);if(e[0]>127)return td(e);switch(e[0]){case 1:return ed(e);case 2:return Q0(e);default:break}return pr.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const rd="abstract-provider/5.7.0";var nd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const Ni=new H(rd);class eg extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class tg extends null{constructor(e,t){isHexString(e,32)||Ni.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:t||0,blockHash:e})}}class rg extends null{constructor(e,t){isHexString(e,32)||Ni.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:t||0,hash:e})}}class ng extends null{constructor(e,t,n){isHexString(e,32)||Ni.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(t,32)||Ni.throwArgumentError("invalid transaction hash","afterHash",t),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:t})}}class Cs{constructor(){Ni.checkAbstract(new.target,Cs),ge(this,"_isProvider",!0)}getFeeData(){return nd(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield yn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ze.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const id="abstract-signer/5.7.0";var tn=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const jr=new H(id),sd=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ad=[H.errors.INSUFFICIENT_FUNDS,H.errors.NONCE_EXPIRED,H.errors.REPLACEMENT_UNDERPRICED];class Mi{constructor(){jr.checkAbstract(new.target,Mi),ge(this,"_isSigner",!0)}getBalance(e){return tn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return tn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return tn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield yn(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return tn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield yn(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return tn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return tn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)sd.indexOf(n)===-1&&jr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Cn(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&jr.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return tn(this,void 0,void 0,function*(){const t=yield yn(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>tn(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&jr.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?jr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&jr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&jr.throwError("network does not support EIP-1559",H.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):jr.throwError("failed to get consistent fee data",H.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(ad.indexOf(i.code)>=0)throw i;return jr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",H.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&jr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield yn(t)})}_checkProvider(e){this.provider||jr.throwError("missing provider",H.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Qa extends Mi{constructor(e,t){super(),ge(this,"address",e),ge(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{jr.throwError(e,H.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Qa(this.address,e)}}const od="hash/5.7.0";function $n(r){return rr(Qr(r))}var cd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const Dt=new H(od),Mc=new Uint8Array(32);Mc.fill(0);const ud=ze.from(-1),Dc=ze.from(0),Fc=ze.from(1),fd=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function dd(r){const e=se(r),t=e.length%32;return t?lr([e,Mc.slice(t)]):Be(e)}const ld=kt(Fc.toHexString(),32),hd=kt(Dc.toHexString(),32),Lc={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},eo=["name","version","chainId","verifyingContract","salt"];function Hc(r){return function(e){return typeof e!="string"&&Dt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const xd={name:Hc("name"),version:Hc("version"),chainId:function(r){try{return ze.from(r).toString()}catch{}return Dt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Mt(r).toLowerCase()}catch{}return Dt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=se(r);if(e.length!==32)throw new Error("bad length");return Be(e)}catch{}return Dt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function to(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Dt.throwArgumentError("invalid numeric width","type",r);const i=fd.mask(t?n-1:n),s=t?i.add(Fc).mul(ud):Dc;return function(a){const o=ze.from(a);return(o.lt(s)||o.gt(i))&&Dt.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),kt(o.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Dt.throwArgumentError("invalid bytes width","type",r),function(n){return se(n).length!==t&&Dt.throwArgumentError(`invalid length for ${r}`,"value",n),dd(n)}}}switch(r){case"address":return function(e){return kt(Mt(e),32)};case"bool":return function(e){return e?ld:hd};case"bytes":return function(e){return rr(e)};case"string":return function(e){return $n(e)}}return null}function Kc(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Tr{constructor(e){ge(this,"types",Object.freeze(ni(e))),ge(this,"_encoderCache",{}),ge(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(o=>{t[o]={},n[o]=[],i[o]={}});for(const o in e){const d={};e[o].forEach(w=>{d[w.name]&&Dt.throwArgumentError(`duplicate variable name ${JSON.stringify(w.name)} in ${JSON.stringify(o)}`,"types",e),d[w.name]=!0;const T=w.type.match(/^([^\x5b]*)(\x5b|$)/)[1];T===o&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(T)}`,"types",e),!to(T)&&(n[T]||Dt.throwArgumentError(`unknown type ${JSON.stringify(T)}`,"types",e),n[T].push(o),t[o][T]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?Dt.throwArgumentError("missing primary type","types",e):s.length>1&&Dt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ge(this,"primaryType",s[0]);function a(o,d){d[o]&&Dt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),d[o]=!0,Object.keys(t[o]).forEach(w=>{n[w]&&(a(w,d),Object.keys(d).forEach(T=>{i[T][w]=!0}))}),delete d[o]}a(this.primaryType,{});for(const o in i){const d=Object.keys(i[o]);d.sort(),this._types[o]=Kc(o,e[o])+d.map(w=>Kc(w,e[w])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=to(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),a=parseInt(t[3]);return o=>{a>=0&&o.length!==a&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let d=o.map(s);return this._types[i]&&(d=d.map(rr)),rr(lr(d))}}const n=this.types[e];if(n){const i=$n(this._types[e]);return s=>{const a=n.map(({name:o,type:d})=>{const w=this.getEncoder(d)(s[o]);return this._types[d]?rr(w):w});return a.unshift(i),lr(a)}}return Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Dt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return rr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(to(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Dt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(d=>this._visit(a,d,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:d})=>(a[o]=this._visit(d,t[o],n),a),{}):Dt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Tr(e)}static getPrimaryType(e){return Tr.from(e).primaryType}static hashStruct(e,t,n){return Tr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=Lc[n];i||Dt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>eo.indexOf(n.name)-eo.indexOf(i.name)),Tr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return lr(["0x1901",Tr.hashDomain(e),Tr.from(t).hash(n)])}static hash(e,t,n){return rr(Tr.encode(e,t,n))}static resolveNames(e,t,n,i){return cd(this,void 0,void 0,function*(){e=Cn(e);const s={};e.verifyingContract&&!bt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Tr.from(t);a.visit(n,(o,d)=>(o==="address"&&!bt(d,20)&&(s[d]="0x"),d));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,d)=>o==="address"&&s[d]?s[d]:d),{domain:e,value:n}})}static getPayload(e,t,n){Tr.hashDomain(e);const i={},s=[];eo.forEach(d=>{const w=e[d];w!=null&&(i[d]=xd[d](w),s.push({name:d,type:Lc[d]}))});const a=Tr.from(t),o=Cn(t);return o.EIP712Domain?Dt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(d,w)=>{if(d.match(/^bytes(\d*)/))return Be(se(w));if(d.match(/^u?int/))return ze.from(w).toString();switch(d){case"address":return w.toLowerCase();case"bool":return!!w;case"string":return typeof w!="string"&&Dt.throwArgumentError("invalid string","value",w),w}return Dt.throwArgumentError("unsupported type","type",d)})}}}class zc{constructor(e){ge(this,"alphabet",e),ge(this,"base",e.length),ge(this,"_alphabetMap",{}),ge(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=se(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let a=t[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<t.length;++a)s+=t[a]*this.base,t[a]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return se(new Uint8Array(t.reverse()))}}const ig=new zc("abcdefghijklmnopqrstuvwxyz234567"),$c=new zc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Di;(function(r){r.sha256="sha256",r.sha512="sha512"})(Di||(Di={}));const pd="sha2/5.7.0",yd=new H(pd);function gd(r){return"0x"+Ur().ripemd160().update(se(r)).digest("hex")}function Fi(r){return"0x"+Ur().sha256().update(se(r)).digest("hex")}function sg(r){return"0x"+hash.sha512().update(arrayify(r)).digest("hex")}function ks(r,e,t){return Di[r]||yd.throwError("unsupported algorithm "+r,H.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Ur().hmac(Ur()[r],se(e)).update(se(t)).digest("hex")}function ro(r,e,t,n,i){r=se(r),e=se(e);let s,a=1;const o=new Uint8Array(n),d=new Uint8Array(e.length+4);d.set(e);let w,T;for(let I=1;I<=a;I++){d[e.length]=I>>24&255,d[e.length+1]=I>>16&255,d[e.length+2]=I>>8&255,d[e.length+3]=I&255;let L=se(ks(i,r,d));s||(s=L.length,T=new Uint8Array(s),a=Math.ceil(n/s),w=n-(a-1)*s),T.set(L);for(let he=1;he<t;he++){L=se(ks(i,r,L));for(let Ee=0;Ee<s;Ee++)T[Ee]^=L[Ee]}const Y=(I-1)*s,re=I===a?w:s;o.set(se(T).slice(0,re),Y)}return Be(o)}const bd="wordlists/5.7.0",md=!1,wd=new H(bd);class Li{constructor(e){wd.checkAbstract(new.target,Li),ge(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return $n(t.join(`
`)+`
`)}static register(e,t){if(t||(t=e.locale),md)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[t]||ge(n._ethers.wordlists,t,e))}catch{}}}const vd="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Hi=null;function qc(r){if(Hi==null&&(Hi=vd.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Li.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Hi=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Ed extends Li{constructor(){super("en")}getWord(e){return qc(this),Hi[e]}getWordIndex(e){return qc(this),Hi.indexOf(e)}}const jc=new Ed;Li.register(jc);const Gc={en:jc},Sd="hdnode/5.7.0",Ki=new H(Sd),_d=ze.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ad=Qr("Bitcoin seed"),ai=2147483648;function Wc(r){return(1<<r)-1<<8-r}function Td(r){return(1<<r)-1}function Is(r){return kt(Be(r),32)}function Vc(r){return $c.encode(ut([r,br(Fi(Fi(r)),0,4)]))}function no(r){if(r==null)return Gc.en;if(typeof r=="string"){const e=Gc[r];return e==null&&Ki.throwArgumentError("unknown locale","wordlist",r),e}return r}const oi={},zi="m/44'/60'/0'/0/0";class Gr{constructor(e,t,n,i,s,a,o,d){if(e!==oi)throw new Error("HDNode constructor cannot be called directly");if(t){const w=new si(t);ge(this,"privateKey",w.privateKey),ge(this,"publicKey",w.compressedPublicKey)}else ge(this,"privateKey",null),ge(this,"publicKey",Be(n));ge(this,"parentFingerprint",i),ge(this,"fingerprint",br(gd(Fi(this.publicKey)),0,4)),ge(this,"address",In(this.publicKey)),ge(this,"chainCode",s),ge(this,"index",a),ge(this,"depth",o),d==null?(ge(this,"mnemonic",null),ge(this,"path",null)):typeof d=="string"?(ge(this,"mnemonic",null),ge(this,"path",d)):(ge(this,"mnemonic",d),ge(this,"path",d.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Vc(ut([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Be(this.depth),this.parentFingerprint,kt(Be(this.index),4),this.chainCode,this.privateKey!=null?ut(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Gr(oi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~ai));const n=new Uint8Array(37);if(e&ai){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(se(this.privateKey),1),t&&(t+="'")}else n.set(se(this.publicKey));for(let I=24;I>=0;I-=8)n[33+(I>>3)]=e>>24-I&255;const i=se(ks(Di.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32);let o=null,d=null;this.privateKey?o=Is(ze.from(s).add(this.privateKey).mod(_d)):d=new si(Be(s))._addPoint(this.publicKey);let w=t;const T=this.mnemonic;return T&&(w=Object.freeze({phrase:T.phrase,path:t,locale:T.locale||"en"})),new Gr(oi,o,d,this.fingerprint,Is(a),e,this.depth+1,w)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=ai)throw new Error("invalid path index - "+s);n=n._derive(ai+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=ai)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=se(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=se(ks(Di.sha512,Ad,n));return new Gr(oi,Is(i.slice(0,32)),null,"0x00000000",Is(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=no(n),e=so(io(e,n),n),Gr._fromSeed(Pd(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Gr._fromSeed(e,null)}static fromExtendedKey(e){const t=$c.decode(e);(t.length!==82||Vc(t.slice(0,78))!==e)&&Ki.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=Be(t.slice(5,9)),s=parseInt(Be(t.slice(9,13)).substring(2),16),a=Be(t.slice(13,45)),o=t.slice(45,78);switch(Be(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Gr(oi,null,Be(o),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Gr(oi,Be(o.slice(1)),null,i,a,s,n,null)}return Ki.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Pd(r,e){e||(e="");const t=Qr("mnemonic"+e,Tn.NFKD);return ro(Qr(r,Tn.NFKD),t,2048,64,"sha512")}function io(r,e){e=no(e),Ki.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=se(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let w=0;w<t.length;w++){let T=e.getWordIndex(t[w].normalize("NFKD"));if(T===-1)throw new Error("invalid mnemonic");for(let I=0;I<11;I++)T&1<<10-I&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,a=t.length/3,o=Wc(a);if((se(Fi(n.slice(0,s/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return Be(n.slice(0,s/8))}function so(r,e){if(e=no(e),r=se(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&Td(8-n)),n+=3);const i=r.length/4,s=se(Fi(r))[0]&Wc(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(a=>e.getWord(a)))}function ag(r,e){try{return io(r,e),!0}catch{}return!1}function og(r){return(typeof r!="number"||r<0||r>=ai||r%1)&&Ki.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const Rd="random/5.7.0",ao=new H(Rd);function Cd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof l.g<"u")return l.g;throw new Error("unable to locate global object")}const Jc=Cd();let Bs=Jc.crypto||Jc.msCrypto;(!Bs||!Bs.getRandomValues)&&(ao.warn("WARNING: Missing strong random number source"),Bs={getRandomValues:function(r){return ao.throwError("no secure random source avaialble",H.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function $i(r){(r<=0||r>1024||r%1||r!=r)&&ao.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return Bs.getRandomValues(e),se(e)}var kd=l(39556),on=l.n(kd),Id=l(9495),oo=l.n(Id);function qn(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),se(r)}function qi(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function co(r){return typeof r=="string"?Qr(r,Tn.NFKC):se(r)}function Gt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const a in t)if(a.toLowerCase()===n[i]){s=t[a];break}if(s===null)return null;t=s}return t}function Bd(r){const e=se(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Be(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Zc="json-wallets/5.7.0";var Ud=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const uo=new H(Zc);function Xc(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class Od extends ii{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Nd(r,e,t){if(Gt(r,"crypto/cipher")==="aes-128-ctr"){const i=qn(Gt(r,"crypto/cipherparams/iv")),s=new(on()).Counter(i),a=new(on()).ModeOfOperation.ctr(e,s);return se(a.decrypt(t))}return null}function Yc(r,e){const t=qn(Gt(r,"crypto/ciphertext"));if(Be(rr(ut([e.slice(16,32),t]))).substring(2)!==Gt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Nd(r,e.slice(0,16),t);i||uo.throwError("unsupported cipher",H.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=In(i);if(r.address){let d=r.address.toLowerCase();if(d.substring(0,2)!=="0x"&&(d="0x"+d),Mt(d)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:Be(i)};if(Gt(r,"x-ethers/version")==="0.1"){const d=qn(Gt(r,"x-ethers/mnemonicCiphertext")),w=qn(Gt(r,"x-ethers/mnemonicCounter")),T=new(on()).Counter(w),I=new(on()).ModeOfOperation.ctr(s,T),L=Gt(r,"x-ethers/path")||zi,Y=Gt(r,"x-ethers/locale")||"en",re=se(I.decrypt(d));try{const he=so(re,Y),Ee=Gr.fromMnemonic(he,null,Y).derivePath(L);if(Ee.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=Ee.mnemonic}catch(he){if(he.code!==H.errors.INVALID_ARGUMENT||he.argument!=="wordlist")throw he}}return new Od(o)}function Qc(r,e,t,n,i){return se(ro(r,e,t,n,i))}function Md(r,e,t,n,i){return Promise.resolve(Qc(r,e,t,n,i))}function eu(r,e,t,n,i){const s=co(e),a=Gt(r,"crypto/kdf");if(a&&typeof a=="string"){const o=function(d,w){return uo.throwArgumentError("invalid key-derivation function parameters",d,w)};if(a.toLowerCase()==="scrypt"){const d=qn(Gt(r,"crypto/kdfparams/salt")),w=parseInt(Gt(r,"crypto/kdfparams/n")),T=parseInt(Gt(r,"crypto/kdfparams/r")),I=parseInt(Gt(r,"crypto/kdfparams/p"));(!w||!T||!I)&&o("kdf",a),w&w-1&&o("N",w);const L=parseInt(Gt(r,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),n(s,d,w,T,I,64,i)}else if(a.toLowerCase()==="pbkdf2"){const d=qn(Gt(r,"crypto/kdfparams/salt"));let w=null;const T=Gt(r,"crypto/kdfparams/prf");T==="hmac-sha256"?w="sha256":T==="hmac-sha512"?w="sha512":o("prf",T);const I=parseInt(Gt(r,"crypto/kdfparams/c")),L=parseInt(Gt(r,"crypto/kdfparams/dklen"));return L!==32&&o("dklen",L),t(s,d,I,L,w)}}return uo.throwArgumentError("unsupported key-derivation function","kdf",a)}function Dd(r,e){const t=JSON.parse(r),n=eu(t,e,Qc,oo().syncScrypt);return Yc(t,n)}function Fd(r,e,t){return Ud(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield eu(n,e,Md,oo().scrypt,t);return Yc(n,i)})}function Ld(r,e,t,n){try{if(Mt(r.address)!==In(r.privateKey))throw new Error("address/privateKey mismatch");if(Xc(r)){const Ee=r.mnemonic;if(Gr.fromMnemonic(Ee.phrase,null,Ee.locale).derivePath(Ee.path||zi).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(Ee){return Promise.reject(Ee)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=se(r.privateKey),s=co(e);let a=null,o=null,d=null;if(Xc(r)){const Ee=r.mnemonic;a=se(io(Ee.phrase,Ee.locale||"en")),o=Ee.path||zi,d=Ee.locale||"en"}let w=t.client;w||(w="ethers.js");let T=null;t.salt?T=se(t.salt):T=$i(32);let I=null;if(t.iv){if(I=se(t.iv),I.length!==16)throw new Error("invalid iv")}else I=$i(16);let L=null;if(t.uuid){if(L=se(t.uuid),L.length!==16)throw new Error("invalid uuid")}else L=$i(16);let Y=1<<17,re=8,he=1;return t.scrypt&&(t.scrypt.N&&(Y=t.scrypt.N),t.scrypt.r&&(re=t.scrypt.r),t.scrypt.p&&(he=t.scrypt.p)),oo().scrypt(s,T,Y,re,he,64,n).then(Ee=>{Ee=se(Ee);const qe=Ee.slice(0,16),dt=Ee.slice(16,32),Rt=Ee.slice(32,64),Wt=new(on()).Counter(I),Ut=new(on()).ModeOfOperation.ctr(qe,Wt),Er=se(Ut.encrypt(i)),Pr=rr(ut([dt,Er])),qt={address:r.address.substring(2).toLowerCase(),id:Bd(L),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Be(I).substring(2)},ciphertext:Be(Er).substring(2),kdf:"scrypt",kdfparams:{salt:Be(T).substring(2),n:Y,dklen:32,p:he,r:re},mac:Pr.substring(2)}};if(a){const Fr=$i(16),hn=new(on()).Counter(Fr),Vt=new(on()).ModeOfOperation.ctr(Rt,hn),ys=se(Vt.encrypt(a)),st=new Date,Kt=st.getUTCFullYear()+"-"+qi(st.getUTCMonth()+1,2)+"-"+qi(st.getUTCDate(),2)+"T"+qi(st.getUTCHours(),2)+"-"+qi(st.getUTCMinutes(),2)+"-"+qi(st.getUTCSeconds(),2)+".0Z";qt["x-ethers"]={client:w,gethFilename:"UTC--"+Kt+"--"+qt.address,mnemonicCounter:Be(Fr).substring(2),mnemonicCiphertext:Be(ys).substring(2),path:o,locale:d,version:"0.1"}}return JSON.stringify(qt)})}const Hd=new H(Zc);class Kd extends ii{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function tu(r,e){const t=JSON.parse(r);e=co(e);const n=Mt(Gt(t,"ethaddr")),i=qn(Gt(t,"encseed"));(!i||i.length%16!==0)&&Hd.throwArgumentError("invalid encseed","json",r);const s=se(ro(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),d=new(on()).ModeOfOperation.cbc(s,a),w=on().padding.pkcs7.strip(se(d.decrypt(o)));let T="";for(let Y=0;Y<w.length;Y++)T+=String.fromCharCode(w[Y]);const I=Qr(T),L=rr(I);return new Kd({_isCrowdsaleAccount:!0,address:n,privateKey:L})}function fo(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function lo(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function cg(r){if(fo(r))try{return getAddress(JSON.parse(r).ethaddr)}catch{return null}if(lo(r))try{return getAddress(JSON.parse(r).address)}catch{return null}return null}function zd(r,e,t){if(fo(r)){t&&t(0);const n=tu(r,e);return t&&t(1),Promise.resolve(n)}return lo(r)?Fd(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function $d(r,e){if(fo(r))return tu(r,e);if(lo(r))return Dd(r,e);throw new Error("invalid JSON wallet")}const qd="wallet/5.7.0";var ru=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const ci=new H(qd);function jd(r){return r!=null&&bt(r.privateKey,32)&&r.address!=null}function Gd(r){const e=r.mnemonic;return e&&e.phrase}class Bn extends Mi{constructor(e,t){if(super(),jd(e)){const n=new si(e.privateKey);if(ge(this,"_signingKey",()=>n),ge(this,"address",In(this.publicKey)),this.address!==Mt(e.address)&&ci.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Gd(e)){const i=e.mnemonic;ge(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||zi,locale:i.locale||"en"}));const s=this.mnemonic,a=Gr.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);In(a.privateKey)!==this.address&&ci.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ge(this,"_mnemonic",()=>null)}else{if(si.isSigningKey(e))e.curve!=="secp256k1"&&ci.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ge(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new si(e);ge(this,"_signingKey",()=>n)}ge(this,"_mnemonic",()=>null),ge(this,"address",In(this.publicKey))}t&&!Cs.isProvider(t)&&ci.throwArgumentError("invalid provider","provider",t),ge(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Bn(this,e)}signTransaction(e){return yn(e).then(t=>{t.from!=null&&(Mt(t.from)!==this.address&&ci.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(rr(Oc(t)));return Oc(t,n)})}signMessage(e){return ru(this,void 0,void 0,function*(){return Kr(this._signingKey().signDigest(ms(e)))})}_signTypedData(e,t,n){return ru(this,void 0,void 0,function*(){const i=yield Tr.resolveNames(e,t,n,s=>(this.provider==null&&ci.throwError("cannot resolve ENS names without a provider",H.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Kr(this._signingKey().signDigest(Tr.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),Ld(this,e,t,n)}static createRandom(e){let t=$i(16);e||(e={}),e.extraEntropy&&(t=se(br(rr(ut([t,e.extraEntropy])),0,16)));const n=so(t,e.locale);return Bn.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return zd(e,t,n).then(i=>new Bn(i))}static fromEncryptedJsonSync(e,t){return new Bn($d(e,t))}static fromMnemonic(e,t,n){return t||(t=zi),new Bn(Gr.fromMnemonic(e,null,n).derivePath(t))}}function Wd(r,e){return Ps(ms(r),e)}function nu(r,e,t,n){return Ps(Tr.hash(r,e,t),n)}var iu=l(55872).Buffer;class Vd{constructor(e){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",A[_.ETHEREUM].pubLength);O(this,"signatureLength",A[_.ETHEREUM].sigLength);O(this,"signatureType",_.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",t=await this.signer.signMessage(e),n=await ms(e),i=wc(se(n),t);this.publicKey=iu.from(se(i))}async sign(e){this.publicKey||await this.setPublicKey();const t=await this.signer.signMessage(e);return iu.from(t.slice(2),"hex")}static verify(e,t,n){const i=In(e);return Wd(t,n)===i}}var ug=null,ji=l(31511);class ho extends ${get publicKey(){return ji.decode(this.pk)}get key(){return ji.decode(this._key)}constructor(e){const t=ji.decode(e);super(ji.encode(t.subarray(0,32)),ji.encode(t.subarray(32,64)))}}var Us=l(85323),Mr=l(55872),Jd=l(41389);function xo(r){return r=su(r),Jd("keccak256").update(r).digest()}function su(r){if(!Mr.Buffer.isBuffer(r))if(Array.isArray(r))r=Mr.Buffer.from(r);else if(typeof r=="string")au(r)?r=Mr.Buffer.from(po(ou(r)),"hex"):r=Mr.Buffer.from(r);else if(typeof r=="number")r=uu(r);else if(r==null)r=Mr.Buffer.allocUnsafe(0);else if(me.isBN(r))r=r.toArrayLike(Mr.Buffer);else if(r.toArray)r=Mr.Buffer.from(r.toArray());else throw new Error("invalid type");return r}function au(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}function po(r){if(typeof r!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof r}, while padToEven.`);return r.length%2&&(r=`0${r}`),r}function ou(r){return typeof r!="string"?r:cu(r)?r.slice(2):r}function cu(r){if(typeof r!="string")throw new Error("value must be type 'string', is currently type "+typeof r+", while checking isHexPrefixed.");return r.startsWith("0x")}function uu(r){const e=fu(r);return Mr.Buffer.from(po(e.slice(2)),"hex")}function fu(r){return`0x${r.toString(16)}`}typeof window<"u"&&(window.keccak256=xo);var yo=xo;const Zd={intToBuffer:uu,intToHex:fu,isHexPrefixed:cu,stripHexPrefix:ou,padToEven:po,isHexString:au,toBuffer:su};var Os=l(55872).Buffer;class du{constructor(e,t){O(this,"_key");O(this,"ownerLength",A[_.ETHEREUM].pubLength);O(this,"signatureLength",A[_.ETHEREUM].sigLength);O(this,"signatureType",_.ETHEREUM);O(this,"pk");this._key=e,this.pk=t.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Os.from(this._key,"hex")}static async verify(e,t,n){let i=e;typeof e=="string"&&(i=P.toBuffer(e));let s=!1;try{s=Us.ecdsaVerify(n,yo(Os.from(t)),i)}catch{}return s}async sign(e){return Us.ecdsaSign(yo(Os.from(e)),Os.from(this.key)).signature}}var Ns=l(55872).Buffer;class Ms extends du{get publicKey(){return Ns.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const t=Ns.from(e,"hex"),n=Us.publicKeyCreate(t,!1);super(e,Ns.from(n))}async sign(e){return new Bn(this._key).signMessage(e).then(n=>Ns.from(n.slice(2),"hex"))}static async verify(e,t,n){return Us.ecdsaVerify(n.length===65?n.slice(0,-1):n,se(ms(t)),typeof e=="string"?P.toBuffer(e):e)}}class Xd extends Ms{}class go extends ho{constructor(e){super(e.replace("ed25519:",""))}}var lu=l(55872).Buffer;class Yd extends ${get publicKey(){return lu.from(this.pk)}get key(){return lu.from(this._key)}constructor(e,t){super(e.subarray(0,32),t)}}var Ds=l(55872).Buffer;class Fs extends dc{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Ds.from(Ds.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Ds.from(Ds.from(n).toString("hex")),i)}}var Ls=l(55872).Buffer;class Qd extends ho{constructor(t){super(t);O(this,"signatureType",4)}async sign(t){return super.sign(Ls.from(Ls.from(t).toString("hex")))}static async verify(t,n,i){return super.verify(t,Ls.from(Ls.from(n).toString("hex")),i)}}var hu=l(55872).Buffer;class el extends ${constructor(e,t){super(e,t)}get publicKey(){return hu.from(this.pk.slice(2),"hex")}get key(){return hu.from(this._key.slice(2),"hex")}}var ui=l(55872).Buffer;class Hs{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",A[_.INJECTEDAPTOS].pubLength);O(this,"signatureLength",A[_.INJECTEDAPTOS].sigLength);O(this,"signatureType",_.INJECTEDAPTOS);O(this,"pem");O(this,"provider");this.provider=e,this._publicKey=t}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const t=await this.provider.signMessage({message:ui.from(e).toString("hex"),nonce:"bundlr"});return ui.from(t.signature,"hex")}static async verify(e,t,n){const i=e;return(0,c.T)(ui.from(n),ui.from(`APTOS
message: ${ui.from(t).toString("hex")}
nonce: bundlr`),ui.from(i))}}var Ks=l(55872).Buffer;class xu{constructor(e,t){O(this,"_publicKey");O(this,"ownerLength",A[_.MULTIAPTOS].pubLength);O(this,"signatureLength",A[_.MULTIAPTOS].sigLength);O(this,"signatureType",_.MULTIAPTOS);O(this,"collectSignatures");O(this,"provider");this._publicKey=e,this.collectSignatures=t}get publicKey(){return this._publicKey}async sign(e){const{signatures:t,bitmap:n}=await this.collectSignatures(e),i=128,s=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(w=>{if(w>=32)throw new Error(`Invalid bit value ${w}.`);if(a.has(w))throw new Error("Duplicated bits detected.");a.add(w);const T=Math.floor(w/8);let I=s[T];I|=i>>w%8,s[T]=I});const o=Ks.alloc(this.signatureLength);let d=0;for(let w=0;w<32;w++)n.includes(w)&&o.set(t[d++],w*64);return o.set(s,this.signatureLength-4),o}static async verify(e,t,n){const s=A[_.MULTIAPTOS].sigLength-4,a=n.slice(0,s),o=n.slice(s);let d=!1;for(let w=0;w<32;w++){const T=Math.floor(w/8),I=w-T*8;if((o[T]&128>>I)!==0){const Y=a.slice(w*64,(w+1)*64),re=e.slice(w*32,(w+1)*32);await(0,c.T)(Ks.from(Y),Ks.from(t),Ks.from(re))||(d=!0)}}return!d}}var pu=l(55872).Buffer;class yu extends Ms{constructor(t){super(t);O(this,"ownerLength",A[_.TYPEDETHEREUM].pubLength);O(this,"signatureLength",A[_.TYPEDETHEREUM].sigLength);O(this,"signatureType",_.TYPEDETHEREUM);O(this,"address");O(this,"signer");this.address="0x"+yo(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new Bn(t)}get publicKey(){return pu.from(this.address)}async sign(t){const n=await this.signer._signTypedData(zs,$s,{address:this.address,"Transaction hash":t});return pu.from(n.slice(2),"hex")}static async verify(t,n,i){const s=t.toString(),a=nu(zs,$s,{address:s,"Transaction hash":n},i);return s.toLowerCase()===a.toLowerCase()}}const zs={name:"Bundlr",version:"1"},$s={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},fg="Bundlr(bytes Transaction hash, address address)",dg="EIP712Domain(string name,string version)";var gu=l(55872).Buffer;class bo{constructor(e){O(this,"ownerLength",A[_.TYPEDETHEREUM].pubLength);O(this,"signatureLength",A[_.TYPEDETHEREUM].sigLength);O(this,"signatureType",_.TYPEDETHEREUM);O(this,"address");O(this,"signer");O(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=gu.from(this.address)}async sign(e){const t=await this.signer._signTypedData(zs,$s,{address:this.address,"Transaction hash":e});return gu.from(t.slice(2),"hex")}static verify(e,t,n){const i=e.toString(),s=nu(zs,$s,{address:i,"Transaction hash":t},n);return i.toLowerCase()===s.toLowerCase()}}var lg=null;class tl{constructor(e,t){O(this,"signer");O(this,"publicKey");O(this,"ownerLength",A[_.ARWEAVE].pubLength);O(this,"signatureLength",A[_.ARWEAVE].sigLength);O(this,"signatureType",_.ARWEAVE);O(this,"arweave");this.signer=e,this.arweave=t}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=P.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const t={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,t);return new Uint8Array(Object.values(n).map(s=>+s))}static async verify(e,t,n){return await ar().verify(e,t,n)}}const mo={1:bs,2:$,3:Ms,4:Fs,5:Hs,6:xu,7:yu};async function rl(r){return Re([fe("dataitem"),fe("1"),fe(r.signatureType.toString()),r.rawOwner,r.rawTarget,r.rawAnchor,r.rawTags,r.rawData])}var wo=rl;function Gi(r,e){const t=new Uint8Array(r);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(r*8)-1)throw new Error(`Number ${e} is too large for an array of ${r} bytes`);for(let n=0;n<t.length;n++){const i=e&255;t[n]=i,e=(e-i)/256}return t}function vo(r){return Gi(8,r)}function bu(r){return Gi(2,r)}function nl(r){return Gi(16,r)}function Eo(r){return Gi(32,r)}function Yt(r){let e=0;for(let t=r.length-1;t>=0;t--)e=e*256+r[t];return e}var qs=l(55872).Buffer;class So{constructor(e=qs.alloc(Ao),t=0){O(this,"buf");O(this,"pos");this.buf=e,this.pos=t}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const t=e.length;let n;if(t)for(this.writeLong(t),n=0;n<t;n++){const i=e[n];if(typeof(i==null?void 0:i.name)!="string"||typeof(i==null?void 0:i.value)!="string")throw new Error(`Invalid tag format for ${i}, expected {name:string, value: string}`);this.writeString(i.name),this.writeString(i.value)}this.writeLong(0)}toBuffer(){const e=qs.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const t=this.buf;let n,i;if(e>=-1073741824&&e<1073741824){i=e>=0?e<<1:~e<<1|1;do t[this.pos]=i&127,i>>=7;while(i&&(t[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do t[this.pos]=n&127,n/=128;while(n>=1&&(t[this.pos++]|=128))}this.pos++,this.buf=t}writeString(e){const t=qs.byteLength(e),n=this.buf;this.writeLong(t);let i=this.pos;if(this.pos+=t,!(this.pos>n.length)){if(t>64)this.buf.write(e,this.pos-t,t,"utf8");else{let s,a,o,d;for(s=0,a=t;s<a;s++)o=e.charCodeAt(s),o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=o&63|128):(o&64512)===55296&&((d=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(d&1023),s++,n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=o&63|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=o&63|128)}this.buf=n}}readLong(){let e=0,t=0;const n=this.buf;let i,s,a,o;do i=n[this.pos++],s=i&128,e|=(i&127)<<t,t+=7;while(s&&t<28);if(s){a=e,o=268435456;do i=n[this.pos++],a+=(i&127)*o,o*=128;while(i&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let t;for(;t=this.readLong();)for(t<0&&(t=-t,this.skipLong());t--;){const n=this.readString(),i=this.readString();e.push({name:n,value:i})}return e}readString(){const e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(t,t+e).toString()}}function mu(r){if((r==null?void 0:r.length)===0)return qs.allocUnsafe(0);const e=new So;return e.writeTags(r),e.toBuffer()}function js(r){return new So(r).readTags()}const _o=80,Ao=4096;class fi{constructor(e){O(this,"binary");O(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=Yt(this.binary.subarray(0,2));if((_==null?void 0:_[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return fi.verify(this.binary)}get id(){return P.encode(this.rawId)}set id(e){this._id=P.toBuffer(e)}get rawId(){return(0,S.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return P.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return A[this.signatureType].sigLength}get owner(){return P.encode(this.rawOwner)}get ownerLength(){return A[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Mr.Buffer.alloc(0)}get target(){return P.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Mr.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),t=Yt(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}get tags(){const e=this.getTagsStart();if(Yt(this.binary.subarray(e,e+8))==0)return[];const n=Yt(this.binary.subarray(e+8,e+16));return js(Mr.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(t=>({name:P.encode(t.name),value:P.encode(t.value)}))}getStartOfData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=Yt(t);return e+16+n}get rawData(){const e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),n=Yt(t),i=e+16+n;return this.binary.subarray(i,this.binary.length)}get data(){return P.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await To(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Mr.Buffer.from(await ar().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:P.encode(e.name),value:P.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<_o)return!1;const t=new fi(e),n=t.signatureType,i=t.getTagsStart(),s=Yt(e.subarray(i,i+8)),a=e.subarray(i+8,i+16),o=Yt(a);if(o>Ao)return!1;if(s>0)try{if(js(Mr.Buffer.from(e.subarray(i+16,i+16+o))).length!==s)return!1}catch{return!1}const d=mo[n],w=await wo(t);return await d.verify(t.rawOwner,w,t.rawSignature)}async getSignatureData(){return wo(this)}getTagsStart(){const e=this.getTargetStart(),t=this.binary[e]==1;let n=e+(t?33:1);const i=this.binary[n]==1;return n+=i?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const t=this.binary[this.getTargetStart()]==1;return e+=t?32:0,e}}var Gs=fi,il=l(55872).Buffer;const cn=32;class wu{constructor(e){O(this,"length");O(this,"items");O(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let t=cn;t<cn+64*this.length;t+=64)e.push(Yt(this.binary.subarray(t,t+32)));return e}getIds(){const e=[];for(let t=cn;t<cn+64*this.length;t+=64){const n=this.binary.subarray(t+32,t+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(P.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const t=64+64*e;return P.encode(this.binary.subarray(t,t+32))}async toTransaction(e,t,n){const i=await t.createTransaction({data:this.binary,...e},n);return i.addTag("Bundle-Format","binary"),i.addTag("Bundle-Version","2.0.0"),i}async verify(){for(const e of this.items){const t=await e.isValid(),n=P((0,S.createHash)("sha256").update(e.rawSignature).digest());if(!(t&&e.id===n))return!1}return!0}getOffset(e){let t=0;for(let n=cn;n<cn+64*this.length;n+=64){const i=Yt(this.binary.subarray(n,n+32));t+=i;const s=this.binary.subarray(n+32,n+64);if(il.compare(s,e)===0)return{startOffset:t,size:i}}return{startOffset:-1,size:-1}}getByIndex(e){let t=0;const n=this.getBundleStart();let i=0,s,a;for(let T=cn;T<cn+64*this.length;T+=64){if(s=Yt(this.binary.subarray(T,T+32)),i++===e){a=this.binary.subarray(T+32,T+64);break}t+=s}const o=n+t,d=this.binary.subarray(o,o+s),w=new Gs(d);return w.rawId=a,w}getById(e){const t=P.toBuffer(e),n=this.getOffset(t);if(n.startOffset===-1)throw new Error("Transaction not found");const s=this.getBundleStart()+n.startOffset;return new Gs(this.binary.subarray(s,s+n.size))}getDataItemCount(){return Yt(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let t=0;const n=this.getBundleStart();let i=0;for(let s=cn;s<cn+64*this.length;s+=64){const a=Yt(this.binary.subarray(s,s+32)),o=this.binary.subarray(s+32,s+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const d=n+t,w=this.binary.subarray(d,d+a);t+=a;const T=new Gs(w);T.rawId=o,e[i]=T,i++}return e}}var vu=wu,di=l(55872).Buffer;function sl(r){return new vu(r)}async function Eu(r,e){const t=new Uint8Array(64*r.length),n=await Promise.all(r.map(async(s,a)=>{const o=s.isSigned()?s.rawId:await To(s,e),d=new Uint8Array(64);return d.set(Eo(s.getRaw().byteLength),0),d.set(o,32),t.set(d,64*a),s.getRaw()})).then(s=>di.concat(s)),i=di.concat([di.from(Eo(r.length)),di.from(t),n]);return new vu(i)}async function Su(r,e){const t=await wo(r),n=await e.sign(t),i=await ar().hash(n);return{signature:di.from(n),id:di.from(i)}}async function To(r,e){const{signature:t,id:n}=await Su(r,e);return r.getRaw().set(t,2),n}var Ws=l(55872).Buffer;function Po(r,e,t){var Rt,Wt;const n=e.publicKey,i=t!=null&&t.target?P.toBuffer(t.target):null,s=1+((i==null?void 0:i.byteLength)??0),a=t!=null&&t.anchor?Ws.from(t.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),d=(((Rt=t==null?void 0:t.tags)==null?void 0:Rt.length)??0)>0?mu(t==null?void 0:t.tags):null,w=16+(d?d.byteLength:0),T=Ws.from(r),I=T.byteLength,L=2+e.signatureLength+e.ownerLength+s+o+w+I,Y=Ws.alloc(L);if(Y.set(bu(e.signatureType),0),Y.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);Y.set(n,2+e.signatureLength);const re=2+e.signatureLength+e.ownerLength;if(Y[re]=i?1:0,i){if(i.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${i.byteLength}`);Y.set(i,re+1)}const he=re+s;let Ee=he+1;if(Y[he]=a?1:0,a){if(Ee+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");Y.set(a,he+1)}Y.set(vo(((Wt=t==null?void 0:t.tags)==null?void 0:Wt.length)??0),Ee);const qe=vo((d==null?void 0:d.byteLength)??0);Y.set(qe,Ee+8),d&&Y.set(d,Ee+16);const dt=Ee+w;return Y.set(T,dt),new Gs(Y)}class al{constructor(){O(this,"signatureType");O(this,"rawSignature");O(this,"signature");O(this,"signatureLength");O(this,"rawOwner");O(this,"owner");O(this,"ownerLength");O(this,"rawTarget");O(this,"target");O(this,"rawAnchor");O(this,"anchor");O(this,"rawTags");O(this,"tags");O(this,"rawData");O(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var Wr=l(55872).Buffer;async function _u(r){const e=Au(r);let t=(await e.next()).value;t=await wr(e,t,32);const n=Yt(t.subarray(0,32));t=t.subarray(32);const i=64*n;t=await wr(e,t,i);const s=new Array(n);for(let d=0;d<i;d+=64)s[d/64]=[Yt(t.subarray(d,d+32)),P(Wr.from(t.subarray(d+32,d+64)))];t=t.subarray(i);let a=32+i;const o=[];for(const[d,w]of s){t=await wr(e,t,_o),t=await wr(e,t,2);const T=Yt(t.subarray(0,2));t=t.subarray(2);const{sigLength:I,pubLength:L,sigName:Y}=A[T];t=await wr(e,t,I);const re=t.subarray(0,I);t=t.subarray(I),t=await wr(e,t,L);const he=t.subarray(0,L);t=t.subarray(L),t=await wr(e,t,1);const Ee=t[0]===1;Ee&&(t=await wr(e,t,33));const qe=Ee?t.subarray(1,33):Wr.allocUnsafe(0);t=t.subarray(Ee?33:1),t=await wr(e,t,1);const dt=t[0]===1;dt&&(t=await wr(e,t,33));const Rt=dt?t.subarray(1,33):Wr.allocUnsafe(0);t=t.subarray(dt?33:1),t=await wr(e,t,8);const Wt=Yt(t.subarray(0,8));t=t.subarray(8),t=await wr(e,t,8);const Ut=Yt(t.subarray(0,8));t=t.subarray(8),t=await wr(e,t,Ut);const Er=t.subarray(0,Ut),Pr=Wt!==0&&Ut!==0?js(Wr.from(Er)):[];if(Pr.length!==Wt)throw new Error("Tags lengths don't match");t=t.subarray(Ut);const qt=new j.Transform;qt._transform=function(st,Kt,Lr){this.push(st),Lr()};const Fr=Re([fe("dataitem"),fe("1"),fe(T.toString()),he,qe,Rt,Er,qt]),hn=2+I+L+(Ee?33:1)+(dt?33:1)+16+Ut,Vt=d-hn;if(t.byteLength>Vt)qt.write(t.subarray(0,Vt)),t=t.subarray(Vt);else{let st=t.byteLength;for(qt.write(t);Vt>st;){if(t=(await e.next()).value,!t)throw new Error(`Not enough data bytes  expected: ${Vt} received: ${st}`);st+=t.byteLength,st>Vt?qt.write(t.subarray(0,t.byteLength-(st-Vt))):qt.write(t)}t=t.subarray(t.byteLength-(st-Vt))}if(qt.end(),w!==P((0,S.createHash)("sha256").update(re).digest()))throw new Error("ID doesn't match signature");if(!await mo[T].verify(he,await Fr,re))throw new Error("Invalid signature");o.push({id:w,sigName:Y,signature:P(Wr.from(re)),target:P(Wr.from(qe)),anchor:P(Wr.from(Rt)),owner:P(Wr.from(he)),tags:Pr,dataOffset:a+hn,dataSize:Vt}),a+=hn+Vt}return o}async function ol(r,e,t,n){const i=Po("",t,n),s=new j.PassThrough,a=[fe("dataitem"),fe("1"),fe(i.signatureType.toString()),i.rawOwner,i.rawTarget,i.rawAnchor,i.rawTags,r],o=await Re(a),d=Wr.from(await t.sign(o));return i.setSignature(d),s.write(i.getRaw()),e.pipe(s)}async function wr(r,e,t){if(e.byteLength>=t)return e;const{done:n,value:i}=await r.next();if(n&&!i)throw new Error("Invalid buffer");return wr(r,Wr.concat([Wr.from(e),Wr.from(i)]),t)}async function*Au(r){for await(const e of r)yield e}var cl=_u;const ul={readBytes:wr,getReader:Au},fl={...f,stream:v};globalThis.arbundles??(globalThis.arbundles=fl);var hg=null;const xg=null;var dl=l(55872).Buffer;class Vs{constructor(e){O(this,"base");O(this,"wallet");O(this,"_address");O(this,"providerUrl");O(this,"providerInstance");O(this,"ticker");O(this,"name");O(this,"irys");O(this,"minConfirm",5);O(this,"isSlow",!1);O(this,"needsFee",!0);O(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return P.encode(dl.from(await ar().hash(await e.rawSignature())))}async price(){return Tu(this.ticker)}}async function Tu(r){const e=await h.Z.get(`https://api.redstone.finance/prices?symbol=${r}&provider=redstone&limit=1`);return await M.checkAndThrow(e,"Getting price data"),e.data[0].value}const ll=bo;class Js extends Vs{constructor(t){super(t);O(this,"signer");O(this,"w3signer");O(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(t){const i=await this.providerInstance.getTransaction(t);if(!i)throw new Error("Tx doesn't exist");if(!i.to)throw new Error(`Unable to resolve transactions ${t} receiver`);return{from:i.from,to:i.to,blockHeight:i.blockNumber?new p.Z(i.blockNumber):void 0,amount:new p.Z(i.value.toHexString(),16),pending:!i.blockNumber,confirmed:i.confirmations>=this.minConfirm}}ownerToAddress(t){return t.toString().toLowerCase()}async sign(t){return(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new bo(this.wallet)),this.signer}async verify(t,n,i){return ll.verify(t,n,i)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new p.Z(n,16)}async getFee(t,n){const i=this.providerInstance,s={to:n,from:this.address,value:"0x"+new p.Z(t).toString(16)},a=await i.estimateGas(s),o=await i.getGasPrice();return new p.Z(a.mul(o).toString())}async sendTx(t){const i=await this.w3signer.sendTransaction(t);return i?i.hash:void 0}async createTx(t,n,i){const s=ze.from(new p.Z(t).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:s.toHexString()});let d=await a.getGasPrice();return this.name==="matic"&&(d=ze.from(new p.Z(d.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:s.toHexString(),gasPrice:d,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var t,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(t=this.providerInstance)==null?void 0:t._ready)==null?void 0:n.call(t))}}var hl=l(61125),xl=l(67265),Wi=l(7782),Vi=l(11565),pl=l(48797),yl=l(3541),Ro=l(55872).Buffer;class gl extends Vs{constructor(t){super(t);O(this,"keyPair");O(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const t=new xl.X,n=this.wallet.account();if(this.keyPair=await t.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=hl.KeyPair.fromRandom("ed25519");const i=this.keyPair.getPublicKey().toString();await t.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(i)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(t){const n=await this.providerInstance,[i,s]=t.split(":"),a=await n.txStatusReceipts(Vi.decode(s),i),o=await n.block(a.transaction_outcome.block_hash),d=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const w=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:i,to:a.transaction.receiver_id,amount:new p.Z(w),blockHeight:new p.Z(o.header.height),pending:!1,confirmed:d-o.header.height>=this.minConfirm}}ownerToAddress(t){const n=typeof t=="string"?t:Vi.encode(t);return Ro.from(Vi.decode(n.replace("ed25519:",""))).toString("hex")}async sign(t){return this.getSigner().sign(t)}getSigner(){return new go(this.keyPair.secretKey)}async verify(t,n,i){return go.verify(t,n,i)}async getCurrentHeight(){const t=await this.providerInstance.status();return new p.Z(t.sync_info.latest_block_height)}async getFee(t,n){const i=(await this.providerInstance.block({finality:"final"})).header.height,s=await this.providerInstance.gasPrice(i);return new p.Z(s.gas_price).multipliedBy(45e10)}async sendTx(t){const n=await this.providerInstance.sendTransaction(t);return`${this.address}:${n.transaction.hash}`}async createTx(t,n,i){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const s=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++s.nonce,o=Ro.from(Vi.decode(s.block_hash)),d=[Wi.actionCreators.transfer(new me(new p.Z(t).toString()))],w=(0,Wi.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,d,o),T=(0,pl.serialize)(Wi.SCHEMA,w),I=new Uint8Array(yl.sha256.array(T)),L=this.keyPair.sign(I);return{tx:new Wi.SignedTransaction({transaction:w,signature:new Wi.Signature({keyType:w.publicKey.keyType,data:L.signature})}),txId:void 0}}async getPublicKey(){return Ro.from(this.keyPair.getPublicKey().data)}}var Ji=l(61955),bl=l(55872).Buffer;class ml extends Vs{constructor(t){super(t);O(this,"signer");O(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new Ji.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(t){const n=await this.getProvider(),i=await n.getTransaction(t,{commitment:"confirmed"});if(!i)throw new Error("Confirmed tx not found");const s=await n.getSlot("confirmed");if(!i.meta)throw new Error(`Unable to resolve transaction ${t}`);const a=new p.Z(i.meta.postBalances[1]).minus(new p.Z(i.meta.preBalances[1]));return{from:i.transaction.message.accountKeys[0].toBase58(),to:i.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new p.Z(i.slot),pending:!1,confirmed:s-i.slot>=1}}ownerToAddress(t){return typeof t=="string"&&(t=bl.from(t)),Vi.encode(t)}async sign(t){return await(await this.getSigner()).sign(t)}getSigner(){return this.signer||(this.signer=new Fs(this.wallet)),this.signer}verify(t,n,i){return Fs.verify(t,n,i)}async getCurrentHeight(){return new p.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(t,n){return new p.Z(5e3)}async sendTx(t){return await this.wallet.sendTransaction(t,await this.getProvider(),{skipPreflight:!0})}async createTx(t,n,i){const s=new Ji.PublicKey(await this.getPublicKey()),a=await E(async d=>{var w;try{return await(await this.getProvider()).getRecentBlockhash()}catch(T){throw(w=T.message)!=null&&w.includes("blockhash")?T:(d(T),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new Ji.Transaction({recentBlockhash:a.blockhash,feePayer:s});return o.add(Ji.SystemProgram.transfer({fromPubkey:s,toPubkey:new Ji.PublicKey(n),lamports:+new p.Z(t).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const Zi="abi/5.7.0",Co=new H(Zi);function wl(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const a=n.slice();a.push(s);try{t(a,i[s])}catch(o){e.push({path:a,error:o})}}};return t([],r),e}class gn{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){Co.throwArgumentError(e,this.localName,t)}}class ko{constructor(e){ge(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return lr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(ut(e._data))}writeBytes(e){let t=se(e);const n=t.length%this.wordSize;return n&&(t=ut([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=se(ze.from(e));return t.length>this.wordSize&&Co.throwError("value out-of-bounds",H.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=ut([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Zs{constructor(e,t,n,i){ge(this,"_data",se(e)),ge(this,"wordSize",t||32),ge(this,"_coerceFunc",n),ge(this,"allowLoose",i),this._offset=0}get data(){return Be(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Zs.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:Co.throwError("data out-of-bounds",H.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Zs(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return ze.from(this.readBytes(this.wordSize))}}class vl extends gn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Mt(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Mt(kt(e.readValue().toHexString(),20))}}class El extends gn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const li=new H(Zi);function Pu(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let d={};n=e.map(w=>{const T=w.localName;return T||li.throwError("cannot encode object for signature with missing names",H.errors.INVALID_ARGUMENT,{argument:"values",coder:w,value:t}),d[T]&&li.throwError("cannot encode object for signature with duplicate names",H.errors.INVALID_ARGUMENT,{argument:"values",coder:w,value:t}),d[T]=!0,t[T]})}else li.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&li.throwArgumentError("types/value length mismatch","tuple",t);let i=new ko(r.wordSize),s=new ko(r.wordSize),a=[];e.forEach((d,w)=>{let T=n[w];if(d.dynamic){let I=s.length;d.encode(s,T);let L=i.writeUpdatableValue();a.push(Y=>{L(Y+I)})}else d.encode(i,T)}),a.forEach(d=>{d(i.length)});let o=r.appendWriter(i);return o+=r.appendWriter(s),o}function Ru(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let o=r.readValue(),d=n.subReader(o.toNumber());try{a=s.decode(d)}catch(w){if(w.code===H.errors.BUFFER_OVERRUN)throw w;a=w,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(o){if(o.code===H.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const i=e.reduce((s,a)=>{const o=a.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});e.forEach((s,a)=>{let o=s.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),t[o]!=null))return;const d=t[a];d instanceof Error?Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw d}}):t[o]=d});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class Sl extends gn{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),li.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return Pu(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&li.throwError("insufficient data length",H.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new El(this.coder));return e.coerce(this.name,Ru(e,n))}}class _l extends gn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Cu extends gn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=se(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Al extends Cu{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Be(super.decode(e)))}}class Tl extends gn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=se(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Be(e.readBytes(this.size)))}}class Pl extends gn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Rl=ze.from(-1),Cl=ze.from(0),kl=ze.from(1),pg=null,yg=null,Il=ze.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),gg=null,bg=null;class Bl extends gn{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=ze.from(t),i=Il.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(kl).mul(Rl)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Cl)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}class Ul extends Cu{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Qr(t))}decode(e){return A0(super.decode(e))}}class Xs extends gn{constructor(e,t){let n=!1;const i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return Pu(e,this.coders,t)}decode(e){return e.coerce(this.name,Ru(e,this.coders))}}const gt=new H(Zi),jn={};let ku={calldata:!0,memory:!0,storage:!0},Ol={calldata:!0,memory:!0};function Ys(r,e){if(r==="bytes"||r==="string"){if(ku[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&Ol[e])return!0;return(ku[e]||e==="payable")&&gt.throwArgumentError("invalid modifier","name",e),!1}function Nl(r,e){let t=r;function n(o){gt.throwArgumentError(`unexpected character at position ${o}`,"param",r)}r=r.replace(/\s/g," ");function i(o){let d={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(d.indexed=!1),d}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let o=0;o<r.length;o++){let d=r[o];switch(d){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=hi(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Ys(a.type,a.name)&&(a.name=""),a.type=hi(a.type);let w=a;a=a.parent,a||n(o),delete w.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),Ys(a.type,a.name)&&(a.name=""),a.type=hi(a.type);let T=i(a.parent);a.parent.components.push(T),delete a.parent,a=T;break;case" ":a.state.allowType&&a.type!==""&&(a.type=hi(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):Ys(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=d,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=d,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=d,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=d,delete a.state.allowArray):a.state.readArray?a.type+=d:n(o)}}return a.parent&&gt.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):Ys(a.type,a.name)&&(a.name=""),s.type=hi(s.type),s}function Qs(r,e){for(let t in e)ge(r,t,e[t])}const vt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ml=new RegExp(/^(.*)\[([0-9]*)\]$/);class ir{constructor(e,t){e!==jn&&gt.throwError("use fromString",H.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Qs(this,t);let n=this.type.match(Ml);n?Qs(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ir.fromObject({type:n[1],components:this.components}),baseType:"array"}):Qs(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==vt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===vt.full?", ":",")+")"):t+=this.type,e!==vt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===vt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?ir.fromString(e,t):ir.fromObject(e)}static fromObject(e){return ir.isParamType(e)?e:new ir(jn,{name:e.name||null,type:hi(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ir.fromObject):null})}static fromString(e,t){function n(i){return ir.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Nl(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Xi(r,e){return Fl(r).map(t=>ir.fromString(t,e))}class bn{constructor(e,t){e!==jn&&gt.throwError("use a static from method",H.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Qs(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return bn.isFragment(e)?e:typeof e=="string"?bn.fromString(e):bn.fromObject(e)}static fromObject(e){if(bn.isFragment(e))return e;switch(e.type){case"function":return fn.fromObject(e);case"event":return mn.fromObject(e);case"constructor":return un.fromObject(e);case"error":return Un.fromObject(e);case"fallback":case"receive":return null}return gt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?mn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?fn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?un.fromString(e.trim()):e.split(" ")[0]==="error"?Un.fromString(e.substring(5).trim()):gt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class mn extends bn{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?mn.fromString(e):mn.fromObject(e)}static fromObject(e){if(mn.isEventFragment(e))return e;e.type!=="event"&&gt.throwArgumentError("invalid event object","value",e);const t={name:Yi(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ir.fromObject):[],type:"event"};return new mn(jn,t)}static fromString(e){let t=e.match(Qi);t||gt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:gt.warn("unknown modifier: "+i)}}),mn.fromObject({name:t[1].trim(),anonymous:n,inputs:Xi(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Iu(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&gt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||gt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=ze.from(t[1]),t[0]):r}function Bu(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Uu(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&gt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&gt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&gt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&gt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&gt.throwArgumentError("unable to determine stateMutability","value",r),e}class un extends bn{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===vt.sighash&&gt.throwError("cannot format a constructor for sighash",H.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?un.fromString(e):un.fromObject(e)}static fromObject(e){if(un.isConstructorFragment(e))return e;e.type!=="constructor"&&gt.throwArgumentError("invalid constructor object","value",e);let t=Uu(e);t.constant&&gt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ir.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ze.from(e.gas):null};return new un(jn,n)}static fromString(e){let t={type:"constructor"};e=Iu(e,t);let n=e.match(Qi);return(!n||n[1].trim()!=="constructor")&&gt.throwArgumentError("invalid constructor string","value",e),t.inputs=Xi(n[2].trim(),!1),Bu(n[3].trim(),t),un.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class fn extends un{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",e!==vt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?fn.fromString(e):fn.fromObject(e)}static fromObject(e){if(fn.isFunctionFragment(e))return e;e.type!=="function"&&gt.throwArgumentError("invalid function object","value",e);let t=Uu(e);const n={type:e.type,name:Yi(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ir.fromObject):[],outputs:e.outputs?e.outputs.map(ir.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ze.from(e.gas):null};return new fn(jn,n)}static fromString(e){let t={type:"function"};e=Iu(e,t);let n=e.split(" returns ");n.length>2&&gt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Qi);if(i||gt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Yi(t.name),t.inputs=Xi(i[2],!1),Bu(i[3].trim(),t),n.length>1){let s=n[1].match(Qi);(s[1].trim()!=""||s[3].trim()!="")&&gt.throwArgumentError("unexpected tokens","value",e),t.outputs=Xi(s[2],!1)}else t.outputs=[];return fn.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Ou(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&gt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Un extends bn{format(e){if(e||(e=vt.sighash),vt[e]||gt.throwArgumentError("invalid format type","format",e),e===vt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==vt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===vt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Un.fromString(e):Un.fromObject(e)}static fromObject(e){if(Un.isErrorFragment(e))return e;e.type!=="error"&&gt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Yi(e.name),inputs:e.inputs?e.inputs.map(ir.fromObject):[]};return Ou(new Un(jn,t))}static fromString(e){let t={type:"error"},n=e.match(Qi);return n||gt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Yi(t.name),t.inputs=Xi(n[2],!1),Ou(Un.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function hi(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const Dl=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Yi(r){return(!r||!r.match(Dl))&&gt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Qi=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Fl(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&gt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const ea=new H(Zi),Ll=new RegExp(/^bytes([0-9]*)$/),Hl=new RegExp(/^(u?int)([0-9]*)$/);class Kl{constructor(e){ge(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new vl(e.name);case"bool":return new _l(e.name);case"string":return new Ul(e.name);case"bytes":return new Al(e.name);case"array":return new Sl(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Xs((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Pl(e.name)}let t=e.type.match(Hl);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&ea.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Bl(n/8,t[1]==="int",e.name)}if(t=e.type.match(Ll),t){let n=parseInt(t[1]);return(n===0||n>32)&&ea.throwArgumentError("invalid bytes length","param",e),new Tl(n,e.name)}return ea.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Zs(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new ko(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(ir.from(i)));return new Xs(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ea.throwError("types/values length mismatch",H.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(a=>this._getCoder(ir.from(a))),i=new Xs(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>this._getCoder(ir.from(a)));return new Xs(i,"_").decode(this._getReader(se(t),n))}}const zl=new Kl,Ft=new H(Zi);class $l extends ii{}class ql extends ii{}class jl extends ii{}class Io extends ii{static isIndexed(e){return!!(e&&e._isIndexed)}}const Gl={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Nu(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Mu{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ge(this,"fragments",t.map(n=>bn.from(n)).filter(n=>n!=null)),ge(this,"_abiCoder",Ui(new.target,"getAbiCoder")()),ge(this,"functions",{}),ge(this,"errors",{}),ge(this,"events",{}),ge(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Ft.warn("duplicate definition - constructor");return}ge(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Ft.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ge(this,"deploy",un.from({payable:!1,type:"constructor"})),ge(this,"_isInterface",!0)}format(e){e||(e=vt.full),e===vt.sighash&&Ft.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===vt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return zl}static getAddress(e){return Mt(e)}static getSighash(e){return br($n(e.format()),0,4)}static getEventTopic(e){return $n(e.format())}getFunction(e){if(bt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Ft.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Ft.throwArgumentError("no matching function","name",n):i.length>1&&Ft.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[fn.fromString(e).format()];return t||Ft.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(bt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Ft.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Ft.throwArgumentError("no matching event","name",n):i.length>1&&Ft.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[mn.fromString(e).format()];return t||Ft.throwArgumentError("no matching event","signature",e),t}getError(e){if(bt(e)){const n=Ui(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Ft.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Ft.throwArgumentError("no matching error","name",n):i.length>1&&Ft.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[fn.fromString(e).format()];return t||Ft.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Ui(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ui(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=se(t);return Be(n.slice(0,4))!==this.getSighash(e)&&Ft.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Be(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Be(ut([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=se(t);return Be(n.slice(0,4))!==this.getSighash(e)&&Ft.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Be(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Be(ut([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=se(t),i=null,s="",a=null,o=null,d=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const w=Be(n.slice(0,4)),T=Gl[w];if(T)a=this._abiCoder.decode(T.inputs,n.slice(4)),o=T.name,d=T.signature,T.reason&&(i=a[0]),o==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const I=this.getError(w);a=this._abiCoder.decode(I.inputs,n.slice(4)),o=I.name,d=I.format()}catch{}break}}return Ft.throwError("call revert exception"+s,H.errors.CALL_EXCEPTION,{method:e.format(),data:Be(t),errorArgs:a,errorName:o,errorSignature:d,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Be(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Ft.throwError("too many arguments for "+e.format(),H.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,a)=>s.type==="string"?$n(a):s.type==="bytes"?rr(Be(a)):(s.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),s.type.match(/^u?int/)&&(a=ze.from(a).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[a]),kt(Be(a),32));for(t.forEach((s,a)=>{let o=e.inputs[a];if(!o.indexed){s!=null&&Ft.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?Ft.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(d=>i(o,d))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Ft.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const d=t[o];if(a.indexed)if(a.type==="string")n.push($n(d));else if(a.type==="bytes")n.push(rr(d));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[d]))}else i.push(a),s.push(d)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let L=this.getEventTopic(e);(!bt(n[0],32)||n[0].toLowerCase()!==L)&&Ft.throwError("fragment/topic mismatch",H.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:L,value:n[0]}),n=n.slice(1)}let i=[],s=[],a=[];e.inputs.forEach((L,Y)=>{L.indexed?L.type==="string"||L.type==="bytes"||L.baseType==="tuple"||L.baseType==="array"?(i.push(ir.fromObject({type:"bytes32",name:L.name})),a.push(!0)):(i.push(L),a.push(!1)):(s.push(L),a.push(!1))});let o=n!=null?this._abiCoder.decode(i,ut(n)):null,d=this._abiCoder.decode(s,t,!0),w=[],T=0,I=0;e.inputs.forEach((L,Y)=>{if(L.indexed)if(o==null)w[Y]=new Io({_isIndexed:!0,hash:null});else if(a[Y])w[Y]=new Io({_isIndexed:!0,hash:o[I++]});else try{w[Y]=o[I++]}catch(re){w[Y]=re}else try{w[Y]=d[T++]}catch(re){w[Y]=re}if(L.name&&w[L.name]==null){const re=w[Y];re instanceof Error?Object.defineProperty(w,L.name,{enumerable:!0,get:()=>{throw Nu(`property ${JSON.stringify(L.name)}`,re)}}):w[L.name]=re}});for(let L=0;L<w.length;L++){const Y=w[L];Y instanceof Error&&Object.defineProperty(w,L,{enumerable:!0,get:()=>{throw Nu(`index ${L}`,Y)}})}return Object.freeze(w)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ql({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:ze.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new $l({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Be(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new jl({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Wl="contracts/5.7.0";var On=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(T){try{w(n.next(T))}catch(I){a(I)}}function d(T){try{w(n.throw(T))}catch(I){a(I)}}function w(T){T.done?s(T.value):i(T.value).then(o,d)}w((n=n.apply(r,e||[])).next())})};const Pt=new H(Wl),Vl={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function ta(r,e){return On(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Pt.throwArgumentError("invalid address or ENS name","name",t);try{return Mt(t)}catch{}r||Pt.throwError("a provider or signer is needed to resolve ENS names",H.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Pt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function es(r,e,t){return On(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>es(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield ta(r,e):t.type==="tuple"?yield es(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>es(r,n,t.arrayChildren))):Promise.reject(Pt.makeError("invalid value for array",H.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function ra(r,e,t){return On(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Cn(t.pop())),Pt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=yn({override:ta(r.signer,n.from),signer:r.signer.getAddress()}).then(w=>On(this,void 0,void 0,function*(){return Mt(w.signer)!==w.override&&Pt.throwError("Contract with a Signer cannot override from",H.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),w.override})):n.from=r.signer.getAddress():n.from&&(n.from=ta(r.provider,n.from));const i=yield yn({args:es(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:yn(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),a={data:s,to:i.address},o=i.overrides;if(o.nonce!=null&&(a.nonce=ze.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=ze.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=ze.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=ze.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=ze.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=Rs(o.accessList)),a.gasLimit==null&&e.gas!=null){let w=21e3;const T=se(s);for(let I=0;I<T.length;I++)w+=4,T[I]&&(w+=64);a.gasLimit=ze.from(e.gas).add(w)}if(o.value){const w=ze.from(o.value);!w.isZero()&&!e.payable&&Pt.throwError("non-payable method cannot override value",H.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=w}o.customData&&(a.customData=Cn(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const d=Object.keys(n).filter(w=>n[w]!=null);return d.length&&Pt.throwError(`cannot override ${d.map(w=>JSON.stringify(w)).join(",")}`,H.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),a})}function Jl(r,e){return function(...t){return ra(r,e,t)}}function Zl(r,e){const t=r.signer||r.provider;return function(...n){return On(this,void 0,void 0,function*(){t||Pt.throwError("estimate require a provider or signer",H.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ra(r,e,n);return yield t.estimateGas(i)})}}function Du(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let a=ni(s),o=null;try{o=r.interface.parseLog(s)}catch{}return o&&(a.args=o.args,a.decode=(d,w)=>r.interface.decodeEventLog(o.eventFragment,d,w),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(i.blockHash),a.getTransaction=()=>r.provider.getTransaction(i.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(i),a}),i))}function Fu(r,e,t){const n=r.signer||r.provider;return function(...i){return On(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const d=Cn(i.pop());d.blockTag!=null&&(s=yield d.blockTag),delete d.blockTag,i.push(d)}r.deployTransaction!=null&&(yield r._deployed(s));const a=yield ra(r,e,i),o=yield n.call(a,s);try{let d=r.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(d=d[0]),d}catch(d){throw d.code===H.errors.CALL_EXCEPTION&&(d.address=r.address,d.args=i,d.transaction=a),d}})}}function Xl(r,e){return function(...t){return On(this,void 0,void 0,function*(){r.signer||Pt.throwError("sending a transaction requires a signer",H.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield ra(r,e,t),i=yield r.signer.sendTransaction(n);return Du(r,i),i})}}function Lu(r,e,t){return e.constant?Fu(r,e,t):Xl(r,e)}function Hu(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ts{constructor(e,t){ge(this,"tag",e),ge(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class Yl extends ts{constructor(){super("error",null)}}class Ku extends ts{constructor(e,t,n,i){const s={address:e};let a=t.getEventTopic(n);i?(a!==i[0]&&Pt.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[a],super(Hu(s),s),ge(this,"address",e),ge(this,"interface",t),ge(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=wl(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class zu extends ts{constructor(e,t){super("*",{address:e}),ge(this,"address",e),ge(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class Ql{constructor(e,t,n){ge(this,"interface",Ui(new.target,"getInterface")(t)),n==null?(ge(this,"provider",null),ge(this,"signer",null)):Mi.isSigner(n)?(ge(this,"provider",n.provider||null),ge(this,"signer",n)):Cs.isProvider(n)?(ge(this,"provider",n),ge(this,"signer",null)):Pt.throwArgumentError("invalid signer or provider","signerOrProvider",n),ge(this,"callStatic",{}),ge(this,"estimateGas",{}),ge(this,"functions",{}),ge(this,"populateTransaction",{}),ge(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const d=this.interface.events[o];ge(this.filters,o,(...w)=>({address:this.address,topics:this.interface.encodeFilterTopics(d,w)})),a[d.name]||(a[d.name]=[]),a[d.name].push(o)}),Object.keys(a).forEach(o=>{const d=a[o];d.length===1?ge(this.filters,o,this.filters[d[0]]):Pt.warn(`Duplicate definition of ${o} (${d.join(", ")})`)})}if(ge(this,"_runningEvents",{}),ge(this,"_wrappedEmits",{}),e==null&&Pt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ge(this,"address",e),this.provider)ge(this,"resolvedAddress",ta(this.provider,e));else try{ge(this,"resolvedAddress",Promise.resolve(Mt(e)))}catch{Pt.throwError("provider is required to use ENS name as contract address",H.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const i={},s={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(s[a]){Pt.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const d=o.name;i[`%${d}`]||(i[`%${d}`]=[]),i[`%${d}`].push(a)}this[a]==null&&ge(this,a,Lu(this,o,!0)),this.functions[a]==null&&ge(this.functions,a,Lu(this,o,!1)),this.callStatic[a]==null&&ge(this.callStatic,a,Fu(this,o,!0)),this.populateTransaction[a]==null&&ge(this.populateTransaction,a,Jl(this,o)),this.estimateGas[a]==null&&ge(this.estimateGas,a,Zl(this,o))}),Object.keys(i).forEach(a=>{const o=i[a];if(o.length>1)return;a=a.substring(1);const d=o[0];try{this[a]==null&&ge(this,a,this[d])}catch{}this.functions[a]==null&&ge(this.functions,a,this.functions[d]),this.callStatic[a]==null&&ge(this.callStatic,a,this.callStatic[d]),this.populateTransaction[a]==null&&ge(this.populateTransaction,a,this.populateTransaction[d]),this.estimateGas[a]==null&&ge(this.estimateGas,a,this.estimateGas[d])})}static getContractAddress(e){return V0(e)}static getInterface(e){return Mu.isInterface(e)?e:new Mu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Pt.throwError("contract not deployed",H.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Pt.throwError("sending a transactions require a signer",H.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Cn(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Pt.throwError("cannot override "+n,H.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Qa(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ge(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Io.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Yl);if(e==="event")return this._normalizeRunningEvent(new ts("event",null));if(e==="*")return this._normalizeRunningEvent(new zu(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ku(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Ku(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ts(Hu(t),t))}return this._normalizeRunningEvent(new zu(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=ni(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||Pt.throwError("events require a provider or a signer with a provider",H.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let a=this._wrapEvent(e,s,t);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Cn(i.filter);return typeof t=="string"&&bt(t,32)?(n!=null&&Pt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(a=>a.map(o=>this._wrapEvent(i,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Bo extends Ql{}class mg{constructor(e,t,n){let i=null;typeof t=="string"?i=t:isBytes(t)?i=hexlify(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!isHexString(i)||i.length%2)&&Pt.throwArgumentError("invalid bytecode","bytecode",t),n&&!Signer.isSigner(n)&&Pt.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",i),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=shallowCopy(e.pop());for(const n in t)if(!Vl[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Pt.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!BigNumber.from(t.value).isZero()&&!this.interface.deploy.payable&&Pt.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Pt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return On(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Pt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield es(this.signer,e,this.interface.deploy.inputs);n.push(t);const i=this.getDeployTransaction(...n),s=yield this.signer.sendTransaction(i),a=getStatic(this.constructor,"getContractAddress")(s),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Du(o,s),defineReadOnly(o,"deployTransaction",s),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Pt.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}static getInterface(e){return Bo.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,t,n){return new Bo(e,t,n)}}class eh extends Js{constructor(t){super(t);O(this,"contractInstance");O(this,"contractAddress");this.contractAddress=t.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new Bo(this.contractAddress,th,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(t){const n=await this.providerInstance.getTransaction(t);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const i=`0x${n.data.slice(34,74)}`,s=new p.Z(n.data.slice(74),16);return{from:n.from,to:i,blockHeight:n.blockNumber?new p.Z(n.blockNumber):void 0,amount:s,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(t,n){const i="0x"+new p.Z(t).toString(16),s=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await s.estimateGas.transfer(n,i),d=new p.Z(a.mul(o).toString()),[w]=await this.getGas(),T=w.multipliedBy(d),I=new p.Z(await this.price());return new p.Z(T).dividedToIntegerBy(I)}async createTx(t,n,i){const s=await this.getContract(),a="0x"+new p.Z(t).toString(16),o=await s.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await s.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new p.Z(await Tu("ETH")),1e18]}}const th=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var na=l(15711),rh=l(98316),wn=l(79426),xi=l(29415),rs=l(28523);const[$u,qu,ju]=[[],[],[]],nh=BigInt(0),ns=BigInt(1),ih=BigInt(2),sh=BigInt(7),ah=BigInt(256),oh=BigInt(113);for(let r=0,e=ns,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],$u.push(2*(5*n+t)),qu.push((r+1)*(r+2)/2%64);let i=nh;for(let s=0;s<7;s++)e=(e<<ns^(e>>sh)*oh)%ah,e&ih&&(i^=ns<<(ns<<BigInt(s))-ns);ju.push(i)}const[ch,uh]=rs.ZP.split(ju,!0),Gu=(r,e,t)=>t>32?rs.ZP.rotlBH(r,e,t):rs.ZP.rotlSH(r,e,t),Wu=(r,e,t)=>t>32?rs.ZP.rotlBL(r,e,t):rs.ZP.rotlSL(r,e,t);function fh(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,d=(a+2)%10,w=t[d],T=t[d+1],I=Gu(w,T,1)^t[o],L=Wu(w,T,1)^t[o+1];for(let Y=0;Y<50;Y+=10)r[a+Y]^=I,r[a+Y+1]^=L}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=qu[a],d=Gu(i,s,o),w=Wu(i,s,o),T=$u[a];i=r[T],s=r[T+1],r[T]=d,r[T+1]=w}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=ch[n],r[1]^=uh[n]}t.fill(0)}class ia extends wn.Hash{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xi.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,wn.u32)(this.state)}keccak(){fh(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){xi.default.exists(this);const{blockLen:t,state:n}=this;e=(0,wn.toBytes)(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){xi.default.exists(this,!1),xi.default.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xi.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xi.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new ia(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Nn=(r,e,t)=>(0,wn.wrapConstructor)(()=>new ia(e,r,t)),wg=Nn(6,144,224/8),pi=Nn(6,136,256/8),vg=Nn(6,104,384/8),Eg=Nn(6,72,512/8),Sg=Nn(1,144,224/8),_g=Nn(1,136,256/8),Ag=Nn(1,104,384/8),Tg=Nn(1,72,512/8),Vu=(r,e,t)=>(0,wn.wrapConstructorWithOpts)((n={})=>new ia(e,r,n.dkLen===void 0?t:n.dkLen,!0)),Pg=Vu(31,168,128/8),Rg=Vu(31,136,256/8);var Ju=l(27251),Zu=l(45018),is=l(11674),Xu=l(36243),Yu=Object.defineProperty,dh=Object.getOwnPropertyDescriptor,sa=(r,e)=>{for(var t in e)Yu(r,t,{get:e[t],enumerable:!0})},_t=(r,e,t,n)=>{for(var i=n>1?void 0:n?dh(e,t):e,s=r.length-1,a;s>=0;s--)(a=r[s])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&Yu(e,t,i),i},lh=/^m(\/[0-9]+')+$/,Qu=r=>r.replace("'",""),hh="ed25519 seed",xh=2147483648,ph=r=>{const t=Ju.b.create(Zu.sha512,hh).update((0,wn.hexToBytes)(r)).digest(),n=t.slice(0,32),i=t.slice(32);return{key:n,chainCode:i}},yh=({key:r,chainCode:e},t)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t);const i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...r,...i]),o=Ju.b.create(Zu.sha512,e).update(a).digest(),d=o.slice(0,32),w=o.slice(32);return{key:d,chainCode:w}},gh=r=>lh.test(r)?!r.split("/").slice(1).map(Qu).some(Number.isNaN):!1,bh=(r,e,t=xh)=>{if(!gh(r))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=ph(e);return r.split("/").slice(1).map(Qu).map(a=>parseInt(a,10)).reduce((a,o)=>yh(a,o+t),{key:n,chainCode:i})};async function mh(r){return new Promise(e=>{setTimeout(e,r)})}var ef="/v1";function wh(r){let e=`${r}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(ef)||(e=`${e}${ef}`),e}var tf=2e5,rf=20,nf=20,Uo="0x1::aptos_coin::AptosCoin";function aa(r){let e,t,n;return typeof r=="object"?(e=r.hashFunction,t=r.ttlMs,n=r.tags):e=r,(i,s,a)=>{if(a.value!=null)a.value=sf(a.value,e,t,n);else if(a.get!=null)a.get=sf(a.get,e,t,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function vh(r,e){return aa({ttlMs:r,hashFunction:e})}var oa=new Map;function Eh(r){const e=new Set;for(const t of r){const n=oa.get(t);if(n)for(const i of n)e.has(i)||(i.clear(),e.add(i))}return e.size}function sf(r,e,t=0,n){const i=Symbol("__memoized_map__");return function(...s){let a;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const d=o[i];if(Array.isArray(n))for(const w of n)oa.has(w)?oa.get(w).push(d):oa.set(w,[d]);if(e||s.length>0||t>0){let w;e===!0?w=s.map(L=>L.toString()).join("!"):e?w=e.apply(o,s):w=s[0];const T=`${w}__timestamp`;let I=!1;if(t>0)if(!d.has(T))I=!0;else{const L=d.get(T);I=Date.now()-L>t}d.has(w)&&!I?a=d.get(w):(a=r.apply(o,s),d.set(w,a),t>0&&d.set(T,Date.now()))}else{const w=o;d.has(w)?a=d.get(w):(a=r.apply(o,s),d.set(w,a))}return a}}var Fe=class{static fromBuffer(r){return Fe.fromUint8Array(r)}static fromUint8Array(r){return new Fe((0,wn.bytesToHex)(r))}static ensure(r){return typeof r=="string"?new Fe(r):r}constructor(r){r.startsWith("0x")?this.hexString=r:this.hexString=`0x${r}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from((0,wn.hexToBytes)(this.noPrefix()))}};async function af(r,e,t,n){var i;const s=[];let a;for(;;){const o=await r(Fe.ensure(e).hex(),(i=n==null?void 0:n.ledgerVersion)==null?void 0:i.toString(),a,t);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,s.push(...o),a==null)break}return s}var Sh={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},_h={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Ah=(r=>(r.MAINNET="mainnet",r.TESTNET="testnet",r.DEVNET="devnet",r))(Ah||{}),At={};sa(At,{AccountAddress:()=>Ht,AccountAuthenticator:()=>us,AccountAuthenticatorEd25519:()=>Fo,AccountAuthenticatorMultiEd25519:()=>Lo,ArgumentABI:()=>hs,AuthenticationKey:()=>ei,ChainId:()=>ga,ChangeSet:()=>Kh,Ed25519PublicKey:()=>Zr,Ed25519Signature:()=>dn,EntryFunction:()=>Yn,EntryFunctionABI:()=>_i,Identifier:()=>vr,Module:()=>lf,ModuleId:()=>Qn,MultiAgentRawTransaction:()=>xa,MultiEd25519PublicKey:()=>as,MultiEd25519Signature:()=>fa,MultiSig:()=>zo,MultiSigTransactionPayload:()=>Ko,RawTransaction:()=>Si,RawTransactionWithData:()=>hf,RotationProofChallenge:()=>$h,Script:()=>ha,ScriptABI:()=>Pa,SignedTransaction:()=>fs,StructTag:()=>Xn,Transaction:()=>xf,TransactionArgument:()=>rn,TransactionArgumentAddress:()=>_a,TransactionArgumentBool:()=>Ta,TransactionArgumentU128:()=>Ea,TransactionArgumentU16:()=>ma,TransactionArgumentU256:()=>Sa,TransactionArgumentU32:()=>wa,TransactionArgumentU64:()=>va,TransactionArgumentU8:()=>ba,TransactionArgumentU8Vector:()=>Aa,TransactionAuthenticator:()=>cs,TransactionAuthenticatorEd25519:()=>da,TransactionAuthenticatorMultiAgent:()=>Do,TransactionAuthenticatorMultiEd25519:()=>la,TransactionPayload:()=>ds,TransactionPayloadEntryFunction:()=>ya,TransactionPayloadMultisig:()=>$o,TransactionPayloadScript:()=>pa,TransactionScriptABI:()=>Ra,TypeArgumentABI:()=>ls,TypeTag:()=>cr,TypeTagAddress:()=>Mn,TypeTagBool:()=>Wn,TypeTagParser:()=>Ei,TypeTagParserError:()=>df,TypeTagSigner:()=>Ho,TypeTagStruct:()=>Zn,TypeTagU128:()=>Jn,TypeTagU16:()=>bi,TypeTagU256:()=>wi,TypeTagU32:()=>mi,TypeTagU64:()=>Vn,TypeTagU8:()=>En,TypeTagVector:()=>vi,UserTransaction:()=>qo,WriteSet:()=>zh,stringStructTag:()=>cf});var Th={};sa(Th,{Deserializer:()=>Oo,Serializer:()=>Lt,bcsSerializeBool:()=>Nh,bcsSerializeBytes:()=>gi,bcsSerializeFixedBytes:()=>Dh,bcsSerializeStr:()=>Mh,bcsSerializeU128:()=>Oh,bcsSerializeU16:()=>Bh,bcsSerializeU32:()=>Uh,bcsSerializeU8:()=>No,bcsSerializeUint64:()=>Ih,bcsToBytes:()=>vn,deserializeVector:()=>Vr,serializeVector:()=>Dr,serializeVectorWithFunc:()=>kh});var Ph=2**8-1,Rh=2**16-1,ss=2**32-1,yi=BigInt(2**64)-BigInt(1),of=BigInt(2**128)-BigInt(1),Ch=BigInt(2**256)-BigInt(1),Lt=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(r){for(;this.buffer.byteLength<this.offset+r;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(r){this.ensureBufferWillHandleSize(r.length),new Uint8Array(this.buffer,this.offset).set(r),this.offset+=r.length}serializeWithFunction(r,e,t){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);r.apply(n,[0,t,!0]),this.offset+=e}serializeStr(r){const e=new TextEncoder;this.serializeBytes(e.encode(r))}serializeBytes(r){this.serializeU32AsUleb128(r.length),this.serialize(r)}serializeFixedBytes(r){this.serialize(r)}serializeBool(r){if(typeof r!="boolean")throw new Error("Value needs to be a boolean");const e=r?1:0;this.serialize(new Uint8Array([e]))}serializeU8(r){this.serialize(new Uint8Array([r]))}serializeU16(r){this.serializeWithFunction(DataView.prototype.setUint16,2,r)}serializeU32(r){this.serializeWithFunction(DataView.prototype.setUint32,4,r)}serializeU64(r){const e=BigInt(r.toString())&BigInt(ss),t=BigInt(r.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(t))}serializeU128(r){const e=BigInt(r.toString())&yi,t=BigInt(r.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(t)}serializeU256(r){const e=BigInt(r.toString())&of,t=BigInt(r.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(t)}serializeU32AsUleb128(r){let e=r;const t=[];for(;e>>>7;)t.push(e&127|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};_t([Gn(0,Ph)],Lt.prototype,"serializeU8",1),_t([Gn(0,Rh)],Lt.prototype,"serializeU16",1),_t([Gn(0,ss)],Lt.prototype,"serializeU32",1),_t([Gn(BigInt(0),yi)],Lt.prototype,"serializeU64",1),_t([Gn(BigInt(0),of)],Lt.prototype,"serializeU128",1),_t([Gn(BigInt(0),Ch)],Lt.prototype,"serializeU256",1),_t([Gn(0,ss)],Lt.prototype,"serializeU32AsUleb128",1);function Gn(r,e,t){return(n,i,s)=>{const a=s.value;return s.value=function(d){const w=BigInt(d.toString());if(w>BigInt(e.toString())||w<BigInt(r.toString()))throw new Error(t||"Value is out of range");a.apply(this,[d])},s}}var Oo=class{constructor(r){this.buffer=new ArrayBuffer(r.length),new Uint8Array(this.buffer).set(r,0),this.offset=0}read(r){if(this.offset+r>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+r);return this.offset+=r,e}deserializeStr(){const r=this.deserializeBytes();return new TextDecoder().decode(r)}deserializeBytes(){const r=this.deserializeUleb128AsU32();return new Uint8Array(this.read(r))}deserializeFixedBytes(r){return new Uint8Array(this.read(r))}deserializeBool(){const r=new Uint8Array(this.read(1))[0];if(r!==1&&r!==0)throw new Error("Invalid boolean value");return r===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const r=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(r))}deserializeU128(){const r=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|r)}deserializeU256(){const r=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|r)}deserializeUleb128AsU32(){let r=BigInt(0),e=0;for(;r<ss;){const t=this.deserializeU8();if(r|=BigInt(t&127)<<BigInt(e),!(t&128))break;e+=7}if(r>ss)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(r)}};function Dr(r,e){e.serializeU32AsUleb128(r.length),r.forEach(t=>{t.serialize(e)})}function kh(r,e){const t=new Lt;t.serializeU32AsUleb128(r.length);const n=t[e];return r.forEach(i=>{n.call(t,i)}),t.getBytes()}function Vr(r,e){const t=r.deserializeUleb128AsU32(),n=[];for(let i=0;i<t;i+=1)n.push(e.deserialize(r));return n}function vn(r){const e=new Lt;return r.serialize(e),e.getBytes()}function Ih(r){const e=new Lt;return e.serializeU64(r),e.getBytes()}function No(r){const e=new Lt;return e.serializeU8(r),e.getBytes()}function Bh(r){const e=new Lt;return e.serializeU16(r),e.getBytes()}function Uh(r){const e=new Lt;return e.serializeU32(r),e.getBytes()}function Oh(r){const e=new Lt;return e.serializeU128(r),e.getBytes()}function Nh(r){const e=new Lt;return e.serializeBool(r),e.getBytes()}function Mh(r){const e=new Lt;return e.serializeStr(r),e.getBytes()}function gi(r){const e=new Lt;return e.serializeBytes(r),e.getBytes()}function Dh(r){const e=new Lt;return e.serializeFixedBytes(r),e.getBytes()}var Jr=class{constructor(r){if(r.length!==Jr.LENGTH)throw new Error("Expected address of length 32");this.address=r}static fromHex(r){let e=Fe.ensure(r);e.noPrefix().length%2!==0&&(e=new Fe(`0${e.noPrefix()}`));const t=e.toUint8Array();if(t.length>Jr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(t.length===Jr.LENGTH)return new Jr(t);const n=new Uint8Array(Jr.LENGTH);return n.set(t,Jr.LENGTH-t.length),new Jr(n)}static isValid(r){if(r==="")return!1;let e=Fe.ensure(r);return e.noPrefix().length%2!==0&&(e=new Fe(`0${e.noPrefix()}`)),e.toUint8Array().length<=Jr.LENGTH}toHexString(){return Fe.fromUint8Array(this.address).hex()}serialize(r){r.serializeFixedBytes(this.address)}static deserialize(r){return new Jr(r.deserializeFixedBytes(Jr.LENGTH))}},Ht=Jr;Ht.LENGTH=32,Ht.CORE_CODE_ADDRESS=Jr.fromHex("0x1");var ca=class{constructor(r){if(r.length!==ca.LENGTH)throw new Error(`Ed25519PublicKey length should be ${ca.LENGTH}`);this.value=r}toBytes(){return this.value}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new ca(e)}},Zr=ca;Zr.LENGTH=32;var ua=class{constructor(r){if(this.value=r,r.length!==ua.LENGTH)throw new Error(`Ed25519Signature length should be ${ua.LENGTH}`)}serialize(r){r.serializeBytes(this.value)}static deserialize(r){const e=r.deserializeBytes();return new ua(e)}},dn=ua;dn.LENGTH=64;var Mo=32,as=class{constructor(r,e){if(this.public_keys=r,this.threshold=e,e>Mo)throw new Error(`"threshold" cannot be larger than ${Mo}`)}toBytes(){const r=new Uint8Array(this.public_keys.length*Zr.LENGTH+1);return this.public_keys.forEach((e,t)=>{r.set(e.value,t*Zr.LENGTH)}),r[this.public_keys.length*Zr.LENGTH]=this.threshold,r}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e[e.length-1],n=[];for(let i=0;i<e.length-1;i+=Zr.LENGTH){const s=i;n.push(new Zr(e.subarray(s,s+Zr.LENGTH)))}return new as(n,t)}},os=class{constructor(r,e){if(this.signatures=r,this.bitmap=e,e.length!==os.BITMAP_LEN)throw new Error(`"bitmap" length should be ${os.BITMAP_LEN}`)}toBytes(){const r=new Uint8Array(this.signatures.length*dn.LENGTH+os.BITMAP_LEN);return this.signatures.forEach((e,t)=>{r.set(e.value,t*dn.LENGTH)}),r.set(this.bitmap,this.signatures.length*dn.LENGTH),r}static createBitmap(r){const t=new Uint8Array([0,0,0,0]),n=new Set;return r.forEach(i=>{if(i>=Mo)throw new Error(`Invalid bit value ${i}.`);if(n.has(i))throw new Error("Duplicated bits detected.");n.add(i);const s=Math.floor(i/8);let a=t[s];a|=128>>i%8,t[s]=a}),t}serialize(r){r.serializeBytes(this.toBytes())}static deserialize(r){const e=r.deserializeBytes(),t=e.subarray(e.length-4),n=[];for(let i=0;i<e.length-t.length;i+=dn.LENGTH){const s=i;n.push(new dn(e.subarray(s,s+dn.LENGTH)))}return new os(n,t)}},fa=os;fa.BITMAP_LEN=4;var cs=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return da.load(r);case 1:return la.load(r);case 2:return Do.load(r);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},da=class extends cs{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=Zr.deserialize(r),t=dn.deserialize(r);return new da(e,t)}},la=class extends cs{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=as.deserialize(r),t=fa.deserialize(r);return new la(e,t)}},Do=class extends cs{constructor(r,e,t){super(),this.sender=r,this.secondary_signer_addresses=e,this.secondary_signers=t}serialize(r){r.serializeU32AsUleb128(2),this.sender.serialize(r),Dr(this.secondary_signer_addresses,r),Dr(this.secondary_signers,r)}static load(r){const e=us.deserialize(r),t=Vr(r,Ht),n=Vr(r,us);return new Do(e,t,n)}},us=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Fo.load(r);case 1:return Lo.load(r);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Fo=class extends us{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(0),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=Zr.deserialize(r),t=dn.deserialize(r);return new Fo(e,t)}},Lo=class extends us{constructor(r,e){super(),this.public_key=r,this.signature=e}serialize(r){r.serializeU32AsUleb128(1),this.public_key.serialize(r),this.signature.serialize(r)}static load(r){const e=as.deserialize(r),t=fa.deserialize(r);return new Lo(e,t)}},vr=class{constructor(r){this.value=r}serialize(r){r.serializeStr(this.value)}static deserialize(r){const e=r.deserializeStr();return new vr(e)}},cr=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Wn.load(r);case 1:return En.load(r);case 2:return Vn.load(r);case 3:return Jn.load(r);case 4:return Mn.load(r);case 5:return Ho.load(r);case 6:return vi.load(r);case 7:return Zn.load(r);case 8:return bi.load(r);case 9:return mi.load(r);case 10:return wi.load(r);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Wn=class extends cr{serialize(r){r.serializeU32AsUleb128(0)}static load(r){return new Wn}},En=class extends cr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new En}},bi=class extends cr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new bi}},mi=class extends cr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new mi}},Vn=class extends cr{serialize(r){r.serializeU32AsUleb128(2)}static load(r){return new Vn}},Jn=class extends cr{serialize(r){r.serializeU32AsUleb128(3)}static load(r){return new Jn}},wi=class extends cr{serialize(r){r.serializeU32AsUleb128(1)}static load(r){return new wi}},Mn=class extends cr{serialize(r){r.serializeU32AsUleb128(4)}static load(r){return new Mn}},Ho=class extends cr{serialize(r){r.serializeU32AsUleb128(5)}static load(r){return new Ho}},vi=class extends cr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),this.value.serialize(r)}static load(r){const e=cr.deserialize(r);return new vi(e)}},Zn=class extends cr{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),this.value.serialize(r)}static load(r){const e=Xn.deserialize(r);return new Zn(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Ht.fromHex("0x1").toHexString()}},Xn=class{constructor(r,e,t,n){this.address=r,this.module_name=e,this.name=t,this.type_args=n}static fromString(r){const e=new Ei(r).parseTypeTag();return new Xn(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(r){this.address.serialize(r),this.module_name.serialize(r),this.name.serialize(r),Dr(this.type_args,r)}static deserialize(r){const e=Ht.deserialize(r),t=vr.deserialize(r),n=vr.deserialize(r),i=Vr(r,cr);return new Xn(e,t,n,i)}},cf=new Xn(Ht.fromHex("0x1"),new vr("string"),new vr("String"),[]);function Dn(r){throw new df(r)}function uf(r){return!!r.match(/\s/)}function ff(r){return!!r.match(/[_A-Za-z0-9]/g)}function Fh(r){return!!r.match(/T\d+/g)}function Lh(r,e){const t=r[e];if(t===":"){if(r.slice(e,e+2)==="::")return[["COLON","::"],2];Dn("Unrecognized token.")}else{if(t==="<")return[["LT","<"],1];if(t===">")return[["GT",">"],1];if(t===",")return[["COMMA",","],1];if(uf(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(uf(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(ff(t)){let n="";for(let i=e;i<r.length;i+=1){const s=r[i];if(ff(s))n=`${n}${s}`;else break}return Fh(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function Hh(r){let e=0;const t=[];for(;e<r.length;){const[n,i]=Lh(r,e);n[0]!=="SPACE"&&t.push(n),e+=i}return t}var Ei=class{constructor(r,e){this.typeTags=[],this.tokens=Hh(r),this.typeTags=e||[]}consume(r){const e=this.tokens.shift();(!e||e[1]!==r)&&Dn("Invalid type tag.")}parseCommaList(r,e){const t=[];for(this.tokens.length<=0&&Dn("Invalid type tag.");this.tokens[0][1]!==r&&(t.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===r||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===r&&e)));)this.tokens.length<=0&&Dn("Invalid type tag.");return t}parseTypeTag(){this.tokens.length===0&&Dn("Invalid type tag.");const[r,e]=this.tokens.shift();if(e==="u8")return new En;if(e==="u16")return new bi;if(e==="u32")return new mi;if(e==="u64")return new Vn;if(e==="u128")return new Jn;if(e==="u256")return new wi;if(e==="bool")return new Wn;if(e==="address")return new Mn;if(e==="vector"){this.consume("<");const t=this.parseTypeTag();return this.consume(">"),new vi(t)}if(e==="string")return new Xn(Ht.fromHex("0x1"),new vr("string"),new vr("String"),[]);if(r==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const t=e;this.consume("::");const[n,i]=this.tokens.shift();n!=="IDENT"&&Dn("Invalid type tag."),this.consume("::");const[s,a]=this.tokens.shift();if(s!=="IDENT"&&Dn("Invalid type tag."),i==="object"&&a==="Object")return this.tokens.splice(0,3),new Mn;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const d=new Xn(Ht.fromHex(t),new vr(i),new vr(a),o);return new Zn(d)}if(r==="GENERIC"){this.typeTags.length===0&&Dn("Can't convert generic type since no typeTags were specified.");const t=parseInt(e.substring(1),10);return new Ei(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},df=class extends Error{constructor(r){super(r),this.name="TypeTagParserError"}},Si=class{constructor(r,e,t,n,i,s,a){this.sender=r,this.sequence_number=e,this.payload=t,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(r){this.sender.serialize(r),r.serializeU64(this.sequence_number),this.payload.serialize(r),r.serializeU64(this.max_gas_amount),r.serializeU64(this.gas_unit_price),r.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(r)}static deserialize(r){const e=Ht.deserialize(r),t=r.deserializeU64(),n=ds.deserialize(r),i=r.deserializeU64(),s=r.deserializeU64(),a=r.deserializeU64(),o=ga.deserialize(r);return new Si(e,t,n,i,s,a,o)}},ha=class{constructor(r,e,t){this.code=r,this.ty_args=e,this.args=t}serialize(r){r.serializeBytes(this.code),Dr(this.ty_args,r),Dr(this.args,r)}static deserialize(r){const e=r.deserializeBytes(),t=Vr(r,cr),n=Vr(r,rn);return new ha(e,t,n)}},Yn=class{constructor(r,e,t,n){this.module_name=r,this.function_name=e,this.ty_args=t,this.args=n}static natural(r,e,t,n){return new Yn(Qn.fromStr(r),new vr(e),t,n)}static natual(r,e,t,n){return Yn.natural(r,e,t,n)}serialize(r){this.module_name.serialize(r),this.function_name.serialize(r),Dr(this.ty_args,r),r.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{r.serializeBytes(e)})}static deserialize(r){const e=Qn.deserialize(r),t=vr.deserialize(r),n=Vr(r,cr),i=r.deserializeUleb128AsU32(),s=[];for(let o=0;o<i;o+=1)s.push(r.deserializeBytes());const a=s;return new Yn(e,t,n,a)}},Ko=class{constructor(r){this.transaction_payload=r}serialize(r){r.serializeU32AsUleb128(0),this.transaction_payload.serialize(r)}static deserialize(r){return r.deserializeUleb128AsU32(),new Ko(Yn.deserialize(r))}},zo=class{constructor(r,e){this.multisig_address=r,this.transaction_payload=e}serialize(r){this.multisig_address.serialize(r),this.transaction_payload===void 0?r.serializeBool(!1):(r.serializeBool(!0),this.transaction_payload.serialize(r))}static deserialize(r){const e=Ht.deserialize(r),t=r.deserializeBool();let n;return t&&(n=Ko.deserialize(r)),new zo(e,n)}},lf=class{constructor(r){this.code=r}serialize(r){r.serializeBytes(this.code)}static deserialize(r){const e=r.deserializeBytes();return new lf(e)}},Qn=class{constructor(r,e){this.address=r,this.name=e}static fromStr(r){const e=r.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new Qn(Ht.fromHex(new Fe(e[0])),new vr(e[1]))}serialize(r){this.address.serialize(r),this.name.serialize(r)}static deserialize(r){const e=Ht.deserialize(r),t=vr.deserialize(r);return new Qn(e,t)}},Kh=class{serialize(r){throw new Error("Not implemented.")}static deserialize(r){throw new Error("Not implemented.")}},zh=class{serialize(r){throw new Error("Not implmented.")}static deserialize(r){throw new Error("Not implmented.")}},fs=class{constructor(r,e){this.raw_txn=r,this.authenticator=e}serialize(r){this.raw_txn.serialize(r),this.authenticator.serialize(r)}static deserialize(r){const e=Si.deserialize(r),t=cs.deserialize(r);return new fs(e,t)}},hf=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return xa.load(r);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},xa=class extends hf{constructor(r,e){super(),this.raw_txn=r,this.secondary_signer_addresses=e}serialize(r){r.serializeU32AsUleb128(0),this.raw_txn.serialize(r),Dr(this.secondary_signer_addresses,r)}static load(r){const e=Si.deserialize(r),t=Vr(r,Ht);return new xa(e,t)}},ds=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return pa.load(r);case 2:return ya.load(r);case 3:return $o.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},pa=class extends ds{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){const e=ha.deserialize(r);return new pa(e)}},ya=class extends ds{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),this.value.serialize(r)}static load(r){const e=Yn.deserialize(r);return new ya(e)}},$o=class extends ds{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=zo.deserialize(r);return new $o(e)}},ga=class{constructor(r){this.value=r}serialize(r){r.serializeU8(this.value)}static deserialize(r){const e=r.deserializeU8();return new ga(e)}},rn=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return ba.load(r);case 1:return va.load(r);case 2:return Ea.load(r);case 3:return _a.load(r);case 4:return Aa.load(r);case 5:return Ta.load(r);case 6:return ma.load(r);case 7:return wa.load(r);case 8:return Sa.load(r);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},ba=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(0),r.serializeU8(this.value)}static load(r){const e=r.deserializeU8();return new ba(e)}},ma=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(6),r.serializeU16(this.value)}static load(r){const e=r.deserializeU16();return new ma(e)}},wa=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(7),r.serializeU32(this.value)}static load(r){const e=r.deserializeU32();return new wa(e)}},va=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(1),r.serializeU64(this.value)}static load(r){const e=r.deserializeU64();return new va(e)}},Ea=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(2),r.serializeU128(this.value)}static load(r){const e=r.deserializeU128();return new Ea(e)}},Sa=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(8),r.serializeU256(this.value)}static load(r){const e=r.deserializeU256();return new Sa(e)}},_a=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(3),this.value.serialize(r)}static load(r){const e=Ht.deserialize(r);return new _a(e)}},Aa=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(4),r.serializeBytes(this.value)}static load(r){const e=r.deserializeBytes();return new Aa(e)}},Ta=class extends rn{constructor(r){super(),this.value=r}serialize(r){r.serializeU32AsUleb128(5),r.serializeBool(this.value)}static load(r){const e=r.deserializeBool();return new Ta(e)}},xf=class{getHashSalt(){const r=pi.create();return r.update("APTOS::Transaction"),r.digest()}static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return qo.load(r);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},qo=class extends xf{constructor(r){super(),this.value=r}hash(){const r=pi.create();return r.update(this.getHashSalt()),r.update(vn(this)),r.digest()}serialize(r){r.serializeU32AsUleb128(0),this.value.serialize(r)}static load(r){return new qo(fs.deserialize(r))}},ls=class{constructor(r){this.name=r}serialize(r){r.serializeStr(this.name)}static deserialize(r){const e=r.deserializeStr();return new ls(e)}},hs=class{constructor(r,e){this.name=r,this.type_tag=e}serialize(r){r.serializeStr(this.name),this.type_tag.serialize(r)}static deserialize(r){const e=r.deserializeStr(),t=cr.deserialize(r);return new hs(e,t)}},Pa=class{static deserialize(r){const e=r.deserializeUleb128AsU32();switch(e){case 0:return Ra.load(r);case 1:return _i.load(r);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Ra=class extends Pa{constructor(r,e,t,n,i){super(),this.name=r,this.doc=e,this.code=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(0),r.serializeStr(this.name),r.serializeStr(this.doc),r.serializeBytes(this.code),Dr(this.ty_args,r),Dr(this.args,r)}static load(r){const e=r.deserializeStr(),t=r.deserializeStr(),n=r.deserializeBytes(),i=Vr(r,ls),s=Vr(r,hs);return new Ra(e,t,n,i,s)}},_i=class extends Pa{constructor(r,e,t,n,i){super(),this.name=r,this.module_name=e,this.doc=t,this.ty_args=n,this.args=i}serialize(r){r.serializeU32AsUleb128(1),r.serializeStr(this.name),this.module_name.serialize(r),r.serializeStr(this.doc),Dr(this.ty_args,r),Dr(this.args,r)}static load(r){const e=r.deserializeStr(),t=Qn.deserialize(r),n=r.deserializeStr(),i=Vr(r,ls),s=Vr(r,hs);return new _i(e,t,n,i,s)}},Ai=class{constructor(r){if(r.length!==Ai.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=r}static fromMultiEd25519PublicKey(r){const e=r.toBytes(),t=new Uint8Array(e.length+1);t.set(e),t.set([Ai.MULTI_ED25519_SCHEME],e.length);const n=pi.create();return n.update(t),new Ai(n.digest())}static fromEd25519PublicKey(r){const e=r.value,t=new Uint8Array(e.length+1);t.set(e),t.set([Ai.ED25519_SCHEME],e.length);const n=pi.create();return n.update(t),new Ai(n.digest())}derivedAddress(){return Fe.fromUint8Array(this.bytes)}},ei=Ai;ei.LENGTH=32,ei.MULTI_ED25519_SCHEME=1,ei.ED25519_SCHEME=0,ei.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var $h=class{constructor(r,e,t,n,i,s,a){this.accountAddress=r,this.moduleName=e,this.structName=t,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(r){this.accountAddress.serialize(r),r.serializeStr(this.moduleName),r.serializeStr(this.structName),r.serializeU64(this.sequenceNumber),this.originator.serialize(r),this.currentAuthKey.serialize(r),r.serializeBytes(this.newPublicKey)}},Ca=class{static fromAptosAccountObject(r){return new Ca(Fe.ensure(r.privateKeyHex).toUint8Array(),r.address)}static isValidPath(r){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(r)}static fromDerivePath(r,e){if(!Ca.isValidPath(r))throw new Error("Invalid derivation path");const t=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:n}=bh(r,(0,wn.bytesToHex)(rh.Z1(t)));return new Ca(n)}constructor(r,e){r?this.signingKey=na.sign.keyPair.fromSeed(r.slice(0,32)):this.signingKey=na.sign.keyPair(),this.accountAddress=Fe.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const r=new Zr(this.signingKey.publicKey);return ei.fromEd25519PublicKey(r).derivedAddress()}static getResourceAccountAddress(r,e){const t=vn(Ht.fromHex(r)),n=new Uint8Array([...t,...e,ei.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=pi.create();return i.update(n),Fe.fromUint8Array(i.digest())}pubKey(){return Fe.fromUint8Array(this.signingKey.publicKey)}signBuffer(r){const e=na.sign.detached(r,this.signingKey.secretKey);return Fe.fromUint8Array(e)}signHexString(r){const e=Fe.ensure(r).toUint8Array();return this.signBuffer(e)}verifySignature(r,e){const t=Fe.ensure(r).toUint8Array(),n=Fe.ensure(e).toUint8Array();return na.sign.detached.verify(t,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Fe.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},ka=Ca;_t([aa()],ka.prototype,"authKey",1);function pf(r){return r instanceof ka?r.address():Fe.ensure(r)}var qh=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,jh=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,Gh=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,Wh=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${qh}
${jh}`,Vh=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Jh=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,Zh=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,Xh=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,Yh=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,Qh=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,ex=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,tx=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,rx=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,nx=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,ix=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,sx=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,ln=class{constructor(r){this.endpoint=r}static validateAddress(r){if(r.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(r){const{data:e}=await is.post(this.endpoint,r);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const r={query:Qh};return this.queryIndexer(r)}async getAccountNFTs(r,e){const t=Fe.ensure(r).hex();ln.validateAddress(t);const n={query:Wh,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(r,e){const t={query:ex,variables:{idHash:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getAccountCoinsData(r,e){const t=Fe.ensure(r).hex();ln.validateAddress(t);const n={query:Gh,variables:{owner_address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(r){const e=Fe.ensure(r).hex();ln.validateAddress(e);const t={query:Vh,variables:{owner_address:e}};return this.queryIndexer(t)}async getAccountTransactionsCount(r){const e=Fe.ensure(r).hex();ln.validateAddress(e);const t={query:Jh,variables:{address:e}};return this.queryIndexer(t)}async getAccountTransactionsData(r,e){const t=Fe.ensure(r).hex();ln.validateAddress(t);const n={query:Zh,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(r,e){const t=Fe.ensure(r).hex(),n=Fe.ensure(e).hex();ln.validateAddress(t),ln.validateAddress(n);const i={query:Yh,variables:{delegatorAddress:t,poolAddress:n}};return this.queryIndexer(i)}async getTokenActivitiesCount(r){const e={query:tx,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenData(r){const e={query:rx,variables:{token_id:r}};return this.queryIndexer(e)}async getTokenOwnersData(r,e){const t={query:nx,variables:{token_id:r,property_version:e}};return this.queryIndexer(t)}async getTopUserTransactions(r){const e={query:ix,variables:{limit:r}};return this.queryIndexer(e)}async getUserTransactions(r,e){const t={query:sx,variables:{start_version:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(t)}async getCurrentDelegatorBalancesCount(r){const e=Fe.ensure(r).hex();ln.validateAddress(e);const t={query:Xh,variables:{poolAddress:e}};return this.queryIndexer(t)}},ax={};sa(ax,{$AccountData:()=>vx,$AccountSignature:()=>Ex,$AccountSignature_Ed25519Signature:()=>Sx,$AccountSignature_MultiEd25519Signature:()=>_x,$Address:()=>Ax,$AptosError:()=>Tx,$AptosErrorCode:()=>Px,$Block:()=>Rx,$BlockMetadataTransaction:()=>Cx,$DecodedTableData:()=>kx,$DeleteModule:()=>Bx,$DeleteResource:()=>Ux,$DeleteTableItem:()=>Ox,$DeletedTableData:()=>Ix,$DirectWriteSet:()=>Nx,$Ed25519Signature:()=>Mx,$EncodeSubmissionRequest:()=>Dx,$EntryFunctionId:()=>Fx,$EntryFunctionPayload:()=>Lx,$Event:()=>Hx,$EventGuid:()=>Kx,$GasEstimation:()=>zx,$GenesisPayload:()=>$x,$GenesisPayload_WriteSetPayload:()=>qx,$GenesisTransaction:()=>jx,$HashValue:()=>Gx,$HealthCheckSuccess:()=>Wx,$HexEncodedBytes:()=>Vx,$IdentifierWrapper:()=>Jx,$IndexResponse:()=>Zx,$ModuleBundlePayload:()=>Xx,$MoveAbility:()=>Yx,$MoveFunction:()=>Qx,$MoveFunctionGenericTypeParam:()=>ep,$MoveFunctionVisibility:()=>tp,$MoveModule:()=>rp,$MoveModuleBytecode:()=>np,$MoveModuleId:()=>ip,$MoveResource:()=>sp,$MoveScriptBytecode:()=>ap,$MoveStruct:()=>op,$MoveStructField:()=>cp,$MoveStructGenericTypeParam:()=>up,$MoveStructTag:()=>fp,$MoveStructValue:()=>dp,$MoveType:()=>lp,$MoveValue:()=>hp,$MultiAgentSignature:()=>xp,$MultiEd25519Signature:()=>pp,$MultisigPayload:()=>yp,$MultisigTransactionPayload:()=>gp,$PendingTransaction:()=>bp,$RawTableItemRequest:()=>mp,$RoleType:()=>wp,$ScriptPayload:()=>vp,$ScriptWriteSet:()=>Ep,$StateCheckpointTransaction:()=>Sp,$StateKeyWrapper:()=>_p,$SubmitTransactionRequest:()=>Ap,$TableItemRequest:()=>Tp,$Transaction:()=>Pp,$TransactionPayload:()=>Up,$TransactionPayload_EntryFunctionPayload:()=>Op,$TransactionPayload_ModuleBundlePayload:()=>Np,$TransactionPayload_MultisigPayload:()=>Mp,$TransactionPayload_ScriptPayload:()=>Dp,$TransactionSignature:()=>Hp,$TransactionSignature_Ed25519Signature:()=>Kp,$TransactionSignature_MultiAgentSignature:()=>zp,$TransactionSignature_MultiEd25519Signature:()=>$p,$Transaction_BlockMetadataTransaction:()=>Rp,$Transaction_GenesisTransaction:()=>Cp,$Transaction_PendingTransaction:()=>kp,$Transaction_StateCheckpointTransaction:()=>Ip,$Transaction_UserTransaction:()=>Bp,$TransactionsBatchSingleSubmissionFailure:()=>Fp,$TransactionsBatchSubmissionResult:()=>Lp,$U128:()=>qp,$U256:()=>jp,$U64:()=>Gp,$UserTransaction:()=>Wp,$VersionedEvent:()=>Vp,$ViewRequest:()=>Jp,$WriteModule:()=>Zp,$WriteResource:()=>Xp,$WriteSet:()=>Yp,$WriteSetChange:()=>ty,$WriteSetChange_DeleteModule:()=>ry,$WriteSetChange_DeleteResource:()=>ny,$WriteSetChange_DeleteTableItem:()=>iy,$WriteSetChange_WriteModule:()=>sy,$WriteSetChange_WriteResource:()=>ay,$WriteSetChange_WriteTableItem:()=>oy,$WriteSetPayload:()=>cy,$WriteSet_DirectWriteSet:()=>Qp,$WriteSet_ScriptWriteSet:()=>ey,$WriteTableItem:()=>uy,AccountsService:()=>Sf,ApiError:()=>xs,AptosErrorCode:()=>If,AptosGeneratedClient:()=>kf,BaseHttpRequest:()=>yf,BlocksService:()=>_f,CancelError:()=>gf,CancelablePromise:()=>bf,EventsService:()=>Af,GeneralService:()=>Tf,MoveFunctionVisibility:()=>Bf,OpenAPI:()=>wx,RoleType:()=>Uf,TablesService:()=>Pf,TransactionsService:()=>Rf,ViewService:()=>Cf});var yf=class{constructor(r){this.config=r}},xs=class extends Error{constructor(r,e,t){super(t),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=r}},gf=class extends Error{constructor(r){super(r),this.name="CancelError"}get isCancelled(){return!0}},bf=class{constructor(r){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},i=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},s=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),r(n,i,s)})}then(r,e){return this._promise.then(r,e)}catch(r){return this._promise.catch(r)}finally(r){return this._promise.finally(r)}cancel(){var r;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(r=this._reject)==null||r.call(this,new gf("Request aborted"))}}get isCancelled(){return this._isCancelled}},mf=class{constructor(r=new Map){this.jar=r}setCookie(r,e){var t;const n=r.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const i=mf.parse(e);this.jar.set(n,[...((t=this.jar.get(n))==null?void 0:t.filter(s=>s.name!==i.name))||[],i])}getCookies(r){var e;const t=r.origin.toLowerCase();return this.jar.get(t)?((e=this.jar.get(t))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(r){if(typeof r!="string")throw new Error("argument str must be a string");const e=r.split(";").map(n=>n.trim());let t;if(e.length>0){const[n,i]=e[0].split("=");if(!n||!i)throw new Error("Invalid cookie");t={name:n,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[i,s]=n.split("=");if(!i.trim())throw new Error("Invalid cookie");const a=i.toLowerCase(),o=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(a==="expires"&&(t.expires=new Date(o)),a==="path"&&(t.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");t.sameSite=o}a==="secure"&&(t.secure=!0)}),t}},wf=new mf;is.interceptors.response.use(r=>(Array.isArray(r.headers["set-cookie"])&&r.headers["set-cookie"].forEach(e=>{wf.setCookie(new URL(r.config.url),e)}),r)),is.interceptors.request.use(function(r){const e=wf.getCookies(new URL(r.url));return(e==null?void 0:e.length)>0&&r.headers&&(r.headers.cookie=e.map(t=>`${t.name}=${t.value}`).join("; ")),r});var jo=r=>r!=null,Ia=r=>typeof r=="string",Go=r=>Ia(r)&&r!=="",vf=r=>typeof r=="object"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.arrayBuffer=="function"&&typeof r.constructor=="function"&&typeof r.constructor.name=="string"&&/^(Blob|File)$/.test(r.constructor.name)&&/^(Blob|File)$/.test(r[Symbol.toStringTag]),ox=r=>r instanceof Xu,cx=r=>r>=200&&r<300,ux=r=>btoa(r),fx=r=>{const e=[],t=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{jo(s)&&(Array.isArray(s)?s.forEach(a=>{n(i,a)}):typeof s=="object"?Object.entries(s).forEach(([a,o])=>{n(`${i}[${a}]`,o)}):t(i,s))};return Object.entries(r).forEach(([i,s])=>{n(i,s)}),e.length>0?`?${e.join("&")}`:""},dx=(r,e)=>{const t=r.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",r.VERSION).replace(/{(.*?)}/g,(s,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?t(String(e.path[a])):s}),i=`${r.BASE}${n}`;return e.query?`${i}${fx(e.query)}`:i},lx=r=>{if(r.formData){const e=new Xu,t=(n,i)=>{Ia(i)||vf(i)?e.append(n,i):e.append(n,JSON.stringify(i))};return Object.entries(r.formData).filter(([n,i])=>jo(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>t(n,s)):t(n,i)}),e}},Ba=async(r,e)=>typeof e=="function"?e(r):e,hx=async(r,e,t)=>{const n=await Ba(e,r.TOKEN),i=await Ba(e,r.USERNAME),s=await Ba(e,r.PASSWORD),a=await Ba(e,r.HEADERS),o=typeof(t==null?void 0:t.getHeaders)=="function"&&(t==null?void 0:t.getHeaders())||{},d=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([w,T])=>jo(T)).reduce((w,[T,I])=>({...w,[T]:String(I)}),{});if(Go(n)&&(d.Authorization=`Bearer ${n}`),Go(i)&&Go(s)){const w=ux(`${i}:${s}`);d.Authorization=`Basic ${w}`}return e.body&&(e.mediaType?d["Content-Type"]=e.mediaType:vf(e.body)?d["Content-Type"]=e.body.type||"application/octet-stream":Ia(e.body)?d["Content-Type"]="text/plain":ox(e.body)||(d["Content-Type"]="application/json")),d},xx=r=>{if(r.body)return r.body},px=async(r,e,t,n,i,s,a)=>{const o=is.CancelToken.source(),d={url:t,headers:s,data:n??i,method:e.method,withCredentials:r.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(r.HEADERS||{}).filter(T=>T.toLowerCase()==="accept").map(T=>r.HEADERS[T]).includes("application/x-bcs")&&(d.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await is.request(d)}catch(T){const I=T;if(I.response)return I.response;throw T}},yx=(r,e)=>{if(e){const t=r.headers[e];if(Ia(t))return t}},gx=r=>{if(r.status!==204)return r.data},bx=(r,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...r.errors}[e.status];if(n)throw new xs(r,e,n);if(!e.ok)throw new xs(r,e,"Generic Error")},mx=(r,e)=>new bf(async(t,n,i)=>{try{const s=dx(r,e),a=lx(e),o=xx(e),d=await hx(r,e,a);if(!i.isCancelled){const w=await px(r,e,s,o,a,d,i),T=gx(w),I=yx(w,e.responseHeader),L={url:s,ok:cx(w.status),status:w.status,statusText:w.statusText,body:I??T};bx(e,L);const Y=L.body;try{Y.__headers=w.headers}catch{}t(Y)}}catch(s){n(s)}}),Ef=class extends yf{constructor(r){super(r)}request(r){return mx(this.config,r)}},Sf=class{constructor(r){this.httpRequest=r}getAccount(r,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:r},query:{ledger_version:e}})}getAccountResources(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountModules(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:r},query:{ledger_version:e,start:t,limit:n}})}getAccountResource(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:r,resource_type:e},query:{ledger_version:t}})}getAccountModule(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:r,module_name:e},query:{ledger_version:t}})}},_f=class{constructor(r){this.httpRequest=r}getBlockByHeight(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:r},query:{with_transactions:e}})}getBlockByVersion(r,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:r},query:{with_transactions:e}})}},Af=class{constructor(r){this.httpRequest=r}getEventsByCreationNumber(r,e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:r,creation_number:e},query:{start:t,limit:n}})}getEventsByEventHandle(r,e,t,n,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:r,event_handle:e,field_name:t},query:{start:n,limit:i}})}},Tf=class{constructor(r){this.httpRequest=r}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(r){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:r}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},Pf=class{constructor(r){this.httpRequest=r}getTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}getRawTableItem(r,e,t){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:r},query:{ledger_version:t},body:e,mediaType:"application/json"})}},Rf=class{constructor(r){this.httpRequest=r}getTransactions(r,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:r,limit:e}})}submitTransaction(r){return this.httpRequest.request({method:"POST",url:"/transactions",body:r,mediaType:"application/json"})}getTransactionByHash(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:r}})}getTransactionByVersion(r){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:r}})}getAccountTransactions(r,e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:r},query:{start:e,limit:t}})}submitBatchTransactions(r){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:r,mediaType:"application/json"})}simulateTransaction(r,e,t,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:t,estimate_prioritized_gas_unit_price:n},body:r,mediaType:"application/json"})}encodeSubmission(r){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:r,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},Cf=class{constructor(r){this.httpRequest=r}view(r,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:r,mediaType:"application/json"})}},kf=class{constructor(r,e=Ef){var t,n,i,s;this.request=new e({BASE:(t=r==null?void 0:r.BASE)!=null?t:"/v1",VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(i=r==null?void 0:r.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=r==null?void 0:r.CREDENTIALS)!=null?s:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH}),this.accounts=new Sf(this.request),this.blocks=new _f(this.request),this.events=new Af(this.request),this.general=new Tf(this.request),this.tables=new Pf(this.request),this.transactions=new Rf(this.request),this.view=new Cf(this.request)}},wx={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},If=(r=>(r.ACCOUNT_NOT_FOUND="account_not_found",r.RESOURCE_NOT_FOUND="resource_not_found",r.MODULE_NOT_FOUND="module_not_found",r.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",r.VERSION_NOT_FOUND="version_not_found",r.TRANSACTION_NOT_FOUND="transaction_not_found",r.TABLE_ITEM_NOT_FOUND="table_item_not_found",r.BLOCK_NOT_FOUND="block_not_found",r.VERSION_PRUNED="version_pruned",r.BLOCK_PRUNED="block_pruned",r.INVALID_INPUT="invalid_input",r.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",r.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",r.VM_ERROR="vm_error",r.HEALTH_CHECK_FAILED="health_check_failed",r.MEMPOOL_IS_FULL="mempool_is_full",r.INTERNAL_ERROR="internal_error",r.WEB_FRAMEWORK_ERROR="web_framework_error",r.BCS_NOT_SUPPORTED="bcs_not_supported",r.API_DISABLED="api_disabled",r))(If||{}),Bf=(r=>(r.PRIVATE="private",r.PUBLIC="public",r.FRIEND="friend",r))(Bf||{}),Uf=(r=>(r.VALIDATOR="validator",r.FULL_NODE="full_node",r))(Uf||{}),vx={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Ex={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Sx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},_x={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Ax={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},Tx={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},Px={type:"Enum"},Rx={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},Cx={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},kx={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Ix={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Bx={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Ux={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Ox={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Nx={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Mx={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Dx={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Fx={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},Lx={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Hx={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Kx={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},zx={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},$x={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},qx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},jx={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Gx={type:"string"},Wx={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Vx={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Jx={type:"string"},Zx={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},Xx={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Yx={type:"string"},Qx={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},ep={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},tp={type:"Enum"},rp={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},np={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},ip={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},sp={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},ap={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},op={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},cp={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},up={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},fp={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},dp={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},lp={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},hp={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},xp={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},pp={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},yp={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},gp={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},bp={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},mp={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},wp={type:"Enum"},vp={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Ep={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Sp={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},_p={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Ap={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Tp={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Pp={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Rp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},Cp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},kp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},Ip={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Bp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},Up={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Op={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Np={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Mp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Dp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Fp={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Lp={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Hp={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},Kp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},zp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},$p={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},qp={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},jp={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},Gp={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},Wp={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Vp={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Jp={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Zp={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},Xp={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Yp={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},Qp={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},ey={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},ty={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},ry={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},ny={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},iy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},sy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},ay={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},oy={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},cy={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},uy={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function Ua(r,e,t){if(!(e!=null&&e.includes(typeof r)))throw new Error(t||`Invalid arg: ${r} type should be ${e instanceof Array?e.join(" or "):e}`)}function Of(r){if(Ua(r,["boolean","string"]),typeof r=="boolean")return r;if(r==="true")return!0;if(r==="false")return!1;throw new Error("Invalid boolean string.")}function Ti(r){if(Ua(r,["number","string"]),typeof r=="number")return r;const e=Number.parseInt(r,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Pi(r){return Ua(r,["number","bigint","string"]),BigInt(r)}function Oa(r,e,t){if(e instanceof Wn){t.serializeBool(Of(r));return}if(e instanceof En){t.serializeU8(Ti(r));return}if(e instanceof bi){t.serializeU16(Ti(r));return}if(e instanceof mi){t.serializeU32(Ti(r));return}if(e instanceof Vn){t.serializeU64(Pi(r));return}if(e instanceof Jn){t.serializeU128(Pi(r));return}if(e instanceof wi){t.serializeU256(Pi(r));return}if(e instanceof Mn){let n;if(typeof r=="string"||r instanceof Fe)n=Ht.fromHex(r);else if(r instanceof Ht)n=r;else throw new Error("Invalid account address.");n.serialize(t);return}if(e instanceof vi){if(e.value instanceof En){if(r instanceof Uint8Array){t.serializeBytes(r);return}if(typeof r=="string"){t.serializeStr(r);return}}if(!Array.isArray(r))throw new Error("Invalid vector args.");t.serializeU32AsUleb128(r.length),r.forEach(n=>Oa(n,e.value,t));return}if(e instanceof Zn){const{address:n,module_name:i,name:s}=e.value;if(`${Fe.fromUint8Array(n.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Ua(r,["string"]),t.serializeStr(r);return}throw new Error("Unsupported arg type.")}function fy(r,e){if(e instanceof Wn)return new Ta(Of(r));if(e instanceof En)return new ba(Ti(r));if(e instanceof bi)return new ma(Ti(r));if(e instanceof mi)return new wa(Ti(r));if(e instanceof Vn)return new va(Pi(r));if(e instanceof Jn)return new Ea(Pi(r));if(e instanceof wi)return new Sa(Pi(r));if(e instanceof Mn){let t;if(typeof r=="string"||r instanceof Fe)t=Ht.fromHex(r);else if(r instanceof Ht)t=r;else throw new Error("Invalid account address.");return new _a(t)}if(e instanceof vi&&e.value instanceof En){if(!(r instanceof Uint8Array))throw new Error(`${r} should be an instance of Uint8Array`);return new Aa(r)}throw new Error("Unknown type for TransactionArgument.")}var dy="APTOS::RawTransaction",ly="APTOS::RawTransactionWithData",Ri=class{constructor(r,e){this.rawTxnBuilder=e,this.signingFunction=r}build(r,e,t){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(r,e,t)}static getSigningMessage(r){const e=pi.create();if(r instanceof Si)e.update(dy);else if(r instanceof xa)e.update(ly);else throw new Error("Unknown transaction type.");const t=e.digest(),n=vn(r),i=new Uint8Array(t.length+n.length);return i.set(t),i.set(n,t.length),i}},Na=class extends Ri{constructor(r,e,t){super(r,t),this.publicKey=e}rawToSigned(r){const e=Ri.getSigningMessage(r),t=this.signingFunction(e),n=new da(new Zr(this.publicKey),t);return new fs(r,n)}sign(r){return vn(this.rawToSigned(r))}},hy=class extends Ri{constructor(r,e){super(r),this.publicKey=e}rawToSigned(r){const e=Ri.getSigningMessage(r),t=this.signingFunction(e),n=new la(this.publicKey,t);return new fs(r,n)}sign(r){return vn(this.rawToSigned(r))}},Wo=class{constructor(r,e){this.abiMap=new Map,r.forEach(t=>{const n=new Oo(t),i=Pa.deserialize(n);let s;if(i instanceof _i){const a=i,{address:o,name:d}=a.module_name;s=`${Fe.fromUint8Array(o.address).toShortString()}::${d.value}::${a.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(tf),expSecFromNow:rf,...e}}static toBCSArgs(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>{const i=new Lt;return Oa(t,r[n].type_tag,i),i.getBytes()})}static toTransactionArguments(r,e){if(r.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((t,n)=>fy(t,r[n].type_tag))}setSequenceNumber(r){this.builderConfig.sequenceNumber=BigInt(r)}buildTransactionPayload(r,e,t){const n=e.map(a=>new Ei(a).parseTypeTag());let i;if(!this.abiMap.has(r))throw new Error(`Cannot find function: ${r}`);const s=this.abiMap.get(r);if(s instanceof _i){const a=s,o=Wo.toBCSArgs(a.args,t);i=new ya(new Yn(a.module_name,new vr(a.name),n,o))}else if(s instanceof Ra){const a=s,o=Wo.toTransactionArguments(a.args,t);i=new pa(new ha(a.code,n,o))}else throw new Error("Unknown ABI format.");return i}build(r,e,t){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:d}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const w=n instanceof Ht?n:Ht.fromHex(n),T=BigInt(Math.floor(Date.now()/1e3)+Number(o)),I=this.buildTransactionPayload(r,e,t);if(I)return new Si(w,BigInt(i),I,BigInt(a),BigInt(s),T,new ga(Number(d)));throw new Error("Invalid ABI.")}},sr=class{constructor(r,e){this.aptosClient=r,this.builderConfig=e}async fetchABI(r){const t=(await this.aptosClient.getAccountModules(r)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return t.forEach(i=>{n.set(i.fullName,i)}),n}async build(r,e,t){if(r=(Rt=>Rt.replace(/^0[xX]0*/g,"0x"))(r),r.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,a]=r.split("::"),o=await this.fetchABI(s);if(!o.has(r))throw new Error(`${r} doesn't exist.`);const d=o.get(r),T=d.params.filter(Rt=>Rt!=="signer"&&Rt!=="&signer").map((Rt,Wt)=>new hs(`var${Wt}`,new Ei(Rt,e).parseTypeTag())),I=new _i(d.name,Qn.fromStr(`${s}::${a}`),"",d.generic_type_params.map((Rt,Wt)=>new ls(`${Wt}`)),T),{sender:L,...Y}=this.builderConfig,re=L instanceof Ht?Fe.fromUint8Array(L.address):L,[{sequence_number:he},Ee,{gas_estimate:qe}]=await Promise.all([Y!=null&&Y.sequenceNumber?Promise.resolve({sequence_number:Y==null?void 0:Y.sequenceNumber}):this.aptosClient.getAccount(re),Y!=null&&Y.chainId?Promise.resolve(Y==null?void 0:Y.chainId):this.aptosClient.getChainId(),Y!=null&&Y.gasUnitPrice?Promise.resolve({gas_estimate:Y==null?void 0:Y.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Wo([vn(I)],{sender:L,sequenceNumber:he,chainId:Ee,gasUnitPrice:BigInt(qe),...Y}).build(r,e,t)}};_t([vh(10*60*1e3)],sr.prototype,"fetchABI",1);var ps=class{constructor(r,e,t=!1){if(!r)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};t?this.nodeUrl=r:this.nodeUrl=wh(r),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new kf(n)}async getAccount(r){return this.client.accounts.getAccount(Fe.ensure(r).hex())}async getAccountTransactions(r,e){var t;return this.client.transactions.getAccountTransactions(Fe.ensure(r).hex(),(t=e==null?void 0:e.start)==null?void 0:t.toString(),e==null?void 0:e.limit)}async getAccountModules(r,e){const t=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await af(t,r,1e3,e)}async getAccountModule(r,e,t){var n;return this.client.accounts.getAccountModule(Fe.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(r,e){const t=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await af(t,r,9999,e)}async getAccountResource(r,e,t){var n;return this.client.accounts.getAccountResource(Fe.ensure(r).hex(),e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(r,e){return new Na(n=>{const i=r.signBuffer(n);return new At.Ed25519Signature(i.toUint8Array())},r.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(r,e){return new Na(n=>{const i=new Uint8Array(64);return new At.Ed25519Signature(i)},r.pubKey().toUint8Array()).sign(e)}async generateTransaction(r,e,t){const n={sender:r};if(t!=null&&t.sequence_number&&(n.sequenceNumber=t.sequence_number),t!=null&&t.gas_unit_price&&(n.gasUnitPrice=t.gas_unit_price),t!=null&&t.max_gas_amount&&(n.maxGasAmount=t.max_gas_amount),t!=null&&t.expiration_timestamp_secs){const s=Number.parseInt(t.expiration_timestamp_secs,10);n.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new sr(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(r,e){return Promise.resolve(ps.generateBCSTransaction(r,e))}async getEventsByCreationNumber(r,e,t){var n;return this.client.events.getEventsByCreationNumber(Fe.ensure(r).hex(),e.toString(),(n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getEventsByEventHandle(r,e,t,n){var i;return this.client.events.getEventsByEventHandle(Fe.ensure(r).hex(),e,t,(i=n==null?void 0:n.start)==null?void 0:i.toString(),n==null?void 0:n.limit)}async submitTransaction(r){return this.submitSignedBCSTransaction(r)}async simulateTransaction(r,e,t){let n;return r instanceof ka?n=ps.generateBCSSimulation(r,e):r instanceof as?n=new hy(()=>{const{threshold:s}=r,a=[],o=[];for(let w=0;w<s;w+=1)a.push(w),o.push(new At.Ed25519Signature(new Uint8Array(64)));const d=At.MultiEd25519Signature.createBitmap(a);return new At.MultiEd25519Signature(o,d)},r).sign(e):n=new Na(()=>{const s=new Uint8Array(64);return new At.Ed25519Signature(s)},r.toBytes()).sign(e),this.submitBCSSimulation(n,t)}async submitSignedBCSTransaction(r){return this.client.request.request({url:"/transactions",method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(r,e){var t,n,i;const s={estimate_gas_unit_price:(t=e==null?void 0:e.estimateGasUnitPrice)!=null?t:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:r,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(r){var e;return this.client.transactions.getTransactions((e=r==null?void 0:r.start)==null?void 0:e.toString(),r==null?void 0:r.limit)}async getTransactionByHash(r){return this.client.transactions.getTransactionByHash(r)}async getTransactionByVersion(r){return this.client.transactions.getTransactionByVersion(r.toString())}async transactionPending(r){try{return(await this.client.transactions.getTransactionByHash(r)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(r,e){var t,n;const i=(t=e==null?void 0:e.timeoutSecs)!=null?t:nf,s=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,d;for(;a&&!(o>=i);){try{if(d=await this.client.transactions.getTransactionByHash(r),a=d.type==="pending_transaction",!a)break}catch(w){const T=w instanceof xs,I=T&&w.status!==404&&w.status>=400&&w.status<500;if(!T||I)throw w}await mh(1e3),o+=1}if(d===void 0)throw new Error(`Waiting for transaction ${r} failed`);if(a)throw new py(`Waiting for transaction ${r} timed out after ${i} seconds`,d);if(!s)return d;if(!(d!=null&&d.success))throw new yy(`Transaction ${r} committed to the blockchain but execution failed`,d);return d}async waitForTransaction(r,e){await this.waitForTransactionWithResult(r,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(r,e,t){var n;return await this.client.tables.getTableItem(r,e,(n=t==null?void 0:t.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(r,e,t){const[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([this.getAccount(r),this.getChainId(),t!=null&&t.gasUnitPrice?Promise.resolve({gas_estimate:t.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:d}={maxGasAmount:BigInt(tf),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+rf),...t};return new At.RawTransaction(At.AccountAddress.fromHex(r),BigInt(n),e,a,o,d,new At.ChainId(i))}async generateSignSubmitTransaction(r,e,t){const n=await this.generateRawTransaction(r.address(),e,t),i=ps.generateBCSTransaction(r,n);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(r,e,t,n){const i=new Lt;Dr(t,i);const s=new At.TransactionPayloadEntryFunction(At.EntryFunction.natural("0x1::code","publish_package_txn",[],[gi(e),i.getBytes()]));return this.generateSignSubmitTransaction(r,s,n)}async generateSignSubmitWaitForTransaction(r,e,t){const n=await this.generateSignSubmitTransaction(r,e,t);return this.waitForTransactionWithResult(n,t)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(r){const e=`0x1::coin::CoinStore<${Uo}>`,[{gas_estimate:t},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(r)]),i=n.find(a=>a.type===e);return BigInt(i.data.coin.value)/BigInt(t)}async rotateAuthKeyEd25519(r,e,t){const{sequence_number:n,authentication_key:i}=await this.getAccount(r.address()),s=new ka(e),a=new At.RotationProofChallenge(At.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),At.AccountAddress.fromHex(r.address()),new At.AccountAddress(new Fe(i).toUint8Array()),s.pubKey().toUint8Array()),o=Fe.fromUint8Array(vn(a)),d=r.signHexString(o),w=s.signHexString(o),T=new At.TransactionPayloadEntryFunction(At.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[No(0),gi(r.pubKey().toUint8Array()),No(0),gi(s.pubKey().toUint8Array()),gi(d.toUint8Array()),gi(w.toUint8Array())])),I=await this.generateRawTransaction(r.address(),T,t),L=ps.generateBCSTransaction(r,I);return this.submitSignedBCSTransaction(L)}async lookupOriginalAddress(r){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:t}}=e.data,n=await this.getTableItem(t,{key_type:"address",value_type:"address",key:Fe.ensure(r).hex()});return new Fe(n)}async getBlockByHeight(r,e){return this.client.blocks.getBlockByHeight(r,e)}async getBlockByVersion(r,e){return this.client.blocks.getBlockByVersion(r,e)}async view(r,e){return this.client.view.view(r,e)}clearCache(r){Eh(r)}},lt=ps;_t([Jt],lt.prototype,"getAccount",1),_t([Jt],lt.prototype,"getAccountTransactions",1),_t([Jt],lt.prototype,"getAccountModules",1),_t([Jt],lt.prototype,"getAccountModule",1),_t([Jt],lt.prototype,"getAccountResources",1),_t([Jt],lt.prototype,"getAccountResource",1),_t([Jt],lt.prototype,"getEventsByCreationNumber",1),_t([Jt],lt.prototype,"getEventsByEventHandle",1),_t([Jt],lt.prototype,"submitSignedBCSTransaction",1),_t([Jt],lt.prototype,"submitBCSSimulation",1),_t([Jt],lt.prototype,"getTransactions",1),_t([Jt],lt.prototype,"getTransactionByHash",1),_t([Jt],lt.prototype,"getTransactionByVersion",1),_t([Jt],lt.prototype,"getLedgerInfo",1),_t([aa()],lt.prototype,"getChainId",1),_t([Jt],lt.prototype,"getTableItem",1),_t([Jt,aa({ttlMs:5*60*1e3,tags:["gas_estimates"]})],lt.prototype,"estimateGasPrice",1),_t([Jt],lt.prototype,"estimateMaxGasAmount",1),_t([Jt],lt.prototype,"getBlockByHeight",1),_t([Jt],lt.prototype,"getBlockByVersion",1),_t([Jt],lt.prototype,"view",1);var xy=class extends Error{constructor(r,e,t,n){super(e),this.status=r,this.message=e,this.errorCode=t,this.vmErrorCode=n}},py=class extends Error{constructor(r,e){super(r),this.lastSubmittedTransaction=e}},yy=class extends Error{constructor(r,e){super(r),this.transaction=e}};function Jt(r,e,t){const n=t.value;return t.value=async function(...s){var a,o;try{return await n.apply(this,[...s])}catch(d){throw d instanceof xs?new xy(d.status,JSON.stringify({message:d.message,...d.body}),(a=d.body)==null?void 0:a.error_code,(o=d.body)==null?void 0:o.vm_error_code):d}},t}var Nf=class{constructor(r,e,t=!1){let n=null,i=null;if(typeof r=="object"&&gy(r)?(n=r.fullnodeUrl,i=r.indexerUrl,this.network="CUSTOM"):(n=_h[r],i=Sh[r],this.network=r),!n||!i)throw new Error("network is not provided");this.aptosClient=new lt(n,e,t),this.indexerClient=new ln(i)}};function Mf(r,e,t){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(e.prototype,n);i&&(i.value=function(...s){return this[t][n](...s)},Object.defineProperty(r.prototype,n,i))})}Mf(Nf,lt,"aptosClient"),Mf(Nf,ln,"indexerClient");function gy(r){return r.fullnodeUrl!==void 0&&typeof r.fullnodeUrl=="string"&&r.indexerUrl!==void 0&&typeof r.indexerUrl=="string"}var Df=class{constructor(r,e){this.type=r,this.value=e}},Vo=class{constructor(){this.data={}}setProperty(r,e){this.data[r]=e}};function Jo(r){let e;return r==="string"||r==="String"?e=new Zn(cf):e=new Ei(r).parseTypeTag(),e}function Zo(r,e){if(r.length!==e.length)throw new Error("Length of property values and types not match");const t=new Array;return e.forEach((n,i)=>{try{const s=Jo(n),a=new Lt;Oa(r[i],s,a),t.push(a.getBytes())}catch{t.push(new TextEncoder().encode(r[i]))}}),t}function Ff(r,e){if(!r||!e)throw new Error("value or type can not be empty");try{const t=Jo(e),n=new Lt;return Oa(r,t,n),n.getBytes()}catch{return new TextEncoder().encode(r)}}function Lf(r){const e=r.map.data,t=new Vo;return e.forEach(n=>{const{key:i}=n,s=n.value.value,a=n.value.type,o=Jo(a),d=by(o,s),w=new Df(a,d);t.setProperty(i,w)}),t}function by(r,e){const t=new Oo(new Fe(e).toUint8Array());let n="";return r instanceof En?n=t.deserializeU8().toString():r instanceof Vn?n=t.deserializeU64().toString():r instanceof Jn?n=t.deserializeU128().toString():r instanceof Wn?n=t.deserializeBool()?"true":"false":r instanceof Mn?n=Fe.fromUint8Array(t.deserializeFixedBytes(32)).hex():r instanceof Zn&&r.isStringTypeTag()?n=t.deserializeStr():n=e,n}var my={};sa(my,{PropertyMap:()=>Vo,PropertyValue:()=>Df,Token:()=>Kf,TokenData:()=>Hf});var Hf=class{constructor(r,e,t,n,i,s,a,o){this.collection=r,this.description=e,this.name=t,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=Lf(a),this.mutability_config=o}},Kf=class{constructor(r,e,t){this.id=r,this.amount=e,this.token_properties=Lf(t)}},Cg=class{constructor(r){this.aptosClient=r}async createCollection(r,e,t,n,i=yi,s){const o=await new sr(this.aptosClient,{sender:r.address(),...s}).build("0x3::token::create_collection_script",[],[e,t,n,i,[!1,!1,!1]]),d=lt.generateBCSTransaction(r,o);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async createToken(r,e,t,n,i,s,a=yi,o=r.address(),d=0,w=0,T=[],I=[],L=[],Y){const he=await new sr(this.aptosClient,{sender:r.address(),...Y}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,d,w,[!1,!1,!1,!1,!1],T,Zo(I,L),L]),Ee=lt.generateBCSTransaction(r,he);return(await this.aptosClient.submitSignedBCSTransaction(Ee)).hash}async createTokenWithMutabilityConfig(r,e,t,n,i,s,a=yi,o=r.address(),d=0,w=0,T=[],I=[],L=[],Y=[!1,!1,!1,!1,!1],re){const Ee=await new sr(this.aptosClient,{sender:r.address(),...re}).build("0x3::token::create_token_script",[],[e,t,n,i,a,s,o,d,w,Y,T,I,L]),qe=lt.generateBCSTransaction(r,Ee);return(await this.aptosClient.submitSignedBCSTransaction(qe)).hash}async offerToken(r,e,t,n,i,s,a=0,o){const w=await new sr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,t,n,i,a,s]),T=lt.generateBCSTransaction(r,w);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async claimToken(r,e,t,n,i,s=0,a){const d=await new sr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,t,n,i,s]),w=lt.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async cancelTokenOffer(r,e,t,n,i,s=0,a){const d=await new sr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,t,n,i,s]),w=lt.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async directTransferToken(r,e,t,n,i,s,a=0,o){const w=await new sr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::direct_transfer_script",[],[t,n,i,a,s]),T=new At.MultiAgentRawTransaction(w,[At.AccountAddress.fromHex(e.address())]),I=new At.Ed25519Signature(r.signBuffer(Ri.getSigningMessage(T)).toUint8Array()),L=new At.AccountAuthenticatorEd25519(new At.Ed25519PublicKey(r.signingKey.publicKey),I),Y=new At.Ed25519Signature(e.signBuffer(Ri.getSigningMessage(T)).toUint8Array()),re=new At.AccountAuthenticatorEd25519(new At.Ed25519PublicKey(e.signingKey.publicKey),Y),he=new At.TransactionAuthenticatorMultiAgent(L,[At.AccountAddress.fromHex(e.address())],[re]),Ee=vn(new At.SignedTransaction(w,he));return(await this.aptosClient.submitSignedBCSTransaction(Ee)).hash}async optInTokenTransfer(r,e,t){const i=await new sr(this.aptosClient,{sender:r.address(),...t}).build("0x3::token::opt_in_direct_transfer",[],[e]),s=lt.generateBCSTransaction(r,i);return(await this.aptosClient.submitSignedBCSTransaction(s)).hash}async transferWithOptIn(r,e,t,n,i,s,a,o){const w=await new sr(this.aptosClient,{sender:r.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,t,n,i,s,a]),T=lt.generateBCSTransaction(r,w);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async burnByCreator(r,e,t,n,i,s,a){const d=await new sr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn_by_creator",[],[e,t,n,i,s]),w=lt.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async burnByOwner(r,e,t,n,i,s,a){const d=await new sr(this.aptosClient,{sender:r.address(),...a}).build("0x3::token::burn",[],[e,t,n,i,s]),w=lt.generateBCSTransaction(r,d);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async mutateTokenProperties(r,e,t,n,i,s,a,o,d,w,T){const L=await new sr(this.aptosClient,{sender:r.address(),...T}).build("0x3::token::mutate_token_properties",[],[e,t,n,i,s,a,o,d,w]),Y=lt.generateBCSTransaction(r,L);return(await this.aptosClient.submitSignedBCSTransaction(Y)).hash}async getCollectionData(r,e){const n=(await this.aptosClient.getAccountResources(r)).find(o=>o.type==="0x3::token::Collections"),{handle:i}=n.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(r,e,t){const n=r instanceof Fe?r.hex():r,i=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:s}=i.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:t}},d=await this.aptosClient.getTableItem(s,o);return new Hf(d.collection,d.description,d.name,d.maximum,d.supply,d.uri,d.default_properties,d.mutability_config)}async getToken(r,e,t,n="0"){const i={creator:r instanceof Fe?r.hex():r,collection:e,name:t};return this.getTokenForAccount(r,{token_data_id:i,property_version:n})}async getTokenForAccount(r,e){const t=await this.aptosClient.getAccountResource(r instanceof Fe?r.hex():r,"0x3::token::TokenStore"),{handle:n}=t.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(n,i);return new Kf(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new Vo}:s}}},Ci={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},kg=class{constructor(r){this.tokenType="0x4::token::Token",this.provider=r}async submitTransaction(r,e,t,n,i){const a=await new sr(this.provider,{sender:r.address(),...i}).build(`0x4::aptos_token::${e}`,t,n),o=lt.generateBCSTransaction(r,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(r,e,t,n,i=yi,s,a){var o,d,w,T,I,L,Y,re,he,Ee,qe;return this.submitTransaction(r,"create_collection",[],[e,i,t,n,(o=s==null?void 0:s.mutableDescription)!=null?o:!0,(d=s==null?void 0:s.mutableRoyalty)!=null?d:!0,(w=s==null?void 0:s.mutableURI)!=null?w:!0,(T=s==null?void 0:s.mutableTokenDescription)!=null?T:!0,(I=s==null?void 0:s.mutableTokenName)!=null?I:!0,(L=s==null?void 0:s.mutableTokenProperties)!=null?L:!0,(Y=s==null?void 0:s.mutableTokenURI)!=null?Y:!0,(re=s==null?void 0:s.tokensBurnableByCreator)!=null?re:!0,(he=s==null?void 0:s.tokensFreezableByCreator)!=null?he:!0,(Ee=s==null?void 0:s.royaltyNumerator)!=null?Ee:0,(qe=s==null?void 0:s.royaltyDenominator)!=null?qe:0],a)}async mint(r,e,t,n,i,s=[],a=[],o=[],d){return this.submitTransaction(r,"mint",[],[e,t,n,i,s,a,Zo(o,a)],d)}async mintSoulBound(r,e,t,n,i,s,a=[],o=[],d=[],w){return this.submitTransaction(r,"mint_soul_bound",[],[e,t,n,i,a,o,Zo(d,o),s.address().hex()],w)}async burnToken(r,e,t,n){return this.submitTransaction(r,"burn",[t||this.tokenType],[Fe.ensure(e).hex()],n)}async freezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"freeze_transfer",[t||this.tokenType],[Fe.ensure(e).hex()],n)}async unfreezeTokenTransafer(r,e,t,n){return this.submitTransaction(r,"unfreeze_transfer",[t||this.tokenType],[Fe.ensure(e).hex()],n)}async setTokenDescription(r,e,t,n,i){return this.submitTransaction(r,"set_description",[n||this.tokenType],[Fe.ensure(e).hex(),t],i)}async setTokenName(r,e,t,n,i){return this.submitTransaction(r,"set_name",[n||this.tokenType],[Fe.ensure(e).hex(),t],i)}async setTokenURI(r,e,t,n,i){return this.submitTransaction(r,"set_uri",[n||this.tokenType],[Fe.ensure(e).hex(),t],i)}async addTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_property",[s||this.tokenType],[Fe.ensure(e).hex(),t,Ci[n],Ff(i,Ci[n])],a)}async removeTokenProperty(r,e,t,n,i){return this.submitTransaction(r,"remove_property",[n||this.tokenType],[Fe.ensure(e).hex(),t],i)}async updateTokenProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_property",[s||this.tokenType],[Fe.ensure(e).hex(),t,Ci[n],Ff(i,Ci[n])],a)}async addTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"add_typed_property",[s||this.tokenType,Ci[n]],[Fe.ensure(e).hex(),t,i],a)}async updateTypedProperty(r,e,t,n,i,s,a){return this.submitTransaction(r,"update_typed_property",[s||this.tokenType,Ci[n]],[Fe.ensure(e).hex(),t,i],a)}async transferTokenOwnership(r,e,t,n,i){const a=await new sr(this.provider.aptosClient,{sender:r.address(),...i}).build("0x1::object::transfer",[n||this.tokenType],[Fe.ensure(e).hex(),Fe.ensure(t).hex()]),o=lt.generateBCSTransaction(r,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},Ig=class{constructor(r){this.aptosClient=r}async transfer(r,e,t,n){var i;const s=(i=n==null?void 0:n.coinType)!=null?i:Uo,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=pf(e),w=await new sr(this.aptosClient,{sender:r.address(),...n}).build(a,[s],[o,t]),T=lt.generateBCSTransaction(r,w);return(await this.aptosClient.submitSignedBCSTransaction(T)).hash}async checkBalance(r,e){var t;const i=`0x1::coin::CoinStore<${(t=e==null?void 0:e.coinType)!=null?t:Uo}>`,s=pf(r),a=await this.aptosClient.getAccountResource(s,i);return BigInt(a.data.coin.value)}},Bg=class extends null{constructor(r,e,t){var n,i,s;if(super(r,t),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new Ef({BASE:e,VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH})}async fundAccount(r,e,t=nf){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:Fe.ensure(r).noPrefix(),amount:e}}),i=[];for(let s=0;s<n.length;s+=1){const a=n[s];i.push(this.waitForTransaction(a,{timeoutSecs:t}))}return await Promise.all(i),n}},zf=l(55872).Buffer;class wy extends Vs{constructor(t){super(t);O(this,"signerInstance");O(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new lt(this.providerUrl))}async getTx(t){const i=await(await this.getProvider()).waitForTransactionWithResult(t,{timeoutSecs:1,checkSuccess:!0}),s=i==null?void 0:i.payload;if(!i.success)throw new Error((i==null?void 0:i.vm_status)??"Unknown Aptos error");if(!((s==null?void 0:s.function)==="0x1::coin::transfer"&&(s==null?void 0:s.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(i==null?void 0:i.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${t} failed validation`);const a=i.type==="pending_transaction";return{to:s.arguments[0],from:i.sender,amount:new p.Z(s.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(t){const n=lc.sha3_256.create();return n.update(zf.from(t)),n.update("\0"),`0x${n.hex()}`}async sign(t){return await this.getSigner().sign(t)}getSigner(){return this.signerInstance??(this.signerInstance=new Hs(this.wallet,this._publicKey))}async verify(t,n,i){return await Hs.verify(t,n,i)}async getCurrentHeight(){return new p.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(t,n){const i=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new sr(i,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new p.Z(t).toNumber()]),d=new Na(I=>{const L=new Uint8Array(64);return new At.Ed25519Signature(L)},await this.getPublicKey()).sign(a),w={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},T=await i.client.request.request({url:"/transactions/simulate",query:w,method:"POST",body:d,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+T[0].gas_unit_price,maxGasAmount:+T[0].max_gas_amount}}async sendTx(t){return(await this.wallet.signAndSubmitTransaction(t)).hash}async createTx(t,n,i){return{txId:void 0,tx:{arguments:[n,new p.Z(t).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=zf.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const t=await this.getProvider();this._address=await t.lookupOriginalAddress(this.address??"").then(i=>i.toString()).catch(i=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class vy extends Js{}class Ey extends Js{async createTx(e,t,n){const i=this.w3signer,s={to:t,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(s);return s.gasLimit=a,{tx:await i.populateTransaction(s),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new p.Z(n.blockNumber):void 0,amount:new p.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const t=await e.getSigner();t._signTypedData=async(n,i,s)=>t.signTypedData(n,i,s),e.getSigner=()=>t,this.wallet=e,await super.ready()}}function Sy(r){switch(r.token){case"ethereum":return ki("ethereum",r.providerName,{irys:r.irys,name:"ethereum",ticker:"ETH",providerUrl:r.providerUrl??"https://cloudflare-eth.com/",wallet:r.wallet});case"matic":return ki("ethereum",r.providerName,{irys:r.irys,name:"matic",ticker:"MATIC",providerUrl:r.providerUrl??"https://polygon-rpc.com",wallet:r.wallet,minConfirm:1});case"arbitrum":return ki("ethereum",r.providerName,{irys:r.irys,name:"arbitrum",ticker:"ETH",providerUrl:r.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:r.wallet});case"bnb":return ki("ethereum",r.providerName,{irys:r.irys,name:"bnb",ticker:"BNB",providerUrl:r.providerUrl??"https://bsc-dataseed.binance.org",wallet:r.wallet});case"avalanche":return ki("ethereum",r.providerName,{irys:r.irys,name:"avalanche",ticker:"AVAX",providerUrl:r.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:r.wallet});case"boba-eth":return ki("ethereum",r.providerName,{irys:r.irys,name:"boba-eth",ticker:"ETH",providerUrl:r.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:r.wallet});case"boba":{const e=new eh({irys:r.irys,name:"boba",ticker:"BOBA",providerUrl:r.providerUrl??"https://mainnet.boba.network/",contractAddress:r.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:r.wallet});return e.price=async()=>{var n;const t=await h.Z.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await M.checkAndThrow(t,"Getting price data"),!((n=t==null?void 0:t.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+t.data.rate},e}case"solana":return new ml({irys:r.irys,name:"solana",ticker:"SOL",providerUrl:r.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:r.wallet});case"near":return new gl({irys:r.irys,name:"near",ticker:"NEAR",providerUrl:r.providerUrl??"https://rpc.mainnet.near.org",wallet:r.wallet});case"aptos":return new wy({irys:r.irys,name:"aptos",ticker:"APTOS",providerUrl:r.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:r.wallet});default:throw new Error(`Unknown/Unsupported token ${r.token}`)}}function ki(r,e,t){switch(r){case"ethereum":switch(e){case"ethersv5":return new vy(t);case"ethersv6":return new Ey(t);default:return new Js(t)}}}class _y{constructor(e){O(this,"irys");this.irys=e}async upload(e,t){return this.irys.uploadWithReceipt(e,t)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([t,n])=>({name:$f[t],value:n}))})}async getAllProofs(e,t){var o,d;const n=Object.entries(e).map(([w,T])=>({name:$f[w],values:[T]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const i=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,s=[];let a=null;do{const w=await this.irys.api.post("/graphql",{query:i,variables:{tags:n,limit:(t==null?void 0:t.limit)??null,after:a}},void 0);a=(d=(o=w.data.data.transactions)==null?void 0:o.pageInfo)!=null&&d.hasNextPage?w.data.data.transactions.pageInfo.endCursor:null,s.push(...w.data.data.transactions.edges.map(T=>T.node))}while(a);return s}async getProof(e){const t=(await this.getAllProofs(e,{limit:1})).at(0);if(!t)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return t}}const $f={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class Ay{constructor(e){O(this,"irys");this.irys=e}async getById(e){const t=(await this.query({ids:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with id ${e}`);return t}async getByOwner(e){const t=(await this.query({owners:[e],limit:1})).at(0);if(!t)throw new Error(`Unable to locate tx with owner ${e}`);return t}async getByTag(e,t){const n=(await this.query({tags:[{name:e,values:[t]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${t}`);return n}async query(e){var s,a;const t=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let i=null;do{const o=await this.irys.api.post("/graphql",{query:t,variables:{...e,after:i??e.after}},void 0);i=(a=(s=o.data.data.transactions)==null?void 0:s.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(d=>d.node))}while(i);return n}}var Ty=l(14676),Py=l(72100);const Ry=Symbol("not readable"),Cy=Symbol("readable"),ky=Symbol("ended"),Iy=Symbol("errored"),gr={notReadable:Ry,readable:Cy,ended:ky,errored:Iy};class By{constructor(e,{size:t}={}){O(this,"_stream");O(this,"_error");O(this,"_state",gr.notReadable);O(this,"_size");O(this,"_rejections",new Set);this._stream=e,this._size=t;const n=["_handleStreamEnd","_handleStreamError"];for(const i of n)Object.defineProperty(this,i,{configurable:!0,writable:!0,value:this[i].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=gr.readable})}get closed(){return this._state===gr.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case gr.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{e!=null&&e.close(),t!=null&&t.close()}return this.next()}case gr.ended:return this.close(),{done:!0,value:void 0};case gr.errored:throw this.close(),this._error;case gr.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=gr.notReadable,await new Promise(t=>setTimeout(n=>n(!0),0,t)),this.next())}}}_untilReadable(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=gr.readable,this._rejections.delete(s),i()},this._state,gr.readable,this._stream.once("readable",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:t}}_untilEnd(){let e;const t=new Promise((i,s)=>{e=()=>{this._state=gr.ended,this._rejections.delete(s),i()},this._stream.once("end",e),this._rejections.add(s)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:t}}return(){return this._state=gr.ended,this.next()}throw(e){return this._error=e,this._state=gr.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=gr.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=gr.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=gr.ended}get state(){return this._state}}var Ii=l(55872).Buffer;class Uy extends Py.EventEmitter{constructor(t,n){super({captureRejections:!0});O(this,"tokenConfig");O(this,"api");O(this,"uploadID");O(this,"token");O(this,"chunkSize");O(this,"batchSize");O(this,"paused",!1);O(this,"isResume",!1);O(this,"uploadOptions");O(this,"arbundles");this.tokenConfig=t,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(t){return t&&(this.uploadID=t,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(t){if(t<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=t,this}setBatchSize(t){if(t<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=t,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(t,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(t)?this.runUpload(t.getRaw()):this.runUpload(t)}async uploadData(t,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(t,{...n})}async runUpload(t,n){var ys;let i=this.uploadID;const s=n===void 0,a={"x-chunking-version":"2"};let o;if(!i)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),M.checkAndThrow(o,"Getting upload token"),this.uploadID=i=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${i}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(M.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:d,min:w}=o.data;if(this.chunkSize<+w||this.chunkSize>+d)throw new Error(`Chunk size out of allowed range: ${w} - ${d}`);let T=0;const I=(st,Kt,Lr)=>new Promise(ti=>{E(async Qo=>{await this.api.post(`/chunks/${this.token}/${i}/${Kt}`,st,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(Fn=>{if((Fn==null?void 0:Fn.status)>=300){const e0={res:Fn,id:Lr,offset:Kt,size:st.length};throw this.emit("chunkError",e0),(Fn==null?void 0:Fn.status)===402&&Qo(new Error("Not enough funds to send data")),e0}this.emit("chunkUpload",{id:Lr,offset:Kt,size:st.length,totalUploaded:T+=st.length}),ti({o:Kt,d:Fn})})})}),L=o.data.chunks??[],Y=new j.PassThrough;let re=Ii.alloc(0),he=!1,Ee=!0;Y.on("end",()=>he=!0),Y.on("error",st=>{throw new Error(`Error processing readable: ${st}`)});const qe=async st=>{for(;!he;){if(re.length>=st)return Kt=Ii.from(re.slice(0,st)),re=re.slice(st),Kt;var Kt=Y.read(st);if(Kt===null){await new Promise(Lr=>setTimeout(ti=>ti(!0),0,Lr));continue}if(Kt.length===st)return Kt;re=Ii.concat([re,Kt])}for(;re.length>=st;)return Kt=Ii.from(re.slice(0,st)),re=re.slice(st),Kt;return Ee=!1,re};let dt,Rt;if(!s){dt=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??S.randomBytes(32).toString("base64").slice(0,32)});const st=dt.getRaw();Rt=st.length,Y.write(st),T-=st.length}if(Ii.isBuffer(t))Y.write(t),Y.end();else if("pipe"in t)t.pipe(Y);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let Wt=0;const Ut=new Set;let Er=0,Pr,qt,Fr;if(!s){qt=new j.PassThrough;const st=dt.getRaw().length;if(this.chunkSize<Rt)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${Rt})`);Pr=await qe(this.chunkSize),Er++,Wt+=Pr.length,qt.write(Pr.slice(st));const Kt=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(dt.signatureType.toString()),dt.rawOwner,dt.rawTarget,dt.rawAnchor,dt.rawTags,new By(qt)];Fr=this.arbundles.deepHash(Kt)}let hn=L.pop();for(;Ee;){if(this.paused&&await new Promise(Lr=>this.on("resume",()=>Lr(void 0))),hn&&+hn[0]-Wt<=this.chunkSize){const ti=hn[1],Qo=await qe(ti);s||qt.write(Qo),Wt+=ti,hn=L.pop(),Er++,T+=ti;continue}const st=await qe(this.chunkSize);for(s||qt.write(st);Ut.size>=this.batchSize;){const[Lr]=await Promise.race(Ut);Ut.delete(Lr)}const Kt=(async()=>await I(st,Wt,++Er))().then(Lr=>[Kt,Lr]);Ut.add(Kt),Wt+=st.length}if(qt&&qt.end(),await Promise.all(Ut),!s){const st=await Fr,Kt=Ii.from(await this.tokenConfig.getSigner().sign(st));Pr.set(Kt,2),await I(Pr,0,0)}const Vt=await this.api.post(`/chunks/${this.token}/${i}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((ys=this.api.config)==null?void 0:ys.timeout)??4e4*10});if(Vt.status===402)throw new Error("Not enough funds to send data");if(M.checkAndThrow(Vt,"Finalising upload",[201]),Vt.status===201)throw new Error(Vt.data);return Vt.data.verify=M.verifyReceipt.bind({},this.arbundles,Vt.data.data),this.emit("done",Vt),Vt}get completionPromise(){return new Promise(t=>this.on("done",t))}}var Xo=l(55872).Buffer;const Ug=r=>new Promise(e=>setTimeout(e,r)),qf=5e7;class Oy{constructor(e,t,n,i,s){O(this,"api");O(this,"token");O(this,"tokenConfig");O(this,"utils");O(this,"contentTypeOverride");O(this,"forceUseChunking");O(this,"arbundles");O(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=i,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=t,this.irysTransaction=s}async uploadTransaction(e,t){let n;const i=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||i&&e.getRaw().length>=qf||!i)n=await this.chunkedUploader.uploadTransaction(i?e.getRaw():e,t);else{const{url:s,timeout:a,headers:o}=this.api.getConfig(),d={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,s).toString(),e.getRaw(),{headers:d,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,t){if(typeof e=="string"&&(e=Xo.from(e)),Xo.isBuffer(e)&&e.length<=qf){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...t,anchor:(t==null?void 0:t.anchor)??(0,S.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...t==null?void 0:t.upload})).data}return(await this.chunkedUploader.uploadData(e,t)).data}async concurrentUploader(e,t){const n=[],i=t!=null&&t.logFunction?t==null?void 0:t.logFunction:async o=>{},s=(t==null?void 0:t.concurrency)??5,a=await Ty.PromisePool.for(e).withConcurrency(s>=1?s:5).handleError(async(o,d)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,d,w)=>{await E(async T=>{try{const I=await this.processItem(o,t==null?void 0:t.itemOptions);return d%s==0&&await i(`Processed ${d} Items`),t!=null&&t.resultProcessor?await t.resultProcessor({item:o,res:I,i:d}):{item:o,res:I,i:d}}catch(I){throw(I==null?void 0:I.message)==="Not enough funds to send data"&&T(I),I}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,t){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...t==null?void 0:t.upload}):this.uploadData(e,t)}async generateManifest(e){const{items:t,indexFile:n}=e,i={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!t.has(n))throw new Error(`Unable to access item: ${n}`);i.index={path:n}}for(const[s,a]of t.entries())i.paths[s]={id:a};return i}get chunkedUploader(){return new Uy(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,t){const n=(t==null?void 0:t.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),i=new bs(n),s=e.map(T=>this.arbundles.DataItem.isDataItem(T)?T:this.arbundles.createData(T,i)),a=await this.arbundles.bundleAndSignData(s,i),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const d=await this.uploadTransaction(o,t),w=P(Xo.from(await this.arbundles.getCryptoDriver().hash(P.toBuffer(P(i.publicKey)))));return{...d,txs:s,throwawayKey:n,throwawayKeyAddress:w}}}var jf=l(55872).Buffer;class Gf extends Oy{constructor(t){super(t.api,t.utils,t.token,t.tokenConfig,t.IrysTransaction);O(this,"irys");this.irys=t}async uploadFile(t,n){const s=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:t.type}];return this.uploadData(jf.from(await t.arrayBuffer()),{tags:s,...n})}async uploadFolder(t,n){const i=[],s=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new bs(a);for(const I of t){const L=I.webkitRelativePath?I.webkitRelativePath:I.name,re=(I.tags?I.tags.some(({name:Ee})=>Ee.toLowerCase()==="content-type"):!1)?I.tags:[...I.tags??[],{name:"Content-Type",value:I.type}],he=this.irys.arbundles.createData(jf.from(await I.arrayBuffer()),o,{tags:re});await he.sign(o),i.push(he),s.set(L,he.id)}const d=await this.generateManifest({items:s,indexFile:n==null?void 0:n.indexFileRelPath}),w=this.irys.arbundles.createData(JSON.stringify(d),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await w.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(w,{...n})):(await w.sign(o),i.push(w));const T=await this.uploadBundle(i,{...n});return{...T.data,manifestId:w.id,manifest:d,throwawayKey:T.throwawayKey,throwawayKeyAddress:T.throwawayKeyAddress,txs:T.txs}}}class Ny extends ae{constructor({url:t,token:n,wallet:i,config:s}){switch(t){case void 0:case"node1":t="https://node1.irys.xyz";break;case"node2":t="https://node2.irys.xyz";break;case"devnet":t="https://devnet.irys.xyz";break}const a=new URL(t);super({url:a,arbundles:m});O(this,"tokenConfig");O(this,"uploader");O(this,"uploadFolder");O(this,"uploadFile");if(this.api=new W({url:a,timeout:(s==null?void 0:s.timeout)??1e5,headers:s==null?void 0:s.headers}),this.tokenConfig=Sy({irys:this,token:n.toLowerCase(),wallet:i==null?void 0:i.provider,providerUrl:(s==null?void 0:s.providerUrl)??(i==null?void 0:i.rpcUrl),contractAddress:s==null?void 0:s.contractAddress,providerName:i==null?void 0:i.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((s==null?void 0:s.providerUrl)??((i==null?void 0:i.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new M(this.api,this.token,this.tokenConfig),this.uploader=new Gf(this),this.funder=new Z(this.utils),this.uploader=new Gf(this),this.provenance=new _y(this),this.transactions=new Ay(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var Wf=Ny},29415:function(B,x,l){"use strict";l.r(x),l.d(x,{bool:function(){return f},bytes:function(){return v},exists:function(){return b},hash:function(){return m},number:function(){return u},output:function(){return y}});function u(E){if(!Number.isSafeInteger(E)||E<0)throw new Error(`Wrong positive integer: ${E}`)}function f(E){if(typeof E!="boolean")throw new Error(`Expected boolean, not ${E}`)}function v(E,...S){if(!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length>0&&!S.includes(E.length))throw new TypeError(`Expected Uint8Array of length ${S}, not of length=${E.length}`)}function m(E){if(typeof E!="function"||typeof E.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");u(E.outputLen),u(E.blockLen)}function b(E,S=!0){if(E.destroyed)throw new Error("Hash instance has been destroyed");if(S&&E.finished)throw new Error("Hash#digest() has already been called")}function y(E,S){v(E);const k=S.outputLen;if(E.length<k)throw new Error(`digestInto() expects output buffer of length at least ${k}`)}const h={number:u,bool:f,bytes:v,hash:m,exists:b,output:y};x.default=h},38098:function(B,x,l){"use strict";l.d(x,{N:function(){return m}});var u=l(29415),f=l(79426);function v(b,y,h,E){if(typeof b.setBigUint64=="function")return b.setBigUint64(y,h,E);const S=BigInt(32),k=BigInt(4294967295),R=Number(h>>S&k),P=Number(h&k),p=E?4:0,U=E?0:4;b.setUint32(y+p,R,E),b.setUint32(y+U,P,E)}class m extends f.Hash{constructor(y,h,E,S){super(),this.blockLen=y,this.outputLen=h,this.padOffset=E,this.isLE=S,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(y),this.view=(0,f.createView)(this.buffer)}update(y){u.default.exists(this);const{view:h,buffer:E,blockLen:S}=this;y=(0,f.toBytes)(y);const k=y.length;for(let R=0;R<k;){const P=Math.min(S-this.pos,k-R);if(P===S){const p=(0,f.createView)(y);for(;S<=k-R;R+=S)this.process(p,R);continue}E.set(y.subarray(R,R+P),this.pos),this.pos+=P,R+=P,this.pos===S&&(this.process(h,0),this.pos=0)}return this.length+=y.length,this.roundClean(),this}digestInto(y){u.default.exists(this),u.default.output(y,this),this.finished=!0;const{buffer:h,view:E,blockLen:S,isLE:k}=this;let{pos:R}=this;h[R++]=128,this.buffer.subarray(R).fill(0),this.padOffset>S-R&&(this.process(E,0),R=0);for(let p=R;p<S;p++)h[p]=0;v(E,S-8,BigInt(this.length*8),k),this.process(E,0);const P=(0,f.createView)(y);this.get().forEach((p,U)=>P.setUint32(4*U,p,k))}digest(){const{buffer:y,outputLen:h}=this;this.digestInto(y);const E=y.slice(0,h);return this.destroy(),E}_cloneInto(y){y||(y=new this.constructor),y.set(...this.get());const{blockLen:h,buffer:E,length:S,finished:k,destroyed:R,pos:P}=this;return y.length=S,y.pos=P,y.finished=k,y.destroyed=R,S%h&&y.buffer.set(E),y}}},28523:function(B,x,l){"use strict";const u=BigInt(4294967295),f=BigInt(32);function v(ce,Se=!1){return Se?{h:Number(ce&u),l:Number(ce>>f&u)}:{h:Number(ce>>f&u)|0,l:Number(ce&u)|0}}function m(ce,Se=!1){let we=new Uint32Array(ce.length),Ie=new Uint32Array(ce.length);for(let He=0;He<ce.length;He++){const{h:ft,l:nt}=v(ce[He],Se);[we[He],Ie[He]]=[ft,nt]}return[we,Ie]}const b=(ce,Se)=>BigInt(ce>>>0)<<f|BigInt(Se>>>0),y=(ce,Se,we)=>ce>>>we,h=(ce,Se,we)=>ce<<32-we|Se>>>we,E=(ce,Se,we)=>ce>>>we|Se<<32-we,S=(ce,Se,we)=>ce<<32-we|Se>>>we,k=(ce,Se,we)=>ce<<64-we|Se>>>we-32,R=(ce,Se,we)=>ce>>>we-32|Se<<64-we,P=(ce,Se)=>Se,p=(ce,Se)=>ce,U=(ce,Se,we)=>ce<<we|Se>>>32-we,M=(ce,Se,we)=>Se<<we|ce>>>32-we,z=(ce,Se,we)=>Se<<we-32|ce>>>64-we,G=(ce,Se,we)=>ce<<we-32|Se>>>64-we;function j(ce,Se,we,Ie){const He=(Se>>>0)+(Ie>>>0);return{h:ce+we+(He/2**32|0)|0,l:He|0}}const ke={fromBig:v,split:m,toBig:b,shrSH:y,shrSL:h,rotrSH:E,rotrSL:S,rotrBH:k,rotrBL:R,rotr32H:P,rotr32L:p,rotlSH:U,rotlSL:M,rotlBH:z,rotlBL:G,add:j,add3L:(ce,Se,we)=>(ce>>>0)+(Se>>>0)+(we>>>0),add3H:(ce,Se,we,Ie)=>Se+we+Ie+(ce/2**32|0)|0,add4L:(ce,Se,we,Ie)=>(ce>>>0)+(Se>>>0)+(we>>>0)+(Ie>>>0),add4H:(ce,Se,we,Ie,He)=>Se+we+Ie+He+(ce/2**32|0)|0,add5H:(ce,Se,we,Ie,He,ft)=>Se+we+Ie+He+ft+(ce/2**32|0)|0,add5L:(ce,Se,we,Ie,He)=>(ce>>>0)+(Se>>>0)+(we>>>0)+(Ie>>>0)+(He>>>0)};x.ZP=ke},27251:function(B,x,l){"use strict";l.d(x,{b:function(){return m}});var u=l(29415),f=l(79426);class v extends f.Hash{constructor(y,h){super(),this.finished=!1,this.destroyed=!1,u.default.hash(y);const E=(0,f.toBytes)(h);if(this.iHash=y.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const S=this.blockLen,k=new Uint8Array(S);k.set(E.length>S?y.create().update(E).digest():E);for(let R=0;R<k.length;R++)k[R]^=54;this.iHash.update(k),this.oHash=y.create();for(let R=0;R<k.length;R++)k[R]^=106;this.oHash.update(k),k.fill(0)}update(y){return u.default.exists(this),this.iHash.update(y),this}digestInto(y){u.default.exists(this),u.default.bytes(y,this.outputLen),this.finished=!0,this.iHash.digestInto(y),this.oHash.update(y),this.oHash.digestInto(y),this.destroy()}digest(){const y=new Uint8Array(this.oHash.outputLen);return this.digestInto(y),y}_cloneInto(y){y||(y=Object.create(Object.getPrototypeOf(this),{}));const{oHash:h,iHash:E,finished:S,destroyed:k,blockLen:R,outputLen:P}=this;return y=y,y.finished=S,y.destroyed=k,y.blockLen=R,y.outputLen=P,y.oHash=h._cloneInto(y.oHash),y.iHash=E._cloneInto(y.iHash),y}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const m=(b,y,h)=>new v(b,y).update(h).digest();m.create=(b,y)=>new v(b,y)},14400:function(B,x,l){"use strict";l.r(x),l.d(x,{pbkdf2:function(){return y},pbkdf2Async:function(){return h}});var u=l(29415),f=l(27251),v=l(79426);function m(E,S,k,R){u.default.hash(E);const P=(0,v.checkOpts)({dkLen:32,asyncTick:10},R),{c:p,dkLen:U,asyncTick:M}=P;if(u.default.number(p),u.default.number(U),u.default.number(M),p<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const z=(0,v.toBytes)(S),G=(0,v.toBytes)(k),j=new Uint8Array(U),pe=f.b.create(E,z),ye=pe._cloneInto().update(G);return{c:p,dkLen:U,asyncTick:M,DK:j,PRF:pe,PRFSalt:ye}}function b(E,S,k,R,P){return E.destroy(),S.destroy(),R&&R.destroy(),P.fill(0),k}function y(E,S,k,R){const{c:P,dkLen:p,DK:U,PRF:M,PRFSalt:z}=m(E,S,k,R);let G;const j=new Uint8Array(4),pe=(0,v.createView)(j),ye=new Uint8Array(M.outputLen);for(let F=1,V=0;V<p;F++,V+=M.outputLen){const de=U.subarray(V,V+M.outputLen);pe.setInt32(0,F,!1),(G=z._cloneInto(G)).update(j).digestInto(ye),de.set(ye.subarray(0,de.length));for(let Te=1;Te<P;Te++){M._cloneInto(G).update(ye).digestInto(ye);for(let ke=0;ke<de.length;ke++)de[ke]^=ye[ke]}}return b(M,z,U,G,ye)}async function h(E,S,k,R){const{c:P,dkLen:p,asyncTick:U,DK:M,PRF:z,PRFSalt:G}=m(E,S,k,R);let j;const pe=new Uint8Array(4),ye=(0,v.createView)(pe),F=new Uint8Array(z.outputLen);for(let V=1,de=0;de<p;V++,de+=z.outputLen){const Te=M.subarray(de,de+z.outputLen);ye.setInt32(0,V,!1),(j=G._cloneInto(j)).update(pe).digestInto(F),Te.set(F.subarray(0,Te.length)),await(0,v.asyncLoop)(P-1,U,ke=>{z._cloneInto(j).update(F).digestInto(F);for(let ce=0;ce<Te.length;ce++)Te[ce]^=F[ce]})}return b(z,G,M,j,F)}},40117:function(B,x,l){"use strict";l.r(x),l.d(x,{sha256:function(){return S}});var u=l(38098),f=l(79426);const v=(k,R,P)=>k&R^~k&P,m=(k,R,P)=>k&R^k&P^R&P,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class E extends u.N{constructor(){super(64,32,8,!1),this.A=y[0]|0,this.B=y[1]|0,this.C=y[2]|0,this.D=y[3]|0,this.E=y[4]|0,this.F=y[5]|0,this.G=y[6]|0,this.H=y[7]|0}get(){const{A:R,B:P,C:p,D:U,E:M,F:z,G,H:j}=this;return[R,P,p,U,M,z,G,j]}set(R,P,p,U,M,z,G,j){this.A=R|0,this.B=P|0,this.C=p|0,this.D=U|0,this.E=M|0,this.F=z|0,this.G=G|0,this.H=j|0}process(R,P){for(let F=0;F<16;F++,P+=4)h[F]=R.getUint32(P,!1);for(let F=16;F<64;F++){const V=h[F-15],de=h[F-2],Te=(0,f.rotr)(V,7)^(0,f.rotr)(V,18)^V>>>3,ke=(0,f.rotr)(de,17)^(0,f.rotr)(de,19)^de>>>10;h[F]=ke+h[F-7]+Te+h[F-16]|0}let{A:p,B:U,C:M,D:z,E:G,F:j,G:pe,H:ye}=this;for(let F=0;F<64;F++){const V=(0,f.rotr)(G,6)^(0,f.rotr)(G,11)^(0,f.rotr)(G,25),de=ye+V+v(G,j,pe)+b[F]+h[F]|0,ke=((0,f.rotr)(p,2)^(0,f.rotr)(p,13)^(0,f.rotr)(p,22))+m(p,U,M)|0;ye=pe,pe=j,j=G,G=z+de|0,z=M,M=U,U=p,p=de+ke|0}p=p+this.A|0,U=U+this.B|0,M=M+this.C|0,z=z+this.D|0,G=G+this.E|0,j=j+this.F|0,pe=pe+this.G|0,ye=ye+this.H|0,this.set(p,U,M,z,G,j,pe,ye)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const S=(0,f.wrapConstructor)(()=>new E)},45018:function(B,x,l){"use strict";l.r(x),l.d(x,{SHA512:function(){return E},sha384:function(){return p},sha512:function(){return R},sha512_256:function(){return P}});var u=l(38098),f=l(28523),v=l(79426);const[m,b]=f.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(U=>BigInt(U))),y=new Uint32Array(80),h=new Uint32Array(80);class E extends u.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:M,Al:z,Bh:G,Bl:j,Ch:pe,Cl:ye,Dh:F,Dl:V,Eh:de,El:Te,Fh:ke,Fl:ce,Gh:Se,Gl:we,Hh:Ie,Hl:He}=this;return[M,z,G,j,pe,ye,F,V,de,Te,ke,ce,Se,we,Ie,He]}set(M,z,G,j,pe,ye,F,V,de,Te,ke,ce,Se,we,Ie,He){this.Ah=M|0,this.Al=z|0,this.Bh=G|0,this.Bl=j|0,this.Ch=pe|0,this.Cl=ye|0,this.Dh=F|0,this.Dl=V|0,this.Eh=de|0,this.El=Te|0,this.Fh=ke|0,this.Fl=ce|0,this.Gh=Se|0,this.Gl=we|0,this.Hh=Ie|0,this.Hl=He|0}process(M,z){for(let X=0;X<16;X++,z+=4)y[X]=M.getUint32(z),h[X]=M.getUint32(z+=4);for(let X=16;X<80;X++){const D=y[X-15]|0,q=h[X-15]|0,ae=f.ZP.rotrSH(D,q,1)^f.ZP.rotrSH(D,q,8)^f.ZP.shrSH(D,q,7),W=f.ZP.rotrSL(D,q,1)^f.ZP.rotrSL(D,q,8)^f.ZP.shrSL(D,q,7),Z=y[X-2]|0,me=h[X-2]|0,ve=f.ZP.rotrSH(Z,me,19)^f.ZP.rotrBH(Z,me,61)^f.ZP.shrSH(Z,me,6),Pe=f.ZP.rotrSL(Z,me,19)^f.ZP.rotrBL(Z,me,61)^f.ZP.shrSL(Z,me,6),Ke=f.ZP.add4L(W,Pe,h[X-7],h[X-16]),St=f.ZP.add4H(Ke,ae,ve,y[X-7],y[X-16]);y[X]=St|0,h[X]=Ke|0}let{Ah:G,Al:j,Bh:pe,Bl:ye,Ch:F,Cl:V,Dh:de,Dl:Te,Eh:ke,El:ce,Fh:Se,Fl:we,Gh:Ie,Gl:He,Hh:ft,Hl:nt}=this;for(let X=0;X<80;X++){const D=f.ZP.rotrSH(ke,ce,14)^f.ZP.rotrSH(ke,ce,18)^f.ZP.rotrBH(ke,ce,41),q=f.ZP.rotrSL(ke,ce,14)^f.ZP.rotrSL(ke,ce,18)^f.ZP.rotrBL(ke,ce,41),ae=ke&Se^~ke&Ie,W=ce&we^~ce&He,Z=f.ZP.add5L(nt,q,W,b[X],h[X]),me=f.ZP.add5H(Z,ft,D,ae,m[X],y[X]),ve=Z|0,Pe=f.ZP.rotrSH(G,j,28)^f.ZP.rotrBH(G,j,34)^f.ZP.rotrBH(G,j,39),Ke=f.ZP.rotrSL(G,j,28)^f.ZP.rotrBL(G,j,34)^f.ZP.rotrBL(G,j,39),St=G&pe^G&F^pe&F,mt=j&ye^j&V^ye&V;ft=Ie|0,nt=He|0,Ie=Se|0,He=we|0,Se=ke|0,we=ce|0,{h:ke,l:ce}=f.ZP.add(de|0,Te|0,me|0,ve|0),de=F|0,Te=V|0,F=pe|0,V=ye|0,pe=G|0,ye=j|0;const jt=f.ZP.add3L(ve,Ke,mt);G=f.ZP.add3H(jt,me,Pe,St),j=jt|0}({h:G,l:j}=f.ZP.add(this.Ah|0,this.Al|0,G|0,j|0)),{h:pe,l:ye}=f.ZP.add(this.Bh|0,this.Bl|0,pe|0,ye|0),{h:F,l:V}=f.ZP.add(this.Ch|0,this.Cl|0,F|0,V|0),{h:de,l:Te}=f.ZP.add(this.Dh|0,this.Dl|0,de|0,Te|0),{h:ke,l:ce}=f.ZP.add(this.Eh|0,this.El|0,ke|0,ce|0),{h:Se,l:we}=f.ZP.add(this.Fh|0,this.Fl|0,Se|0,we|0),{h:Ie,l:He}=f.ZP.add(this.Gh|0,this.Gl|0,Ie|0,He|0),{h:ft,l:nt}=f.ZP.add(this.Hh|0,this.Hl|0,ft|0,nt|0),this.set(G,j,pe,ye,F,V,de,Te,ke,ce,Se,we,Ie,He,ft,nt)}roundClean(){y.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class S extends E{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class k extends E{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const R=(0,v.wrapConstructor)(()=>new E),P=(0,v.wrapConstructor)(()=>new S),p=(0,v.wrapConstructor)(()=>new k)},79426:function(B,x,l){"use strict";l.r(x),l.d(x,{Hash:function(){return M},asyncLoop:function(){return R},bytesToHex:function(){return E},checkOpts:function(){return G},concatBytes:function(){return U},createView:function(){return m},hexToBytes:function(){return S},isLE:function(){return y},nextTick:function(){return k},randomBytes:function(){return ye},rotr:function(){return b},toBytes:function(){return p},u32:function(){return v},u8:function(){return f},utf8ToBytes:function(){return P},wrapConstructor:function(){return j},wrapConstructorWithOpts:function(){return pe}});const u={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const f=F=>new Uint8Array(F.buffer,F.byteOffset,F.byteLength),v=F=>new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4)),m=F=>new DataView(F.buffer,F.byteOffset,F.byteLength),b=(F,V)=>F<<32-V|F>>>V,y=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!y)throw new Error("Non little-endian hardware is not supported");const h=Array.from({length:256},(F,V)=>V.toString(16).padStart(2,"0"));function E(F){if(!(F instanceof Uint8Array))throw new Error("Uint8Array expected");let V="";for(let de=0;de<F.length;de++)V+=h[F[de]];return V}function S(F){if(typeof F!="string")throw new TypeError("hexToBytes: expected string, got "+typeof F);if(F.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const V=new Uint8Array(F.length/2);for(let de=0;de<V.length;de++){const Te=de*2,ke=F.slice(Te,Te+2),ce=Number.parseInt(ke,16);if(Number.isNaN(ce)||ce<0)throw new Error("Invalid byte sequence");V[de]=ce}return V}const k=async()=>{};async function R(F,V,de){let Te=Date.now();for(let ke=0;ke<F;ke++){de(ke);const ce=Date.now()-Te;ce>=0&&ce<V||(await k(),Te+=ce)}}function P(F){if(typeof F!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof F}`);return new TextEncoder().encode(F)}function p(F){if(typeof F=="string"&&(F=P(F)),!(F instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof F})`);return F}function U(...F){if(!F.every(Te=>Te instanceof Uint8Array))throw new Error("Uint8Array list expected");if(F.length===1)return F[0];const V=F.reduce((Te,ke)=>Te+ke.length,0),de=new Uint8Array(V);for(let Te=0,ke=0;Te<F.length;Te++){const ce=F[Te];de.set(ce,ke),ke+=ce.length}return de}class M{clone(){return this._cloneInto()}}const z=F=>Object.prototype.toString.call(F)==="[object Object]"&&F.constructor===Object;function G(F,V){if(V!==void 0&&(typeof V!="object"||!z(V)))throw new TypeError("Options should be object or undefined");return Object.assign(F,V)}function j(F){const V=Te=>F().update(p(Te)).digest(),de=F();return V.outputLen=de.outputLen,V.blockLen=de.blockLen,V.create=()=>F(),V}function pe(F){const V=(Te,ke)=>F(ke).update(p(Te)).digest(),de=F({});return V.outputLen=de.outputLen,V.blockLen=de.blockLen,V.create=Te=>F(Te),V}function ye(F=32){if(u.web)return u.web.getRandomValues(new Uint8Array(F));if(u.node)return new Uint8Array(u.node.randomBytes(F).buffer);throw new Error("The environment doesn't have randomBytes function")}},30158:function(B,x,l){"use strict";l.r(x),l.d(x,{assertNumber:function(){return u},base16:function(){return G},base32:function(){return j},base32crockford:function(){return V},base32hex:function(){return ye},base32hexnopad:function(){return F},base32nopad:function(){return pe},base58:function(){return we},base58check:function(){return D},base58flickr:function(){return Ie},base58xmr:function(){return nt},base58xrp:function(){return He},base64:function(){return de},base64nopad:function(){return Te},base64url:function(){return ke},base64urlnopad:function(){return ce},bech32:function(){return ve},bech32m:function(){return Pe},bytes:function(){return Xr},bytesToString:function(){return Sr},createBase58check:function(){return X},hex:function(){return St},str:function(){return xn},stringToBytes:function(){return Rr},utf8:function(){return Ke},utils:function(){return z}});function u(ne){if(!Number.isSafeInteger(ne))throw new Error(`Wrong integer: ${ne}`)}function f(ne){return ne instanceof Uint8Array||ne!=null&&typeof ne=="object"&&ne.constructor.name==="Uint8Array"}function v(...ne){const le=$e=>$e,H=($e,Ze)=>Ot=>$e(Ze(Ot)),Ve=ne.map($e=>$e.encode).reduceRight(H,le),Oe=ne.map($e=>$e.decode).reduce(H,le);return{encode:Ve,decode:Oe}}function m(ne){return{encode:le=>{if(!Array.isArray(le)||le.length&&typeof le[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return le.map(H=>{if(u(H),H<0||H>=ne.length)throw new Error(`Digit index outside alphabet: ${H} (alphabet: ${ne.length})`);return ne[H]})},decode:le=>{if(!Array.isArray(le)||le.length&&typeof le[0]!="string")throw new Error("alphabet.decode input should be array of strings");return le.map(H=>{if(typeof H!="string")throw new Error(`alphabet.decode: not string element=${H}`);const Ve=ne.indexOf(H);if(Ve===-1)throw new Error(`Unknown letter: "${H}". Allowed: ${ne}`);return Ve})}}}function b(ne=""){if(typeof ne!="string")throw new Error("join separator should be string");return{encode:le=>{if(!Array.isArray(le)||le.length&&typeof le[0]!="string")throw new Error("join.encode input should be array of strings");for(let H of le)if(typeof H!="string")throw new Error(`join.encode: non-string input=${H}`);return le.join(ne)},decode:le=>{if(typeof le!="string")throw new Error("join.decode input should be string");return le.split(ne)}}}function y(ne,le="="){if(u(ne),typeof le!="string")throw new Error("padding chr should be string");return{encode(H){if(!Array.isArray(H)||H.length&&typeof H[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Ve of H)if(typeof Ve!="string")throw new Error(`padding.encode: non-string input=${Ve}`);for(;H.length*ne%8;)H.push(le);return H},decode(H){if(!Array.isArray(H)||H.length&&typeof H[0]!="string")throw new Error("padding.encode input should be array of strings");for(let Oe of H)if(typeof Oe!="string")throw new Error(`padding.decode: non-string input=${Oe}`);let Ve=H.length;if(Ve*ne%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;Ve>0&&H[Ve-1]===le;Ve--)if(!((Ve-1)*ne%8))throw new Error("Invalid padding: string has too much padding");return H.slice(0,Ve)}}}function h(ne){if(typeof ne!="function")throw new Error("normalize fn should be function");return{encode:le=>le,decode:le=>ne(le)}}function E(ne,le,H){if(le<2)throw new Error(`convertRadix: wrong from=${le}, base cannot be less than 2`);if(H<2)throw new Error(`convertRadix: wrong to=${H}, base cannot be less than 2`);if(!Array.isArray(ne))throw new Error("convertRadix: data should be array");if(!ne.length)return[];let Ve=0;const Oe=[],$e=Array.from(ne);for($e.forEach(Ze=>{if(u(Ze),Ze<0||Ze>=le)throw new Error(`Wrong integer: ${Ze}`)});;){let Ze=0,Ot=!0;for(let zt=Ve;zt<$e.length;zt++){const ur=$e[zt],se=le*Ze+ur;if(!Number.isSafeInteger(se)||le*Ze/le!==Ze||se-ur!==le*Ze)throw new Error("convertRadix: carry overflow");Ze=se%H;const ut=Math.floor(se/H);if($e[zt]=ut,!Number.isSafeInteger(ut)||ut*H+Ze!==se)throw new Error("convertRadix: carry overflow");if(Ot)ut?Ot=!1:Ve=zt;else continue}if(Oe.push(Ze),Ot)break}for(let Ze=0;Ze<ne.length-1&&ne[Ze]===0;Ze++)Oe.push(0);return Oe.reverse()}const S=(ne,le)=>le?S(le,ne%le):ne,k=(ne,le)=>ne+(le-S(ne,le));function R(ne,le,H,Ve){if(!Array.isArray(ne))throw new Error("convertRadix2: data should be array");if(le<=0||le>32)throw new Error(`convertRadix2: wrong from=${le}`);if(H<=0||H>32)throw new Error(`convertRadix2: wrong to=${H}`);if(k(le,H)>32)throw new Error(`convertRadix2: carry overflow from=${le} to=${H} carryBits=${k(le,H)}`);let Oe=0,$e=0;const Ze=2**H-1,Ot=[];for(const zt of ne){if(u(zt),zt>=2**le)throw new Error(`convertRadix2: invalid data word=${zt} from=${le}`);if(Oe=Oe<<le|zt,$e+le>32)throw new Error(`convertRadix2: carry overflow pos=${$e} from=${le}`);for($e+=le;$e>=H;$e-=H)Ot.push((Oe>>$e-H&Ze)>>>0);Oe&=2**$e-1}if(Oe=Oe<<H-$e&Ze,!Ve&&$e>=le)throw new Error("Excess padding");if(!Ve&&Oe)throw new Error(`Non-zero padding: ${Oe}`);return Ve&&$e>0&&Ot.push(Oe>>>0),Ot}function P(ne){return u(ne),{encode:le=>{if(!f(le))throw new Error("radix.encode input should be Uint8Array");return E(Array.from(le),2**8,ne)},decode:le=>{if(!Array.isArray(le)||le.length&&typeof le[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(E(le,ne,2**8))}}}function p(ne,le=!1){if(u(ne),ne<=0||ne>32)throw new Error("radix2: bits should be in (0..32]");if(k(8,ne)>32||k(ne,8)>32)throw new Error("radix2: carry overflow");return{encode:H=>{if(!f(H))throw new Error("radix2.encode input should be Uint8Array");return R(Array.from(H),8,ne,!le)},decode:H=>{if(!Array.isArray(H)||H.length&&typeof H[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(R(H,ne,8,le))}}}function U(ne){if(typeof ne!="function")throw new Error("unsafeWrapper fn should be function");return function(...le){try{return ne.apply(null,le)}catch{}}}function M(ne,le){if(u(ne),typeof le!="function")throw new Error("checksum fn should be function");return{encode(H){if(!f(H))throw new Error("checksum.encode: input should be Uint8Array");const Ve=le(H).slice(0,ne),Oe=new Uint8Array(H.length+ne);return Oe.set(H),Oe.set(Ve,H.length),Oe},decode(H){if(!f(H))throw new Error("checksum.decode: input should be Uint8Array");const Ve=H.slice(0,-ne),Oe=le(Ve).slice(0,ne),$e=H.slice(-ne);for(let Ze=0;Ze<ne;Ze++)if(Oe[Ze]!==$e[Ze])throw new Error("Invalid checksum");return Ve}}}const z={alphabet:m,chain:v,checksum:M,convertRadix:E,convertRadix2:R,radix:P,radix2:p,join:b,padding:y},G=v(p(4),m("0123456789ABCDEF"),b("")),j=v(p(5),m("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),y(5),b("")),pe=v(p(5),m("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),b("")),ye=v(p(5),m("0123456789ABCDEFGHIJKLMNOPQRSTUV"),y(5),b("")),F=v(p(5),m("0123456789ABCDEFGHIJKLMNOPQRSTUV"),b("")),V=v(p(5),m("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),b(""),h(ne=>ne.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),de=v(p(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),y(6),b("")),Te=v(p(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),b("")),ke=v(p(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),y(6),b("")),ce=v(p(6),m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),b("")),Se=ne=>v(P(58),m(ne),b("")),we=Se("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ie=Se("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),He=Se("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),ft=[0,2,3,5,6,7,9,10,11],nt={encode(ne){let le="";for(let H=0;H<ne.length;H+=8){const Ve=ne.subarray(H,H+8);le+=we.encode(Ve).padStart(ft[Ve.length],"1")}return le},decode(ne){let le=[];for(let H=0;H<ne.length;H+=11){const Ve=ne.slice(H,H+11),Oe=ft.indexOf(Ve.length),$e=we.decode(Ve);for(let Ze=0;Ze<$e.length-Oe;Ze++)if($e[Ze]!==0)throw new Error("base58xmr: wrong padding");le=le.concat(Array.from($e.slice($e.length-Oe)))}return Uint8Array.from(le)}},X=ne=>v(M(4,le=>ne(ne(le))),we),D=X,q=v(m("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),b("")),ae=[996825010,642813549,513874426,1027748829,705979059];function W(ne){const le=ne>>25;let H=(ne&33554431)<<5;for(let Ve=0;Ve<ae.length;Ve++)(le>>Ve&1)===1&&(H^=ae[Ve]);return H}function Z(ne,le,H=1){const Ve=ne.length;let Oe=1;for(let $e=0;$e<Ve;$e++){const Ze=ne.charCodeAt($e);if(Ze<33||Ze>126)throw new Error(`Invalid prefix (${ne})`);Oe=W(Oe)^Ze>>5}Oe=W(Oe);for(let $e=0;$e<Ve;$e++)Oe=W(Oe)^ne.charCodeAt($e)&31;for(let $e of le)Oe=W(Oe)^$e;for(let $e=0;$e<6;$e++)Oe=W(Oe);return Oe^=H,q.encode(R([Oe%2**30],30,5,!1))}function me(ne){const le=ne==="bech32"?1:734539939,H=p(5),Ve=H.decode,Oe=H.encode,$e=U(Ve);function Ze(se,ut,Tt=90){if(typeof se!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof se}`);if(!Array.isArray(ut)||ut.length&&typeof ut[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof ut}`);if(se.length===0)throw new TypeError(`Invalid prefix length ${se.length}`);const fr=se.length+7+ut.length;if(Tt!==!1&&fr>Tt)throw new TypeError(`Length ${fr} exceeds limit ${Tt}`);const bt=se.toLowerCase(),dr=Z(bt,ut,le);return`${bt}1${q.encode(ut)}${dr}`}function Ot(se,ut=90){if(typeof se!="string")throw new Error(`bech32.decode input should be string, not ${typeof se}`);if(se.length<8||ut!==!1&&se.length>ut)throw new TypeError(`Wrong string length: ${se.length} (${se}). Expected (8..${ut})`);const Tt=se.toLowerCase();if(se!==Tt&&se!==se.toUpperCase())throw new Error("String must be lowercase or uppercase");const fr=Tt.lastIndexOf("1");if(fr===0||fr===-1)throw new Error('Letter "1" must be present between prefix and data only');const bt=Tt.slice(0,fr),dr=Tt.slice(fr+1);if(dr.length<6)throw new Error("Data must be at least 6 characters long");const Be=q.decode(dr).slice(0,-6),Cr=Z(bt,Be,le);if(!dr.endsWith(Cr))throw new Error(`Invalid checksum in ${se}: expected "${Cr}"`);return{prefix:bt,words:Be}}const zt=U(Ot);function ur(se){const{prefix:ut,words:Tt}=Ot(se,!1);return{prefix:ut,words:Tt,bytes:Ve(Tt)}}return{encode:Ze,decode:Ot,decodeToBytes:ur,decodeUnsafe:zt,fromWords:Ve,fromWordsUnsafe:$e,toWords:Oe}}const ve=me("bech32"),Pe=me("bech32m"),Ke={encode:ne=>new TextDecoder().decode(ne),decode:ne=>new TextEncoder().encode(ne)},St=v(p(4),m("0123456789abcdef"),b(""),h(ne=>{if(typeof ne!="string"||ne.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof ne} with length ${ne.length}`);return ne.toLowerCase()})),mt={utf8:Ke,hex:St,base16:G,base32:j,base64:de,base64url:ke,base58:we,base58xmr:nt},jt="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",Sr=(ne,le)=>{if(typeof ne!="string"||!mt.hasOwnProperty(ne))throw new TypeError(jt);if(!f(le))throw new TypeError("bytesToString() expects Uint8Array");return mt[ne].encode(le)},xn=Sr,Rr=(ne,le)=>{if(!mt.hasOwnProperty(ne))throw new TypeError(jt);if(typeof le!="string")throw new TypeError("stringToBytes() expects string");return mt[ne].decode(le)},Xr=Rr}}]);
}());