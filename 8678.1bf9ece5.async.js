"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[8678],{38678:function(Kn,x,i){i.d(x,{GU:function(){return kn},Du:function(){return R.Du},VN:function(){return Fn},MV:function(){return jn},Yw:function(){return Qn},mg:function(){return R.mg},VX:function(){return On},gV:function(){return Dn},M6:function(){return S},hm:function(){return bn},be:function(){return Nn},$R:function(){return R.$R}});var q=i(77117),y=i.n(q),_=i(67855),X=i.n(_),nn=i(95530),Z=i.n(nn),T=i(50959),R=i(85710),en=i(36993),rn=i(20434),an=i(58796),tn=i(27566),un=i.n(tn),ln=i(13448),u=i.n(ln),sn=i(74815),I=i.n(sn),cn=i(28152),H=i.n(cn),k=i(61188),on=i(63596),dn=i(23870),vn=i(48957),fn=i(48416),hn=i(88675),mn=i(76562),Yn=i(98041),pn=i(45344),zn=function(r){return debug("antd-web3:wagmi:".concat(r))},Q=function(r){return!!(r.type===pn.L.type&&r.icon&&r.id&&r.name)},gn="EIP6963",Cn=function(r){return{connectors:[gn],create:function(l){var n=l==null?void 0:l[0],h={icon:n==null?void 0:n.icon,name:n.name,remark:"Wallet ".concat(n==null?void 0:n.name," detected"),key:n==null?void 0:n.id};return y()(y()({},h),{},{hasWalletReady:function(){var c=I()(u()().mark(function f(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n==null?void 0:n.getProvider();case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}},f)}));function v(){return c.apply(this,arguments)}return v}(),hasExtensionInstalled:function(){var c=I()(u()().mark(function f(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n==null?void 0:n.getProvider();case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}},f)}));function v(){return c.apply(this,arguments)}return v}()},r)}}},yn=i(82374);function Wn(d,r,w){return F.apply(this,arguments)}function F(){return F=I()(u()().mark(function d(r,w,l){var n;return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,yn.w)(r,{address:w.address,chainId:l});case 2:return n=c.sent,c.abrupt("return",y()(y()({},w),{},{name:n??void 0}));case 4:case"end":return c.stop()}},d)})),F.apply(this,arguments)}var wn=i(96686);function $n(d,r,w,l){return U.apply(this,arguments)}function U(){return U=I()(u()().mark(function d(r,w,l,n){var h,c;return u()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,wn.L)(r,{address:(0,k.O_)(w),args:[l],chainId:n,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return h=f.sent,f.next=5,(0,k.Xw)(h);case 5:return c=f.sent,f.abrupt("return",c);case 7:case"end":return f.stop()}},d)})),U.apply(this,arguments)}var D=i(11527),In=function(r){var w=r.children,l=r.chainAssets,n=r.walletFactorys,h=r.availableChains,c=r.availableConnectors,v=r.ens,f=r.balance,s=r.locale,t=r.eip6963,m=(0,on.m)(),g=m.address,p=m.isDisconnected,e=m.chain,b=(0,dn.Z)(),O=T.useState(),N=H()(O,2),B=N[0],V=N[1],Un=(0,vn.$)(),Bn=Un.connectAsync,Vn=(0,fn.o)(),G=Vn.switchChain,Gn=(0,hn.q)(),Ln=Gn.disconnectAsync,Xn=T.useState(void 0),K=H()(Xn,2),E=K[0],Y=K[1],Zn=(0,mn.K)({address:f&&B?(0,k.O_)(B.address):void 0}),M=Zn.data;T.useEffect(function(){if(!g||p){V(void 0);return}var W=function(){var o=I()(u()().mark(function a(){var $;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if($={address:g},V($),!v){P.next=8;break}return P.t0=V,P.next=6,Wn(b,$);case 6:P.t1=P.sent,(0,P.t0)(P.t1);case 8:case"end":return P.stop()}},a)}));return function(){return o.apply(this,arguments)}}();W()},[g,p,e,v]);var z=function(o){var a=c.find(function(C){return C.name===o&&!Q(C)});if(!t)return a;var $=c.find(function(C){return C.name===o&&Q(C)});return $||a},Hn=T.useMemo(function(){var W=[];c.forEach(function(a){if(Q(a)){un()(t)==="object"&&t!==null&&t!==void 0&&t.autoAddInjectedWallets&&!n.find(function(C){return C.connectors.includes(a.name)})&&W.push(Cn().create([a]));return}var $=n.find(function(C){return C.connectors.includes(a.name)});$!=null&&$.create||console.error("Can not find wallet factory for ".concat(a.name,", you should config it in WagmiWeb3ConfigProvider 'wallets'."))});var o=n.map(function(a){var $=a.connectors.map(z).filter(function(C){return!!C});return $.length===0&&!t?(console.error("Can not find connector for ".concat(a.connectors.join(","),", ignore the wallet. Please config connectors or add eip6963 config in WagmiWeb3ConfigProvider.")),null):a.create($)}).filter(function(a){return a!==null});return[].concat(X()(o),W)},[c,n,t]),Jn=T.useMemo(function(){return h.map(function(W){var o=l==null?void 0:l.find(function(a){return a.id===W.id});return o!=null&&o.id?{id:o.id,name:o.name,icon:o.icon}:(console.error("Can not find chain ".concat(W.id,", you should config it in WagmiWeb3ConfigProvider 'chains'.")),null)}).filter(function(W){return W!==null})},[h,l]);T.useEffect(function(){var W;if(!(!e&&E)){var o=e??h[0];if(o){var a=l==null?void 0:l.find(function($){return $.id===(o==null?void 0:o.id)});(W=a)!==null&&W!==void 0&&W.id||(a={id:o.id,name:o.name}),Y(a)}}},[e,l,h,E]);var L=E==null?void 0:E.nativeCurrency;return(0,D.jsx)(k.BQ,{locale:s,availableChains:Jn,chain:E,account:B,balance:f?{symbol:M==null?void 0:M.symbol,value:M==null?void 0:M.value,decimals:M==null?void 0:M.decimals,icon:L==null?void 0:L.icon}:void 0,availableWallets:Hn,addressPrefix:"0x",connect:function(){var W=I()(u()().mark(function o(a,$){var C,P,A;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,a==null||(C=(P=a).getWagmiConnector)===null||C===void 0?void 0:C.call(P,$);case 2:if(A=j.sent,!A&&a&&(A=z(a.name)),A){j.next=6;break}throw new Error("Can not find connector for ".concat(a==null?void 0:a.name));case 6:return j.next=8,Bn({connector:A,chainId:E==null?void 0:E.id});case 8:case"end":return j.stop()}},o)}));return function(o,a){return W.apply(this,arguments)}}(),disconnect:I()(u()().mark(function W(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ln();case 2:case"end":return a.stop()}},W)})),switchChain:function(){var W=I()(u()().mark(function o(a){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:e?G==null||G({chainId:a.id}):Y(a);case 1:case"end":return C.stop()}},o)}));return function(o){return W.apply(this,arguments)}}(),getNFTMetadata:function(){var W=I()(u()().mark(function o(a){var $,C;return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return $=a.address,C=a.tokenId,A.abrupt("return",$n(b,$,C,e==null?void 0:e.id));case 2:case"end":return A.stop()}},o)}));return function(o){return W.apply(this,arguments)}}(),children:w})},Pn=["children","wallets","chains","ens","locale","balance","config","queryClient","eip6963"];function bn(d){var r=d.children,w=d.wallets,l=w===void 0?[]:w,n=d.chains,h=n===void 0?[]:n,c=d.ens,v=d.locale,f=d.balance,s=d.config,t=d.queryClient,m=d.eip6963,g=Z()(d,Pn),p=[].concat(X()(h),[R.ny]),e=T.useMemo(function(){return t??new en.S},[t]);return(0,D.jsx)(an.F,y()(y()({config:s},g),{},{children:(0,D.jsx)(rn.aH,{client:e,children:(0,D.jsx)(In,{locale:v,chainAssets:p,walletFactorys:l,availableChains:s.chains,availableConnectors:s.connectors,ens:c,balance:f,eip6963:m,children:r})})}))}var Rn=i(96345),An=i.n(Rn),En=i(15033),Mn=i.n(En),Tn=i(21320),J=i.n(Tn),S=An()(function d(r){var w=this;Mn()(this,d),J()(this,"connectors",[]),J()(this,"create",function(l){var n=l==null?void 0:l.find(function(s){return s.name==="WalletConnect"}),h=l==null?void 0:l.find(function(s){return s.name===w.wallet.name}),c=void 0,v=function(){var s=I()(u()().mark(function t(){var m;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,n==null?void 0:n.getProvider();case 2:return m=p.sent,p.abrupt("return",new Promise(function(e){if(c){e({uri:c});return}m==null||m.on("display_uri",function(b){c=b,e({uri:b})})}));case 4:case"end":return p.stop()}},t)}));return function(){return s.apply(this,arguments)}}(),f=function(){var s=I()(u()().mark(function t(){var m,g;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h==null||(m=h.getProvider)===null||m===void 0?void 0:m.call(h);case 2:return g=e.sent,e.abrupt("return",!!g);case 4:case"end":return e.stop()}},t)}));return function(){return s.apply(this,arguments)}}();return y()(y()({},w.wallet),{},{getWagmiConnector:function(){var s=I()(u()().mark(function m(g){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((g==null?void 0:g.connectType)!=="qrCode"){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,f();case 4:if(!e.sent){e.next=6;break}return e.abrupt("return",h);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},m)}));function t(m){return s.apply(this,arguments)}return t}(),hasExtensionInstalled:function(){var s=I()(u()().mark(function m(){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",f());case 1:case"end":return p.stop()}},m)}));function t(){return s.apply(this,arguments)}return t}(),hasWalletReady:function(){var s=I()(u()().mark(function m(){var g;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return g=e.sent,e.abrupt("return",!!(g||n));case 4:case"end":return e.stop()}},m)}));function t(){return s.apply(this,arguments)}return t}(),getQrCode:n?v:void 0})}),this.wallet=r,r.extensions&&this.connectors.push(r.name),r.app&&this.connectors.push("WalletConnect")}),jn=function(r){return new S(y()(y()({},R.Zv),r))},Sn=["useWalletConnectOfficialModal"],Nn=function(r){var w=r||{},l=w.useWalletConnectOfficialModal,n=l===void 0?!1:l,h=Z()(w,Sn);return{connectors:["WalletConnect"],create:function(v){var f=void 0,s=function(){var t=I()(u()().mark(function m(){var g,p;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,v==null||(g=v[0])===null||g===void 0?void 0:g.getProvider();case 2:return p=b.sent,b.abrupt("return",new Promise(function(O){if(f){O({uri:f});return}p==null||p.on("display_uri",function(N){f=N,O({uri:N})})}));case 4:case"end":return b.stop()}},m)}));return function(){return t.apply(this,arguments)}}();return y()(y()({},R.Tl),{},{hasWalletReady:function(){var t=I()(u()().mark(function g(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},g)}));function m(){return t.apply(this,arguments)}return m}(),getQrCode:n?void 0:s},h)}}},kn=function(r){return{connectors:["Coinbase Wallet"],create:function(){return y()(y()({},R.p_),{},{hasWalletReady:function(){var l=I()(u()().mark(function h(){return u()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",!0);case 1:case"end":return v.stop()}},h)}));function n(){return l.apply(this,arguments)}return n}()},r)}}},Dn=function(r){return new S(y()(y()({},R.eu),r))},On=function(r){return{connectors:["Safeheron"],create:function(l){return y()(y()({},R.OJ),{},{hasWalletReady:function(){var n=I()(u()().mark(function c(){var v;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,l==null||(v=l[0])===null||v===void 0?void 0:v.getProvider();case 2:return s.abrupt("return",!!s.sent);case 3:case"end":return s.stop()}},c)}));function h(){return n.apply(this,arguments)}return h}(),hasExtensionInstalled:function(){var n=I()(u()().mark(function c(){var v;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,l==null||(v=l[0])===null||v===void 0?void 0:v.getProvider();case 2:return s.abrupt("return",!!s.sent);case 3:case"end":return s.stop()}},c)}));function h(){return n.apply(this,arguments)}return h}()},r)}}},Qn=function(r){return new S(y()(y()({},R.tw),r))},Fn=function(r){return new S(y()(y()({},R.o4),r))}}}]);
