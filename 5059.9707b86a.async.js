"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[5059],{65059:function(Kn,x,t){t.d(x,{GU:function(){return kn},Du:function(){return b.Du},VN:function(){return Fn},MV:function(){return Tn},Yw:function(){return Qn},mg:function(){return b.mg},VX:function(){return On},gV:function(){return Dn},M6:function(){return j},hm:function(){return bn},be:function(){return Nn}});var q=t(77117),p=t.n(q),_=t(67855),G=t.n(_),nn=t(95530),L=t.n(nn),E=t(50959),b=t(88695),en=t(25433),rn=t(14842),an=t(48978),tn=t(27566),un=t.n(tn),ln=t(13448),i=t.n(ln),sn=t(74815),$=t.n(sn),cn=t(28152),X=t.n(cn),S=t(8862),on=t(65998),dn=t(33944),vn=t(17114),fn=t(8326),hn=t(78086),mn=t(83481),Yn=t(91287),pn=t(20146),zn=function(r){return debug("antd-web3:wagmi:".concat(r))},D=function(r){return!!(r.type===pn.L.type&&r.icon&&r.id&&r.name)},gn="EIP6963",Cn=function(r){return{connectors:[gn],create:function(u){var n=u==null?void 0:u[0],h={icon:n==null?void 0:n.icon,name:n.name,remark:"Wallet ".concat(n==null?void 0:n.name," detected"),key:n==null?void 0:n.id};return p()(p()({},h),{},{hasWalletReady:function(){var f=$()(i()().mark(function s(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n==null?void 0:n.getProvider();case 2:return e.abrupt("return",!!e.sent);case 3:case"end":return e.stop()}},s)}));function o(){return f.apply(this,arguments)}return o}(),hasExtensionInstalled:function(){var f=$()(i()().mark(function s(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n==null?void 0:n.getProvider();case 2:return e.abrupt("return",!!e.sent);case 3:case"end":return e.stop()}},s)}));function o(){return f.apply(this,arguments)}return o}()},r)}}},yn=t(58037);function Wn(v,r,I){return O.apply(this,arguments)}function O(){return O=$()(i()().mark(function v(r,I,u){var n;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,yn.w)(r,{address:I.address,chainId:u});case 2:return n=f.sent,f.abrupt("return",p()(p()({},I),{},{name:n??void 0}));case 4:case"end":return f.stop()}},v)})),O.apply(this,arguments)}var wn=t(52660);function In(v,r,I,u){return Q.apply(this,arguments)}function Q(){return Q=$()(i()().mark(function v(r,I,u,n){var h,f;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,wn.L)(r,{address:(0,S.O_)(I),args:[u],chainId:n,abi:[{name:"tokenURI",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],functionName:"tokenURI"});case 2:return h=s.sent,s.next=5,(0,S.Xw)(h);case 5:return f=s.sent,s.abrupt("return",f);case 7:case"end":return s.stop()}},v)})),Q.apply(this,arguments)}var N=t(11527),Pn=function(r){var I=r.children,u=r.chainAssets,n=r.walletFactorys,h=r.availableChains,f=r.availableConnectors,o=r.ens,s=r.balance,l=r.locale,e=r.eip6963,P=(0,on.m)(),c=P.address,m=P.isDisconnected,W=P.chain,k=(0,dn.Z)(),F=E.useState(),H=X()(F,2),U=H[0],J=H[1],Un=(0,vn.$)(),Bn=Un.connectAsync,Vn=(0,fn.o)(),B=Vn.switchChain,Gn=(0,hn.q)(),Ln=Gn.disconnectAsync,Xn=E.useState(void 0),K=X()(Xn,2),R=K[0],Y=K[1],Zn=(0,mn.K)({address:s&&U?(0,S.O_)(U.address):void 0}),A=Zn.data;E.useEffect(function(){if(!c||m){J(void 0);return}var g=function(){var d=$()(i()().mark(function a(){var C;return i()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(C={address:c},w.t0=J,!o){w.next=8;break}return w.next=5,Wn(k,C);case 5:w.t1=w.sent,w.next=9;break;case 8:w.t1=C;case 9:w.t2=w.t1,(0,w.t0)(w.t2);case 11:case"end":return w.stop()}},a)}));return function(){return d.apply(this,arguments)}}();g()},[c,m,W,o]);var z=function(d){var a=f.find(function(y){return y.name===d&&!D(y)});if(!e)return a;var C=f.find(function(y){return y.name===d&&D(y)});return C||a},Hn=E.useMemo(function(){var g=[];f.forEach(function(a){if(D(a)){un()(e)==="object"&&e!==null&&e!==void 0&&e.autoAddInjectedWallets&&!n.find(function(y){return y.connectors.includes(a.name)})&&g.push(Cn().create([a]));return}var C=n.find(function(y){return y.connectors.includes(a.name)});C!=null&&C.create||console.error("Can not find wallet factory for ".concat(a.name,", you should config it in WagmiWeb3ConfigProvider 'wallets'."))});var d=n.map(function(a){var C=a.connectors.map(z).filter(function(y){return!!y});return C.length===0&&!e?(console.error("Can not find connector for ".concat(a.connectors.join(","),", ignore the wallet. Please config connectors or add eip6963 config in WagmiWeb3ConfigProvider.")),null):a.create(C)}).filter(function(a){return a!==null});return[].concat(G()(d),g)},[f,n,e]),Jn=E.useMemo(function(){return h.map(function(g){var d=u==null?void 0:u.find(function(a){return a.id===g.id});return d!=null&&d.id?{id:d.id,name:d.name,icon:d.icon}:(console.error("Can not find chain ".concat(g.id,", you should config it in WagmiWeb3ConfigProvider 'assets'.")),null)}).filter(function(g){return g!==null})},[h,u]);E.useEffect(function(){var g;if(!(!W&&R)){var d=W??h[0];if(d){var a=u==null?void 0:u.find(function(C){return C.id===(d==null?void 0:d.id)});(g=a)!==null&&g!==void 0&&g.id||(a={id:d.id,name:d.name}),Y(a)}}},[W,u,h,R]);var V=R==null?void 0:R.nativeCurrency;return(0,N.jsx)(S.BQ,{locale:l,availableChains:Jn,chain:R,account:U,balance:s?{symbol:A==null?void 0:A.symbol,value:A==null?void 0:A.value,decimals:A==null?void 0:A.decimals,icon:V==null?void 0:V.icon}:void 0,availableWallets:Hn,addressPrefix:"0x",connect:function(){var g=$()(i()().mark(function d(a){var C,y,w;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,a==null||(C=(y=a).getWagmiConnector)===null||C===void 0?void 0:C.call(y);case 2:if(w=M.sent,!w&&a&&(w=z(a.name)),w){M.next=6;break}throw new Error("Can not find connector for ".concat(a==null?void 0:a.name));case 6:return M.next=8,Bn({connector:w,chainId:R==null?void 0:R.id});case 8:case"end":return M.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),disconnect:$()(i()().mark(function g(){return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ln();case 2:case"end":return a.stop()}},g)})),switchChain:function(){var g=$()(i()().mark(function d(a){return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:W?B==null||B({chainId:a.id}):Y(a);case 1:case"end":return y.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),getNFTMetadata:function(){var g=$()(i()().mark(function d(a){var C,y;return i()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return C=a.address,y=a.tokenId,T.abrupt("return",In(k,C,y,W==null?void 0:W.id));case 2:case"end":return T.stop()}},d)}));return function(d){return g.apply(this,arguments)}}(),children:I})},$n=["children","wallets","chains","ens","locale","balance","config","queryClient","eip6963"];function bn(v){var r=v.children,I=v.wallets,u=I===void 0?[]:I,n=v.chains,h=n===void 0?[]:n,f=v.ens,o=v.locale,s=v.balance,l=v.config,e=v.queryClient,P=v.eip6963,c=L()(v,$n),m=[].concat(G()(h),[b.ny]),W=E.useMemo(function(){return e??new en.S},[e]);return(0,N.jsx)(an.F,p()(p()({config:l},c),{},{children:(0,N.jsx)(rn.aH,{client:W,children:(0,N.jsx)(Pn,{locale:o,chainAssets:m,walletFactorys:u,availableChains:l.chains,availableConnectors:l.connectors,ens:f,balance:s,eip6963:P,children:r})})}))}var Rn=t(96345),An=t.n(Rn),En=t(15033),Mn=t.n(En),jn=t(21320),Z=t.n(jn),j=An()(function v(r){var I=this;Mn()(this,v),Z()(this,"connectors",[]),Z()(this,"create",function(u){var n=u==null?void 0:u.find(function(s){return s.name==="WalletConnect"}),h=u==null?void 0:u.find(function(s){return s.name===I.wallet.name}),f=function(){var s=$()(i()().mark(function l(){var e;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n==null?void 0:n.getProvider();case 2:return e=c.sent,c.abrupt("return",new Promise(function(m){e==null||e.on("display_uri",function(W){m({uri:W})})}));case 4:case"end":return c.stop()}},l)}));return function(){return s.apply(this,arguments)}}(),o=function(){var s=$()(i()().mark(function l(){var e,P;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,h==null||(e=h.getProvider)===null||e===void 0?void 0:e.call(h);case 2:return P=m.sent,m.abrupt("return",!!P);case 4:case"end":return m.stop()}},l)}));return function(){return s.apply(this,arguments)}}();return p()(p()({},I.wallet),{},{getWagmiConnector:function(){var s=$()(i()().mark(function e(){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,o();case 2:if(!c.sent){c.next=4;break}return c.abrupt("return",h);case 4:return c.abrupt("return",n);case 5:case"end":return c.stop()}},e)}));function l(){return s.apply(this,arguments)}return l}(),hasExtensionInstalled:function(){var s=$()(i()().mark(function e(){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",o());case 1:case"end":return c.stop()}},e)}));function l(){return s.apply(this,arguments)}return l}(),hasWalletReady:function(){var s=$()(i()().mark(function e(){var P;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,o();case 2:return P=m.sent,m.abrupt("return",!!(P||n));case 4:case"end":return m.stop()}},e)}));function l(){return s.apply(this,arguments)}return l}(),getQrCode:n?f:void 0})}),this.wallet=r,r.extensions&&this.connectors.push(r.name),r.app&&this.connectors.push("WalletConnect")}),Tn=function(r){return new j(p()(p()({},b.Zv),r))},Sn=["useWalletConnectOfficialModal"],Nn=function(r){var I=r||{},u=I.useWalletConnectOfficialModal,n=u===void 0?!1:u,h=L()(I,Sn);return{connectors:["WalletConnect"],create:function(o){var s=function(){var l=$()(i()().mark(function e(){var P,c;return i()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,o==null||(P=o[0])===null||P===void 0?void 0:P.getProvider();case 2:return c=W.sent,W.abrupt("return",new Promise(function(k){c==null||c.on("display_uri",function(F){k({uri:F})})}));case 4:case"end":return W.stop()}},e)}));return function(){return l.apply(this,arguments)}}();return p()(p()({},b.Tl),{},{hasWalletReady:function(){var l=$()(i()().mark(function P(){return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",!0);case 1:case"end":return m.stop()}},P)}));function e(){return l.apply(this,arguments)}return e}(),getQrCode:n?void 0:s},h)}}},kn=function(r){return{connectors:["Coinbase Wallet"],create:function(){return p()(p()({},b.p_),{},{hasWalletReady:function(){var u=$()(i()().mark(function h(){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",!0);case 1:case"end":return o.stop()}},h)}));function n(){return u.apply(this,arguments)}return n}()},r)}}},Dn=function(r){return new j(p()(p()({},b.eu),r))},On=function(r){return{connectors:["Safeheron"],create:function(u){return p()(p()({},b.OJ),{},{hasWalletReady:function(){var n=$()(i()().mark(function f(){var o;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,u==null||(o=u[0])===null||o===void 0?void 0:o.getProvider();case 2:return l.abrupt("return",!!l.sent);case 3:case"end":return l.stop()}},f)}));function h(){return n.apply(this,arguments)}return h}(),hasExtensionInstalled:function(){var n=$()(i()().mark(function f(){var o;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,u==null||(o=u[0])===null||o===void 0?void 0:o.getProvider();case 2:return l.abrupt("return",!!l.sent);case 3:case"end":return l.stop()}},f)}));function h(){return n.apply(this,arguments)}return h}()},r)}}},Qn=function(r){return new j(p()(p()({},b.tw),r))},Fn=function(r){return new j(p()(p()({},b.o4),r))}}}]);
