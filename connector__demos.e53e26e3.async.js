"use strict";(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[1832],{82026:function(L,l,t){t.r(l),t.d(l,{default:function(){return I}});var n=t(14433),c=t(39848),_=t(51990),E=t(23903);const M=(0,E.a)({id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var v=t(8851),D=t(56845),f=t(22949),d=t(63826),u=t(91240),C=t(11527),i=(0,n.QB)([_.R,M],[(0,v.I)()]),s=i.publicClient,r=i.chains,g=(0,c._g)({autoConnect:!0,publicClient:s,connectors:[new D.i({chains:r}),new f.z({chains:r,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),A=function(){return(0,C.jsx)(d.hm,{chains:r,config:g,children:(0,C.jsx)(u.wR,{children:(0,C.jsx)(u.NL,{})})})},I=A},61820:function(L,l,t){t.r(l);var n=t(91240),c=t(99661),_=t(11527),E=(0,c.Qz)({rpcs:[new c.ic({apiKey:"d0eeefc2a4da4a8ba707889259b437d6"})],wallets:[new c.AX({projectId:"c07c0051c2055890eade3556618e38a6"}),new c.Y8],chains:[c.ny]}),M=function(){return(0,_.jsx)(c.Gn,{provider:E,children:(0,_.jsx)(n.wR,{children:(0,_.jsx)(n.NL,{})})})};l.default=M},72225:function(L,l,t){t.r(l);var n=t(14433),c=t(51990),_=t(39848),E=t(8851),M=t(56845),v=t(22949),D=t(63826),f=t(91240),d=t(11527),u=(0,n.QB)([c.R],[(0,E.I)()]),C=u.publicClient,i=u.chains,s=(0,_._g)({autoConnect:!0,publicClient:C,connectors:[new M.i({chains:i}),new v.z({chains:i,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),r=function(){return(0,d.jsx)(D.hm,{ens:!0,config:s,children:(0,d.jsx)(f.wR,{children:(0,d.jsx)(f.NL,{})})})};l.default=r},37669:function(L,l,t){t.r(l);var n=t(14433),c=t(51990),_=t(39848),E=t(8851),M=t(56845),v=t(22949),D=t(63826),f=t(91240),d=t(11527),u=(0,n.QB)([c.R],[(0,E.I)()]),C=u.publicClient,i=u.chains,s=(0,_._g)({autoConnect:!0,publicClient:C,connectors:[new M.i({chains:i}),new v.z({chains:i,options:{showQrModal:!1,projectId:"c07c0051c2055890eade3556618e38a6"}})]}),r=function(){return(0,d.jsx)(D.hm,{config:s,children:(0,d.jsx)(f.wR,{children:(0,d.jsx)(f.NL,{})})})};l.default=r},94313:function(L,l,t){t.r(l);var n=t(14433),c=t(51990),_=t(39848),E=t(8851),M=t(56845),v=t(22949),D=t(63826),f=t(91240),d=t(11527),u=(0,n.QB)([c.R],[(0,E.I)()]),C=u.publicClient,i=u.chains,s=(0,_._g)({autoConnect:!0,publicClient:C,connectors:[new M.i,new v.z({chains:i,options:{projectId:"c07c0051c2055890eade3556618e38a6"}})]}),r=function(){return(0,d.jsx)(D.hm,{config:s,children:(0,d.jsx)(f.wR,{children:(0,d.jsx)(f.NL,{})})})};l.default=r},56845:function(L,l,t){t.d(l,{i:function(){return D}});var n=t(11163),c=t(80713),_=t(31043),E=t(296),M=t(56907),v,D=class extends n._{constructor({chains:f,options:d}={}){const u={name:"MetaMask",shimDisconnect:!0,getProvider(){function C(s){if(s!=null&&s.isMetaMask&&!(s.isBraveWallet&&!s._events&&!s._state)&&!s.isApexWallet&&!s.isAvalanche&&!s.isBitKeep&&!s.isBlockWallet&&!s.isCoin98&&!s.isFordefi&&!s.isMathWallet&&!(s.isOkxWallet||s.isOKExWallet)&&!(s.isOneInchIOSWallet||s.isOneInchAndroidWallet)&&!s.isOpera&&!s.isPortal&&!s.isRabby&&!s.isDefiant&&!s.isTokenPocket&&!s.isTokenary&&!s.isZeal&&!s.isZerion)return s}if(typeof window>"u")return;const i=window.ethereum;return i!=null&&i.providers?i.providers.find(C):C(i)},...d};super({chains:f,options:u}),this.id="metaMask",this.shimDisconnectKey=`${this.id}.shimDisconnect`,(0,_.Ko)(this,v,void 0),(0,_.qx)(this,v,u.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:f}={}){var d,u,C,i;try{const s=await this.getProvider();if(!s)throw new c.N;s.on&&(s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let r=null;if((0,_.ac)(this,v)&&((d=this.options)!=null&&d.shimDisconnect)&&!((u=this.storage)!=null&&u.getItem(this.shimDisconnectKey))&&(r=await this.getAccount().catch(()=>null),!!r))try{await s.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),r=await this.getAccount()}catch(O){if(this.isUserRejectedRequestError(O))throw new E.ab(O);if(O.code===new E.pT(O).code)throw O}if(!r){const I=await s.request({method:"eth_requestAccounts"});r=(0,M.K)(I[0])}let g=await this.getChainId(),A=this.isChainUnsupported(g);return f&&g!==f&&(g=(await this.switchChain(f)).id,A=this.isChainUnsupported(g)),(C=this.options)!=null&&C.shimDisconnect&&((i=this.storage)==null||i.setItem(this.shimDisconnectKey,!0)),{account:r,chain:{id:g,unsupported:A},provider:s}}catch(s){throw this.isUserRejectedRequestError(s)?new E.ab(s):s.code===-32002?new E.pT(s):s}}};v=new WeakMap},22949:function(L,l,t){t.d(l,{z:function(){return Z}});var n=t(31043),c=t(3332),_=t(56907),E=t(296),M=t(9474),v=t(86427),D=t(30460),f="eip155",d="store",u="requestedChains",C="wallet_addEthereumChain",i,s,r,g,A,I,O,z,Q,F,T,H,W,y,B,b,j,V,S,Y,Z=class extends n.wR{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),(0,n.Ko)(this,r),(0,n.Ko)(this,A),(0,n.Ko)(this,O),(0,n.Ko)(this,Q),(0,n.Ko)(this,T),(0,n.Ko)(this,W),(0,n.Ko)(this,B),(0,n.Ko)(this,j),(0,n.Ko)(this,S),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,(0,n.Ko)(this,i,void 0),(0,n.Ko)(this,s,void 0),this.onAccountsChanged=a=>{a.length===0?this.emit("disconnect"):this.emit("change",{account:(0,_.K)(a[0])})},this.onChainChanged=a=>{const p=Number(a),h=this.isChainUnsupported(p);this.emit("change",{chain:{id:p,unsupported:h}})},this.onDisconnect=()=>{(0,n.U9)(this,W,y).call(this,[]),this.emit("disconnect")},this.onDisplayUri=a=>{this.emit("message",{type:"display_uri",data:a})},this.onConnect=()=>{this.emit("connect",{})},(0,n.U9)(this,r,g).call(this)}async connect({chainId:e,pairingTopic:a}={}){var p,h,o,P,K;try{let m=e;if(!m){const R=(p=this.storage)==null?void 0:p.getItem(d),U=(P=(o=(h=R==null?void 0:R.state)==null?void 0:h.data)==null?void 0:o.chain)==null?void 0:P.id;U&&!this.isChainUnsupported(U)?m=U:m=(K=this.chains[0])==null?void 0:K.id}if(!m)throw new Error("No chains found on connector.");const w=await this.getProvider();(0,n.U9)(this,Q,F).call(this);const x=(0,n.U9)(this,O,z).call(this);if(w.session&&x&&await w.disconnect(),!w.session||x){const R=this.chains.filter(U=>U.id!==m).map(U=>U.id);this.emit("message",{type:"connecting"}),await w.connect({pairingTopic:a,chains:[m],optionalChains:R.length?R:void 0}),(0,n.U9)(this,W,y).call(this,this.chains.map(({id:U})=>U))}const N=await w.enable(),X=(0,_.K)(N[0]),G=await this.getChainId(),$=this.isChainUnsupported(G);return{account:X,chain:{id:G,unsupported:$}}}catch(m){throw/user rejected/i.test(m==null?void 0:m.message)?new E.ab(m):m}}async disconnect(){const e=await this.getProvider();try{await e.disconnect()}catch(a){if(!/No matching key/i.test(a.message))throw a}finally{(0,n.U9)(this,T,H).call(this),(0,n.U9)(this,W,y).call(this,[])}}async getAccount(){const{accounts:e}=await this.getProvider();return(0,_.K)(e[0])}async getChainId(){const{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return(0,n.ac)(this,i)||await(0,n.U9)(this,r,g).call(this),e&&await this.switchChain(e),(0,n.ac)(this,i)}async getWalletClient({chainId:e}={}){const[a,p]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),h=this.chains.find(o=>o.id===e);if(!a)throw new Error("provider is required.");return(0,M.K)({account:p,chain:h,transport:(0,v.P)(a)})}async isAuthorized(){try{const[e,a]=await Promise.all([this.getAccount(),this.getProvider()]),p=(0,n.U9)(this,O,z).call(this);if(!e)return!1;if(p&&a.session){try{await a.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){var p,h;const a=this.chains.find(o=>o.id===e);if(!a)throw new E.x3(new Error("chain not found on connector."));try{const o=await this.getProvider(),P=(0,n.U9)(this,j,V).call(this),K=(0,n.U9)(this,S,Y).call(this);if(!P.includes(e)&&K.includes(C)){await o.request({method:C,params:[{chainId:(0,D.eC)(a.id),blockExplorerUrls:[(h=(p=a.blockExplorers)==null?void 0:p.default)==null?void 0:h.url],chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[...a.rpcUrls.default.http]}]});const w=(0,n.U9)(this,B,b).call(this);w.push(e),(0,n.U9)(this,W,y).call(this,w)}return await o.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,D.eC)(e)}]}),a}catch(o){const P=typeof o=="string"?o:o==null?void 0:o.message;throw/user rejected request/i.test(P)?new E.ab(o):new E.x3(o)}}};i=new WeakMap,s=new WeakMap,r=new WeakSet,g=async function(){return!(0,n.ac)(this,s)&&typeof window<"u"&&(0,n.qx)(this,s,(0,n.U9)(this,A,I).call(this)),(0,n.ac)(this,s)},A=new WeakSet,I=async function(){const{EthereumProvider:e,OPTIONAL_EVENTS:a,OPTIONAL_METHODS:p}=await t.e(5217).then(t.bind(t,85217)),[h,...o]=this.chains.map(({id:P})=>P);if(h){const{projectId:P,showQrModal:K=!0,qrModalOptions:m,metadata:w,relayUrl:x}=this.options;(0,n.qx)(this,i,await e.init({showQrModal:K,qrModalOptions:m,projectId:P,optionalMethods:p,optionalEvents:a,chains:[h],optionalChains:o.length?o:void 0,rpcMap:Object.fromEntries(this.chains.map(N=>[N.id,N.rpcUrls.default.http[0]])),metadata:w,relayUrl:x}))}},O=new WeakSet,z=function(){if((0,n.U9)(this,S,Y).call(this).includes(C)||!this.options.isNewChainsStale)return!1;const a=(0,n.U9)(this,B,b).call(this),p=this.chains.map(({id:o})=>o),h=(0,n.U9)(this,j,V).call(this);return h.length&&!h.some(o=>p.includes(o))?!1:!p.every(o=>a.includes(o))},Q=new WeakSet,F=function(){(0,n.ac)(this,i)&&((0,n.U9)(this,T,H).call(this),(0,n.ac)(this,i).on("accountsChanged",this.onAccountsChanged),(0,n.ac)(this,i).on("chainChanged",this.onChainChanged),(0,n.ac)(this,i).on("disconnect",this.onDisconnect),(0,n.ac)(this,i).on("session_delete",this.onDisconnect),(0,n.ac)(this,i).on("display_uri",this.onDisplayUri),(0,n.ac)(this,i).on("connect",this.onConnect))},T=new WeakSet,H=function(){(0,n.ac)(this,i)&&((0,n.ac)(this,i).removeListener("accountsChanged",this.onAccountsChanged),(0,n.ac)(this,i).removeListener("chainChanged",this.onChainChanged),(0,n.ac)(this,i).removeListener("disconnect",this.onDisconnect),(0,n.ac)(this,i).removeListener("session_delete",this.onDisconnect),(0,n.ac)(this,i).removeListener("display_uri",this.onDisplayUri),(0,n.ac)(this,i).removeListener("connect",this.onConnect))},W=new WeakSet,y=function(e){var a;(a=this.storage)==null||a.setItem(u,e)},B=new WeakSet,b=function(){var e;return((e=this.storage)==null?void 0:e.getItem(u))??[]},j=new WeakSet,V=function(){var h,o,P;if(!(0,n.ac)(this,i))return[];const e=(h=(0,n.ac)(this,i).session)==null?void 0:h.namespaces;return e?((P=(o=(0,c.fK)(e)[f])==null?void 0:o.chains)==null?void 0:P.map(K=>parseInt(K.split(":")[1]||"")))??[]:[]},S=new WeakSet,Y=function(){var h,o;if(!(0,n.ac)(this,i))return[];const e=(h=(0,n.ac)(this,i).session)==null?void 0:h.namespaces;return e?((o=(0,c.fK)(e)[f])==null?void 0:o.methods)??[]:[]}},8851:function(L,l,t){t.d(l,{I:function(){return n}});function n(){return function(c){return c.rpcUrls.public.http[0]?{chain:c,rpcUrls:c.rpcUrls.public}:null}}}}]);
